var rl=Object.defineProperty;var Ba=Y=>{throw TypeError(Y)};var al=(Y,T,k)=>T in Y?rl(Y,T,{enumerable:!0,configurable:!0,writable:!0,value:k}):Y[T]=k;var ol=(Y,T)=>()=>(T||Y((T={exports:{}}).exports,T),T.exports);var bt=(Y,T,k)=>al(Y,typeof T!="symbol"?T+"":T,k),Fa=(Y,T,k)=>T.has(Y)||Ba("Cannot "+k);var Nn=(Y,T,k)=>(Fa(Y,T,"read from private field"),k?k.call(Y):T.get(Y)),ta=(Y,T,k)=>T.has(Y)?Ba("Cannot add the same private member more than once"):T instanceof WeakSet?T.add(Y):T.set(Y,k),ia=(Y,T,k,Z)=>(Fa(Y,T,"write to private field"),Z?Z.call(Y,k):T.set(Y,k),k);var ll=ol((exports,module)=>{(function(){const T=document.createElement("link").relList;if(T&&T.supports&&T.supports("modulepreload"))return;for(const ee of document.querySelectorAll('link[rel="modulepreload"]'))Z(ee);new MutationObserver(ee=>{for(const te of ee)if(te.type==="childList")for(const ne of te.addedNodes)ne.tagName==="LINK"&&ne.rel==="modulepreload"&&Z(ne)}).observe(document,{childList:!0,subtree:!0});function k(ee){const te={};return ee.integrity&&(te.integrity=ee.integrity),ee.referrerPolicy&&(te.referrerPolicy=ee.referrerPolicy),ee.crossOrigin==="use-credentials"?te.credentials="include":ee.crossOrigin==="anonymous"?te.credentials="omit":te.credentials="same-origin",te}function Z(ee){if(ee.ep)return;ee.ep=!0;const te=k(ee);fetch(ee.href,te)}})();const DEV=!1;var is_array=Array.isArray,index_of=Array.prototype.indexOf,array_from=Array.from,define_property=Object.defineProperty,get_descriptor=Object.getOwnPropertyDescriptor,get_descriptors=Object.getOwnPropertyDescriptors,object_prototype=Object.prototype,array_prototype=Array.prototype,get_prototype_of=Object.getPrototypeOf;function is_function(Y){return typeof Y=="function"}const noop$3=()=>{};function run(Y){return Y()}function run_all(Y){for(var T=0;T<Y.length;T++)Y[T]()}const DERIVED=2,EFFECT=4,RENDER_EFFECT=8,BLOCK_EFFECT=16,BRANCH_EFFECT=32,ROOT_EFFECT=64,BOUNDARY_EFFECT=128,UNOWNED=256,DISCONNECTED=512,CLEAN=1024,DIRTY=2048,MAYBE_DIRTY=4096,INERT=8192,DESTROYED=16384,EFFECT_RAN=32768,EFFECT_TRANSPARENT=65536,LEGACY_DERIVED_PROP=1<<17,HEAD_EFFECT=1<<19,EFFECT_HAS_DERIVED=1<<20,STATE_SYMBOL=Symbol("$state"),LEGACY_PROPS=Symbol("legacy props"),LOADING_ATTR_SYMBOL=Symbol("");function equals(Y){return Y===this.v}function safe_not_equal(Y,T){return Y!=Y?T==T:Y!==T||Y!==null&&typeof Y=="object"||typeof Y=="function"}function not_equal(Y,T){return Y!==T}function safe_equals(Y){return!safe_not_equal(Y,this.v)}function effect_in_teardown(Y){throw new Error("https://svelte.dev/e/effect_in_teardown")}function effect_in_unowned_derived(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function effect_orphan(Y){throw new Error("https://svelte.dev/e/effect_orphan")}function effect_update_depth_exceeded(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function lifecycle_legacy_only(Y){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function props_invalid_value(Y){throw new Error("https://svelte.dev/e/props_invalid_value")}function state_descriptors_fixed(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function state_prototype_fixed(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function state_unsafe_local_read(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function state_unsafe_mutation(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let legacy_mode_flag=!1,tracing_mode_flag=!1;function enable_legacy_mode_flag(){legacy_mode_flag=!0}const EACH_ITEM_REACTIVE=1,EACH_INDEX_REACTIVE=2,EACH_IS_CONTROLLED=4,EACH_IS_ANIMATED=8,EACH_ITEM_IMMUTABLE=16,PROPS_IS_IMMUTABLE=1,PROPS_IS_RUNES=2,PROPS_IS_UPDATED=4,PROPS_IS_BINDABLE=8,PROPS_IS_LAZY_INITIAL=16,TRANSITION_GLOBAL=4,TEMPLATE_FRAGMENT=1,TEMPLATE_USE_IMPORT_NODE=2,UNINITIALIZED=Symbol(),NAMESPACE_HTML="http://www.w3.org/1999/xhtml",NAMESPACE_SVG="http://www.w3.org/2000/svg",empty=[];function snapshot(Y,T=!1){return clone$2(Y,new Map,"",empty)}function clone$2(Y,T,k,Z,ee=null){if(typeof Y=="object"&&Y!==null){var te=T.get(Y);if(te!==void 0)return te;if(Y instanceof Map)return new Map(Y);if(Y instanceof Set)return new Set(Y);if(is_array(Y)){var ne=Array(Y.length);T.set(Y,ne),ee!==null&&T.set(ee,ne);for(var me=0;me<Y.length;me+=1){var Ve=Y[me];me in Y&&(ne[me]=clone$2(Ve,T,k,Z))}return ne}if(get_prototype_of(Y)===object_prototype){ne={},T.set(Y,ne),ee!==null&&T.set(ee,ne);for(var Ye in Y)ne[Ye]=clone$2(Y[Ye],T,k,Z);return ne}if(Y instanceof Date)return structuredClone(Y);if(typeof Y.toJSON=="function")return clone$2(Y.toJSON(),T,k,Z,Y)}if(Y instanceof EventTarget)return Y;try{return structuredClone(Y)}catch{return Y}}function lifecycle_outside_component(Y){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let component_context=null;function set_component_context(Y){component_context=Y}function getContext(Y){return get_or_init_context_map().get(Y)}function setContext(Y,T){return get_or_init_context_map().set(Y,T),T}function push(Y,T=!1,k){var Z=component_context={p:component_context,c:null,d:!1,e:null,m:!1,s:Y,x:null,l:null};legacy_mode_flag&&!T&&(component_context.l={s:null,u:null,r1:[],r2:source(!1)}),teardown(()=>{Z.d=!0})}function pop(Y){const T=component_context;if(T!==null){const ne=T.e;if(ne!==null){var k=active_effect,Z=active_reaction;T.e=null;try{for(var ee=0;ee<ne.length;ee++){var te=ne[ee];set_active_effect(te.effect),set_active_reaction(te.reaction),effect$1(te.fn)}}finally{set_active_effect(k),set_active_reaction(Z)}}component_context=T.p,T.m=!0}return{}}function is_runes(){return!legacy_mode_flag||component_context!==null&&component_context.l===null}function get_or_init_context_map(Y){return component_context===null&&lifecycle_outside_component(),component_context.c??(component_context.c=new Map(get_parent_context(component_context)||void 0))}function get_parent_context(Y){let T=Y.p;for(;T!==null;){const k=T.c;if(k!==null)return k;T=T.p}return null}const old_values=new Map;function source(Y,T){var k={f:0,v:Y,reactions:null,equals,rv:0,wv:0};return k}function state(Y){return push_derived_source(source(Y))}function mutable_source(Y,T=!1){var Z;const k=source(Y);return T||(k.equals=safe_equals),legacy_mode_flag&&component_context!==null&&component_context.l!==null&&((Z=component_context.l).s??(Z.s=[])).push(k),k}function mutable_state(Y,T=!1){return push_derived_source(mutable_source(Y,T))}function push_derived_source(Y){return active_reaction!==null&&!untracking&&(active_reaction.f&DERIVED)!==0&&(derived_sources===null?set_derived_sources([Y]):derived_sources.push(Y)),Y}function set(Y,T){return active_reaction!==null&&!untracking&&is_runes()&&(active_reaction.f&(DERIVED|BLOCK_EFFECT))!==0&&(derived_sources===null||!derived_sources.includes(Y))&&state_unsafe_mutation(),internal_set(Y,T)}function internal_set(Y,T){if(!Y.equals(T)){var k=Y.v;is_destroying_effect?old_values.set(Y,T):old_values.set(Y,k),Y.v=T,Y.wv=increment_write_version(),mark_reactions(Y,DIRTY),is_runes()&&active_effect!==null&&(active_effect.f&CLEAN)!==0&&(active_effect.f&(BRANCH_EFFECT|ROOT_EFFECT))===0&&(untracked_writes===null?set_untracked_writes([Y]):untracked_writes.push(Y))}return T}function update(Y,T=1){var k=get$2(Y),Z=T===1?k++:k--;return set(Y,k),Z}function mark_reactions(Y,T){var k=Y.reactions;if(k!==null)for(var Z=is_runes(),ee=k.length,te=0;te<ee;te++){var ne=k[te],me=ne.f;(me&DIRTY)===0&&(!Z&&ne===active_effect||(set_signal_status(ne,T),(me&(CLEAN|UNOWNED))!==0&&((me&DERIVED)!==0?mark_reactions(ne,MAYBE_DIRTY):schedule_effect(ne))))}}let hydrating=!1;function proxy(Y,T=null,k){if(typeof Y!="object"||Y===null||STATE_SYMBOL in Y)return Y;const Z=get_prototype_of(Y);if(Z!==object_prototype&&Z!==array_prototype)return Y;var ee=new Map,te=is_array(Y),ne=source(0);te&&ee.set("length",source(Y.length));var me;return new Proxy(Y,{defineProperty(Ve,Ye,et){(!("value"in et)||et.configurable===!1||et.enumerable===!1||et.writable===!1)&&state_descriptors_fixed();var tt=ee.get(Ye);return tt===void 0?(tt=source(et.value),ee.set(Ye,tt)):set(tt,proxy(et.value,me)),!0},deleteProperty(Ve,Ye){var et=ee.get(Ye);if(et===void 0)Ye in Ve&&ee.set(Ye,source(UNINITIALIZED));else{if(te&&typeof Ye=="string"){var tt=ee.get("length"),it=Number(Ye);Number.isInteger(it)&&it<tt.v&&set(tt,it)}set(et,UNINITIALIZED),update_version(ne)}return!0},get(Ve,Ye,et){var nt;if(Ye===STATE_SYMBOL)return Y;var tt=ee.get(Ye),it=Ye in Ve;if(tt===void 0&&(!it||(nt=get_descriptor(Ve,Ye))!=null&&nt.writable)&&(tt=source(proxy(it?Ve[Ye]:UNINITIALIZED,me)),ee.set(Ye,tt)),tt!==void 0){var st=get$2(tt);return st===UNINITIALIZED?void 0:st}return Reflect.get(Ve,Ye,et)},getOwnPropertyDescriptor(Ve,Ye){var et=Reflect.getOwnPropertyDescriptor(Ve,Ye);if(et&&"value"in et){var tt=ee.get(Ye);tt&&(et.value=get$2(tt))}else if(et===void 0){var it=ee.get(Ye),st=it==null?void 0:it.v;if(it!==void 0&&st!==UNINITIALIZED)return{enumerable:!0,configurable:!0,value:st,writable:!0}}return et},has(Ve,Ye){var st;if(Ye===STATE_SYMBOL)return!0;var et=ee.get(Ye),tt=et!==void 0&&et.v!==UNINITIALIZED||Reflect.has(Ve,Ye);if(et!==void 0||active_effect!==null&&(!tt||(st=get_descriptor(Ve,Ye))!=null&&st.writable)){et===void 0&&(et=source(tt?proxy(Ve[Ye],me):UNINITIALIZED),ee.set(Ye,et));var it=get$2(et);if(it===UNINITIALIZED)return!1}return tt},set(Ve,Ye,et,tt){var dt;var it=ee.get(Ye),st=Ye in Ve;if(te&&Ye==="length")for(var nt=et;nt<it.v;nt+=1){var rt=ee.get(nt+"");rt!==void 0?set(rt,UNINITIALIZED):nt in Ve&&(rt=source(UNINITIALIZED),ee.set(nt+"",rt))}it===void 0?(!st||(dt=get_descriptor(Ve,Ye))!=null&&dt.writable)&&(it=source(void 0),set(it,proxy(et,me)),ee.set(Ye,it)):(st=it.v!==UNINITIALIZED,set(it,proxy(et,me)));var lt=Reflect.getOwnPropertyDescriptor(Ve,Ye);if(lt!=null&&lt.set&&lt.set.call(tt,et),!st){if(te&&typeof Ye=="string"){var ot=ee.get("length"),ht=Number(Ye);Number.isInteger(ht)&&ht>=ot.v&&set(ot,ht+1)}update_version(ne)}return!0},ownKeys(Ve){get$2(ne);var Ye=Reflect.ownKeys(Ve).filter(it=>{var st=ee.get(it);return st===void 0||st.v!==UNINITIALIZED});for(var[et,tt]of ee)tt.v!==UNINITIALIZED&&!(et in Ve)&&Ye.push(et);return Ye},setPrototypeOf(){state_prototype_fixed()}})}function update_version(Y,T=1){set(Y,Y.v+T)}function get_proxied_value(Y){return Y!==null&&typeof Y=="object"&&STATE_SYMBOL in Y?Y[STATE_SYMBOL]:Y}function is$1(Y,T){return Object.is(get_proxied_value(Y),get_proxied_value(T))}var $window,$document,is_firefox,first_child_getter,next_sibling_getter;function init_operations(){if($window===void 0){$window=window,$document=document,is_firefox=/Firefox/.test(navigator.userAgent);var Y=Element.prototype,T=Node.prototype;first_child_getter=get_descriptor(T,"firstChild").get,next_sibling_getter=get_descriptor(T,"nextSibling").get,Y.__click=void 0,Y.__className=void 0,Y.__attributes=null,Y.__style=void 0,Y.__e=void 0,Text.prototype.__t=void 0}}function create_text(Y=""){return document.createTextNode(Y)}function get_first_child(Y){return first_child_getter.call(Y)}function get_next_sibling(Y){return next_sibling_getter.call(Y)}function child(Y,T){return get_first_child(Y)}function first_child(Y,T){{var k=get_first_child(Y);return k instanceof Comment&&k.data===""?get_next_sibling(k):k}}function sibling(Y,T=1,k=!1){let Z=Y;for(;T--;)Z=get_next_sibling(Z);return Z}function clear_text_content(Y){Y.textContent=""}function derived$1(Y){var T=DERIVED|DIRTY,k=active_reaction!==null&&(active_reaction.f&DERIVED)!==0?active_reaction:null;return active_effect===null||k!==null&&(k.f&UNOWNED)!==0?T|=UNOWNED:active_effect.f|=EFFECT_HAS_DERIVED,{ctx:component_context,deps:null,effects:null,equals,f:T,fn:Y,reactions:null,rv:0,v:null,wv:0,parent:k??active_effect}}function derived_safe_equal(Y){const T=derived$1(Y);return T.equals=safe_equals,T}function destroy_derived_effects(Y){var T=Y.effects;if(T!==null){Y.effects=null;for(var k=0;k<T.length;k+=1)destroy_effect(T[k])}}function get_derived_parent_effect(Y){for(var T=Y.parent;T!==null;){if((T.f&DERIVED)===0)return T;T=T.parent}return null}function execute_derived(Y){var T,k=active_effect;set_active_effect(get_derived_parent_effect(Y));try{destroy_derived_effects(Y),T=update_reaction(Y)}finally{set_active_effect(k)}return T}function update_derived(Y){var T=execute_derived(Y),k=(skip_reaction||(Y.f&UNOWNED)!==0)&&Y.deps!==null?MAYBE_DIRTY:CLEAN;set_signal_status(Y,k),Y.equals(T)||(Y.v=T,Y.wv=increment_write_version())}function validate_effect(Y){active_effect===null&&active_reaction===null&&effect_orphan(),active_reaction!==null&&(active_reaction.f&UNOWNED)!==0&&active_effect===null&&effect_in_unowned_derived(),is_destroying_effect&&effect_in_teardown()}function push_effect(Y,T){var k=T.last;k===null?T.last=T.first=Y:(k.next=Y,Y.prev=k,T.last=Y)}function create_effect(Y,T,k,Z=!0){var ee=active_effect,te={ctx:component_context,deps:null,nodes_start:null,nodes_end:null,f:Y|DIRTY,first:null,fn:T,last:null,next:null,parent:ee,prev:null,teardown:null,transitions:null,wv:0};if(k)try{update_effect(te),te.f|=EFFECT_RAN}catch(Ve){throw destroy_effect(te),Ve}else T!==null&&schedule_effect(te);var ne=k&&te.deps===null&&te.first===null&&te.nodes_start===null&&te.teardown===null&&(te.f&(EFFECT_HAS_DERIVED|BOUNDARY_EFFECT))===0;if(!ne&&Z&&(ee!==null&&push_effect(te,ee),active_reaction!==null&&(active_reaction.f&DERIVED)!==0)){var me=active_reaction;(me.effects??(me.effects=[])).push(te)}return te}function teardown(Y){const T=create_effect(RENDER_EFFECT,null,!1);return set_signal_status(T,CLEAN),T.teardown=Y,T}function user_effect(Y){validate_effect();var T=active_effect!==null&&(active_effect.f&BRANCH_EFFECT)!==0&&component_context!==null&&!component_context.m;if(T){var k=component_context;(k.e??(k.e=[])).push({fn:Y,effect:active_effect,reaction:active_reaction})}else{var Z=effect$1(Y);return Z}}function user_pre_effect(Y){return validate_effect(),render_effect(Y)}function component_root(Y){const T=create_effect(ROOT_EFFECT,Y,!0);return(k={})=>new Promise(Z=>{k.outro?pause_effect(T,()=>{destroy_effect(T),Z(void 0)}):(destroy_effect(T),Z(void 0))})}function effect$1(Y){return create_effect(EFFECT,Y,!1)}function legacy_pre_effect(Y,T){var k=component_context,Z={effect:null,ran:!1};k.l.r1.push(Z),Z.effect=render_effect(()=>{Y(),!Z.ran&&(Z.ran=!0,set(k.l.r2,!0),untrack(T))})}function legacy_pre_effect_reset(){var Y=component_context;render_effect(()=>{if(get$2(Y.l.r2)){for(var T of Y.l.r1){var k=T.effect;(k.f&CLEAN)!==0&&set_signal_status(k,MAYBE_DIRTY),check_dirtiness(k)&&update_effect(k),T.ran=!1}Y.l.r2.v=!1}})}function render_effect(Y){return create_effect(RENDER_EFFECT,Y,!0)}function template_effect(Y,T=[],k=derived$1){const Z=T.map(k);return block(()=>Y(...Z.map(get$2)))}function block(Y,T=0){return create_effect(RENDER_EFFECT|BLOCK_EFFECT|T,Y,!0)}function branch(Y,T=!0){return create_effect(RENDER_EFFECT|BRANCH_EFFECT,Y,!0,T)}function execute_effect_teardown(Y){var T=Y.teardown;if(T!==null){const k=is_destroying_effect,Z=active_reaction;set_is_destroying_effect(!0),set_active_reaction(null);try{T.call(null)}finally{set_is_destroying_effect(k),set_active_reaction(Z)}}}function destroy_effect_children(Y,T=!1){var k=Y.first;for(Y.first=Y.last=null;k!==null;){var Z=k.next;(k.f&ROOT_EFFECT)!==0?k.parent=null:destroy_effect(k,T),k=Z}}function destroy_block_effect_children(Y){for(var T=Y.first;T!==null;){var k=T.next;(T.f&BRANCH_EFFECT)===0&&destroy_effect(T),T=k}}function destroy_effect(Y,T=!0){var k=!1;if((T||(Y.f&HEAD_EFFECT)!==0)&&Y.nodes_start!==null){for(var Z=Y.nodes_start,ee=Y.nodes_end;Z!==null;){var te=Z===ee?null:get_next_sibling(Z);Z.remove(),Z=te}k=!0}destroy_effect_children(Y,T&&!k),remove_reactions(Y,0),set_signal_status(Y,DESTROYED);var ne=Y.transitions;if(ne!==null)for(const Ve of ne)Ve.stop();execute_effect_teardown(Y);var me=Y.parent;me!==null&&me.first!==null&&unlink_effect(Y),Y.next=Y.prev=Y.teardown=Y.ctx=Y.deps=Y.fn=Y.nodes_start=Y.nodes_end=null}function unlink_effect(Y){var T=Y.parent,k=Y.prev,Z=Y.next;k!==null&&(k.next=Z),Z!==null&&(Z.prev=k),T!==null&&(T.first===Y&&(T.first=Z),T.last===Y&&(T.last=k))}function pause_effect(Y,T){var k=[];pause_children(Y,k,!0),run_out_transitions(k,()=>{destroy_effect(Y),T&&T()})}function run_out_transitions(Y,T){var k=Y.length;if(k>0){var Z=()=>--k||T();for(var ee of Y)ee.out(Z)}else T()}function pause_children(Y,T,k){if((Y.f&INERT)===0){if(Y.f^=INERT,Y.transitions!==null)for(const ne of Y.transitions)(ne.is_global||k)&&T.push(ne);for(var Z=Y.first;Z!==null;){var ee=Z.next,te=(Z.f&EFFECT_TRANSPARENT)!==0||(Z.f&BRANCH_EFFECT)!==0;pause_children(Z,T,te?k:!1),Z=ee}}}function resume_effect(Y){resume_children(Y,!0)}function resume_children(Y,T){if((Y.f&INERT)!==0){Y.f^=INERT,(Y.f&CLEAN)===0&&(Y.f^=CLEAN),check_dirtiness(Y)&&(set_signal_status(Y,DIRTY),schedule_effect(Y));for(var k=Y.first;k!==null;){var Z=k.next,ee=(k.f&EFFECT_TRANSPARENT)!==0||(k.f&BRANCH_EFFECT)!==0;resume_children(k,ee?T:!1),k=Z}if(Y.transitions!==null)for(const te of Y.transitions)(te.is_global||T)&&te.in()}}let micro_tasks=[],idle_tasks=[];function run_micro_tasks(){var Y=micro_tasks;micro_tasks=[],run_all(Y)}function run_idle_tasks(){var Y=idle_tasks;idle_tasks=[],run_all(Y)}function queue_micro_task(Y){micro_tasks.length===0&&queueMicrotask(run_micro_tasks),micro_tasks.push(Y)}function flush_tasks(){micro_tasks.length>0&&run_micro_tasks(),idle_tasks.length>0&&run_idle_tasks()}let is_throwing_error=!1,is_flushing=!1,last_scheduled_effect=null,is_updating_effect=!1,is_destroying_effect=!1;function set_is_destroying_effect(Y){is_destroying_effect=Y}let queued_root_effects=[],dev_effect_stack=[],active_reaction=null,untracking=!1;function set_active_reaction(Y){active_reaction=Y}let active_effect=null;function set_active_effect(Y){active_effect=Y}let derived_sources=null;function set_derived_sources(Y){derived_sources=Y}let new_deps=null,skipped_deps=0,untracked_writes=null;function set_untracked_writes(Y){untracked_writes=Y}let write_version=1,read_version=0,skip_reaction=!1;function increment_write_version(){return++write_version}function check_dirtiness(Y){var tt;var T=Y.f;if((T&DIRTY)!==0)return!0;if((T&MAYBE_DIRTY)!==0){var k=Y.deps,Z=(T&UNOWNED)!==0;if(k!==null){var ee,te,ne=(T&DISCONNECTED)!==0,me=Z&&active_effect!==null&&!skip_reaction,Ve=k.length;if(ne||me){var Ye=Y,et=Ye.parent;for(ee=0;ee<Ve;ee++)te=k[ee],(ne||!((tt=te==null?void 0:te.reactions)!=null&&tt.includes(Ye)))&&(te.reactions??(te.reactions=[])).push(Ye);ne&&(Ye.f^=DISCONNECTED),me&&et!==null&&(et.f&UNOWNED)===0&&(Ye.f^=UNOWNED)}for(ee=0;ee<Ve;ee++)if(te=k[ee],check_dirtiness(te)&&update_derived(te),te.wv>Y.wv)return!0}(!Z||active_effect!==null&&!skip_reaction)&&set_signal_status(Y,CLEAN)}return!1}function propagate_error(Y,T){for(var k=T;k!==null;){if((k.f&BOUNDARY_EFFECT)!==0)try{k.fn(Y);return}catch{k.f^=BOUNDARY_EFFECT}k=k.parent}throw is_throwing_error=!1,Y}function should_rethrow_error(Y){return(Y.f&DESTROYED)===0&&(Y.parent===null||(Y.parent.f&BOUNDARY_EFFECT)===0)}function handle_error(Y,T,k,Z){if(is_throwing_error){if(k===null&&(is_throwing_error=!1),should_rethrow_error(T))throw Y;return}k!==null&&(is_throwing_error=!0);{propagate_error(Y,T);return}}function schedule_possible_effect_self_invalidation(Y,T,k=!0){var Z=Y.reactions;if(Z!==null)for(var ee=0;ee<Z.length;ee++){var te=Z[ee];(te.f&DERIVED)!==0?schedule_possible_effect_self_invalidation(te,T,!1):T===te&&(k?set_signal_status(te,DIRTY):(te.f&CLEAN)!==0&&set_signal_status(te,MAYBE_DIRTY),schedule_effect(te))}}function update_reaction(Y){var st;var T=new_deps,k=skipped_deps,Z=untracked_writes,ee=active_reaction,te=skip_reaction,ne=derived_sources,me=component_context,Ve=untracking,Ye=Y.f;new_deps=null,skipped_deps=0,untracked_writes=null,skip_reaction=(Ye&UNOWNED)!==0&&(untracking||!is_updating_effect||active_reaction===null),active_reaction=(Ye&(BRANCH_EFFECT|ROOT_EFFECT))===0?Y:null,derived_sources=null,set_component_context(Y.ctx),untracking=!1,read_version++;try{var et=(0,Y.fn)(),tt=Y.deps;if(new_deps!==null){var it;if(remove_reactions(Y,skipped_deps),tt!==null&&skipped_deps>0)for(tt.length=skipped_deps+new_deps.length,it=0;it<new_deps.length;it++)tt[skipped_deps+it]=new_deps[it];else Y.deps=tt=new_deps;if(!skip_reaction)for(it=skipped_deps;it<tt.length;it++)((st=tt[it]).reactions??(st.reactions=[])).push(Y)}else tt!==null&&skipped_deps<tt.length&&(remove_reactions(Y,skipped_deps),tt.length=skipped_deps);if(is_runes()&&untracked_writes!==null&&!untracking&&tt!==null&&(Y.f&(DERIVED|MAYBE_DIRTY|DIRTY))===0)for(it=0;it<untracked_writes.length;it++)schedule_possible_effect_self_invalidation(untracked_writes[it],Y);return ee!==null&&read_version++,et}finally{new_deps=T,skipped_deps=k,untracked_writes=Z,active_reaction=ee,skip_reaction=te,derived_sources=ne,set_component_context(me),untracking=Ve}}function remove_reaction(Y,T){let k=T.reactions;if(k!==null){var Z=index_of.call(k,Y);if(Z!==-1){var ee=k.length-1;ee===0?k=T.reactions=null:(k[Z]=k[ee],k.pop())}}k===null&&(T.f&DERIVED)!==0&&(new_deps===null||!new_deps.includes(T))&&(set_signal_status(T,MAYBE_DIRTY),(T.f&(UNOWNED|DISCONNECTED))===0&&(T.f^=DISCONNECTED),destroy_derived_effects(T),remove_reactions(T,0))}function remove_reactions(Y,T){var k=Y.deps;if(k!==null)for(var Z=T;Z<k.length;Z++)remove_reaction(Y,k[Z])}function update_effect(Y){var T=Y.f;if((T&DESTROYED)===0){set_signal_status(Y,CLEAN);var k=active_effect,Z=component_context,ee=is_updating_effect;active_effect=Y,is_updating_effect=!0;try{(T&BLOCK_EFFECT)!==0?destroy_block_effect_children(Y):destroy_effect_children(Y),execute_effect_teardown(Y);var te=update_reaction(Y);Y.teardown=typeof te=="function"?te:null,Y.wv=write_version;var ne=Y.deps,me;DEV&&tracing_mode_flag&&Y.f&DIRTY}catch(Ve){handle_error(Ve,Y,k,Z||Y.ctx)}finally{is_updating_effect=ee,active_effect=k}}}function infinite_loop_guard(){try{effect_update_depth_exceeded()}catch(Y){if(last_scheduled_effect!==null)handle_error(Y,last_scheduled_effect,null);else throw Y}}function flush_queued_root_effects(){var Y=is_updating_effect;try{var T=0;for(is_updating_effect=!0;queued_root_effects.length>0;){T++>1e3&&infinite_loop_guard();var k=queued_root_effects,Z=k.length;queued_root_effects=[];for(var ee=0;ee<Z;ee++){var te=process_effects(k[ee]);flush_queued_effects(te)}}}finally{is_flushing=!1,is_updating_effect=Y,last_scheduled_effect=null,old_values.clear()}}function flush_queued_effects(Y){var T=Y.length;if(T!==0)for(var k=0;k<T;k++){var Z=Y[k];if((Z.f&(DESTROYED|INERT))===0)try{check_dirtiness(Z)&&(update_effect(Z),Z.deps===null&&Z.first===null&&Z.nodes_start===null&&(Z.teardown===null?unlink_effect(Z):Z.fn=null))}catch(ee){handle_error(ee,Z,null,Z.ctx)}}}function schedule_effect(Y){is_flushing||(is_flushing=!0,queueMicrotask(flush_queued_root_effects));for(var T=last_scheduled_effect=Y;T.parent!==null;){T=T.parent;var k=T.f;if((k&(ROOT_EFFECT|BRANCH_EFFECT))!==0){if((k&CLEAN)===0)return;T.f^=CLEAN}}queued_root_effects.push(T)}function process_effects(Y){for(var T=[],k=Y;k!==null;){var Z=k.f,ee=(Z&(BRANCH_EFFECT|ROOT_EFFECT))!==0,te=ee&&(Z&CLEAN)!==0;if(!te&&(Z&INERT)===0){if((Z&EFFECT)!==0)T.push(k);else if(ee)k.f^=CLEAN;else{var ne=active_reaction;try{active_reaction=k,check_dirtiness(k)&&update_effect(k)}catch(Ye){handle_error(Ye,k,null,k.ctx)}finally{active_reaction=ne}}var me=k.first;if(me!==null){k=me;continue}}var Ve=k.parent;for(k=k.next;k===null&&Ve!==null;)k=Ve.next,Ve=Ve.parent}return T}function flushSync(Y){var T;for(flush_tasks();queued_root_effects.length>0;)is_flushing=!0,flush_queued_root_effects(),flush_tasks();return T}async function tick(){await Promise.resolve(),flushSync()}function get$2(Y){var T=Y.f,k=(T&DERIVED)!==0;if(active_reaction!==null&&!untracking){derived_sources!==null&&derived_sources.includes(Y)&&state_unsafe_local_read();var Z=active_reaction.deps;Y.rv<read_version&&(Y.rv=read_version,new_deps===null&&Z!==null&&Z[skipped_deps]===Y?skipped_deps++:new_deps===null?new_deps=[Y]:(!skip_reaction||!new_deps.includes(Y))&&new_deps.push(Y))}else if(k&&Y.deps===null&&Y.effects===null){var ee=Y,te=ee.parent;te!==null&&(te.f&UNOWNED)===0&&(ee.f^=UNOWNED)}return k&&(ee=Y,check_dirtiness(ee)&&update_derived(ee)),is_destroying_effect&&old_values.has(Y)?old_values.get(Y):Y.v}function untrack(Y){var T=untracking;try{return untracking=!0,Y()}finally{untracking=T}}const STATUS_MASK=-7169;function set_signal_status(Y,T){Y.f=Y.f&STATUS_MASK|T}function exclude_from_object(Y,T){var k={};for(var Z in Y)T.includes(Z)||(k[Z]=Y[Z]);return k}function deep_read_state(Y){if(!(typeof Y!="object"||!Y||Y instanceof EventTarget)){if(STATE_SYMBOL in Y)deep_read(Y);else if(!Array.isArray(Y))for(let T in Y){const k=Y[T];typeof k=="object"&&k&&STATE_SYMBOL in k&&deep_read(k)}}}function deep_read(Y,T=new Set){if(typeof Y=="object"&&Y!==null&&!(Y instanceof EventTarget)&&!T.has(Y)){T.add(Y),Y instanceof Date&&Y.getTime();for(let Z in Y)try{deep_read(Y[Z],T)}catch{}const k=get_prototype_of(Y);if(k!==Object.prototype&&k!==Array.prototype&&k!==Map.prototype&&k!==Set.prototype&&k!==Date.prototype){const Z=get_descriptors(k);for(let ee in Z){const te=Z[ee].get;if(te)try{te.call(Y)}catch{}}}}}function is_capture_event(Y){return Y.endsWith("capture")&&Y!=="gotpointercapture"&&Y!=="lostpointercapture"}const DELEGATED_EVENTS=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function is_delegated(Y){return DELEGATED_EVENTS.includes(Y)}const ATTRIBUTE_ALIASES={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function normalize_attribute(Y){return Y=Y.toLowerCase(),ATTRIBUTE_ALIASES[Y]??Y}const PASSIVE_EVENTS=["touchstart","touchmove"];function is_passive_event(Y){return PASSIVE_EVENTS.includes(Y)}function autofocus(Y,T){if(T){const k=document.body;Y.autofocus=!0,queue_micro_task(()=>{document.activeElement===k&&Y.focus()})}}let listening_to_form_reset=!1;function add_form_reset_listener(){listening_to_form_reset||(listening_to_form_reset=!0,document.addEventListener("reset",Y=>{Promise.resolve().then(()=>{var T;if(!Y.defaultPrevented)for(const k of Y.target.elements)(T=k.__on_r)==null||T.call(k)})},{capture:!0}))}function listen(Y,T,k,Z=!0){Z&&k();for(var ee of T)Y.addEventListener(ee,k);teardown(()=>{for(var te of T)Y.removeEventListener(te,k)})}function without_reactive_context(Y){var T=active_reaction,k=active_effect;set_active_reaction(null),set_active_effect(null);try{return Y()}finally{set_active_reaction(T),set_active_effect(k)}}function listen_to_event_and_reset_event(Y,T,k,Z=k){Y.addEventListener(T,()=>without_reactive_context(k));const ee=Y.__on_r;ee?Y.__on_r=()=>{ee(),Z(!0)}:Y.__on_r=()=>Z(!0),add_form_reset_listener()}const all_registered_events=new Set,root_event_handles=new Set;function create_event(Y,T,k,Z={}){function ee(te){if(Z.capture||handle_event_propagation.call(T,te),!te.cancelBubble)return without_reactive_context(()=>k==null?void 0:k.call(this,te))}return Y.startsWith("pointer")||Y.startsWith("touch")||Y==="wheel"?queue_micro_task(()=>{T.addEventListener(Y,ee,Z)}):T.addEventListener(Y,ee,Z),ee}function event(Y,T,k,Z,ee){var te={capture:Z,passive:ee},ne=create_event(Y,T,k,te);(T===document.body||T===window||T===document)&&teardown(()=>{T.removeEventListener(Y,ne,te)})}function delegate(Y){for(var T=0;T<Y.length;T++)all_registered_events.add(Y[T]);for(var k of root_event_handles)k(Y)}function handle_event_propagation(Y){var ht;var T=this,k=T.ownerDocument,Z=Y.type,ee=((ht=Y.composedPath)==null?void 0:ht.call(Y))||[],te=ee[0]||Y.target,ne=0,me=Y.__root;if(me){var Ve=ee.indexOf(me);if(Ve!==-1&&(T===document||T===window)){Y.__root=T;return}var Ye=ee.indexOf(T);if(Ye===-1)return;Ve<=Ye&&(ne=Ve)}if(te=ee[ne]||Y.target,te!==T){define_property(Y,"currentTarget",{configurable:!0,get(){return te||k}});var et=active_reaction,tt=active_effect;set_active_reaction(null),set_active_effect(null);try{for(var it,st=[];te!==null;){var nt=te.assignedSlot||te.parentNode||te.host||null;try{var rt=te["__"+Z];if(rt!=null&&(!te.disabled||Y.target===te))if(is_array(rt)){var[lt,...ot]=rt;lt.apply(te,[Y,...ot])}else rt.call(te,Y)}catch(dt){it?st.push(dt):it=dt}if(Y.cancelBubble||nt===T||nt===null)break;te=nt}if(it){for(let dt of st)queueMicrotask(()=>{throw dt});throw it}}finally{Y.__root=T,delete Y.currentTarget,set_active_reaction(et),set_active_effect(tt)}}}function head(Y){var T;T=document.head.appendChild(create_text());try{block(()=>Y(T),HEAD_EFFECT)}finally{}}function create_fragment_from_html(Y){var T=document.createElement("template");return T.innerHTML=Y,T.content}function assign_nodes(Y,T){var k=active_effect;k.nodes_start===null&&(k.nodes_start=Y,k.nodes_end=T)}function template(Y,T){var k=(T&TEMPLATE_FRAGMENT)!==0,Z=(T&TEMPLATE_USE_IMPORT_NODE)!==0,ee,te=!Y.startsWith("<!>");return()=>{ee===void 0&&(ee=create_fragment_from_html(te?Y:"<!>"+Y),k||(ee=get_first_child(ee)));var ne=Z||is_firefox?document.importNode(ee,!0):ee.cloneNode(!0);if(k){var me=get_first_child(ne),Ve=ne.lastChild;assign_nodes(me,Ve)}else assign_nodes(ne,ne);return ne}}function ns_template(Y,T,k="svg"){var Z=!Y.startsWith("<!>"),ee=(T&TEMPLATE_FRAGMENT)!==0,te=`<${k}>${Z?Y:"<!>"+Y}</${k}>`,ne;return()=>{if(!ne){var me=create_fragment_from_html(te),Ve=get_first_child(me);if(ee)for(ne=document.createDocumentFragment();get_first_child(Ve);)ne.appendChild(get_first_child(Ve));else ne=get_first_child(Ve)}var Ye=ne.cloneNode(!0);if(ee){var et=get_first_child(Ye),tt=Ye.lastChild;assign_nodes(et,tt)}else assign_nodes(Ye,Ye);return Ye}}function text$1(Y=""){{var T=create_text(Y+"");return assign_nodes(T,T),T}}function comment(){var Y=document.createDocumentFragment(),T=document.createComment(""),k=create_text();return Y.append(T,k),assign_nodes(T,k),Y}function append(Y,T){Y!==null&&Y.before(T)}let should_intro=!0;function set_should_intro(Y){should_intro=Y}function set_text(Y,T){var k=T==null?"":typeof T=="object"?T+"":T;k!==(Y.__t??(Y.__t=Y.nodeValue))&&(Y.__t=k,Y.nodeValue=k+"")}function mount(Y,T){return _mount(Y,T)}const document_listeners=new Map;function _mount(Y,{target:T,anchor:k,props:Z={},events:ee,context:te,intro:ne=!0}){init_operations();var me=new Set,Ve=tt=>{for(var it=0;it<tt.length;it++){var st=tt[it];if(!me.has(st)){me.add(st);var nt=is_passive_event(st);T.addEventListener(st,handle_event_propagation,{passive:nt});var rt=document_listeners.get(st);rt===void 0?(document.addEventListener(st,handle_event_propagation,{passive:nt}),document_listeners.set(st,1)):document_listeners.set(st,rt+1)}}};Ve(array_from(all_registered_events)),root_event_handles.add(Ve);var Ye=void 0,et=component_root(()=>{var tt=k??T.appendChild(create_text());return branch(()=>{if(te){push({});var it=component_context;it.c=te}ee&&(Z.$$events=ee),should_intro=ne,Ye=Y(tt,Z)||{},should_intro=!0,te&&pop()}),()=>{var nt;for(var it of me){T.removeEventListener(it,handle_event_propagation);var st=document_listeners.get(it);--st===0?(document.removeEventListener(it,handle_event_propagation),document_listeners.delete(it)):document_listeners.set(it,st)}root_event_handles.delete(Ve),tt!==k&&((nt=tt.parentNode)==null||nt.removeChild(tt))}});return mounted_components.set(Ye,et),Ye}let mounted_components=new WeakMap;function unmount(Y,T){const k=mounted_components.get(Y);return k?(mounted_components.delete(Y),k(T)):Promise.resolve()}function if_block(Y,T,[k,Z]=[0,0]){var ee=Y,te=null,ne=null,me=UNINITIALIZED,Ve=k>0?EFFECT_TRANSPARENT:0,Ye=!1;const et=(it,st=!0)=>{Ye=!0,tt(st,it)},tt=(it,st)=>{me!==(me=it)&&(me?(te?resume_effect(te):st&&(te=branch(()=>st(ee))),ne&&pause_effect(ne,()=>{ne=null})):(ne?resume_effect(ne):st&&(ne=branch(()=>st(ee,[k+1,Z]))),te&&pause_effect(te,()=>{te=null})))};block(()=>{Ye=!1,T(et),Ye||tt(null,null)},Ve)}function key_block(Y,T,k){var Z=Y,ee=UNINITIALIZED,te,ne=is_runes()?not_equal:safe_not_equal;block(()=>{ne(ee,ee=T())&&(te&&pause_effect(te),te=branch(()=>k(Z)))})}function index(Y,T){return T}function pause_effects(Y,T,k,Z){for(var ee=[],te=T.length,ne=0;ne<te;ne++)pause_children(T[ne].e,ee,!0);var me=te>0&&ee.length===0&&k!==null;if(me){var Ve=k.parentNode;clear_text_content(Ve),Ve.append(k),Z.clear(),link$1(Y,T[0].prev,T[te-1].next)}run_out_transitions(ee,()=>{for(var Ye=0;Ye<te;Ye++){var et=T[Ye];me||(Z.delete(et.k),link$1(Y,et.prev,et.next)),destroy_effect(et.e,!me)}})}function each(Y,T,k,Z,ee,te=null){var ne=Y,me={flags:T,items:new Map,first:null},Ve=(T&EACH_IS_CONTROLLED)!==0;if(Ve){var Ye=Y;ne=Ye.appendChild(create_text())}var et=null,tt=!1,it=derived_safe_equal(()=>{var st=k();return is_array(st)?st:st==null?[]:array_from(st)});block(()=>{var st=get$2(it),nt=st.length;tt&&nt===0||(tt=nt===0,reconcile(st,me,ne,ee,T,Z,k),te!==null&&(nt===0?et?resume_effect(et):et=branch(()=>te(ne)):et!==null&&pause_effect(et,()=>{et=null})),get$2(it))})}function reconcile(Y,T,k,Z,ee,te,ne){var St,At,Ct,It;var me=(ee&EACH_IS_ANIMATED)!==0,Ve=(ee&(EACH_ITEM_REACTIVE|EACH_INDEX_REACTIVE))!==0,Ye=Y.length,et=T.items,tt=T.first,it=tt,st,nt=null,rt,lt=[],ot=[],ht,dt,ct,ut;if(me)for(ut=0;ut<Ye;ut+=1)ht=Y[ut],dt=te(ht,ut),ct=et.get(dt),ct!==void 0&&((St=ct.a)==null||St.measure(),(rt??(rt=new Set)).add(ct));for(ut=0;ut<Ye;ut+=1){if(ht=Y[ut],dt=te(ht,ut),ct=et.get(dt),ct===void 0){var ft=it?it.e.nodes_start:k;nt=create_item(ft,T,nt,nt===null?T.first:nt.next,ht,dt,ut,Z,ee,ne),et.set(dt,nt),lt=[],ot=[],it=nt.next;continue}if(Ve&&update_item(ct,ht,ut,ee),(ct.e.f&INERT)!==0&&(resume_effect(ct.e),me&&((At=ct.a)==null||At.unfix(),(rt??(rt=new Set)).delete(ct))),ct!==it){if(st!==void 0&&st.has(ct)){if(lt.length<ot.length){var vt=ot[0],mt;nt=vt.prev;var _t=lt[0],Et=lt[lt.length-1];for(mt=0;mt<lt.length;mt+=1)move$3(lt[mt],vt,k);for(mt=0;mt<ot.length;mt+=1)st.delete(ot[mt]);link$1(T,_t.prev,Et.next),link$1(T,nt,_t),link$1(T,Et,vt),it=vt,nt=Et,ut-=1,lt=[],ot=[]}else st.delete(ct),move$3(ct,it,k),link$1(T,ct.prev,ct.next),link$1(T,ct,nt===null?T.first:nt.next),link$1(T,nt,ct),nt=ct;continue}for(lt=[],ot=[];it!==null&&it.k!==dt;)(it.e.f&INERT)===0&&(st??(st=new Set)).add(it),ot.push(it),it=it.next;if(it===null)continue;ct=it}lt.push(ct),nt=ct,it=ct.next}if(it!==null||st!==void 0){for(var Tt=st===void 0?[]:array_from(st);it!==null;)(it.e.f&INERT)===0&&Tt.push(it),it=it.next;var xt=Tt.length;if(xt>0){var yt=(ee&EACH_IS_CONTROLLED)!==0&&Ye===0?k:null;if(me){for(ut=0;ut<xt;ut+=1)(Ct=Tt[ut].a)==null||Ct.measure();for(ut=0;ut<xt;ut+=1)(It=Tt[ut].a)==null||It.fix()}pause_effects(T,Tt,yt,et)}}me&&queue_micro_task(()=>{var Ot;if(rt!==void 0)for(ct of rt)(Ot=ct.a)==null||Ot.apply()}),active_effect.first=T.first&&T.first.e,active_effect.last=nt&&nt.e}function update_item(Y,T,k,Z){(Z&EACH_ITEM_REACTIVE)!==0&&internal_set(Y.v,T),(Z&EACH_INDEX_REACTIVE)!==0?internal_set(Y.i,k):Y.i=k}function create_item(Y,T,k,Z,ee,te,ne,me,Ve,Ye){var et=(Ve&EACH_ITEM_REACTIVE)!==0,tt=(Ve&EACH_ITEM_IMMUTABLE)===0,it=et?tt?mutable_source(ee):source(ee):ee,st=(Ve&EACH_INDEX_REACTIVE)===0?ne:source(ne),nt={i:st,v:it,k:te,a:null,e:null,prev:k,next:Z};try{return nt.e=branch(()=>me(Y,it,st,Ye),hydrating),nt.e.prev=k&&k.e,nt.e.next=Z&&Z.e,k===null?T.first=nt:(k.next=nt,k.e.next=nt.e),Z!==null&&(Z.prev=nt,Z.e.prev=nt.e),nt}finally{}}function move$3(Y,T,k){for(var Z=Y.next?Y.next.e.nodes_start:k,ee=T?T.e.nodes_start:k,te=Y.e.nodes_start;te!==Z;){var ne=get_next_sibling(te);ee.before(te),te=ne}}function link$1(Y,T,k){T===null?Y.first=k:(T.next=k,T.e.next=k&&k.e),k!==null&&(k.prev=T,k.e.prev=T&&T.e)}function html$3(Y,T,k,Z,ee){var te=Y,ne="",me;block(()=>{ne!==(ne=T()??"")&&(me!==void 0&&(destroy_effect(me),me=void 0),ne!==""&&(me=branch(()=>{var Ve=ne+"",Ye=create_fragment_from_html(Ve);assign_nodes(get_first_child(Ye),Ye.lastChild),te.before(Ye)})))})}function slot(Y,T,k,Z,ee){var me;var te=(me=T.$$slots)==null?void 0:me[k],ne=!1;te===!0&&(te=T[k==="default"?"children":k],ne=!0),te===void 0||te(Y,ne?()=>Z:Z)}function snippet(Y,T,...k){var Z=Y,ee=noop$3,te;block(()=>{ee!==(ee=T())&&(te&&(destroy_effect(te),te=null),te=branch(()=>ee(Z,...k)))},EFFECT_TRANSPARENT)}function component(Y,T,k){var Z=Y,ee,te;block(()=>{ee!==(ee=T())&&(te&&(pause_effect(te),te=null),ee&&(te=branch(()=>k(Z,ee))))},EFFECT_TRANSPARENT)}function element(Y,T,k,Z,ee,te){var ne,me,Ve=null,Ye=Y,et;block(()=>{const tt=T()||null;var it=tt==="svg"?NAMESPACE_SVG:null;tt!==ne&&(et&&(tt===null?pause_effect(et,()=>{et=null,me=null}):tt===me?resume_effect(et):(destroy_effect(et),set_should_intro(!1))),tt&&tt!==me&&(et=branch(()=>{if(Ve=it?document.createElementNS(it,tt):document.createElement(tt),assign_nodes(Ve,Ve),Z){var st=Ve.appendChild(create_text());Z(Ve,st)}active_effect.nodes_end=Ve,Ye.before(Ve)})),ne=tt,ne&&(me=ne),set_should_intro(!0))},EFFECT_TRANSPARENT)}function action(Y,T,k){effect$1(()=>{var Z=untrack(()=>T(Y,k==null?void 0:k())||{});if(k&&(Z!=null&&Z.update)){var ee=!1,te={};render_effect(()=>{var ne=k();deep_read_state(ne),ee&&safe_not_equal(te,ne)&&(te=ne,Z.update(ne))}),ee=!0}if(Z!=null&&Z.destroy)return()=>Z.destroy()})}function r$1(Y){var T,k,Z="";if(typeof Y=="string"||typeof Y=="number")Z+=Y;else if(typeof Y=="object")if(Array.isArray(Y)){var ee=Y.length;for(T=0;T<ee;T++)Y[T]&&(k=r$1(Y[T]))&&(Z&&(Z+=" "),Z+=k)}else for(k in Y)Y[k]&&(Z&&(Z+=" "),Z+=k);return Z}function clsx$1(){for(var Y,T,k=0,Z="",ee=arguments.length;k<ee;k++)(Y=arguments[k])&&(T=r$1(Y))&&(Z&&(Z+=" "),Z+=T);return Z}function clsx(Y){return typeof Y=="object"?clsx$1(Y):Y??""}const whitespace$1=[...` 	
\r\fÂ \v\uFEFF`];function to_class(Y,T,k){var Z=Y==null?"":""+Y;if(T&&(Z=Z?Z+" "+T:T),k){for(var ee in k)if(k[ee])Z=Z?Z+" "+ee:ee;else if(Z.length)for(var te=ee.length,ne=0;(ne=Z.indexOf(ee,ne))>=0;){var me=ne+te;(ne===0||whitespace$1.includes(Z[ne-1]))&&(me===Z.length||whitespace$1.includes(Z[me]))?Z=(ne===0?"":Z.substring(0,ne))+Z.substring(me+1):ne=me}}return Z===""?null:Z}function append_styles(Y,T=!1){var k=T?" !important;":";",Z="";for(var ee in Y){var te=Y[ee];te!=null&&te!==""&&(Z+=" "+ee+": "+te+k)}return Z}function to_css_name(Y){return Y[0]!=="-"||Y[1]!=="-"?Y.toLowerCase():Y}function to_style(Y,T){if(T){var k="",Z,ee;if(Array.isArray(T)?(Z=T[0],ee=T[1]):Z=T,Y){Y=String(Y).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var te=!1,ne=0,me=!1,Ve=[];Z&&Ve.push(...Object.keys(Z).map(to_css_name)),ee&&Ve.push(...Object.keys(ee).map(to_css_name));var Ye=0,et=-1;const rt=Y.length;for(var tt=0;tt<rt;tt++){var it=Y[tt];if(me?it==="/"&&Y[tt-1]==="*"&&(me=!1):te?te===it&&(te=!1):it==="/"&&Y[tt+1]==="*"?me=!0:it==='"'||it==="'"?te=it:it==="("?ne++:it===")"&&ne--,!me&&te===!1&&ne===0){if(it===":"&&et===-1)et=tt;else if(it===";"||tt===rt-1){if(et!==-1){var st=to_css_name(Y.substring(Ye,et).trim());if(!Ve.includes(st)){it!==";"&&tt++;var nt=Y.substring(Ye,tt).trim();k+=" "+nt+";"}}Ye=tt+1,et=-1}}}}return Z&&(k+=append_styles(Z)),ee&&(k+=append_styles(ee,!0)),k=k.trim(),k===""?null:k}return Y==null?null:String(Y)}function set_class(Y,T,k,Z,ee,te){var ne=Y.__className;if(ne!==k){var me=to_class(k,Z,te);me==null?Y.removeAttribute("class"):T?Y.className=me:Y.setAttribute("class",me),Y.__className=k}else if(te&&ee!==te)for(var Ve in te){var Ye=!!te[Ve];(ee==null||Ye!==!!ee[Ve])&&Y.classList.toggle(Ve,Ye)}return te}function update_styles(Y,T={},k,Z){for(var ee in k){var te=k[ee];T[ee]!==te&&(k[ee]==null?Y.style.removeProperty(ee):Y.style.setProperty(ee,te,Z))}}function set_style(Y,T,k,Z){var ee=Y.__style;if(ee!==T){var te=to_style(T,Z);te==null?Y.removeAttribute("style"):Y.style.cssText=te,Y.__style=T}else Z&&(Array.isArray(Z)?(update_styles(Y,k==null?void 0:k[0],Z[0]),update_styles(Y,k==null?void 0:k[1],Z[1],"important")):update_styles(Y,k,Z));return Z}const CLASS=Symbol("class"),STYLE=Symbol("style"),IS_CUSTOM_ELEMENT=Symbol("is custom element"),IS_HTML=Symbol("is html");function set_value(Y,T){var k=get_attributes(Y);k.value===(k.value=T??void 0)||Y.value===T&&(T!==0||Y.nodeName!=="PROGRESS")||(Y.value=T??"")}function set_selected(Y,T){T?Y.hasAttribute("selected")||Y.setAttribute("selected",""):Y.removeAttribute("selected")}function set_attribute(Y,T,k,Z){var ee=get_attributes(Y);ee[T]!==(ee[T]=k)&&(T==="loading"&&(Y[LOADING_ATTR_SYMBOL]=k),k==null?Y.removeAttribute(T):typeof k!="string"&&get_setters(Y).includes(T)?Y[T]=k:Y.setAttribute(T,k))}function set_attributes(Y,T,k,Z,ee=!1){var te=get_attributes(Y),ne=te[IS_CUSTOM_ELEMENT],me=!te[IS_HTML],Ve=T||{},Ye=Y.tagName==="OPTION";for(var et in T)et in k||(k[et]=null);k.class?k.class=clsx(k.class):(Z||k[CLASS])&&(k.class=null),k[STYLE]&&(k.style??(k.style=null));var tt=get_setters(Y);for(const dt in k){let ct=k[dt];if(Ye&&dt==="value"&&ct==null){Y.value=Y.__value="",Ve[dt]=ct;continue}if(dt==="class"){var it=Y.namespaceURI==="http://www.w3.org/1999/xhtml";set_class(Y,it,ct,Z,T==null?void 0:T[CLASS],k[CLASS]),Ve[dt]=ct,Ve[CLASS]=k[CLASS];continue}if(dt==="style"){set_style(Y,ct,T==null?void 0:T[STYLE],k[STYLE]),Ve[dt]=ct,Ve[STYLE]=k[STYLE];continue}var st=Ve[dt];if(ct!==st){Ve[dt]=ct;var nt=dt[0]+dt[1];if(nt!=="$$")if(nt==="on"){const ut={},ft="$$"+dt;let vt=dt.slice(2);var rt=is_delegated(vt);if(is_capture_event(vt)&&(vt=vt.slice(0,-7),ut.capture=!0),!rt&&st){if(ct!=null)continue;Y.removeEventListener(vt,Ve[ft],ut),Ve[ft]=null}if(ct!=null)if(rt)Y[`__${vt}`]=ct,delegate([vt]);else{let mt=function(_t){Ve[dt].call(this,_t)};var ht=mt;Ve[ft]=create_event(vt,Y,mt,ut)}else rt&&(Y[`__${vt}`]=void 0)}else if(dt==="style")set_attribute(Y,dt,ct);else if(dt==="autofocus")autofocus(Y,!!ct);else if(!ne&&(dt==="__value"||dt==="value"&&ct!=null))Y.value=Y.__value=ct;else if(dt==="selected"&&Ye)set_selected(Y,ct);else{var lt=dt;me||(lt=normalize_attribute(lt));var ot=lt==="defaultValue"||lt==="defaultChecked";if(ct==null&&!ne&&!ot)if(te[dt]=null,lt==="value"||lt==="checked"){let ut=Y;const ft=T===void 0;if(lt==="value"){let vt=ut.defaultValue;ut.removeAttribute(lt),ut.defaultValue=vt,ut.value=ut.__value=ft?vt:null}else{let vt=ut.defaultChecked;ut.removeAttribute(lt),ut.defaultChecked=vt,ut.checked=ft?vt:!1}}else Y.removeAttribute(dt);else ot||tt.includes(lt)&&(ne||typeof ct!="string")?Y[lt]=ct:typeof ct!="function"&&set_attribute(Y,lt,ct)}}}return Ve}function get_attributes(Y){return Y.__attributes??(Y.__attributes={[IS_CUSTOM_ELEMENT]:Y.nodeName.includes("-"),[IS_HTML]:Y.namespaceURI===NAMESPACE_HTML})}var setters_cache=new Map;function get_setters(Y){var T=setters_cache.get(Y.nodeName);if(T)return T;setters_cache.set(Y.nodeName,T=[]);for(var k,Z=Y,ee=Element.prototype;ee!==Z;){k=get_descriptors(Z);for(var te in k)k[te].set&&T.push(te);Z=get_prototype_of(Z)}return T}const now=()=>performance.now(),raf={tick:Y=>requestAnimationFrame(Y),now:()=>now(),tasks:new Set};function run_tasks(){const Y=raf.now();raf.tasks.forEach(T=>{T.c(Y)||(raf.tasks.delete(T),T.f())}),raf.tasks.size!==0&&raf.tick(run_tasks)}function loop(Y){let T;return raf.tasks.size===0&&raf.tick(run_tasks),{promise:new Promise(k=>{raf.tasks.add(T={c:Y,f:k})}),abort(){raf.tasks.delete(T)}}}function dispatch_event(Y,T){without_reactive_context(()=>{Y.dispatchEvent(new CustomEvent(T))})}function css_property_to_camelcase(Y){if(Y==="float")return"cssFloat";if(Y==="offset")return"cssOffset";if(Y.startsWith("--"))return Y;const T=Y.split("-");return T.length===1?T[0]:T[0]+T.slice(1).map(k=>k[0].toUpperCase()+k.slice(1)).join("")}function css_to_keyframe(Y){const T={},k=Y.split(";");for(const Z of k){const[ee,te]=Z.split(":");if(!ee||te===void 0)break;const ne=css_property_to_camelcase(ee.trim());T[ne]=te.trim()}return T}const linear$1=Y=>Y;function transition(Y,T,k,Z){var ee=(Y&TRANSITION_GLOBAL)!==0,te="both",ne,me=T.inert,Ve=T.style.overflow,Ye,et;function tt(){var lt=active_reaction,ot=active_effect;set_active_reaction(null),set_active_effect(null);try{return ne??(ne=k()(T,(Z==null?void 0:Z())??{},{direction:te}))}finally{set_active_reaction(lt),set_active_effect(ot)}}var it={is_global:ee,in(){T.inert=me,dispatch_event(T,"introstart"),Ye=animate(T,tt(),et,1,()=>{dispatch_event(T,"introend"),Ye==null||Ye.abort(),Ye=ne=void 0,T.style.overflow=Ve})},out(lt){T.inert=!0,dispatch_event(T,"outrostart"),et=animate(T,tt(),Ye,0,()=>{dispatch_event(T,"outroend"),lt==null||lt()})},stop:()=>{Ye==null||Ye.abort(),et==null||et.abort()}},st=active_effect;if((st.transitions??(st.transitions=[])).push(it),should_intro){var nt=ee;if(!nt){for(var rt=st.parent;rt&&(rt.f&EFFECT_TRANSPARENT)!==0;)for(;(rt=rt.parent)&&(rt.f&BLOCK_EFFECT)===0;);nt=!rt||(rt.f&EFFECT_RAN)!==0}nt&&effect$1(()=>{untrack(()=>it.in())})}}function animate(Y,T,k,Z,ee){var te=Z===1;if(is_function(T)){var ne,me=!1;return queue_micro_task(()=>{if(!me){var lt=T({direction:te?"in":"out"});ne=animate(Y,lt,k,Z,ee)}}),{abort:()=>{me=!0,ne==null||ne.abort()},deactivate:()=>ne.deactivate(),reset:()=>ne.reset(),t:()=>ne.t()}}if(k==null||k.deactivate(),!(T!=null&&T.duration))return ee(),{abort:noop$3,deactivate:noop$3,reset:noop$3,t:()=>Z};const{delay:Ve=0,css:Ye,tick:et,easing:tt=linear$1}=T;var it=[];if(te&&k===void 0&&(et&&et(0,1),Ye)){var st=css_to_keyframe(Ye(0,1));it.push(st,st)}var nt=()=>1-Z,rt=Y.animate(it,{duration:Ve});return rt.onfinish=()=>{var lt=(k==null?void 0:k.t())??1-Z;k==null||k.abort();var ot=Z-lt,ht=T.duration*Math.abs(ot),dt=[];if(ht>0){var ct=!1;if(Ye)for(var ut=Math.ceil(ht/16.666666666666668),ft=0;ft<=ut;ft+=1){var vt=lt+ot*tt(ft/ut),mt=css_to_keyframe(Ye(vt,1-vt));dt.push(mt),ct||(ct=mt.overflow==="hidden")}ct&&(Y.style.overflow="hidden"),nt=()=>{var _t=rt.currentTime;return lt+ot*tt(_t/ht)},et&&loop(()=>{if(rt.playState!=="running")return!1;var _t=nt();return et(_t,1-_t),!0})}rt=Y.animate(dt,{duration:ht,fill:"forwards"}),rt.onfinish=()=>{nt=()=>Z,et==null||et(Z,1-Z),ee()}},{abort:()=>{rt&&(rt.cancel(),rt.effect=null,rt.onfinish=noop$3)},deactivate:()=>{ee=noop$3},reset:()=>{Z===0&&(et==null||et(1,0))},t:()=>nt()}}function bind_value(Y,T,k=T){var Z=is_runes();listen_to_event_and_reset_event(Y,"input",ee=>{var te=ee?Y.defaultValue:Y.value;if(te=is_numberlike_input(Y)?to_number(te):te,k(te),Z&&te!==(te=T())){var ne=Y.selectionStart,me=Y.selectionEnd;Y.value=te??"",me!==null&&(Y.selectionStart=ne,Y.selectionEnd=Math.min(me,Y.value.length))}}),untrack(T)==null&&Y.value&&k(is_numberlike_input(Y)?to_number(Y.value):Y.value),render_effect(()=>{var ee=T();is_numberlike_input(Y)&&ee===to_number(Y.value)||Y.type==="date"&&!ee&&!Y.value||ee!==Y.value&&(Y.value=ee??"")})}const pending=new Set;function bind_group(Y,T,k,Z,ee=Z){var te=k.getAttribute("type")==="checkbox",ne=Y;if(T!==null)for(var me of T)ne=ne[me]??(ne[me]=[]);ne.push(k),listen_to_event_and_reset_event(k,"change",()=>{var Ve=k.__value;te&&(Ve=get_binding_group_value(ne,Ve,k.checked)),ee(Ve)},()=>ee(te?[]:null)),render_effect(()=>{var Ve=Z();te?(Ve=Ve||[],k.checked=Ve.includes(k.__value)):k.checked=is$1(k.__value,Ve)}),teardown(()=>{var Ve=ne.indexOf(k);Ve!==-1&&ne.splice(Ve,1)}),pending.has(ne)||(pending.add(ne),queue_micro_task(()=>{ne.sort((Ve,Ye)=>Ve.compareDocumentPosition(Ye)===4?-1:1),pending.delete(ne)})),queue_micro_task(()=>{})}function bind_checked(Y,T,k=T){listen_to_event_and_reset_event(Y,"change",Z=>{var ee=Z?Y.defaultChecked:Y.checked;k(ee)}),untrack(T)==null&&k(Y.checked),render_effect(()=>{var Z=T();Y.checked=!!Z})}function get_binding_group_value(Y,T,k){for(var Z=new Set,ee=0;ee<Y.length;ee+=1)Y[ee].checked&&Z.add(Y[ee].__value);return k||Z.delete(T),Array.from(Z)}function is_numberlike_input(Y){var T=Y.type;return T==="number"||T==="range"}function to_number(Y){return Y===""?null:+Y}function select_option(Y,T,k){if(Y.multiple)return select_options(Y,T);for(var Z of Y.options){var ee=get_option_value(Z);if(is$1(ee,T)){Z.selected=!0;return}}(!k||T!==void 0)&&(Y.selectedIndex=-1)}function init_select(Y,T){let k=!0;effect$1(()=>{T&&select_option(Y,untrack(T),k),k=!1;var Z=new MutationObserver(()=>{var ee=Y.__value;select_option(Y,ee)});return Z.observe(Y,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{Z.disconnect()}})}function bind_select_value(Y,T,k=T){var Z=!0;listen_to_event_and_reset_event(Y,"change",ee=>{var te=ee?"[selected]":":checked",ne;if(Y.multiple)ne=[].map.call(Y.querySelectorAll(te),get_option_value);else{var me=Y.querySelector(te)??Y.querySelector("option:not([disabled])");ne=me&&get_option_value(me)}k(ne)}),effect$1(()=>{var ee=T();if(select_option(Y,ee,Z),Z&&ee===void 0){var te=Y.querySelector(":checked");te!==null&&(ee=get_option_value(te),k(ee))}Y.__value=ee,Z=!1}),init_select(Y)}function select_options(Y,T){for(var k of Y.options)k.selected=~T.indexOf(get_option_value(k))}function get_option_value(Y){return"__value"in Y?Y.__value:Y.value}function is_bound_this(Y,T){return Y===T||(Y==null?void 0:Y[STATE_SYMBOL])===T}function bind_this(Y={},T,k,Z){return effect$1(()=>{var ee,te;return render_effect(()=>{ee=te,te=[],untrack(()=>{Y!==k(...te)&&(T(Y,...te),ee&&is_bound_this(k(...ee),Y)&&T(null,...ee))})}),()=>{queue_micro_task(()=>{te&&is_bound_this(k(...te),Y)&&T(null,...te)})}}),Y}function bind_window_size(Y,T){listen(window,["resize"],()=>without_reactive_context(()=>T(window[Y])))}function init(Y=!1){const T=component_context,k=T.l.u;if(!k)return;let Z=()=>deep_read_state(T.s);if(Y){let ee=0,te={};const ne=derived$1(()=>{let me=!1;const Ve=T.s;for(const Ye in Ve)Ve[Ye]!==te[Ye]&&(te[Ye]=Ve[Ye],me=!0);return me&&ee++,ee});Z=()=>get$2(ne)}k.b.length&&user_pre_effect(()=>{observe_all(T,Z),run_all(k.b)}),user_effect(()=>{const ee=untrack(()=>k.m.map(run));return()=>{for(const te of ee)typeof te=="function"&&te()}}),k.a.length&&user_effect(()=>{observe_all(T,Z),run_all(k.a)})}function observe_all(Y,T){if(Y.l.s)for(const k of Y.l.s)get$2(k);T()}function bubble_event(Y,T){var te;var k=(te=Y.$$events)==null?void 0:te[T.type],Z=is_array(k)?k.slice():k==null?[]:[k];for(var ee of Z)ee.call(this,T)}function subscribe_to_store(Y,T,k){if(Y==null)return T(void 0),k&&k(void 0),noop$3;const Z=untrack(()=>Y.subscribe(T,k));return Z.unsubscribe?()=>Z.unsubscribe():Z}const subscriber_queue=[];function readable(Y,T){return{subscribe:writable(Y,T).subscribe}}function writable(Y,T=noop$3){let k=null;const Z=new Set;function ee(me){if(safe_not_equal(Y,me)&&(Y=me,k)){const Ve=!subscriber_queue.length;for(const Ye of Z)Ye[1](),subscriber_queue.push(Ye,Y);if(Ve){for(let Ye=0;Ye<subscriber_queue.length;Ye+=2)subscriber_queue[Ye][0](subscriber_queue[Ye+1]);subscriber_queue.length=0}}}function te(me){ee(me(Y))}function ne(me,Ve=noop$3){const Ye=[me,Ve];return Z.add(Ye),Z.size===1&&(k=T(ee,te)||noop$3),me(Y),()=>{Z.delete(Ye),Z.size===0&&k&&(k(),k=null)}}return{set:ee,update:te,subscribe:ne}}function derived(Y,T,k){const Z=!Array.isArray(Y),ee=Z?[Y]:Y;if(!ee.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const te=T.length<2;return readable(k,(ne,me)=>{let Ve=!1;const Ye=[];let et=0,tt=noop$3;const it=()=>{if(et)return;tt();const nt=T(Z?Ye[0]:Ye,ne,me);te?ne(nt):tt=typeof nt=="function"?nt:noop$3},st=ee.map((nt,rt)=>subscribe_to_store(nt,lt=>{Ye[rt]=lt,et&=~(1<<rt),Ve&&it()},()=>{et|=1<<rt}));return Ve=!0,it(),function(){run_all(st),tt(),Ve=!1}})}function get$1(Y){let T;return subscribe_to_store(Y,k=>T=k)(),T}let is_store_binding=!1,IS_UNMOUNTED=Symbol();function store_get(Y,T,k){const Z=k[T]??(k[T]={store:null,source:mutable_source(void 0),unsubscribe:noop$3});if(Z.store!==Y&&!(IS_UNMOUNTED in k))if(Z.unsubscribe(),Z.store=Y??null,Y==null)Z.source.v=void 0,Z.unsubscribe=noop$3;else{var ee=!0;Z.unsubscribe=subscribe_to_store(Y,te=>{ee?Z.source.v=te:set(Z.source,te)}),ee=!1}return Y&&IS_UNMOUNTED in k?get$1(Y):get$2(Z.source)}function store_set(Y,T){return Y.set(T),T}function invalidate_store(Y,T){var k=Y[T];k.store!==null&&store_set(k.store,k.source.v)}function setup_stores(){const Y={};function T(){teardown(()=>{for(var k in Y)Y[k].unsubscribe();define_property(Y,IS_UNMOUNTED,{enumerable:!1,value:!0})})}return[Y,T]}function store_mutate(Y,T,k){return Y.set(k),T}function capture_store_binding(Y){var T=is_store_binding;try{return is_store_binding=!1,[Y(),is_store_binding]}finally{is_store_binding=T}}const rest_props_handler={get(Y,T){if(!Y.exclude.includes(T))return Y.props[T]},set(Y,T){return!1},getOwnPropertyDescriptor(Y,T){if(!Y.exclude.includes(T)&&T in Y.props)return{enumerable:!0,configurable:!0,value:Y.props[T]}},has(Y,T){return Y.exclude.includes(T)?!1:T in Y.props},ownKeys(Y){return Reflect.ownKeys(Y.props).filter(T=>!Y.exclude.includes(T))}};function rest_props(Y,T,k){return new Proxy({props:Y,exclude:T},rest_props_handler)}const legacy_rest_props_handler={get(Y,T){if(!Y.exclude.includes(T))return get$2(Y.version),T in Y.special?Y.special[T]():Y.props[T]},set(Y,T,k){return T in Y.special||(Y.special[T]=prop({get[T](){return Y.props[T]}},T,PROPS_IS_UPDATED)),Y.special[T](k),update(Y.version),!0},getOwnPropertyDescriptor(Y,T){if(!Y.exclude.includes(T)&&T in Y.props)return{enumerable:!0,configurable:!0,value:Y.props[T]}},deleteProperty(Y,T){return Y.exclude.includes(T)||(Y.exclude.push(T),update(Y.version)),!0},has(Y,T){return Y.exclude.includes(T)?!1:T in Y.props},ownKeys(Y){return Reflect.ownKeys(Y.props).filter(T=>!Y.exclude.includes(T))}};function legacy_rest_props(Y,T){return new Proxy({props:Y,exclude:T,special:{},version:source(0)},legacy_rest_props_handler)}const spread_props_handler={get(Y,T){let k=Y.props.length;for(;k--;){let Z=Y.props[k];if(is_function(Z)&&(Z=Z()),typeof Z=="object"&&Z!==null&&T in Z)return Z[T]}},set(Y,T,k){let Z=Y.props.length;for(;Z--;){let ee=Y.props[Z];is_function(ee)&&(ee=ee());const te=get_descriptor(ee,T);if(te&&te.set)return te.set(k),!0}return!1},getOwnPropertyDescriptor(Y,T){let k=Y.props.length;for(;k--;){let Z=Y.props[k];if(is_function(Z)&&(Z=Z()),typeof Z=="object"&&Z!==null&&T in Z){const ee=get_descriptor(Z,T);return ee&&!ee.configurable&&(ee.configurable=!0),ee}}},has(Y,T){if(T===STATE_SYMBOL||T===LEGACY_PROPS)return!1;for(let k of Y.props)if(is_function(k)&&(k=k()),k!=null&&T in k)return!0;return!1},ownKeys(Y){const T=[];for(let k of Y.props){is_function(k)&&(k=k());for(const Z in k)T.includes(Z)||T.push(Z)}return T}};function spread_props(...Y){return new Proxy({props:Y},spread_props_handler)}function has_destroyed_component_ctx(Y){var T;return((T=Y.ctx)==null?void 0:T.d)??!1}function prop(Y,T,k,Z){var ft;var ee=(k&PROPS_IS_IMMUTABLE)!==0,te=!legacy_mode_flag||(k&PROPS_IS_RUNES)!==0,ne=(k&PROPS_IS_BINDABLE)!==0,me=(k&PROPS_IS_LAZY_INITIAL)!==0,Ve=!1,Ye;ne?[Ye,Ve]=capture_store_binding(()=>Y[T]):Ye=Y[T];var et=STATE_SYMBOL in Y||LEGACY_PROPS in Y,tt=ne&&(((ft=get_descriptor(Y,T))==null?void 0:ft.set)??(et&&T in Y&&(vt=>Y[T]=vt)))||void 0,it=Z,st=!0,nt=!1,rt=()=>(nt=!0,st&&(st=!1,me?it=untrack(Z):it=Z),it);Ye===void 0&&Z!==void 0&&(tt&&te&&props_invalid_value(),Ye=rt(),tt&&tt(Ye));var lt;if(te)lt=()=>{var vt=Y[T];return vt===void 0?rt():(st=!0,nt=!1,vt)};else{var ot=(ee?derived$1:derived_safe_equal)(()=>Y[T]);ot.f|=LEGACY_DERIVED_PROP,lt=()=>{var vt=get$2(ot);return vt!==void 0&&(it=void 0),vt===void 0?it:vt}}if((k&PROPS_IS_UPDATED)===0)return lt;if(tt){var ht=Y.$$legacy;return function(vt,mt){return arguments.length>0?((!te||!mt||ht||Ve)&&tt(mt?lt():vt),vt):lt()}}var dt=!1,ct=mutable_source(Ye),ut=derived$1(()=>{var vt=lt(),mt=get$2(ct);return dt?(dt=!1,mt):ct.v=vt});return ne&&get$2(ut),ee||(ut.equals=safe_equals),function(vt,mt){if(arguments.length>0){const _t=mt?get$2(ut):te&&ne?proxy(vt):vt;if(!ut.equals(_t)){if(dt=!0,set(ct,_t),nt&&it!==void 0&&(it=_t),has_destroyed_component_ctx(ut))return vt;untrack(()=>get$2(ut))}return vt}return has_destroyed_component_ctx(ut)?ut.v:get$2(ut)}}function onMount(Y){component_context===null&&lifecycle_outside_component(),legacy_mode_flag&&component_context.l!==null?init_update_callbacks(component_context).m.push(Y):user_effect(()=>{const T=untrack(Y);if(typeof T=="function")return T})}function onDestroy(Y){component_context===null&&lifecycle_outside_component(),onMount(()=>()=>untrack(Y))}function create_custom_event(Y,T,{bubbles:k=!1,cancelable:Z=!1}={}){return new CustomEvent(Y,{detail:T,bubbles:k,cancelable:Z})}function createEventDispatcher(){const Y=component_context;return Y===null&&lifecycle_outside_component(),(T,k,Z)=>{var te;const ee=(te=Y.s.$$events)==null?void 0:te[T];if(ee){const ne=is_array(ee)?ee.slice():[ee],me=create_custom_event(T,k,Z);for(const Ve of ne)Ve.call(Y.x,me);return!me.defaultPrevented}return!0}}function afterUpdate(Y){component_context===null&&lifecycle_outside_component(),component_context.l===null&&lifecycle_legacy_only(),init_update_callbacks(component_context).a.push(Y)}function init_update_callbacks(Y){var T=Y.l;return T.u??(T.u={a:[],b:[],m:[]})}const PUBLIC_VERSION="5";var Ha;typeof window<"u"&&((Ha=window.__svelte??(window.__svelte={})).v??(Ha.v=new Set)).add(PUBLIC_VERSION);enable_legacy_mode_flag();const ShortcutModule={events:new Map,longPressEvents:new Map,keyStates:new Map,longPressThreshold:500,api:null,init(Y){this.api=Y,this.bindGlobalListener()},register(Y,T,k){this.events.set(Y,T),k&&this.longPressEvents.set(Y,k)},trigger(Y,T){const k=this.events.get(Y);k&&k(T)},triggerLongPress(Y,T){const k=this.longPressEvents.get(Y);k&&k(T)},unregister(Y){this.events.delete(Y),this.longPressEvents.delete(Y)},buildKeyString(Y){const T=[];Y.ctrlKey&&T.push("ctrl"),Y.shiftKey&&T.push("shift"),Y.altKey&&T.push("alt"),Y.metaKey&&T.push("meta");const k=["control","shift","alt","meta"].includes(Y.key.toLowerCase());if(T.length>0){if(k&&T.length===2)return T.join("+");if(!k)return`${T.join("+")}+${Y.key.toLowerCase()}`}return Y.key.toLowerCase()},bindGlobalListener(){window.addEventListener("keydown",Y=>{const T=this.buildKeyString(Y);if(this.keyStates.has(T))return;const k=Date.now(),Z=setTimeout(()=>{const ee=this.keyStates.get(T);ee&&(ee.isLongPress=!0,this.triggerLongPress(T,{e:Y,isLongPress:!0}))},this.longPressThreshold);this.keyStates.set(T,{timer:Z,startTime:k,isLongPress:!1})}),window.addEventListener("keyup",Y=>{const T=this.buildKeyString(Y),k=this.keyStates.get(T);k&&(clearTimeout(k.timer),k.isLongPress||this.trigger(T,{e:Y,isLongPress:!1}),this.keyStates.delete(T))}),window.addEventListener("blur",()=>{this.keyStates.forEach(Y=>clearTimeout(Y.timer)),this.keyStates.clear()})}};class TransferObject{}class PanelTransfer extends TransferObject{constructor(T,k,Z){super(),this.viewId=T,this.groupId=k,this.panelId=Z}}class LocalSelectionTransfer{constructor(){}static getInstance(){return LocalSelectionTransfer.INSTANCE}hasData(T){return T&&T===this.proto}clearData(T){this.hasData(T)&&(this.proto=void 0,this.data=void 0)}getData(T){if(this.hasData(T))return this.data}setData(T,k){k&&(this.data=T,this.proto=k)}}LocalSelectionTransfer.INSTANCE=new LocalSelectionTransfer;function getPanelData(){const Y=LocalSelectionTransfer.getInstance();if(Y.hasData(PanelTransfer.prototype))return Y.getData(PanelTransfer.prototype)[0]}var Event$3;(function(Y){Y.any=(...T)=>k=>{const Z=T.map(ee=>ee(k));return{dispose:()=>{Z.forEach(ee=>{ee.dispose()})}}}})(Event$3||(Event$3={}));class DockviewEvent{constructor(){this._defaultPrevented=!1}get defaultPrevented(){return this._defaultPrevented}preventDefault(){this._defaultPrevented=!0}}class AcceptableEvent{constructor(){this._isAccepted=!1}get isAccepted(){return this._isAccepted}accept(){this._isAccepted=!0}}class LeakageMonitor{constructor(){this.events=new Map}get size(){return this.events.size}add(T,k){this.events.set(T,k)}delete(T){this.events.delete(T)}clear(){this.events.clear()}}class Stacktrace{static create(){var T;return new Stacktrace((T=new Error().stack)!==null&&T!==void 0?T:"")}constructor(T){this.value=T}print(){console.warn("dockview: stacktrace",this.value)}}class Listener{constructor(T,k){this.callback=T,this.stacktrace=k}}class Emitter{static setLeakageMonitorEnabled(T){T!==Emitter.ENABLE_TRACKING&&Emitter.MEMORY_LEAK_WATCHER.clear(),Emitter.ENABLE_TRACKING=T}get value(){return this._last}constructor(T){this.options=T,this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=T=>{var k;!((k=this.options)===null||k===void 0)&&k.replay&&this._last!==void 0&&T(this._last);const Z=new Listener(T,Emitter.ENABLE_TRACKING?Stacktrace.create():void 0);return this._listeners.push(Z),{dispose:()=>{const ee=this._listeners.indexOf(Z);ee>-1&&this._listeners.splice(ee,1)}}},Emitter.ENABLE_TRACKING&&Emitter.MEMORY_LEAK_WATCHER.add(this._event,Stacktrace.create())),this._event}fire(T){this._last=T;for(const k of this._listeners)k.callback(T)}dispose(){this._disposed||(this._disposed=!0,this._listeners.length>0&&(Emitter.ENABLE_TRACKING&&queueMicrotask(()=>{var T;for(const k of this._listeners)console.warn("dockview: stacktrace",(T=k.stacktrace)===null||T===void 0?void 0:T.print())}),this._listeners=[]),Emitter.ENABLE_TRACKING&&this._event&&Emitter.MEMORY_LEAK_WATCHER.delete(this._event))}}Emitter.ENABLE_TRACKING=!1;Emitter.MEMORY_LEAK_WATCHER=new LeakageMonitor;function addDisposableListener(Y,T,k,Z){return Y.addEventListener(T,k,Z),{dispose:()=>{Y.removeEventListener(T,k,Z)}}}class AsapEvent{constructor(){this._onFired=new Emitter,this._currentFireCount=0,this._queued=!1,this.onEvent=T=>{const k=this._currentFireCount;return this._onFired.event(()=>{this._currentFireCount>k&&T()})}}fire(){this._currentFireCount++,!this._queued&&(this._queued=!0,queueMicrotask(()=>{this._queued=!1,this._onFired.fire()}))}dispose(){this._onFired.dispose()}}var Disposable;(function(Y){Y.NONE={dispose:()=>{}};function T(k){return{dispose:()=>{k()}}}Y.from=T})(Disposable||(Disposable={}));class CompositeDisposable{get isDisposed(){return this._isDisposed}constructor(...T){this._isDisposed=!1,this._disposables=T}addDisposables(...T){T.forEach(k=>this._disposables.push(k))}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposables.forEach(T=>T.dispose()),this._disposables=[])}}class MutableDisposable{constructor(){this._disposable=Disposable.NONE}set value(T){this._disposable&&this._disposable.dispose(),this._disposable=T}dispose(){this._disposable&&(this._disposable.dispose(),this._disposable=Disposable.NONE)}}class OverflowObserver extends CompositeDisposable{constructor(T){super(),this._onDidChange=new Emitter,this.onDidChange=this._onDidChange.event,this._value=null,this.addDisposables(this._onDidChange,watchElementResize(T,k=>{const Z=k.target.scrollWidth>k.target.clientWidth,ee=k.target.scrollHeight>k.target.clientHeight;this._value={hasScrollX:Z,hasScrollY:ee},this._onDidChange.fire(this._value)}))}}function watchElementResize(Y,T){const k=new ResizeObserver(Z=>{requestAnimationFrame(()=>{const ee=Z[0];T(ee)})});return k.observe(Y),{dispose:()=>{k.unobserve(Y),k.disconnect()}}}const removeClasses=(Y,...T)=>{for(const k of T)Y.classList.contains(k)&&Y.classList.remove(k)},addClasses=(Y,...T)=>{for(const k of T)Y.classList.contains(k)||Y.classList.add(k)},toggleClass$1=(Y,T,k)=>{const Z=Y.classList.contains(T);k&&!Z&&Y.classList.add(T),!k&&Z&&Y.classList.remove(T)};function isAncestor(Y,T){for(;Y;){if(Y===T)return!0;Y=Y.parentNode}return!1}function trackFocus(Y){return new FocusTracker(Y)}class FocusTracker extends CompositeDisposable{constructor(T){super(),this._onDidFocus=new Emitter,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new Emitter,this.onDidBlur=this._onDidBlur.event,this.addDisposables(this._onDidFocus,this._onDidBlur);let k=isAncestor(document.activeElement,T),Z=!1;const ee=()=>{Z=!1,k||(k=!0,this._onDidFocus.fire())},te=()=>{k&&(Z=!0,window.setTimeout(()=>{Z&&(Z=!1,k=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{isAncestor(document.activeElement,T)!==k&&(k?te():ee())},this.addDisposables(addDisposableListener(T,"focus",ee,!0)),this.addDisposables(addDisposableListener(T,"blur",te,!0))}refreshState(){this._refreshStateHandler()}}const QUASI_PREVENT_DEFAULT_KEY="dv-quasiPreventDefault";function quasiPreventDefault(Y){Y[QUASI_PREVENT_DEFAULT_KEY]=!0}function quasiDefaultPrevented(Y){return Y[QUASI_PREVENT_DEFAULT_KEY]}function addStyles(Y,T){const k=Array.from(T);for(const Z of k){if(Z.href){const te=Y.createElement("link");te.href=Z.href,te.type=Z.type,te.rel="stylesheet",Y.head.appendChild(te)}let ee=[];try{Z.cssRules&&(ee=Array.from(Z.cssRules).map(te=>te.cssText))}catch{}for(const te of ee){const ne=Y.createElement("style");ne.appendChild(Y.createTextNode(te)),Y.head.appendChild(ne)}}}function getDomNodePagePosition(Y){const{left:T,top:k,width:Z,height:ee}=Y.getBoundingClientRect();return{left:T+window.scrollX,top:k+window.scrollY,width:Z,height:ee}}function isInDocument(Y){let T=Y;for(;T!=null&&T.parentNode;){if(T.parentNode===document)return!0;T.parentNode instanceof DocumentFragment?T=T.parentNode.host:T=T.parentNode}return!1}function addTestId(Y,T){Y.setAttribute("data-testid",T)}function allTagsNamesInclusiveOfShadowDoms(Y){const T=[];function k(Z){if(Z.nodeType===Node.ELEMENT_NODE){Y.includes(Z.tagName)&&T.push(Z),Z.shadowRoot&&k(Z.shadowRoot);for(const ee of Z.children)k(ee)}}return k(document.documentElement),T}function disableIframePointEvents(Y=document){const T=allTagsNamesInclusiveOfShadowDoms(["IFRAME","WEBVIEW"]),k=new WeakMap;for(const Z of T)k.set(Z,Z.style.pointerEvents),Z.style.pointerEvents="none";return{release:()=>{var Z;for(const ee of T)ee.style.pointerEvents=(Z=k.get(ee))!==null&&Z!==void 0?Z:"auto";T.splice(0,T.length)}}}function getDockviewTheme(Y){function T(ee){const te=[];for(let ne=0;ne<ee.classList.length;ne++)te.push(ee.classList.item(ne));return te}let k,Z=Y;for(;Z!==null&&(k=T(Z).find(ee=>ee.startsWith("dockview-theme-")),typeof k!="string");)Z=Z.parentElement;return k}class Classnames{constructor(T){this.element=T,this._classNames=[]}setClassNames(T){for(const k of this._classNames)toggleClass$1(this.element,k,!1);this._classNames=T.split(" ").filter(k=>k.trim().length>0);for(const k of this._classNames)toggleClass$1(this.element,k,!0)}}const DEBOUCE_DELAY=100;function isChildEntirelyVisibleWithinParent(Y,T){const k=getDomNodePagePosition(Y),Z=getDomNodePagePosition(T);return!(k.left<Z.left||k.left+k.width>Z.left+Z.width)}function onDidWindowMoveEnd(Y){const T=new Emitter;let k=Y.screenX,Z=Y.screenY,ee;const te=()=>{if(Y.closed)return;const ne=Y.screenX,me=Y.screenY;(ne!==k||me!==Z)&&(clearTimeout(ee),ee=setTimeout(()=>{T.fire()},DEBOUCE_DELAY),k=ne,Z=me),requestAnimationFrame(te)};return te(),T}function onDidWindowResizeEnd(Y,T){let k;return new CompositeDisposable(addDisposableListener(Y,"resize",()=>{clearTimeout(k),k=setTimeout(()=>{T()},DEBOUCE_DELAY)}))}function tail(Y){if(Y.length===0)throw new Error("Invalid tail call");return[Y.slice(0,Y.length-1),Y[Y.length-1]]}function sequenceEquals(Y,T){if(Y.length!==T.length)return!1;for(let k=0;k<Y.length;k++)if(Y[k]!==T[k])return!1;return!0}function pushToStart(Y,T){const k=Y.indexOf(T);k>-1&&(Y.splice(k,1),Y.unshift(T))}function pushToEnd(Y,T){const k=Y.indexOf(T);k>-1&&(Y.splice(k,1),Y.push(T))}function firstIndex(Y,T){for(let k=0;k<Y.length;k++){const Z=Y[k];if(T(Z))return k}return-1}function remove(Y,T){const k=Y.findIndex(Z=>Z===T);return k>-1?(Y.splice(k,1),!0):!1}const clamp$2=(Y,T,k)=>T>k?T:Math.min(k,Math.max(Y,T)),sequentialNumberGenerator=()=>{let Y=1;return{next:()=>(Y++).toString()}},range=(Y,T)=>{const k=[];if(typeof T!="number"&&(T=Y,Y=0),Y<=T)for(let Z=Y;Z<T;Z++)k.push(Z);else for(let Z=Y;Z>T;Z--)k.push(Z);return k};class ViewItem{set size(T){this._size=T}get size(){return this._size}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return typeof this._cachedVisibleSize>"u"}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(T){this.container.style.pointerEvents=T?"":"none"}constructor(T,k,Z,ee){this.container=T,this.view=k,this.disposable=ee,this._cachedVisibleSize=void 0,typeof Z=="number"?(this._size=Z,this._cachedVisibleSize=void 0,T.classList.add("visible")):(this._size=0,this._cachedVisibleSize=Z.cachedVisibleSize)}setVisible(T,k){var Z;T!==this.visible&&(T?(this.size=clamp$2((Z=this._cachedVisibleSize)!==null&&Z!==void 0?Z:0,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof k=="number"?k:this.size,this.size=0),this.container.classList.toggle("visible",T),this.view.setVisible&&this.view.setVisible(T))}dispose(){return this.disposable.dispose(),this.view}}var Orientation;(function(Y){Y.HORIZONTAL="HORIZONTAL",Y.VERTICAL="VERTICAL"})(Orientation||(Orientation={}));var SashState;(function(Y){Y[Y.MAXIMUM=0]="MAXIMUM",Y[Y.MINIMUM=1]="MINIMUM",Y[Y.DISABLED=2]="DISABLED",Y[Y.ENABLED=3]="ENABLED"})(SashState||(SashState={}));var LayoutPriority;(function(Y){Y.Low="low",Y.High="high",Y.Normal="normal"})(LayoutPriority||(LayoutPriority={}));var Sizing;(function(Y){Y.Distribute={type:"distribute"};function T(Z){return{type:"split",index:Z}}Y.Split=T;function k(Z){return{type:"invisible",cachedVisibleSize:Z}}Y.Invisible=k})(Sizing||(Sizing={}));class Splitview{get contentSize(){return this._contentSize}get size(){return this._size}set size(T){this._size=T}get orthogonalSize(){return this._orthogonalSize}set orthogonalSize(T){this._orthogonalSize=T}get length(){return this.viewItems.length}get proportions(){return this._proportions?[...this._proportions]:void 0}get orientation(){return this._orientation}set orientation(T){this._orientation=T;const k=this.size;this.size=this.orthogonalSize,this.orthogonalSize=k,removeClasses(this.element,"dv-horizontal","dv-vertical"),this.element.classList.add(this.orientation==Orientation.HORIZONTAL?"dv-horizontal":"dv-vertical")}get minimumSize(){return this.viewItems.reduce((T,k)=>T+k.minimumSize,0)}get maximumSize(){return this.length===0?Number.POSITIVE_INFINITY:this.viewItems.reduce((T,k)=>T+k.maximumSize,0)}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(T){this._startSnappingEnabled!==T&&(this._startSnappingEnabled=T,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(T){this._endSnappingEnabled!==T&&(this._endSnappingEnabled=T,this.updateSashEnablement())}get disabled(){return this._disabled}set disabled(T){this._disabled=T,toggleClass$1(this.element,"dv-splitview-disabled",T)}get margin(){return this._margin}set margin(T){this._margin=T,toggleClass$1(this.element,"dv-splitview-has-margin",T!==0)}constructor(T,k){var Z,ee;this.container=T,this.viewItems=[],this.sashes=[],this._size=0,this._orthogonalSize=0,this._contentSize=0,this._proportions=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this._disabled=!1,this._margin=0,this._onDidSashEnd=new Emitter,this.onDidSashEnd=this._onDidSashEnd.event,this._onDidAddView=new Emitter,this.onDidAddView=this._onDidAddView.event,this._onDidRemoveView=new Emitter,this.onDidRemoveView=this._onDidRemoveView.event,this.resize=(te,ne,me=this.viewItems.map(nt=>nt.size),Ve,Ye,et=Number.NEGATIVE_INFINITY,tt=Number.POSITIVE_INFINITY,it,st)=>{if(te<0||te>this.viewItems.length)return 0;const nt=range(te,-1),rt=range(te+1,this.viewItems.length);if(Ye)for(const At of Ye)pushToStart(nt,At),pushToStart(rt,At);if(Ve)for(const At of Ve)pushToEnd(nt,At),pushToEnd(rt,At);const lt=nt.map(At=>this.viewItems[At]),ot=nt.map(At=>me[At]),ht=rt.map(At=>this.viewItems[At]),dt=rt.map(At=>me[At]),ct=nt.reduce((At,Ct)=>At+this.viewItems[Ct].minimumSize-me[Ct],0),ut=nt.reduce((At,Ct)=>At+this.viewItems[Ct].maximumSize-me[Ct],0),ft=rt.length===0?Number.POSITIVE_INFINITY:rt.reduce((At,Ct)=>At+me[Ct]-this.viewItems[Ct].minimumSize,0),vt=rt.length===0?Number.NEGATIVE_INFINITY:rt.reduce((At,Ct)=>At+me[Ct]-this.viewItems[Ct].maximumSize,0),mt=Math.max(ct,vt),_t=Math.min(ft,ut);let Et=!1;if(it){const At=this.viewItems[it.index],Ct=ne>=it.limitDelta;Et=Ct!==At.visible,At.setVisible(Ct,it.size)}if(!Et&&st){const At=this.viewItems[st.index],Ct=ne<st.limitDelta;Et=Ct!==At.visible,At.setVisible(Ct,st.size)}if(Et)return this.resize(te,ne,me,Ve,Ye,et,tt);const Tt=clamp$2(ne,mt,_t);let xt=0,yt=Tt;for(let At=0;At<lt.length;At++){const Ct=lt[At],It=clamp$2(ot[At]+yt,Ct.minimumSize,Ct.maximumSize),Ot=It-ot[At];xt+=Ot,yt-=Ot,Ct.size=It}let St=xt;for(let At=0;At<ht.length;At++){const Ct=ht[At],It=clamp$2(dt[At]-St,Ct.minimumSize,Ct.maximumSize),Ot=It-dt[At];St+=Ot,Ct.size=It}return ne},this._orientation=(Z=k.orientation)!==null&&Z!==void 0?Z:Orientation.VERTICAL,this.element=this.createContainer(),this.margin=(ee=k.margin)!==null&&ee!==void 0?ee:0,this.proportionalLayout=k.proportionalLayout===void 0?!0:!!k.proportionalLayout,this.viewContainer=this.createViewContainer(),this.sashContainer=this.createSashContainer(),this.element.appendChild(this.sashContainer),this.element.appendChild(this.viewContainer),this.container.appendChild(this.element),this.style(k.styles),k.descriptor&&(this._size=k.descriptor.size,k.descriptor.views.forEach((te,ne)=>{const me=te.visible===void 0||te.visible?te.size:{type:"invisible",cachedVisibleSize:te.size},Ve=te.view;this.addView(Ve,me,ne,!0)}),this._contentSize=this.viewItems.reduce((te,ne)=>te+ne.size,0),this.saveProportions())}style(T){(T==null?void 0:T.separatorBorder)==="transparent"?(removeClasses(this.element,"dv-separator-border"),this.element.style.removeProperty("--dv-separator-border")):(addClasses(this.element,"dv-separator-border"),T!=null&&T.separatorBorder&&this.element.style.setProperty("--dv-separator-border",T.separatorBorder))}isViewVisible(T){if(T<0||T>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[T].visible}setViewVisible(T,k){if(T<0||T>=this.viewItems.length)throw new Error("Index out of bounds");const Z=this.viewItems[T];Z.setVisible(k,Z.size),this.distributeEmptySpace(T),this.layoutViews(),this.saveProportions()}getViewSize(T){return T<0||T>=this.viewItems.length?-1:this.viewItems[T].size}resizeView(T,k){if(T<0||T>=this.viewItems.length)return;const Z=range(this.viewItems.length).filter(me=>me!==T),ee=[...Z.filter(me=>this.viewItems[me].priority===LayoutPriority.Low),T],te=Z.filter(me=>this.viewItems[me].priority===LayoutPriority.High),ne=this.viewItems[T];k=Math.round(k),k=clamp$2(k,ne.minimumSize,Math.min(ne.maximumSize,this._size)),ne.size=k,this.relayout(ee,te)}getViews(){return this.viewItems.map(T=>T.view)}onDidChange(T,k){const Z=this.viewItems.indexOf(T);if(Z<0||Z>=this.viewItems.length)return;k=typeof k=="number"?k:T.size,k=clamp$2(k,T.minimumSize,T.maximumSize),T.size=k;const ee=range(this.viewItems.length).filter(me=>me!==Z),te=[...ee.filter(me=>this.viewItems[me].priority===LayoutPriority.Low),Z],ne=ee.filter(me=>this.viewItems[me].priority===LayoutPriority.High);this.relayout([...te,Z],ne)}addView(T,k={type:"distribute"},Z=this.viewItems.length,ee){const te=document.createElement("div");te.className="dv-view",te.appendChild(T.element);let ne;typeof k=="number"?ne=k:k.type==="split"?ne=this.getViewSize(k.index)/2:k.type==="invisible"?ne={cachedVisibleSize:k.cachedVisibleSize}:ne=T.minimumSize;const me=T.onDidChange(Ye=>this.onDidChange(Ve,Ye.size)),Ve=new ViewItem(te,T,ne,{dispose:()=>{me.dispose(),this.viewContainer.removeChild(te)}});if(Z===this.viewItems.length?this.viewContainer.appendChild(te):this.viewContainer.insertBefore(te,this.viewContainer.children.item(Z)),this.viewItems.splice(Z,0,Ve),this.viewItems.length>1){const Ye=document.createElement("div");Ye.className="dv-sash";const et=it=>{for(const At of this.viewItems)At.enabled=!1;const st=disableIframePointEvents(),nt=this._orientation===Orientation.HORIZONTAL?it.clientX:it.clientY,rt=firstIndex(this.sashes,At=>At.container===Ye),lt=this.viewItems.map(At=>At.size);let ot,ht;const dt=range(rt,-1),ct=range(rt+1,this.viewItems.length),ut=dt.reduce((At,Ct)=>At+(this.viewItems[Ct].minimumSize-lt[Ct]),0),ft=dt.reduce((At,Ct)=>At+(this.viewItems[Ct].viewMaximumSize-lt[Ct]),0),vt=ct.length===0?Number.POSITIVE_INFINITY:ct.reduce((At,Ct)=>At+(lt[Ct]-this.viewItems[Ct].minimumSize),0),mt=ct.length===0?Number.NEGATIVE_INFINITY:ct.reduce((At,Ct)=>At+(lt[Ct]-this.viewItems[Ct].viewMaximumSize),0),_t=Math.max(ut,mt),Et=Math.min(vt,ft),Tt=this.findFirstSnapIndex(dt),xt=this.findFirstSnapIndex(ct);if(typeof Tt=="number"){const At=this.viewItems[Tt],Ct=Math.floor(At.viewMinimumSize/2);ot={index:Tt,limitDelta:At.visible?_t-Ct:_t+Ct,size:At.size}}if(typeof xt=="number"){const At=this.viewItems[xt],Ct=Math.floor(At.viewMinimumSize/2);ht={index:xt,limitDelta:At.visible?Et+Ct:Et-Ct,size:At.size}}const yt=At=>{const It=(this._orientation===Orientation.HORIZONTAL?At.clientX:At.clientY)-nt;this.resize(rt,It,lt,void 0,void 0,_t,Et,ot,ht),this.distributeEmptySpace(),this.layoutViews()},St=()=>{for(const At of this.viewItems)At.enabled=!0;st.release(),this.saveProportions(),document.removeEventListener("pointermove",yt),document.removeEventListener("pointerup",St),document.removeEventListener("pointercancel",St),this._onDidSashEnd.fire(void 0)};document.addEventListener("pointermove",yt),document.addEventListener("pointerup",St),document.addEventListener("pointercancel",St)};Ye.addEventListener("pointerdown",et);const tt={container:Ye,disposable:()=>{Ye.removeEventListener("pointerdown",et),this.sashContainer.removeChild(Ye)}};this.sashContainer.appendChild(Ye),this.sashes.push(tt)}ee||this.relayout([Z]),!ee&&typeof k!="number"&&k.type==="distribute"&&this.distributeViewSizes(),this._onDidAddView.fire(T)}distributeViewSizes(){const T=[];let k=0;for(const me of this.viewItems)me.maximumSize-me.minimumSize>0&&(T.push(me),k+=me.size);const Z=Math.floor(k/T.length);for(const me of T)me.size=clamp$2(Z,me.minimumSize,me.maximumSize);const ee=range(this.viewItems.length),te=ee.filter(me=>this.viewItems[me].priority===LayoutPriority.Low),ne=ee.filter(me=>this.viewItems[me].priority===LayoutPriority.High);this.relayout(te,ne)}removeView(T,k,Z=!1){const ee=this.viewItems.splice(T,1)[0];if(ee.dispose(),this.viewItems.length>=1){const te=Math.max(T-1,0);this.sashes.splice(te,1)[0].disposable()}return Z||this.relayout(),k&&k.type==="distribute"&&this.distributeViewSizes(),this._onDidRemoveView.fire(ee.view),ee.view}getViewCachedVisibleSize(T){if(T<0||T>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[T].cachedVisibleSize}moveView(T,k){const Z=this.getViewCachedVisibleSize(T),ee=typeof Z>"u"?this.getViewSize(T):Sizing.Invisible(Z),te=this.removeView(T,void 0,!0);this.addView(te,ee,k)}layout(T,k){const Z=Math.max(this.size,this._contentSize);if(this.size=T,this.orthogonalSize=k,this.proportions){let ee=0;for(let te=0;te<this.viewItems.length;te++){const ne=this.viewItems[te],me=this.proportions[te];typeof me=="number"?ee+=me:T-=ne.size}for(let te=0;te<this.viewItems.length;te++){const ne=this.viewItems[te],me=this.proportions[te];typeof me=="number"&&ee>0&&(ne.size=clamp$2(Math.round(me*T/ee),ne.minimumSize,ne.maximumSize))}}else{const ee=range(this.viewItems.length),te=ee.filter(me=>this.viewItems[me].priority===LayoutPriority.Low),ne=ee.filter(me=>this.viewItems[me].priority===LayoutPriority.High);this.resize(this.viewItems.length-1,T-Z,void 0,te,ne)}this.distributeEmptySpace(),this.layoutViews()}relayout(T,k){const Z=this.viewItems.reduce((ee,te)=>ee+te.size,0);this.resize(this.viewItems.length-1,this._size-Z,void 0,T,k),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}distributeEmptySpace(T){const k=this.viewItems.reduce((me,Ve)=>me+Ve.size,0);let Z=this.size-k;const ee=range(this.viewItems.length-1,-1),te=ee.filter(me=>this.viewItems[me].priority===LayoutPriority.Low),ne=ee.filter(me=>this.viewItems[me].priority===LayoutPriority.High);for(const me of ne)pushToStart(ee,me);for(const me of te)pushToEnd(ee,me);typeof T=="number"&&pushToEnd(ee,T);for(let me=0;Z!==0&&me<ee.length;me++){const Ve=this.viewItems[ee[me]],Ye=clamp$2(Ve.size+Z,Ve.minimumSize,Ve.maximumSize),et=Ye-Ve.size;Z-=et,Ve.size=Ye}}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this._proportions=this.viewItems.map(T=>T.visible?T.size/this._contentSize:void 0))}layoutViews(){if(this._contentSize=this.viewItems.reduce((Ve,Ye)=>Ve+Ye.size,0),this.updateSashEnablement(),this.viewItems.length===0)return;const T=this.viewItems.filter(Ve=>Ve.visible),k=Math.max(0,T.length-1),Z=this.margin*k/Math.max(1,T.length);let ee=0;const te=[],ne=4,me=this.viewItems.reduce((Ve,Ye,et)=>{const tt=Ye.visible?1:0;return et===0?Ve.push(tt):Ve.push(Ve[et-1]+tt),Ve},[]);this.viewItems.forEach((Ve,Ye)=>{ee+=this.viewItems[Ye].size,te.push(ee);const et=Ve.visible?Ve.size-Z:0,tt=Math.max(0,me[Ye]-1),it=Ye===0||tt===0?0:te[Ye-1]+tt/k*Z;if(Ye<this.viewItems.length-1){const st=Ve.visible?it+et-ne/2+this.margin/2:it;this._orientation===Orientation.HORIZONTAL&&(this.sashes[Ye].container.style.left=`${st}px`,this.sashes[Ye].container.style.top="0px"),this._orientation===Orientation.VERTICAL&&(this.sashes[Ye].container.style.left="0px",this.sashes[Ye].container.style.top=`${st}px`)}this._orientation===Orientation.HORIZONTAL&&(Ve.container.style.width=`${et}px`,Ve.container.style.left=`${it}px`,Ve.container.style.top="",Ve.container.style.height=""),this._orientation===Orientation.VERTICAL&&(Ve.container.style.height=`${et}px`,Ve.container.style.top=`${it}px`,Ve.container.style.width="",Ve.container.style.left=""),Ve.view.layout(Ve.size-Z,this._orthogonalSize)})}findFirstSnapIndex(T){for(const k of T){const Z=this.viewItems[k];if(Z.visible&&Z.snap)return k}for(const k of T){const Z=this.viewItems[k];if(Z.visible&&Z.maximumSize-Z.minimumSize>0)return;if(!Z.visible&&Z.snap)return k}}updateSashEnablement(){let T=!1;const k=this.viewItems.map(Ve=>T=Ve.size-Ve.minimumSize>0||T);T=!1;const Z=this.viewItems.map(Ve=>T=Ve.maximumSize-Ve.size>0||T),ee=[...this.viewItems].reverse();T=!1;const te=ee.map(Ve=>T=Ve.size-Ve.minimumSize>0||T).reverse();T=!1;const ne=ee.map(Ve=>T=Ve.maximumSize-Ve.size>0||T).reverse();let me=0;for(let Ve=0;Ve<this.sashes.length;Ve++){const Ye=this.sashes[Ve],et=this.viewItems[Ve];me+=et.size;const tt=!(k[Ve]&&ne[Ve+1]),it=!(Z[Ve]&&te[Ve+1]);if(tt&&it){const st=range(Ve,-1),nt=range(Ve+1,this.viewItems.length),rt=this.findFirstSnapIndex(st),lt=this.findFirstSnapIndex(nt),ot=typeof rt=="number"&&!this.viewItems[rt].visible,ht=typeof lt=="number"&&!this.viewItems[lt].visible;ot&&te[Ve]&&(me>0||this.startSnappingEnabled)?this.updateSash(Ye,SashState.MINIMUM):ht&&k[Ve]&&(me<this._contentSize||this.endSnappingEnabled)?this.updateSash(Ye,SashState.MAXIMUM):this.updateSash(Ye,SashState.DISABLED)}else tt&&!it?this.updateSash(Ye,SashState.MINIMUM):!tt&&it?this.updateSash(Ye,SashState.MAXIMUM):this.updateSash(Ye,SashState.ENABLED)}}updateSash(T,k){toggleClass$1(T.container,"dv-disabled",k===SashState.DISABLED),toggleClass$1(T.container,"dv-enabled",k===SashState.ENABLED),toggleClass$1(T.container,"dv-maximum",k===SashState.MAXIMUM),toggleClass$1(T.container,"dv-minimum",k===SashState.MINIMUM)}createViewContainer(){const T=document.createElement("div");return T.className="dv-view-container",T}createSashContainer(){const T=document.createElement("div");return T.className="dv-sash-container",T}createContainer(){const T=document.createElement("div"),k=this._orientation===Orientation.HORIZONTAL?"dv-horizontal":"dv-vertical";return T.className=`dv-split-view-container ${k}`,T}dispose(){this._onDidSashEnd.dispose(),this._onDidAddView.dispose(),this._onDidRemoveView.dispose();for(let T=0;T<this.element.children.length;T++)if(this.element.children.item(T)===this.element){this.element.removeChild(this.element);break}for(const T of this.viewItems)T.dispose();this.element.remove()}}const PROPERTY_KEYS_SPLITVIEW=Object.keys({orientation:void 0,descriptor:void 0,proportionalLayout:void 0,styles:void 0,margin:void 0,disableAutoResizing:void 0,className:void 0});class LeafNode{get minimumWidth(){return this.view.minimumWidth}get maximumWidth(){return this.view.maximumWidth}get minimumHeight(){return this.view.minimumHeight}get maximumHeight(){return this.view.maximumHeight}get priority(){return this.view.priority}get snap(){return this.view.snap}get minimumSize(){return this.orientation===Orientation.HORIZONTAL?this.minimumHeight:this.minimumWidth}get maximumSize(){return this.orientation===Orientation.HORIZONTAL?this.maximumHeight:this.maximumWidth}get minimumOrthogonalSize(){return this.orientation===Orientation.HORIZONTAL?this.minimumWidth:this.minimumHeight}get maximumOrthogonalSize(){return this.orientation===Orientation.HORIZONTAL?this.maximumWidth:this.maximumHeight}get orthogonalSize(){return this._orthogonalSize}get size(){return this._size}get element(){return this.view.element}get width(){return this.orientation===Orientation.HORIZONTAL?this.orthogonalSize:this.size}get height(){return this.orientation===Orientation.HORIZONTAL?this.size:this.orthogonalSize}constructor(T,k,Z,ee=0){this.view=T,this.orientation=k,this._onDidChange=new Emitter,this.onDidChange=this._onDidChange.event,this._orthogonalSize=Z,this._size=ee,this._disposable=this.view.onDidChange(te=>{te?this._onDidChange.fire({size:this.orientation===Orientation.VERTICAL?te.width:te.height,orthogonalSize:this.orientation===Orientation.VERTICAL?te.height:te.width}):this._onDidChange.fire({})})}setVisible(T){this.view.setVisible&&this.view.setVisible(T)}layout(T,k){this._size=T,this._orthogonalSize=k,this.view.layout(this.width,this.height)}dispose(){this._onDidChange.dispose(),this._disposable.dispose()}}class BranchNode extends CompositeDisposable{get width(){return this.orientation===Orientation.HORIZONTAL?this.size:this.orthogonalSize}get height(){return this.orientation===Orientation.HORIZONTAL?this.orthogonalSize:this.size}get minimumSize(){return this.children.length===0?0:Math.max(...this.children.map((T,k)=>this.splitview.isViewVisible(k)?T.minimumOrthogonalSize:0))}get maximumSize(){return Math.min(...this.children.map((T,k)=>this.splitview.isViewVisible(k)?T.maximumOrthogonalSize:Number.POSITIVE_INFINITY))}get minimumOrthogonalSize(){return this.splitview.minimumSize}get maximumOrthogonalSize(){return this.splitview.maximumSize}get orthogonalSize(){return this._orthogonalSize}get size(){return this._size}get minimumWidth(){return this.orientation===Orientation.HORIZONTAL?this.minimumOrthogonalSize:this.minimumSize}get minimumHeight(){return this.orientation===Orientation.HORIZONTAL?this.minimumSize:this.minimumOrthogonalSize}get maximumWidth(){return this.orientation===Orientation.HORIZONTAL?this.maximumOrthogonalSize:this.maximumSize}get maximumHeight(){return this.orientation===Orientation.HORIZONTAL?this.maximumSize:this.maximumOrthogonalSize}get priority(){if(this.children.length===0)return LayoutPriority.Normal;const T=this.children.map(k=>typeof k.priority>"u"?LayoutPriority.Normal:k.priority);return T.some(k=>k===LayoutPriority.High)?LayoutPriority.High:T.some(k=>k===LayoutPriority.Low)?LayoutPriority.Low:LayoutPriority.Normal}get disabled(){return this.splitview.disabled}set disabled(T){this.splitview.disabled=T}get margin(){return this.splitview.margin}set margin(T){this.splitview.margin=T,this.children.forEach(k=>{k instanceof BranchNode&&(k.margin=T)})}constructor(T,k,Z,ee,te,ne,me,Ve){if(super(),this.orientation=T,this.proportionalLayout=k,this.styles=Z,this._childrenDisposable=Disposable.NONE,this.children=[],this._onDidChange=new Emitter,this.onDidChange=this._onDidChange.event,this._onDidVisibilityChange=new Emitter,this.onDidVisibilityChange=this._onDidVisibilityChange.event,this._orthogonalSize=te,this._size=ee,this.element=document.createElement("div"),this.element.className="dv-branch-node",!Ve)this.splitview=new Splitview(this.element,{orientation:this.orientation,proportionalLayout:k,styles:Z,margin:me}),this.splitview.layout(this.size,this.orthogonalSize);else{const Ye={views:Ve.map(et=>({view:et.node,size:et.node.size,visible:et.node instanceof LeafNode&&et.visible!==void 0?et.visible:!0})),size:this.orthogonalSize};this.children=Ve.map(et=>et.node),this.splitview=new Splitview(this.element,{orientation:this.orientation,descriptor:Ye,proportionalLayout:k,styles:Z,margin:me})}this.disabled=ne,this.addDisposables(this._onDidChange,this._onDidVisibilityChange,this.splitview.onDidSashEnd(()=>{this._onDidChange.fire({})})),this.setupChildrenEvents()}setVisible(T){}isChildVisible(T){if(T<0||T>=this.children.length)throw new Error("Invalid index");return this.splitview.isViewVisible(T)}setChildVisible(T,k){if(T<0||T>=this.children.length)throw new Error("Invalid index");if(this.splitview.isViewVisible(T)===k)return;const Z=this.splitview.contentSize===0;this.splitview.setViewVisible(T,k);const ee=this.splitview.contentSize===0;(k&&Z||!k&&ee)&&this._onDidVisibilityChange.fire({visible:k})}moveChild(T,k){if(T===k)return;if(T<0||T>=this.children.length)throw new Error("Invalid from index");T<k&&k--,this.splitview.moveView(T,k);const Z=this._removeChild(T);this._addChild(Z,k)}getChildSize(T){if(T<0||T>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewSize(T)}resizeChild(T,k){if(T<0||T>=this.children.length)throw new Error("Invalid index");this.splitview.resizeView(T,k)}layout(T,k){this._size=k,this._orthogonalSize=T,this.splitview.layout(k,T)}addChild(T,k,Z,ee){if(Z<0||Z>this.children.length)throw new Error("Invalid index");this.splitview.addView(T,k,Z,ee),this._addChild(T,Z)}getChildCachedVisibleSize(T){if(T<0||T>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewCachedVisibleSize(T)}removeChild(T,k){if(T<0||T>=this.children.length)throw new Error("Invalid index");return this.splitview.removeView(T,k),this._removeChild(T)}_addChild(T,k){this.children.splice(k,0,T),this.setupChildrenEvents()}_removeChild(T){const[k]=this.children.splice(T,1);return this.setupChildrenEvents(),k}setupChildrenEvents(){this._childrenDisposable.dispose(),this._childrenDisposable=new CompositeDisposable(Event$3.any(...this.children.map(T=>T.onDidChange))(T=>{this._onDidChange.fire({size:T.orthogonalSize})}),...this.children.map((T,k)=>T instanceof BranchNode?T.onDidVisibilityChange(({visible:Z})=>{this.setChildVisible(k,Z)}):Disposable.NONE))}dispose(){this._childrenDisposable.dispose(),this.splitview.dispose(),this.children.forEach(T=>T.dispose()),super.dispose()}}function findLeaf(Y,T){if(Y instanceof LeafNode)return Y;if(Y instanceof BranchNode)return findLeaf(Y.children[T?Y.children.length-1:0],T);throw new Error("invalid node")}function flipNode(Y,T,k){if(Y instanceof BranchNode){const Z=new BranchNode(orthogonal(Y.orientation),Y.proportionalLayout,Y.styles,T,k,Y.disabled,Y.margin);let ee=0;for(let te=Y.children.length-1;te>=0;te--){const ne=Y.children[te],me=ne instanceof BranchNode?ne.orthogonalSize:ne.size;let Ve=Y.size===0?0:Math.round(T*me/Y.size);ee+=Ve,te===0&&(Ve+=T-ee),Z.addChild(flipNode(ne,k,Ve),Ve,0,!0)}return Z}else return new LeafNode(Y.view,orthogonal(Y.orientation),k)}function indexInParent(Y){const T=Y.parentElement;if(!T)throw new Error("Invalid grid element");let k=T.firstElementChild,Z=0;for(;k!==Y&&k!==T.lastElementChild&&k;)k=k.nextElementSibling,Z++;return Z}function getGridLocation(Y){const T=Y.parentElement;if(!T)throw new Error("Invalid grid element");if(/\bdv-grid-view\b/.test(T.className))return[];const k=indexInParent(T),Z=T.parentElement.parentElement.parentElement;return[...getGridLocation(Z),k]}function getRelativeLocation(Y,T,k){const Z=getLocationOrientation(Y,T),ee=getDirectionOrientation(k);if(Z===ee){const[te,ne]=tail(T);let me=ne;return(k==="right"||k==="bottom")&&(me+=1),[...te,me]}else{const te=k==="right"||k==="bottom"?1:0;return[...T,te]}}function getDirectionOrientation(Y){return Y==="top"||Y==="bottom"?Orientation.VERTICAL:Orientation.HORIZONTAL}function getLocationOrientation(Y,T){return T.length%2===0?orthogonal(Y):Y}const orthogonal=Y=>Y===Orientation.HORIZONTAL?Orientation.VERTICAL:Orientation.HORIZONTAL;function isGridBranchNode(Y){return!!Y.children}const serializeBranchNode=(Y,T)=>{const k=T===Orientation.VERTICAL?Y.box.width:Y.box.height;return isGridBranchNode(Y)?{type:"branch",data:Y.children.map(Z=>serializeBranchNode(Z,orthogonal(T))),size:k}:typeof Y.cachedVisibleSize=="number"?{type:"leaf",data:Y.view.toJSON(),size:Y.cachedVisibleSize,visible:!1}:{type:"leaf",data:Y.view.toJSON(),size:k}};class Gridview{get length(){return this._root?this._root.children.length:0}get orientation(){return this.root.orientation}set orientation(T){if(this.root.orientation===T)return;const{size:k,orthogonalSize:Z}=this.root;this.root=flipNode(this.root,Z,k),this.root.layout(k,Z)}get width(){return this.root.width}get height(){return this.root.height}get minimumWidth(){return this.root.minimumWidth}get minimumHeight(){return this.root.minimumHeight}get maximumWidth(){return this.root.maximumHeight}get maximumHeight(){return this.root.maximumHeight}get locked(){return this._locked}set locked(T){this._locked=T;const k=[this.root];for(;k.length>0;){const Z=k.pop();Z instanceof BranchNode&&(Z.disabled=T,k.push(...Z.children))}}get margin(){return this._margin}set margin(T){this._margin=T,this.root.margin=T}maximizedView(){var T;return(T=this._maximizedNode)===null||T===void 0?void 0:T.leaf.view}hasMaximizedView(){return this._maximizedNode!==void 0}maximizeView(T){var k;const Z=getGridLocation(T.element),[ee,te]=this.getNode(Z);if(!(te instanceof LeafNode)||((k=this._maximizedNode)===null||k===void 0?void 0:k.leaf)===te)return;this.hasMaximizedView()&&this.exitMaximizedView(),serializeBranchNode(this.getView(),this.orientation);const ne=[];function me(Ve,Ye){for(let et=0;et<Ve.children.length;et++){const tt=Ve.children[et];tt instanceof LeafNode?tt!==Ye&&(Ve.isChildVisible(et)?Ve.setChildVisible(et,!1):ne.push(tt)):me(tt,Ye)}}me(this.root,te),this._maximizedNode={leaf:te,hiddenOnMaximize:ne},this._onDidMaximizedNodeChange.fire({view:te.view,isMaximized:!0})}exitMaximizedView(){if(!this._maximizedNode)return;const T=this._maximizedNode.hiddenOnMaximize;function k(ee){for(let te=ee.children.length-1;te>=0;te--){const ne=ee.children[te];ne instanceof LeafNode?T.includes(ne)||ee.setChildVisible(te,!0):k(ne)}}k(this.root);const Z=this._maximizedNode.leaf;this._maximizedNode=void 0,this._onDidMaximizedNodeChange.fire({view:Z.view,isMaximized:!1})}serialize(){const T=this.maximizedView();let k;T&&(k=getGridLocation(T.element)),this.hasMaximizedView()&&this.exitMaximizedView();const ee={root:serializeBranchNode(this.getView(),this.orientation),width:this.width,height:this.height,orientation:this.orientation};return k&&(ee.maximizedNode={location:k}),T&&this.maximizeView(T),ee}dispose(){this.disposable.dispose(),this._onDidChange.dispose(),this._onDidMaximizedNodeChange.dispose(),this._onDidViewVisibilityChange.dispose(),this.root.dispose(),this._maximizedNode=void 0,this.element.remove()}clear(){const T=this.root.orientation;this.root=new BranchNode(T,this.proportionalLayout,this.styles,this.root.size,this.root.orthogonalSize,this.locked,this.margin)}deserialize(T,k){const Z=T.orientation,ee=Z===Orientation.VERTICAL?T.height:T.width;if(this._deserialize(T.root,Z,k,ee),this.layout(T.width,T.height),T.maximizedNode){const te=T.maximizedNode.location,[ne,me]=this.getNode(te);if(!(me instanceof LeafNode))return;this.maximizeView(me.view)}}_deserialize(T,k,Z,ee){this.root=this._deserializeNode(T,k,Z,ee)}_deserializeNode(T,k,Z,ee){var te;let ne;if(T.type==="branch"){const Ve=T.data.map(Ye=>({node:this._deserializeNode(Ye,orthogonal(k),Z,T.size),visible:Ye.visible}));ne=new BranchNode(k,this.proportionalLayout,this.styles,T.size,ee,this.locked,this.margin,Ve)}else{const me=Z.fromJSON(T);typeof T.visible=="boolean"&&((te=me.setVisible)===null||te===void 0||te.call(me,T.visible)),ne=new LeafNode(me,k,ee,T.size)}return ne}get root(){return this._root}set root(T){const k=this._root;k&&(k.dispose(),this._maximizedNode=void 0,this.element.removeChild(k.element)),this._root=T,this.element.appendChild(this._root.element),this.disposable.value=this._root.onDidChange(Z=>{this._onDidChange.fire(Z)})}insertOrthogonalSplitviewAtRoot(){if(!this._root)return;const T=this.root;if(T.element.remove(),this._root=new BranchNode(orthogonal(T.orientation),this.proportionalLayout,this.styles,this.root.orthogonalSize,this.root.size,this.locked,this.margin),T.children.length!==0)if(T.children.length===1){const k=T.children[0];T.removeChild(0).dispose(),T.dispose(),this._root.addChild(flipNode(k,k.orthogonalSize,k.size),Sizing.Distribute,0)}else this._root.addChild(T,Sizing.Distribute,0);this.element.appendChild(this._root.element),this.disposable.value=this._root.onDidChange(k=>{this._onDidChange.fire(k)})}next(T){return this.progmaticSelect(T)}previous(T){return this.progmaticSelect(T,!0)}getView(T){const k=T?this.getNode(T)[1]:this.root;return this._getViews(k,this.orientation)}_getViews(T,k,Z){const ee={height:T.height,width:T.width};if(T instanceof LeafNode)return{box:ee,view:T.view,cachedVisibleSize:Z};const te=[];for(let ne=0;ne<T.children.length;ne++){const me=T.children[ne],Ve=T.getChildCachedVisibleSize(ne);te.push(this._getViews(me,orthogonal(k),Ve))}return{box:ee,children:te}}progmaticSelect(T,k=!1){const[Z,ee]=this.getNode(T);if(!(ee instanceof LeafNode))throw new Error("invalid location");for(let te=Z.length-1;te>-1;te--){const ne=Z[te],me=T[te]||0;if(k?me-1>-1:me+1<ne.children.length)return findLeaf(ne.children[k?me-1:me+1],k)}return findLeaf(this.root,k)}constructor(T,k,Z,ee,te){this.proportionalLayout=T,this.styles=k,this._locked=!1,this._margin=0,this._maximizedNode=void 0,this.disposable=new MutableDisposable,this._onDidChange=new Emitter,this.onDidChange=this._onDidChange.event,this._onDidViewVisibilityChange=new Emitter,this.onDidViewVisibilityChange=this._onDidViewVisibilityChange.event,this._onDidMaximizedNodeChange=new Emitter,this.onDidMaximizedNodeChange=this._onDidMaximizedNodeChange.event,this.element=document.createElement("div"),this.element.className="dv-grid-view",this._locked=ee??!1,this._margin=te??0,this.root=new BranchNode(Z,T,k,0,0,this.locked,this.margin)}isViewVisible(T){const[k,Z]=tail(T),[,ee]=this.getNode(k);if(!(ee instanceof BranchNode))throw new Error("Invalid from location");return ee.isChildVisible(Z)}setViewVisible(T,k){this.hasMaximizedView()&&this.exitMaximizedView();const[Z,ee]=tail(T),[,te]=this.getNode(Z);if(!(te instanceof BranchNode))throw new Error("Invalid from location");this._onDidViewVisibilityChange.fire(),te.setChildVisible(ee,k)}moveView(T,k,Z){this.hasMaximizedView()&&this.exitMaximizedView();const[,ee]=this.getNode(T);if(!(ee instanceof BranchNode))throw new Error("Invalid location");ee.moveChild(k,Z)}addView(T,k,Z){this.hasMaximizedView()&&this.exitMaximizedView();const[ee,te]=tail(Z),[ne,me]=this.getNode(ee);if(me instanceof BranchNode){const Ve=new LeafNode(T,orthogonal(me.orientation),me.orthogonalSize);me.addChild(Ve,k,te)}else{const[Ve,...Ye]=[...ne].reverse(),[et,...tt]=[...ee].reverse();let it=0;const st=Ve.getChildCachedVisibleSize(et);typeof st=="number"&&(it=Sizing.Invisible(st)),Ve.removeChild(et).dispose();const rt=new BranchNode(me.orientation,this.proportionalLayout,this.styles,me.size,me.orthogonalSize,this.locked,this.margin);Ve.addChild(rt,me.size,et);const lt=new LeafNode(me.view,Ve.orientation,me.size);rt.addChild(lt,it,0),typeof k!="number"&&k.type==="split"&&(k={type:"split",index:0});const ot=new LeafNode(T,Ve.orientation,me.size);rt.addChild(ot,k,te)}}remove(T,k){const Z=getGridLocation(T.element);return this.removeView(Z,k)}removeView(T,k){this.hasMaximizedView()&&this.exitMaximizedView();const[Z,ee]=tail(T),[te,ne]=this.getNode(Z);if(!(ne instanceof BranchNode))throw new Error("Invalid location");const me=ne.children[ee];if(!(me instanceof LeafNode))throw new Error("Invalid location");if(ne.removeChild(ee,k),me.dispose(),ne.children.length!==1)return me.view;const Ve=ne.children[0];if(te.length===0)return Ve instanceof LeafNode||(ne.removeChild(0,k),this.root=Ve),me.view;const[Ye,...et]=[...te].reverse(),[tt,...it]=[...Z].reverse(),st=ne.isChildVisible(0);ne.removeChild(0,k);const nt=Ye.children.map((rt,lt)=>Ye.getChildSize(lt));if(Ye.removeChild(tt,k).dispose(),Ve instanceof BranchNode){nt.splice(tt,1,...Ve.children.map(rt=>rt.size));for(let rt=0;rt<Ve.children.length;rt++){const lt=Ve.children[rt];Ye.addChild(lt,lt.size,tt+rt)}for(;Ve.children.length>0;)Ve.removeChild(0)}else{const rt=new LeafNode(Ve.view,orthogonal(Ve.orientation),Ve.size),lt=st?Ve.orthogonalSize:Sizing.Invisible(Ve.orthogonalSize);Ye.addChild(rt,lt,tt)}Ve.dispose();for(let rt=0;rt<nt.length;rt++)Ye.resizeChild(rt,nt[rt]);return me.view}layout(T,k){const[Z,ee]=this.root.orientation===Orientation.HORIZONTAL?[k,T]:[T,k];this.root.layout(Z,ee)}getNode(T,k=this.root,Z=[]){if(T.length===0)return[Z,k];if(!(k instanceof BranchNode))throw new Error("Invalid location");const[ee,...te]=T;if(ee<0||ee>=k.children.length)throw new Error("Invalid location");const ne=k.children[ee];return Z.push(k),this.getNode(te,ne,Z)}}class Resizable extends CompositeDisposable{get element(){return this._element}get disableResizing(){return this._disableResizing}set disableResizing(T){this._disableResizing=T}constructor(T,k=!1){super(),this._disableResizing=k,this._element=T,this.addDisposables(watchElementResize(this._element,Z=>{if(this.isDisposed||this.disableResizing||!this._element.offsetParent||!isInDocument(this._element))return;const{width:ee,height:te}=Z.contentRect;this.layout(ee,te)}))}}const nextLayoutId=sequentialNumberGenerator();function toTarget(Y){switch(Y){case"left":return"left";case"right":return"right";case"above":return"top";case"below":return"bottom";case"within":default:return"center"}}class BaseGrid extends Resizable{get id(){return this._id}get size(){return this._groups.size}get groups(){return Array.from(this._groups.values()).map(T=>T.value)}get width(){return this.gridview.width}get height(){return this.gridview.height}get minimumHeight(){return this.gridview.minimumHeight}get maximumHeight(){return this.gridview.maximumHeight}get minimumWidth(){return this.gridview.minimumWidth}get maximumWidth(){return this.gridview.maximumWidth}get activeGroup(){return this._activeGroup}get locked(){return this.gridview.locked}set locked(T){this.gridview.locked=T}constructor(T,k){var Z;super(document.createElement("div"),k.disableAutoResizing),this._id=nextLayoutId.next(),this._groups=new Map,this._onDidRemove=new Emitter,this.onDidRemove=this._onDidRemove.event,this._onDidAdd=new Emitter,this.onDidAdd=this._onDidAdd.event,this._onDidMaximizedChange=new Emitter,this.onDidMaximizedChange=this._onDidMaximizedChange.event,this._onDidActiveChange=new Emitter,this.onDidActiveChange=this._onDidActiveChange.event,this._bufferOnDidLayoutChange=new AsapEvent,this.onDidLayoutChange=this._bufferOnDidLayoutChange.onEvent,this._onDidViewVisibilityChangeMicroTaskQueue=new AsapEvent,this.onDidViewVisibilityChangeMicroTaskQueue=this._onDidViewVisibilityChangeMicroTaskQueue.onEvent,this.element.style.height="100%",this.element.style.width="100%",this._classNames=new Classnames(this.element),this._classNames.setClassNames((Z=k.className)!==null&&Z!==void 0?Z:""),T.appendChild(this.element),this.gridview=new Gridview(!!k.proportionalLayout,k.styles,k.orientation,k.locked,k.margin),this.gridview.locked=!!k.locked,this.element.appendChild(this.gridview.element),this.layout(0,0,!0),this.addDisposables(this.gridview.onDidMaximizedNodeChange(ee=>{this._onDidMaximizedChange.fire({panel:ee.view,isMaximized:ee.isMaximized})}),this.gridview.onDidViewVisibilityChange(()=>this._onDidViewVisibilityChangeMicroTaskQueue.fire()),this.onDidViewVisibilityChangeMicroTaskQueue(()=>{this.layout(this.width,this.height,!0)}),Disposable.from(()=>{var ee;(ee=this.element.parentElement)===null||ee===void 0||ee.removeChild(this.element)}),this.gridview.onDidChange(()=>{this._bufferOnDidLayoutChange.fire()}),Event$3.any(this.onDidAdd,this.onDidRemove,this.onDidActiveChange)(()=>{this._bufferOnDidLayoutChange.fire()}),this._onDidMaximizedChange,this._onDidViewVisibilityChangeMicroTaskQueue,this._bufferOnDidLayoutChange)}setVisible(T,k){this.gridview.setViewVisible(getGridLocation(T.element),k),this._bufferOnDidLayoutChange.fire()}isVisible(T){return this.gridview.isViewVisible(getGridLocation(T.element))}updateOptions(T){var k,Z,ee,te;T.proportionalLayout,T.orientation&&(this.gridview.orientation=T.orientation),"disableResizing"in T&&(this.disableResizing=(k=T.disableAutoResizing)!==null&&k!==void 0?k:!1),"locked"in T&&(this.locked=(Z=T.locked)!==null&&Z!==void 0?Z:!1),"margin"in T&&(this.gridview.margin=(ee=T.margin)!==null&&ee!==void 0?ee:0),"className"in T&&this._classNames.setClassNames((te=T.className)!==null&&te!==void 0?te:"")}maximizeGroup(T){this.gridview.maximizeView(T),this.doSetGroupActive(T)}isMaximizedGroup(T){return this.gridview.maximizedView()===T}exitMaximizedGroup(){this.gridview.exitMaximizedView()}hasMaximizedGroup(){return this.gridview.hasMaximizedView()}doAddGroup(T,k=[0],Z){this.gridview.addView(T,Z??Sizing.Distribute,k),this._onDidAdd.fire(T)}doRemoveGroup(T,k){if(!this._groups.has(T.id))throw new Error("invalid operation");const Z=this._groups.get(T.id),ee=this.gridview.remove(T,Sizing.Distribute);if(Z&&!(k!=null&&k.skipDispose)&&(Z.disposable.dispose(),Z.value.dispose(),this._groups.delete(T.id),this._onDidRemove.fire(T)),!(k!=null&&k.skipActive)&&this._activeGroup===T){const te=Array.from(this._groups.values());this.doSetGroupActive(te.length>0?te[0].value:void 0)}return ee}getPanel(T){var k;return(k=this._groups.get(T))===null||k===void 0?void 0:k.value}doSetGroupActive(T){this._activeGroup!==T&&(this._activeGroup&&this._activeGroup.setActive(!1),T&&T.setActive(!0),this._activeGroup=T,this._onDidActiveChange.fire(T))}removeGroup(T){this.doRemoveGroup(T)}moveToNext(T){var k;if(T||(T={}),!T.group){if(!this.activeGroup)return;T.group=this.activeGroup}const Z=getGridLocation(T.group.element),ee=(k=this.gridview.next(Z))===null||k===void 0?void 0:k.view;this.doSetGroupActive(ee)}moveToPrevious(T){var k;if(T||(T={}),!T.group){if(!this.activeGroup)return;T.group=this.activeGroup}const Z=getGridLocation(T.group.element),ee=(k=this.gridview.previous(Z))===null||k===void 0?void 0:k.view;this.doSetGroupActive(ee)}layout(T,k,Z){(Z||T!==this.width||k!==this.height)&&(this.gridview.element.style.height=`${k}px`,this.gridview.element.style.width=`${T}px`,this.gridview.layout(T,k))}dispose(){this._onDidActiveChange.dispose(),this._onDidAdd.dispose(),this._onDidRemove.dispose();for(const T of this.groups)T.dispose();this.gridview.dispose(),super.dispose()}}class SplitviewApi{get minimumSize(){return this.component.minimumSize}get maximumSize(){return this.component.maximumSize}get width(){return this.component.width}get height(){return this.component.height}get length(){return this.component.length}get orientation(){return this.component.orientation}get panels(){return this.component.panels}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidAddView(){return this.component.onDidAddView}get onDidRemoveView(){return this.component.onDidRemoveView}constructor(T){this.component=T}removePanel(T,k){this.component.removePanel(T,k)}focus(){this.component.focus()}getPanel(T){return this.component.getPanel(T)}layout(T,k){return this.component.layout(T,k)}addPanel(T){return this.component.addPanel(T)}movePanel(T,k){this.component.movePanel(T,k)}fromJSON(T){this.component.fromJSON(T)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}updateOptions(T){this.component.updateOptions(T)}dispose(){this.component.dispose()}}class DockviewApi{get id(){return this.component.id}get width(){return this.component.width}get height(){return this.component.height}get minimumHeight(){return this.component.minimumHeight}get maximumHeight(){return this.component.maximumHeight}get minimumWidth(){return this.component.minimumWidth}get maximumWidth(){return this.component.maximumWidth}get size(){return this.component.size}get totalPanels(){return this.component.totalPanels}get onDidActiveGroupChange(){return this.component.onDidActiveGroupChange}get onDidAddGroup(){return this.component.onDidAddGroup}get onDidRemoveGroup(){return this.component.onDidRemoveGroup}get onDidActivePanelChange(){return this.component.onDidActivePanelChange}get onDidAddPanel(){return this.component.onDidAddPanel}get onDidRemovePanel(){return this.component.onDidRemovePanel}get onDidMovePanel(){return this.component.onDidMovePanel}get onDidLayoutFromJSON(){return this.component.onDidLayoutFromJSON}get onDidLayoutChange(){return this.component.onDidLayoutChange}get onDidDrop(){return this.component.onDidDrop}get onWillDrop(){return this.component.onWillDrop}get onWillShowOverlay(){return this.component.onWillShowOverlay}get onWillDragGroup(){return this.component.onWillDragGroup}get onWillDragPanel(){return this.component.onWillDragPanel}get onUnhandledDragOverEvent(){return this.component.onUnhandledDragOverEvent}get onDidPopoutGroupSizeChange(){return this.component.onDidPopoutGroupSizeChange}get onDidPopoutGroupPositionChange(){return this.component.onDidPopoutGroupPositionChange}get panels(){return this.component.panels}get groups(){return this.component.groups}get activePanel(){return this.component.activePanel}get activeGroup(){return this.component.activeGroup}constructor(T){this.component=T}focus(){this.component.focus()}getPanel(T){return this.component.getGroupPanel(T)}layout(T,k,Z=!1){this.component.layout(T,k,Z)}addPanel(T){return this.component.addPanel(T)}removePanel(T){this.component.removePanel(T)}addGroup(T){return this.component.addGroup(T)}closeAllGroups(){return this.component.closeAllGroups()}removeGroup(T){this.component.removeGroup(T)}getGroup(T){return this.component.getPanel(T)}addFloatingGroup(T,k){return this.component.addFloatingGroup(T,k)}fromJSON(T){this.component.fromJSON(T)}toJSON(){return this.component.toJSON()}clear(){this.component.clear()}moveToNext(T){this.component.moveToNext(T)}moveToPrevious(T){this.component.moveToPrevious(T)}maximizeGroup(T){this.component.maximizeGroup(T.group)}hasMaximizedGroup(){return this.component.hasMaximizedGroup()}exitMaximizedGroup(){this.component.exitMaximizedGroup()}get onDidMaximizedGroupChange(){return this.component.onDidMaximizedGroupChange}addPopoutGroup(T,k){return this.component.addPopoutGroup(T,k)}updateOptions(T){this.component.updateOptions(T)}dispose(){this.component.dispose()}}class DragHandler extends CompositeDisposable{constructor(T){super(),this.el=T,this.dataDisposable=new MutableDisposable,this.pointerEventsDisposable=new MutableDisposable,this._onDragStart=new Emitter,this.onDragStart=this._onDragStart.event,this.addDisposables(this._onDragStart,this.dataDisposable,this.pointerEventsDisposable),this.configure()}isCancelled(T){return!1}configure(){this.addDisposables(this._onDragStart,addDisposableListener(this.el,"dragstart",T=>{if(T.defaultPrevented||this.isCancelled(T)){T.preventDefault();return}const k=disableIframePointEvents();this.pointerEventsDisposable.value={dispose:()=>{k.release()}},this.el.classList.add("dv-dragged"),setTimeout(()=>this.el.classList.remove("dv-dragged"),0),this.dataDisposable.value=this.getData(T),this._onDragStart.fire(T),T.dataTransfer&&(T.dataTransfer.effectAllowed="move",T.dataTransfer.items.length>0||T.dataTransfer.setData("text/plain",""))}),addDisposableListener(this.el,"dragend",()=>{this.pointerEventsDisposable.dispose(),setTimeout(()=>{this.dataDisposable.dispose()},0)}))}}class DragAndDropObserver extends CompositeDisposable{constructor(T,k){super(),this.element=T,this.callbacks=k,this.target=null,this.registerListeners()}onDragEnter(T){this.target=T.target,this.callbacks.onDragEnter(T)}onDragOver(T){T.preventDefault(),this.callbacks.onDragOver&&this.callbacks.onDragOver(T)}onDragLeave(T){this.target===T.target&&(this.target=null,this.callbacks.onDragLeave(T))}onDragEnd(T){this.target=null,this.callbacks.onDragEnd(T)}onDrop(T){this.callbacks.onDrop(T)}registerListeners(){this.addDisposables(addDisposableListener(this.element,"dragenter",T=>{this.onDragEnter(T)},!0)),this.addDisposables(addDisposableListener(this.element,"dragover",T=>{this.onDragOver(T)},!0)),this.addDisposables(addDisposableListener(this.element,"dragleave",T=>{this.onDragLeave(T)})),this.addDisposables(addDisposableListener(this.element,"dragend",T=>{this.onDragEnd(T)})),this.addDisposables(addDisposableListener(this.element,"drop",T=>{this.onDrop(T)}))}}class WillShowOverlayEvent extends DockviewEvent{get nativeEvent(){return this.options.nativeEvent}get position(){return this.options.position}constructor(T){super(),this.options=T}}function directionToPosition(Y){switch(Y){case"above":return"top";case"below":return"bottom";case"left":return"left";case"right":return"right";case"within":return"center";default:throw new Error(`invalid direction '${Y}'`)}}function positionToDirection(Y){switch(Y){case"top":return"above";case"bottom":return"below";case"left":return"left";case"right":return"right";case"center":return"within";default:throw new Error(`invalid position '${Y}'`)}}const DEFAULT_ACTIVATION_SIZE={value:20,type:"percentage"},DEFAULT_SIZE={value:50,type:"percentage"},SMALL_WIDTH_BOUNDARY=100,SMALL_HEIGHT_BOUNDARY=100;class Droptarget extends CompositeDisposable{get disabled(){return this._disabled}set disabled(T){this._disabled=T}get state(){return this._state}constructor(T,k){super(),this.element=T,this.options=k,this._onDrop=new Emitter,this.onDrop=this._onDrop.event,this._onWillShowOverlay=new Emitter,this.onWillShowOverlay=this._onWillShowOverlay.event,this._disabled=!1,this._acceptedTargetZonesSet=new Set(this.options.acceptedTargetZones),this.dnd=new DragAndDropObserver(this.element,{onDragEnter:()=>{var Z,ee,te;(te=(ee=(Z=this.options).getOverrideTarget)===null||ee===void 0?void 0:ee.call(Z))===null||te===void 0||te.getElements()},onDragOver:Z=>{var ee,te,ne,me,Ve,Ye,et;Droptarget.ACTUAL_TARGET=this;const tt=(te=(ee=this.options).getOverrideTarget)===null||te===void 0?void 0:te.call(ee);if(this._acceptedTargetZonesSet.size===0){if(tt)return;this.removeDropTarget();return}const it=(Ve=(me=(ne=this.options).getOverlayOutline)===null||me===void 0?void 0:me.call(ne))!==null&&Ve!==void 0?Ve:this.element,st=it.offsetWidth,nt=it.offsetHeight;if(st===0||nt===0)return;const rt=Z.currentTarget.getBoundingClientRect(),lt=((Ye=Z.clientX)!==null&&Ye!==void 0?Ye:0)-rt.left,ot=((et=Z.clientY)!==null&&et!==void 0?et:0)-rt.top,ht=this.calculateQuadrant(this._acceptedTargetZonesSet,lt,ot,st,nt);if(this.isAlreadyUsed(Z)||ht===null){this.removeDropTarget();return}if(!this.options.canDisplayOverlay(Z,ht)){if(tt)return;this.removeDropTarget();return}const dt=new WillShowOverlayEvent({nativeEvent:Z,position:ht});if(this._onWillShowOverlay.fire(dt),dt.defaultPrevented){this.removeDropTarget();return}this.markAsUsed(Z),tt||this.targetElement||(this.targetElement=document.createElement("div"),this.targetElement.className="dv-drop-target-dropzone",this.overlayElement=document.createElement("div"),this.overlayElement.className="dv-drop-target-selection",this._state="center",this.targetElement.appendChild(this.overlayElement),it.classList.add("dv-drop-target"),it.append(this.targetElement)),this.toggleClasses(ht,st,nt),this._state=ht},onDragLeave:()=>{var Z,ee;!((ee=(Z=this.options).getOverrideTarget)===null||ee===void 0)&&ee.call(Z)||this.removeDropTarget()},onDragEnd:Z=>{var ee,te;const ne=(te=(ee=this.options).getOverrideTarget)===null||te===void 0?void 0:te.call(ee);ne&&Droptarget.ACTUAL_TARGET===this&&this._state&&(Z.stopPropagation(),this._onDrop.fire({position:this._state,nativeEvent:Z})),this.removeDropTarget(),ne==null||ne.clear()},onDrop:Z=>{var ee,te,ne;Z.preventDefault();const me=this._state;this.removeDropTarget(),(ne=(te=(ee=this.options).getOverrideTarget)===null||te===void 0?void 0:te.call(ee))===null||ne===void 0||ne.clear(),me&&(Z.stopPropagation(),this._onDrop.fire({position:me,nativeEvent:Z}))}}),this.addDisposables(this._onDrop,this._onWillShowOverlay,this.dnd)}setTargetZones(T){this._acceptedTargetZonesSet=new Set(T)}setOverlayModel(T){this.options.overlayModel=T}dispose(){this.removeDropTarget(),super.dispose()}markAsUsed(T){T[Droptarget.USED_EVENT_ID]=!0}isAlreadyUsed(T){const k=T[Droptarget.USED_EVENT_ID];return typeof k=="boolean"&&k}toggleClasses(T,k,Z){var ee,te,ne,me,Ve,Ye,et;const tt=(te=(ee=this.options).getOverrideTarget)===null||te===void 0?void 0:te.call(ee);if(!tt&&!this.overlayElement)return;const it=k<SMALL_WIDTH_BOUNDARY,st=Z<SMALL_HEIGHT_BOUNDARY,nt=T==="left",rt=T==="right",lt=T==="top",ot=T==="bottom",ht=!it&&rt,dt=!it&&nt,ct=!st&&lt,ut=!st&&ot;let ft=1;const vt=(me=(ne=this.options.overlayModel)===null||ne===void 0?void 0:ne.size)!==null&&me!==void 0?me:DEFAULT_SIZE;if(vt.type==="percentage"?ft=clamp$2(vt.value,0,100)/100:((ht||dt)&&(ft=clamp$2(0,vt.value,k)/k),(ct||ut)&&(ft=clamp$2(0,vt.value,Z)/Z)),tt){const _t=(et=(Ye=(Ve=this.options).getOverlayOutline)===null||Ye===void 0?void 0:Ye.call(Ve))!==null&&et!==void 0?et:this.element,Et=_t.getBoundingClientRect(),Tt=tt.getElements(void 0,_t),xt=Tt.root,yt=Tt.overlay,St=xt.getBoundingClientRect(),At=Et.top-St.top,Ct=Et.left-St.left,It={top:At,left:Ct,width:k,height:Z};ht?(It.left=Ct+k*(1-ft),It.width=k*ft):dt?It.width=k*ft:ct?It.height=Z*ft:ut&&(It.top=At+Z*(1-ft),It.height=Z*ft),it&&nt&&(It.width=4),it&&rt&&(It.left=Ct+k-4,It.width=4);const Ot=`${Math.round(It.top)}px`,Dt=`${Math.round(It.left)}px`,Mt=`${Math.round(It.width)}px`,$t=`${Math.round(It.height)}px`;if(yt.style.top===Ot&&yt.style.left===Dt&&yt.style.width===Mt&&yt.style.height===$t)return;yt.style.top=Ot,yt.style.left=Dt,yt.style.width=Mt,yt.style.height=$t,yt.style.visibility="visible",yt.className=`dv-drop-target-anchor${this.options.className?` ${this.options.className}`:""}`,toggleClass$1(yt,"dv-drop-target-left",nt),toggleClass$1(yt,"dv-drop-target-right",rt),toggleClass$1(yt,"dv-drop-target-top",lt),toggleClass$1(yt,"dv-drop-target-bottom",ot),toggleClass$1(yt,"dv-drop-target-center",T==="center"),Tt.changed&&(toggleClass$1(yt,"dv-drop-target-anchor-container-changed",!0),setTimeout(()=>{toggleClass$1(yt,"dv-drop-target-anchor-container-changed",!1)},10));return}if(!this.overlayElement)return;const mt={top:"0px",left:"0px",width:"100%",height:"100%"};ht?(mt.left=`${100*(1-ft)}%`,mt.width=`${100*ft}%`):dt?mt.width=`${100*ft}%`:ct?mt.height=`${100*ft}%`:ut&&(mt.top=`${100*(1-ft)}%`,mt.height=`${100*ft}%`),this.overlayElement.style.top=mt.top,this.overlayElement.style.left=mt.left,this.overlayElement.style.width=mt.width,this.overlayElement.style.height=mt.height,toggleClass$1(this.overlayElement,"dv-drop-target-small-vertical",st),toggleClass$1(this.overlayElement,"dv-drop-target-small-horizontal",it),toggleClass$1(this.overlayElement,"dv-drop-target-left",nt),toggleClass$1(this.overlayElement,"dv-drop-target-right",rt),toggleClass$1(this.overlayElement,"dv-drop-target-top",lt),toggleClass$1(this.overlayElement,"dv-drop-target-bottom",ot),toggleClass$1(this.overlayElement,"dv-drop-target-center",T==="center")}calculateQuadrant(T,k,Z,ee,te){var ne,me;const Ve=(me=(ne=this.options.overlayModel)===null||ne===void 0?void 0:ne.activationSize)!==null&&me!==void 0?me:DEFAULT_ACTIVATION_SIZE;return Ve.type==="percentage"?calculateQuadrantAsPercentage(T,k,Z,ee,te,Ve.value):calculateQuadrantAsPixels(T,k,Z,ee,te,Ve.value)}removeDropTarget(){var T;this.targetElement&&(this._state=void 0,(T=this.targetElement.parentElement)===null||T===void 0||T.classList.remove("dv-drop-target"),this.targetElement.remove(),this.targetElement=void 0,this.overlayElement=void 0)}}Droptarget.USED_EVENT_ID="__dockview_droptarget_event_is_used__";function calculateQuadrantAsPercentage(Y,T,k,Z,ee,te){const ne=100*T/Z,me=100*k/ee;return Y.has("left")&&ne<te?"left":Y.has("right")&&ne>100-te?"right":Y.has("top")&&me<te?"top":Y.has("bottom")&&me>100-te?"bottom":Y.has("center")?"center":null}function calculateQuadrantAsPixels(Y,T,k,Z,ee,te){return Y.has("left")&&T<te?"left":Y.has("right")&&T>Z-te?"right":Y.has("top")&&k<te?"top":Y.has("bottom")&&k>ee-te?"bottom":Y.has("center")?"center":null}class WillFocusEvent extends DockviewEvent{constructor(){super()}}class PanelApiImpl extends CompositeDisposable{get isFocused(){return this._isFocused}get isActive(){return this._isActive}get isVisible(){return this._isVisible}get width(){return this._width}get height(){return this._height}constructor(T,k){super(),this.id=T,this.component=k,this._isFocused=!1,this._isActive=!1,this._isVisible=!0,this._width=0,this._height=0,this._parameters={},this.panelUpdatesDisposable=new MutableDisposable,this._onDidDimensionChange=new Emitter,this.onDidDimensionsChange=this._onDidDimensionChange.event,this._onDidChangeFocus=new Emitter,this.onDidFocusChange=this._onDidChangeFocus.event,this._onWillFocus=new Emitter,this.onWillFocus=this._onWillFocus.event,this._onDidVisibilityChange=new Emitter,this.onDidVisibilityChange=this._onDidVisibilityChange.event,this._onWillVisibilityChange=new Emitter,this.onWillVisibilityChange=this._onWillVisibilityChange.event,this._onDidActiveChange=new Emitter,this.onDidActiveChange=this._onDidActiveChange.event,this._onActiveChange=new Emitter,this.onActiveChange=this._onActiveChange.event,this._onDidParametersChange=new Emitter,this.onDidParametersChange=this._onDidParametersChange.event,this.addDisposables(this.onDidFocusChange(Z=>{this._isFocused=Z.isFocused}),this.onDidActiveChange(Z=>{this._isActive=Z.isActive}),this.onDidVisibilityChange(Z=>{this._isVisible=Z.isVisible}),this.onDidDimensionsChange(Z=>{this._width=Z.width,this._height=Z.height}),this.panelUpdatesDisposable,this._onDidDimensionChange,this._onDidChangeFocus,this._onDidVisibilityChange,this._onDidActiveChange,this._onWillFocus,this._onActiveChange,this._onWillFocus,this._onWillVisibilityChange,this._onDidParametersChange)}getParameters(){return this._parameters}initialize(T){this.panelUpdatesDisposable.value=this._onDidParametersChange.event(k=>{this._parameters=k,T.update({params:k})})}setVisible(T){this._onWillVisibilityChange.fire({isVisible:T})}setActive(){this._onActiveChange.fire()}updateParameters(T){this._onDidParametersChange.fire(T)}}class SplitviewPanelApiImpl extends PanelApiImpl{constructor(T,k){super(T,k),this._onDidConstraintsChangeInternal=new Emitter,this.onDidConstraintsChangeInternal=this._onDidConstraintsChangeInternal.event,this._onDidConstraintsChange=new Emitter({replay:!0}),this.onDidConstraintsChange=this._onDidConstraintsChange.event,this._onDidSizeChange=new Emitter,this.onDidSizeChange=this._onDidSizeChange.event,this.addDisposables(this._onDidConstraintsChangeInternal,this._onDidConstraintsChange,this._onDidSizeChange)}setConstraints(T){this._onDidConstraintsChangeInternal.fire(T)}setSize(T){this._onDidSizeChange.fire(T)}}class BasePanelView extends CompositeDisposable{get element(){return this._element}get width(){return this._width}get height(){return this._height}get params(){var T;return(T=this._params)===null||T===void 0?void 0:T.params}constructor(T,k,Z){super(),this.id=T,this.component=k,this.api=Z,this._height=0,this._width=0,this._element=document.createElement("div"),this._element.tabIndex=-1,this._element.style.outline="none",this._element.style.height="100%",this._element.style.width="100%",this._element.style.overflow="hidden";const ee=trackFocus(this._element);this.addDisposables(this.api,ee.onDidFocus(()=>{this.api._onDidChangeFocus.fire({isFocused:!0})}),ee.onDidBlur(()=>{this.api._onDidChangeFocus.fire({isFocused:!1})}),ee)}focus(){const T=new WillFocusEvent;this.api._onWillFocus.fire(T),!T.defaultPrevented&&this._element.focus()}layout(T,k){this._width=T,this._height=k,this.api._onDidDimensionChange.fire({width:T,height:k}),this.part&&this._params&&this.part.update(this._params.params)}init(T){this._params=T,this.part=this.getComponent()}update(T){var k,Z;this._params=Object.assign(Object.assign({},this._params),{params:Object.assign(Object.assign({},(k=this._params)===null||k===void 0?void 0:k.params),T.params)});for(const ee of Object.keys(T.params))T.params[ee]===void 0&&delete this._params.params[ee];(Z=this.part)===null||Z===void 0||Z.update({params:this._params.params})}toJSON(){var T,k;const Z=(k=(T=this._params)===null||T===void 0?void 0:T.params)!==null&&k!==void 0?k:{};return{id:this.id,component:this.component,params:Object.keys(Z).length>0?Z:void 0}}dispose(){var T;this.api.dispose(),(T=this.part)===null||T===void 0||T.dispose(),super.dispose()}}class ContentContainer extends CompositeDisposable{get element(){return this._element}constructor(T,k){super(),this.accessor=T,this.group=k,this.disposable=new MutableDisposable,this._onDidFocus=new Emitter,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new Emitter,this.onDidBlur=this._onDidBlur.event,this._element=document.createElement("div"),this._element.className="dv-content-container",this._element.tabIndex=-1,this.addDisposables(this._onDidFocus,this._onDidBlur);const Z=k.dropTargetContainer;this.dropTarget=new Droptarget(this.element,{getOverlayOutline:()=>{var ee;return((ee=T.options.theme)===null||ee===void 0?void 0:ee.dndPanelOverlay)==="group"?this.element.parentElement:null},className:"dv-drop-target-content",acceptedTargetZones:["top","bottom","left","right","center"],canDisplayOverlay:(ee,te)=>{if(this.group.locked==="no-drop-target"||this.group.locked&&te==="center")return!1;const ne=getPanelData();return!ne&&ee.shiftKey&&this.group.location.type!=="floating"?!1:ne&&ne.viewId===this.accessor.id?!0:this.group.canDisplayOverlay(ee,te,"content")},getOverrideTarget:Z?()=>Z.model:void 0}),this.addDisposables(this.dropTarget)}show(){this.element.style.display=""}hide(){this.element.style.display="none"}renderPanel(T,k={asActive:!0}){const Z=k.asActive||this.panel&&this.group.isPanelActive(this.panel);this.panel&&this.panel.view.content.element.parentElement===this._element&&this._element.removeChild(this.panel.view.content.element),this.panel=T;let ee;switch(T.api.renderer){case"onlyWhenVisible":this.group.renderContainer.detatch(T),this.panel&&Z&&this._element.appendChild(this.panel.view.content.element),ee=this._element;break;case"always":T.view.content.element.parentElement===this._element&&this._element.removeChild(T.view.content.element),ee=this.group.renderContainer.attach({panel:T,referenceContainer:this});break;default:throw new Error(`dockview: invalid renderer type '${T.api.renderer}'`)}if(Z){const te=trackFocus(ee),ne=new CompositeDisposable;ne.addDisposables(te,te.onDidFocus(()=>this._onDidFocus.fire()),te.onDidBlur(()=>this._onDidBlur.fire())),this.disposable.value=ne}}openPanel(T){this.panel!==T&&this.renderPanel(T)}layout(T,k){}closePanel(){var T;this.panel&&this.panel.api.renderer==="onlyWhenVisible"&&((T=this.panel.view.content.element.parentElement)===null||T===void 0||T.removeChild(this.panel.view.content.element)),this.panel=void 0}dispose(){this.disposable.dispose(),super.dispose()}}function addGhostImage(Y,T,k){var Z,ee;addClasses(T,"dv-dragged"),document.body.appendChild(T),Y.setDragImage(T,(Z=k==null?void 0:k.x)!==null&&Z!==void 0?Z:0,(ee=k==null?void 0:k.y)!==null&&ee!==void 0?ee:0),setTimeout(()=>{removeClasses(T,"dv-dragged"),T.remove()},0)}class TabDragHandler extends DragHandler{constructor(T,k,Z,ee){super(T),this.accessor=k,this.group=Z,this.panel=ee,this.panelTransfer=LocalSelectionTransfer.getInstance()}getData(T){return this.panelTransfer.setData([new PanelTransfer(this.accessor.id,this.group.id,this.panel.id)],PanelTransfer.prototype),{dispose:()=>{this.panelTransfer.clearData(PanelTransfer.prototype)}}}}class Tab extends CompositeDisposable{get element(){return this._element}constructor(T,k,Z){super(),this.panel=T,this.accessor=k,this.group=Z,this.content=void 0,this._onPointDown=new Emitter,this.onPointerDown=this._onPointDown.event,this._onDropped=new Emitter,this.onDrop=this._onDropped.event,this._onDragStart=new Emitter,this.onDragStart=this._onDragStart.event,this._element=document.createElement("div"),this._element.className="dv-tab",this._element.tabIndex=0,this._element.draggable=!0,toggleClass$1(this.element,"dv-inactive-tab",!0);const ee=new TabDragHandler(this._element,this.accessor,this.group,this.panel);this.dropTarget=new Droptarget(this._element,{acceptedTargetZones:["left","right"],overlayModel:{activationSize:{value:50,type:"percentage"}},canDisplayOverlay:(te,ne)=>{if(this.group.locked)return!1;const me=getPanelData();return me&&this.accessor.id===me.viewId?!0:this.group.model.canDisplayOverlay(te,ne,"tab")},getOverrideTarget:()=>{var te;return(te=Z.model.dropTargetContainer)===null||te===void 0?void 0:te.model}}),this.onWillShowOverlay=this.dropTarget.onWillShowOverlay,this.addDisposables(this._onPointDown,this._onDropped,this._onDragStart,ee.onDragStart(te=>{if(te.dataTransfer){const ne=getComputedStyle(this.element),me=this.element.cloneNode(!0);Array.from(ne).forEach(Ve=>me.style.setProperty(Ve,ne.getPropertyValue(Ve),ne.getPropertyPriority(Ve))),me.style.position="absolute",addGhostImage(te.dataTransfer,me,{y:-10,x:30})}this._onDragStart.fire(te)}),ee,addDisposableListener(this._element,"pointerdown",te=>{this._onPointDown.fire(te)}),this.dropTarget.onDrop(te=>{this._onDropped.fire(te)}),this.dropTarget)}setActive(T){toggleClass$1(this.element,"dv-active-tab",T),toggleClass$1(this.element,"dv-inactive-tab",!T)}setContent(T){this.content&&this._element.removeChild(this.content.element),this.content=T,this._element.appendChild(this.content.element)}dispose(){super.dispose()}}class GroupDragHandler extends DragHandler{constructor(T,k,Z){super(T),this.accessor=k,this.group=Z,this.panelTransfer=LocalSelectionTransfer.getInstance(),this.addDisposables(addDisposableListener(T,"pointerdown",ee=>{ee.shiftKey&&quasiPreventDefault(ee)},!0))}isCancelled(T){return this.group.api.location.type==="floating"&&!T.shiftKey}getData(T){const k=T.dataTransfer;this.panelTransfer.setData([new PanelTransfer(this.accessor.id,this.group.id,null)],PanelTransfer.prototype);const Z=window.getComputedStyle(this.el),ee=Z.getPropertyValue("--dv-activegroup-visiblepanel-tab-background-color"),te=Z.getPropertyValue("--dv-activegroup-visiblepanel-tab-color");if(k){const ne=document.createElement("div");ne.style.backgroundColor=ee,ne.style.color=te,ne.style.padding="2px 8px",ne.style.height="24px",ne.style.fontSize="11px",ne.style.lineHeight="20px",ne.style.borderRadius="12px",ne.style.position="absolute",ne.style.pointerEvents="none",ne.style.top="-9999px",ne.textContent=`Multiple Panels (${this.group.size})`,addGhostImage(k,ne,{y:-10,x:30})}return{dispose:()=>{this.panelTransfer.clearData(PanelTransfer.prototype)}}}}class VoidContainer extends CompositeDisposable{get element(){return this._element}constructor(T,k){super(),this.accessor=T,this.group=k,this._onDrop=new Emitter,this.onDrop=this._onDrop.event,this._onDragStart=new Emitter,this.onDragStart=this._onDragStart.event,this._element=document.createElement("div"),this._element.className="dv-void-container",this._element.draggable=!0,this.addDisposables(this._onDrop,this._onDragStart,addDisposableListener(this._element,"pointerdown",()=>{this.accessor.doSetGroupActive(this.group)}));const Z=new GroupDragHandler(this._element,T,k);this.dropTraget=new Droptarget(this._element,{acceptedTargetZones:["center"],canDisplayOverlay:(ee,te)=>{const ne=getPanelData();return ne&&this.accessor.id===ne.viewId?!0:k.model.canDisplayOverlay(ee,te,"header_space")},getOverrideTarget:()=>{var ee;return(ee=k.model.dropTargetContainer)===null||ee===void 0?void 0:ee.model}}),this.onWillShowOverlay=this.dropTraget.onWillShowOverlay,this.addDisposables(Z,Z.onDragStart(ee=>{this._onDragStart.fire(ee)}),this.dropTraget.onDrop(ee=>{this._onDrop.fire(ee)}),this.dropTraget)}}let Scrollbar$1=class Ga extends CompositeDisposable{get element(){return this._element}constructor(T){super(),this.scrollableElement=T,this._scrollLeft=0,this._element=document.createElement("div"),this._element.className="dv-scrollable",this._horizontalScrollbar=document.createElement("div"),this._horizontalScrollbar.className="dv-scrollbar-horizontal",this.element.appendChild(T),this.element.appendChild(this._horizontalScrollbar),this.addDisposables(addDisposableListener(this.element,"wheel",k=>{this._scrollLeft+=k.deltaY*Ga.MouseWheelSpeed,this.calculateScrollbarStyles()}),addDisposableListener(this._horizontalScrollbar,"pointerdown",k=>{k.preventDefault(),toggleClass$1(this.element,"dv-scrollable-scrolling",!0);const Z=k.clientX,ee=this._scrollLeft,te=me=>{const Ve=me.clientX-Z,{clientWidth:Ye}=this.element,{scrollWidth:et}=this.scrollableElement,tt=Ye/et;this._scrollLeft=ee+Ve/tt,this.calculateScrollbarStyles()},ne=()=>{toggleClass$1(this.element,"dv-scrollable-scrolling",!1),document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",ne),document.removeEventListener("pointercancel",ne)};document.addEventListener("pointermove",te),document.addEventListener("pointerup",ne),document.addEventListener("pointercancel",ne)}),addDisposableListener(this.element,"scroll",()=>{this.calculateScrollbarStyles()}),addDisposableListener(this.scrollableElement,"scroll",()=>{this._scrollLeft=this.scrollableElement.scrollLeft,this.calculateScrollbarStyles()}),watchElementResize(this.element,()=>{toggleClass$1(this.element,"dv-scrollable-resizing",!0),this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(()=>{clearTimeout(this._animationTimer),toggleClass$1(this.element,"dv-scrollable-resizing",!1)},500),this.calculateScrollbarStyles()}))}calculateScrollbarStyles(){const{clientWidth:T}=this.element,{scrollWidth:k}=this.scrollableElement;if(k>T){const ee=T*(T/k);this._horizontalScrollbar.style.width=`${ee}px`,this._scrollLeft=clamp$2(this._scrollLeft,0,this.scrollableElement.scrollWidth-T),this.scrollableElement.scrollLeft=this._scrollLeft;const te=this._scrollLeft/(k-T);this._horizontalScrollbar.style.left=`${(T-ee)*te}px`}else this._horizontalScrollbar.style.width="0px",this._horizontalScrollbar.style.left="0px",this._scrollLeft=0}};Scrollbar$1.MouseWheelSpeed=1;class Tabs extends CompositeDisposable{get showTabsOverflowControl(){return this._showTabsOverflowControl}set showTabsOverflowControl(T){if(this._showTabsOverflowControl!=T&&(this._showTabsOverflowControl=T,T)){const k=new OverflowObserver(this._tabsList);this._observerDisposable.value=new CompositeDisposable(k,k.onDidChange(Z=>{const ee=Z.hasScrollX||Z.hasScrollY;this.toggleDropdown({reset:!ee})}),addDisposableListener(this._tabsList,"scroll",()=>{this.toggleDropdown({reset:!1})}))}}get element(){return this._element}get panels(){return this._tabs.map(T=>T.value.panel.id)}get size(){return this._tabs.length}get tabs(){return this._tabs.map(T=>T.value)}constructor(T,k,Z){if(super(),this.group=T,this.accessor=k,this._observerDisposable=new MutableDisposable,this._tabs=[],this.selectedIndex=-1,this._showTabsOverflowControl=!1,this._onTabDragStart=new Emitter,this.onTabDragStart=this._onTabDragStart.event,this._onDrop=new Emitter,this.onDrop=this._onDrop.event,this._onWillShowOverlay=new Emitter,this.onWillShowOverlay=this._onWillShowOverlay.event,this._onOverflowTabsChange=new Emitter,this.onOverflowTabsChange=this._onOverflowTabsChange.event,this._tabsList=document.createElement("div"),this._tabsList.className="dv-tabs-container dv-horizontal",this.showTabsOverflowControl=Z.showTabsOverflowControl,k.options.scrollbars==="native")this._element=this._tabsList;else{const ee=new Scrollbar$1(this._tabsList);this._element=ee.element,this.addDisposables(ee)}this.addDisposables(this._onOverflowTabsChange,this._observerDisposable,this._onWillShowOverlay,this._onDrop,this._onTabDragStart,addDisposableListener(this.element,"pointerdown",ee=>{if(ee.defaultPrevented)return;ee.button===0&&this.accessor.doSetGroupActive(this.group)}),Disposable.from(()=>{for(const{value:ee,disposable:te}of this._tabs)te.dispose(),ee.dispose();this._tabs=[]}))}indexOf(T){return this._tabs.findIndex(k=>k.value.panel.id===T)}isActive(T){return this.selectedIndex>-1&&this._tabs[this.selectedIndex].value===T}setActivePanel(T){let k=0;for(const Z of this._tabs){const ee=T.id===Z.value.panel.id;if(Z.value.setActive(ee),ee){const te=Z.value.element,ne=te.parentElement;(k<ne.scrollLeft||k+te.clientWidth>ne.scrollLeft+ne.clientWidth)&&(ne.scrollLeft=k)}k+=Z.value.element.clientWidth}}openPanel(T,k=this._tabs.length){if(this._tabs.find(ne=>ne.value.panel.id===T.id))return;const Z=new Tab(T,this.accessor,this.group);Z.setContent(T.view.tab);const ee=new CompositeDisposable(Z.onDragStart(ne=>{this._onTabDragStart.fire({nativeEvent:ne,panel:T})}),Z.onPointerDown(ne=>{if(ne.defaultPrevented)return;const me=!this.accessor.options.disableFloatingGroups,Ve=this.group.api.location.type==="floating"&&this.size===1;if(me&&!Ve&&ne.shiftKey){ne.preventDefault();const Ye=this.accessor.getGroupPanel(Z.panel.id),{top:et,left:tt}=Z.element.getBoundingClientRect(),{top:it,left:st}=this.accessor.element.getBoundingClientRect();this.accessor.addFloatingGroup(Ye,{x:tt-st,y:et-it,inDragMode:!0});return}switch(ne.button){case 0:this.group.activePanel!==T&&this.group.model.openPanel(T);break}}),Z.onDrop(ne=>{this._onDrop.fire({event:ne.nativeEvent,index:this._tabs.findIndex(me=>me.value===Z)})}),Z.onWillShowOverlay(ne=>{this._onWillShowOverlay.fire(new WillShowOverlayLocationEvent(ne,{kind:"tab",panel:this.group.activePanel,api:this.accessor.api,group:this.group,getData:getPanelData}))})),te={value:Z,disposable:ee};this.addTab(te,k)}delete(T){const k=this.indexOf(T),Z=this._tabs.splice(k,1)[0],{value:ee,disposable:te}=Z;te.dispose(),ee.dispose(),ee.element.remove()}addTab(T,k=this._tabs.length){if(k<0||k>this._tabs.length)throw new Error("invalid location");this._tabsList.insertBefore(T.value.element,this._tabsList.children[k]),this._tabs=[...this._tabs.slice(0,k),T,...this._tabs.slice(k)],this.selectedIndex<0&&(this.selectedIndex=k)}toggleDropdown(T){const k=T.reset?[]:this._tabs.filter(Z=>!isChildEntirelyVisibleWithinParent(Z.value.element,this._tabsList)).map(Z=>Z.value.panel.id);this._onOverflowTabsChange.fire({tabs:k,reset:T.reset})}}const createSvgElementFromPath=Y=>{const T=document.createElementNS("http://www.w3.org/2000/svg","svg");T.setAttributeNS(null,"height",Y.height),T.setAttributeNS(null,"width",Y.width),T.setAttributeNS(null,"viewBox",Y.viewbox),T.setAttributeNS(null,"aria-hidden","false"),T.setAttributeNS(null,"focusable","false"),T.classList.add("dv-svg");const k=document.createElementNS("http://www.w3.org/2000/svg","path");return k.setAttributeNS(null,"d",Y.path),T.appendChild(k),T},createCloseButton=()=>createSvgElementFromPath({width:"11",height:"11",viewbox:"0 0 28 28",path:"M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z"}),createChevronRightButton=()=>createSvgElementFromPath({width:"11",height:"11",viewbox:"0 0 15 25",path:"M2.15 24.1L0 21.95L9.9 12.05L0 2.15L2.15 0L14.2 12.05L2.15 24.1Z"});function createDropdownElementHandle(){const Y=document.createElement("div");Y.className="dv-tabs-overflow-dropdown-default";const T=document.createElement("span");T.textContent="";const k=createChevronRightButton();return Y.appendChild(k),Y.appendChild(T),{element:Y,update:Z=>{T.textContent=`${Z.tabs}`}}}class TabsContainer extends CompositeDisposable{get onTabDragStart(){return this.tabs.onTabDragStart}get panels(){return this.tabs.panels}get size(){return this.tabs.size}get hidden(){return this._hidden}set hidden(T){this._hidden=T,this.element.style.display=T?"none":""}get element(){return this._element}constructor(T,k){super(),this.accessor=T,this.group=k,this._hidden=!1,this.dropdownPart=null,this._overflowTabs=[],this._dropdownDisposable=new MutableDisposable,this._onDrop=new Emitter,this.onDrop=this._onDrop.event,this._onGroupDragStart=new Emitter,this.onGroupDragStart=this._onGroupDragStart.event,this._onWillShowOverlay=new Emitter,this.onWillShowOverlay=this._onWillShowOverlay.event,this._element=document.createElement("div"),this._element.className="dv-tabs-and-actions-container",toggleClass$1(this._element,"dv-full-width-single-tab",this.accessor.options.singleTabMode==="fullwidth"),this.rightActionsContainer=document.createElement("div"),this.rightActionsContainer.className="dv-right-actions-container",this.leftActionsContainer=document.createElement("div"),this.leftActionsContainer.className="dv-left-actions-container",this.preActionsContainer=document.createElement("div"),this.preActionsContainer.className="dv-pre-actions-container",this.tabs=new Tabs(k,T,{showTabsOverflowControl:!T.options.disableTabsOverflowList}),this.voidContainer=new VoidContainer(this.accessor,this.group),this._element.appendChild(this.preActionsContainer),this._element.appendChild(this.tabs.element),this._element.appendChild(this.leftActionsContainer),this._element.appendChild(this.voidContainer.element),this._element.appendChild(this.rightActionsContainer),this.addDisposables(this.tabs.onDrop(Z=>this._onDrop.fire(Z)),this.tabs.onWillShowOverlay(Z=>this._onWillShowOverlay.fire(Z)),T.onDidOptionsChange(()=>{this.tabs.showTabsOverflowControl=!T.options.disableTabsOverflowList}),this.tabs.onOverflowTabsChange(Z=>{this.toggleDropdown(Z)}),this.tabs,this._onWillShowOverlay,this._onDrop,this._onGroupDragStart,this.voidContainer,this.voidContainer.onDragStart(Z=>{this._onGroupDragStart.fire({nativeEvent:Z,group:this.group})}),this.voidContainer.onDrop(Z=>{this._onDrop.fire({event:Z.nativeEvent,index:this.tabs.size})}),this.voidContainer.onWillShowOverlay(Z=>{this._onWillShowOverlay.fire(new WillShowOverlayLocationEvent(Z,{kind:"header_space",panel:this.group.activePanel,api:this.accessor.api,group:this.group,getData:getPanelData}))}),addDisposableListener(this.voidContainer.element,"pointerdown",Z=>{if(Z.defaultPrevented)return;if(!this.accessor.options.disableFloatingGroups&&Z.shiftKey&&this.group.api.location.type!=="floating"){Z.preventDefault();const{top:te,left:ne}=this.element.getBoundingClientRect(),{top:me,left:Ve}=this.accessor.element.getBoundingClientRect();this.accessor.addFloatingGroup(this.group,{x:ne-Ve+20,y:te-me+20,inDragMode:!0})}}))}show(){this.hidden||(this.element.style.display="")}hide(){this._element.style.display="none"}setRightActionsElement(T){this.rightActions!==T&&(this.rightActions&&(this.rightActions.remove(),this.rightActions=void 0),T&&(this.rightActionsContainer.appendChild(T),this.rightActions=T))}setLeftActionsElement(T){this.leftActions!==T&&(this.leftActions&&(this.leftActions.remove(),this.leftActions=void 0),T&&(this.leftActionsContainer.appendChild(T),this.leftActions=T))}setPrefixActionsElement(T){this.preActions!==T&&(this.preActions&&(this.preActions.remove(),this.preActions=void 0),T&&(this.preActionsContainer.appendChild(T),this.preActions=T))}isActive(T){return this.tabs.isActive(T)}indexOf(T){return this.tabs.indexOf(T)}setActive(T){}delete(T){this.tabs.delete(T),this.updateClassnames()}setActivePanel(T){this.tabs.setActivePanel(T)}openPanel(T,k=this.tabs.size){this.tabs.openPanel(T,k),this.updateClassnames()}closePanel(T){this.delete(T.id)}updateClassnames(){toggleClass$1(this._element,"dv-single-tab",this.size===1)}toggleDropdown(T){const k=T.reset?[]:T.tabs;if(this._overflowTabs=k,this._overflowTabs.length>0&&this.dropdownPart){this.dropdownPart.update({tabs:k.length});return}if(this._overflowTabs.length===0){this._dropdownDisposable.dispose();return}const Z=document.createElement("div");Z.className="dv-tabs-overflow-dropdown-root";const ee=createDropdownElementHandle();ee.update({tabs:k.length}),this.dropdownPart=ee,Z.appendChild(ee.element),this.rightActionsContainer.prepend(Z),this._dropdownDisposable.value=new CompositeDisposable(Disposable.from(()=>{var te,ne;Z.remove(),(ne=(te=this.dropdownPart)===null||te===void 0?void 0:te.dispose)===null||ne===void 0||ne.call(te),this.dropdownPart=null}),addDisposableListener(Z,"pointerdown",te=>{te.preventDefault()},{capture:!0}),addDisposableListener(Z,"click",te=>{const ne=document.createElement("div");ne.style.overflow="auto",ne.className="dv-tabs-overflow-container";for(const me of this.tabs.tabs.filter(Ve=>this._overflowTabs.includes(Ve.panel.id))){const Ve=this.group.panels.find(it=>it===me.panel),et=Ve.view.createTabRenderer("headerOverflow").element,tt=document.createElement("div");toggleClass$1(tt,"dv-tab",!0),toggleClass$1(tt,"dv-active-tab",Ve.api.isActive),toggleClass$1(tt,"dv-inactive-tab",!Ve.api.isActive),tt.addEventListener("mousedown",()=>{this.accessor.popupService.close(),me.element.scrollIntoView(),me.panel.api.setActive()}),tt.appendChild(et),ne.appendChild(tt)}this.accessor.popupService.openPopover(ne,{x:te.clientX,y:te.clientY})}))}}class DockviewUnhandledDragOverEvent extends AcceptableEvent{constructor(T,k,Z,ee,te){super(),this.nativeEvent=T,this.target=k,this.position=Z,this.getData=ee,this.group=te}}const PROPERTY_KEYS_DOCKVIEW=Object.keys({disableAutoResizing:void 0,hideBorders:void 0,singleTabMode:void 0,disableFloatingGroups:void 0,floatingGroupBounds:void 0,popoutUrl:void 0,defaultRenderer:void 0,debug:void 0,rootOverlayModel:void 0,locked:void 0,disableDnd:void 0,className:void 0,noPanelsOverlay:void 0,dndEdges:void 0,theme:void 0,disableTabsOverflowList:void 0,scrollbars:void 0});function isPanelOptionsWithPanel(Y){return!!Y.referencePanel}function isPanelOptionsWithGroup(Y){return!!Y.referenceGroup}function isGroupOptionsWithPanel(Y){return!!Y.referencePanel}function isGroupOptionsWithGroup(Y){return!!Y.referenceGroup}class DockviewDidDropEvent extends DockviewEvent{get nativeEvent(){return this.options.nativeEvent}get position(){return this.options.position}get panel(){return this.options.panel}get group(){return this.options.group}get api(){return this.options.api}constructor(T){super(),this.options=T}getData(){return this.options.getData()}}class DockviewWillDropEvent extends DockviewDidDropEvent{get kind(){return this._kind}constructor(T){super(T),this._kind=T.kind}}class WillShowOverlayLocationEvent{get kind(){return this.options.kind}get nativeEvent(){return this.event.nativeEvent}get position(){return this.event.position}get defaultPrevented(){return this.event.defaultPrevented}get panel(){return this.options.panel}get api(){return this.options.api}get group(){return this.options.group}preventDefault(){this.event.preventDefault()}getData(){return this.options.getData()}constructor(T,k){this.event=T,this.options=k}}class DockviewGroupPanelModel extends CompositeDisposable{get element(){throw new Error("dockview: not supported")}get activePanel(){return this._activePanel}get locked(){return this._locked}set locked(T){this._locked=T,toggleClass$1(this.container,"dv-locked-groupview",T==="no-drop-target"||T)}get isActive(){return this._isGroupActive}get panels(){return this._panels}get size(){return this._panels.length}get isEmpty(){return this._panels.length===0}get hasWatermark(){return!!(this.watermark&&this.container.contains(this.watermark.element))}get header(){return this.tabsContainer}get isContentFocused(){return document.activeElement?isAncestor(document.activeElement,this.contentContainer.element):!1}get location(){return this._location}set location(T){switch(this._location=T,toggleClass$1(this.container,"dv-groupview-floating",!1),toggleClass$1(this.container,"dv-groupview-popout",!1),T.type){case"grid":this.contentContainer.dropTarget.setTargetZones(["top","bottom","left","right","center"]);break;case"floating":this.contentContainer.dropTarget.setTargetZones(["center"]),this.contentContainer.dropTarget.setTargetZones(T?["center"]:["top","bottom","left","right","center"]),toggleClass$1(this.container,"dv-groupview-floating",!0);break;case"popout":this.contentContainer.dropTarget.setTargetZones(["center"]),toggleClass$1(this.container,"dv-groupview-popout",!0);break}this.groupPanel.api._onDidLocationChange.fire({location:this.location})}constructor(T,k,Z,ee,te){var ne;super(),this.container=T,this.accessor=k,this.id=Z,this.options=ee,this.groupPanel=te,this._isGroupActive=!1,this._locked=!1,this._location={type:"grid"},this.mostRecentlyUsed=[],this._overwriteRenderContainer=null,this._overwriteDropTargetContainer=null,this._onDidChange=new Emitter,this.onDidChange=this._onDidChange.event,this._width=0,this._height=0,this._panels=[],this._panelDisposables=new Map,this._onMove=new Emitter,this.onMove=this._onMove.event,this._onDidDrop=new Emitter,this.onDidDrop=this._onDidDrop.event,this._onWillDrop=new Emitter,this.onWillDrop=this._onWillDrop.event,this._onWillShowOverlay=new Emitter,this.onWillShowOverlay=this._onWillShowOverlay.event,this._onTabDragStart=new Emitter,this.onTabDragStart=this._onTabDragStart.event,this._onGroupDragStart=new Emitter,this.onGroupDragStart=this._onGroupDragStart.event,this._onDidAddPanel=new Emitter,this.onDidAddPanel=this._onDidAddPanel.event,this._onDidPanelTitleChange=new Emitter,this.onDidPanelTitleChange=this._onDidPanelTitleChange.event,this._onDidPanelParametersChange=new Emitter,this.onDidPanelParametersChange=this._onDidPanelParametersChange.event,this._onDidRemovePanel=new Emitter,this.onDidRemovePanel=this._onDidRemovePanel.event,this._onDidActivePanelChange=new Emitter,this.onDidActivePanelChange=this._onDidActivePanelChange.event,this._onUnhandledDragOverEvent=new Emitter,this.onUnhandledDragOverEvent=this._onUnhandledDragOverEvent.event,toggleClass$1(this.container,"dv-groupview",!0),this._api=new DockviewApi(this.accessor),this.tabsContainer=new TabsContainer(this.accessor,this.groupPanel),this.contentContainer=new ContentContainer(this.accessor,this),T.append(this.tabsContainer.element,this.contentContainer.element),this.header.hidden=!!ee.hideHeader,this.locked=(ne=ee.locked)!==null&&ne!==void 0?ne:!1,this.addDisposables(this._onTabDragStart,this._onGroupDragStart,this._onWillShowOverlay,this.tabsContainer.onTabDragStart(me=>{this._onTabDragStart.fire(me)}),this.tabsContainer.onGroupDragStart(me=>{this._onGroupDragStart.fire(me)}),this.tabsContainer.onDrop(me=>{this.handleDropEvent("header",me.event,"center",me.index)}),this.contentContainer.onDidFocus(()=>{this.accessor.doSetGroupActive(this.groupPanel)}),this.contentContainer.onDidBlur(()=>{}),this.contentContainer.dropTarget.onDrop(me=>{this.handleDropEvent("content",me.nativeEvent,me.position)}),this.tabsContainer.onWillShowOverlay(me=>{this._onWillShowOverlay.fire(me)}),this.contentContainer.dropTarget.onWillShowOverlay(me=>{this._onWillShowOverlay.fire(new WillShowOverlayLocationEvent(me,{kind:"content",panel:this.activePanel,api:this._api,group:this.groupPanel,getData:getPanelData}))}),this._onMove,this._onDidChange,this._onDidDrop,this._onWillDrop,this._onDidAddPanel,this._onDidRemovePanel,this._onDidActivePanelChange,this._onUnhandledDragOverEvent,this._onDidPanelTitleChange,this._onDidPanelParametersChange)}focusContent(){this.contentContainer.element.focus()}set renderContainer(T){this.panels.forEach(k=>{this.renderContainer.detatch(k)}),this._overwriteRenderContainer=T,this.panels.forEach(k=>{this.rerender(k)})}get renderContainer(){var T;return(T=this._overwriteRenderContainer)!==null&&T!==void 0?T:this.accessor.overlayRenderContainer}set dropTargetContainer(T){this._overwriteDropTargetContainer=T}get dropTargetContainer(){var T;return(T=this._overwriteDropTargetContainer)!==null&&T!==void 0?T:this.accessor.rootDropTargetContainer}initialize(){this.options.panels&&this.options.panels.forEach(T=>{this.doAddPanel(T)}),this.options.activePanel&&this.openPanel(this.options.activePanel),this.setActive(this.isActive,!0),this.updateContainer(),this.accessor.options.createRightHeaderActionComponent&&(this._rightHeaderActions=this.accessor.options.createRightHeaderActionComponent(this.groupPanel),this.addDisposables(this._rightHeaderActions),this._rightHeaderActions.init({containerApi:this._api,api:this.groupPanel.api,group:this.groupPanel}),this.tabsContainer.setRightActionsElement(this._rightHeaderActions.element)),this.accessor.options.createLeftHeaderActionComponent&&(this._leftHeaderActions=this.accessor.options.createLeftHeaderActionComponent(this.groupPanel),this.addDisposables(this._leftHeaderActions),this._leftHeaderActions.init({containerApi:this._api,api:this.groupPanel.api,group:this.groupPanel}),this.tabsContainer.setLeftActionsElement(this._leftHeaderActions.element)),this.accessor.options.createPrefixHeaderActionComponent&&(this._prefixHeaderActions=this.accessor.options.createPrefixHeaderActionComponent(this.groupPanel),this.addDisposables(this._prefixHeaderActions),this._prefixHeaderActions.init({containerApi:this._api,api:this.groupPanel.api,group:this.groupPanel}),this.tabsContainer.setPrefixActionsElement(this._prefixHeaderActions.element))}rerender(T){this.contentContainer.renderPanel(T,{asActive:!1})}indexOf(T){return this.tabsContainer.indexOf(T.id)}toJSON(){var T;const k={views:this.tabsContainer.panels,activeView:(T=this._activePanel)===null||T===void 0?void 0:T.id,id:this.id};return this.locked!==!1&&(k.locked=this.locked),this.header.hidden&&(k.hideHeader=!0),k}moveToNext(T){T||(T={}),T.panel||(T.panel=this.activePanel);const k=T.panel?this.panels.indexOf(T.panel):-1;let Z;if(k<this.panels.length-1)Z=k+1;else if(!T.suppressRoll)Z=0;else return;this.openPanel(this.panels[Z])}moveToPrevious(T){if(T||(T={}),T.panel||(T.panel=this.activePanel),!T.panel)return;const k=this.panels.indexOf(T.panel);let Z;if(k>0)Z=k-1;else if(!T.suppressRoll)Z=this.panels.length-1;else return;this.openPanel(this.panels[Z])}containsPanel(T){return this.panels.includes(T)}init(T){}update(T){}focus(){var T;(T=this._activePanel)===null||T===void 0||T.focus()}openPanel(T,k={}){(typeof k.index!="number"||k.index>this.panels.length)&&(k.index=this.panels.length);const Z=!!k.skipSetActive;if(T.updateParentGroup(this.groupPanel,{skipSetActive:k.skipSetActive}),this.doAddPanel(T,k.index,{skipSetActive:Z}),this._activePanel===T){this.contentContainer.renderPanel(T,{asActive:!0});return}Z||this.doSetActivePanel(T),k.skipSetGroupActive||this.accessor.doSetGroupActive(this.groupPanel),k.skipSetActive||this.updateContainer()}removePanel(T,k={skipSetActive:!1}){const Z=typeof T=="string"?T:T.id,ee=this._panels.find(te=>te.id===Z);if(!ee)throw new Error("invalid operation");return this._removePanel(ee,k)}closeAllPanels(){if(this.panels.length>0){const T=[...this.panels];for(const k of T)this.doClose(k)}else this.accessor.removeGroup(this.groupPanel)}closePanel(T){this.doClose(T)}doClose(T){const k=this.panels.length===1&&this.accessor.groups.length===1;this.accessor.removePanel(T,k&&this.accessor.options.noPanelsOverlay==="emptyGroup"?{removeEmptyGroup:!1}:void 0)}isPanelActive(T){return this._activePanel===T}updateActions(T){this.tabsContainer.setRightActionsElement(T)}setActive(T,k=!1){!k&&this.isActive===T||(this._isGroupActive=T,toggleClass$1(this.container,"dv-active-group",T),toggleClass$1(this.container,"dv-inactive-group",!T),this.tabsContainer.setActive(this.isActive),!this._activePanel&&this.panels.length>0&&this.doSetActivePanel(this.panels[0]),this.updateContainer())}layout(T,k){var Z;this._width=T,this._height=k,this.contentContainer.layout(this._width,this._height),!((Z=this._activePanel)===null||Z===void 0)&&Z.layout&&this._activePanel.layout(this._width,this._height)}_removePanel(T,k){const Z=this._activePanel===T;if(this.doRemovePanel(T),Z&&this.panels.length>0){const ee=this.mostRecentlyUsed[0];this.openPanel(ee,{skipSetActive:k.skipSetActive,skipSetGroupActive:k.skipSetActiveGroup})}return this._activePanel&&this.panels.length===0&&this.doSetActivePanel(void 0),k.skipSetActive||this.updateContainer(),T}doRemovePanel(T){const k=this.panels.indexOf(T);if(this._activePanel===T&&this.contentContainer.closePanel(),this.tabsContainer.delete(T.id),this._panels.splice(k,1),this.mostRecentlyUsed.includes(T)){const ee=this.mostRecentlyUsed.indexOf(T);this.mostRecentlyUsed.splice(ee,1)}const Z=this._panelDisposables.get(T.id);Z&&(Z.dispose(),this._panelDisposables.delete(T.id)),this._onDidRemovePanel.fire({panel:T})}doAddPanel(T,k=this.panels.length,Z={skipSetActive:!1}){const te=this._panels.indexOf(T)>-1;this.tabsContainer.show(),this.contentContainer.show(),this.tabsContainer.openPanel(T,k),Z.skipSetActive||this.contentContainer.openPanel(T),!te&&(this.updateMru(T),this.panels.splice(k,0,T),this._panelDisposables.set(T.id,new CompositeDisposable(T.api.onDidTitleChange(ne=>this._onDidPanelTitleChange.fire(ne)),T.api.onDidParametersChange(ne=>this._onDidPanelParametersChange.fire(ne)))),this._onDidAddPanel.fire({panel:T}))}doSetActivePanel(T){this._activePanel!==T&&(this._activePanel=T,T&&(this.tabsContainer.setActivePanel(T),T.layout(this._width,this._height),this.updateMru(T),this._onDidActivePanelChange.fire({panel:T})))}updateMru(T){this.mostRecentlyUsed.includes(T)&&this.mostRecentlyUsed.splice(this.mostRecentlyUsed.indexOf(T),1),this.mostRecentlyUsed=[T,...this.mostRecentlyUsed]}updateContainer(){var T,k;if(this.panels.forEach(Z=>Z.runEvents()),this.isEmpty&&!this.watermark){const Z=this.accessor.createWatermarkComponent();Z.init({containerApi:this._api,group:this.groupPanel}),this.watermark=Z,addDisposableListener(this.watermark.element,"pointerdown",()=>{this.isActive||this.accessor.doSetGroupActive(this.groupPanel)}),this.contentContainer.element.appendChild(this.watermark.element)}!this.isEmpty&&this.watermark&&(this.watermark.element.remove(),(k=(T=this.watermark).dispose)===null||k===void 0||k.call(T),this.watermark=void 0)}canDisplayOverlay(T,k,Z){const ee=new DockviewUnhandledDragOverEvent(T,Z,k,getPanelData,this.accessor.getPanel(this.id));return this._onUnhandledDragOverEvent.fire(ee),ee.isAccepted}handleDropEvent(T,k,Z,ee){if(this.locked==="no-drop-target")return;function te(){switch(T){case"header":return typeof ee=="number"?"tab":"header_space";case"content":return"content"}}const ne=typeof ee=="number"?this.panels[ee]:void 0,me=new DockviewWillDropEvent({nativeEvent:k,position:Z,panel:ne,getData:()=>getPanelData(),kind:te(),group:this.groupPanel,api:this._api});if(this._onWillDrop.fire(me),me.defaultPrevented)return;const Ve=getPanelData();if(Ve&&Ve.viewId===this.accessor.id){if(T==="content"&&Ve.groupId===this.id&&(Z==="center"||Ve.panelId===null)||T==="header"&&Ve.groupId===this.id&&Ve.panelId===null)return;if(Ve.panelId===null){const{groupId:st}=Ve;this._onMove.fire({target:Z,groupId:st,index:ee});return}if(this.tabsContainer.indexOf(Ve.panelId)!==-1&&this.tabsContainer.size===1)return;const{groupId:et,panelId:tt}=Ve;if(this.id===et&&!Z&&this.tabsContainer.indexOf(tt)===ee)return;this._onMove.fire({target:Z,groupId:Ve.groupId,itemId:Ve.panelId,index:ee})}else this._onDidDrop.fire(new DockviewDidDropEvent({nativeEvent:k,position:Z,panel:ne,getData:()=>getPanelData(),group:this.groupPanel,api:this._api}))}dispose(){var T,k,Z;super.dispose(),(T=this.watermark)===null||T===void 0||T.element.remove(),(Z=(k=this.watermark)===null||k===void 0?void 0:k.dispose)===null||Z===void 0||Z.call(k),this.watermark=void 0;for(const ee of this.panels)ee.dispose();this.tabsContainer.dispose(),this.contentContainer.dispose()}}class GridviewPanelApiImpl extends PanelApiImpl{constructor(T,k,Z){super(T,k),this._onDidConstraintsChangeInternal=new Emitter,this.onDidConstraintsChangeInternal=this._onDidConstraintsChangeInternal.event,this._onDidConstraintsChange=new Emitter,this.onDidConstraintsChange=this._onDidConstraintsChange.event,this._onDidSizeChange=new Emitter,this.onDidSizeChange=this._onDidSizeChange.event,this.addDisposables(this._onDidConstraintsChangeInternal,this._onDidConstraintsChange,this._onDidSizeChange),Z&&this.initialize(Z)}setConstraints(T){this._onDidConstraintsChangeInternal.fire(T)}setSize(T){this._onDidSizeChange.fire(T)}}class GridviewPanel extends BasePanelView{get priority(){return this._priority}get snap(){return this._snap}get minimumWidth(){return this.__minimumWidth()}get minimumHeight(){return this.__minimumHeight()}get maximumHeight(){return this.__maximumHeight()}get maximumWidth(){return this.__maximumWidth()}__minimumWidth(){const T=typeof this._minimumWidth=="function"?this._minimumWidth():this._minimumWidth;return T!==this._evaluatedMinimumWidth&&(this._evaluatedMinimumWidth=T,this.updateConstraints()),T}__maximumWidth(){const T=typeof this._maximumWidth=="function"?this._maximumWidth():this._maximumWidth;return T!==this._evaluatedMaximumWidth&&(this._evaluatedMaximumWidth=T,this.updateConstraints()),T}__minimumHeight(){const T=typeof this._minimumHeight=="function"?this._minimumHeight():this._minimumHeight;return T!==this._evaluatedMinimumHeight&&(this._evaluatedMinimumHeight=T,this.updateConstraints()),T}__maximumHeight(){const T=typeof this._maximumHeight=="function"?this._maximumHeight():this._maximumHeight;return T!==this._evaluatedMaximumHeight&&(this._evaluatedMaximumHeight=T,this.updateConstraints()),T}get isActive(){return this.api.isActive}get isVisible(){return this.api.isVisible}constructor(T,k,Z,ee){super(T,k,ee??new GridviewPanelApiImpl(T,k)),this._evaluatedMinimumWidth=0,this._evaluatedMaximumWidth=Number.MAX_SAFE_INTEGER,this._evaluatedMinimumHeight=0,this._evaluatedMaximumHeight=Number.MAX_SAFE_INTEGER,this._minimumWidth=0,this._minimumHeight=0,this._maximumWidth=Number.MAX_SAFE_INTEGER,this._maximumHeight=Number.MAX_SAFE_INTEGER,this._snap=!1,this._onDidChange=new Emitter,this.onDidChange=this._onDidChange.event,typeof(Z==null?void 0:Z.minimumWidth)=="number"&&(this._minimumWidth=Z.minimumWidth),typeof(Z==null?void 0:Z.maximumWidth)=="number"&&(this._maximumWidth=Z.maximumWidth),typeof(Z==null?void 0:Z.minimumHeight)=="number"&&(this._minimumHeight=Z.minimumHeight),typeof(Z==null?void 0:Z.maximumHeight)=="number"&&(this._maximumHeight=Z.maximumHeight),this.api.initialize(this),this.addDisposables(this.api.onWillVisibilityChange(te=>{const{isVisible:ne}=te,{accessor:me}=this._params;me.setVisible(this,ne)}),this.api.onActiveChange(()=>{const{accessor:te}=this._params;te.doSetGroupActive(this)}),this.api.onDidConstraintsChangeInternal(te=>{(typeof te.minimumWidth=="number"||typeof te.minimumWidth=="function")&&(this._minimumWidth=te.minimumWidth),(typeof te.minimumHeight=="number"||typeof te.minimumHeight=="function")&&(this._minimumHeight=te.minimumHeight),(typeof te.maximumWidth=="number"||typeof te.maximumWidth=="function")&&(this._maximumWidth=te.maximumWidth),(typeof te.maximumHeight=="number"||typeof te.maximumHeight=="function")&&(this._maximumHeight=te.maximumHeight)}),this.api.onDidSizeChange(te=>{this._onDidChange.fire({height:te.height,width:te.width})}),this._onDidChange)}setVisible(T){this.api._onDidVisibilityChange.fire({isVisible:T})}setActive(T){this.api._onDidActiveChange.fire({isActive:T})}init(T){T.maximumHeight&&(this._maximumHeight=T.maximumHeight),T.minimumHeight&&(this._minimumHeight=T.minimumHeight),T.maximumWidth&&(this._maximumWidth=T.maximumWidth),T.minimumWidth&&(this._minimumWidth=T.minimumWidth),this._priority=T.priority,this._snap=!!T.snap,super.init(T),typeof T.isVisible=="boolean"&&this.setVisible(T.isVisible)}updateConstraints(){this.api._onDidConstraintsChange.fire({minimumWidth:this._evaluatedMinimumWidth,maximumWidth:this._evaluatedMaximumWidth,minimumHeight:this._evaluatedMinimumHeight,maximumHeight:this._evaluatedMaximumHeight})}toJSON(){const T=super.toJSON(),k=ee=>ee===Number.MAX_SAFE_INTEGER?void 0:ee,Z=ee=>ee<=0?void 0:ee;return Object.assign(Object.assign({},T),{minimumHeight:Z(this.minimumHeight),maximumHeight:k(this.maximumHeight),minimumWidth:Z(this.minimumWidth),maximumWidth:k(this.maximumWidth),snap:this.snap,priority:this.priority})}}const NOT_INITIALIZED_MESSAGE="dockview: DockviewGroupPanelApiImpl not initialized";class DockviewGroupPanelApiImpl extends GridviewPanelApiImpl{get location(){if(!this._group)throw new Error(NOT_INITIALIZED_MESSAGE);return this._group.model.location}constructor(T,k){super(T,"__dockviewgroup__"),this.accessor=k,this._onDidLocationChange=new Emitter,this.onDidLocationChange=this._onDidLocationChange.event,this._onDidActivePanelChange=new Emitter,this.onDidActivePanelChange=this._onDidActivePanelChange.event,this.addDisposables(this._onDidLocationChange,this._onDidActivePanelChange)}close(){if(this._group)return this.accessor.removeGroup(this._group)}getWindow(){return this.location.type==="popout"?this.location.getWindow():window}moveTo(T){var k,Z,ee;if(!this._group)throw new Error(NOT_INITIALIZED_MESSAGE);const te=(k=T.group)!==null&&k!==void 0?k:this.accessor.addGroup({direction:positionToDirection((Z=T.position)!==null&&Z!==void 0?Z:"right"),skipSetActive:!0});this.accessor.moveGroupOrPanel({from:{groupId:this._group.id},to:{group:te,position:T.group&&(ee=T.position)!==null&&ee!==void 0?ee:"center",index:T.index}})}maximize(){if(!this._group)throw new Error(NOT_INITIALIZED_MESSAGE);this.location.type==="grid"&&this.accessor.maximizeGroup(this._group)}isMaximized(){if(!this._group)throw new Error(NOT_INITIALIZED_MESSAGE);return this.accessor.isMaximizedGroup(this._group)}exitMaximized(){if(!this._group)throw new Error(NOT_INITIALIZED_MESSAGE);this.isMaximized()&&this.accessor.exitMaximizedGroup()}initialize(T){this._group=T}}const MINIMUM_DOCKVIEW_GROUP_PANEL_WIDTH=100,MINIMUM_DOCKVIEW_GROUP_PANEL_HEIGHT=100;class DockviewGroupPanel extends GridviewPanel{get minimumWidth(){var T;const k=(T=this.activePanel)===null||T===void 0?void 0:T.minimumWidth;return typeof k=="number"?k:super.__minimumWidth()}get minimumHeight(){var T;const k=(T=this.activePanel)===null||T===void 0?void 0:T.minimumHeight;return typeof k=="number"?k:super.__minimumHeight()}get maximumWidth(){var T;const k=(T=this.activePanel)===null||T===void 0?void 0:T.maximumWidth;return typeof k=="number"?k:super.__maximumWidth()}get maximumHeight(){var T;const k=(T=this.activePanel)===null||T===void 0?void 0:T.maximumHeight;return typeof k=="number"?k:super.__maximumHeight()}get panels(){return this._model.panels}get activePanel(){return this._model.activePanel}get size(){return this._model.size}get model(){return this._model}get locked(){return this._model.locked}set locked(T){this._model.locked=T}get header(){return this._model.header}constructor(T,k,Z){var ee,te,ne,me,Ve,Ye;super(k,"groupview_default",{minimumHeight:(te=(ee=Z.constraints)===null||ee===void 0?void 0:ee.minimumHeight)!==null&&te!==void 0?te:MINIMUM_DOCKVIEW_GROUP_PANEL_HEIGHT,minimumWidth:(me=(ne=Z.constraints)===null||ne===void 0?void 0:ne.maximumHeight)!==null&&me!==void 0?me:MINIMUM_DOCKVIEW_GROUP_PANEL_WIDTH,maximumHeight:(Ve=Z.constraints)===null||Ve===void 0?void 0:Ve.maximumHeight,maximumWidth:(Ye=Z.constraints)===null||Ye===void 0?void 0:Ye.maximumWidth},new DockviewGroupPanelApiImpl(k,T)),this.api.initialize(this),this._model=new DockviewGroupPanelModel(this.element,T,k,Z,this),this.addDisposables(this.model.onDidActivePanelChange(et=>{this.api._onDidActivePanelChange.fire(et)}))}focus(){this.api.isActive||this.api.setActive(),super.focus()}initialize(){this._model.initialize()}setActive(T){super.setActive(T),this.model.setActive(T)}layout(T,k){super.layout(T,k),this.model.layout(T,k)}getComponent(){return this._model}toJSON(){return this.model.toJSON()}}const themeAbyss={className:"dockview-theme-abyss"};class DockviewPanelApiImpl extends GridviewPanelApiImpl{get location(){return this.group.api.location}get title(){return this.panel.title}get isGroupActive(){return this.group.isActive}get renderer(){return this.panel.renderer}set group(T){const k=this._group;this._group!==T&&(this._group=T,this._onDidGroupChange.fire({}),this.setupGroupEventListeners(k),this._onDidLocationChange.fire({location:this.group.api.location}))}get group(){return this._group}get tabComponent(){return this._tabComponent}constructor(T,k,Z,ee,te){super(T.id,ee),this.panel=T,this.accessor=Z,this._onDidTitleChange=new Emitter,this.onDidTitleChange=this._onDidTitleChange.event,this._onDidActiveGroupChange=new Emitter,this.onDidActiveGroupChange=this._onDidActiveGroupChange.event,this._onDidGroupChange=new Emitter,this.onDidGroupChange=this._onDidGroupChange.event,this._onDidRendererChange=new Emitter,this.onDidRendererChange=this._onDidRendererChange.event,this._onDidLocationChange=new Emitter,this.onDidLocationChange=this._onDidLocationChange.event,this.groupEventsDisposable=new MutableDisposable,this._tabComponent=te,this.initialize(T),this._group=k,this.setupGroupEventListeners(),this.addDisposables(this.groupEventsDisposable,this._onDidRendererChange,this._onDidTitleChange,this._onDidGroupChange,this._onDidActiveGroupChange,this._onDidLocationChange)}getWindow(){return this.group.api.getWindow()}moveTo(T){var k,Z;this.accessor.moveGroupOrPanel({from:{groupId:this._group.id,panelId:this.panel.id},to:{group:(k=T.group)!==null&&k!==void 0?k:this._group,position:T.group&&(Z=T.position)!==null&&Z!==void 0?Z:"center",index:T.index}})}setTitle(T){this.panel.setTitle(T)}setRenderer(T){this.panel.setRenderer(T)}close(){this.group.model.closePanel(this.panel)}maximize(){this.group.api.maximize()}isMaximized(){return this.group.api.isMaximized()}exitMaximized(){this.group.api.exitMaximized()}setupGroupEventListeners(T){var k;let Z=(k=T==null?void 0:T.isActive)!==null&&k!==void 0?k:!1;this.groupEventsDisposable.value=new CompositeDisposable(this.group.api.onDidVisibilityChange(ee=>{const te=!ee.isVisible&&this.isVisible,ne=ee.isVisible&&!this.isVisible,me=this.group.model.isPanelActive(this.panel);(te||ne&&me)&&this._onDidVisibilityChange.fire(ee)}),this.group.api.onDidLocationChange(ee=>{this.group===this.panel.group&&this._onDidLocationChange.fire(ee)}),this.group.api.onDidActiveChange(()=>{this.group===this.panel.group&&Z!==this.isGroupActive&&(Z=this.isGroupActive,this._onDidActiveGroupChange.fire({isActive:this.isGroupActive}))}))}}class DockviewPanel extends CompositeDisposable{get params(){return this._params}get title(){return this._title}get group(){return this._group}get renderer(){var T;return(T=this._renderer)!==null&&T!==void 0?T:this.accessor.renderer}get minimumWidth(){return this._minimumWidth}get minimumHeight(){return this._minimumHeight}get maximumWidth(){return this._maximumWidth}get maximumHeight(){return this._maximumHeight}constructor(T,k,Z,ee,te,ne,me,Ve){super(),this.id=T,this.accessor=ee,this.containerApi=te,this.view=me,this._renderer=Ve.renderer,this._group=ne,this._minimumWidth=Ve.minimumWidth,this._minimumHeight=Ve.minimumHeight,this._maximumWidth=Ve.maximumWidth,this._maximumHeight=Ve.maximumHeight,this.api=new DockviewPanelApiImpl(this,this._group,ee,k,Z),this.addDisposables(this.api.onActiveChange(()=>{ee.setActivePanel(this)}),this.api.onDidSizeChange(Ye=>{this.group.api.setSize(Ye)}),this.api.onDidRendererChange(()=>{this.group.model.rerender(this)}))}init(T){this._params=T.params,this.view.init(Object.assign(Object.assign({},T),{api:this.api,containerApi:this.containerApi})),this.setTitle(T.title)}focus(){const T=new WillFocusEvent;this.api._onWillFocus.fire(T),!T.defaultPrevented&&(this.api.isActive||this.api.setActive())}toJSON(){return{id:this.id,contentComponent:this.view.contentComponent,tabComponent:this.view.tabComponent,params:Object.keys(this._params||{}).length>0?this._params:void 0,title:this.title,renderer:this._renderer,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,minimumWidth:this._minimumWidth,maximumWidth:this._maximumWidth}}setTitle(T){T!==this.title&&(this._title=T,this.api._onDidTitleChange.fire({title:T}))}setRenderer(T){T!==this.renderer&&(this._renderer=T,this.api._onDidRendererChange.fire({renderer:T}))}update(T){var k;this._params=Object.assign(Object.assign({},(k=this._params)!==null&&k!==void 0?k:{}),T.params);for(const Z of Object.keys(T.params))T.params[Z]===void 0&&delete this._params[Z];this.view.update({params:this._params})}updateParentGroup(T,k){this._group=T,this.api.group=this._group;const Z=this._group.model.isPanelActive(this),ee=this.group.api.isActive&&Z;k!=null&&k.skipSetActive||this.api.isActive!==ee&&this.api._onDidActiveChange.fire({isActive:this.group.api.isActive&&Z}),this.api.isVisible!==Z&&this.api._onDidVisibilityChange.fire({isVisible:Z})}runEvents(){const T=this._group.model.isPanelActive(this),k=this.group.api.isActive&&T;this.api.isActive!==k&&this.api._onDidActiveChange.fire({isActive:this.group.api.isActive&&T}),this.api.isVisible!==T&&this.api._onDidVisibilityChange.fire({isVisible:T})}layout(T,k){this.api._onDidDimensionChange.fire({width:T,height:k}),this.view.layout(T,k)}dispose(){this.api.dispose(),this.view.dispose()}}class DefaultTab extends CompositeDisposable{get element(){return this._element}constructor(){super(),this._element=document.createElement("div"),this._element.className="dv-default-tab",this._content=document.createElement("div"),this._content.className="dv-default-tab-content",this.action=document.createElement("div"),this.action.className="dv-default-tab-action",this.action.appendChild(createCloseButton()),this._element.appendChild(this._content),this._element.appendChild(this.action),this.render()}init(T){this._title=T.title,this.addDisposables(T.api.onDidTitleChange(k=>{this._title=k.title,this.render()}),addDisposableListener(this.action,"pointerdown",k=>{k.preventDefault()}),addDisposableListener(this.action,"click",k=>{k.defaultPrevented||(k.preventDefault(),T.api.close())})),this.render()}render(){var T;this._content.textContent!==this._title&&(this._content.textContent=(T=this._title)!==null&&T!==void 0?T:"")}}class DockviewPanelModel{get content(){return this._content}get tab(){return this._tab}constructor(T,k,Z,ee){this.accessor=T,this.id=k,this.contentComponent=Z,this.tabComponent=ee,this._content=this.createContentComponent(this.id,Z),this._tab=this.createTabComponent(this.id,ee)}createTabRenderer(T){var k;const Z=this.createTabComponent(this.id,this.tabComponent);return this._params&&Z.init(Object.assign(Object.assign({},this._params),{tabLocation:T})),this._updateEvent&&((k=Z.update)===null||k===void 0||k.call(Z,this._updateEvent)),Z}init(T){this._params=T,this.content.init(T),this.tab.init(Object.assign(Object.assign({},T),{tabLocation:"header"}))}layout(T,k){var Z,ee;(ee=(Z=this.content).layout)===null||ee===void 0||ee.call(Z,T,k)}update(T){var k,Z,ee,te;this._updateEvent=T,(Z=(k=this.content).update)===null||Z===void 0||Z.call(k,T),(te=(ee=this.tab).update)===null||te===void 0||te.call(ee,T)}dispose(){var T,k,Z,ee;(k=(T=this.content).dispose)===null||k===void 0||k.call(T),(ee=(Z=this.tab).dispose)===null||ee===void 0||ee.call(Z)}createContentComponent(T,k){return this.accessor.options.createComponent({id:T,name:k})}createTabComponent(T,k){const Z=k??this.accessor.options.defaultTabComponent;if(Z){if(this.accessor.options.createTabComponent){const ee=this.accessor.options.createTabComponent({id:T,name:Z});return ee||new DefaultTab}console.warn(`dockview: tabComponent '${k}' was not found. falling back to the default tab.`)}return new DefaultTab}}class DefaultDockviewDeserialzier{constructor(T){this.accessor=T}fromJSON(T,k){var Z,ee;const te=T.id,ne=T.params,me=T.title,Ve=T.view,Ye=Ve?Ve.content.id:(Z=T.contentComponent)!==null&&Z!==void 0?Z:"unknown",et=Ve?(ee=Ve.tab)===null||ee===void 0?void 0:ee.id:T.tabComponent,tt=new DockviewPanelModel(this.accessor,te,Ye,et),it=new DockviewPanel(te,Ye,et,this.accessor,new DockviewApi(this.accessor),k,tt,{renderer:T.renderer,minimumWidth:T.minimumWidth,minimumHeight:T.minimumHeight,maximumWidth:T.maximumWidth,maximumHeight:T.maximumHeight});return it.init({title:me??te,params:ne??{}}),it}}class Watermark extends CompositeDisposable{get element(){return this._element}constructor(){super(),this._element=document.createElement("div"),this._element.className="dv-watermark"}init(T){}}class AriaLevelTracker{constructor(){this._orderedList=[]}push(T){this._orderedList=[...this._orderedList.filter(k=>k!==T),T],this.update()}destroy(T){this._orderedList=this._orderedList.filter(k=>k!==T),this.update()}update(){for(let T=0;T<this._orderedList.length;T++)this._orderedList[T].setAttribute("aria-level",`${T}`),this._orderedList[T].style.zIndex=`calc(var(--dv-overlay-z-index, 999) + ${T*2})`}}const arialLevelTracker=new AriaLevelTracker;class Overlay extends CompositeDisposable{set minimumInViewportWidth(T){this.options.minimumInViewportWidth=T}set minimumInViewportHeight(T){this.options.minimumInViewportHeight=T}get element(){return this._element}get isVisible(){return this._isVisible}constructor(T){super(),this.options=T,this._element=document.createElement("div"),this._onDidChange=new Emitter,this.onDidChange=this._onDidChange.event,this._onDidChangeEnd=new Emitter,this.onDidChangeEnd=this._onDidChangeEnd.event,this.addDisposables(this._onDidChange,this._onDidChangeEnd),this._element.className="dv-resize-container",this._isVisible=!0,this.setupResize("top"),this.setupResize("bottom"),this.setupResize("left"),this.setupResize("right"),this.setupResize("topleft"),this.setupResize("topright"),this.setupResize("bottomleft"),this.setupResize("bottomright"),this._element.appendChild(this.options.content),this.options.container.appendChild(this._element),this.setBounds(Object.assign(Object.assign(Object.assign(Object.assign({height:this.options.height,width:this.options.width},"top"in this.options&&{top:this.options.top}),"bottom"in this.options&&{bottom:this.options.bottom}),"left"in this.options&&{left:this.options.left}),"right"in this.options&&{right:this.options.right})),arialLevelTracker.push(this._element)}setVisible(T){T!==this.isVisible&&(this._isVisible=T,toggleClass$1(this.element,"dv-hidden",!this.isVisible))}bringToFront(){arialLevelTracker.push(this._element)}setBounds(T={}){typeof T.height=="number"&&(this._element.style.height=`${T.height}px`),typeof T.width=="number"&&(this._element.style.width=`${T.width}px`),"top"in T&&typeof T.top=="number"&&(this._element.style.top=`${T.top}px`,this._element.style.bottom="auto",this.verticalAlignment="top"),"bottom"in T&&typeof T.bottom=="number"&&(this._element.style.bottom=`${T.bottom}px`,this._element.style.top="auto",this.verticalAlignment="bottom"),"left"in T&&typeof T.left=="number"&&(this._element.style.left=`${T.left}px`,this._element.style.right="auto",this.horiziontalAlignment="left"),"right"in T&&typeof T.right=="number"&&(this._element.style.right=`${T.right}px`,this._element.style.left="auto",this.horiziontalAlignment="right");const k=this.options.container.getBoundingClientRect(),Z=this._element.getBoundingClientRect(),ee=Math.max(0,this.getMinimumWidth(Z.width)),te=Math.max(0,this.getMinimumHeight(Z.height));if(this.verticalAlignment==="top"){const ne=clamp$2(Z.top-k.top,-te,Math.max(0,k.height-Z.height+te));this._element.style.top=`${ne}px`,this._element.style.bottom="auto"}if(this.verticalAlignment==="bottom"){const ne=clamp$2(k.bottom-Z.bottom,-te,Math.max(0,k.height-Z.height+te));this._element.style.bottom=`${ne}px`,this._element.style.top="auto"}if(this.horiziontalAlignment==="left"){const ne=clamp$2(Z.left-k.left,-ee,Math.max(0,k.width-Z.width+ee));this._element.style.left=`${ne}px`,this._element.style.right="auto"}if(this.horiziontalAlignment==="right"){const ne=clamp$2(k.right-Z.right,-ee,Math.max(0,k.width-Z.width+ee));this._element.style.right=`${ne}px`,this._element.style.left="auto"}this._onDidChange.fire()}toJSON(){const T=this.options.container.getBoundingClientRect(),k=this._element.getBoundingClientRect(),Z={};return this.verticalAlignment==="top"?Z.top=parseFloat(this._element.style.top):this.verticalAlignment==="bottom"?Z.bottom=parseFloat(this._element.style.bottom):Z.top=k.top-T.top,this.horiziontalAlignment==="left"?Z.left=parseFloat(this._element.style.left):this.horiziontalAlignment==="right"?Z.right=parseFloat(this._element.style.right):Z.left=k.left-T.left,Z.width=k.width,Z.height=k.height,Z}setupDrag(T,k={inDragMode:!1}){const Z=new MutableDisposable,ee=()=>{let te=null;const ne=disableIframePointEvents();Z.value=new CompositeDisposable({dispose:()=>{ne.release()}},addDisposableListener(window,"pointermove",me=>{const Ve=this.options.container.getBoundingClientRect(),Ye=me.clientX-Ve.left,et=me.clientY-Ve.top;toggleClass$1(this._element,"dv-resize-container-dragging",!0);const tt=this._element.getBoundingClientRect();te===null&&(te={x:me.clientX-tt.left,y:me.clientY-tt.top});const it=Math.max(0,this.getMinimumWidth(tt.width)),st=Math.max(0,this.getMinimumHeight(tt.height)),nt=clamp$2(et-te.y,-st,Math.max(0,Ve.height-tt.height+st)),rt=clamp$2(te.y-et+Ve.height-tt.height,-st,Math.max(0,Ve.height-tt.height+st)),lt=clamp$2(Ye-te.x,-it,Math.max(0,Ve.width-tt.width+it)),ot=clamp$2(te.x-Ye+Ve.width-tt.width,-it,Math.max(0,Ve.width-tt.width+it)),ht={};nt<=rt?ht.top=nt:ht.bottom=rt,lt<=ot?ht.left=lt:ht.right=ot,this.setBounds(ht)}),addDisposableListener(window,"pointerup",()=>{toggleClass$1(this._element,"dv-resize-container-dragging",!1),Z.dispose(),this._onDidChangeEnd.fire()}))};this.addDisposables(Z,addDisposableListener(T,"pointerdown",te=>{if(te.defaultPrevented){te.preventDefault();return}quasiDefaultPrevented(te)||ee()}),addDisposableListener(this.options.content,"pointerdown",te=>{te.defaultPrevented||quasiDefaultPrevented(te)||te.shiftKey&&ee()}),addDisposableListener(this.options.content,"pointerdown",()=>{arialLevelTracker.push(this._element)},!0)),k.inDragMode&&ee()}setupResize(T){const k=document.createElement("div");k.className=`dv-resize-handle-${T}`,this._element.appendChild(k);const Z=new MutableDisposable;this.addDisposables(Z,addDisposableListener(k,"pointerdown",ee=>{ee.preventDefault();let te=null;const ne=disableIframePointEvents();Z.value=new CompositeDisposable(addDisposableListener(window,"pointermove",me=>{const Ve=this.options.container.getBoundingClientRect(),Ye=this._element.getBoundingClientRect(),et=me.clientY-Ve.top,tt=me.clientX-Ve.left;te===null&&(te={originalY:et,originalHeight:Ye.height,originalX:tt,originalWidth:Ye.width});let it,st,nt,rt,lt,ot;const ht=()=>{it=clamp$2(et,-Number.MAX_VALUE,te.originalY+te.originalHeight>Ve.height?this.getMinimumHeight(Ve.height):Math.max(0,te.originalY+te.originalHeight-Overlay.MINIMUM_HEIGHT)),nt=te.originalY+te.originalHeight-it,st=Ve.height-it-nt},dt=()=>{it=te.originalY-te.originalHeight,nt=clamp$2(et-it,it<0&&typeof this.options.minimumInViewportHeight=="number"?-it+this.options.minimumInViewportHeight:Overlay.MINIMUM_HEIGHT,Number.MAX_VALUE),st=Ve.height-it-nt},ct=()=>{rt=clamp$2(tt,-Number.MAX_VALUE,te.originalX+te.originalWidth>Ve.width?this.getMinimumWidth(Ve.width):Math.max(0,te.originalX+te.originalWidth-Overlay.MINIMUM_WIDTH)),ot=te.originalX+te.originalWidth-rt,lt=Ve.width-rt-ot},ut=()=>{rt=te.originalX-te.originalWidth,ot=clamp$2(tt-rt,rt<0&&typeof this.options.minimumInViewportWidth=="number"?-rt+this.options.minimumInViewportWidth:Overlay.MINIMUM_WIDTH,Number.MAX_VALUE),lt=Ve.width-rt-ot};switch(T){case"top":ht();break;case"bottom":dt();break;case"left":ct();break;case"right":ut();break;case"topleft":ht(),ct();break;case"topright":ht(),ut();break;case"bottomleft":dt(),ct();break;case"bottomright":dt(),ut();break}const ft={};it<=st?ft.top=it:ft.bottom=st,rt<=lt?ft.left=rt:ft.right=lt,ft.height=nt,ft.width=ot,this.setBounds(ft)}),{dispose:()=>{ne.release()}},addDisposableListener(window,"pointerup",()=>{Z.dispose(),this._onDidChangeEnd.fire()}))}))}getMinimumWidth(T){return typeof this.options.minimumInViewportWidth=="number"?T-this.options.minimumInViewportWidth:0}getMinimumHeight(T){return typeof this.options.minimumInViewportHeight=="number"?T-this.options.minimumInViewportHeight:0}dispose(){arialLevelTracker.destroy(this._element),this._element.remove(),super.dispose()}}Overlay.MINIMUM_HEIGHT=20;Overlay.MINIMUM_WIDTH=20;class DockviewFloatingGroupPanel extends CompositeDisposable{constructor(T,k){super(),this.group=T,this.overlay=k,this.addDisposables(k)}position(T){this.overlay.setBounds(T)}}const DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE=100,DEFAULT_FLOATING_GROUP_POSITION={left:100,top:100,width:300,height:300};function createFocusableElement(){const Y=document.createElement("div");return Y.tabIndex=-1,Y}class OverlayRenderContainer extends CompositeDisposable{constructor(T,k){super(),this.element=T,this.accessor=k,this.map={},this._disposed=!1,this.addDisposables(Disposable.from(()=>{for(const Z of Object.values(this.map))Z.disposable.dispose(),Z.destroy.dispose();this._disposed=!0}))}detatch(T){if(this.map[T.api.id]){const{disposable:k,destroy:Z}=this.map[T.api.id];return k.dispose(),Z.dispose(),delete this.map[T.api.id],!0}return!1}attach(T){const{panel:k,referenceContainer:Z}=T;if(!this.map[k.api.id]){const et=createFocusableElement();et.className="dv-render-overlay",this.map[k.api.id]={panel:k,disposable:Disposable.NONE,destroy:Disposable.NONE,element:et}}const ee=this.map[k.api.id].element;k.view.content.element.parentElement!==ee&&ee.appendChild(k.view.content.element),ee.parentElement!==this.element&&this.element.appendChild(ee);const te=()=>{const et=getDomNodePagePosition(Z.element),tt=getDomNodePagePosition(this.element);ee.style.left=`${et.left-tt.left}px`,ee.style.top=`${et.top-tt.top}px`,ee.style.width=`${et.width}px`,ee.style.height=`${et.height}px`,toggleClass$1(ee,"dv-render-overlay-float",k.group.api.location.type==="floating")},ne=()=>{k.api.isVisible&&te(),ee.style.display=k.api.isVisible?"":"none"},me=new MutableDisposable,Ve=()=>{k.api.location.type==="floating"?queueMicrotask(()=>{const et=this.accessor.floatingGroups.find(nt=>nt.group===k.api.group);if(!et)return;const tt=et.overlay.element,it=()=>{const nt=Number(tt.getAttribute("aria-level"));ee.style.zIndex=`calc(var(--dv-overlay-z-index, 999) + ${nt*2+1})`},st=new MutationObserver(()=>{it()});me.value=Disposable.from(()=>st.disconnect()),st.observe(tt,{attributeFilter:["aria-level"],attributes:!0}),it()}):ee.style.zIndex=""},Ye=new CompositeDisposable(me,new DragAndDropObserver(ee,{onDragEnd:et=>{Z.dropTarget.dnd.onDragEnd(et)},onDragEnter:et=>{Z.dropTarget.dnd.onDragEnter(et)},onDragLeave:et=>{Z.dropTarget.dnd.onDragLeave(et)},onDrop:et=>{Z.dropTarget.dnd.onDrop(et)},onDragOver:et=>{Z.dropTarget.dnd.onDragOver(et)}}),k.api.onDidVisibilityChange(()=>{ne()}),k.api.onDidDimensionsChange(()=>{k.api.isVisible&&te()}),k.api.onDidLocationChange(()=>{Ve()}));return this.map[k.api.id].destroy=Disposable.from(()=>{var et;k.view.content.element.parentElement===ee&&ee.removeChild(k.view.content.element),(et=ee.parentElement)===null||et===void 0||et.removeChild(ee)}),Ve(),queueMicrotask(()=>{this.isDisposed||ne()}),this.map[k.api.id].disposable.dispose(),this.map[k.api.id].disposable=Ye,ee}}var __awaiter=function(Y,T,k,Z){function ee(te){return te instanceof k?te:new k(function(ne){ne(te)})}return new(k||(k=Promise))(function(te,ne){function me(et){try{Ye(Z.next(et))}catch(tt){ne(tt)}}function Ve(et){try{Ye(Z.throw(et))}catch(tt){ne(tt)}}function Ye(et){et.done?te(et.value):ee(et.value).then(me,Ve)}Ye((Z=Z.apply(Y,T||[])).next())})};class PopoutWindow extends CompositeDisposable{get window(){var T,k;return(k=(T=this._window)===null||T===void 0?void 0:T.value)!==null&&k!==void 0?k:null}constructor(T,k,Z){super(),this.target=T,this.className=k,this.options=Z,this._onWillClose=new Emitter,this.onWillClose=this._onWillClose.event,this._onDidClose=new Emitter,this.onDidClose=this._onDidClose.event,this._window=null,this.addDisposables(this._onWillClose,this._onDidClose,{dispose:()=>{this.close()}})}dimensions(){if(!this._window)return null;const T=this._window.value.screenX,k=this._window.value.screenY,Z=this._window.value.innerWidth,ee=this._window.value.innerHeight;return{top:k,left:T,width:Z,height:ee}}close(){var T,k;this._window&&(this._onWillClose.fire(),(k=(T=this.options).onWillClose)===null||k===void 0||k.call(T,{id:this.target,window:this._window.value}),this._window.disposable.dispose(),this._window=null,this._onDidClose.fire())}open(){var T,k;return __awaiter(this,void 0,void 0,function*(){if(this._window)throw new Error("instance of popout window is already open");const Z=`${this.options.url}`,ee=Object.entries({top:this.options.top,left:this.options.left,width:this.options.width,height:this.options.height}).map(([Ve,Ye])=>`${Ve}=${Ye}`).join(","),te=window.open(Z,this.target,ee);if(!te)return null;const ne=new CompositeDisposable;this._window={value:te,disposable:ne},ne.addDisposables(Disposable.from(()=>{te.close()}),addDisposableListener(window,"beforeunload",()=>{this.close()}));const me=this.createPopoutWindowContainer();return this.className&&me.classList.add(this.className),(k=(T=this.options).onDidOpen)===null||k===void 0||k.call(T,{id:this.target,window:te}),new Promise((Ve,Ye)=>{te.addEventListener("unload",et=>{}),te.addEventListener("load",()=>{try{const et=te.document;et.title=document.title,et.body.appendChild(me),addStyles(et,window.document.styleSheets),addDisposableListener(te,"beforeunload",()=>{this.close()}),Ve(me)}catch(et){Ye(et)}})})})}createPopoutWindowContainer(){const T=document.createElement("div");return T.classList.add("dv-popout-window"),T.id="dv-popout-window",T.style.position="absolute",T.style.width="100%",T.style.height="100%",T.style.top="0px",T.style.left="0px",T}}class StrictEventsSequencing extends CompositeDisposable{constructor(T){super(),this.accessor=T,this.init()}init(){const T=new Set,k=new Set;this.addDisposables(this.accessor.onDidAddPanel(Z=>{if(T.has(Z.api.id))throw new Error(`dockview: Invalid event sequence. [onDidAddPanel] called for panel ${Z.api.id} but panel already exists`);T.add(Z.api.id)}),this.accessor.onDidRemovePanel(Z=>{if(T.has(Z.api.id))T.delete(Z.api.id);else throw new Error(`dockview: Invalid event sequence. [onDidRemovePanel] called for panel ${Z.api.id} but panel does not exists`)}),this.accessor.onDidAddGroup(Z=>{if(k.has(Z.api.id))throw new Error(`dockview: Invalid event sequence. [onDidAddGroup] called for group ${Z.api.id} but group already exists`);k.add(Z.api.id)}),this.accessor.onDidRemoveGroup(Z=>{if(k.has(Z.api.id))k.delete(Z.api.id);else throw new Error(`dockview: Invalid event sequence. [onDidRemoveGroup] called for group ${Z.api.id} but group does not exists`)}))}}class PopupService extends CompositeDisposable{constructor(T){super(),this.root=T,this._active=null,this._activeDisposable=new MutableDisposable,this._element=document.createElement("div"),this._element.className="dv-popover-anchor",this._element.style.position="relative",this.root.prepend(this._element),this.addDisposables(Disposable.from(()=>{this.close()}),this._activeDisposable)}openPopover(T,k){this.close();const Z=document.createElement("div");Z.style.position="absolute",Z.style.zIndex="99",Z.appendChild(T);const ee=this._element.getBoundingClientRect(),te=ee.left,ne=ee.top;Z.style.top=`${k.y-ne}px`,Z.style.left=`${k.x-te}px`,this._element.appendChild(Z),this._active=Z,this._activeDisposable.value=new CompositeDisposable(addDisposableListener(window,"pointerdown",me=>{var Ve;const Ye=me.target;if(!(Ye instanceof HTMLElement))return;let et=Ye;for(;et&&et!==Z;)et=(Ve=et==null?void 0:et.parentElement)!==null&&Ve!==void 0?Ve:null;et||this.close()}))}close(){this._active&&(this._active.remove(),this._activeDisposable.dispose(),this._active=null)}}class DropTargetAnchorContainer extends CompositeDisposable{get disabled(){return this._disabled}set disabled(T){var k;this.disabled!==T&&(this._disabled=T,T&&((k=this.model)===null||k===void 0||k.clear()))}get model(){if(!this.disabled)return{clear:()=>{var T;this._model&&((T=this._model.root.parentElement)===null||T===void 0||T.removeChild(this._model.root)),this._model=void 0},exists:()=>!!this._model,getElements:(T,k)=>{const Z=this._outline!==k;if(this._outline=k,this._model)return this._model.changed=Z,this._model;const ee=this.createContainer(),te=this.createAnchor();if(this._model={root:ee,overlay:te,changed:Z},ee.appendChild(te),this.element.appendChild(ee),(T==null?void 0:T.target)instanceof HTMLElement){const ne=T.target.getBoundingClientRect(),me=this.element.getBoundingClientRect();te.style.left=`${ne.left-me.left}px`,te.style.top=`${ne.top-me.top}px`}return this._model}}}constructor(T,k){super(),this.element=T,this._disabled=!1,this._disabled=k.disabled,this.addDisposables(Disposable.from(()=>{var Z;(Z=this.model)===null||Z===void 0||Z.clear()}))}createContainer(){const T=document.createElement("div");return T.className="dv-drop-target-container",T}createAnchor(){const T=document.createElement("div");return T.className="dv-drop-target-anchor",T.style.visibility="hidden",T}}const DEFAULT_ROOT_OVERLAY_MODEL={activationSize:{type:"pixels",value:10},size:{type:"pixels",value:20}};function moveGroupWithoutDestroying(Y){const T=Y.from.activePanel;[...Y.from.panels].map(Z=>{const ee=Y.from.model.removePanel(Z);return Y.from.model.renderContainer.detatch(Z),ee}).forEach(Z=>{Y.to.model.openPanel(Z,{skipSetActive:T!==Z,skipSetGroupActive:!0})})}class DockviewComponent extends BaseGrid{get orientation(){return this.gridview.orientation}get totalPanels(){return this.panels.length}get panels(){return this.groups.flatMap(T=>T.panels)}get options(){return this._options}get activePanel(){const T=this.activeGroup;if(T)return T.activePanel}get renderer(){var T;return(T=this.options.defaultRenderer)!==null&&T!==void 0?T:"onlyWhenVisible"}get api(){return this._api}get floatingGroups(){return this._floatingGroups}constructor(T,k){var Z,ee,te;super(T,{proportionalLayout:!0,orientation:Orientation.HORIZONTAL,styles:k.hideBorders?{separatorBorder:"transparent"}:void 0,disableAutoResizing:k.disableAutoResizing,locked:k.locked,margin:(ee=(Z=k.theme)===null||Z===void 0?void 0:Z.gap)!==null&&ee!==void 0?ee:0,className:k.className}),this.nextGroupId=sequentialNumberGenerator(),this._deserializer=new DefaultDockviewDeserialzier(this),this._watermark=null,this._onWillDragPanel=new Emitter,this.onWillDragPanel=this._onWillDragPanel.event,this._onWillDragGroup=new Emitter,this.onWillDragGroup=this._onWillDragGroup.event,this._onDidDrop=new Emitter,this.onDidDrop=this._onDidDrop.event,this._onWillDrop=new Emitter,this.onWillDrop=this._onWillDrop.event,this._onWillShowOverlay=new Emitter,this.onWillShowOverlay=this._onWillShowOverlay.event,this._onUnhandledDragOverEvent=new Emitter,this.onUnhandledDragOverEvent=this._onUnhandledDragOverEvent.event,this._onDidRemovePanel=new Emitter,this.onDidRemovePanel=this._onDidRemovePanel.event,this._onDidAddPanel=new Emitter,this.onDidAddPanel=this._onDidAddPanel.event,this._onDidPopoutGroupSizeChange=new Emitter,this.onDidPopoutGroupSizeChange=this._onDidPopoutGroupSizeChange.event,this._onDidPopoutGroupPositionChange=new Emitter,this.onDidPopoutGroupPositionChange=this._onDidPopoutGroupPositionChange.event,this._onDidLayoutFromJSON=new Emitter,this.onDidLayoutFromJSON=this._onDidLayoutFromJSON.event,this._onDidActivePanelChange=new Emitter,this.onDidActivePanelChange=this._onDidActivePanelChange.event,this._onDidMovePanel=new Emitter,this.onDidMovePanel=this._onDidMovePanel.event,this._onDidMaximizedGroupChange=new Emitter,this.onDidMaximizedGroupChange=this._onDidMaximizedGroupChange.event,this._floatingGroups=[],this._popoutGroups=[],this._onDidRemoveGroup=new Emitter,this.onDidRemoveGroup=this._onDidRemoveGroup.event,this._onDidAddGroup=new Emitter,this.onDidAddGroup=this._onDidAddGroup.event,this._onDidOptionsChange=new Emitter,this.onDidOptionsChange=this._onDidOptionsChange.event,this._onDidActiveGroupChange=new Emitter,this.onDidActiveGroupChange=this._onDidActiveGroupChange.event,this._moving=!1,this._options=k,this.popupService=new PopupService(this.element),this._themeClassnames=new Classnames(this.element),this._api=new DockviewApi(this),this.rootDropTargetContainer=new DropTargetAnchorContainer(this.element,{disabled:!0}),this.overlayRenderContainer=new OverlayRenderContainer(this.gridview.element,this),this._rootDropTarget=new Droptarget(this.element,{className:"dv-drop-target-edge",canDisplayOverlay:(ne,me)=>{const Ve=getPanelData();if(Ve)return Ve.viewId!==this.id?!1:me==="center"?this.gridview.length===0:!0;if(me==="center"&&this.gridview.length!==0)return!1;const Ye=new DockviewUnhandledDragOverEvent(ne,"edge",me,getPanelData);return this._onUnhandledDragOverEvent.fire(Ye),Ye.isAccepted},acceptedTargetZones:["top","bottom","left","right","center"],overlayModel:(te=k.rootOverlayModel)!==null&&te!==void 0?te:DEFAULT_ROOT_OVERLAY_MODEL,getOverrideTarget:()=>{var ne;return(ne=this.rootDropTargetContainer)===null||ne===void 0?void 0:ne.model}}),this.updateDropTargetModel(k),toggleClass$1(this.gridview.element,"dv-dockview",!0),toggleClass$1(this.element,"dv-debug",!!k.debug),this.updateTheme(),this.updateWatermark(),k.debug&&this.addDisposables(new StrictEventsSequencing(this)),this.addDisposables(this.rootDropTargetContainer,this.overlayRenderContainer,this._onWillDragPanel,this._onWillDragGroup,this._onWillShowOverlay,this._onDidActivePanelChange,this._onDidAddPanel,this._onDidRemovePanel,this._onDidLayoutFromJSON,this._onDidDrop,this._onWillDrop,this._onDidMovePanel,this._onDidAddGroup,this._onDidRemoveGroup,this._onDidActiveGroupChange,this._onUnhandledDragOverEvent,this._onDidMaximizedGroupChange,this._onDidOptionsChange,this._onDidPopoutGroupSizeChange,this._onDidPopoutGroupPositionChange,this.onDidViewVisibilityChangeMicroTaskQueue(()=>{this.updateWatermark()}),this.onDidAdd(ne=>{this._moving||this._onDidAddGroup.fire(ne)}),this.onDidRemove(ne=>{this._moving||this._onDidRemoveGroup.fire(ne)}),this.onDidActiveChange(ne=>{this._moving||this._onDidActiveGroupChange.fire(ne)}),this.onDidMaximizedChange(ne=>{this._onDidMaximizedGroupChange.fire({group:ne.panel,isMaximized:ne.isMaximized})}),Event$3.any(this.onDidAdd,this.onDidRemove)(()=>{this.updateWatermark()}),Event$3.any(this.onDidAddPanel,this.onDidRemovePanel,this.onDidAddGroup,this.onDidRemove,this.onDidMovePanel,this.onDidActivePanelChange,this.onDidPopoutGroupPositionChange,this.onDidPopoutGroupSizeChange)(()=>{this._bufferOnDidLayoutChange.fire()}),Disposable.from(()=>{for(const ne of[...this._floatingGroups])ne.dispose();for(const ne of[...this._popoutGroups])ne.disposable.dispose()}),this._rootDropTarget,this._rootDropTarget.onWillShowOverlay(ne=>{this.gridview.length>0&&ne.position==="center"||this._onWillShowOverlay.fire(new WillShowOverlayLocationEvent(ne,{kind:"edge",panel:void 0,api:this._api,group:void 0,getData:getPanelData}))}),this._rootDropTarget.onDrop(ne=>{var me;const Ve=new DockviewWillDropEvent({nativeEvent:ne.nativeEvent,position:ne.position,panel:void 0,api:this._api,group:void 0,getData:getPanelData,kind:"edge"});if(this._onWillDrop.fire(Ve),Ve.defaultPrevented)return;const Ye=getPanelData();Ye?this.moveGroupOrPanel({from:{groupId:Ye.groupId,panelId:(me=Ye.panelId)!==null&&me!==void 0?me:void 0},to:{group:this.orthogonalize(ne.position),position:"center"}}):this._onDidDrop.fire(new DockviewDidDropEvent({nativeEvent:ne.nativeEvent,position:ne.position,panel:void 0,api:this._api,group:void 0,getData:getPanelData}))}),this._rootDropTarget)}setVisible(T,k){switch(T.api.location.type){case"grid":super.setVisible(T,k);break;case"floating":{const Z=this.floatingGroups.find(ee=>ee.group===T);Z&&(Z.overlay.setVisible(k),T.api._onDidVisibilityChange.fire({isVisible:k}));break}case"popout":console.warn("dockview: You cannot hide a group that is in a popout window");break}}addPopoutGroup(T,k){var Z,ee,te,ne,me;if(T instanceof DockviewPanel&&T.group.size===1)return this.addPopoutGroup(T.group,k);const Ve=getDockviewTheme(this.gridview.element),Ye=this.element;function et(){return k!=null&&k.position?k.position:T instanceof DockviewGroupPanel?T.element.getBoundingClientRect():T.group?T.group.element.getBoundingClientRect():Ye.getBoundingClientRect()}const tt=et(),it=(ee=(Z=k==null?void 0:k.overridePopoutGroup)===null||Z===void 0?void 0:Z.id)!==null&&ee!==void 0?ee:this.getNextGroupId(),st=new PopoutWindow(`${this.id}-${it}`,Ve??"",{url:(me=(te=k==null?void 0:k.popoutUrl)!==null&&te!==void 0?te:(ne=this.options)===null||ne===void 0?void 0:ne.popoutUrl)!==null&&me!==void 0?me:"/popout.html",left:window.screenX+tt.left,top:window.screenY+tt.top,width:tt.width,height:tt.height,onDidOpen:k==null?void 0:k.onDidOpen,onWillClose:k==null?void 0:k.onWillClose}),nt=new CompositeDisposable(st,st.onDidClose(()=>{nt.dispose()}));return st.open().then(rt=>{var lt;if(st.isDisposed)return!1;if(rt===null)return nt.dispose(),!1;const ot=document.createElement("div");ot.className="dv-overlay-render-container";const ht=new OverlayRenderContainer(ot,this),dt=T instanceof DockviewPanel?T.group:T,ct=T.api.location.type,ut=dt.element.parentElement!==null;let ft;ut?k!=null&&k.overridePopoutGroup?ft=k.overridePopoutGroup:(ft=this.createGroup({id:it}),this._onDidAddGroup.fire(ft)):ft=dt,ft.model.renderContainer=ht,ft.layout(st.window.innerWidth,st.window.innerHeight);let vt;if(!(k!=null&&k.overridePopoutGroup)&&ut)if(T instanceof DockviewPanel)this.movingLock(()=>{const St=dt.model.removePanel(T);ft.model.openPanel(St)});else switch(this.movingLock(()=>moveGroupWithoutDestroying({from:dt,to:ft})),ct){case"grid":dt.api.setVisible(!1);break;case"floating":case"popout":vt=(lt=this._floatingGroups.find(St=>St.group.api.id===T.api.id))===null||lt===void 0?void 0:lt.overlay.toJSON(),this.removeGroup(dt);break}rt.classList.add("dv-dockview"),rt.style.overflow="hidden",rt.appendChild(ot),rt.appendChild(ft.element);const mt=document.createElement("div"),_t=new DropTargetAnchorContainer(mt,{disabled:this.rootDropTargetContainer.disabled});rt.appendChild(mt),ft.model.dropTargetContainer=_t,ft.model.location={type:"popout",getWindow:()=>st.window,popoutUrl:k==null?void 0:k.popoutUrl},ut&&T.api.location.type==="grid"&&T.api.setVisible(!1),this.doSetGroupAndPanelActive(ft),nt.addDisposables(ft.api.onDidActiveChange(St=>{var At;St.isActive&&((At=st.window)===null||At===void 0||At.focus())}),ft.api.onWillFocus(()=>{var St;(St=st.window)===null||St===void 0||St.focus()}));let Et;const Tt=ut&&dt&&this.getPanel(dt.id),xt={window:st,popoutGroup:ft,referenceGroup:Tt?dt.id:void 0,disposable:{dispose:()=>(nt.dispose(),Et)}},yt=onDidWindowMoveEnd(st.window);return nt.addDisposables(yt,onDidWindowResizeEnd(st.window,()=>{this._onDidPopoutGroupSizeChange.fire({width:st.window.innerWidth,height:st.window.innerHeight,group:ft})}),yt.event(()=>{this._onDidPopoutGroupPositionChange.fire({screenX:st.window.screenX,screenY:st.window.screenX,group:ft})}),addDisposableListener(st.window,"resize",()=>{ft.layout(st.window.innerWidth,st.window.innerHeight)}),ht,Disposable.from(()=>{if(!this.isDisposed){if(ut&&this.getPanel(dt.id))this.movingLock(()=>moveGroupWithoutDestroying({from:ft,to:dt})),dt.api.isVisible||dt.api.setVisible(!0),this.getPanel(ft.id)&&this.doRemoveGroup(ft,{skipPopoutAssociated:!0});else if(this.getPanel(ft.id)){if(ft.model.renderContainer=this.overlayRenderContainer,ft.model.dropTargetContainer=this.rootDropTargetContainer,Et=ft,!this._popoutGroups.find(At=>At.popoutGroup===ft))return;vt?this.addFloatingGroup(ft,{height:vt.height,width:vt.width,position:vt}):(this.doRemoveGroup(ft,{skipDispose:!0,skipActive:!0,skipPopoutReturn:!0}),ft.model.location={type:"grid"},this.movingLock(()=>{this.doAddGroup(ft,[0])})),this.doSetGroupAndPanelActive(ft)}}})),this._popoutGroups.push(xt),this.updateWatermark(),!0}).catch(rt=>(console.error("dockview: failed to create popout window",rt),!1))}addFloatingGroup(T,k){var Z,ee,te,ne,me;let Ve;if(T instanceof DockviewPanel)Ve=this.createGroup(),this._onDidAddGroup.fire(Ve),this.movingLock(()=>this.removePanel(T,{removeEmptyGroup:!0,skipDispose:!0,skipSetActiveGroup:!0})),this.movingLock(()=>Ve.model.openPanel(T,{skipSetGroupActive:!0}));else{Ve=T;const rt=(Z=this._popoutGroups.find(ht=>ht.popoutGroup===Ve))===null||Z===void 0?void 0:Z.referenceGroup,lt=rt?this.getPanel(rt):void 0;typeof(k==null?void 0:k.skipRemoveGroup)=="boolean"&&k.skipRemoveGroup||(lt?(this.movingLock(()=>moveGroupWithoutDestroying({from:T,to:lt})),this.doRemoveGroup(T,{skipPopoutReturn:!0,skipPopoutAssociated:!0}),this.doRemoveGroup(lt,{skipDispose:!0}),Ve=lt):this.doRemoveGroup(T,{skipDispose:!0,skipPopoutReturn:!0,skipPopoutAssociated:!1}))}function Ye(){if(k!=null&&k.position){const rt={};return"left"in k.position?rt.left=Math.max(k.position.left,0):"right"in k.position?rt.right=Math.max(k.position.right,0):rt.left=DEFAULT_FLOATING_GROUP_POSITION.left,"top"in k.position?rt.top=Math.max(k.position.top,0):"bottom"in k.position?rt.bottom=Math.max(k.position.bottom,0):rt.top=DEFAULT_FLOATING_GROUP_POSITION.top,typeof k.width=="number"?rt.width=Math.max(k.width,0):rt.width=DEFAULT_FLOATING_GROUP_POSITION.width,typeof k.height=="number"?rt.height=Math.max(k.height,0):rt.height=DEFAULT_FLOATING_GROUP_POSITION.height,rt}return{left:typeof(k==null?void 0:k.x)=="number"?Math.max(k.x,0):DEFAULT_FLOATING_GROUP_POSITION.left,top:typeof(k==null?void 0:k.y)=="number"?Math.max(k.y,0):DEFAULT_FLOATING_GROUP_POSITION.top,width:typeof(k==null?void 0:k.width)=="number"?Math.max(k.width,0):DEFAULT_FLOATING_GROUP_POSITION.width,height:typeof(k==null?void 0:k.height)=="number"?Math.max(k.height,0):DEFAULT_FLOATING_GROUP_POSITION.height}}const et=Ye(),tt=new Overlay(Object.assign(Object.assign({container:this.gridview.element,content:Ve.element},et),{minimumInViewportWidth:this.options.floatingGroupBounds==="boundedWithinViewport"?void 0:(te=(ee=this.options.floatingGroupBounds)===null||ee===void 0?void 0:ee.minimumWidthWithinViewport)!==null&&te!==void 0?te:DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE,minimumInViewportHeight:this.options.floatingGroupBounds==="boundedWithinViewport"?void 0:(me=(ne=this.options.floatingGroupBounds)===null||ne===void 0?void 0:ne.minimumHeightWithinViewport)!==null&&me!==void 0?me:DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE})),it=Ve.element.querySelector(".dv-void-container");if(!it)throw new Error("failed to find drag handle");tt.setupDrag(it,{inDragMode:typeof(k==null?void 0:k.inDragMode)=="boolean"?k.inDragMode:!1});const st=new DockviewFloatingGroupPanel(Ve,tt),nt=new CompositeDisposable(Ve.api.onDidActiveChange(rt=>{rt.isActive&&tt.bringToFront()}),watchElementResize(Ve.element,rt=>{const{width:lt,height:ot}=rt.contentRect;Ve.layout(lt,ot)}));st.addDisposables(tt.onDidChange(()=>{Ve.layout(Ve.width,Ve.height)}),tt.onDidChangeEnd(()=>{this._bufferOnDidLayoutChange.fire()}),Ve.onDidChange(rt=>{tt.setBounds({height:rt==null?void 0:rt.height,width:rt==null?void 0:rt.width})}),{dispose:()=>{nt.dispose(),remove(this._floatingGroups,st),Ve.model.location={type:"grid"},this.updateWatermark()}}),this._floatingGroups.push(st),Ve.model.location={type:"floating"},k!=null&&k.skipActiveGroup||this.doSetGroupAndPanelActive(Ve),this.updateWatermark()}orthogonalize(T,k){switch(T){case"top":case"bottom":this.gridview.orientation===Orientation.HORIZONTAL&&this.gridview.insertOrthogonalSplitviewAtRoot();break;case"left":case"right":this.gridview.orientation===Orientation.VERTICAL&&this.gridview.insertOrthogonalSplitviewAtRoot();break}switch(T){case"top":case"left":case"center":return this.createGroupAtLocation([0],void 0,k);case"bottom":case"right":return this.createGroupAtLocation([this.gridview.length],void 0,k);default:throw new Error(`unsupported position ${T}`)}}updateOptions(T){var k,Z;if(super.updateOptions(T),"floatingGroupBounds"in T)for(const ee of this._floatingGroups){switch(T.floatingGroupBounds){case"boundedWithinViewport":ee.overlay.minimumInViewportHeight=void 0,ee.overlay.minimumInViewportWidth=void 0;break;case void 0:ee.overlay.minimumInViewportHeight=DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE,ee.overlay.minimumInViewportWidth=DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE;break;default:ee.overlay.minimumInViewportHeight=(k=T.floatingGroupBounds)===null||k===void 0?void 0:k.minimumHeightWithinViewport,ee.overlay.minimumInViewportWidth=(Z=T.floatingGroupBounds)===null||Z===void 0?void 0:Z.minimumWidthWithinViewport}ee.overlay.setBounds()}this.updateDropTargetModel(T),this._options=Object.assign(Object.assign({},this.options),T),"theme"in T&&this.updateTheme(),this.layout(this.gridview.width,this.gridview.height,!0)}layout(T,k,Z){if(super.layout(T,k,Z),this._floatingGroups)for(const ee of this._floatingGroups)ee.overlay.setBounds()}focus(){var T;(T=this.activeGroup)===null||T===void 0||T.focus()}getGroupPanel(T){return this.panels.find(k=>k.id===T)}setActivePanel(T){T.group.model.openPanel(T),this.doSetGroupAndPanelActive(T.group)}moveToNext(T={}){var k;if(!T.group){if(!this.activeGroup)return;T.group=this.activeGroup}if(T.includePanel&&T.group&&T.group.activePanel!==T.group.panels[T.group.panels.length-1]){T.group.model.moveToNext({suppressRoll:!0});return}const Z=getGridLocation(T.group.element),ee=(k=this.gridview.next(Z))===null||k===void 0?void 0:k.view;this.doSetGroupAndPanelActive(ee)}moveToPrevious(T={}){var k;if(!T.group){if(!this.activeGroup)return;T.group=this.activeGroup}if(T.includePanel&&T.group&&T.group.activePanel!==T.group.panels[0]){T.group.model.moveToPrevious({suppressRoll:!0});return}const Z=getGridLocation(T.group.element),ee=(k=this.gridview.previous(Z))===null||k===void 0?void 0:k.view;ee&&this.doSetGroupAndPanelActive(ee)}toJSON(){var T;const k=this.gridview.serialize(),Z=this.panels.reduce((me,Ve)=>(me[Ve.id]=Ve.toJSON(),me),{}),ee=this._floatingGroups.map(me=>({data:me.group.toJSON(),position:me.overlay.toJSON()})),te=this._popoutGroups.map(me=>({data:me.popoutGroup.toJSON(),gridReferenceGroup:me.referenceGroup,position:me.window.dimensions(),url:me.popoutGroup.api.location.type==="popout"?me.popoutGroup.api.location.popoutUrl:void 0})),ne={grid:k,panels:Z,activeGroup:(T=this.activeGroup)===null||T===void 0?void 0:T.id};return ee.length>0&&(ne.floatingGroups=ee),te.length>0&&(ne.popoutGroups=te),ne}fromJSON(T){var k,Z,ee;if(this.clear(),typeof T!="object"||T===null)throw new Error("serialized layout must be a non-null object");const{grid:te,panels:ne,activeGroup:me}=T;if(te.root.type!=="branch"||!Array.isArray(te.root.data))throw new Error("root must be of type branch");try{const Ve=this.width,Ye=this.height,et=st=>{const{id:nt,locked:rt,hideHeader:lt,views:ot,activeView:ht}=st;if(typeof nt!="string")throw new Error("group id must be of type string");const dt=this.createGroup({id:nt,locked:!!rt,hideHeader:!!lt});this._onDidAddGroup.fire(dt);const ct=[];for(const ut of ot){const ft=this._deserializer.fromJSON(ne[ut],dt);ct.push(ft)}for(let ut=0;ut<ot.length;ut++){const ft=ct[ut],vt=typeof ht=="string"&&ht===ft.id;dt.model.openPanel(ft,{skipSetActive:!vt,skipSetGroupActive:!0})}return!dt.activePanel&&dt.panels.length>0&&dt.model.openPanel(dt.panels[dt.panels.length-1],{skipSetGroupActive:!0}),dt};this.gridview.deserialize(te,{fromJSON:st=>et(st.data)}),this.layout(Ve,Ye,!0);const tt=(k=T.floatingGroups)!==null&&k!==void 0?k:[];for(const st of tt){const{data:nt,position:rt}=st,lt=et(nt);this.addFloatingGroup(lt,{position:rt,width:rt.width,height:rt.height,skipRemoveGroup:!0,inDragMode:!1})}const it=(Z=T.popoutGroups)!==null&&Z!==void 0?Z:[];for(const st of it){const{data:nt,position:rt,gridReferenceGroup:lt,url:ot}=st,ht=et(nt);this.addPopoutGroup((ee=lt?this.getPanel(lt):void 0)!==null&&ee!==void 0?ee:ht,{position:rt??void 0,overridePopoutGroup:lt?ht:void 0,popoutUrl:ot})}for(const st of this._floatingGroups)st.overlay.setBounds();if(typeof me=="string"){const st=this.getPanel(me);st&&this.doSetGroupAndPanelActive(st)}}catch(Ve){console.error("dockview: failed to deserialize layout. Reverting changes",Ve);for(const Ye of this.groups)for(const et of Ye.panels)this.removePanel(et,{removeEmptyGroup:!1,skipDispose:!1});for(const Ye of this.groups)Ye.dispose(),this._groups.delete(Ye.id),this._onDidRemoveGroup.fire(Ye);for(const Ye of[...this._floatingGroups])Ye.dispose();throw this.clear(),Ve}this.updateWatermark(),this._onDidLayoutFromJSON.fire()}clear(){const T=Array.from(this._groups.values()).map(Z=>Z.value),k=!!this.activeGroup;for(const Z of T)this.removeGroup(Z,{skipActive:!0});k&&this.doSetGroupAndPanelActive(void 0),this.gridview.clear()}closeAllGroups(){for(const T of this._groups.entries()){const[k,Z]=T;Z.value.model.closeAllPanels()}}addPanel(T){var k,Z;if(this.panels.find(Ve=>Ve.id===T.id))throw new Error(`panel with id ${T.id} already exists`);let ee;if(T.position&&T.floating)throw new Error("you can only provide one of: position, floating as arguments to .addPanel(...)");const te={width:T.initialWidth,height:T.initialHeight};let ne;if(T.position)if(isPanelOptionsWithPanel(T.position)){const Ve=typeof T.position.referencePanel=="string"?this.getGroupPanel(T.position.referencePanel):T.position.referencePanel;if(ne=T.position.index,!Ve)throw new Error(`referencePanel '${T.position.referencePanel}' does not exist`);ee=this.findGroup(Ve)}else if(isPanelOptionsWithGroup(T.position)){if(ee=typeof T.position.referenceGroup=="string"?(k=this._groups.get(T.position.referenceGroup))===null||k===void 0?void 0:k.value:T.position.referenceGroup,ne=T.position.index,!ee)throw new Error(`referenceGroup '${T.position.referenceGroup}' does not exist`)}else{const Ve=this.orthogonalize(directionToPosition(T.position.direction)),Ye=this.createPanel(T,Ve);return Ve.model.openPanel(Ye,{skipSetActive:T.inactive,skipSetGroupActive:T.inactive,index:ne}),T.inactive||this.doSetGroupAndPanelActive(Ve),Ve.api.setSize({height:te==null?void 0:te.height,width:te==null?void 0:te.width}),Ye}else ee=this.activeGroup;let me;if(ee){const Ve=toTarget(((Z=T.position)===null||Z===void 0?void 0:Z.direction)||"within");if(T.floating){const Ye=this.createGroup();this._onDidAddGroup.fire(Ye);const et=typeof T.floating=="object"&&T.floating!==null?T.floating:{};this.addFloatingGroup(Ye,Object.assign(Object.assign({},et),{inDragMode:!1,skipRemoveGroup:!0,skipActiveGroup:!0})),me=this.createPanel(T,Ye),Ye.model.openPanel(me,{skipSetActive:T.inactive,skipSetGroupActive:T.inactive,index:ne})}else if(ee.api.location.type==="floating"||Ve==="center")me=this.createPanel(T,ee),ee.model.openPanel(me,{skipSetActive:T.inactive,skipSetGroupActive:T.inactive,index:ne}),ee.api.setSize({width:te==null?void 0:te.width,height:te==null?void 0:te.height}),T.inactive||this.doSetGroupAndPanelActive(ee);else{const Ye=getGridLocation(ee.element),et=getRelativeLocation(this.gridview.orientation,Ye,Ve),tt=this.createGroupAtLocation(et,this.orientationAtLocation(et)===Orientation.VERTICAL?te==null?void 0:te.height:te==null?void 0:te.width);me=this.createPanel(T,tt),tt.model.openPanel(me,{skipSetActive:T.inactive,skipSetGroupActive:T.inactive,index:ne}),T.inactive||this.doSetGroupAndPanelActive(tt)}}else if(T.floating){const Ve=this.createGroup();this._onDidAddGroup.fire(Ve);const Ye=typeof T.floating=="object"&&T.floating!==null?T.floating:{};this.addFloatingGroup(Ve,Object.assign(Object.assign({},Ye),{inDragMode:!1,skipRemoveGroup:!0,skipActiveGroup:!0})),me=this.createPanel(T,Ve),Ve.model.openPanel(me,{skipSetActive:T.inactive,skipSetGroupActive:T.inactive,index:ne})}else{const Ve=this.createGroupAtLocation([0],this.gridview.orientation===Orientation.VERTICAL?te==null?void 0:te.height:te==null?void 0:te.width);me=this.createPanel(T,Ve),Ve.model.openPanel(me,{skipSetActive:T.inactive,skipSetGroupActive:T.inactive,index:ne}),T.inactive||this.doSetGroupAndPanelActive(Ve)}return me}removePanel(T,k={removeEmptyGroup:!0}){const Z=T.group;if(!Z)throw new Error(`cannot remove panel ${T.id}. it's missing a group.`);Z.model.removePanel(T,{skipSetActiveGroup:k.skipSetActiveGroup}),k.skipDispose||(T.group.model.renderContainer.detatch(T),T.dispose()),Z.size===0&&k.removeEmptyGroup&&this.removeGroup(Z,{skipActive:k.skipSetActiveGroup})}createWatermarkComponent(){return this.options.createWatermarkComponent?this.options.createWatermarkComponent():new Watermark}updateWatermark(){var T,k;if(this.groups.filter(Z=>Z.api.location.type==="grid"&&Z.api.isVisible).length===0){if(!this._watermark){this._watermark=this.createWatermarkComponent(),this._watermark.init({containerApi:new DockviewApi(this)});const Z=document.createElement("div");Z.className="dv-watermark-container",addTestId(Z,"watermark-component"),Z.appendChild(this._watermark.element),this.gridview.element.appendChild(Z)}}else this._watermark&&(this._watermark.element.parentElement.remove(),(k=(T=this._watermark).dispose)===null||k===void 0||k.call(T),this._watermark=null)}addGroup(T){var k;if(T){let Z;if(isGroupOptionsWithPanel(T)){const Ye=typeof T.referencePanel=="string"?this.panels.find(et=>et.id===T.referencePanel):T.referencePanel;if(!Ye)throw new Error(`reference panel ${T.referencePanel} does not exist`);if(Z=this.findGroup(Ye),!Z)throw new Error(`reference group for reference panel ${T.referencePanel} does not exist`)}else if(isGroupOptionsWithGroup(T)){if(Z=typeof T.referenceGroup=="string"?(k=this._groups.get(T.referenceGroup))===null||k===void 0?void 0:k.value:T.referenceGroup,!Z)throw new Error(`reference group ${T.referenceGroup} does not exist`)}else{const Ye=this.orthogonalize(directionToPosition(T.direction),T);return T.skipSetActive||this.doSetGroupAndPanelActive(Ye),Ye}const ee=toTarget(T.direction||"within"),te=getGridLocation(Z.element),ne=getRelativeLocation(this.gridview.orientation,te,ee),me=this.createGroup(T),Ve=this.getLocationOrientation(ne)===Orientation.VERTICAL?T.initialHeight:T.initialWidth;return this.doAddGroup(me,ne,Ve),T.skipSetActive||this.doSetGroupAndPanelActive(me),me}else{const Z=this.createGroup(T);return this.doAddGroup(Z),this.doSetGroupAndPanelActive(Z),Z}}getLocationOrientation(T){return T.length%2==0&&this.gridview.orientation===Orientation.HORIZONTAL?Orientation.HORIZONTAL:Orientation.VERTICAL}removeGroup(T,k){this.doRemoveGroup(T,k)}doRemoveGroup(T,k){var Z;const ee=[...T.panels];if(!(k!=null&&k.skipDispose))for(const me of ee)this.removePanel(me,{removeEmptyGroup:!1,skipDispose:(Z=k==null?void 0:k.skipDispose)!==null&&Z!==void 0?Z:!1});const te=this.activePanel;if(T.api.location.type==="floating"){const me=this._floatingGroups.find(Ve=>Ve.group===T);if(me){if(k!=null&&k.skipDispose||(me.group.dispose(),this._groups.delete(T.id),this._onDidRemoveGroup.fire(T)),remove(this._floatingGroups,me),me.dispose(),!(k!=null&&k.skipActive)&&this._activeGroup===T){const Ve=Array.from(this._groups.values());this.doSetGroupAndPanelActive(Ve.length>0?Ve[0].value:void 0)}return me.group}throw new Error("failed to find floating group")}if(T.api.location.type==="popout"){const me=this._popoutGroups.find(Ve=>Ve.popoutGroup===T);if(me){if(!(k!=null&&k.skipDispose)){if(!(k!=null&&k.skipPopoutAssociated)){const Ye=me.referenceGroup?this.getPanel(me.referenceGroup):void 0;Ye&&Ye.panels.length===0&&this.removeGroup(Ye)}me.popoutGroup.dispose(),this._groups.delete(T.id),this._onDidRemoveGroup.fire(T)}remove(this._popoutGroups,me);const Ve=me.disposable.dispose();if(!(k!=null&&k.skipPopoutReturn)&&Ve&&(this.doAddGroup(Ve,[0]),this.doSetGroupAndPanelActive(Ve)),!(k!=null&&k.skipActive)&&this._activeGroup===T){const Ye=Array.from(this._groups.values());this.doSetGroupAndPanelActive(Ye.length>0?Ye[0].value:void 0)}return this.updateWatermark(),me.popoutGroup}throw new Error("failed to find popout group")}const ne=super.doRemoveGroup(T,k);return k!=null&&k.skipActive||this.activePanel!==te&&this._onDidActivePanelChange.fire(this.activePanel),ne}movingLock(T){const k=this._moving;try{return this._moving=!0,T()}finally{this._moving=k}}moveGroupOrPanel(T){var k;const Z=T.to.group,ee=T.from.groupId,te=T.from.panelId,ne=T.to.position,me=T.to.index,Ve=ee?(k=this._groups.get(ee))===null||k===void 0?void 0:k.value:void 0;if(!Ve)throw new Error(`Failed to find group id ${ee}`);if(te===void 0){this.moveGroup({from:{group:Ve},to:{group:Z,position:ne}});return}if(!ne||ne==="center"){const Ye=this.movingLock(()=>Ve.model.removePanel(te,{skipSetActive:!1,skipSetActiveGroup:!0}));if(!Ye)throw new Error(`No panel with id ${te}`);Ve.model.size===0&&this.doRemoveGroup(Ve,{skipActive:!0}),this.movingLock(()=>Z.model.openPanel(Ye,{index:me,skipSetGroupActive:!0})),this.doSetGroupAndPanelActive(Z),this._onDidMovePanel.fire({panel:Ye,from:Ve})}else{const Ye=getGridLocation(Z.element),et=getRelativeLocation(this.gridview.orientation,Ye,ne);if(Ve.size<2){const[tt,it]=tail(et);if(Ve.api.location.type==="grid"){const lt=getGridLocation(Ve.element),[ot,ht]=tail(lt);if(sequenceEquals(ot,tt)){this.gridview.moveView(ot,ht,it),this._onDidMovePanel.fire({panel:this.getGroupPanel(te),from:Ve});return}}if(Ve.api.location.type==="popout"){const lt=this._popoutGroups.find(dt=>dt.popoutGroup===Ve),ot=this.movingLock(()=>lt.popoutGroup.model.removePanel(lt.popoutGroup.panels[0],{skipSetActive:!0,skipSetActiveGroup:!0}));this.doRemoveGroup(Ve,{skipActive:!0});const ht=this.createGroupAtLocation(et);this.movingLock(()=>ht.model.openPanel(ot)),this.doSetGroupAndPanelActive(ht),this._onDidMovePanel.fire({panel:this.getGroupPanel(te),from:Ve});return}const st=this.movingLock(()=>this.doRemoveGroup(Ve,{skipActive:!0,skipDispose:!0})),nt=getGridLocation(Z.element),rt=getRelativeLocation(this.gridview.orientation,nt,ne);this.movingLock(()=>this.doAddGroup(st,rt)),this.doSetGroupAndPanelActive(st),this._onDidMovePanel.fire({panel:this.getGroupPanel(te),from:Ve})}else{const tt=this.movingLock(()=>Ve.model.removePanel(te,{skipSetActive:!1,skipSetActiveGroup:!0}));if(!tt)throw new Error(`No panel with id ${te}`);const it=getRelativeLocation(this.gridview.orientation,Ye,ne),st=this.createGroupAtLocation(it);this.movingLock(()=>st.model.openPanel(tt,{skipSetGroupActive:!0})),this.doSetGroupAndPanelActive(st),this._onDidMovePanel.fire({panel:tt,from:Ve})}}}moveGroup(T){const k=T.from.group,Z=T.to.group,ee=T.to.position;if(ee==="center"){const te=k.activePanel,ne=this.movingLock(()=>[...k.panels].map(me=>k.model.removePanel(me.id,{skipSetActive:!0})));(k==null?void 0:k.model.size)===0&&this.doRemoveGroup(k,{skipActive:!0}),this.movingLock(()=>{for(const me of ne)Z.model.openPanel(me,{skipSetActive:me!==te,skipSetGroupActive:!0})}),this.doSetGroupAndPanelActive(Z)}else{switch(k.api.location.type){case"grid":this.gridview.removeView(getGridLocation(k.element));break;case"floating":{const Ve=this._floatingGroups.find(Ye=>Ye.group===k);if(!Ve)throw new Error("failed to find floating group");Ve.dispose();break}case"popout":{const Ve=this._popoutGroups.find(Ye=>Ye.popoutGroup===k);if(!Ve)throw new Error("failed to find popout group");Ve.disposable.dispose()}}const te=getGridLocation(Z.element),ne=getRelativeLocation(this.gridview.orientation,te,ee);let me;switch(this.gridview.orientation){case Orientation.VERTICAL:me=te.length%2==0?k.api.width:k.api.height;break;case Orientation.HORIZONTAL:me=te.length%2==0?k.api.height:k.api.width;break}this.gridview.addView(k,me,ne)}k.panels.forEach(te=>{this._onDidMovePanel.fire({panel:te,from:k})})}doSetGroupActive(T){super.doSetGroupActive(T);const k=this.activePanel;!this._moving&&k!==this._onDidActivePanelChange.value&&this._onDidActivePanelChange.fire(k)}doSetGroupAndPanelActive(T){super.doSetGroupActive(T);const k=this.activePanel;T&&this.hasMaximizedGroup()&&!this.isMaximizedGroup(T)&&this.exitMaximizedGroup(),!this._moving&&k!==this._onDidActivePanelChange.value&&this._onDidActivePanelChange.fire(k)}getNextGroupId(){let T=this.nextGroupId.next();for(;this._groups.has(T);)T=this.nextGroupId.next();return T}createGroup(T){T||(T={});let k=T==null?void 0:T.id;if(k&&this._groups.has(T.id)&&(console.warn(`dockview: Duplicate group id ${T==null?void 0:T.id}. reassigning group id to avoid errors`),k=void 0),!k)for(k=this.nextGroupId.next();this._groups.has(k);)k=this.nextGroupId.next();const Z=new DockviewGroupPanel(this,k,T);if(Z.init({params:{},accessor:this}),!this._groups.has(Z.id)){const ee=new CompositeDisposable(Z.model.onTabDragStart(te=>{this._onWillDragPanel.fire(te)}),Z.model.onGroupDragStart(te=>{this._onWillDragGroup.fire(te)}),Z.model.onMove(te=>{const{groupId:ne,itemId:me,target:Ve,index:Ye}=te;this.moveGroupOrPanel({from:{groupId:ne,panelId:me},to:{group:Z,position:Ve,index:Ye}})}),Z.model.onDidDrop(te=>{this._onDidDrop.fire(te)}),Z.model.onWillDrop(te=>{this._onWillDrop.fire(te)}),Z.model.onWillShowOverlay(te=>{if(this.options.disableDnd){te.preventDefault();return}this._onWillShowOverlay.fire(te)}),Z.model.onUnhandledDragOverEvent(te=>{this._onUnhandledDragOverEvent.fire(te)}),Z.model.onDidAddPanel(te=>{this._moving||this._onDidAddPanel.fire(te.panel)}),Z.model.onDidRemovePanel(te=>{this._moving||this._onDidRemovePanel.fire(te.panel)}),Z.model.onDidActivePanelChange(te=>{this._moving||te.panel===this.activePanel&&this._onDidActivePanelChange.value!==te.panel&&this._onDidActivePanelChange.fire(te.panel)}),Event$3.any(Z.model.onDidPanelTitleChange,Z.model.onDidPanelParametersChange)(()=>{this._bufferOnDidLayoutChange.fire()}));this._groups.set(Z.id,{value:Z,disposable:ee})}return Z.initialize(),Z}createPanel(T,k){var Z,ee,te;const ne=T.component,me=(Z=T.tabComponent)!==null&&Z!==void 0?Z:this.options.defaultTabComponent,Ve=new DockviewPanelModel(this,T.id,ne,me),Ye=new DockviewPanel(T.id,ne,me,this,this._api,k,Ve,{renderer:T.renderer,minimumWidth:T.minimumWidth,minimumHeight:T.minimumHeight,maximumWidth:T.maximumWidth,maximumHeight:T.maximumHeight});return Ye.init({title:(ee=T.title)!==null&&ee!==void 0?ee:T.id,params:(te=T==null?void 0:T.params)!==null&&te!==void 0?te:{}}),Ye}createGroupAtLocation(T,k,Z){const ee=this.createGroup(Z);return this.doAddGroup(ee,T,k),ee}findGroup(T){var k;return(k=Array.from(this._groups.values()).find(Z=>Z.value.model.containsPanel(T)))===null||k===void 0?void 0:k.value}orientationAtLocation(T){const k=this.gridview.orientation;return T.length%2==1?k:orthogonal(k)}updateDropTargetModel(T){"dndEdges"in T&&(this._rootDropTarget.disabled=typeof T.dndEdges=="boolean"&&T.dndEdges===!1,typeof T.dndEdges=="object"&&T.dndEdges!==null?this._rootDropTarget.setOverlayModel(T.dndEdges):this._rootDropTarget.setOverlayModel(DEFAULT_ROOT_OVERLAY_MODEL)),"rootOverlayModel"in T&&this.updateDropTargetModel({dndEdges:T.dndEdges})}updateTheme(){var T,k;const Z=(T=this._options.theme)!==null&&T!==void 0?T:themeAbyss;switch(this._themeClassnames.setClassNames(Z.className),this.gridview.margin=(k=Z.gap)!==null&&k!==void 0?k:0,Z.dndOverlayMounting){case"absolute":this.rootDropTargetContainer.disabled=!1;break;case"relative":default:this.rootDropTargetContainer.disabled=!0;break}}}class SplitviewComponent extends Resizable{get panels(){return this.splitview.getViews()}get options(){return this._options}get length(){return this._panels.size}get orientation(){return this.splitview.orientation}get splitview(){return this._splitview}set splitview(T){this._splitview&&this._splitview.dispose(),this._splitview=T,this._splitviewChangeDisposable.value=new CompositeDisposable(this._splitview.onDidSashEnd(()=>{this._onDidLayoutChange.fire(void 0)}),this._splitview.onDidAddView(k=>this._onDidAddView.fire(k)),this._splitview.onDidRemoveView(k=>this._onDidRemoveView.fire(k)))}get minimumSize(){return this.splitview.minimumSize}get maximumSize(){return this.splitview.maximumSize}get height(){return this.splitview.orientation===Orientation.HORIZONTAL?this.splitview.orthogonalSize:this.splitview.size}get width(){return this.splitview.orientation===Orientation.HORIZONTAL?this.splitview.size:this.splitview.orthogonalSize}constructor(T,k){var Z;super(document.createElement("div"),k.disableAutoResizing),this._splitviewChangeDisposable=new MutableDisposable,this._panels=new Map,this._onDidLayoutfromJSON=new Emitter,this.onDidLayoutFromJSON=this._onDidLayoutfromJSON.event,this._onDidAddView=new Emitter,this.onDidAddView=this._onDidAddView.event,this._onDidRemoveView=new Emitter,this.onDidRemoveView=this._onDidRemoveView.event,this._onDidLayoutChange=new Emitter,this.onDidLayoutChange=this._onDidLayoutChange.event,this.element.style.height="100%",this.element.style.width="100%",this._classNames=new Classnames(this.element),this._classNames.setClassNames((Z=k.className)!==null&&Z!==void 0?Z:""),T.appendChild(this.element),this._options=k,this.splitview=new Splitview(this.element,k),this.addDisposables(this._onDidAddView,this._onDidLayoutfromJSON,this._onDidRemoveView,this._onDidLayoutChange)}updateOptions(T){var k,Z;"className"in T&&this._classNames.setClassNames((k=T.className)!==null&&k!==void 0?k:""),"disableResizing"in T&&(this.disableResizing=(Z=T.disableAutoResizing)!==null&&Z!==void 0?Z:!1),typeof T.orientation=="string"&&(this.splitview.orientation=T.orientation),this._options=Object.assign(Object.assign({},this.options),T),this.splitview.layout(this.splitview.size,this.splitview.orthogonalSize)}focus(){var T;(T=this._activePanel)===null||T===void 0||T.focus()}movePanel(T,k){this.splitview.moveView(T,k)}setVisible(T,k){const Z=this.panels.indexOf(T);this.splitview.setViewVisible(Z,k)}setActive(T,k){this._activePanel=T,this.panels.filter(Z=>Z!==T).forEach(Z=>{Z.api._onDidActiveChange.fire({isActive:!1}),k||Z.focus()}),T.api._onDidActiveChange.fire({isActive:!0}),k||T.focus()}removePanel(T,k){const Z=this._panels.get(T.id);if(!Z)throw new Error(`unknown splitview panel ${T.id}`);Z.dispose(),this._panels.delete(T.id);const ee=this.panels.findIndex(me=>me===T);this.splitview.removeView(ee,k).dispose();const ne=this.panels;ne.length>0&&this.setActive(ne[ne.length-1])}getPanel(T){return this.panels.find(k=>k.id===T)}addPanel(T){var k;if(this._panels.has(T.id))throw new Error(`panel ${T.id} already exists`);const Z=this.options.createComponent({id:T.id,name:T.component});Z.orientation=this.splitview.orientation,Z.init({params:(k=T.params)!==null&&k!==void 0?k:{},minimumSize:T.minimumSize,maximumSize:T.maximumSize,snap:T.snap,priority:T.priority,accessor:this});const ee=typeof T.size=="number"?T.size:Sizing.Distribute,te=typeof T.index=="number"?T.index:void 0;return this.splitview.addView(Z,ee,te),this.doAddView(Z),this.setActive(Z),Z}layout(T,k){const[Z,ee]=this.splitview.orientation===Orientation.HORIZONTAL?[T,k]:[k,T];this.splitview.layout(Z,ee)}doAddView(T){const k=T.api.onDidFocusChange(Z=>{Z.isFocused&&this.setActive(T,!0)});this._panels.set(T.id,k)}toJSON(){var T;return{views:this.splitview.getViews().map((Z,ee)=>({size:this.splitview.getViewSize(ee),data:Z.toJSON(),snap:!!Z.snap,priority:Z.priority})),activeView:(T=this._activePanel)===null||T===void 0?void 0:T.id,size:this.splitview.size,orientation:this.splitview.orientation}}fromJSON(T){this.clear();const{views:k,orientation:Z,size:ee,activeView:te}=T,ne=[],me=this.width,Ve=this.height;if(this.splitview=new Splitview(this.element,{orientation:Z,proportionalLayout:this.options.proportionalLayout,descriptor:{size:ee,views:k.map(Ye=>{const et=Ye.data;if(this._panels.has(et.id))throw new Error(`panel ${et.id} already exists`);const tt=this.options.createComponent({id:et.id,name:et.component});return ne.push(()=>{var it;tt.init({params:(it=et.params)!==null&&it!==void 0?it:{},minimumSize:et.minimumSize,maximumSize:et.maximumSize,snap:Ye.snap,priority:Ye.priority,accessor:this})}),tt.orientation=Z,this.doAddView(tt),setTimeout(()=>{this._onDidAddView.fire(tt)},0),{size:Ye.size,view:tt}})}}),this.layout(me,Ve),ne.forEach(Ye=>Ye()),typeof te=="string"){const Ye=this.getPanel(te);Ye&&this.setActive(Ye)}this._onDidLayoutfromJSON.fire()}clear(){for(const T of this._panels.values())T.dispose();for(this._panels.clear();this.splitview.length>0;)this.splitview.removeView(0,Sizing.Distribute,!0).dispose()}dispose(){for(const k of this._panels.values())k.dispose();this._panels.clear();const T=this.splitview.getViews();this._splitviewChangeDisposable.dispose(),this.splitview.dispose();for(const k of T)k.dispose();this.element.remove(),super.dispose()}}class SplitviewPanel extends BasePanelView{get priority(){return this._priority}set orientation(T){this._orientation=T}get orientation(){return this._orientation}get minimumSize(){const T=typeof this._minimumSize=="function"?this._minimumSize():this._minimumSize;return T!==this._evaluatedMinimumSize&&(this._evaluatedMinimumSize=T,this.updateConstraints()),T}get maximumSize(){const T=typeof this._maximumSize=="function"?this._maximumSize():this._maximumSize;return T!==this._evaluatedMaximumSize&&(this._evaluatedMaximumSize=T,this.updateConstraints()),T}get snap(){return this._snap}constructor(T,k){super(T,k,new SplitviewPanelApiImpl(T,k)),this._evaluatedMinimumSize=0,this._evaluatedMaximumSize=Number.POSITIVE_INFINITY,this._minimumSize=0,this._maximumSize=Number.POSITIVE_INFINITY,this._snap=!1,this._onDidChange=new Emitter,this.onDidChange=this._onDidChange.event,this.api.initialize(this),this.addDisposables(this._onDidChange,this.api.onWillVisibilityChange(Z=>{const{isVisible:ee}=Z,{accessor:te}=this._params;te.setVisible(this,ee)}),this.api.onActiveChange(()=>{const{accessor:Z}=this._params;Z.setActive(this)}),this.api.onDidConstraintsChangeInternal(Z=>{(typeof Z.minimumSize=="number"||typeof Z.minimumSize=="function")&&(this._minimumSize=Z.minimumSize),(typeof Z.maximumSize=="number"||typeof Z.maximumSize=="function")&&(this._maximumSize=Z.maximumSize),this.updateConstraints()}),this.api.onDidSizeChange(Z=>{this._onDidChange.fire({size:Z.size})}))}setVisible(T){this.api._onDidVisibilityChange.fire({isVisible:T})}setActive(T){this.api._onDidActiveChange.fire({isActive:T})}layout(T,k){const[Z,ee]=this.orientation===Orientation.HORIZONTAL?[T,k]:[k,T];super.layout(Z,ee)}init(T){super.init(T),this._priority=T.priority,T.minimumSize&&(this._minimumSize=T.minimumSize),T.maximumSize&&(this._maximumSize=T.maximumSize),T.snap&&(this._snap=T.snap)}toJSON(){const T=Z=>Z===Number.MAX_SAFE_INTEGER||Z===Number.POSITIVE_INFINITY?void 0:Z,k=Z=>Z<=0?void 0:Z;return Object.assign(Object.assign({},super.toJSON()),{minimumSize:k(this.minimumSize),maximumSize:T(this.maximumSize)})}updateConstraints(){this.api._onDidConstraintsChange.fire({maximumSize:this._evaluatedMaximumSize,minimumSize:this._evaluatedMinimumSize})}}function createDockview(Y,T){return new DockviewComponent(Y,T).api}function createSplitview(Y,T){const k=new SplitviewComponent(Y,T);return new SplitviewApi(k)}function insertArray(Y,T,k){if(k<0||k>Y.length)throw new Error("ç´¢å¼è¶åºèå´");return Array.from(new Set([...Y.slice(0,k),...T,...Y.slice(k)]))}const iconData=[{key:"icon-person",title:"widgetList",keyboard:"",iconClass:"icon-person",panel:"AppLeftTab2"},{key:"icon-briefcase",title:"Hierachy",keyboard:"",iconClass:"icon-briefcase",panel:"Hierachy"},{key:"icon-call-incoming",title:"Assert",keyboard:"",iconClass:"icon-call-incoming",panel:"Assert"},{key:"icon-comment-discussion",title:"CreateNewFont",keyboard:"",iconClass:"icon-comment-discussion",panel:"CreateNewFont"},{key:"icon-dashboard",title:"Animation",keyboard:"",iconClass:"icon-dashboard",panel:"Animation"},{key:"icon-debug",title:"Themes",keyboard:"",iconClass:"icon-debug",panel:"Themes"},{key:"icon-diff",title:"PropWidget",keyboard:"",iconClass:"icon-diff",panel:"PropWidget"},{key:"icon-checklist",title:"StructAndVarRelationIntegrate",keyboard:"",iconClass:"icon-checklist",panel:"StructAndVarRelationIntegrate"}],panelData=[{key:"AppLeftTab2",title:"AppLeftTab2",iconClass:"DockTabBottom"},{key:"Variable",title:"Variable",iconClass:"DockTabBottom"},{key:"Structure",title:"Structure",iconClass:"DockTabBottom"},{key:"Hierachy",title:"Hierachy",iconClass:"DockTabBottom"},{key:"Assert",title:"Assert",iconClass:"DockTabBottom"},{key:"CreateNewFont",title:"CreateNewFont",iconClass:"DockTabBottom"},{key:"Animation",title:"Animation",iconClass:"DockTabBottom"},{key:"PropWidget",title:"PropWidget",iconClass:"DockTabBottom"},{key:"Themes",title:"Themes",iconClass:"DockTabBottom"},{key:"VariableDetail",title:"VariableDetail",iconClass:"DockTabBottom"},{key:"PropWidget",title:"PropWidget",iconClass:"DockTabBottom"},{key:"VarStructIntegrator",title:"VarStructIntegrator",iconClass:"DockTabBottom"},{key:"StructAndVarRelationIntegrate",title:"StructAndVarRelationIntegrate",iconClass:"DockTabBottom"}],dockViewPanelMap=new Map(panelData.map(Y=>[Y.key,Y])),DockViewModule={LEFT_TAB_COMPONENT:"1",CENTER_BOTTOM_TAB_COMPONENT:"4",RIGHT_TAB_COMPONENT:"2",dockViewApis:new Map,panelApis:new Map,dockViewPanels:new Map,groupMap:new Map,panelGroup:new Map,dockViewPanelMap,api:null,init(Y){this.api=Y},registerDockView(Y,T){if(this.dockViewApis.has(Y)){console.warn(`[Dockview] å®¹å¨å·²æ³¨åï¼${Y}`);return}this.dockViewApis.set(Y,T),this.dockViewPanels.set(Y,new Set),this.initDockView(Y)},checkPanelUniqueness(Y,T){var Z;if(Y===this.LEFT_TAB_COMPONENT)return;const k=`${this.LEFT_TAB_COMPONENT}/${T}`;if(this.panelGroup.has(k)){const ee=this.unregisterPanel(this.LEFT_TAB_COMPONENT,T,!0);(Z=this.api)==null||Z.eventBus.emit("changeMenuLine",{dockViewId:this.LEFT_TAB_COMPONENT,where:"clearSelection",clearSelection:ee,selectedIcon:ee})}},registerPanel(Y,T,k){this.checkPanelUniqueness(Y,T.title);const Z=this.dockViewApis.get(Y);if(!Z)return console.error(`[Dockview] å®¹å¨æªæ³¨åï¼${Y}`),!1;const ee={tabComponent:T.tabComponent,position:k};return this.groupMapChange(Y,T.key,k),Z.addComponentPanel(T.key,{title:T.title},ee).then(te=>{var Ye;const{panel:ne}=te,me=`${Y}/${T.key}`;this.panelApis.set(me,te),(Ye=this.dockViewPanels.get(Y))==null||Ye.add(T.key),this.findPanelOnDockView(Y,T.key),this.groupMapChange(Y,T.key,k);const Ve=this.getPanelGroup(Y,T.key);Ve!=null&&Ve.length&&Ve.slice(1).forEach(et=>{const tt=et.split("/")[1],it=this.dockViewPanelMap.get(tt);it&&et!==this.getPanelId(Y,T.key)&&this.registerPanelByOne(Y,it,{referencePanel:ne.id,direction:"below",key:ne.title})})}).catch(()=>{}).finally(()=>{var ne;let te;Y===this.LEFT_TAB_COMPONENT&&(te=this.panelGroup.get(`${Y}/${T.key}`)),(ne=this.api)==null||ne.eventBus.emit("changeMenuLine",{dockViewId:Y,where:"registerPanel",selectedIcon:te})}),!0},findPanelOnDockView(Y,T){Y===this.CENTER_BOTTOM_TAB_COMPONENT?(this.unregisterPanel(this.RIGHT_TAB_COMPONENT,T),this.unregisterPanel(this.LEFT_TAB_COMPONENT,T)):Y===this.LEFT_TAB_COMPONENT?(this.unregisterPanel(this.CENTER_BOTTOM_TAB_COMPONENT,T),this.unregisterPanel(this.RIGHT_TAB_COMPONENT,T)):(this.unregisterPanel(this.CENTER_BOTTOM_TAB_COMPONENT,T),this.unregisterPanel(this.LEFT_TAB_COMPONENT,T))},registerPanelByOne(Y,T,k){const Z=this.dockViewApis.get(Y);if(!Z){console.error(`[Dockview] å®¹å¨æªæ³¨åï¼${Y}`);return}const ee={tabComponent:T.tabComponent,position:k};Z.addComponentPanel(T.key,{title:T.title},ee).then(te=>{var me;const ne=`${Y}/${T.key}`;this.panelApis.set(ne,te),(me=this.dockViewPanels.get(Y))==null||me.add(T.key)}).catch(te=>{})},__groupDefault(Y){this.groupMap.set(Y,[Y]),this.panelGroup.set(Y,Y)},groupMapChange(Y,T,k){var tt;const Z=this.getPanelId(Y,T);if(!k){if(this.groupMap.has(Z))return;this.__groupDefault(Z);return}const ee=`${Y}/${k.key}`,te=this.panelGroup.get(ee),ne=te?this.groupMap.get(te):null;if(!(ne!=null&&ne.length)){this.__groupDefault(Z);return}let me=ne.findIndex(it=>it===ee);if(me===-1){this.__groupDefault(Z);return}k.direction==="below"&&(me+=1);const Ve=this.groupMap.get(Z);let Ye=[...ne];Ve!=null&&Ve.length?Ye=insertArray(Ye,Ve,me):Ye=insertArray(Ye,[Z],me),this.groupMap.delete(te),this.groupMap.delete(Z);const et=Ye[0];this.groupMap.set(et,Ye),Ye.forEach(it=>{this.panelGroup.set(it,et)}),(tt=this.api)==null||tt.eventBus.emit("changeMenuLine",{selectedIcon:et,dockViewId:Y,where:"module"})},getPanelGroup(Y,T){const k=`${Y}/${T}`,Z=this.panelGroup.get(k);return Z?this.groupMap.get(Z)||[]:[]},getPanelId(Y,T){return`${Y}/${T}`},getPanelGroupByPanel(Y,T){const k=this.getPanelId(Y,T);return this.panelGroup.get(k)},unregisterPanel(Y,T,k=!1){var Ye,et;const Z=this.getPanelId(Y,T),ee=this.panelApis.get(Z);if(!ee||((Ye=this.dockViewApis.get(Y))==null||Ye.removePanel(ee.panel),(et=this.dockViewPanels.get(Y))==null||et.delete(T),this.panelApis.delete(Z),!k))return;const te=this.panelGroup.get(Z);if(!te)return;let ne=this.groupMap.get(te)||[];const me=ne.findIndex(tt=>tt===Z);if(me!==-1&&(this.panelGroup.delete(Z),ne.splice(me,1)),this.groupMap.delete(te),!ne.length)return;const Ve=ne[0];return this.groupMap.set(Ve,ne),ne.forEach(tt=>{this.panelGroup.set(tt,Ve)}),Ve},deletePanelGroup(Y,T){const k=this.getPanelId(Y,T),Z=this.panelGroup.get(k);if(!Z)return;this.unregisterPanel(Y,T);const te=(this.groupMap.get(Z)||[]).filter(ne=>ne!==k);this.groupMap.delete(Z),te.length&&this.groupMap.set(Z,te)},unregisterAllPanel(Y){const T=this.dockViewPanels.get(Y);T!=null&&T.size&&T.forEach(k=>{this.unregisterPanel(Y,k)})},localStorageSaveCount:0,localStorageSave(Y){if(this.localStorageSaveCount++===0)return;const T={};this.groupMap.forEach((Z,ee)=>{T[ee]=Z});const k={};this.dockViewPanels.forEach((Z,ee)=>{k[ee]=Array.from(Z)}),localStorage.setItem("LVGL-groupMap",JSON.stringify(T)),localStorage.setItem("LVGL-dockViewPanels",JSON.stringify(k)),localStorage.setItem("LVGL-selectedState",JSON.stringify({selectedState:Y,dockViewId:this.LEFT_TAB_COMPONENT}))},initDockView(Y){var ne;const T=localStorage.getItem("LVGL-groupMap")||"{}",k=localStorage.getItem("LVGL-dockViewPanels")||"{}",Z=JSON.parse(T),ee=JSON.parse(k);if(Object.keys(Z).length)for(const me in Z){const Ve=Z[me];this.groupMap.set(me,Ve),Ve.forEach(Ye=>{this.panelGroup.set(Ye,me)})}if(Y===this.LEFT_TAB_COMPONENT){(ne=this.api)==null||ne.eventBus.emit("menuInitSelected");return}const te=ee[Y];te!=null&&te.length&&te.forEach(me=>{const Ve=this.dockViewPanelMap.get(me);Ve&&this.registerPanel(Y,{...Ve,tabComponent:"DockTabBottom"})})}};class StructureModule{constructor(){bt(this,"structureData",{id:"structure_root",name:"structure",selected:!1,deletionProhibited:!0,description:"",children:[]});bt(this,"structureDataMapByNameAndId",new Map);bt(this,"api",null);this.structureDataMapByNameAndId.set(this.structureData.name,this.structureData)}init(T){this.api=T}getStructure(){return this.structureData}setStructure(T){this.structureData=T,this.structureDataMapByNameAndId=this.buildStructureMapByNameAndId(T)}findStructureDataMapByName(T){return this.structureDataMapByNameAndId.get(T)}buildStructureMapByNameAndId(T){const k=new Map,Z=[];for(Z.push([T,void 0]);Z.length>0;){const[ee,te]=Z.pop();if(!ee)continue;const ne=te?`${ee.name}_${te}`:`${ee.name}_root`;k.set(ne,ee),"children"in ee&&ee.children&&ee.children.length>0&&ee.children.forEach(me=>{Z.unshift([me,ee.id])})}return k}}const StructureModule$1=new StructureModule;class VariableModule{constructor(){bt(this,"variableData",{id:"variable_root",name:"variable",selected:!1,deletionProhibited:!0,children:[]});bt(this,"api",null);bt(this,"variableDataMapByNameAndId",new Map);this.variableDataMapByNameAndId.set(this.variableData.name,this.variableData)}init(T){this.api=T}getVariable(){return this.variableData}setVariable(T){this.variableData=T,this.variableDataMapByNameAndId=this.buildMapByNameAndId(T),this.api&&this.api.eventBus.emit("variableUpdate",this.variableData)}findVariableDataMapByNameAndId(T){return this.variableDataMapByNameAndId.get(T)}buildMapByNameAndId(T){const k=new Map,Z=[];for(Z.push([T,void 0]);Z.length>0;){const[ee,te]=Z.pop();if(!ee)continue;const ne=te?`${ee.name}_${te}`:`${ee.name}_root`;k.set(ne,ee),"children"in ee&&ee.children&&ee.children.length>0&&ee.children.forEach(me=>{Z.unshift([me,ee.id])})}return k}}const VariableModule$1=new VariableModule,typeOptionsData=[{label:"String",key:"string",value:"string",color:"#1aff00ff",varType:"Single"},{label:"Integer",key:"int",value:"int",color:"#8ef6f6",varType:"Single"},{label:"Double",key:"double",value:"double",color:"#8b42d8",varType:"Single"},{label:"Boolean",key:"bool",value:"bool",color:"#ff00a2ff",varType:"Single"},{label:"Character",key:"char",value:"char",color:"#ff0000",varType:"Single"},{label:"Short Integer",key:"short",value:"short",color:"#8b42d8",varType:"Single"},{label:"Long Long",key:"long long",value:"long long",color:"#90ff95",varType:"Single"},{label:"Float",key:"float",value:"float",color:"#42d849",varType:"Single"},{label:"Unsigned Character",key:"unsigned char",value:"unsigned char",color:"#592bfb",varType:"Single"},{label:"Unsigned Short",key:"unsigned short",value:"unsigned short",color:"#cda5f1",varType:"Single"},{label:"Unsigned Int",key:"unsigned int",value:"unsigned int",color:"#f1cda5",varType:"Single"},{label:"Unsigned Long Long",key:"unsigned long long",value:"unsigned long long",color:"#f1a5cd",varType:"Single"},{label:"Long Double",key:"long double",value:"long double",color:"#a5f1cd",varType:"Single"}],typeByteLengths=new Map([["int",4],["double",8],["bool",1],["char",1],["short",2],["long long",8],["float",4],["unsigned char",1],["unsigned short",2],["unsigned int",4],["unsigned long long",8],["long double",16]]),typeOptionsDataMap=new Map(typeOptionsData.map(Y=>[Y.key,Y])),containerTypeOptionsData=[{varType:"Single",value:"Single",label:"Single"},{varType:"Array",value:"Array",label:"Array"},{varType:"Set",value:"Set",label:"Set"},{varType:"Map",value:"Map",label:"Map"}];class OptionModule{constructor(){bt(this,"options",typeOptionsData);bt(this,"optionsMap",typeOptionsDataMap);bt(this,"containerOptions",containerTypeOptionsData);bt(this,"optionTypeByteLengths",typeByteLengths);bt(this,"typeOptionsMap");bt(this,"typeOptions");bt(this,"containerTypeMap");bt(this,"containerType");bt(this,"api",null);this.typeOptionsMap=new Map(typeOptionsData.map(T=>[T.key,T])),this.containerTypeMap=new Map(containerTypeOptionsData.map(T=>[T.varType,T])),this.typeOptions=typeOptionsData,this.containerType=containerTypeOptionsData}getOptionTypeLengths(T){if(T!=="string")return this.optionTypeByteLengths.get(T)}getTypeOptions(){return this.typeOptions}setTypeOptions(T){this.typeOptions=T}getContainerType(){return this.containerType}setContainerType(T){this.containerType=T}init(T){this.api=T}getTypeOptionsMap(){return this.typeOptionsMap}setTypeOptionsMap(T){this.typeOptionsMap=T}updateTypeOption(T,k){this.typeOptionsMap.set(T,k)}deleteTypeOption(T){this.typeOptionsMap.delete(T)}getContainerTypeMap(){return this.containerTypeMap}setContainerTypeMap(T){this.containerTypeMap=T}updateContainerType(T,k){this.containerTypeMap.set(T,k)}updateByStructure(){if(!this.api)return;const T=this.api.structure.getStructure();if(T.children){const k=T.children.map(Z=>({color:"white",key:Z.id,label:Z.name,value:Z.id,varType:this.containerOptions[0].varType}));for(const Z of k)this.updateTypeOption(Z.key,Z);this.setTypeOptions([...this.options,...k])}}findOptionName(T){const k=this.optionsMap.get(T);if(k)return k.value;{const Z=this.typeOptionsMap.get(T);if(Z)return Z.label;throw new Error("æªæ¾å°éé¡¹çåå­")}}}const OptionManager=new OptionModule,editableTypeOption=[{label:"==",value:"eq"},{label:"!=",value:"neq"},{label:"<",value:"lt"},{label:"<=",value:"lte"},{label:">",value:"gt"},{label:">=",value:"gte"},{label:"Between",value:"btwn"},{label:"Is True",value:"true"},{label:"Is False",value:"false"},{label:"Is Empty",value:"empty"},{label:"Is Not Empty",value:"nempty"}],optionLength=[{label:1,value:1},{label:2,value:2},{label:8,value:8},{label:16,value:16},{label:32,value:32},{label:64,value:64},{label:128,value:128},{label:255,value:255}],structAndVarRelationConstants={VARIABLE_EXCEL_OPEN:"VARIABLE_EXCEL_OPEN",VARIABLE_EXCEL_UPDATE:"VARIABLE_EXCEL_UPDATE",UPDATE_TREENODE_STRUCT_AND_VARRELATION_INTEGRATE:"UPDATE_TREENODE_STRUCT_AND_VARRELATION_INTEGRATE",STRUCT_VAR_RELATION_INTEGRATE:"STRUCT_VAR_RELATION_INTEGRATE",STRUCT_VAR_RELATION_INTEGRATE_CREATE:"STRUCT_VAR_RELATION_INTEGRATE_CREATE",STRUCT_VAR_RELATION_VARIABLE:"STRUCT_VAR_RELATION_VARABLE",STRUCT_VAR_RELATION_VARIABLE_ASSEMBLY:"STRUCT_VAR_RELATION_VARABLE_ASSEMBLY",STRUCT_VAR_RELATION_VARIABLE_ELEMENT:"STRUCT_VAR_RELATION_VARABLE_ELEMENT",STRUCT_VAR_RELATION_VARIABLE_CONNECT:"STRUCT_VAR_RELATION_VARIABLE_CONNECT",STRUCT_VAR_RELATION_STRUCT:"STRUCT_VAR_RELATION_STRUCT",STRUCT_VAR_RELATION_STRUCT_ASSEMBLY:"STRUCT_VAR_RELATION_STRUCT_ASSEMBLY",STRUCT_VAR_RELATION_STRUCT_ELEMENT:"STRUCT_VAR_RELATION_STRUCT_ELEMENT",EVENT_BUS_SA_ADD_NEW_STRUCT:"EVENT_BUS_SA_ADD_NEW_STRUCT",EVENT_BUS_SA_ADD_NEW_ADD:"EVENT_BUS_SA_ADD_NEW_ADD"},createActionConstants={NEW_STRUCT_SET:"NEW_STRUCT_SET",NEW_STRUCT_ELEMENT:"NEW_STRUCT_ELEMENT",NEW_VARIABLE_SET:"NEW_VARIABLE_SET",NEW_VARIABLE_ELEMENT:"NEW_VARIABLE_ELEMENT",NEW_CONNECTION_SET:"NEW_CONNECTION_SET",NEW_CONNECTION_ELEMENT:"NEW_CONNECTION_ELEMENT",HIERACHY_NEW_CREATE:"HIERACHY_NEW_CREATE",NEW_FILE:"NEW_FILE",NEW_FOLDER:"NEW_FOLDER"},hierarchyConstants={HIERACHY_RIGHT_CLICK:"HIERACHY_RIGHT_CLICK",EVENT_BUS_HIERACHY_ADD:"EVENT_BUS_HIERACHY_ADD"},commonOperationConstants={EDITABLE_TYPE_OPTION:"EDITABLE_TYPE_OPTION",RESOURCE_OPTION:"RESOURCE_OPTION",SHOW_INEXPLORER:"SHOW_INEXPLORER",ADD_TOCHAT:"ADD_TOCHAT",COPY_PATH_ADD_TOCHAT:"COPY_PATH_ADD_TOCHAT",CUT:"CUT",COPY:"COPY",PASTE:"PASTE",COPY_PATH:"COPY_PATH",COPY_RELATIVE_PATH:"COPY_RELATIVE_PATH",RENAME:"RENAME",DELETE:"DELETE",GIT_FILE_HISTORY:"GIT_FILE_HISTORY"},componentConstants={COMMONMODALLOGICAPI:"CommonModalLogic",CANVAS_WIDGET_SELECT:"CANVAS_WIDGET_SELECT"},OptionModulePublicOption={OPTION_LENGTH:"OPTION_LENGTH",STRUCT_AND_VAR_RELATION_INTEGRATE:"STRUCT_AND_VAR_RELATION_INTEGRATE"},popUpDOMIdConstants={CASCADRE_SELECT:"CASCADRE_SELECT"},actionCanvas={CANVAS_CHNAGE_WIDGET:"CANVAS_CHNAGE_WIDGET"},structVarRelationinternalVariableRightClick={RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE:"RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE",RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_GROUP:"RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_GROUP",RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_ITEM:"RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_ITEM"},structVarRelationinternalVariableCreate={CREATE_STRUCT_VAR_RELATION_INTERNAL_VARIABLE:"CREATE_STRUCT_VAR_RELATION_INTERNAL_VARIABLE",CREATE_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_GROUP:"CREATE_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_GROUP",CREATE_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_ITEM:"CREATE_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_ITEM"},structVarRelationModbusTCPIPRightClick={RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP:"RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP",RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP_GROUP:"RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP_GROUP",RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP_ITEM:"RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP_ITEM"},structVarRelationModbusTCPIPCreate={CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP:"CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP",CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP_GROUP:"CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP_GROUP",CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP_ITEM:"CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP_ITEM"},constant$4={...structVarRelationModbusTCPIPCreate,...structVarRelationModbusTCPIPRightClick,...structVarRelationinternalVariableCreate,...structVarRelationinternalVariableRightClick,...actionCanvas,...structAndVarRelationConstants,...createActionConstants,...hierarchyConstants,...commonOperationConstants,...componentConstants,...OptionModulePublicOption,...popUpDOMIdConstants},rightClickOption=new Map;rightClickOption.set(constant$4.STRUCT_VAR_RELATION_INTEGRATE_CREATE,[[{title:"New file...",type:constant$4.NEW_FILE,hiddenState:!1,availableState:!0,action:Y=>{api$1.eventBus.emit(constant$4.EVENT_BUS_SA_ADD_NEW_ADD,{...Y,activeType:"file",optionType:void 0})}},{title:"New folder...",type:constant$4.NEW_FOLDER,hiddenState:!1,availableState:!0,action:Y=>{api$1.eventBus.emit(constant$4.EVENT_BUS_SA_ADD_NEW_ADD,{...Y,activeType:"folder",optionType:constant$4.STRUCT_VAR_RELATION_INTEGRATE_CREATE})}}]]);rightClickOption.set(constant$4.HIERACHY_NEW_CREATE,[[{title:"New file",type:constant$4.NEW_FILE,hiddenState:!1,availableState:!0,action:Y=>{api$1.eventBus.emit(constant$4.EVENT_BUS_HIERACHY_ADD,{...Y})}}]]);rightClickOption.set(constant$4.STRUCT_VAR_RELATION_STRUCT,[[{title:"Create a new structure",type:constant$4.NEW_STRUCT_SET,hiddenState:!1,availableState:!0,action:Y=>{}}]]);rightClickOption.set(constant$4.STRUCT_VAR_RELATION_STRUCT_ASSEMBLY,[[{title:"Create a new structure element",type:constant$4.NEW_STRUCT_ELEMENT,hiddenState:!1,availableState:!0,action:Y=>{}}],[{title:"Rename",type:constant$4.RENAME,hiddenState:!1,availableState:!0,action:Y=>{}},{title:"Delete",type:constant$4.DELETE,hiddenState:!1,availableState:!0,action:Y=>{}}]]);rightClickOption.set(constant$4.STRUCT_VAR_RELATION_STRUCT_ELEMENT,[[{title:"Rename",type:constant$4.RENAME,hiddenState:!1,availableState:!0,action:Y=>{}},{title:"Delete",type:constant$4.DELETE,hiddenState:!1,availableState:!0,action:Y=>{}}]]);rightClickOption.set(constant$4.STRUCT_VAR_RELATION_VARIABLE,[[{title:"Create New",type:"",hiddenState:!1,availableState:!0,children:[[{title:"Modbux TCPIP",type:constant$4.CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP,hiddenState:!1,availableState:!0}]]}]]);rightClickOption.set(constant$4.STRUCT_VAR_RELATION_VARIABLE_CONNECT,[[{title:"Create a new connection",type:constant$4.NEW_CONNECTION_ELEMENT,hiddenState:!1,availableState:!0,action:Y=>{}}],[{title:"Rename",type:constant$4.RENAME,hiddenState:!1,availableState:!0,action:Y=>{}},{title:"Delete",type:constant$4.DELETE,hiddenState:!1,availableState:!0,action:Y=>{}}]]);rightClickOption.set(constant$4.STRUCT_VAR_RELATION_VARIABLE_ASSEMBLY,[[{title:"Create a new variable",type:constant$4.NEW_VARIABLE_ELEMENT,hiddenState:!1,availableState:!0,action:Y=>{}}],[{title:"Rename",type:constant$4.RENAME,hiddenState:!1,availableState:!0,action:Y=>{}},{title:"Delete",type:constant$4.DELETE,hiddenState:!1,availableState:!0,action:Y=>{}}]]);rightClickOption.set(constant$4.STRUCT_VAR_RELATION_VARIABLE_ELEMENT,[[{title:"Rename",type:constant$4.RENAME,hiddenState:!1,availableState:!0,action:Y=>{}},{title:"Delete",type:constant$4.DELETE,hiddenState:!1,availableState:!0,action:Y=>{}}]]);rightClickOption.set(constant$4.RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE,[[{title:"Create New Group",type:constant$4.CREATE_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_GROUP,hiddenState:!1,availableState:!0}]]);rightClickOption.set(constant$4.RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_GROUP,[[{title:"Create Variable",type:constant$4.CREATE_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_ITEM,hiddenState:!1,availableState:!0}],[{title:"Rename",type:constant$4.RENAME},{title:"Delete",type:constant$4.DELETE}]]);rightClickOption.set(constant$4.RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_ITEM,[[{title:"Rename",type:constant$4.RENAME},{title:"Delete",type:constant$4.DELETE}]]);rightClickOption.set(constant$4.RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP_GROUP,[[{title:"Create a new connection",type:constant$4.CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP_ITEM}],[{title:"Delete",type:constant$4.DELETE}]]);rightClickOption.set(constant$4.RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP_ITEM,[[{title:"Rename",type:constant$4.RENAME},{title:"Delete",type:constant$4.DELETE}]]);rightClickOption.set(constant$4.RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP,[[{title:"Create TCPIP group",type:constant$4.CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP_GROUP}],[{title:"Delete",type:constant$4.DELETE}]]);const constant$3={Modbus_TCPIP:"Modbus_TCPIP",Modbus_RTU_Over_TCP:"Modbus_RTU_Over_TCP.cfg"},constant$2={GROUP:"group",CONNECT_GROUP:"connectGroup",CONNECT_ITEM:"connectItem",VARIABLE_GROUP:"variableGroup",INTERNAL_VARIABLE:"internalVariable",INTERNAL_VARIABLE_GROUP:"internalVariableGroup",MODBUS_TCPIP:"modbusTcpip",MODBUS_TCPIP_GROUP:"modbusTcpipGroup",MODBUS_TCPIP_CONNECTION:"modbusTcpipConnection",VARIABLE_MANAGEMENT:"variableManagement",STRUCT_MANAGEMENT:"structManagement"},spinner$1={GLOBAL_LOAD:"GLOBAL_LOAD"},constant$1={...spinner$1},dockview={CHNAGE_TOP_TAP:"CHNAGE_TOP_TAP"},excel={EXCEL_ITEM_CLICK:"EXCEL_ITEM_CLICK"},https$1={baseURL:"http://win-20240531qrt:3000"};class Constant{constructor(){bt(this,"enum",constant$4);bt(this,"rightClickOption",rightClickOption);bt(this,"agreementTemplate",constant$3);bt(this,"structAndVarRelation",constant$2);bt(this,"component",constant$1);bt(this,"dockview",dockview);bt(this,"excel",excel);bt(this,"https",https$1)}init(){}}const constant=new Constant,structAndvarRelationIntegrateConstant=[{label:constant.structAndVarRelation.GROUP,value:constant.structAndVarRelation.GROUP},{label:constant.structAndVarRelation.CONNECT_GROUP,value:constant.structAndVarRelation.CONNECT_GROUP},{label:constant.structAndVarRelation.CONNECT_ITEM,value:constant.structAndVarRelation.CONNECT_ITEM},{label:constant.structAndVarRelation.VARIABLE_GROUP,value:constant.structAndVarRelation.VARIABLE_GROUP},{label:constant.structAndVarRelation.INTERNAL_VARIABLE,value:constant.structAndVarRelation.INTERNAL_VARIABLE},{label:constant.structAndVarRelation.INTERNAL_VARIABLE_GROUP,value:constant.structAndVarRelation.INTERNAL_VARIABLE_GROUP},{label:constant.structAndVarRelation.MODBUS_TCPIP,value:constant.structAndVarRelation.MODBUS_TCPIP},{label:constant.structAndVarRelation.MODBUS_TCPIP_GROUP,value:constant.structAndVarRelation.MODBUS_TCPIP_GROUP},{label:constant.structAndVarRelation.MODBUS_TCPIP_CONNECTION,value:constant.structAndVarRelation.MODBUS_TCPIP_CONNECTION},{label:constant.structAndVarRelation.VARIABLE_MANAGEMENT,value:constant.structAndVarRelation.VARIABLE_MANAGEMENT},{label:constant.structAndVarRelation.STRUCT_MANAGEMENT,value:constant.structAndVarRelation.STRUCT_MANAGEMENT}];class PublicOptionModule{constructor(){bt(this,"api",null);bt(this,"optionsMap",new Map);bt(this,"optionsMapSource",new Map);this.optionsMap.set(constant.enum.EDITABLE_TYPE_OPTION,editableTypeOption),this.optionsMapSource.set(constant.enum.EDITABLE_TYPE_OPTION,editableTypeOption),this.optionsMap.set(constant.enum.OPTION_LENGTH,optionLength),this.optionsMapSource.set(constant.enum.OPTION_LENGTH,optionLength),this.optionsMap.set(constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE,structAndvarRelationIntegrateConstant),this.optionsMapSource.set(constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE,structAndvarRelationIntegrateConstant)}init(T){this.api=T}setOptionsMap(T,k,Z){(!this.optionsMapSource.get(T)||Z)&&this.optionsMapSource.set(T,k),this.optionsMap.set(T,k)}getOptions(T){return this.optionsMap.get(T)}getOptionsSource(T){return this.optionsMapSource.get(T)}}const PublicOptionModule$1=new PublicOptionModule;let EventBusModule$2=class{constructor(){bt(this,"subscribers",new Map);bt(this,"subscribersAndValue",new Map);bt(this,"currentMove",null)}on(T,k){if(typeof T=="string")this.subscribers.has(T)||this.subscribers.set(T,new Set),this.subscribers.get(T).add(k);else for(const Z of T)this.subscribers.has(Z)||this.subscribers.set(Z,new Set),this.subscribers.get(Z).add(k)}off(T,k){const Z=this.subscribers.get(T);Z&&(Z.delete(k),Z.size===0&&this.subscribers.delete(T))}emit(T,k,Z=!1){var ee;Z&&(this.currentMove=null),this.subscribersAndValue.set(T,k),(ee=this.subscribers.get(T))==null||ee.forEach(te=>{try{queueMicrotask(()=>{te(k)})}catch(ne){console.error(`EventBus: Error executing callback for event "${T}":`,ne)}})}clear(T){T?this.subscribers.delete(T):(this.subscribers.clear(),this.currentMove=null)}getCurrentMove(){return this.currentMove}getSubscriberCount(T){var k;return((k=this.subscribers.get(T))==null?void 0:k.size)||0}getSubscriberValue(T){return this.subscribersAndValue.get(T)}};const EventBusModule$3=new EventBusModule$2,controlVariablePopUpEventBus="controlVariablePopUp",rightClickMenuBarEventBus="rightClickMenuBarEventBus";class PopUpModule{constructor(){bt(this,"api",null);bt(this,"popUpMap",new Map([[controlVariablePopUpEventBus,{used:!1,isLocked:!1,isPublic:!0}],[rightClickMenuBarEventBus,{used:!1,isLocked:!1,isPublic:!0}]]))}init(T){this.api=T}registerPopUp(T,k,Z=!0){const ee=k;ee.used??(ee.used=!1),ee.isLocked??(ee.isLocked=!1),ee.isPublic=Z,this.popUpMap.set(T,ee)}getPopUp(T){return this.popUpMap.get(T)}updatePopUp(T,k){this.popUpMap.set(T,k)}applyResources(T){const k=this.popUpMap.get(T);return k?k.isPublic?k:k.isLocked?(console.warn(`èµæº ${T} å·²è¢«éå®ï¼æ æ³éå¤ç³è¯·`),null):(k.isLocked=!0,this.popUpMap.set(T,k),console.log(`èµæº ${T} å·²éå®`),k):(console.warn(`èµæº ${T} ä¸å­å¨`),null)}releaseResources(T){const k=this.popUpMap.get(T);return k?k.isLocked?(k.isLocked=!1,this.popUpMap.set(T,k),console.log(`èµæº ${T} å·²éæ¾éå®`),!0):(console.warn(`èµæº ${T} æªè¢«éå®ï¼æ ééæ¾`),!1):(console.warn(`èµæº ${T} ä¸å­å¨`),!1)}}const PopUpModule$1=new PopUpModule;class MessageModule{constructor(){bt(this,"api",null)}init(T){this.api=T}globalMessageNotice(T){var k;(k=this.api)==null||k.eventBus.emit("message:notice",T)}globalMessageReception(T){var k;(k=this.api)==null||k.eventBus.on("message:notice",Z=>{T(Z)})}}const MessageModule$1=new MessageModule;var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(Y){if(Object.prototype.hasOwnProperty.call(Y,"__esModule"))return Y;var T=Y.default;if(typeof T=="function"){var k=function Z(){return this instanceof Z?Reflect.construct(T,arguments,this.constructor):T.apply(this,arguments)};k.prototype=T.prototype}else k={};return Object.defineProperty(k,"__esModule",{value:!0}),Object.keys(Y).forEach(function(Z){var ee=Object.getOwnPropertyDescriptor(Y,Z);Object.defineProperty(k,Z,ee.get?ee:{enumerable:!0,get:function(){return Y[Z]}})}),k}var sax={};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var string_decoder={},safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(Y,T){var k=require$$0,Z=k.Buffer;function ee(ne,me){for(var Ve in ne)me[Ve]=ne[Ve]}Z.from&&Z.alloc&&Z.allocUnsafe&&Z.allocUnsafeSlow?Y.exports=k:(ee(k,T),T.Buffer=te);function te(ne,me,Ve){return Z(ne,me,Ve)}ee(Z,te),te.from=function(ne,me,Ve){if(typeof ne=="number")throw new TypeError("Argument must not be a number");return Z(ne,me,Ve)},te.alloc=function(ne,me,Ve){if(typeof ne!="number")throw new TypeError("Argument must be a number");var Ye=Z(ne);return me!==void 0?typeof Ve=="string"?Ye.fill(me,Ve):Ye.fill(me):Ye.fill(0),Ye},te.allocUnsafe=function(ne){if(typeof ne!="number")throw new TypeError("Argument must be a number");return Z(ne)},te.allocUnsafeSlow=function(ne){if(typeof ne!="number")throw new TypeError("Argument must be a number");return k.SlowBuffer(ne)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var Y=requireSafeBuffer().Buffer,T=Y.isEncoding||function(ot){switch(ot=""+ot,ot&&ot.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function k(ot){if(!ot)return"utf8";for(var ht;;)switch(ot){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ot;default:if(ht)return;ot=(""+ot).toLowerCase(),ht=!0}}function Z(ot){var ht=k(ot);if(typeof ht!="string"&&(Y.isEncoding===T||!T(ot)))throw new Error("Unknown encoding: "+ot);return ht||ot}string_decoder.StringDecoder=ee;function ee(ot){this.encoding=Z(ot);var ht;switch(this.encoding){case"utf16le":this.text=tt,this.end=it,ht=4;break;case"utf8":this.fillLast=Ve,ht=4;break;case"base64":this.text=st,this.end=nt,ht=3;break;default:this.write=rt,this.end=lt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Y.allocUnsafe(ht)}ee.prototype.write=function(ot){if(ot.length===0)return"";var ht,dt;if(this.lastNeed){if(ht=this.fillLast(ot),ht===void 0)return"";dt=this.lastNeed,this.lastNeed=0}else dt=0;return dt<ot.length?ht?ht+this.text(ot,dt):this.text(ot,dt):ht||""},ee.prototype.end=et,ee.prototype.text=Ye,ee.prototype.fillLast=function(ot){if(this.lastNeed<=ot.length)return ot.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ot.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ot.length),this.lastNeed-=ot.length};function te(ot){return ot<=127?0:ot>>5===6?2:ot>>4===14?3:ot>>3===30?4:ot>>6===2?-1:-2}function ne(ot,ht,dt){var ct=ht.length-1;if(ct<dt)return 0;var ut=te(ht[ct]);return ut>=0?(ut>0&&(ot.lastNeed=ut-1),ut):--ct<dt||ut===-2?0:(ut=te(ht[ct]),ut>=0?(ut>0&&(ot.lastNeed=ut-2),ut):--ct<dt||ut===-2?0:(ut=te(ht[ct]),ut>=0?(ut>0&&(ut===2?ut=0:ot.lastNeed=ut-3),ut):0))}function me(ot,ht,dt){if((ht[0]&192)!==128)return ot.lastNeed=0,"ï¿½";if(ot.lastNeed>1&&ht.length>1){if((ht[1]&192)!==128)return ot.lastNeed=1,"ï¿½";if(ot.lastNeed>2&&ht.length>2&&(ht[2]&192)!==128)return ot.lastNeed=2,"ï¿½"}}function Ve(ot){var ht=this.lastTotal-this.lastNeed,dt=me(this,ot);if(dt!==void 0)return dt;if(this.lastNeed<=ot.length)return ot.copy(this.lastChar,ht,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ot.copy(this.lastChar,ht,0,ot.length),this.lastNeed-=ot.length}function Ye(ot,ht){var dt=ne(this,ot,ht);if(!this.lastNeed)return ot.toString("utf8",ht);this.lastTotal=dt;var ct=ot.length-(dt-this.lastNeed);return ot.copy(this.lastChar,0,ct),ot.toString("utf8",ht,ct)}function et(ot){var ht=ot&&ot.length?this.write(ot):"";return this.lastNeed?ht+"ï¿½":ht}function tt(ot,ht){if((ot.length-ht)%2===0){var dt=ot.toString("utf16le",ht);if(dt){var ct=dt.charCodeAt(dt.length-1);if(ct>=55296&&ct<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ot[ot.length-2],this.lastChar[1]=ot[ot.length-1],dt.slice(0,-1)}return dt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ot[ot.length-1],ot.toString("utf16le",ht,ot.length-1)}function it(ot){var ht=ot&&ot.length?this.write(ot):"";if(this.lastNeed){var dt=this.lastTotal-this.lastNeed;return ht+this.lastChar.toString("utf16le",0,dt)}return ht}function st(ot,ht){var dt=(ot.length-ht)%3;return dt===0?ot.toString("base64",ht):(this.lastNeed=3-dt,this.lastTotal=3,dt===1?this.lastChar[0]=ot[ot.length-1]:(this.lastChar[0]=ot[ot.length-2],this.lastChar[1]=ot[ot.length-1]),ot.toString("base64",ht,ot.length-dt))}function nt(ot){var ht=ot&&ot.length?this.write(ot):"";return this.lastNeed?ht+this.lastChar.toString("base64",0,3-this.lastNeed):ht}function rt(ot){return ot.toString(this.encoding)}function lt(ot){return ot&&ot.length?this.write(ot):""}return string_decoder}var hasRequiredSax;function requireSax(){return hasRequiredSax||(hasRequiredSax=1,function(Y){(function(T){T.parser=function(Pt,kt){return new Z(Pt,kt)},T.SAXParser=Z,T.SAXStream=et,T.createStream=Ye,T.MAX_BUFFER_LENGTH=64*1024;var k=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];T.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function Z(Pt,kt){if(!(this instanceof Z))return new Z(Pt,kt);var zt=this;te(zt),zt.q=zt.c="",zt.bufferCheckPosition=T.MAX_BUFFER_LENGTH,zt.opt=kt||{},zt.opt.lowercase=zt.opt.lowercase||zt.opt.lowercasetags,zt.looseCase=zt.opt.lowercase?"toLowerCase":"toUpperCase",zt.tags=[],zt.closed=zt.closedRoot=zt.sawRoot=!1,zt.tag=zt.error=null,zt.strict=!!Pt,zt.noscript=!!(Pt||zt.opt.noscript),zt.state=_t.BEGIN,zt.strictEntities=zt.opt.strictEntities,zt.ENTITIES=zt.strictEntities?Object.create(T.XML_ENTITIES):Object.create(T.ENTITIES),zt.attribList=[],zt.opt.xmlns&&(zt.ns=Object.create(rt)),zt.opt.unquotedAttributeValues===void 0&&(zt.opt.unquotedAttributeValues=!Pt),zt.trackPosition=zt.opt.position!==!1,zt.trackPosition&&(zt.position=zt.line=zt.column=0),Tt(zt,"onready")}Object.create||(Object.create=function(Pt){function kt(){}kt.prototype=Pt;var zt=new kt;return zt}),Object.keys||(Object.keys=function(Pt){var kt=[];for(var zt in Pt)Pt.hasOwnProperty(zt)&&kt.push(zt);return kt});function ee(Pt){for(var kt=Math.max(T.MAX_BUFFER_LENGTH,10),zt=0,Wt=0,si=k.length;Wt<si;Wt++){var ei=Pt[k[Wt]].length;if(ei>kt)switch(k[Wt]){case"textNode":yt(Pt);break;case"cdata":xt(Pt,"oncdata",Pt.cdata),Pt.cdata="";break;case"script":xt(Pt,"onscript",Pt.script),Pt.script="";break;default:At(Pt,"Max buffer length exceeded: "+k[Wt])}zt=Math.max(zt,ei)}var Zt=T.MAX_BUFFER_LENGTH-zt;Pt.bufferCheckPosition=Zt+Pt.position}function te(Pt){for(var kt=0,zt=k.length;kt<zt;kt++)Pt[k[kt]]=""}function ne(Pt){yt(Pt),Pt.cdata!==""&&(xt(Pt,"oncdata",Pt.cdata),Pt.cdata=""),Pt.script!==""&&(xt(Pt,"onscript",Pt.script),Pt.script="")}Z.prototype={end:function(){Ct(this)},write:Kt,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){ne(this)}};var me;try{me=require$$0.Stream}catch{me=function(){}}me||(me=function(){});var Ve=T.EVENTS.filter(function(Pt){return Pt!=="error"&&Pt!=="end"});function Ye(Pt,kt){return new et(Pt,kt)}function et(Pt,kt){if(!(this instanceof et))return new et(Pt,kt);me.apply(this),this._parser=new Z(Pt,kt),this.writable=!0,this.readable=!0;var zt=this;this._parser.onend=function(){zt.emit("end")},this._parser.onerror=function(Wt){zt.emit("error",Wt),zt._parser.error=null},this._decoder=null,Ve.forEach(function(Wt){Object.defineProperty(zt,"on"+Wt,{get:function(){return zt._parser["on"+Wt]},set:function(si){if(!si)return zt.removeAllListeners(Wt),zt._parser["on"+Wt]=si,si;zt.on(Wt,si)},enumerable:!0,configurable:!1})})}et.prototype=Object.create(me.prototype,{constructor:{value:et}}),et.prototype.write=function(Pt){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(Pt)){if(!this._decoder){var kt=requireString_decoder().StringDecoder;this._decoder=new kt("utf8")}Pt=this._decoder.write(Pt)}return this._parser.write(Pt.toString()),this.emit("data",Pt),!0},et.prototype.end=function(Pt){return Pt&&Pt.length&&this.write(Pt),this._parser.end(),!0},et.prototype.on=function(Pt,kt){var zt=this;return!zt._parser["on"+Pt]&&Ve.indexOf(Pt)!==-1&&(zt._parser["on"+Pt]=function(){var Wt=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Wt.splice(0,0,Pt),zt.emit.apply(zt,Wt)}),me.prototype.on.call(zt,Pt,kt)};var tt="[CDATA[",it="DOCTYPE",st="http://www.w3.org/XML/1998/namespace",nt="http://www.w3.org/2000/xmlns/",rt={xml:st,xmlns:nt},lt=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ot=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,ht=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,dt=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function ct(Pt){return Pt===" "||Pt===`
`||Pt==="\r"||Pt==="	"}function ut(Pt){return Pt==='"'||Pt==="'"}function ft(Pt){return Pt===">"||ct(Pt)}function vt(Pt,kt){return Pt.test(kt)}function mt(Pt,kt){return!vt(Pt,kt)}var _t=0;T.STATE={BEGIN:_t++,BEGIN_WHITESPACE:_t++,TEXT:_t++,TEXT_ENTITY:_t++,OPEN_WAKA:_t++,SGML_DECL:_t++,SGML_DECL_QUOTED:_t++,DOCTYPE:_t++,DOCTYPE_QUOTED:_t++,DOCTYPE_DTD:_t++,DOCTYPE_DTD_QUOTED:_t++,COMMENT_STARTING:_t++,COMMENT:_t++,COMMENT_ENDING:_t++,COMMENT_ENDED:_t++,CDATA:_t++,CDATA_ENDING:_t++,CDATA_ENDING_2:_t++,PROC_INST:_t++,PROC_INST_BODY:_t++,PROC_INST_ENDING:_t++,OPEN_TAG:_t++,OPEN_TAG_SLASH:_t++,ATTRIB:_t++,ATTRIB_NAME:_t++,ATTRIB_NAME_SAW_WHITE:_t++,ATTRIB_VALUE:_t++,ATTRIB_VALUE_QUOTED:_t++,ATTRIB_VALUE_CLOSED:_t++,ATTRIB_VALUE_UNQUOTED:_t++,ATTRIB_VALUE_ENTITY_Q:_t++,ATTRIB_VALUE_ENTITY_U:_t++,CLOSE_TAG:_t++,CLOSE_TAG_SAW_WHITE:_t++,SCRIPT:_t++,SCRIPT_ENDING:_t++},T.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},T.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(T.ENTITIES).forEach(function(Pt){var kt=T.ENTITIES[Pt],zt=typeof kt=="number"?String.fromCharCode(kt):kt;T.ENTITIES[Pt]=zt});for(var Et in T.STATE)T.STATE[T.STATE[Et]]=Et;_t=T.STATE;function Tt(Pt,kt,zt){Pt[kt]&&Pt[kt](zt)}function xt(Pt,kt,zt){Pt.textNode&&yt(Pt),Tt(Pt,kt,zt)}function yt(Pt){Pt.textNode=St(Pt.opt,Pt.textNode),Pt.textNode&&Tt(Pt,"ontext",Pt.textNode),Pt.textNode=""}function St(Pt,kt){return Pt.trim&&(kt=kt.trim()),Pt.normalize&&(kt=kt.replace(/\s+/g," ")),kt}function At(Pt,kt){return yt(Pt),Pt.trackPosition&&(kt+=`
Line: `+Pt.line+`
Column: `+Pt.column+`
Char: `+Pt.c),kt=new Error(kt),Pt.error=kt,Tt(Pt,"onerror",kt),Pt}function Ct(Pt){return Pt.sawRoot&&!Pt.closedRoot&&It(Pt,"Unclosed root tag"),Pt.state!==_t.BEGIN&&Pt.state!==_t.BEGIN_WHITESPACE&&Pt.state!==_t.TEXT&&At(Pt,"Unexpected end"),yt(Pt),Pt.c="",Pt.closed=!0,Tt(Pt,"onend"),Z.call(Pt,Pt.strict,Pt.opt),Pt}function It(Pt,kt){if(typeof Pt!="object"||!(Pt instanceof Z))throw new Error("bad call to strictFail");Pt.strict&&At(Pt,kt)}function Ot(Pt){Pt.strict||(Pt.tagName=Pt.tagName[Pt.looseCase]());var kt=Pt.tags[Pt.tags.length-1]||Pt,zt=Pt.tag={name:Pt.tagName,attributes:{}};Pt.opt.xmlns&&(zt.ns=kt.ns),Pt.attribList.length=0,xt(Pt,"onopentagstart",zt)}function Dt(Pt,kt){var zt=Pt.indexOf(":"),Wt=zt<0?["",Pt]:Pt.split(":"),si=Wt[0],ei=Wt[1];return kt&&Pt==="xmlns"&&(si="xmlns",ei=""),{prefix:si,local:ei}}function Mt(Pt){if(Pt.strict||(Pt.attribName=Pt.attribName[Pt.looseCase]()),Pt.attribList.indexOf(Pt.attribName)!==-1||Pt.tag.attributes.hasOwnProperty(Pt.attribName)){Pt.attribName=Pt.attribValue="";return}if(Pt.opt.xmlns){var kt=Dt(Pt.attribName,!0),zt=kt.prefix,Wt=kt.local;if(zt==="xmlns")if(Wt==="xml"&&Pt.attribValue!==st)It(Pt,"xml: prefix must be bound to "+st+`
Actual: `+Pt.attribValue);else if(Wt==="xmlns"&&Pt.attribValue!==nt)It(Pt,"xmlns: prefix must be bound to "+nt+`
Actual: `+Pt.attribValue);else{var si=Pt.tag,ei=Pt.tags[Pt.tags.length-1]||Pt;si.ns===ei.ns&&(si.ns=Object.create(ei.ns)),si.ns[Wt]=Pt.attribValue}Pt.attribList.push([Pt.attribName,Pt.attribValue])}else Pt.tag.attributes[Pt.attribName]=Pt.attribValue,xt(Pt,"onattribute",{name:Pt.attribName,value:Pt.attribValue});Pt.attribName=Pt.attribValue=""}function $t(Pt,kt){if(Pt.opt.xmlns){var zt=Pt.tag,Wt=Dt(Pt.tagName);zt.prefix=Wt.prefix,zt.local=Wt.local,zt.uri=zt.ns[Wt.prefix]||"",zt.prefix&&!zt.uri&&(It(Pt,"Unbound namespace prefix: "+JSON.stringify(Pt.tagName)),zt.uri=Wt.prefix);var si=Pt.tags[Pt.tags.length-1]||Pt;zt.ns&&si.ns!==zt.ns&&Object.keys(zt.ns).forEach(function(Bt){xt(Pt,"onopennamespace",{prefix:Bt,uri:zt.ns[Bt]})});for(var ei=0,Zt=Pt.attribList.length;ei<Zt;ei++){var Jt=Pt.attribList[ei],ti=Jt[0],di=Jt[1],Qt=Dt(ti,!0),Si=Qt.prefix,Ti=Qt.local,Ri=Si===""?"":zt.ns[Si]||"",ki={name:ti,value:di,prefix:Si,local:Ti,uri:Ri};Si&&Si!=="xmlns"&&!Ri&&(It(Pt,"Unbound namespace prefix: "+JSON.stringify(Si)),ki.uri=Si),Pt.tag.attributes[ti]=ki,xt(Pt,"onattribute",ki)}Pt.attribList.length=0}Pt.tag.isSelfClosing=!!kt,Pt.sawRoot=!0,Pt.tags.push(Pt.tag),xt(Pt,"onopentag",Pt.tag),kt||(!Pt.noscript&&Pt.tagName.toLowerCase()==="script"?Pt.state=_t.SCRIPT:Pt.state=_t.TEXT,Pt.tag=null,Pt.tagName=""),Pt.attribName=Pt.attribValue="",Pt.attribList.length=0}function Ht(Pt){if(!Pt.tagName){It(Pt,"Weird empty close tag."),Pt.textNode+="</>",Pt.state=_t.TEXT;return}if(Pt.script){if(Pt.tagName!=="script"){Pt.script+="</"+Pt.tagName+">",Pt.tagName="",Pt.state=_t.SCRIPT;return}xt(Pt,"onscript",Pt.script),Pt.script=""}var kt=Pt.tags.length,zt=Pt.tagName;Pt.strict||(zt=zt[Pt.looseCase]());for(var Wt=zt;kt--;){var si=Pt.tags[kt];if(si.name!==Wt)It(Pt,"Unexpected close tag");else break}if(kt<0){It(Pt,"Unmatched closing tag: "+Pt.tagName),Pt.textNode+="</"+Pt.tagName+">",Pt.state=_t.TEXT;return}Pt.tagName=zt;for(var ei=Pt.tags.length;ei-- >kt;){var Zt=Pt.tag=Pt.tags.pop();Pt.tagName=Pt.tag.name,xt(Pt,"onclosetag",Pt.tagName);var Jt={};for(var ti in Zt.ns)Jt[ti]=Zt.ns[ti];var di=Pt.tags[Pt.tags.length-1]||Pt;Pt.opt.xmlns&&Zt.ns!==di.ns&&Object.keys(Zt.ns).forEach(function(Qt){var Si=Zt.ns[Qt];xt(Pt,"onclosenamespace",{prefix:Qt,uri:Si})})}kt===0&&(Pt.closedRoot=!0),Pt.tagName=Pt.attribValue=Pt.attribName="",Pt.attribList.length=0,Pt.state=_t.TEXT}function Ft(Pt){var kt=Pt.entity,zt=kt.toLowerCase(),Wt,si="";return Pt.ENTITIES[kt]?Pt.ENTITIES[kt]:Pt.ENTITIES[zt]?Pt.ENTITIES[zt]:(kt=zt,kt.charAt(0)==="#"&&(kt.charAt(1)==="x"?(kt=kt.slice(2),Wt=parseInt(kt,16),si=Wt.toString(16)):(kt=kt.slice(1),Wt=parseInt(kt,10),si=Wt.toString(10))),kt=kt.replace(/^0+/,""),isNaN(Wt)||si.toLowerCase()!==kt?(It(Pt,"Invalid character entity"),"&"+Pt.entity+";"):String.fromCodePoint(Wt))}function jt(Pt,kt){kt==="<"?(Pt.state=_t.OPEN_WAKA,Pt.startTagPosition=Pt.position):ct(kt)||(It(Pt,"Non-whitespace before first tag."),Pt.textNode=kt,Pt.state=_t.TEXT)}function Gt(Pt,kt){var zt="";return kt<Pt.length&&(zt=Pt.charAt(kt)),zt}function Kt(Pt){var kt=this;if(this.error)throw this.error;if(kt.closed)return At(kt,"Cannot write after close. Assign an onready handler.");if(Pt===null)return Ct(kt);typeof Pt=="object"&&(Pt=Pt.toString());for(var zt=0,Wt="";Wt=Gt(Pt,zt++),kt.c=Wt,!!Wt;)switch(kt.trackPosition&&(kt.position++,Wt===`
`?(kt.line++,kt.column=0):kt.column++),kt.state){case _t.BEGIN:if(kt.state=_t.BEGIN_WHITESPACE,Wt==="\uFEFF")continue;jt(kt,Wt);continue;case _t.BEGIN_WHITESPACE:jt(kt,Wt);continue;case _t.TEXT:if(kt.sawRoot&&!kt.closedRoot){for(var si=zt-1;Wt&&Wt!=="<"&&Wt!=="&";)Wt=Gt(Pt,zt++),Wt&&kt.trackPosition&&(kt.position++,Wt===`
`?(kt.line++,kt.column=0):kt.column++);kt.textNode+=Pt.substring(si,zt-1)}Wt==="<"&&!(kt.sawRoot&&kt.closedRoot&&!kt.strict)?(kt.state=_t.OPEN_WAKA,kt.startTagPosition=kt.position):(!ct(Wt)&&(!kt.sawRoot||kt.closedRoot)&&It(kt,"Text data outside of root node."),Wt==="&"?kt.state=_t.TEXT_ENTITY:kt.textNode+=Wt);continue;case _t.SCRIPT:Wt==="<"?kt.state=_t.SCRIPT_ENDING:kt.script+=Wt;continue;case _t.SCRIPT_ENDING:Wt==="/"?kt.state=_t.CLOSE_TAG:(kt.script+="<"+Wt,kt.state=_t.SCRIPT);continue;case _t.OPEN_WAKA:if(Wt==="!")kt.state=_t.SGML_DECL,kt.sgmlDecl="";else if(!ct(Wt))if(vt(lt,Wt))kt.state=_t.OPEN_TAG,kt.tagName=Wt;else if(Wt==="/")kt.state=_t.CLOSE_TAG,kt.tagName="";else if(Wt==="?")kt.state=_t.PROC_INST,kt.procInstName=kt.procInstBody="";else{if(It(kt,"Unencoded <"),kt.startTagPosition+1<kt.position){var ei=kt.position-kt.startTagPosition;Wt=new Array(ei).join(" ")+Wt}kt.textNode+="<"+Wt,kt.state=_t.TEXT}continue;case _t.SGML_DECL:if(kt.sgmlDecl+Wt==="--"){kt.state=_t.COMMENT,kt.comment="",kt.sgmlDecl="";continue}kt.doctype&&kt.doctype!==!0&&kt.sgmlDecl?(kt.state=_t.DOCTYPE_DTD,kt.doctype+="<!"+kt.sgmlDecl+Wt,kt.sgmlDecl=""):(kt.sgmlDecl+Wt).toUpperCase()===tt?(xt(kt,"onopencdata"),kt.state=_t.CDATA,kt.sgmlDecl="",kt.cdata=""):(kt.sgmlDecl+Wt).toUpperCase()===it?(kt.state=_t.DOCTYPE,(kt.doctype||kt.sawRoot)&&It(kt,"Inappropriately located doctype declaration"),kt.doctype="",kt.sgmlDecl=""):Wt===">"?(xt(kt,"onsgmldeclaration",kt.sgmlDecl),kt.sgmlDecl="",kt.state=_t.TEXT):(ut(Wt)&&(kt.state=_t.SGML_DECL_QUOTED),kt.sgmlDecl+=Wt);continue;case _t.SGML_DECL_QUOTED:Wt===kt.q&&(kt.state=_t.SGML_DECL,kt.q=""),kt.sgmlDecl+=Wt;continue;case _t.DOCTYPE:Wt===">"?(kt.state=_t.TEXT,xt(kt,"ondoctype",kt.doctype),kt.doctype=!0):(kt.doctype+=Wt,Wt==="["?kt.state=_t.DOCTYPE_DTD:ut(Wt)&&(kt.state=_t.DOCTYPE_QUOTED,kt.q=Wt));continue;case _t.DOCTYPE_QUOTED:kt.doctype+=Wt,Wt===kt.q&&(kt.q="",kt.state=_t.DOCTYPE);continue;case _t.DOCTYPE_DTD:Wt==="]"?(kt.doctype+=Wt,kt.state=_t.DOCTYPE):Wt==="<"?(kt.state=_t.OPEN_WAKA,kt.startTagPosition=kt.position):ut(Wt)?(kt.doctype+=Wt,kt.state=_t.DOCTYPE_DTD_QUOTED,kt.q=Wt):kt.doctype+=Wt;continue;case _t.DOCTYPE_DTD_QUOTED:kt.doctype+=Wt,Wt===kt.q&&(kt.state=_t.DOCTYPE_DTD,kt.q="");continue;case _t.COMMENT:Wt==="-"?kt.state=_t.COMMENT_ENDING:kt.comment+=Wt;continue;case _t.COMMENT_ENDING:Wt==="-"?(kt.state=_t.COMMENT_ENDED,kt.comment=St(kt.opt,kt.comment),kt.comment&&xt(kt,"oncomment",kt.comment),kt.comment=""):(kt.comment+="-"+Wt,kt.state=_t.COMMENT);continue;case _t.COMMENT_ENDED:Wt!==">"?(It(kt,"Malformed comment"),kt.comment+="--"+Wt,kt.state=_t.COMMENT):kt.doctype&&kt.doctype!==!0?kt.state=_t.DOCTYPE_DTD:kt.state=_t.TEXT;continue;case _t.CDATA:Wt==="]"?kt.state=_t.CDATA_ENDING:kt.cdata+=Wt;continue;case _t.CDATA_ENDING:Wt==="]"?kt.state=_t.CDATA_ENDING_2:(kt.cdata+="]"+Wt,kt.state=_t.CDATA);continue;case _t.CDATA_ENDING_2:Wt===">"?(kt.cdata&&xt(kt,"oncdata",kt.cdata),xt(kt,"onclosecdata"),kt.cdata="",kt.state=_t.TEXT):Wt==="]"?kt.cdata+="]":(kt.cdata+="]]"+Wt,kt.state=_t.CDATA);continue;case _t.PROC_INST:Wt==="?"?kt.state=_t.PROC_INST_ENDING:ct(Wt)?kt.state=_t.PROC_INST_BODY:kt.procInstName+=Wt;continue;case _t.PROC_INST_BODY:if(!kt.procInstBody&&ct(Wt))continue;Wt==="?"?kt.state=_t.PROC_INST_ENDING:kt.procInstBody+=Wt;continue;case _t.PROC_INST_ENDING:Wt===">"?(xt(kt,"onprocessinginstruction",{name:kt.procInstName,body:kt.procInstBody}),kt.procInstName=kt.procInstBody="",kt.state=_t.TEXT):(kt.procInstBody+="?"+Wt,kt.state=_t.PROC_INST_BODY);continue;case _t.OPEN_TAG:vt(ot,Wt)?kt.tagName+=Wt:(Ot(kt),Wt===">"?$t(kt):Wt==="/"?kt.state=_t.OPEN_TAG_SLASH:(ct(Wt)||It(kt,"Invalid character in tag name"),kt.state=_t.ATTRIB));continue;case _t.OPEN_TAG_SLASH:Wt===">"?($t(kt,!0),Ht(kt)):(It(kt,"Forward-slash in opening tag not followed by >"),kt.state=_t.ATTRIB);continue;case _t.ATTRIB:if(ct(Wt))continue;Wt===">"?$t(kt):Wt==="/"?kt.state=_t.OPEN_TAG_SLASH:vt(lt,Wt)?(kt.attribName=Wt,kt.attribValue="",kt.state=_t.ATTRIB_NAME):It(kt,"Invalid attribute name");continue;case _t.ATTRIB_NAME:Wt==="="?kt.state=_t.ATTRIB_VALUE:Wt===">"?(It(kt,"Attribute without value"),kt.attribValue=kt.attribName,Mt(kt),$t(kt)):ct(Wt)?kt.state=_t.ATTRIB_NAME_SAW_WHITE:vt(ot,Wt)?kt.attribName+=Wt:It(kt,"Invalid attribute name");continue;case _t.ATTRIB_NAME_SAW_WHITE:if(Wt==="=")kt.state=_t.ATTRIB_VALUE;else{if(ct(Wt))continue;It(kt,"Attribute without value"),kt.tag.attributes[kt.attribName]="",kt.attribValue="",xt(kt,"onattribute",{name:kt.attribName,value:""}),kt.attribName="",Wt===">"?$t(kt):vt(lt,Wt)?(kt.attribName=Wt,kt.state=_t.ATTRIB_NAME):(It(kt,"Invalid attribute name"),kt.state=_t.ATTRIB)}continue;case _t.ATTRIB_VALUE:if(ct(Wt))continue;ut(Wt)?(kt.q=Wt,kt.state=_t.ATTRIB_VALUE_QUOTED):(kt.opt.unquotedAttributeValues||At(kt,"Unquoted attribute value"),kt.state=_t.ATTRIB_VALUE_UNQUOTED,kt.attribValue=Wt);continue;case _t.ATTRIB_VALUE_QUOTED:if(Wt!==kt.q){Wt==="&"?kt.state=_t.ATTRIB_VALUE_ENTITY_Q:kt.attribValue+=Wt;continue}Mt(kt),kt.q="",kt.state=_t.ATTRIB_VALUE_CLOSED;continue;case _t.ATTRIB_VALUE_CLOSED:ct(Wt)?kt.state=_t.ATTRIB:Wt===">"?$t(kt):Wt==="/"?kt.state=_t.OPEN_TAG_SLASH:vt(lt,Wt)?(It(kt,"No whitespace between attributes"),kt.attribName=Wt,kt.attribValue="",kt.state=_t.ATTRIB_NAME):It(kt,"Invalid attribute name");continue;case _t.ATTRIB_VALUE_UNQUOTED:if(!ft(Wt)){Wt==="&"?kt.state=_t.ATTRIB_VALUE_ENTITY_U:kt.attribValue+=Wt;continue}Mt(kt),Wt===">"?$t(kt):kt.state=_t.ATTRIB;continue;case _t.CLOSE_TAG:if(kt.tagName)Wt===">"?Ht(kt):vt(ot,Wt)?kt.tagName+=Wt:kt.script?(kt.script+="</"+kt.tagName,kt.tagName="",kt.state=_t.SCRIPT):(ct(Wt)||It(kt,"Invalid tagname in closing tag"),kt.state=_t.CLOSE_TAG_SAW_WHITE);else{if(ct(Wt))continue;mt(lt,Wt)?kt.script?(kt.script+="</"+Wt,kt.state=_t.SCRIPT):It(kt,"Invalid tagname in closing tag."):kt.tagName=Wt}continue;case _t.CLOSE_TAG_SAW_WHITE:if(ct(Wt))continue;Wt===">"?Ht(kt):It(kt,"Invalid characters in closing tag");continue;case _t.TEXT_ENTITY:case _t.ATTRIB_VALUE_ENTITY_Q:case _t.ATTRIB_VALUE_ENTITY_U:var Zt,Jt;switch(kt.state){case _t.TEXT_ENTITY:Zt=_t.TEXT,Jt="textNode";break;case _t.ATTRIB_VALUE_ENTITY_Q:Zt=_t.ATTRIB_VALUE_QUOTED,Jt="attribValue";break;case _t.ATTRIB_VALUE_ENTITY_U:Zt=_t.ATTRIB_VALUE_UNQUOTED,Jt="attribValue";break}if(Wt===";"){var ti=Ft(kt);kt.opt.unparsedEntities&&!Object.values(T.XML_ENTITIES).includes(ti)?(kt.entity="",kt.state=Zt,kt.write(ti)):(kt[Jt]+=ti,kt.entity="",kt.state=Zt)}else vt(kt.entity.length?dt:ht,Wt)?kt.entity+=Wt:(It(kt,"Invalid character in entity name"),kt[Jt]+="&"+kt.entity+Wt,kt.entity="",kt.state=Zt);continue;default:throw new Error(kt,"Unknown state: "+kt.state)}return kt.position>=kt.bufferCheckPosition&&ee(kt),kt}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var Pt=String.fromCharCode,kt=Math.floor,zt=function(){var Wt=16384,si=[],ei,Zt,Jt=-1,ti=arguments.length;if(!ti)return"";for(var di="";++Jt<ti;){var Qt=Number(arguments[Jt]);if(!isFinite(Qt)||Qt<0||Qt>1114111||kt(Qt)!==Qt)throw RangeError("Invalid code point: "+Qt);Qt<=65535?si.push(Qt):(Qt-=65536,ei=(Qt>>10)+55296,Zt=Qt%1024+56320,si.push(ei,Zt)),(Jt+1===ti||si.length>Wt)&&(di+=Pt.apply(null,si),si.length=0)}return di};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:zt,configurable:!0,writable:!0}):String.fromCodePoint=zt}()})(Y)}(sax)),sax}var arrayHelper,hasRequiredArrayHelper;function requireArrayHelper(){return hasRequiredArrayHelper||(hasRequiredArrayHelper=1,arrayHelper={isArray:function(Y){return Array.isArray?Array.isArray(Y):Object.prototype.toString.call(Y)==="[object Array]"}}),arrayHelper}var optionsHelper,hasRequiredOptionsHelper;function requireOptionsHelper(){if(hasRequiredOptionsHelper)return optionsHelper;hasRequiredOptionsHelper=1;var Y=requireArrayHelper().isArray;return optionsHelper={copyOptions:function(T){var k,Z={};for(k in T)T.hasOwnProperty(k)&&(Z[k]=T[k]);return Z},ensureFlagExists:function(T,k){(!(T in k)||typeof k[T]!="boolean")&&(k[T]=!1)},ensureSpacesExists:function(T){(!("spaces"in T)||typeof T.spaces!="number"&&typeof T.spaces!="string")&&(T.spaces=0)},ensureAlwaysArrayExists:function(T){(!("alwaysArray"in T)||typeof T.alwaysArray!="boolean"&&!Y(T.alwaysArray))&&(T.alwaysArray=!1)},ensureKeyExists:function(T,k){(!(T+"Key"in k)||typeof k[T+"Key"]!="string")&&(k[T+"Key"]=k.compact?"_"+T:T)},checkFnExists:function(T,k){return T+"Fn"in k}},optionsHelper}var xml2js,hasRequiredXml2js;function requireXml2js(){if(hasRequiredXml2js)return xml2js;hasRequiredXml2js=1;var Y=requireSax(),T=requireOptionsHelper(),k=requireArrayHelper().isArray,Z,ee;function te(ot){return Z=T.copyOptions(ot),T.ensureFlagExists("ignoreDeclaration",Z),T.ensureFlagExists("ignoreInstruction",Z),T.ensureFlagExists("ignoreAttributes",Z),T.ensureFlagExists("ignoreText",Z),T.ensureFlagExists("ignoreComment",Z),T.ensureFlagExists("ignoreCdata",Z),T.ensureFlagExists("ignoreDoctype",Z),T.ensureFlagExists("compact",Z),T.ensureFlagExists("alwaysChildren",Z),T.ensureFlagExists("addParent",Z),T.ensureFlagExists("trim",Z),T.ensureFlagExists("nativeType",Z),T.ensureFlagExists("nativeTypeAttributes",Z),T.ensureFlagExists("sanitize",Z),T.ensureFlagExists("instructionHasAttributes",Z),T.ensureFlagExists("captureSpacesBetweenElements",Z),T.ensureAlwaysArrayExists(Z),T.ensureKeyExists("declaration",Z),T.ensureKeyExists("instruction",Z),T.ensureKeyExists("attributes",Z),T.ensureKeyExists("text",Z),T.ensureKeyExists("comment",Z),T.ensureKeyExists("cdata",Z),T.ensureKeyExists("doctype",Z),T.ensureKeyExists("type",Z),T.ensureKeyExists("name",Z),T.ensureKeyExists("elements",Z),T.ensureKeyExists("parent",Z),T.checkFnExists("doctype",Z),T.checkFnExists("instruction",Z),T.checkFnExists("cdata",Z),T.checkFnExists("comment",Z),T.checkFnExists("text",Z),T.checkFnExists("instructionName",Z),T.checkFnExists("elementName",Z),T.checkFnExists("attributeName",Z),T.checkFnExists("attributeValue",Z),T.checkFnExists("attributes",Z),Z}function ne(ot){var ht=Number(ot);if(!isNaN(ht))return ht;var dt=ot.toLowerCase();return dt==="true"?!0:dt==="false"?!1:ot}function me(ot,ht){var dt;if(Z.compact){if(!ee[Z[ot+"Key"]]&&(k(Z.alwaysArray)?Z.alwaysArray.indexOf(Z[ot+"Key"])!==-1:Z.alwaysArray)&&(ee[Z[ot+"Key"]]=[]),ee[Z[ot+"Key"]]&&!k(ee[Z[ot+"Key"]])&&(ee[Z[ot+"Key"]]=[ee[Z[ot+"Key"]]]),ot+"Fn"in Z&&typeof ht=="string"&&(ht=Z[ot+"Fn"](ht,ee)),ot==="instruction"&&("instructionFn"in Z||"instructionNameFn"in Z)){for(dt in ht)if(ht.hasOwnProperty(dt))if("instructionFn"in Z)ht[dt]=Z.instructionFn(ht[dt],dt,ee);else{var ct=ht[dt];delete ht[dt],ht[Z.instructionNameFn(dt,ct,ee)]=ct}}k(ee[Z[ot+"Key"]])?ee[Z[ot+"Key"]].push(ht):ee[Z[ot+"Key"]]=ht}else{ee[Z.elementsKey]||(ee[Z.elementsKey]=[]);var ut={};if(ut[Z.typeKey]=ot,ot==="instruction"){for(dt in ht)if(ht.hasOwnProperty(dt))break;ut[Z.nameKey]="instructionNameFn"in Z?Z.instructionNameFn(dt,ht,ee):dt,Z.instructionHasAttributes?(ut[Z.attributesKey]=ht[dt][Z.attributesKey],"instructionFn"in Z&&(ut[Z.attributesKey]=Z.instructionFn(ut[Z.attributesKey],dt,ee))):("instructionFn"in Z&&(ht[dt]=Z.instructionFn(ht[dt],dt,ee)),ut[Z.instructionKey]=ht[dt])}else ot+"Fn"in Z&&(ht=Z[ot+"Fn"](ht,ee)),ut[Z[ot+"Key"]]=ht;Z.addParent&&(ut[Z.parentKey]=ee),ee[Z.elementsKey].push(ut)}}function Ve(ot){if("attributesFn"in Z&&ot&&(ot=Z.attributesFn(ot,ee)),(Z.trim||"attributeValueFn"in Z||"attributeNameFn"in Z||Z.nativeTypeAttributes)&&ot){var ht;for(ht in ot)if(ot.hasOwnProperty(ht)&&(Z.trim&&(ot[ht]=ot[ht].trim()),Z.nativeTypeAttributes&&(ot[ht]=ne(ot[ht])),"attributeValueFn"in Z&&(ot[ht]=Z.attributeValueFn(ot[ht],ht,ee)),"attributeNameFn"in Z)){var dt=ot[ht];delete ot[ht],ot[Z.attributeNameFn(ht,ot[ht],ee)]=dt}}return ot}function Ye(ot){var ht={};if(ot.body&&(ot.name.toLowerCase()==="xml"||Z.instructionHasAttributes)){for(var dt=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,ct;(ct=dt.exec(ot.body))!==null;)ht[ct[1]]=ct[2]||ct[3]||ct[4];ht=Ve(ht)}if(ot.name.toLowerCase()==="xml"){if(Z.ignoreDeclaration)return;ee[Z.declarationKey]={},Object.keys(ht).length&&(ee[Z.declarationKey][Z.attributesKey]=ht),Z.addParent&&(ee[Z.declarationKey][Z.parentKey]=ee)}else{if(Z.ignoreInstruction)return;Z.trim&&(ot.body=ot.body.trim());var ut={};Z.instructionHasAttributes&&Object.keys(ht).length?(ut[ot.name]={},ut[ot.name][Z.attributesKey]=ht):ut[ot.name]=ot.body,me("instruction",ut)}}function et(ot,ht){var dt;if(typeof ot=="object"&&(ht=ot.attributes,ot=ot.name),ht=Ve(ht),"elementNameFn"in Z&&(ot=Z.elementNameFn(ot,ee)),Z.compact){if(dt={},!Z.ignoreAttributes&&ht&&Object.keys(ht).length){dt[Z.attributesKey]={};var ct;for(ct in ht)ht.hasOwnProperty(ct)&&(dt[Z.attributesKey][ct]=ht[ct])}!(ot in ee)&&(k(Z.alwaysArray)?Z.alwaysArray.indexOf(ot)!==-1:Z.alwaysArray)&&(ee[ot]=[]),ee[ot]&&!k(ee[ot])&&(ee[ot]=[ee[ot]]),k(ee[ot])?ee[ot].push(dt):ee[ot]=dt}else ee[Z.elementsKey]||(ee[Z.elementsKey]=[]),dt={},dt[Z.typeKey]="element",dt[Z.nameKey]=ot,!Z.ignoreAttributes&&ht&&Object.keys(ht).length&&(dt[Z.attributesKey]=ht),Z.alwaysChildren&&(dt[Z.elementsKey]=[]),ee[Z.elementsKey].push(dt);dt[Z.parentKey]=ee,ee=dt}function tt(ot){Z.ignoreText||!ot.trim()&&!Z.captureSpacesBetweenElements||(Z.trim&&(ot=ot.trim()),Z.nativeType&&(ot=ne(ot)),Z.sanitize&&(ot=ot.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),me("text",ot))}function it(ot){Z.ignoreComment||(Z.trim&&(ot=ot.trim()),me("comment",ot))}function st(ot){var ht=ee[Z.parentKey];Z.addParent||delete ee[Z.parentKey],ee=ht}function nt(ot){Z.ignoreCdata||(Z.trim&&(ot=ot.trim()),me("cdata",ot))}function rt(ot){Z.ignoreDoctype||(ot=ot.replace(/^ /,""),Z.trim&&(ot=ot.trim()),me("doctype",ot))}function lt(ot){ot.note=ot}return xml2js=function(ot,ht){var dt=Y.parser(!0,{}),ct={};if(ee=ct,Z=te(ht),dt.opt={strictEntities:!0},dt.onopentag=et,dt.ontext=tt,dt.oncomment=it,dt.onclosetag=st,dt.onerror=lt,dt.oncdata=nt,dt.ondoctype=rt,dt.onprocessinginstruction=Ye,dt.write(ot).close(),ct[Z.elementsKey]){var ut=ct[Z.elementsKey];delete ct[Z.elementsKey],ct[Z.elementsKey]=ut,delete ct.text}return ct},xml2js}var xml2json,hasRequiredXml2json;function requireXml2json(){if(hasRequiredXml2json)return xml2json;hasRequiredXml2json=1;var Y=requireOptionsHelper(),T=requireXml2js();function k(Z){var ee=Y.copyOptions(Z);return Y.ensureSpacesExists(ee),ee}return xml2json=function(Z,ee){var te,ne,me,Ve;return te=k(ee),ne=T(Z,te),Ve="compact"in te&&te.compact?"_parent":"parent","addParent"in te&&te.addParent?me=JSON.stringify(ne,function(Ye,et){return Ye===Ve?"_":et},te.spaces):me=JSON.stringify(ne,null,te.spaces),me.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},xml2json}var js2xml,hasRequiredJs2xml;function requireJs2xml(){if(hasRequiredJs2xml)return js2xml;hasRequiredJs2xml=1;var Y=requireOptionsHelper(),T=requireArrayHelper().isArray,k,Z;function ee(dt){var ct=Y.copyOptions(dt);return Y.ensureFlagExists("ignoreDeclaration",ct),Y.ensureFlagExists("ignoreInstruction",ct),Y.ensureFlagExists("ignoreAttributes",ct),Y.ensureFlagExists("ignoreText",ct),Y.ensureFlagExists("ignoreComment",ct),Y.ensureFlagExists("ignoreCdata",ct),Y.ensureFlagExists("ignoreDoctype",ct),Y.ensureFlagExists("compact",ct),Y.ensureFlagExists("indentText",ct),Y.ensureFlagExists("indentCdata",ct),Y.ensureFlagExists("indentAttributes",ct),Y.ensureFlagExists("indentInstruction",ct),Y.ensureFlagExists("fullTagEmptyElement",ct),Y.ensureFlagExists("noQuotesForNativeAttributes",ct),Y.ensureSpacesExists(ct),typeof ct.spaces=="number"&&(ct.spaces=Array(ct.spaces+1).join(" ")),Y.ensureKeyExists("declaration",ct),Y.ensureKeyExists("instruction",ct),Y.ensureKeyExists("attributes",ct),Y.ensureKeyExists("text",ct),Y.ensureKeyExists("comment",ct),Y.ensureKeyExists("cdata",ct),Y.ensureKeyExists("doctype",ct),Y.ensureKeyExists("type",ct),Y.ensureKeyExists("name",ct),Y.ensureKeyExists("elements",ct),Y.checkFnExists("doctype",ct),Y.checkFnExists("instruction",ct),Y.checkFnExists("cdata",ct),Y.checkFnExists("comment",ct),Y.checkFnExists("text",ct),Y.checkFnExists("instructionName",ct),Y.checkFnExists("elementName",ct),Y.checkFnExists("attributeName",ct),Y.checkFnExists("attributeValue",ct),Y.checkFnExists("attributes",ct),Y.checkFnExists("fullTagEmptyElement",ct),ct}function te(dt,ct,ut){return(!ut&&dt.spaces?`
`:"")+Array(ct+1).join(dt.spaces)}function ne(dt,ct,ut){if(ct.ignoreAttributes)return"";"attributesFn"in ct&&(dt=ct.attributesFn(dt,Z,k));var ft,vt,mt,_t,Et=[];for(ft in dt)dt.hasOwnProperty(ft)&&dt[ft]!==null&&dt[ft]!==void 0&&(_t=ct.noQuotesForNativeAttributes&&typeof dt[ft]!="string"?"":'"',vt=""+dt[ft],vt=vt.replace(/"/g,"&quot;"),mt="attributeNameFn"in ct?ct.attributeNameFn(ft,vt,Z,k):ft,Et.push(ct.spaces&&ct.indentAttributes?te(ct,ut+1,!1):" "),Et.push(mt+"="+_t+("attributeValueFn"in ct?ct.attributeValueFn(vt,ft,Z,k):vt)+_t));return dt&&Object.keys(dt).length&&ct.spaces&&ct.indentAttributes&&Et.push(te(ct,ut,!1)),Et.join("")}function me(dt,ct,ut){return k=dt,Z="xml",ct.ignoreDeclaration?"":"<?xml"+ne(dt[ct.attributesKey],ct,ut)+"?>"}function Ve(dt,ct,ut){if(ct.ignoreInstruction)return"";var ft;for(ft in dt)if(dt.hasOwnProperty(ft))break;var vt="instructionNameFn"in ct?ct.instructionNameFn(ft,dt[ft],Z,k):ft;if(typeof dt[ft]=="object")return k=dt,Z=vt,"<?"+vt+ne(dt[ft][ct.attributesKey],ct,ut)+"?>";var mt=dt[ft]?dt[ft]:"";return"instructionFn"in ct&&(mt=ct.instructionFn(mt,ft,Z,k)),"<?"+vt+(mt?" "+mt:"")+"?>"}function Ye(dt,ct){return ct.ignoreComment?"":"<!--"+("commentFn"in ct?ct.commentFn(dt,Z,k):dt)+"-->"}function et(dt,ct){return ct.ignoreCdata?"":"<![CDATA["+("cdataFn"in ct?ct.cdataFn(dt,Z,k):dt.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function tt(dt,ct){return ct.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in ct?ct.doctypeFn(dt,Z,k):dt)+">"}function it(dt,ct){return ct.ignoreText?"":(dt=""+dt,dt=dt.replace(/&amp;/g,"&"),dt=dt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in ct?ct.textFn(dt,Z,k):dt)}function st(dt,ct){var ut;if(dt.elements&&dt.elements.length)for(ut=0;ut<dt.elements.length;++ut)switch(dt.elements[ut][ct.typeKey]){case"text":if(ct.indentText)return!0;break;case"cdata":if(ct.indentCdata)return!0;break;case"instruction":if(ct.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function nt(dt,ct,ut){k=dt,Z=dt.name;var ft=[],vt="elementNameFn"in ct?ct.elementNameFn(dt.name,dt):dt.name;ft.push("<"+vt),dt[ct.attributesKey]&&ft.push(ne(dt[ct.attributesKey],ct,ut));var mt=dt[ct.elementsKey]&&dt[ct.elementsKey].length||dt[ct.attributesKey]&&dt[ct.attributesKey]["xml:space"]==="preserve";return mt||("fullTagEmptyElementFn"in ct?mt=ct.fullTagEmptyElementFn(dt.name,dt):mt=ct.fullTagEmptyElement),mt?(ft.push(">"),dt[ct.elementsKey]&&dt[ct.elementsKey].length&&(ft.push(rt(dt[ct.elementsKey],ct,ut+1)),k=dt,Z=dt.name),ft.push(ct.spaces&&st(dt,ct)?`
`+Array(ut+1).join(ct.spaces):""),ft.push("</"+vt+">")):ft.push("/>"),ft.join("")}function rt(dt,ct,ut,ft){return dt.reduce(function(vt,mt){var _t=te(ct,ut,ft&&!vt);switch(mt.type){case"element":return vt+_t+nt(mt,ct,ut);case"comment":return vt+_t+Ye(mt[ct.commentKey],ct);case"doctype":return vt+_t+tt(mt[ct.doctypeKey],ct);case"cdata":return vt+(ct.indentCdata?_t:"")+et(mt[ct.cdataKey],ct);case"text":return vt+(ct.indentText?_t:"")+it(mt[ct.textKey],ct);case"instruction":var Et={};return Et[mt[ct.nameKey]]=mt[ct.attributesKey]?mt:mt[ct.instructionKey],vt+(ct.indentInstruction?_t:"")+Ve(Et,ct,ut)}},"")}function lt(dt,ct,ut){var ft;for(ft in dt)if(dt.hasOwnProperty(ft))switch(ft){case ct.parentKey:case ct.attributesKey:break;case ct.textKey:if(ct.indentText||ut)return!0;break;case ct.cdataKey:if(ct.indentCdata||ut)return!0;break;case ct.instructionKey:if(ct.indentInstruction||ut)return!0;break;case ct.doctypeKey:case ct.commentKey:return!0;default:return!0}return!1}function ot(dt,ct,ut,ft,vt){k=dt,Z=ct;var mt="elementNameFn"in ut?ut.elementNameFn(ct,dt):ct;if(typeof dt>"u"||dt===null||dt==="")return"fullTagEmptyElementFn"in ut&&ut.fullTagEmptyElementFn(ct,dt)||ut.fullTagEmptyElement?"<"+mt+"></"+mt+">":"<"+mt+"/>";var _t=[];if(ct){if(_t.push("<"+mt),typeof dt!="object")return _t.push(">"+it(dt,ut)+"</"+mt+">"),_t.join("");dt[ut.attributesKey]&&_t.push(ne(dt[ut.attributesKey],ut,ft));var Et=lt(dt,ut,!0)||dt[ut.attributesKey]&&dt[ut.attributesKey]["xml:space"]==="preserve";if(Et||("fullTagEmptyElementFn"in ut?Et=ut.fullTagEmptyElementFn(ct,dt):Et=ut.fullTagEmptyElement),Et)_t.push(">");else return _t.push("/>"),_t.join("")}return _t.push(ht(dt,ut,ft+1,!1)),k=dt,Z=ct,ct&&_t.push((vt?te(ut,ft,!1):"")+"</"+mt+">"),_t.join("")}function ht(dt,ct,ut,ft){var vt,mt,_t,Et=[];for(mt in dt)if(dt.hasOwnProperty(mt))for(_t=T(dt[mt])?dt[mt]:[dt[mt]],vt=0;vt<_t.length;++vt){switch(mt){case ct.declarationKey:Et.push(me(_t[vt],ct,ut));break;case ct.instructionKey:Et.push((ct.indentInstruction?te(ct,ut,ft):"")+Ve(_t[vt],ct,ut));break;case ct.attributesKey:case ct.parentKey:break;case ct.textKey:Et.push((ct.indentText?te(ct,ut,ft):"")+it(_t[vt],ct));break;case ct.cdataKey:Et.push((ct.indentCdata?te(ct,ut,ft):"")+et(_t[vt],ct));break;case ct.doctypeKey:Et.push(te(ct,ut,ft)+tt(_t[vt],ct));break;case ct.commentKey:Et.push(te(ct,ut,ft)+Ye(_t[vt],ct));break;default:Et.push(te(ct,ut,ft)+ot(_t[vt],mt,ct,ut,lt(_t[vt],ct)))}ft=ft&&!Et.length}return Et.join("")}return js2xml=function(dt,ct){ct=ee(ct);var ut=[];return k=dt,Z="_root_",ct.compact?ut.push(ht(dt,ct,0,!0)):(dt[ct.declarationKey]&&ut.push(me(dt[ct.declarationKey],ct,0)),dt[ct.elementsKey]&&dt[ct.elementsKey].length&&ut.push(rt(dt[ct.elementsKey],ct,0,!ut.length))),ut.join("")},js2xml}var json2xml,hasRequiredJson2xml;function requireJson2xml(){if(hasRequiredJson2xml)return json2xml;hasRequiredJson2xml=1;var Y=requireJs2xml();return json2xml=function(T,k){T instanceof Buffer&&(T=T.toString());var Z=null;if(typeof T=="string")try{Z=JSON.parse(T)}catch{throw new Error("The JSON structure is invalid")}else Z=T;return Y(Z,k)},json2xml}var lib$2,hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib$2;hasRequiredLib$2=1;var Y=requireXml2js(),T=requireXml2json(),k=requireJs2xml(),Z=requireJson2xml();return lib$2={xml2js:Y,xml2json:T,js2xml:k,json2xml:Z},lib$2}var libExports$1=requireLib$2();const wrapTreeNodeData=(Y,T)=>({...Y,parentId:T.treeId,level:T.level+1,treeId:Y.treeId,treeLabel:Y.name,treeType:Y.treeType?Y.treeType:"file",editState:Y.editState,treeDragAction:!0,expanded:!1,selected:!1}),treeNodeIdAndObj$1=(Y,T=!1,k="Map")=>{let Z=[...Y].reverse().map(te=>({treeId:te.treeId??generateUniqueId$1(),treeLabel:te.name,treeType:"folder",treeDragAction:!1,parentId:"root",expanded:!0,level:0,treeIconType:"txt",...te})),ee=[];for(;Z.length;){let te=Z.pop(),ne=!1;if(te!=null&&te.children&&te.children.length!==0){ne=!0;const me=te.children.reverse().map(Ve=>({treeId:generateUniqueId$1(),treeLabel:Ve.name,treeType:"folder",treeDragAction:!0,parentId:te.treeId,expanded:!1,level:te.level+1,...Ve}));Z.push(...me)}T?ee.push({...te,isShow:te.treeType==="file"?!1:void 0,children:void 0}):ee.push({...te,treeType:ne?"folder":"file",children:void 0})}return new Map(ee.map(te=>[te.treeId,te]))},childAndParentMap$1=Y=>{const T=new Map;for(const k of Y.values())k.parentId?T.get(k.parentId)?T.get(k.parentId).push(k.treeId):T.set(k.parentId,[k.treeId]):T.get("root")?T.get("root").push(k.treeId):T.set("root",[k.treeId]);return T},findAllChild=(Y,T,k)=>{const Z=[];if(!T||!T.size)return[];const ee=[...T.get(Y)].reverse();for(;ee.length>0;){const te=ee.pop();if(Z.push(te),T.get(te)){const ne=[...T.get(te)].reverse();ne.sort((me,Ve)=>rankRegulation()),ee.push(...ne)}}return Z},rankRegulation=(Y,T,k)=>0,customSort=(Y,T,k)=>findAllChild("root",Y).filter(te=>{var ne,me;return!!(((ne=T.get(te))==null?void 0:ne.parentId)==="root"||(me=T==null?void 0:T.get(T.get(te).parentId))!=null&&me.expanded)}).map(te=>({...T.get(te),selected:k.has(te)})),isShowStateByParent=(Y,T)=>{let k=!0,Z=Y;for(;;){const ee=T.get(Z);if(ee)if(ee.expanded)if(ee.parentId)Z=ee.parentId;else return k;else return!1;else return k}},isDraggedElementParentOfTargetById=(Y,T,k)=>{try{let Z=T,ee=0;for(;ee<100;){if(ee>100||(ee++,Z==="root"))return!1;const te=k.get(Z);if(te.treeId===Y)return!0;Z=te.parentId}}catch(Z){console.error(Z)}return!1},updateLevel=(Y,T,k)=>{const Z=[Y],ee=new Map(k);let te=0;for(;Z.length>0&&te<120;){te++;const ne=Z.pop();ne&&T.get(ne)&&Z.push(...T.get(ne));const me=ee.get(ne),Ve=ee.get(me.parentId);ee.set(ne,{...me,level:Ve.level+1})}return ee},generateUniqueId$1=()=>"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(Y){const T=Math.random()*16|0;return(Y==="x"?T:T&3|8).toString(16)}),deletedTreeNode=(Y,T,k)=>{const Z=T.get(Y),ee=k.get(Y);if(!ee)return{childAndParentMapState:new Map(T),treeNodeIdAndObjMapState:new Map(k)};const te=ee.parentId,ne=new Map(k),me=new Map(T);if(te!==void 0){const Ye=(me.get(te)||[]).filter(et=>et!==Y);me.set(te,Ye)}for(;Z&&Z.length>0;){const Ve=Z.pop(),Ye=me.get(Ve);Ye&&Ye.length>0&&Z.push(...Ye),me.delete(Ve),ne.delete(Ve)}return me.delete(Y),ne.delete(Y),{childAndParentMapState:new Map(me),treeNodeIdAndObjMapState:new Map(ne)}},changeTreeNode=(Y,T,k)=>{const Z=new Map(k);return Z.set(Y,{...Z.get(Y),...T}),Z},StructureDataFunc=(Y,T,k)=>{const Z=k.get(Y),ee=k.get(Z.parentId);let te={name:Z.name,description:Z.description,key:Z.treeId,type:Z.treeType,id:Z.id,parentId:ee.id,children:[]};const ne=T.get(Y);return ne&&(te.children=ne.map(me=>{const Ve=k.get(me);return{...Ve,id:Ve.id,key:Ve.treeId,parentId:ee.id,inputValue:Ve.name}})),te},updateData=(Y,T,k,Z)=>{let ee=new Map(k),te=new Map(Z);const ne=te.get(Y.treeId);if(ne){let me=ne.sort((Ve,Ye)=>T.findIndex(et=>et.treeId===Ve)-T.findIndex(et=>et.treeId===Ye));te.set(Y.treeId,[...me])}return T.forEach(me=>{ee.get(me.treeId)&&ee.set(me.treeId,{...ee.get(me.treeId),name:me.inputValue,keyType:me.keyType,description:me.description,valueType:me.valueType,varType:me.varType,treeLabel:me.inputValue})}),ee.set(Y.treeId,{...ee.get(Y.treeId),name:Y.name,description:Y.description,treeLabel:Y.name}),{tempTreeNodeIdAndObjMapState:ee,tempChildAndParentMapState:te}},buildTreeFromMapsOnStructure=(Y,T,k)=>{const Z=Y.get("root")||[],ee=te=>{let ne=T.get(te),me={...T.get(te)};if(k==="structure"?me=buildTreeFromStructureConfig(ne):k==="variable"&&(me=buildTreeFromVariableConfig(ne)),!me)throw new Error(`Node with id ${te} not found in treeNodeIdAndObjMap map`);const Ye=(Y.get(te)||[]).map(et=>ee(et));return{...me,children:Ye.length>0?Ye:void 0}};return Z.map(te=>ee(te))},buildTreeFromStructureConfig=Y=>{let T={};return Y.treeType==="file"?T={name:Y.name,selected:Y.selected,deletionProhibited:Y.deletionProhibited,description:Y.description,valueType:Y.valueType,keyType:Y.keyType,varDescription:Y.varDescription,varType:Y.varType,treeType:Y.treeType,treeId:Y.treeId,id:Y.id}:T={name:Y.name,selected:Y.selected,deletionProhibited:Y.deletionProhibited,description:Y.description,treeId:Y.treeId,id:Y.id},T},buildTreeFromVariableConfig=Y=>{let T={};return Y.treeType==="file"?T={name:Y.name,description:Y.description,treeType:Y.treeType,varType:Y.varType,valueType:Y.valueType,keyType:Y.keyType,treeId:Y.treeId,id:Y.id}:T={name:Y.name,selected:Y.selected,deletionProhibited:Y.deletionProhibited,treeId:Y.treeId,id:Y.id},T},validateCVariableName=Y=>{const T=["auto","break","case","char","const","continue","default","do","double","else","enum","extern","float","for","goto","if","int","long","register","return","short","signed","sizeof","static","struct","switch","typedef","union","unsigned","void","volatile","while","_Bool","_Complex","_Imaginary","alignas","alignof","atomic_bool","atomic_char","atomic_schar","atomic_uchar","atomic_short","atomic_ushort","atomic_int","atomic_uint","atomic_long","atomic_ulong","atomic_llong","atomic_ullong","atomic_wchar_t","atomic_int_least8_t","atomic_uint_least8_t","atomic_int_least16_t","atomic_uint_least16_t","atomic_int_least32_t","atomic_uint_least32_t","atomic_int_least64_t","atomic_uint_least64_t","atomic_int_fast8_t","atomic_uint_fast8_t","atomic_int_fast16_t","atomic_uint_fast16_t","atomic_int_fast32_t","atomic_uint_fast32_t","atomic_int_fast64_t","atomic_uint_fast64_t","atomic_intmax_t","atomic_uintmax_t","atomic_ptrdiff_t","atomic_size_t","bool","complex","imaginary","noreturn","static_assert","thread_local"];return!Y||Y.trim()===""?{valid:!1,message:"The input value cannot be empty."}:T.includes(Y)?{valid:!1,message:`The input value "${Y}" is a C language keyword.`}:/^[a-zA-Z_]/.test(Y)?/^[a-zA-Z0-9_]*$/.test(Y)?Y.length>31?{valid:!1,message:`The input value "${Y}" is too long; it is recommended to be no more than 31 characters.`}:{valid:!0,message:`The variable name "${Y}" is a valid C language variable name.`}:{valid:!1,message:`The input value "${Y}" contains invalid characters. It can only contain letters, numbers, and underscores.`}:{valid:!1,message:`The input value "${Y}" must start with a letter or an underscore.`}},checkDuplicateName=(Y,T,k,Z)=>{const ee=Y.get(T.get(k).parentId);for(const te of ee)if(T.get(te).name===Z)return!1;return!0};function insertArrayAfterIndex(Y,T,k){if(!Array.isArray(Y))throw new Error("ç¬¬ä¸ä¸ªåæ°å¿é¡»æ¯æ°ç»");if(!Array.isArray(T))throw new Error("ç¬¬äºä¸ªåæ°å¿é¡»æ¯æ°ç»");if(typeof k!="number"||!Number.isInteger(k)||k<-1||k>=Y.length)throw new Error(`ç´¢å¼å¼æ æï¼å¿é¡»æ¯ä»äº-1å${Y.length-1}ä¹é´çæ´æ°`);const Z=[...Y];return Z.splice(k+1,0,...T),Z}function deleteElements(Y,T,k){if(!Array.isArray(Y))throw new Error("ç¬¬ä¸ä¸ªåæ°å¿é¡»æ¯æ°ç»");if(typeof T!="number"||T<0||!Number.isInteger(T))throw new Error("é¿åº¦å¿é¡»æ¯éè´æ´æ°");if(typeof k!="number"||k<-1||!Number.isInteger(k)||k>=Y.length)throw new Error("ä¸æ è¶åºæ°ç»ææèå´");const Z=k+1;if(Z>=Y.length)return[...Y];const ee=[...Y],te=Math.min(T,ee.length-Z);return ee.splice(Z,te),ee}function createOption(Y,T){let k=[];for(let Z=0;Z<Y.length;Z++){let ee=!1;const te=Y[Z];T==="string"?te.dataType==="string"?ee=!1:ee=!0:te.dataType==="string"&&(ee=!0),T===void 0&&(ee=!1),te.type==="folder"&&(ee=!1);let ne={label:te.name,value:te.id,children:void 0,disabled:ee};te.children&&te.children.length&&(ne.children=createOption(te.children,T)),k.push(ne)}return k}const deepClone$1=Y=>{const T=new Map,k=Z=>{if(typeof Z!="object"||Z===null)return Z;if(T.has(Z))return T.get(Z);let ee;if(Z instanceof Array){ee=[],T.set(Z,ee);for(let te=0;te<Z.length;te++)ee.push(k(Z[te]))}else{ee={},T.set(Z,ee);const te=Object.keys(Z);for(let ne=0;ne<te.length;ne++){const me=te[ne];ee[me]=k(Z[me])}}return ee};return k(Y)},convertXmlToJsObject=Y=>libExports$1.xml2js(Y,{compact:!0}).CFG,getOppositeInteger=Y=>Y>0?Math.ceil(Y):Y<0?Math.floor(Y):0,initTreeNode=(Y,T,k,Z)=>({treeId:generateUniqueId$1(),treeLabel:Y[k.label],parentId:T.treeId,expanded:Z,level:T.level+1,source:Y}),treeNodeIdAndObj=(Y,T,k)=>{let Z=[...Y].reverse().map(te=>{var me;let ne=k.autoExpand??!1;return(me=k.expandedKeys)!=null&&me.includes(te[T.id])&&(ne=!ne),{treeId:generateUniqueId$1(),treeLabel:te[T.label],parentId:"root",expanded:ne,level:0,source:te}}),ee=[];for(;Z.length;){let te=Z.pop();if(Array.isArray(te.source[T.children])&&te.source[T.children].length!==0){const ne=te.source[T.children].map(me=>{var Ye;let Ve=k.autoExpand??!1;return(Ye=k.expandedKeys)!=null&&Ye.includes(me[T.id])&&(Ve=!Ve),initTreeNode(me,te,T,Ve)});Z.push(...ne.reverse())}ee.push(te)}return{contentMap:new Map(ee.map(te=>[te.treeId,te])),contentArray:ee}},childAndParentMap=Y=>{const T=new Map;for(const k of Y.values()){const Z=k.parentId??"root";T.has(Z)?T.get(Z).push(k.treeId):T.set(Z,[k.treeId])}return T},defaultRule={id:"id",label:"label",type:"type",children:"children",optionType:"optionType",active:"active",iconType:"iconType"};class NewTreeFlattener{constructor(T){bt(this,"id",generateUniqueId$1());bt(this,"sourceTree",[]);bt(this,"editHistory",[]);bt(this,"defaultConfig",{autoExpand:!1,expandedKeys:[]});bt(this,"flatNodes",[]);bt(this,"sourceIdMapNode",new Map);bt(this,"parentIdMapchildId",new Map);bt(this,"treeIdMapNode",new Map);bt(this,"treeNodeRule",defaultRule);T&&(this.id=T)}differentialBuild(T){const k=treeNodeIdAndObj(T,this.treeNodeRule,{});for(const Z of k.contentArray){const ee=this.getNodeBySourceId(Z.source[this.treeNodeRule.id]);ee&&(Z.expanded=ee.expanded)}this._updateData(T,k),api$1.eventBus.emit(`tree:flattener:update:${this.getId()}`,{})}build(T,k,Z){this.defaultConfig=Z;const ee={...defaultRule,...k};this.treeNodeRule=ee;const te=treeNodeIdAndObj(T,ee,Z);this.sourceTree=T,this.flatNodes=te.contentArray,this.sourceIdMapNode=new Map(this.flatNodes.map(ne=>[ne.source[ee.id],ne])),this.treeIdMapNode=te.contentMap,this.parentIdMapchildId=childAndParentMap(this.treeIdMapNode)}getFlatNodes(){return this.flatNodes}getShow(){return this.flatNodes.filter(T=>this.shouldShowNode(T.treeId))}shouldShowNode(T){var Z;let k=(Z=this.treeIdMapNode.get(T))==null?void 0:Z.parentId;for(;k!==void 0&&k!=="root";){const ee=this.treeIdMapNode.get(k);if(!ee||!ee.expanded)return!1;if(k=ee.parentId,k==="root")break}return!0}getChildren(T){var k;return(k=this.parentIdMapchildId.get(T))==null?void 0:k.map(Z=>this.treeIdMapNode.get(Z))}getNodeByTreeId(T){return this.treeIdMapNode.get(T)}getNodeBySourceId(T){return this.sourceIdMapNode.get(T)}addNewNode(T,k,Z=!0){var Ye;let ee=this.defaultConfig.autoExpand??!1;(Ye=this.defaultConfig.expandedKeys)!=null&&Ye.includes(T[this.treeNodeRule.id])&&(ee=!ee);const te=this.getNodeByTreeId(k);te.expanded=!0;const ne={...initTreeNode(T,te,this.treeNodeRule,ee),shouldRename:Z};this.sourceIdMapNode.set(T[this.treeNodeRule.id],ne),this.parentIdMapchildId.get(k)?this.parentIdMapchildId.get(k).push(ne.treeId):this.parentIdMapchildId.set(k,[ne.treeId]),this.treeIdMapNode.set(ne.treeId,ne);const me=this.flatNodes.findIndex(et=>et.treeId===te.treeId),Ve=this.brotherLength(te);return this.flatNodes=insertArrayAfterIndex(this.flatNodes,[ne],me+Ve-1),api$1.eventBus.emit(`tree:flattener:update:${this.id}`,{parentNode:te}),ne}updateTreeNode(T,k){const Z=this.getNodeByTreeId(k);if(Z){const ee=this.getChildren(Z.parentId);if(ee){const te=ee.find(ne=>ne.treeLabel===T);if(te&&te.treeId!==k)return!1}Z.treeLabel=T,Z.source[this.treeNodeRule.label]=T,delete Z.shouldRename,api$1.eventBus.emit(`tree:flattener:update:${this.id}`,{treeFlattener:this})}return!0}getId(){return this.id}rename(T){this.getNodeByTreeId(T).shouldRename=!0,api$1.eventBus.emit(`tree:flattener:rename:${this.id}`,{treeId:T,treeFlattener:this})}brotherLength(T){const k=this.flatNodes.findIndex(Z=>Z.treeId===T.treeId);for(let Z=k+1;Z<this.flatNodes.length;Z++)if(this.flatNodes[Z].level<=T.level)return Z-k;return this.flatNodes.length-k}deleteTreeNode(T){var te;const k=this.getNodeByTreeId(T);if(!k)return;const Z=this.flatNodes.findIndex(ne=>ne.treeId===k.treeId),ee=this.brotherLength(k);this.parentIdMapchildId.set(k.parentId,[...(te=this.parentIdMapchildId.get(k.parentId))==null?void 0:te.filter(ne=>ne!==k.treeId)]);for(let ne=Z;ne<Z+ee;ne++){let me=this.flatNodes[ne];this.sourceIdMapNode.delete(me.source[this.treeNodeRule.id]),this.parentIdMapchildId.delete(me.treeId),this.treeIdMapNode.delete(me.treeId)}this.flatNodes=deleteElements(this.flatNodes,ee,Z-1),api$1.eventBus.emit(`tree:flattener:update:${this.id}`,{treeFlattener:this})}buildTreeByTreeId(T){const k=[];this.treeIdMapNode.forEach(ee=>ee[this.treeNodeRule.children]=[]);const Z=[...T];for(;Z.length>0;){const ee=Z.shift(),te=this.treeIdMapNode.get(ee);if(!te)continue;(this.parentIdMapchildId.get(ee)||[]).forEach(me=>{const Ve=this.treeIdMapNode.get(me);Ve&&(te[this.treeNodeRule.children].push(Ve),Z.push(me))}),T.includes(ee)&&k.push(te)}return k}buildTree(){const T={treeId:"root",treeLabel:"root",parentId:"",expanded:!0,level:-1,source:{},[this.treeNodeRule.children]:[]};this.treeIdMapNode.forEach(ee=>ee[this.treeNodeRule.children]=[]);const k=this.parentIdMapchildId.get("root")||[];k.forEach(ee=>{const te=this.treeIdMapNode.get(ee);te&&T[this.treeNodeRule.children].push(te)});const Z=[...k];for(;Z.length>0;){const ee=Z.pop(),te=this.treeIdMapNode.get(ee);if(!te)continue;(this.parentIdMapchildId.get(ee)||[]).forEach(me=>{const Ve=this.treeIdMapNode.get(me);Ve&&(te[this.treeNodeRule.children].push(Ve),Z.push(me))})}return T}buildSourceTree(T="root"){const k=this.parentIdMapchildId.get(T)||[],Z=[];if(k.forEach(ee=>{const te=this.treeIdMapNode.get(ee);if(te){const ne={...te.source},me=[];for(this.parentIdMapchildId.has(ee)&&(ne[this.treeNodeRule.children]=[],me.push([te,ne]));me.length>0;){const[Ve,Ye]=me.shift();(this.parentIdMapchildId.get(Ve.treeId)||[]).forEach(tt=>{const it=this.treeIdMapNode.get(tt);if(it){const st={...it.source};this.parentIdMapchildId.has(tt)&&(st[this.treeNodeRule.children]=[]),Ye[this.treeNodeRule.children].push(st),me.push([it,st])}})}Z.push(ne)}}),T!=="root"){const ee=this.treeIdMapNode.get(T);if(ee)return[{...ee.source,[this.treeNodeRule.children]:Z}]}return Z}changeNodeBySourceId(T,k){const Z=this.getNodeBySourceId(T);let ee=!1;if(Z&&Z.source){const te=Z.source;for(const ne in k)Object.hasOwn(k,ne)&&(this.treeNodeRule.label===ne&&(Z.treeLabel=k[ne],ee=!0),Object.hasOwn(te,ne)&&(te[ne]=k[ne]))}return ee}changeNodes(T,k,Z,ee){ee.getFlatNodes()}findValidElements(T,k,Z,ee){const te=ee.getNodeBySourceId(k.id),ne=T.indexOf(te);if(ne===-1)return;let me=null;const Ve=[];for(let Ye=ne;Ye<T.length;Ye++){const et=T[Ye];if(!(me&&me<et.level)&&(me===et.level&&(me=null),et.expanded||(me=et.level),Ve.push(et.source),Ve.length===Z))break}return Ve.filter(Ye=>Ye.optionType===window.API.constant.enum.STRUCT_VAR_RELATION_STRUCT_ELEMENT)}changeNode(T,k,Z=1,ee){let te=!1,ne=[];if(ee){const me=this.findValidElements(ee.getFlatNodes(),T,Z,ee);if(me)for(let Ve=0;Ve<me.length;Ve++){const Ye=me[Ve],et=this.getNodeBySourceId(Ye[this.treeNodeRule.id]);if(et&&et.source){const tt=et.source;for(const it in k)Object.hasOwn(k,it)&&(this.treeNodeRule.label===it&&(et.treeLabel=k[it],te=!0),Object.hasOwn(tt,it)&&(tt[it]!=k[it]&&ne.push({id:tt.id,key:tt[it]}),tt[it]=k[it]))}}}else{const me=this.getNodeBySourceId(T[this.treeNodeRule.id]);if(me&&me.source){const Ve=me.source;for(const Ye in k)Object.hasOwn(k,Ye)&&(this.treeNodeRule.label===Ye&&(me.treeLabel=k[Ye],te=!0),Object.hasOwn(Ve,Ye)&&(Ve[Ye]!=k[Ye]&&ne.push({id:Ve.id,key:Ve[Ye]}),Ve[Ye]=k[Ye]))}}return ne.length&&this.editHistory.push(ne),console.log(this.editHistory),te}_updateData(T,k){this.sourceTree=T,this.flatNodes=k.contentArray,this.sourceIdMapNode=new Map(this.flatNodes.map(Z=>[Z.source[this.treeNodeRule.id],Z])),this.treeIdMapNode=k.contentMap,this.parentIdMapchildId=childAndParentMap(k.contentMap)}}const getGroupOption=(Y,T,k)=>{switch(Y.source.dataType){case window.API.constant.CONNECT_ITEM:{const ee=T.getNodeBySourceId(k[0].id);if(ee){const te=T.getChildren(ee==null?void 0:ee.treeId);if(te){let ne=[];for(const me of te)me.source.dataType===window.API.constant.structAndVarRelation.CONNECT_GROUP&&ne.push({label:me.source.name,value:me.source.id});return ne}}}break}const Z=T.getNodeBySourceId(Y.source.id);if(Z){const ee=T.getNodeByTreeId(Z==null?void 0:Z.parentId);if(ee){const te=T.getChildren(ee==null?void 0:ee.parentId);return te==null?void 0:te.filter(ne=>ne.source.dataType===(ee==null?void 0:ee.source.dataType)).map(ne=>({label:ne.source.name,value:ne.source.id}))}}return[]},getOptionByDataType=(Y,T)=>T.getFlatNodes().filter(Z=>Z.source.dataType===Y).map(Z=>({label:Z.source.name,value:Z.source.id})),staticData=[{id:"variableManagement",name:"Variable Management",comment:"",dataType:PublicOptionModule$1.getOptions(constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[9].value,length:"",formatAdjustment:"",connection:"",group:"",reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-bianliangguanli",connectionParameters:"",optionType:constant.enum.STRUCT_VAR_RELATION_VARIABLE,children:[{id:"internalVariable",name:"åé¨åé",comment:"",dataType:PublicOptionModule$1.getOptions(constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[4].value,length:"",formatAdjustment:"",connection:"",group:"",reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-neibubianliang",optionType:constant.enum.RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE,connectionParameters:""}]},{id:"structManagement",name:"Structural Management",comment:"",dataType:PublicOptionModule$1.getOptions(constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[10].value,length:"",formatAdjustment:"",connection:"",group:"",reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-structure",optionType:constant.enum.STRUCT_VAR_RELATION_STRUCT,connectionParameters:""}];let StructAndVarRelationIntegrateModule$1=class{constructor(){bt(this,"structAndVarRelationIntegrateLocalStoreKey","structAndVarRelationIntegrateLocalStoreKey");bt(this,"structAndVarRelationIntegrateLocalStoreHeadKey","structAndVarRelationIntegrateLocalStoreHeadKey");bt(this,"api",null);bt(this,"data",[]);bt(this,"treeFlattener",new NewTreeFlattener);bt(this,"headData",[]);bt(this,"variableManagementRightClickData",new Set);bt(this,"_api",{});bt(this,"rule",{id:"id",label:"name",optionType:"optionType"})}init(T){this.api=T;const k=localStorage.getItem(this.structAndVarRelationIntegrateLocalStoreKey);k?this.setData(JSON.parse(k)):this.setData(staticData),this.treeFlattener.build(this.data,{},{});const Z=localStorage.getItem(this.structAndVarRelationIntegrateLocalStoreHeadKey);if(Z){const ee=new Map(JSON.parse(Z));for(let te=0;te<headData.length;te++){const ne=headData[te];ee.get(ne.label)&&ne.label&&ee.get(ne.label)>0&&(ne.width=ee.get(ne.label))}}this.setHeadData(headData)}getData(){return this.data}setData(T){this.data=T}getHeadData(){return this.headData}setHeadData(T){this.headData=T;const k=T.map(Z=>[Z.label,Z.width??-1]);localStorage.setItem(this.structAndVarRelationIntegrateLocalStoreHeadKey,JSON.stringify(k))}getRule(){return this.rule}setRule(T){this.rule=T}register(T){this._api=T}getApi(){return this._api}changeData(T,k){}findNodeById(T,k){for(const Z of T){if(Z.id===k)return Z;if(Z.type==="folder"&&Z.children&&Z.children.length>0){const ee=this.findNodeById(Z.children,k);if(ee)return ee}}return null}store(T){localStorage.setItem(this.structAndVarRelationIntegrateLocalStoreKey,JSON.stringify(T))}registerTreeFlattener(T){this.treeFlattener=T}getTreeFlattener(){return this.treeFlattener}};const structAndVarRelationIntegrateModuleObj=new StructAndVarRelationIntegrateModule$1,headData=[{label:"name",value:"name",width:100},{label:"comment",value:"comment",width:100},{label:"dataType",value:"dataType",width:50,type:"select",getOption:()=>OptionManager.getTypeOptions()},{label:"length",value:"length"},{label:"formatAdjustment",value:"formatAdjustment"},{label:"connection",value:"connection",type:"select",getOption:Y=>getOptionByDataType(window.API.constant.structAndVarRelation.MODBUS_TCPIP_CONNECTION,structAndVarRelationIntegrateModuleObj.getTreeFlattener())},{label:"group",value:"group",type:"select",getOption:Y=>getGroupOption(Y,structAndVarRelationIntegrateModuleObj.getTreeFlattener(),staticData)},{label:"reg",value:"reg",type:"select",getOption:Y=>{var T,k,Z;if(Y.source.connection){const ee=structAndVarRelationIntegrateModuleObj.getTreeFlattener().getNodeBySourceId(Y.source.connection);if(ee&&ee.source&&((Z=(k=(T=ee==null?void 0:ee.source)==null?void 0:T.agreement)==null?void 0:k.Regs)!=null&&Z.Reg))return ee.source.agreement.Regs.Reg.map(me=>({label:me._attributes.Name,value:me._attributes.ID}))}return[]}},{label:"attribute",value:Y=>{let T="";if(Y.source.connection.length>0&&Y.source.reg.length>0)try{T=structAndVarRelationIntegrateModuleObj.getTreeFlattener().getNodeBySourceId(Y.source.connection).source.agreement.Regs.Reg.filter(k=>k._attributes.ID===Y.source.reg)[0]._attributes.Attribute}catch{T=""}return T}},{label:"address",value:"address"},{label:"linearCalibration",value:"linearCalibration"},{label:"asRangeFrom",value:"asRangeFrom"},{label:"asRangeTo",value:"asRangeTo"},{label:"osRangeFrom",value:"osRangeFrom"},{label:"osRangeTo",value:"osRangeTo"},{label:"lowerLimit",value:"lowerLimit"},{label:"upperLimit",value:"upperLimit"}];class LvglCanvasModule{constructor(){bt(this,"api",null);bt(this,"lvglCanvasApisWidgetMap",new Map);bt(this,"lvglCanvasApisScreenMap",new Map)}init(T){this.api=T}registerLvglCanvasWidgetApi(T,k){this.lvglCanvasApisWidgetMap.set(T,k),console.log(this.lvglCanvasApisWidgetMap)}getLvglCanvasWidgetApi(T){return this.lvglCanvasApisWidgetMap.get(T)}}const LvglCanvasModule$1=new LvglCanvasModule;class StructAndVarRelationIntegrateModule{constructor(){bt(this,"api",null);bt(this,"treeFlattener",new NewTreeFlattener)}init(T){this.api=T,this.treeFlattener.build([],{},{})}registerTreeFlattener(T){this.treeFlattener=T}getTreeFlattener(){return this.treeFlattener}}const HierachyModule=new StructAndVarRelationIntegrateModule;class AgreementTemplateModule{constructor(){bt(this,"api");bt(this,"template",new Map)}init(T){this.api=T}getTemplate(T){var Z;let k=this.template.get(T);return k?Promise.resolve(k):(Z=this.api)==null?void 0:Z.httpClient.getProtocol(T).then(ee=>{const te=convertXmlToJsObject(String(ee));return this.template.set(T,te),te})}}const AgreementTemplateModule$1=new AgreementTemplateModule;class UtilModule{rightClickOptionSaveLocalStorage(){localStorage.setItem(window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE,JSON.stringify(window.API.constant.rightClickOption.get(window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE)))}rightClickOptionGetLocalStorage(){const T=localStorage.getItem(constant.enum.STRUCT_VAR_RELATION_VARIABLE);T&&constant.rightClickOption.set(constant.enum.STRUCT_VAR_RELATION_VARIABLE,JSON.parse(T))}init(){this.rightClickOptionGetLocalStorage()}}const UtilModule$1=new UtilModule;function bind(Y,T){return function(){return Y.apply(T,arguments)}}const{toString}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,{iterator,toStringTag}=Symbol,kindOf=(Y=>T=>{const k=toString.call(T);return Y[k]||(Y[k]=k.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=Y=>(Y=Y.toLowerCase(),T=>kindOf(T)===Y),typeOfTest=Y=>T=>typeof T===Y,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(Y){return Y!==null&&!isUndefined(Y)&&Y.constructor!==null&&!isUndefined(Y.constructor)&&isFunction$1(Y.constructor.isBuffer)&&Y.constructor.isBuffer(Y)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(Y){let T;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?T=ArrayBuffer.isView(Y):T=Y&&Y.buffer&&isArrayBuffer(Y.buffer),T}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$1=Y=>Y!==null&&typeof Y=="object",isBoolean=Y=>Y===!0||Y===!1,isPlainObject=Y=>{if(kindOf(Y)!=="object")return!1;const T=getPrototypeOf$1(Y);return(T===null||T===Object.prototype||Object.getPrototypeOf(T)===null)&&!(toStringTag in Y)&&!(iterator in Y)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=Y=>isObject$1(Y)&&isFunction$1(Y.pipe),isFormData=Y=>{let T;return Y&&(typeof FormData=="function"&&Y instanceof FormData||isFunction$1(Y.append)&&((T=kindOf(Y))==="formdata"||T==="object"&&isFunction$1(Y.toString)&&Y.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim$1=Y=>Y.trim?Y.trim():Y.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(Y,T,{allOwnKeys:k=!1}={}){if(Y===null||typeof Y>"u")return;let Z,ee;if(typeof Y!="object"&&(Y=[Y]),isArray(Y))for(Z=0,ee=Y.length;Z<ee;Z++)T.call(null,Y[Z],Z,Y);else{const te=k?Object.getOwnPropertyNames(Y):Object.keys(Y),ne=te.length;let me;for(Z=0;Z<ne;Z++)me=te[Z],T.call(null,Y[me],me,Y)}}function findKey(Y,T){T=T.toLowerCase();const k=Object.keys(Y);let Z=k.length,ee;for(;Z-- >0;)if(ee=k[Z],T===ee.toLowerCase())return ee;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=Y=>!isUndefined(Y)&&Y!==_global;function merge(){const{caseless:Y}=isContextDefined(this)&&this||{},T={},k=(Z,ee)=>{const te=Y&&findKey(T,ee)||ee;isPlainObject(T[te])&&isPlainObject(Z)?T[te]=merge(T[te],Z):isPlainObject(Z)?T[te]=merge({},Z):isArray(Z)?T[te]=Z.slice():T[te]=Z};for(let Z=0,ee=arguments.length;Z<ee;Z++)arguments[Z]&&forEach(arguments[Z],k);return T}const extend$1=(Y,T,k,{allOwnKeys:Z}={})=>(forEach(T,(ee,te)=>{k&&isFunction$1(ee)?Y[te]=bind(ee,k):Y[te]=ee},{allOwnKeys:Z}),Y),stripBOM=Y=>(Y.charCodeAt(0)===65279&&(Y=Y.slice(1)),Y),inherits=(Y,T,k,Z)=>{Y.prototype=Object.create(T.prototype,Z),Y.prototype.constructor=Y,Object.defineProperty(Y,"super",{value:T.prototype}),k&&Object.assign(Y.prototype,k)},toFlatObject=(Y,T,k,Z)=>{let ee,te,ne;const me={};if(T=T||{},Y==null)return T;do{for(ee=Object.getOwnPropertyNames(Y),te=ee.length;te-- >0;)ne=ee[te],(!Z||Z(ne,Y,T))&&!me[ne]&&(T[ne]=Y[ne],me[ne]=!0);Y=k!==!1&&getPrototypeOf$1(Y)}while(Y&&(!k||k(Y,T))&&Y!==Object.prototype);return T},endsWith=(Y,T,k)=>{Y=String(Y),(k===void 0||k>Y.length)&&(k=Y.length),k-=T.length;const Z=Y.indexOf(T,k);return Z!==-1&&Z===k},toArray=Y=>{if(!Y)return null;if(isArray(Y))return Y;let T=Y.length;if(!isNumber$2(T))return null;const k=new Array(T);for(;T-- >0;)k[T]=Y[T];return k},isTypedArray=(Y=>T=>Y&&T instanceof Y)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(Y,T)=>{const Z=(Y&&Y[iterator]).call(Y);let ee;for(;(ee=Z.next())&&!ee.done;){const te=ee.value;T.call(Y,te[0],te[1])}},matchAll=(Y,T)=>{let k;const Z=[];for(;(k=Y.exec(T))!==null;)Z.push(k);return Z},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase$1=Y=>Y.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(k,Z,ee){return Z.toUpperCase()+ee}),hasOwnProperty=(({hasOwnProperty:Y})=>(T,k)=>Y.call(T,k))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(Y,T)=>{const k=Object.getOwnPropertyDescriptors(Y),Z={};forEach(k,(ee,te)=>{let ne;(ne=T(ee,te,Y))!==!1&&(Z[te]=ne||ee)}),Object.defineProperties(Y,Z)},freezeMethods=Y=>{reduceDescriptors(Y,(T,k)=>{if(isFunction$1(Y)&&["arguments","caller","callee"].indexOf(k)!==-1)return!1;const Z=Y[k];if(isFunction$1(Z)){if(T.enumerable=!1,"writable"in T){T.writable=!1;return}T.set||(T.set=()=>{throw Error("Can not rewrite read-only method '"+k+"'")})}})},toObjectSet=(Y,T)=>{const k={},Z=ee=>{ee.forEach(te=>{k[te]=!0})};return isArray(Y)?Z(Y):Z(String(Y).split(T)),k},noop$2=()=>{},toFiniteNumber=(Y,T)=>Y!=null&&Number.isFinite(Y=+Y)?Y:T;function isSpecCompliantForm(Y){return!!(Y&&isFunction$1(Y.append)&&Y[toStringTag]==="FormData"&&Y[iterator])}const toJSONObject=Y=>{const T=new Array(10),k=(Z,ee)=>{if(isObject$1(Z)){if(T.indexOf(Z)>=0)return;if(!("toJSON"in Z)){T[ee]=Z;const te=isArray(Z)?[]:{};return forEach(Z,(ne,me)=>{const Ve=k(ne,ee+1);!isUndefined(Ve)&&(te[me]=Ve)}),T[ee]=void 0,te}}return Z};return k(Y,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=Y=>Y&&(isObject$1(Y)||isFunction$1(Y))&&isFunction$1(Y.then)&&isFunction$1(Y.catch),_setImmediate=((Y,T)=>Y?setImmediate:T?((k,Z)=>(_global.addEventListener("message",({source:ee,data:te})=>{ee===_global&&te===k&&Z.length&&Z.shift()()},!1),ee=>{Z.push(ee),_global.postMessage(k,"*")}))(`axios@${Math.random()}`,[]):k=>setTimeout(k))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=Y=>Y!=null&&isFunction$1(Y[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber:isNumber$2,isBoolean,isObject:isObject$1,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend:extend$1,trim:trim$1,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase:toCamelCase$1,noop:noop$2,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(Y,T,k,Z,ee){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=Y,this.name="AxiosError",T&&(this.code=T),k&&(this.config=k),Z&&(this.request=Z),ee&&(this.response=ee,this.status=ee.status?ee.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(Y=>{descriptors[Y]={value:Y}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(Y,T,k,Z,ee,te)=>{const ne=Object.create(prototype$1);return utils$1.toFlatObject(Y,ne,function(Ve){return Ve!==Error.prototype},me=>me!=="isAxiosError"),AxiosError$1.call(ne,Y.message,T,k,Z,ee),ne.cause=Y,ne.name=Y.name,te&&Object.assign(ne,te),ne};const httpAdapter=null;function isVisitable(Y){return utils$1.isPlainObject(Y)||utils$1.isArray(Y)}function removeBrackets(Y){return utils$1.endsWith(Y,"[]")?Y.slice(0,-2):Y}function renderKey(Y,T,k){return Y?Y.concat(T).map(function(ee,te){return ee=removeBrackets(ee),!k&&te?"["+ee+"]":ee}).join(k?".":""):T}function isFlatArray(Y){return utils$1.isArray(Y)&&!Y.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(T){return/^is[A-Z]/.test(T)});function toFormData$1(Y,T,k){if(!utils$1.isObject(Y))throw new TypeError("target must be an object");T=T||new FormData,k=utils$1.toFlatObject(k,{metaTokens:!0,dots:!1,indexes:!1},!1,function(rt,lt){return!utils$1.isUndefined(lt[rt])});const Z=k.metaTokens,ee=k.visitor||et,te=k.dots,ne=k.indexes,Ve=(k.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(T);if(!utils$1.isFunction(ee))throw new TypeError("visitor must be a function");function Ye(nt){if(nt===null)return"";if(utils$1.isDate(nt))return nt.toISOString();if(utils$1.isBoolean(nt))return nt.toString();if(!Ve&&utils$1.isBlob(nt))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(nt)||utils$1.isTypedArray(nt)?Ve&&typeof Blob=="function"?new Blob([nt]):Buffer.from(nt):nt}function et(nt,rt,lt){let ot=nt;if(nt&&!lt&&typeof nt=="object"){if(utils$1.endsWith(rt,"{}"))rt=Z?rt:rt.slice(0,-2),nt=JSON.stringify(nt);else if(utils$1.isArray(nt)&&isFlatArray(nt)||(utils$1.isFileList(nt)||utils$1.endsWith(rt,"[]"))&&(ot=utils$1.toArray(nt)))return rt=removeBrackets(rt),ot.forEach(function(dt,ct){!(utils$1.isUndefined(dt)||dt===null)&&T.append(ne===!0?renderKey([rt],ct,te):ne===null?rt:rt+"[]",Ye(dt))}),!1}return isVisitable(nt)?!0:(T.append(renderKey(lt,rt,te),Ye(nt)),!1)}const tt=[],it=Object.assign(predicates,{defaultVisitor:et,convertValue:Ye,isVisitable});function st(nt,rt){if(!utils$1.isUndefined(nt)){if(tt.indexOf(nt)!==-1)throw Error("Circular reference detected in "+rt.join("."));tt.push(nt),utils$1.forEach(nt,function(ot,ht){(!(utils$1.isUndefined(ot)||ot===null)&&ee.call(T,ot,utils$1.isString(ht)?ht.trim():ht,rt,it))===!0&&st(ot,rt?rt.concat(ht):[ht])}),tt.pop()}}if(!utils$1.isObject(Y))throw new TypeError("data must be an object");return st(Y),T}function encode$1(Y){const T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(Y).replace(/[!'()~]|%20|%00/g,function(Z){return T[Z]})}function AxiosURLSearchParams(Y,T){this._pairs=[],Y&&toFormData$1(Y,this,T)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(T,k){this._pairs.push([T,k])};prototype.toString=function(T){const k=T?function(Z){return T.call(this,Z,encode$1)}:encode$1;return this._pairs.map(function(ee){return k(ee[0])+"="+k(ee[1])},"").join("&")};function encode(Y){return encodeURIComponent(Y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(Y,T,k){if(!T)return Y;const Z=k&&k.encode||encode;utils$1.isFunction(k)&&(k={serialize:k});const ee=k&&k.serialize;let te;if(ee?te=ee(T,k):te=utils$1.isURLSearchParams(T)?T.toString():new AxiosURLSearchParams(T,k).toString(Z),te){const ne=Y.indexOf("#");ne!==-1&&(Y=Y.slice(0,ne)),Y+=(Y.indexOf("?")===-1?"?":"&")+te}return Y}class InterceptorManager{constructor(){this.handlers=[]}use(T,k,Z){return this.handlers.push({fulfilled:T,rejected:k,synchronous:Z?Z.synchronous:!1,runWhen:Z?Z.runWhen:null}),this.handlers.length-1}eject(T){this.handlers[T]&&(this.handlers[T]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(T){utils$1.forEach(this.handlers,function(Z){Z!==null&&T(Z)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$2={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform$1={...utils,...platform$2};function toURLEncodedForm(Y,T){return toFormData$1(Y,new platform$1.classes.URLSearchParams,Object.assign({visitor:function(k,Z,ee,te){return platform$1.isNode&&utils$1.isBuffer(k)?(this.append(Z,k.toString("base64")),!1):te.defaultVisitor.apply(this,arguments)}},T))}function parsePropPath(Y){return utils$1.matchAll(/\w+|\[(\w*)]/g,Y).map(T=>T[0]==="[]"?"":T[1]||T[0])}function arrayToObject(Y){const T={},k=Object.keys(Y);let Z;const ee=k.length;let te;for(Z=0;Z<ee;Z++)te=k[Z],T[te]=Y[te];return T}function formDataToJSON(Y){function T(k,Z,ee,te){let ne=k[te++];if(ne==="__proto__")return!0;const me=Number.isFinite(+ne),Ve=te>=k.length;return ne=!ne&&utils$1.isArray(ee)?ee.length:ne,Ve?(utils$1.hasOwnProp(ee,ne)?ee[ne]=[ee[ne],Z]:ee[ne]=Z,!me):((!ee[ne]||!utils$1.isObject(ee[ne]))&&(ee[ne]=[]),T(k,Z,ee[ne],te)&&utils$1.isArray(ee[ne])&&(ee[ne]=arrayToObject(ee[ne])),!me)}if(utils$1.isFormData(Y)&&utils$1.isFunction(Y.entries)){const k={};return utils$1.forEachEntry(Y,(Z,ee)=>{T(parsePropPath(Z),ee,k,0)}),k}return null}function stringifySafely(Y,T,k){if(utils$1.isString(Y))try{return(T||JSON.parse)(Y),utils$1.trim(Y)}catch(Z){if(Z.name!=="SyntaxError")throw Z}return(k||JSON.stringify)(Y)}const defaults$6={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(T,k){const Z=k.getContentType()||"",ee=Z.indexOf("application/json")>-1,te=utils$1.isObject(T);if(te&&utils$1.isHTMLForm(T)&&(T=new FormData(T)),utils$1.isFormData(T))return ee?JSON.stringify(formDataToJSON(T)):T;if(utils$1.isArrayBuffer(T)||utils$1.isBuffer(T)||utils$1.isStream(T)||utils$1.isFile(T)||utils$1.isBlob(T)||utils$1.isReadableStream(T))return T;if(utils$1.isArrayBufferView(T))return T.buffer;if(utils$1.isURLSearchParams(T))return k.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),T.toString();let me;if(te){if(Z.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(T,this.formSerializer).toString();if((me=utils$1.isFileList(T))||Z.indexOf("multipart/form-data")>-1){const Ve=this.env&&this.env.FormData;return toFormData$1(me?{"files[]":T}:T,Ve&&new Ve,this.formSerializer)}}return te||ee?(k.setContentType("application/json",!1),stringifySafely(T)):T}],transformResponse:[function(T){const k=this.transitional||defaults$6.transitional,Z=k&&k.forcedJSONParsing,ee=this.responseType==="json";if(utils$1.isResponse(T)||utils$1.isReadableStream(T))return T;if(T&&utils$1.isString(T)&&(Z&&!this.responseType||ee)){const ne=!(k&&k.silentJSONParsing)&&ee;try{return JSON.parse(T)}catch(me){if(ne)throw me.name==="SyntaxError"?AxiosError$1.from(me,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):me}}return T}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function(T){return T>=200&&T<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],Y=>{defaults$6.headers[Y]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=Y=>{const T={};let k,Z,ee;return Y&&Y.split(`
`).forEach(function(ne){ee=ne.indexOf(":"),k=ne.substring(0,ee).trim().toLowerCase(),Z=ne.substring(ee+1).trim(),!(!k||T[k]&&ignoreDuplicateOf[k])&&(k==="set-cookie"?T[k]?T[k].push(Z):T[k]=[Z]:T[k]=T[k]?T[k]+", "+Z:Z)}),T},$internals=Symbol("internals");function normalizeHeader(Y){return Y&&String(Y).trim().toLowerCase()}function normalizeValue(Y){return Y===!1||Y==null?Y:utils$1.isArray(Y)?Y.map(normalizeValue):String(Y)}function parseTokens(Y){const T=Object.create(null),k=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Z;for(;Z=k.exec(Y);)T[Z[1]]=Z[2];return T}const isValidHeaderName=Y=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Y.trim());function matchHeaderValue(Y,T,k,Z,ee){if(utils$1.isFunction(Z))return Z.call(this,T,k);if(ee&&(T=k),!!utils$1.isString(T)){if(utils$1.isString(Z))return T.indexOf(Z)!==-1;if(utils$1.isRegExp(Z))return Z.test(T)}}function formatHeader(Y){return Y.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(T,k,Z)=>k.toUpperCase()+Z)}function buildAccessors(Y,T){const k=utils$1.toCamelCase(" "+T);["get","set","has"].forEach(Z=>{Object.defineProperty(Y,Z+k,{value:function(ee,te,ne){return this[Z].call(this,T,ee,te,ne)},configurable:!0})})}let AxiosHeaders$1=class{constructor(T){T&&this.set(T)}set(T,k,Z){const ee=this;function te(me,Ve,Ye){const et=normalizeHeader(Ve);if(!et)throw new Error("header name must be a non-empty string");const tt=utils$1.findKey(ee,et);(!tt||ee[tt]===void 0||Ye===!0||Ye===void 0&&ee[tt]!==!1)&&(ee[tt||Ve]=normalizeValue(me))}const ne=(me,Ve)=>utils$1.forEach(me,(Ye,et)=>te(Ye,et,Ve));if(utils$1.isPlainObject(T)||T instanceof this.constructor)ne(T,k);else if(utils$1.isString(T)&&(T=T.trim())&&!isValidHeaderName(T))ne(parseHeaders(T),k);else if(utils$1.isObject(T)&&utils$1.isIterable(T)){let me={},Ve,Ye;for(const et of T){if(!utils$1.isArray(et))throw TypeError("Object iterator must return a key-value pair");me[Ye=et[0]]=(Ve=me[Ye])?utils$1.isArray(Ve)?[...Ve,et[1]]:[Ve,et[1]]:et[1]}ne(me,k)}else T!=null&&te(k,T,Z);return this}get(T,k){if(T=normalizeHeader(T),T){const Z=utils$1.findKey(this,T);if(Z){const ee=this[Z];if(!k)return ee;if(k===!0)return parseTokens(ee);if(utils$1.isFunction(k))return k.call(this,ee,Z);if(utils$1.isRegExp(k))return k.exec(ee);throw new TypeError("parser must be boolean|regexp|function")}}}has(T,k){if(T=normalizeHeader(T),T){const Z=utils$1.findKey(this,T);return!!(Z&&this[Z]!==void 0&&(!k||matchHeaderValue(this,this[Z],Z,k)))}return!1}delete(T,k){const Z=this;let ee=!1;function te(ne){if(ne=normalizeHeader(ne),ne){const me=utils$1.findKey(Z,ne);me&&(!k||matchHeaderValue(Z,Z[me],me,k))&&(delete Z[me],ee=!0)}}return utils$1.isArray(T)?T.forEach(te):te(T),ee}clear(T){const k=Object.keys(this);let Z=k.length,ee=!1;for(;Z--;){const te=k[Z];(!T||matchHeaderValue(this,this[te],te,T,!0))&&(delete this[te],ee=!0)}return ee}normalize(T){const k=this,Z={};return utils$1.forEach(this,(ee,te)=>{const ne=utils$1.findKey(Z,te);if(ne){k[ne]=normalizeValue(ee),delete k[te];return}const me=T?formatHeader(te):String(te).trim();me!==te&&delete k[te],k[me]=normalizeValue(ee),Z[me]=!0}),this}concat(...T){return this.constructor.concat(this,...T)}toJSON(T){const k=Object.create(null);return utils$1.forEach(this,(Z,ee)=>{Z!=null&&Z!==!1&&(k[ee]=T&&utils$1.isArray(Z)?Z.join(", "):Z)}),k}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([T,k])=>T+": "+k).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(T){return T instanceof this?T:new this(T)}static concat(T,...k){const Z=new this(T);return k.forEach(ee=>Z.set(ee)),Z}static accessor(T){const Z=(this[$internals]=this[$internals]={accessors:{}}).accessors,ee=this.prototype;function te(ne){const me=normalizeHeader(ne);Z[me]||(buildAccessors(ee,ne),Z[me]=!0)}return utils$1.isArray(T)?T.forEach(te):te(T),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:Y},T)=>{let k=T[0].toUpperCase()+T.slice(1);return{get:()=>Y,set(Z){this[k]=Z}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(Y,T){const k=this||defaults$6,Z=T||k,ee=AxiosHeaders$1.from(Z.headers);let te=Z.data;return utils$1.forEach(Y,function(me){te=me.call(k,te,ee.normalize(),T?T.status:void 0)}),ee.normalize(),te}function isCancel$1(Y){return!!(Y&&Y.__CANCEL__)}function CanceledError$1(Y,T,k){AxiosError$1.call(this,Y??"canceled",AxiosError$1.ERR_CANCELED,T,k),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(Y,T,k){const Z=k.config.validateStatus;!k.status||!Z||Z(k.status)?Y(k):T(new AxiosError$1("Request failed with status code "+k.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(k.status/100)-4],k.config,k.request,k))}function parseProtocol(Y){const T=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Y);return T&&T[1]||""}function speedometer(Y,T){Y=Y||10;const k=new Array(Y),Z=new Array(Y);let ee=0,te=0,ne;return T=T!==void 0?T:1e3,function(Ve){const Ye=Date.now(),et=Z[te];ne||(ne=Ye),k[ee]=Ve,Z[ee]=Ye;let tt=te,it=0;for(;tt!==ee;)it+=k[tt++],tt=tt%Y;if(ee=(ee+1)%Y,ee===te&&(te=(te+1)%Y),Ye-ne<T)return;const st=et&&Ye-et;return st?Math.round(it*1e3/st):void 0}}function throttle(Y,T){let k=0,Z=1e3/T,ee,te;const ne=(Ye,et=Date.now())=>{k=et,ee=null,te&&(clearTimeout(te),te=null),Y.apply(null,Ye)};return[(...Ye)=>{const et=Date.now(),tt=et-k;tt>=Z?ne(Ye,et):(ee=Ye,te||(te=setTimeout(()=>{te=null,ne(ee)},Z-tt)))},()=>ee&&ne(ee)]}const progressEventReducer=(Y,T,k=3)=>{let Z=0;const ee=speedometer(50,250);return throttle(te=>{const ne=te.loaded,me=te.lengthComputable?te.total:void 0,Ve=ne-Z,Ye=ee(Ve),et=ne<=me;Z=ne;const tt={loaded:ne,total:me,progress:me?ne/me:void 0,bytes:Ve,rate:Ye||void 0,estimated:Ye&&me&&et?(me-ne)/Ye:void 0,event:te,lengthComputable:me!=null,[T?"download":"upload"]:!0};Y(tt)},k)},progressEventDecorator=(Y,T)=>{const k=Y!=null;return[Z=>T[0]({lengthComputable:k,total:Y,loaded:Z}),T[1]]},asyncDecorator=Y=>(...T)=>utils$1.asap(()=>Y(...T)),isURLSameOrigin=platform$1.hasStandardBrowserEnv?((Y,T)=>k=>(k=new URL(k,platform$1.origin),Y.protocol===k.protocol&&Y.host===k.host&&(T||Y.port===k.port)))(new URL(platform$1.origin),platform$1.navigator&&/(msie|trident)/i.test(platform$1.navigator.userAgent)):()=>!0,cookies=platform$1.hasStandardBrowserEnv?{write(Y,T,k,Z,ee,te){const ne=[Y+"="+encodeURIComponent(T)];utils$1.isNumber(k)&&ne.push("expires="+new Date(k).toGMTString()),utils$1.isString(Z)&&ne.push("path="+Z),utils$1.isString(ee)&&ne.push("domain="+ee),te===!0&&ne.push("secure"),document.cookie=ne.join("; ")},read(Y){const T=document.cookie.match(new RegExp("(^|;\\s*)("+Y+")=([^;]*)"));return T?decodeURIComponent(T[3]):null},remove(Y){this.write(Y,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(Y){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Y)}function combineURLs(Y,T){return T?Y.replace(/\/?\/$/,"")+"/"+T.replace(/^\/+/,""):Y}function buildFullPath(Y,T,k){let Z=!isAbsoluteURL(T);return Y&&(Z||k==!1)?combineURLs(Y,T):T}const headersToObject=Y=>Y instanceof AxiosHeaders$1?{...Y}:Y;function mergeConfig$1(Y,T){T=T||{};const k={};function Z(Ye,et,tt,it){return utils$1.isPlainObject(Ye)&&utils$1.isPlainObject(et)?utils$1.merge.call({caseless:it},Ye,et):utils$1.isPlainObject(et)?utils$1.merge({},et):utils$1.isArray(et)?et.slice():et}function ee(Ye,et,tt,it){if(utils$1.isUndefined(et)){if(!utils$1.isUndefined(Ye))return Z(void 0,Ye,tt,it)}else return Z(Ye,et,tt,it)}function te(Ye,et){if(!utils$1.isUndefined(et))return Z(void 0,et)}function ne(Ye,et){if(utils$1.isUndefined(et)){if(!utils$1.isUndefined(Ye))return Z(void 0,Ye)}else return Z(void 0,et)}function me(Ye,et,tt){if(tt in T)return Z(Ye,et);if(tt in Y)return Z(void 0,Ye)}const Ve={url:te,method:te,data:te,baseURL:ne,transformRequest:ne,transformResponse:ne,paramsSerializer:ne,timeout:ne,timeoutMessage:ne,withCredentials:ne,withXSRFToken:ne,adapter:ne,responseType:ne,xsrfCookieName:ne,xsrfHeaderName:ne,onUploadProgress:ne,onDownloadProgress:ne,decompress:ne,maxContentLength:ne,maxBodyLength:ne,beforeRedirect:ne,transport:ne,httpAgent:ne,httpsAgent:ne,cancelToken:ne,socketPath:ne,responseEncoding:ne,validateStatus:me,headers:(Ye,et,tt)=>ee(headersToObject(Ye),headersToObject(et),tt,!0)};return utils$1.forEach(Object.keys(Object.assign({},Y,T)),function(et){const tt=Ve[et]||ee,it=tt(Y[et],T[et],et);utils$1.isUndefined(it)&&tt!==me||(k[et]=it)}),k}const resolveConfig=Y=>{const T=mergeConfig$1({},Y);let{data:k,withXSRFToken:Z,xsrfHeaderName:ee,xsrfCookieName:te,headers:ne,auth:me}=T;T.headers=ne=AxiosHeaders$1.from(ne),T.url=buildURL(buildFullPath(T.baseURL,T.url,T.allowAbsoluteUrls),Y.params,Y.paramsSerializer),me&&ne.set("Authorization","Basic "+btoa((me.username||"")+":"+(me.password?unescape(encodeURIComponent(me.password)):"")));let Ve;if(utils$1.isFormData(k)){if(platform$1.hasStandardBrowserEnv||platform$1.hasStandardBrowserWebWorkerEnv)ne.setContentType(void 0);else if((Ve=ne.getContentType())!==!1){const[Ye,...et]=Ve?Ve.split(";").map(tt=>tt.trim()).filter(Boolean):[];ne.setContentType([Ye||"multipart/form-data",...et].join("; "))}}if(platform$1.hasStandardBrowserEnv&&(Z&&utils$1.isFunction(Z)&&(Z=Z(T)),Z||Z!==!1&&isURLSameOrigin(T.url))){const Ye=ee&&te&&cookies.read(te);Ye&&ne.set(ee,Ye)}return T},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(Y){return new Promise(function(k,Z){const ee=resolveConfig(Y);let te=ee.data;const ne=AxiosHeaders$1.from(ee.headers).normalize();let{responseType:me,onUploadProgress:Ve,onDownloadProgress:Ye}=ee,et,tt,it,st,nt;function rt(){st&&st(),nt&&nt(),ee.cancelToken&&ee.cancelToken.unsubscribe(et),ee.signal&&ee.signal.removeEventListener("abort",et)}let lt=new XMLHttpRequest;lt.open(ee.method.toUpperCase(),ee.url,!0),lt.timeout=ee.timeout;function ot(){if(!lt)return;const dt=AxiosHeaders$1.from("getAllResponseHeaders"in lt&&lt.getAllResponseHeaders()),ut={data:!me||me==="text"||me==="json"?lt.responseText:lt.response,status:lt.status,statusText:lt.statusText,headers:dt,config:Y,request:lt};settle(function(vt){k(vt),rt()},function(vt){Z(vt),rt()},ut),lt=null}"onloadend"in lt?lt.onloadend=ot:lt.onreadystatechange=function(){!lt||lt.readyState!==4||lt.status===0&&!(lt.responseURL&&lt.responseURL.indexOf("file:")===0)||setTimeout(ot)},lt.onabort=function(){lt&&(Z(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,Y,lt)),lt=null)},lt.onerror=function(){Z(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,Y,lt)),lt=null},lt.ontimeout=function(){let ct=ee.timeout?"timeout of "+ee.timeout+"ms exceeded":"timeout exceeded";const ut=ee.transitional||transitionalDefaults;ee.timeoutErrorMessage&&(ct=ee.timeoutErrorMessage),Z(new AxiosError$1(ct,ut.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,Y,lt)),lt=null},te===void 0&&ne.setContentType(null),"setRequestHeader"in lt&&utils$1.forEach(ne.toJSON(),function(ct,ut){lt.setRequestHeader(ut,ct)}),utils$1.isUndefined(ee.withCredentials)||(lt.withCredentials=!!ee.withCredentials),me&&me!=="json"&&(lt.responseType=ee.responseType),Ye&&([it,nt]=progressEventReducer(Ye,!0),lt.addEventListener("progress",it)),Ve&&lt.upload&&([tt,st]=progressEventReducer(Ve),lt.upload.addEventListener("progress",tt),lt.upload.addEventListener("loadend",st)),(ee.cancelToken||ee.signal)&&(et=dt=>{lt&&(Z(!dt||dt.type?new CanceledError$1(null,Y,lt):dt),lt.abort(),lt=null)},ee.cancelToken&&ee.cancelToken.subscribe(et),ee.signal&&(ee.signal.aborted?et():ee.signal.addEventListener("abort",et)));const ht=parseProtocol(ee.url);if(ht&&platform$1.protocols.indexOf(ht)===-1){Z(new AxiosError$1("Unsupported protocol "+ht+":",AxiosError$1.ERR_BAD_REQUEST,Y));return}lt.send(te||null)})},composeSignals=(Y,T)=>{const{length:k}=Y=Y?Y.filter(Boolean):[];if(T||k){let Z=new AbortController,ee;const te=function(Ye){if(!ee){ee=!0,me();const et=Ye instanceof Error?Ye:this.reason;Z.abort(et instanceof AxiosError$1?et:new CanceledError$1(et instanceof Error?et.message:et))}};let ne=T&&setTimeout(()=>{ne=null,te(new AxiosError$1(`timeout ${T} of ms exceeded`,AxiosError$1.ETIMEDOUT))},T);const me=()=>{Y&&(ne&&clearTimeout(ne),ne=null,Y.forEach(Ye=>{Ye.unsubscribe?Ye.unsubscribe(te):Ye.removeEventListener("abort",te)}),Y=null)};Y.forEach(Ye=>Ye.addEventListener("abort",te));const{signal:Ve}=Z;return Ve.unsubscribe=()=>utils$1.asap(me),Ve}},streamChunk=function*(Y,T){let k=Y.byteLength;if(k<T){yield Y;return}let Z=0,ee;for(;Z<k;)ee=Z+T,yield Y.slice(Z,ee),Z=ee},readBytes=async function*(Y,T){for await(const k of readStream(Y))yield*streamChunk(k,T)},readStream=async function*(Y){if(Y[Symbol.asyncIterator]){yield*Y;return}const T=Y.getReader();try{for(;;){const{done:k,value:Z}=await T.read();if(k)break;yield Z}}finally{await T.cancel()}},trackStream=(Y,T,k,Z)=>{const ee=readBytes(Y,T);let te=0,ne,me=Ve=>{ne||(ne=!0,Z&&Z(Ve))};return new ReadableStream({async pull(Ve){try{const{done:Ye,value:et}=await ee.next();if(Ye){me(),Ve.close();return}let tt=et.byteLength;if(k){let it=te+=tt;k(it)}Ve.enqueue(new Uint8Array(et))}catch(Ye){throw me(Ye),Ye}},cancel(Ve){return me(Ve),ee.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(Y=>T=>Y.encode(T))(new TextEncoder):async Y=>new Uint8Array(await new Response(Y).arrayBuffer())),test=(Y,...T)=>{try{return!!Y(...T)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let Y=!1;const T=new Request(platform$1.origin,{body:new ReadableStream,method:"POST",get duplex(){return Y=!0,"half"}}).headers.has("Content-Type");return Y&&!T}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(Y=>Y.body)};isFetchSupported&&(Y=>{["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!resolvers[T]&&(resolvers[T]=utils$1.isFunction(Y[T])?k=>k[T]():(k,Z)=>{throw new AxiosError$1(`Response type '${T}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,Z)})})})(new Response);const getBodyLength=async Y=>{if(Y==null)return 0;if(utils$1.isBlob(Y))return Y.size;if(utils$1.isSpecCompliantForm(Y))return(await new Request(platform$1.origin,{method:"POST",body:Y}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(Y)||utils$1.isArrayBuffer(Y))return Y.byteLength;if(utils$1.isURLSearchParams(Y)&&(Y=Y+""),utils$1.isString(Y))return(await encodeText(Y)).byteLength},resolveBodyLength=async(Y,T)=>{const k=utils$1.toFiniteNumber(Y.getContentLength());return k??getBodyLength(T)},fetchAdapter=isFetchSupported&&(async Y=>{let{url:T,method:k,data:Z,signal:ee,cancelToken:te,timeout:ne,onDownloadProgress:me,onUploadProgress:Ve,responseType:Ye,headers:et,withCredentials:tt="same-origin",fetchOptions:it}=resolveConfig(Y);Ye=Ye?(Ye+"").toLowerCase():"text";let st=composeSignals([ee,te&&te.toAbortSignal()],ne),nt;const rt=st&&st.unsubscribe&&(()=>{st.unsubscribe()});let lt;try{if(Ve&&supportsRequestStream&&k!=="get"&&k!=="head"&&(lt=await resolveBodyLength(et,Z))!==0){let ut=new Request(T,{method:"POST",body:Z,duplex:"half"}),ft;if(utils$1.isFormData(Z)&&(ft=ut.headers.get("content-type"))&&et.setContentType(ft),ut.body){const[vt,mt]=progressEventDecorator(lt,progressEventReducer(asyncDecorator(Ve)));Z=trackStream(ut.body,DEFAULT_CHUNK_SIZE,vt,mt)}}utils$1.isString(tt)||(tt=tt?"include":"omit");const ot="credentials"in Request.prototype;nt=new Request(T,{...it,signal:st,method:k.toUpperCase(),headers:et.normalize().toJSON(),body:Z,duplex:"half",credentials:ot?tt:void 0});let ht=await fetch(nt,it);const dt=supportsResponseStream&&(Ye==="stream"||Ye==="response");if(supportsResponseStream&&(me||dt&&rt)){const ut={};["status","statusText","headers"].forEach(_t=>{ut[_t]=ht[_t]});const ft=utils$1.toFiniteNumber(ht.headers.get("content-length")),[vt,mt]=me&&progressEventDecorator(ft,progressEventReducer(asyncDecorator(me),!0))||[];ht=new Response(trackStream(ht.body,DEFAULT_CHUNK_SIZE,vt,()=>{mt&&mt(),rt&&rt()}),ut)}Ye=Ye||"text";let ct=await resolvers[utils$1.findKey(resolvers,Ye)||"text"](ht,Y);return!dt&&rt&&rt(),await new Promise((ut,ft)=>{settle(ut,ft,{data:ct,headers:AxiosHeaders$1.from(ht.headers),status:ht.status,statusText:ht.statusText,config:Y,request:nt})})}catch(ot){throw rt&&rt(),ot&&ot.name==="TypeError"&&/Load failed|fetch/i.test(ot.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,Y,nt),{cause:ot.cause||ot}):AxiosError$1.from(ot,ot&&ot.code,Y,nt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(Y,T)=>{if(Y){try{Object.defineProperty(Y,"name",{value:T})}catch{}Object.defineProperty(Y,"adapterName",{value:T})}});const renderReason=Y=>`- ${Y}`,isResolvedHandle=Y=>utils$1.isFunction(Y)||Y===null||Y===!1,adapters={getAdapter:Y=>{Y=utils$1.isArray(Y)?Y:[Y];const{length:T}=Y;let k,Z;const ee={};for(let te=0;te<T;te++){k=Y[te];let ne;if(Z=k,!isResolvedHandle(k)&&(Z=knownAdapters[(ne=String(k)).toLowerCase()],Z===void 0))throw new AxiosError$1(`Unknown adapter '${ne}'`);if(Z)break;ee[ne||"#"+te]=Z}if(!Z){const te=Object.entries(ee).map(([me,Ve])=>`adapter ${me} `+(Ve===!1?"is not supported by the environment":"is not available in the build"));let ne=T?te.length>1?`since :
`+te.map(renderReason).join(`
`):" "+renderReason(te[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+ne,"ERR_NOT_SUPPORT")}return Z},adapters:knownAdapters};function throwIfCancellationRequested(Y){if(Y.cancelToken&&Y.cancelToken.throwIfRequested(),Y.signal&&Y.signal.aborted)throw new CanceledError$1(null,Y)}function dispatchRequest(Y){return throwIfCancellationRequested(Y),Y.headers=AxiosHeaders$1.from(Y.headers),Y.data=transformData.call(Y,Y.transformRequest),["post","put","patch"].indexOf(Y.method)!==-1&&Y.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(Y.adapter||defaults$6.adapter)(Y).then(function(Z){return throwIfCancellationRequested(Y),Z.data=transformData.call(Y,Y.transformResponse,Z),Z.headers=AxiosHeaders$1.from(Z.headers),Z},function(Z){return isCancel$1(Z)||(throwIfCancellationRequested(Y),Z&&Z.response&&(Z.response.data=transformData.call(Y,Y.transformResponse,Z.response),Z.response.headers=AxiosHeaders$1.from(Z.response.headers))),Promise.reject(Z)})}const VERSION$1="1.10.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((Y,T)=>{validators$1[Y]=function(Z){return typeof Z===Y||"a"+(T<1?"n ":" ")+Y}});const deprecatedWarnings={};validators$1.transitional=function(T,k,Z){function ee(te,ne){return"[Axios v"+VERSION$1+"] Transitional option '"+te+"'"+ne+(Z?". "+Z:"")}return(te,ne,me)=>{if(T===!1)throw new AxiosError$1(ee(ne," has been removed"+(k?" in "+k:"")),AxiosError$1.ERR_DEPRECATED);return k&&!deprecatedWarnings[ne]&&(deprecatedWarnings[ne]=!0,console.warn(ee(ne," has been deprecated since v"+k+" and will be removed in the near future"))),T?T(te,ne,me):!0}};validators$1.spelling=function(T){return(k,Z)=>(console.warn(`${Z} is likely a misspelling of ${T}`),!0)};function assertOptions(Y,T,k){if(typeof Y!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const Z=Object.keys(Y);let ee=Z.length;for(;ee-- >0;){const te=Z[ee],ne=T[te];if(ne){const me=Y[te],Ve=me===void 0||ne(me,te,Y);if(Ve!==!0)throw new AxiosError$1("option "+te+" must be "+Ve,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(k!==!0)throw new AxiosError$1("Unknown option "+te,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(T){this.defaults=T||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(T,k){try{return await this._request(T,k)}catch(Z){if(Z instanceof Error){let ee={};Error.captureStackTrace?Error.captureStackTrace(ee):ee=new Error;const te=ee.stack?ee.stack.replace(/^.+\n/,""):"";try{Z.stack?te&&!String(Z.stack).endsWith(te.replace(/^.+\n.+\n/,""))&&(Z.stack+=`
`+te):Z.stack=te}catch{}}throw Z}}_request(T,k){typeof T=="string"?(k=k||{},k.url=T):k=T||{},k=mergeConfig$1(this.defaults,k);const{transitional:Z,paramsSerializer:ee,headers:te}=k;Z!==void 0&&validator.assertOptions(Z,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),ee!=null&&(utils$1.isFunction(ee)?k.paramsSerializer={serialize:ee}:validator.assertOptions(ee,{encode:validators.function,serialize:validators.function},!0)),k.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?k.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:k.allowAbsoluteUrls=!0),validator.assertOptions(k,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),k.method=(k.method||this.defaults.method||"get").toLowerCase();let ne=te&&utils$1.merge(te.common,te[k.method]);te&&utils$1.forEach(["delete","get","head","post","put","patch","common"],nt=>{delete te[nt]}),k.headers=AxiosHeaders$1.concat(ne,te);const me=[];let Ve=!0;this.interceptors.request.forEach(function(rt){typeof rt.runWhen=="function"&&rt.runWhen(k)===!1||(Ve=Ve&&rt.synchronous,me.unshift(rt.fulfilled,rt.rejected))});const Ye=[];this.interceptors.response.forEach(function(rt){Ye.push(rt.fulfilled,rt.rejected)});let et,tt=0,it;if(!Ve){const nt=[dispatchRequest.bind(this),void 0];for(nt.unshift.apply(nt,me),nt.push.apply(nt,Ye),it=nt.length,et=Promise.resolve(k);tt<it;)et=et.then(nt[tt++],nt[tt++]);return et}it=me.length;let st=k;for(tt=0;tt<it;){const nt=me[tt++],rt=me[tt++];try{st=nt(st)}catch(lt){rt.call(this,lt);break}}try{et=dispatchRequest.call(this,st)}catch(nt){return Promise.reject(nt)}for(tt=0,it=Ye.length;tt<it;)et=et.then(Ye[tt++],Ye[tt++]);return et}getUri(T){T=mergeConfig$1(this.defaults,T);const k=buildFullPath(T.baseURL,T.url,T.allowAbsoluteUrls);return buildURL(k,T.params,T.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(T){Axios$1.prototype[T]=function(k,Z){return this.request(mergeConfig$1(Z||{},{method:T,url:k,data:(Z||{}).data}))}});utils$1.forEach(["post","put","patch"],function(T){function k(Z){return function(te,ne,me){return this.request(mergeConfig$1(me||{},{method:T,headers:Z?{"Content-Type":"multipart/form-data"}:{},url:te,data:ne}))}}Axios$1.prototype[T]=k(),Axios$1.prototype[T+"Form"]=k(!0)});let CancelToken$1=class za{constructor(T){if(typeof T!="function")throw new TypeError("executor must be a function.");let k;this.promise=new Promise(function(te){k=te});const Z=this;this.promise.then(ee=>{if(!Z._listeners)return;let te=Z._listeners.length;for(;te-- >0;)Z._listeners[te](ee);Z._listeners=null}),this.promise.then=ee=>{let te;const ne=new Promise(me=>{Z.subscribe(me),te=me}).then(ee);return ne.cancel=function(){Z.unsubscribe(te)},ne},T(function(te,ne,me){Z.reason||(Z.reason=new CanceledError$1(te,ne,me),k(Z.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(T){if(this.reason){T(this.reason);return}this._listeners?this._listeners.push(T):this._listeners=[T]}unsubscribe(T){if(!this._listeners)return;const k=this._listeners.indexOf(T);k!==-1&&this._listeners.splice(k,1)}toAbortSignal(){const T=new AbortController,k=Z=>{T.abort(Z)};return this.subscribe(k),T.signal.unsubscribe=()=>this.unsubscribe(k),T.signal}static source(){let T;return{token:new za(function(ee){T=ee}),cancel:T}}};function spread$1(Y){return function(k){return Y.apply(null,k)}}function isAxiosError$1(Y){return utils$1.isObject(Y)&&Y.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([Y,T])=>{HttpStatusCode$1[T]=Y});function createInstance(Y){const T=new Axios$1(Y),k=bind(Axios$1.prototype.request,T);return utils$1.extend(k,Axios$1.prototype,T,{allOwnKeys:!0}),utils$1.extend(k,T,null,{allOwnKeys:!0}),k.create=function(ee){return createInstance(mergeConfig$1(Y,ee))},k}const axios=createInstance(defaults$6);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(T){return Promise.all(T)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=Y=>formDataToJSON(utils$1.isHTMLForm(Y)?new FormData(Y):Y);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;class HttpClientModule{constructor(){bt(this,"httpInstance",axios.create({baseURL:constant.https.baseURL,timeout:3e4,headers:{"Content-Type":"application/json;charset=utf-8"}}));this.httpInstance.interceptors.request.use(T=>T,T=>(console.error("è¯·æ±éç½®éè¯¯:",T),Promise.reject(T))),this.httpInstance.interceptors.response.use(T=>T.data,T=>(console.error("ååºéè¯¯:",T),T.response&&T.response.status,Promise.reject(T)))}getProtocolList(){return this.httpInstance.get("/protocols")}getProtocol(T){return this.httpInstance.get(`/protocol/${T}`)}}const HttpClientModule$1=new HttpClientModule;function variableNodeToDes(Y){return{name:Y.name,id:Y.id,valueType:Y.keyType,keyType:Y.valueType,containerType:Y.varType??api$1.optionManager.containerOptions[0].varType,description:Y.description}}function getVariableList(Y){return Y.map(k=>variableNodeToDes(k))}function varDesToData(Y){return Y.map(k=>({description:k.description,keyType:k.valueType,name:k.name,selected:!1,treeType:"file",valueType:k.keyType,varType:k.containerType}))}function setVariableList(Y){const k={id:"variable_root",name:"variable",selected:!0,deletionProhibited:!0,children:varDesToData(Y)};api$1.variable.setVariable(k),api$1.eventBus.emit("variable:update",{})}function setStructureList(Y){const k={id:"structure_root",name:"structure",selected:!1,deletionProhibited:!0,description:"",children:Y.map(Z=>({id:Z.id,name:Z.name,selected:!1,deletionProhibited:!1,description:Z.description,children:varDesToData(Z.children??[])}))};api$1.structure.setStructure(k),api$1.eventBus.emit("structure:update",{})}const api$1={shortcut:ShortcutModule,dockView:DockViewModule,structure:StructureModule$1,variable:VariableModule$1,eventBus:EventBusModule$3,optionManager:OptionManager,publicOptionManager:PublicOptionModule$1,popUp:PopUpModule$1,message:MessageModule$1,constant,structAndVarRelationIntegrate:structAndVarRelationIntegrateModuleObj,LvglCanvas:LvglCanvasModule$1,hierachy:HierachyModule,agreementTemplate:AgreementTemplateModule$1,util:UtilModule$1,httpClient:HttpClientModule$1,init(){Object.values(this).forEach(Y=>{typeof Y.init=="function"&&Y.init(this)})}},search="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1753755695983'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='3648'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M764.352%20809.6a424%20424%200%201%201%2045.184-45.184l139.456%20139.392a32%2032%200%200%201-45.184%2045.184l-139.456-139.456z%20m83.648-321.6a360%20360%200%201%200-720%200%20360%20360%200%200%200%20720%200z'%20fill='%23ffffff'%20p-id='3649'%3e%3c/path%3e%3c/svg%3e",handleInputConfirm$2=(Y,T,k,Z)=>{if(Y.key!=="Enter")return;Y.preventDefault();const ee=get$2(T).trim();ee&&(k()(ee),Z("confirmSearch",{searchState:ee}))};var root$2E=template('<div class="search svelte-eunl2j"><label class="svelte-eunl2j"><img alt="search" class="svelte-eunl2j"> <input class="clear-input svelte-eunl2j" placeholder="Search"></label></div>');function Search(Y,T){push(T,!0);let k=prop(T,"value",3,""),Z=prop(T,"onChange",3,()=>{}),ee=prop(T,"onConfirm",3,()=>{}),te=state(proxy(k()));user_effect(()=>{set(te,k())}),user_effect(()=>{Z()(get$2(te))});const ne=createEventDispatcher(),me=it=>{it.preventDefault();const st=get$2(te).trim();st&&(ee()(st),ne("confirmSearch",{searchState:st}))};var Ve=root$2E(),Ye=child(Ve),et=child(Ye);set_attribute(et,"src",search);var tt=sibling(et,2);tt.__keydown=[handleInputConfirm$2,te,ee,ne],event("blur",tt,me),bind_value(tt,()=>get$2(te),it=>set(te,it)),append(Y,Ve),pop()}delegate(["keydown"]);var on_click$D=(Y,T)=>{T(Number(Y.target.dataset.value))},root_3$I=template('<div class="select-option svelte-sd4nbf"> </div>'),root_1$1Y=template('<div tabindex="-1"><!> <div class="select-content default-width svelte-sd4nbf"><div class="select-select default-width svelte-sd4nbf"></div></div></div>');function Select$1(Y,T){push(T,!0);let k=state(proxy([])),Z=state(proxy([])),ee=state(-1),te=state("none"),ne=state(!1),me=state(!0),Ve=state(proxy({top:"",left:"",width:"fit-content",height:"120px"})),Ye=null;const et=ut=>{set(Z,proxy(ut)),set(k,proxy(ut))},tt=ut=>{set(me,proxy(ut.show)),ut.show&&set(te,proxy(ut.show?"flex":"none")),set(Ve,proxy({...get$2(Ve),top:ut.top??get$2(Ve).top,left:ut.left??get$2(Ve).left,width:ut.width??get$2(Ve).width,height:ut.height??get$2(Ve).height})),set(ee,proxy(get$2(Z).findIndex(ft=>ft.value===ut.selectLabel)))};function it(ut,ft){const vt=ut.toLowerCase();return ft.filter(_t=>_t.value.toLowerCase().startsWith(vt)).sort((_t,Et)=>_t.value<Et.value?-1:_t.value>Et.value?1:0)}const st=ut=>{api$1.eventBus.emit(controlVariablePopUpEventBus,{...get$2(Z)[ut]}),set(te,"none")},nt=ut=>(Ye&&api$1.eventBus.off(controlVariablePopUpEventBus,Ye),Ye=ft=>{typeof ut=="function"&&ut(ft)},api$1.eventBus.on(controlVariablePopUpEventBus,Ye),()=>{api$1.eventBus.off(controlVariablePopUpEventBus,Ye)}),rt=(ut,ft)=>{if(ft){set(ee,proxy(get$2(Z).findIndex(vt=>vt.value===ut))),set(te,"flex");return}if(set(Z,proxy(it(ut,get$2(k)))),get$2(k).length===get$2(Z).length){set(ee,-1);return}if(ut===""){set(ee,-1);return}if(get$2(Z).length){set(ee,0),set(te,"flex");return}else set(te,"none")},lt=()=>{set(Z,proxy([])),set(k,proxy([])),set(ee,-1),set(Ve,proxy({top:"",left:"",width:"fit-content",height:"120px"}))},ot=ut=>{ut.target.closest(`.${controlVariablePopUpEventBus}`)||(get$2(me)?set(me,!1):set(te,"none"))};onMount(()=>{api$1.popUp.registerPopUp(controlVariablePopUpEventBus,{changeOptions:ut=>{et(ut)},changeShow:ut=>{tt(ut)},getSelectData:ut=>nt(ut),newSuggestion:(ut,ft)=>{rt(ut,ft)},clearState:()=>{lt()},used:!1}),document.addEventListener("click",ot)}),onDestroy(()=>{Ye&&api$1.eventBus.off(controlVariablePopUpEventBus,Ye),document.removeEventListener("click",ot)});var ht=comment(),dt=first_child(ht);{var ct=ut=>{var ft=root_1$1Y();set_class(ft,1,`wrapper ${controlVariablePopUpEventBus}`,"svelte-sd4nbf");var vt=child(ft);if_block(vt,Et=>{});var mt=sibling(vt,2),_t=child(mt);_t.__click=[on_click$D,st],each(_t,21,()=>get$2(Z),index,(Et,Tt,xt)=>{var yt=root_3$I();set_attribute(yt,"data-value",xt);var St=child(yt);template_effect(()=>{set_style(yt,`background-color: ${(get$2(ee)===xt?"#1677ff":"")??""};`),set_text(St,get$2(Tt).label)}),append(Et,yt)}),template_effect(()=>set_style(ft,`display: ${get$2(te)??""}; top: ${get$2(Ve).top??""}px; left: ${get$2(Ve).left??""}px; width: ${get$2(Ve).width??""};heigth:${get$2(Ve).height??""}`)),event("focus",ft,()=>{set(ne,!0)}),event("blur",ft,()=>{set(ne,!1)}),append(ut,ft)};if_block(dt,ut=>{get$2(Z).length!=0&&ut(ct)})}append(Y,ht),pop()}delegate(["click"]);var root$2D=template("<div><!></div>");function Accordion(Y,T){push(T,!0);let k=prop(T,"isSingle",3,!1),Z=rest_props(T,["$$slots","$$events","$$legacy","children","flush","activeClass","inactiveClass","isSingle","class"]);const ee={flush:T.flush,activeClass:T.activeClass,inactiveClass:T.inactiveClass,isSingle:k()};setContext("ctx",ee);const te=derived$1(()=>accordion({flush:T.flush,className:T.class}));var ne=root$2D();let me;var Ve=child(ne);snippet(Ve,()=>T.children),template_effect(()=>me=set_attributes(ne,me,{...Z,class:get$2(te)})),append(Y,ne),pop()}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=Y=>{const T=createClassMap(Y),{conflictingClassGroups:k,conflictingClassGroupModifiers:Z}=Y;return{getClassGroupId:ne=>{const me=ne.split(CLASS_PART_SEPARATOR);return me[0]===""&&me.length!==1&&me.shift(),getGroupRecursive(me,T)||getGroupIdForArbitraryProperty(ne)},getConflictingClassGroupIds:(ne,me)=>{const Ve=k[ne]||[];return me&&Z[ne]?[...Ve,...Z[ne]]:Ve}}},getGroupRecursive=(Y,T)=>{var ne;if(Y.length===0)return T.classGroupId;const k=Y[0],Z=T.nextPart.get(k),ee=Z?getGroupRecursive(Y.slice(1),Z):void 0;if(ee)return ee;if(T.validators.length===0)return;const te=Y.join(CLASS_PART_SEPARATOR);return(ne=T.validators.find(({validator:me})=>me(te)))==null?void 0:ne.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=Y=>{if(arbitraryPropertyRegex.test(Y)){const T=arbitraryPropertyRegex.exec(Y)[1],k=T==null?void 0:T.substring(0,T.indexOf(":"));if(k)return"arbitrary.."+k}},createClassMap=Y=>{const{theme:T,classGroups:k}=Y,Z={nextPart:new Map,validators:[]};for(const ee in k)processClassesRecursively(k[ee],Z,ee,T);return Z},processClassesRecursively=(Y,T,k,Z)=>{Y.forEach(ee=>{if(typeof ee=="string"){const te=ee===""?T:getPart(T,ee);te.classGroupId=k;return}if(typeof ee=="function"){if(isThemeGetter(ee)){processClassesRecursively(ee(Z),T,k,Z);return}T.validators.push({validator:ee,classGroupId:k});return}Object.entries(ee).forEach(([te,ne])=>{processClassesRecursively(ne,getPart(T,te),k,Z)})})},getPart=(Y,T)=>{let k=Y;return T.split(CLASS_PART_SEPARATOR).forEach(Z=>{k.nextPart.has(Z)||k.nextPart.set(Z,{nextPart:new Map,validators:[]}),k=k.nextPart.get(Z)}),k},isThemeGetter=Y=>Y.isThemeGetter,createLruCache=Y=>{if(Y<1)return{get:()=>{},set:()=>{}};let T=0,k=new Map,Z=new Map;const ee=(te,ne)=>{k.set(te,ne),T++,T>Y&&(T=0,Z=k,k=new Map)};return{get(te){let ne=k.get(te);if(ne!==void 0)return ne;if((ne=Z.get(te))!==void 0)return ee(te,ne),ne},set(te,ne){k.has(te)?k.set(te,ne):ee(te,ne)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=Y=>{const{prefix:T,experimentalParseClassName:k}=Y;let Z=ee=>{const te=[];let ne=0,me=0,Ve=0,Ye;for(let nt=0;nt<ee.length;nt++){let rt=ee[nt];if(ne===0&&me===0){if(rt===MODIFIER_SEPARATOR){te.push(ee.slice(Ve,nt)),Ve=nt+MODIFIER_SEPARATOR_LENGTH;continue}if(rt==="/"){Ye=nt;continue}}rt==="["?ne++:rt==="]"?ne--:rt==="("?me++:rt===")"&&me--}const et=te.length===0?ee:ee.substring(Ve),tt=stripImportantModifier(et),it=tt!==et,st=Ye&&Ye>Ve?Ye-Ve:void 0;return{modifiers:te,hasImportantModifier:it,baseClassName:tt,maybePostfixModifierPosition:st}};if(T){const ee=T+MODIFIER_SEPARATOR,te=Z;Z=ne=>ne.startsWith(ee)?te(ne.substring(ee.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:ne,maybePostfixModifierPosition:void 0}}if(k){const ee=Z;Z=te=>k({className:te,parseClassName:ee})}return Z},stripImportantModifier=Y=>Y.endsWith(IMPORTANT_MODIFIER)?Y.substring(0,Y.length-1):Y.startsWith(IMPORTANT_MODIFIER)?Y.substring(1):Y,createSortModifiers=Y=>{const T=Object.fromEntries(Y.orderSensitiveModifiers.map(Z=>[Z,!0]));return Z=>{if(Z.length<=1)return Z;const ee=[];let te=[];return Z.forEach(ne=>{ne[0]==="["||T[ne]?(ee.push(...te.sort(),ne),te=[]):te.push(ne)}),ee.push(...te.sort()),ee}},createConfigUtils=Y=>({cache:createLruCache(Y.cacheSize),parseClassName:createParseClassName(Y),sortModifiers:createSortModifiers(Y),...createClassGroupUtils(Y)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(Y,T)=>{const{parseClassName:k,getClassGroupId:Z,getConflictingClassGroupIds:ee,sortModifiers:te}=T,ne=[],me=Y.trim().split(SPLIT_CLASSES_REGEX);let Ve="";for(let Ye=me.length-1;Ye>=0;Ye-=1){const et=me[Ye],{isExternal:tt,modifiers:it,hasImportantModifier:st,baseClassName:nt,maybePostfixModifierPosition:rt}=k(et);if(tt){Ve=et+(Ve.length>0?" "+Ve:Ve);continue}let lt=!!rt,ot=Z(lt?nt.substring(0,rt):nt);if(!ot){if(!lt){Ve=et+(Ve.length>0?" "+Ve:Ve);continue}if(ot=Z(nt),!ot){Ve=et+(Ve.length>0?" "+Ve:Ve);continue}lt=!1}const ht=te(it).join(":"),dt=st?ht+IMPORTANT_MODIFIER:ht,ct=dt+ot;if(ne.includes(ct))continue;ne.push(ct);const ut=ee(ot,lt);for(let ft=0;ft<ut.length;++ft){const vt=ut[ft];ne.push(dt+vt)}Ve=et+(Ve.length>0?" "+Ve:Ve)}return Ve};function twJoin(){let Y=0,T,k,Z="";for(;Y<arguments.length;)(T=arguments[Y++])&&(k=toValue(T))&&(Z&&(Z+=" "),Z+=k);return Z}const toValue=Y=>{if(typeof Y=="string")return Y;let T,k="";for(let Z=0;Z<Y.length;Z++)Y[Z]&&(T=toValue(Y[Z]))&&(k&&(k+=" "),k+=T);return k};function createTailwindMerge(Y,...T){let k,Z,ee,te=ne;function ne(Ve){const Ye=T.reduce((et,tt)=>tt(et),Y());return k=createConfigUtils(Ye),Z=k.cache.get,ee=k.cache.set,te=me,me(Ve)}function me(Ve){const Ye=Z(Ve);if(Ye)return Ye;const et=mergeClassList(Ve,k);return ee(Ve,et),et}return function(){return te(twJoin.apply(null,arguments))}}const fromTheme=Y=>{const T=k=>k[Y]||[];return T.isThemeGetter=!0,T},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=Y=>fractionRegex.test(Y),isNumber$1=Y=>!!Y&&!Number.isNaN(Number(Y)),isInteger$1=Y=>!!Y&&Number.isInteger(Number(Y)),isPercent=Y=>Y.endsWith("%")&&isNumber$1(Y.slice(0,-1)),isTshirtSize=Y=>tshirtUnitRegex.test(Y),isAny=()=>!0,isLengthOnly=Y=>lengthUnitRegex.test(Y)&&!colorFunctionRegex.test(Y),isNever=()=>!1,isShadow=Y=>shadowRegex.test(Y),isImage$1=Y=>imageRegex.test(Y),isAnyNonArbitrary=Y=>!isArbitraryValue(Y)&&!isArbitraryVariable(Y),isArbitrarySize=Y=>getIsArbitraryValue(Y,isLabelSize,isNever),isArbitraryValue=Y=>arbitraryValueRegex.test(Y),isArbitraryLength=Y=>getIsArbitraryValue(Y,isLabelLength,isLengthOnly),isArbitraryNumber=Y=>getIsArbitraryValue(Y,isLabelNumber,isNumber$1),isArbitraryPosition=Y=>getIsArbitraryValue(Y,isLabelPosition,isNever),isArbitraryImage=Y=>getIsArbitraryValue(Y,isLabelImage,isImage$1),isArbitraryShadow=Y=>getIsArbitraryValue(Y,isNever,isShadow),isArbitraryVariable=Y=>arbitraryVariableRegex.test(Y),isArbitraryVariableLength=Y=>getIsArbitraryVariable(Y,isLabelLength),isArbitraryVariableFamilyName=Y=>getIsArbitraryVariable(Y,isLabelFamilyName),isArbitraryVariablePosition=Y=>getIsArbitraryVariable(Y,isLabelPosition),isArbitraryVariableSize=Y=>getIsArbitraryVariable(Y,isLabelSize),isArbitraryVariableImage=Y=>getIsArbitraryVariable(Y,isLabelImage),isArbitraryVariableShadow=Y=>getIsArbitraryVariable(Y,isLabelShadow,!0),getIsArbitraryValue=(Y,T,k)=>{const Z=arbitraryValueRegex.exec(Y);return Z?Z[1]?T(Z[1]):k(Z[2]):!1},getIsArbitraryVariable=(Y,T,k=!1)=>{const Z=arbitraryVariableRegex.exec(Y);return Z?Z[1]?T(Z[1]):k:!1},isLabelPosition=Y=>Y==="position",imageLabels=new Set(["image","url"]),isLabelImage=Y=>imageLabels.has(Y),sizeLabels=new Set(["length","size","percentage"]),isLabelSize=Y=>sizeLabels.has(Y),isLabelLength=Y=>Y==="length",isLabelNumber=Y=>Y==="number",isLabelFamilyName=Y=>Y==="family-name",isLabelShadow=Y=>Y==="shadow",getDefaultConfig=()=>{const Y=fromTheme("color"),T=fromTheme("font"),k=fromTheme("text"),Z=fromTheme("font-weight"),ee=fromTheme("tracking"),te=fromTheme("leading"),ne=fromTheme("breakpoint"),me=fromTheme("container"),Ve=fromTheme("spacing"),Ye=fromTheme("radius"),et=fromTheme("shadow"),tt=fromTheme("inset-shadow"),it=fromTheme("drop-shadow"),st=fromTheme("blur"),nt=fromTheme("perspective"),rt=fromTheme("aspect"),lt=fromTheme("ease"),ot=fromTheme("animate"),ht=()=>["auto","avoid","all","avoid-page","page","left","right","column"],dt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ct=()=>["auto","hidden","clip","visible","scroll"],ut=()=>["auto","contain","none"],ft=()=>[isArbitraryVariable,isArbitraryValue,Ve],vt=()=>[isFraction,"full","auto",...ft()],mt=()=>[isInteger$1,"none","subgrid",isArbitraryVariable,isArbitraryValue],_t=()=>["auto",{span:["full",isInteger$1,isArbitraryVariable,isArbitraryValue]},isArbitraryVariable,isArbitraryValue],Et=()=>[isInteger$1,"auto",isArbitraryVariable,isArbitraryValue],Tt=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],xt=()=>["start","end","center","between","around","evenly","stretch","baseline"],yt=()=>["start","end","center","stretch"],St=()=>["auto",...ft()],At=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...ft()],Ct=()=>[Y,isArbitraryVariable,isArbitraryValue],It=()=>[isPercent,isArbitraryLength],Ot=()=>["","none","full",Ye,isArbitraryVariable,isArbitraryValue],Dt=()=>["",isNumber$1,isArbitraryVariableLength,isArbitraryLength],Mt=()=>["solid","dashed","dotted","double"],$t=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ht=()=>["","none",st,isArbitraryVariable,isArbitraryValue],Ft=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryVariable,isArbitraryValue],jt=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],Gt=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],Kt=()=>[isNumber$1,isArbitraryVariable,isArbitraryValue],Pt=()=>[isFraction,"full",...ft()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$1],text:[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,rt]}],container:["container"],columns:[{columns:[isNumber$1,isArbitraryValue,isArbitraryVariable,me]}],"break-after":[{"break-after":ht()}],"break-before":[{"break-before":ht()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...dt(),isArbitraryValue,isArbitraryVariable]}],overflow:[{overflow:ct()}],"overflow-x":[{"overflow-x":ct()}],"overflow-y":[{"overflow-y":ct()}],overscroll:[{overscroll:ut()}],"overscroll-x":[{"overscroll-x":ut()}],"overscroll-y":[{"overscroll-y":ut()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:vt()}],"inset-x":[{"inset-x":vt()}],"inset-y":[{"inset-y":vt()}],start:[{start:vt()}],end:[{end:vt()}],top:[{top:vt()}],right:[{right:vt()}],bottom:[{bottom:vt()}],left:[{left:vt()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger$1,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",me,...ft()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$1,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger$1,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":mt()}],"col-start-end":[{col:_t()}],"col-start":[{"col-start":Et()}],"col-end":[{"col-end":Et()}],"grid-rows":[{"grid-rows":mt()}],"row-start-end":[{row:_t()}],"row-start":[{"row-start":Et()}],"row-end":[{"row-end":Et()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Tt()}],"auto-rows":[{"auto-rows":Tt()}],gap:[{gap:ft()}],"gap-x":[{"gap-x":ft()}],"gap-y":[{"gap-y":ft()}],"justify-content":[{justify:[...xt(),"normal"]}],"justify-items":[{"justify-items":[...yt(),"normal"]}],"justify-self":[{"justify-self":["auto",...yt()]}],"align-content":[{content:["normal",...xt()]}],"align-items":[{items:[...yt(),"baseline"]}],"align-self":[{self:["auto",...yt(),"baseline"]}],"place-content":[{"place-content":xt()}],"place-items":[{"place-items":[...yt(),"baseline"]}],"place-self":[{"place-self":["auto",...yt()]}],p:[{p:ft()}],px:[{px:ft()}],py:[{py:ft()}],ps:[{ps:ft()}],pe:[{pe:ft()}],pt:[{pt:ft()}],pr:[{pr:ft()}],pb:[{pb:ft()}],pl:[{pl:ft()}],m:[{m:St()}],mx:[{mx:St()}],my:[{my:St()}],ms:[{ms:St()}],me:[{me:St()}],mt:[{mt:St()}],mr:[{mr:St()}],mb:[{mb:St()}],ml:[{ml:St()}],"space-x":[{"space-x":ft()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ft()}],"space-y-reverse":["space-y-reverse"],size:[{size:At()}],w:[{w:[me,"screen",...At()]}],"min-w":[{"min-w":[me,"screen","none",...At()]}],"max-w":[{"max-w":[me,"screen","none","prose",{screen:[ne]},...At()]}],h:[{h:["screen",...At()]}],"min-h":[{"min-h":["screen","none",...At()]}],"max-h":[{"max-h":["screen",...At()]}],"font-size":[{text:["base",k,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[Z,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,T]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[ee,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$1,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[te,...ft()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Ct()}],"text-color":[{text:Ct()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Mt(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$1,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:Ct()}],"underline-offset":[{"underline-offset":[isNumber$1,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ft()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...dt(),isArbitraryVariablePosition,isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger$1,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger$1,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:Ct()}],"gradient-from-pos":[{from:It()}],"gradient-via-pos":[{via:It()}],"gradient-to-pos":[{to:It()}],"gradient-from":[{from:Ct()}],"gradient-via":[{via:Ct()}],"gradient-to":[{to:Ct()}],rounded:[{rounded:Ot()}],"rounded-s":[{"rounded-s":Ot()}],"rounded-e":[{"rounded-e":Ot()}],"rounded-t":[{"rounded-t":Ot()}],"rounded-r":[{"rounded-r":Ot()}],"rounded-b":[{"rounded-b":Ot()}],"rounded-l":[{"rounded-l":Ot()}],"rounded-ss":[{"rounded-ss":Ot()}],"rounded-se":[{"rounded-se":Ot()}],"rounded-ee":[{"rounded-ee":Ot()}],"rounded-es":[{"rounded-es":Ot()}],"rounded-tl":[{"rounded-tl":Ot()}],"rounded-tr":[{"rounded-tr":Ot()}],"rounded-br":[{"rounded-br":Ot()}],"rounded-bl":[{"rounded-bl":Ot()}],"border-w":[{border:Dt()}],"border-w-x":[{"border-x":Dt()}],"border-w-y":[{"border-y":Dt()}],"border-w-s":[{"border-s":Dt()}],"border-w-e":[{"border-e":Dt()}],"border-w-t":[{"border-t":Dt()}],"border-w-r":[{"border-r":Dt()}],"border-w-b":[{"border-b":Dt()}],"border-w-l":[{"border-l":Dt()}],"divide-x":[{"divide-x":Dt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Dt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Mt(),"hidden","none"]}],"divide-style":[{divide:[...Mt(),"hidden","none"]}],"border-color":[{border:Ct()}],"border-color-x":[{"border-x":Ct()}],"border-color-y":[{"border-y":Ct()}],"border-color-s":[{"border-s":Ct()}],"border-color-e":[{"border-e":Ct()}],"border-color-t":[{"border-t":Ct()}],"border-color-r":[{"border-r":Ct()}],"border-color-b":[{"border-b":Ct()}],"border-color-l":[{"border-l":Ct()}],"divide-color":[{divide:Ct()}],"outline-style":[{outline:[...Mt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$1,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:[Y]}],shadow:[{shadow:["","none",et,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:Ct()}],"inset-shadow":[{"inset-shadow":["none",isArbitraryVariable,isArbitraryValue,tt]}],"inset-shadow-color":[{"inset-shadow":Ct()}],"ring-w":[{ring:Dt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Ct()}],"ring-offset-w":[{"ring-offset":[isNumber$1,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":Ct()}],"inset-ring-w":[{"inset-ring":Dt()}],"inset-ring-color":[{"inset-ring":Ct()}],opacity:[{opacity:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...$t(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$t()}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Ht()}],brightness:[{brightness:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",it,isArbitraryVariable,isArbitraryValue]}],grayscale:[{grayscale:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Ht()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ft()}],"border-spacing-x":[{"border-spacing-x":ft()}],"border-spacing-y":[{"border-spacing-y":ft()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$1,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",lt,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",ot,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[nt,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":Ft()}],rotate:[{rotate:jt()}],"rotate-x":[{"rotate-x":jt()}],"rotate-y":[{"rotate-y":jt()}],"rotate-z":[{"rotate-z":jt()}],scale:[{scale:Gt()}],"scale-x":[{"scale-x":Gt()}],"scale-y":[{"scale-y":Gt()}],"scale-z":[{"scale-z":Gt()}],"scale-3d":["scale-3d"],skew:[{skew:Kt()}],"skew-x":[{"skew-x":Kt()}],"skew-y":[{"skew-y":Kt()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:Ft()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pt()}],"translate-x":[{"translate-x":Pt()}],"translate-y":[{"translate-y":Pt()}],"translate-z":[{"translate-z":Pt()}],"translate-none":["translate-none"],accent:[{accent:Ct()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Ct()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ft()}],"scroll-mx":[{"scroll-mx":ft()}],"scroll-my":[{"scroll-my":ft()}],"scroll-ms":[{"scroll-ms":ft()}],"scroll-me":[{"scroll-me":ft()}],"scroll-mt":[{"scroll-mt":ft()}],"scroll-mr":[{"scroll-mr":ft()}],"scroll-mb":[{"scroll-mb":ft()}],"scroll-ml":[{"scroll-ml":ft()}],"scroll-p":[{"scroll-p":ft()}],"scroll-px":[{"scroll-px":ft()}],"scroll-py":[{"scroll-py":ft()}],"scroll-ps":[{"scroll-ps":ft()}],"scroll-pe":[{"scroll-pe":ft()}],"scroll-pt":[{"scroll-pt":ft()}],"scroll-pr":[{"scroll-pr":ft()}],"scroll-pb":[{"scroll-pb":ft()}],"scroll-pl":[{"scroll-pl":ft()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...Ct()]}],"stroke-w":[{stroke:[isNumber$1,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...Ct()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},mergeConfigs=(Y,{cacheSize:T,prefix:k,experimentalParseClassName:Z,extend:ee={},override:te={}})=>(overrideProperty(Y,"cacheSize",T),overrideProperty(Y,"prefix",k),overrideProperty(Y,"experimentalParseClassName",Z),overrideConfigProperties(Y.theme,te.theme),overrideConfigProperties(Y.classGroups,te.classGroups),overrideConfigProperties(Y.conflictingClassGroups,te.conflictingClassGroups),overrideConfigProperties(Y.conflictingClassGroupModifiers,te.conflictingClassGroupModifiers),overrideProperty(Y,"orderSensitiveModifiers",te.orderSensitiveModifiers),mergeConfigProperties(Y.theme,ee.theme),mergeConfigProperties(Y.classGroups,ee.classGroups),mergeConfigProperties(Y.conflictingClassGroups,ee.conflictingClassGroups),mergeConfigProperties(Y.conflictingClassGroupModifiers,ee.conflictingClassGroupModifiers),mergeArrayProperties(Y,ee,"orderSensitiveModifiers"),Y),overrideProperty=(Y,T,k)=>{k!==void 0&&(Y[T]=k)},overrideConfigProperties=(Y,T)=>{if(T)for(const k in T)overrideProperty(Y,k,T[k])},mergeConfigProperties=(Y,T)=>{if(T)for(const k in T)mergeArrayProperties(Y,T,k)},mergeArrayProperties=(Y,T,k)=>{const Z=T[k];Z!==void 0&&(Y[k]=Y[k]?Y[k].concat(Z):Z)},extendTailwindMerge=(Y,...T)=>typeof Y=="function"?createTailwindMerge(getDefaultConfig,Y,...T):createTailwindMerge(()=>mergeConfigs(getDefaultConfig(),Y),...T),twMerge=createTailwindMerge(getDefaultConfig),linear=Y=>Y;function cubic_out(Y){const T=Y-1;return T*T*T+1}function fade(Y,{delay:T=0,duration:k=400,easing:Z=linear}={}){const ee=+getComputedStyle(Y).opacity;return{delay:T,duration:k,easing:Z,css:te=>`opacity: ${te*ee}`}}function slide(Y,{delay:T=0,duration:k=400,easing:Z=cubic_out,axis:ee="y"}={}){const te=getComputedStyle(Y),ne=+te.opacity,me=ee==="y"?"height":"width",Ve=parseFloat(te[me]),Ye=ee==="y"?["top","bottom"]:["left","right"],et=Ye.map(ot=>`${ot[0].toUpperCase()}${ot.slice(1)}`),tt=parseFloat(te[`padding${et[0]}`]),it=parseFloat(te[`padding${et[1]}`]),st=parseFloat(te[`margin${et[0]}`]),nt=parseFloat(te[`margin${et[1]}`]),rt=parseFloat(te[`border${et[0]}Width`]),lt=parseFloat(te[`border${et[1]}Width`]);return{delay:T,duration:k,easing:Z,css:ot=>`overflow: hidden;opacity: ${Math.min(ot*20,1)*ne};${me}: ${ot*Ve}px;padding-${Ye[0]}: ${ot*tt}px;padding-${Ye[1]}: ${ot*it}px;margin-${Ye[0]}: ${ot*st}px;margin-${Ye[1]}: ${ot*nt}px;border-${Ye[0]}-width: ${ot*rt}px;border-${Ye[1]}-width: ${ot*lt}px;min-${me}: 0`}}const handleToggle=(Y,T,k,Z)=>T.set(k()?{}:Z);var root_4$x=ns_template('<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"></path></svg>'),root_7$c=ns_template('<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"></path></svg>'),root_1$1X=template("<!> <!>",1),root_9$8=template("<div><div><!></div></div>"),root$2C=template("<h2><button><!></button></h2> <!>",1);function AccordionItem(Y,T){push(T,!0);let k=prop(T,"open",15,!1),Z=prop(T,"transition",3,slide),ee=prop(T,"isArrowShow",3,!0);const te=getContext("ctx")??{};te.selected||(te.selected=writable());const ne={},me=te.isSingle?te.selected:writable();k()&&me.set(ne),me.subscribe(ft=>k(ft===ne));const{base:Ve,button:Ye,content:et,active:tt,inactive:it}=accordionitem({flush:te.flush,open:k()});let st=derived$1(()=>twMerge(Ye(),k()&&!te.flush&&(T.activeClass||te.activeClass||tt()),!k()&&!te.flush&&(T.inactiveClass||te.inactiveClass||it()),T.class)),nt=derived$1(()=>twMerge("h-3 w-3 dark:text-white",T.arrowColor));var rt=root$2C(),lt=first_child(rt),ot=child(lt);ot.__click=[handleToggle,me,k,ne];var ht=child(ot);{var dt=ft=>{var vt=root_1$1X(),mt=first_child(vt);snippet(mt,()=>T.header);var _t=sibling(mt,2);{var Et=Tt=>{var xt=comment(),yt=first_child(xt);{var St=Ct=>{var It=comment(),Ot=first_child(It);{var Dt=$t=>{var Ht=root_4$x();template_effect(()=>set_class(Ht,0,clsx(get$2(nt)))),append($t,Ht)},Mt=$t=>{var Ht=comment(),Ft=first_child(Ht);snippet(Ft,()=>T.arrowup),append($t,Ht)};if_block(Ot,$t=>{T.arrowup?$t(Mt,!1):$t(Dt)})}append(Ct,It)},At=(Ct,It)=>{{var Ot=Mt=>{var $t=root_7$c();template_effect(()=>set_class($t,0,clsx(get$2(nt)))),append(Mt,$t)},Dt=Mt=>{var $t=comment(),Ht=first_child($t);snippet(Ht,()=>T.arrowdown),append(Mt,$t)};if_block(Ct,Mt=>{T.arrowdown?Mt(Dt,!1):Mt(Ot)},It)}};if_block(yt,Ct=>{k()?Ct(St):Ct(At,!1)})}append(Tt,xt)};if_block(_t,Tt=>{ee()&&Tt(Et)})}append(ft,vt)};if_block(ht,ft=>{T.header&&ft(dt)})}var ct=sibling(lt,2);{var ut=ft=>{var vt=root_9$8(),mt=child(vt),_t=child(mt);snippet(_t,()=>T.children),template_effect(Et=>set_class(mt,1,Et),[()=>clsx(et())]),transition(3,vt,Z,()=>T.params),append(ft,vt)};if_block(ct,ft=>{k()&&ft(ut)})}template_effect(ft=>{set_class(lt,1,ft),set_class(ot,1,clsx(get$2(st))),set_attribute(ot,"aria-expanded",k())},[()=>clsx(Ve())]),append(Y,rt),pop()}delegate(["click"]);var l$1=Y=>typeof Y=="boolean"?`${Y}`:Y===0?"0":Y,u$1=Y=>!Y||typeof Y!="object"||Object.keys(Y).length===0,x$6=(Y,T)=>JSON.stringify(Y)===JSON.stringify(T);function i$1(Y,T){Y.forEach(function(k){Array.isArray(k)?i$1(k,T):T.push(k)})}function y$6(Y){let T=[];return i$1(Y,T),T}var a$1=(...Y)=>y$6(Y).filter(Boolean),p$1=(Y,T)=>{let k={},Z=Object.keys(Y),ee=Object.keys(T);for(let te of Z)if(ee.includes(te)){let ne=Y[te],me=T[te];Array.isArray(ne)||Array.isArray(me)?k[te]=a$1(me,ne):typeof ne=="object"&&typeof me=="object"?k[te]=p$1(ne,me):k[te]=me+" "+ne}else k[te]=Y[te];for(let te of ee)Z.includes(te)||(k[te]=T[te]);return k},g$1=Y=>!Y||typeof Y!="string"?Y:Y.replace(/\s+/g," ").trim(),ie$1={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},x$5=Y=>Y||void 0,N$2=(...Y)=>x$5(y$6(Y).filter(Boolean).join(" ")),R$1=null,v$2={},q$1=!1,M$2=(...Y)=>T=>T.twMerge?((!R$1||q$1)&&(q$1=!1,R$1=u$1(v$2)?twMerge:extendTailwindMerge({...v$2,extend:{theme:v$2.theme,classGroups:v$2.classGroups,conflictingClassGroupModifiers:v$2.conflictingClassGroupModifiers,conflictingClassGroups:v$2.conflictingClassGroups,...v$2.extend}})),x$5(R$1(N$2(Y)))):N$2(Y),_$1=(Y,T)=>{for(let k in T)Y.hasOwnProperty(k)?Y[k]=N$2(Y[k],T[k]):Y[k]=T[k];return Y},ce$1=(Y,T)=>{let{extend:k=null,slots:Z={},variants:ee={},compoundVariants:te=[],compoundSlots:ne=[],defaultVariants:me={}}=Y,Ve={...ie$1,...T},Ye=k!=null&&k.base?N$2(k.base,Y==null?void 0:Y.base):Y==null?void 0:Y.base,et=k!=null&&k.variants&&!u$1(k.variants)?p$1(ee,k.variants):ee,tt=k!=null&&k.defaultVariants&&!u$1(k.defaultVariants)?{...k.defaultVariants,...me}:me;!u$1(Ve.twMergeConfig)&&!x$6(Ve.twMergeConfig,v$2)&&(q$1=!0,v$2=Ve.twMergeConfig);let it=u$1(k==null?void 0:k.slots),st=u$1(Z)?{}:{base:N$2(Y==null?void 0:Y.base,it&&(k==null?void 0:k.base)),...Z},nt=it?st:_$1({...k==null?void 0:k.slots},u$1(st)?{base:Y==null?void 0:Y.base}:st),rt=u$1(k==null?void 0:k.compoundVariants)?te:a$1(k==null?void 0:k.compoundVariants,te),lt=ht=>{if(u$1(et)&&u$1(Z)&&it)return M$2(Ye,ht==null?void 0:ht.class,ht==null?void 0:ht.className)(Ve);if(rt&&!Array.isArray(rt))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof rt}`);if(ne&&!Array.isArray(ne))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof ne}`);let dt=(xt,yt,St=[],At)=>{let Ct=St;if(typeof yt=="string")Ct=Ct.concat(g$1(yt).split(" ").map(It=>`${xt}:${It}`));else if(Array.isArray(yt))Ct=Ct.concat(yt.reduce((It,Ot)=>It.concat(`${xt}:${Ot}`),[]));else if(typeof yt=="object"&&typeof At=="string"){for(let It in yt)if(yt.hasOwnProperty(It)&&It===At){let Ot=yt[It];if(Ot&&typeof Ot=="string"){let Dt=g$1(Ot);Ct[At]?Ct[At]=Ct[At].concat(Dt.split(" ").map(Mt=>`${xt}:${Mt}`)):Ct[At]=Dt.split(" ").map(Mt=>`${xt}:${Mt}`)}else Array.isArray(Ot)&&Ot.length>0&&(Ct[At]=Ot.reduce((Dt,Mt)=>Dt.concat(`${xt}:${Mt}`),[]))}}return Ct},ct=(xt,yt=et,St=null,At=null)=>{var Ct;let It=yt[xt];if(!It||u$1(It))return null;let Ot=(Ct=At==null?void 0:At[xt])!=null?Ct:ht==null?void 0:ht[xt];if(Ot===null)return null;let Dt=l$1(Ot),Mt=Array.isArray(Ve.responsiveVariants)&&Ve.responsiveVariants.length>0||Ve.responsiveVariants===!0,$t=tt==null?void 0:tt[xt],Ht=[];if(typeof Dt=="object"&&Mt)for(let[Gt,Kt]of Object.entries(Dt)){let Pt=It[Kt];if(Gt==="initial"){$t=Kt;continue}Array.isArray(Ve.responsiveVariants)&&!Ve.responsiveVariants.includes(Gt)||(Ht=dt(Gt,Pt,Ht,St))}let Ft=Dt!=null&&typeof Dt!="object"?Dt:l$1($t),jt=It[Ft||"false"];return typeof Ht=="object"&&typeof St=="string"&&Ht[St]?_$1(Ht,jt):Ht.length>0?(Ht.push(jt),St==="base"?Ht.join(" "):Ht):jt},ut=()=>et?Object.keys(et).map(xt=>ct(xt,et)):null,ft=(xt,yt)=>{if(!et||typeof et!="object")return null;let St=new Array;for(let At in et){let Ct=ct(At,et,xt,yt),It=xt==="base"&&typeof Ct=="string"?Ct:Ct&&Ct[xt];It&&(St[St.length]=It)}return St},vt={};for(let xt in ht)ht[xt]!==void 0&&(vt[xt]=ht[xt]);let mt=(xt,yt)=>{var St;let At=typeof(ht==null?void 0:ht[xt])=="object"?{[xt]:(St=ht[xt])==null?void 0:St.initial}:{};return{...tt,...vt,...At,...yt}},_t=(xt=[],yt)=>{let St=[];for(let{class:At,className:Ct,...It}of xt){let Ot=!0;for(let[Dt,Mt]of Object.entries(It)){let $t=mt(Dt,yt)[Dt];if(Array.isArray(Mt)){if(!Mt.includes($t)){Ot=!1;break}}else{let Ht=Ft=>Ft==null||Ft===!1;if(Ht(Mt)&&Ht($t))continue;if($t!==Mt){Ot=!1;break}}}Ot&&(At&&St.push(At),Ct&&St.push(Ct))}return St},Et=xt=>{let yt=_t(rt,xt);if(!Array.isArray(yt))return yt;let St={};for(let At of yt)if(typeof At=="string"&&(St.base=M$2(St.base,At)(Ve)),typeof At=="object")for(let[Ct,It]of Object.entries(At))St[Ct]=M$2(St[Ct],It)(Ve);return St},Tt=xt=>{if(ne.length<1)return null;let yt={};for(let{slots:St=[],class:At,className:Ct,...It}of ne){if(!u$1(It)){let Ot=!0;for(let Dt of Object.keys(It)){let Mt=mt(Dt,xt)[Dt];if(Mt===void 0||(Array.isArray(It[Dt])?!It[Dt].includes(Mt):It[Dt]!==Mt)){Ot=!1;break}}if(!Ot)continue}for(let Ot of St)yt[Ot]=yt[Ot]||[],yt[Ot].push([At,Ct])}return yt};if(!u$1(Z)||!it){let xt={};if(typeof nt=="object"&&!u$1(nt))for(let yt of Object.keys(nt))xt[yt]=St=>{var At,Ct;return M$2(nt[yt],ft(yt,St),((At=Et(St))!=null?At:[])[yt],((Ct=Tt(St))!=null?Ct:[])[yt],St==null?void 0:St.class,St==null?void 0:St.className)(Ve)};return xt}return M$2(Ye,ut(),_t(rt),ht==null?void 0:ht.class,ht==null?void 0:ht.className)(Ve)},ot=()=>{if(!(!et||typeof et!="object"))return Object.keys(et)};return lt.variantKeys=ot(),lt.extend=k,lt.base=Ye,lt.slots=nt,lt.variants=et,lt.defaultVariants=tt,lt.compoundSlots=ne,lt.compoundVariants=rt,lt};const accordion=ce$1({base:"w-full text-gray-500 dark:text-gray-400",variants:{flush:{true:"",false:" dark:border-gray-700 rounded-t-xl"}}}),accordionitem=ce$1({slots:{base:"group",button:" flex items-center justify-between w-full font-medium text-sm ffont-sans text-left border-gray-200 dark:border-gray-700 ",content:"border-b border-gray-200 dark:border-gray-700",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800",inactive:"text-gray-300 dark:text-gray-400 hover:bg-gray-800 hover:dark:bg-gray-800"},variants:{flush:{true:{button:"p-2 pl-3",content:"p-1"},false:{button:"p-2  pl-3",content:"p-1 "}},open:{true:{},false:{}}},compoundVariants:[{flush:!0,open:!0,class:{button:"text-gray-900 dark:text-white"}},{flush:!0,open:!1,class:{button:"text-gray-500 dark:text-gray-400"}}],defaultVariants:{flush:!1,open:!1}});var root_3$H=template("<div><!></div>"),on_click$C=(Y,T)=>{T(!1)},root_6$i=template('<button type="button" class="m-0.5 -me-1.5 ms-1.5 whitespace-normal rounded p-0.5 text-primary-500 hover:bg-primary-200 focus:outline-none focus:ring-1 focus:ring-primary-400 dark:hover:bg-primary-800 dark:hover:text-primary-300" aria-label="Remove badge"><span class="sr-only">Remove alert</span> <!></button>'),root_1$1W=template("<div><!> <!> <!></div>");function Alert(Y,T){push(T,!0);let k=prop(T,"alertStatus",15,!0),Z=prop(T,"color",3,"primary"),ee=prop(T,"rounded",3,!0),te=prop(T,"transition",3,fade),ne=rest_props(T,["$$slots","$$events","$$legacy","children","icon","alertStatus","closeIcon","color","rounded","border","class","dismissable","transition","params","onclick"]),me=derived$1(()=>alert$1({color:Z(),rounded:ee(),border:T.border,icon:!!T.icon,dismissable:T.dismissable,className:T.class}));var Ve=comment(),Ye=first_child(Ve);{var et=tt=>{var it=root_1$1W();let st;var nt=child(it);{var rt=ut=>{var ft=comment(),vt=first_child(ft);snippet(vt,()=>T.icon),append(ut,ft)};if_block(nt,ut=>{T.icon&&ut(rt)})}var lt=sibling(nt,2);{var ot=ut=>{var ft=root_3$H(),vt=child(ft);snippet(vt,()=>T.children),append(ut,ft)},ht=ut=>{var ft=comment(),vt=first_child(ft);snippet(vt,()=>T.children),append(ut,ft)};if_block(lt,ut=>{T.icon||T.dismissable?ut(ot):ut(ht,!1)})}var dt=sibling(lt,2);{var ct=ut=>{var ft=comment(),vt=first_child(ft);{var mt=Et=>{var Tt=root_6$i();Tt.__click=[on_click$C,k];var xt=sibling(child(Tt),2);{var yt=St=>{var At=comment(),Ct=first_child(At);snippet(Ct,()=>T.icon),append(St,At)};if_block(xt,St=>{T.icon&&St(yt)})}append(Et,Tt)},_t=(Et,Tt)=>{{var xt=St=>{CloseButton(St,{class:"-my-1.5 -me-1.5 ms-auto dark:hover:bg-gray-700",get color(){return Z()},ariaLabel:"Remove badge",get onclick(){return T.onclick}})},yt=St=>{CloseButton(St,{class:"-my-1.5 -me-1.5 ms-auto dark:hover:bg-gray-700",get color(){return Z()},ariaLabel:"Remove alert",onclick:()=>{k(!1)}})};if_block(Et,St=>{T.onclick?St(xt):St(yt,!1)},Tt)}};if_block(vt,Et=>{T.closeIcon?Et(mt):Et(_t,!1)})}append(ut,ft)};if_block(dt,ut=>{T.dismissable&&ut(ct)})}template_effect(()=>st=set_attributes(it,st,{role:"alert",...ne,class:get$2(me)})),transition(3,it,te,()=>T.params),append(tt,it)};if_block(Ye,tt=>{k()&&tt(et)})}append(Y,Ve),pop()}delegate(["click"]);const alert$1=ce$1({base:"p-4 gap-3 text-sm",variants:{color:{primary:"bg-primary-50 dark:bg-gray-800 text-primary-800 dark:text-primary-400",secondary:"bg-secondary-50 dark:bg-secondary-800 text-secondary-800 dark:text-secondary-400",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",red:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",orange:"bg-orange-100 text-orange-500 hover:bg-orange-200 focus:ring-orange-400 dark:bg-orange-200 dark:text-orange-600 dark:hover:bg-orange-300",amber:"bg-amber-100 text-amber-500 hover:bg-amber-200 focus:ring-amber-400 dark:bg-amber-200 dark:text-amber-600 dark:hover:bg-amber-300",yellow:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",lime:"bg-lime-100 text-lime-500 hover:bg-lime-200 focus:ring-lime-400 dark:bg-lime-200 dark:text-lime-600 dark:hover:bg-lime-300",green:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",emerald:"bg-emerald-100 text-emerald-500 hover:bg-emerald-200 focus:ring-emerald-400 dark:bg-emerald-200 dark:text-emerald-600 dark:hover:bg-emerald-300",teal:"bg-teal-100 text-teal-500 hover:bg-teal-200 focus:ring-teal-400 dark:bg-teal-200 dark:text-teal-600 dark:hover:bg-teal-300",cyan:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",sky:"bg-sky-100 text-sky-500 hover:bg-sky-200 focus:ring-sky-400 dark:bg-sky-200 dark:text-sky-600 dark:hover:bg-sky-300",blue:"bg-blue-100 text-blue-500 hover:bg-blue-200 focus:ring-blue-400 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300",indigo:"bg-indigo-100 text-indigo-500 hover:bg-indigo-200 focus:ring-indigo-400 dark:bg-indigo-200 dark:text-indigo-600 dark:hover:bg-indigo-300",violet:"bg-violet-100 text-violet-500 hover:bg-violet-200 focus:ring-violet-400 dark:bg-violet-200 dark:text-violet-600 dark:hover:bg-violet-300",purple:"bg-purple-100 text-purple-500 hover:bg-purple-200 focus:ring-purple-400 dark:bg-purple-200 dark:text-purple-600 dark:hover:bg-purple-300",fuchsia:"bg-fuchsia-100 text-fuchsia-500 hover:bg-fuchsia-200 focus:ring-fuchsia-400 dark:bg-fuchsia-200 dark:text-fuchsia-600 dark:hover:bg-fuchsia-300",pink:"bg-pink-100 text-pink-500 hover:bg-pink-200 focus:ring-pink-400 dark:bg-pink-200 dark:text-pink-600 dark:hover:bg-pink-300",rose:"bg-rose-100 text-rose-500 hover:bg-rose-200 focus:ring-rose-400 dark:bg-rose-200 dark:text-rose-600 dark:hover:bg-rose-300"},rounded:{true:"rounded-lg"},border:{true:"border"},icon:{true:"flex items-center"},dismissable:{true:"flex items-center"}},compoundVariants:[{border:!0,color:"primary",class:"border-primary-500 dark:border-primary-200 divide-primary-500 dark:divide-primary-200"},{border:!0,color:"secondary",class:"border-secondary-500 dark:border-secondary-200 divide-secondary-500 dark:divide-secondary-200"},{border:!0,color:"gray",class:"border-gray-300 dark:border-gray-800 divide-gray-300 dark:divide-gray-800"},{border:!0,color:"red",class:"border-red-300 dark:border-red-800 divide-red-300 dark:divide-red-800"},{border:!0,color:"orange",class:"border-orange-300 dark:border-orange-800 divide-orange-300 dark:divide-orange-800"},{border:!0,color:"amber",class:"border-amber-300 dark:border-amber-800 divide-amber-300 dark:divide-amber-800"},{border:!0,color:"yellow",class:"border-yellow-300 dark:border-yellow-800 divide-yellow-300 dark:divide-yellow-800"},{border:!0,color:"lime",class:"border-lime-300 dark:border-lime-800 divide-lime-300 dark:divide-lime-800"},{border:!0,color:"green",class:"border-green-300 dark:border-green-800 divide-green-300 dark:divide-green-800"},{border:!0,color:"emerald",class:"border-emerald-300 dark:border-emerald-800 divide-emerald-300 dark:divide-emerald-800"},{border:!0,color:"teal",class:"border-teal-300 dark:border-teal-800 divide-teal-300 dark:divide-teal-800"},{border:!0,color:"cyan",class:"border-cyan-300 dark:border-cyan-800 divide-cyan-300 dark:divide-cyan-800"},{border:!0,color:"sky",class:"border-sky-300 dark:border-sky-800 divide-sky-300 dark:divide-sky-800"},{border:!0,color:"blue",class:"border-blue-300 dark:border-blue-800 divide-blue-300 dark:divide-blue-800"},{border:!0,color:"indigo",class:"border-indigo-300 dark:border-indigo-800 divide-indigo-300 dark:divide-indigo-800"},{border:!0,color:"violet",class:"border-violet-300 dark:border-violet-800 divide-violet-300 dark:divide-violet-800"},{border:!0,color:"purple",class:"border-purple-300 dark:border-purple-800 divide-purple-300 dark:divide-purple-800"},{border:!0,color:"fuchsia",class:"border-fuchsia-300 dark:border-fuchsia-800 divide-fuchsia-300 dark:divide-fuchsia-800"},{border:!0,color:"pink",class:"border-pink-300 dark:border-pink-800 divide-pink-300 dark:divide-pink-800"},{border:!0,color:"rose",class:"border-rose-300 dark:border-rose-800 divide-rose-300 dark:divide-rose-800"}],defaultVariants:{color:"primary",rounded:!0}});ce$1({base:"relative flex items-center justify-center bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300",variants:{cornerStyle:{rounded:"rounded",circular:"rounded-full"},border:{true:"p-1 ring-2 ring-gray-300 dark:ring-gray-500",false:""},stacked:{true:"border-2 -ms-4 border-white dark:border-gray-800",false:""},size:{xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-20 h-20",xl:"w-36 h-36"}},defaultVariants:{cornerStyle:"circular",border:!1,stacked:!1,size:"md"}});var root_2$Q=template("<a><!></a>"),on_click$B=(Y,T)=>{T(!1)},root_5$l=template('<button type="button" class="m-0.5 -me-1.5 ms-1.5 whitespace-normal rounded p-0.5 text-primary-500 hover:bg-primary-200 focus:outline-none focus:ring-1 focus:ring-primary-400 dark:hover:bg-primary-800 dark:hover:text-primary-300" aria-label="Remove badge"><span class="sr-only">Remove badge</span> <!></button>'),root_1$1V=template("<div><!> <!></div>");function Badge(Y,T){push(T,!0);let k=prop(T,"badgeStatus",15,!0),Z=prop(T,"color",3,"primary"),ee=prop(T,"large",3,!1),te=prop(T,"dismissable",3,!1),ne=prop(T,"transition",3,fade),me=rest_props(T,["$$slots","$$events","$$legacy","children","icon","badgeStatus","color","large","dismissable","class","border","href","target","rounded","transition","params","aClass","onclick"]);const Ve=derived$1(()=>badge({color:Z(),size:ee()?"large":"small",border:T.border,rounded:T.rounded})),Ye=derived$1(()=>get$2(Ve).base),et=derived$1(()=>get$2(Ve).hrefClass);var tt=comment(),it=first_child(tt);{var st=nt=>{var rt=root_1$1V();let lt;var ot=child(rt);{var ht=ft=>{var vt=root_2$Q(),mt=child(vt);snippet(mt,()=>T.children),template_effect(_t=>{set_attribute(vt,"href",T.href),set_attribute(vt,"target",T.target),set_class(vt,1,_t)},[()=>clsx(get$2(et)({class:T.aClass}))]),append(ft,vt)},dt=ft=>{var vt=comment(),mt=first_child(vt);snippet(mt,()=>T.children),append(ft,vt)};if_block(ot,ft=>{T.href?ft(ht):ft(dt,!1)})}var ct=sibling(ot,2);{var ut=ft=>{var vt=comment(),mt=first_child(vt);{var _t=Tt=>{var xt=root_5$l();xt.__click=[on_click$B,k];var yt=sibling(child(xt),2);snippet(yt,()=>T.icon),append(Tt,xt)},Et=(Tt,xt)=>{{var yt=At=>{const Ct=derived$1(()=>ee()?"sm":"xs");CloseButton(At,{class:"-me-1.5 ms-1.5",get color(){return Z()},get size(){return get$2(Ct)},ariaLabel:"Remove badge",get onclick(){return T.onclick}})},St=At=>{const Ct=derived$1(()=>ee()?"sm":"xs");CloseButton(At,{class:"-me-1.5 ms-1.5",get color(){return Z()},get size(){return get$2(Ct)},ariaLabel:"Remove badge",onclick:()=>{k(!1)}})};if_block(Tt,At=>{T.onclick?At(yt):At(St,!1)},xt)}};if_block(mt,Tt=>{T.icon?Tt(_t):Tt(Et,!1)})}append(ft,vt)};if_block(ct,ft=>{te()&&ft(ut)})}template_effect(ft=>lt=set_attributes(rt,lt,{...me,class:ft}),[()=>get$2(Ye)({className:T.class})]),transition(3,rt,ne,()=>T.params),append(nt,rt)};if_block(it,nt=>{k()&&nt(st)})}append(Y,tt),pop()}delegate(["click"]);const badge=ce$1({slots:{hrefClass:"flex align-middle",base:"font-medium inline-flex items-center justify-center px-2.5 py-0.5"},variants:{color:{primary:{base:"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-300"},secondary:{base:"bg-secondary-100 text-secondary-800 dark:bg-secondary-900 dark:text-secondary-300"},gray:{base:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"},red:{base:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},orange:{base:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"},amber:{base:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300"},yellow:{base:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"},lime:{base:"bg-lime-100 text-lime-800 dark:bg-lime-900 dark:text-lime-300"},green:{base:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"},emerald:{base:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300"},teal:{base:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-300"},cyan:{base:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-300"},sky:{base:"bg-sky-100 text-sky-800 dark:bg-sky-900 dark:text-sky-300"},blue:{base:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"},indigo:{base:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300"},violet:{base:"bg-violet-100 text-violet-800 dark:bg-violet-900 dark:text-violet-300"},fuchsia:{base:"bg-fuchsia-100 text-fuchsia-800 dark:bg-fuchsia-900 dark:text-fuchsia-300"},purple:{base:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"},pink:{base:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300"},rose:{base:"bg-rose-100 text-rose-800 dark:bg-rose-900 dark:text-rose-300"}},size:{small:"text-xs",large:"text-sm"},border:{true:"border"},rounded:{true:"rounded-full",false:"rounded"}},compoundVariants:[{border:!0,color:"primary",class:"bg-primary-100 text-primary-800 dark:bg-primary-700/50 dark:text-primary-400 border-primary-400 dark:border-primary-400"},{border:!0,color:"secondary",class:"bg-secondary-100 text-secondary-800 dark:bg-secondary-700/50 dark:text-secondary-400 border-secondary-400 dark:border-secondary-400"},{border:!0,color:"gray",class:"bg-gray-100 text-gray-800 dark:bg-gray-700/50 dark:text-gray-400 border-gray-400 dark:border-gray-400"},{border:!0,color:"red",class:"bg-red-100 text-red-800 dark:bg-red-700/50 dark:text-red-400 border-red-400 dark:border-red-400"},{border:!0,color:"orange",class:"bg-orange-100 text-orange-800 dark:bg-orange-700/50 dark:text-orange-400 border-orange-400 dark:border-orange-400"},{border:!0,color:"amber",class:"bg-amber-100 text-amber-800 dark:bg-amber-700/50 dark:text-amber-400 border-amber-400 dark:border-amber-400"},{border:!0,color:"yellow",class:"bg-yellow-100 text-yellow-800 dark:bg-yellow-700/50 dark:text-yellow-300 border-yellow-300 dark:border-yellow-300"},{border:!0,color:"lime",class:"bg-lime-100 text-lime-800 dark:bg-lime-700/50 dark:text-lime-400 border-lime-400 dark:border-lime-400"},{border:!0,color:"green",class:"bg-green-100 text-green-800 dark:bg-green-700/50 dark:text-green-400 border-green-400 dark:border-green-400"},{border:!0,color:"emerald",class:"bg-emerald-100 text-emerald-800 dark:bg-emerald-700/50 dark:text-emerald-400 border-emerald-400 dark:border-emerald-400"},{border:!0,color:"teal",class:"bg-teal-100 text-teal-800 dark:bg-teal-700/50 dark:text-teal-400 border-teal-400 dark:border-teal-400"},{border:!0,color:"cyan",class:"bg-cyan-100 text-cyan-800 dark:bg-cyan-700/50 dark:text-cyan-400 border-cyan-400 dark:border-cyan-400"},{border:!0,color:"sky",class:"bg-sky-100 text-sky-800 dark:bg-sky-700/50 dark:text-sky-400 border-sky-400 dark:border-sky-400"},{border:!0,color:"blue",class:"bg-blue-100 text-blue-800 dark:bg-blue-700/50 dark:text-blue-400 border-blue-400 dark:border-blue-400"},{border:!0,color:"indigo",class:"bg-indigo-100 text-indigo-800 dark:bg-indigo-700/50 dark:text-indigo-400 border-indigo-400 dark:border-indigo-400"},{border:!0,color:"violet",class:"bg-violet-100 text-violet-800 dark:bg-violet-700/50 dark:text-violet-400 border-violet-400 dark:border-violet-400"},{border:!0,color:"purple",class:"bg-purple-100 text-purple-800 dark:bg-purple-700/50 dark:text-purple-400 border-purple-400 dark:border-purple-400"},{border:!0,color:"fuchsia",class:"bg-fuchsia-100 text-fuchsia-800 dark:bg-fuchsia-700/50 dark:text-fuchsia-400 border-fuchsia-400 dark:border-fuchsia-400"},{border:!0,color:"pink",class:"bg-pink-100 text-pink-800 dark:bg-pink-700/50 dark:text-pink-400 border-pink-400 dark:border-pink-400"},{border:!0,color:"rose",class:"bg-rose-100 text-rose-800 dark:bg-rose-700/50 dark:text-rose-400 border-rose-400 dark:border-rose-400"},{href:!0,color:"primary",class:"hover:bg-primary-200"},{href:!0,color:"secondary",class:"hover:bg-secondary-200"},{href:!0,color:"gray",class:"hover:bg-gray-200"},{href:!0,color:"red",class:"hover:bg-red-200"},{href:!0,color:"orange",class:"hover:bg-orange-200"},{href:!0,color:"amber",class:"hover:bg-amber-200"},{href:!0,color:"yellow",class:"hover:bg-yellow-200"},{href:!0,color:"lime",class:"hover:bg-lime-200"},{href:!0,color:"green",class:"hover:bg-green-200"},{href:!0,color:"emerald",class:"hover:bg-emerald-200"},{href:!0,color:"teal",class:"hover:bg-teal-200"},{href:!0,color:"cyan",class:"hover:bg-cyan-200"},{href:!0,color:"sky",class:"hover:bg-sky-200"},{href:!0,color:"blue",class:"hover:bg-blue-200"},{href:!0,color:"indigo",class:"hover:bg-indigo-200"},{href:!0,color:"violet",class:"hover:bg-violet-200"},{href:!0,color:"purple",class:"hover:bg-purple-200"},{href:!0,color:"fuchsia",class:"hover:bg-fuchsia-200"},{href:!0,color:"pink",class:"hover:bg-pink-200"},{href:!0,color:"rose",class:"hover:bg-rose-200"}],defaultVariants:{color:"primary",size:"small",rounded:!1}});ce$1({slots:{base:"z-10 flex justify-between p-4 dark:bg-gray-700 dark:border-gray-600",insideDiv:"flex items-center"},variants:{position:{static:{base:"static"},fixed:{base:"fixed"},absolute:{base:"absolute"},relative:{base:"relative"},sticky:{base:"sticky"}},bannerType:{default:{base:"top-0 start-0 w-full border-b border-gray-200 bg-gray-50",insideDiv:"mx-auto"},bottom:{base:"bottom-0 start-0 w-full border-t border-gray-200 bg-gray-50",insideDiv:"mx-auto"},cta:{base:"flex-col md:flex-row w-[calc(100%-2rem)] -translate-x-1/2 rtl:translate-x-1/2 bg-white border border-gray-100 rounded-lg shadow-sm lg:max-w-7xl start-1/2 top-6",insideDiv:"flex-col items-start mb-3 me-4 md:items-center md:flex-row md:mb-0"},signup:{base:"top-0 start-0 w-full border-b border-gray-200 bg-gray-50",insideDiv:"flex-shrink-0 w-full mx-auto sm:w-auto"},info:{base:"top-0 start-0 flex-col w-full border-b border-gray-200 md:flex-row bg-gray-50",insideDiv:"flex-shrink-0"}},color:{primary:{base:"bg-primary-50 dark:bg-primary-900"},secondary:{base:"bg-secondary-50 dark:bg-secondary-900"},gray:{base:"bg-gray-50 dark:bg-gray-700"},red:{base:"bg-red-50 dark:bg-red-900"},orange:{base:"bg-orange-50 dark:bg-orange-900"},amber:{base:"bg-amber-50 dark:bg-amber-900"},yellow:{base:"bg-yellow-50 dark:bg-yellow-900"},lime:{base:"bg-lime-50 dark:bg-lime-900"},green:{base:"bg-green-50 dark:bg-green-900"},emerald:{base:"bg-emerald-50 dark:bg-emerald-900"},teal:{base:"bg-teal-50 dark:bg-teal-900"},cyan:{base:"bg-cyan-50 dark:bg-cyan-900"},sky:{base:"bg-sky-50 dark:bg-sky-900"},blue:{base:"bg-blue-50 dark:bg-blue-900"},indigo:{base:"bg-indigo-50 dark:bg-indigo-900"},violet:{base:"bg-violet-50 dark:bg-violet-900"},purple:{base:"bg-purple-50 dark:bg-purple-900"},fuchsia:{base:"bg-fuchsia-50 dark:bg-fuchsia-900"},pink:{base:"bg-pink-50 dark:bg-pink-900"},rose:{base:"bg-rose-50 dark:bg-rose-900"}}},defaultVariants:{position:"sticky",bannerType:"default"}});ce$1({slots:{outer:"w-full z-30 border-gray-200 dark:bg-gray-700 dark:border-gray-600",inner:"grid h-full max-w-lg mx-auto"},variants:{position:{static:{outer:"static"},fixed:{outer:"fixed"},absolute:{outer:"absolute"},relative:{outer:"relative"},sticky:{outer:"sticky"}},navType:{default:{outer:"bottom-0 start-0 h-16 bg-white border-t"},border:{outer:"bottom-0 start-0 h-16 bg-white border-t"},application:{outer:"h-16 max-w-lg -translate-x-1/2 rtl:translate-x-1/2 bg-white border rounded-full bottom-4 start-1/2"},pagination:{outer:"bottom-0 h-16 -translate-x-1/2 rtl:translate-x-1/2 bg-white border-t start-1/2"},group:{outer:"bottom-0 -translate-x-1/2 rtl:translate-x-1/2 bg-white border-t start-1/2"},card:{outer:"bottom-0 start-0 h-16 bg-white border-t"},meeting:{outer:"bottom-0 start-0 grid h-16 grid-cols-1 px-8 bg-white border-t md:grid-cols-3",inner:"flex items-center justify-center mx-auto"},video:{outer:"bottom-0 start-0 grid h-24 grid-cols-1 px-8 bg-white border-t md:grid-cols-3",inner:"flex items-center w-full"}}},defaultVariants:{position:"fixed",navType:"default"}});ce$1({slots:{base:"inline-flex flex-col items-center justify-center",span:"text-sm"},variants:{navType:{default:{base:"px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group",span:"text-gray-500 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-500"},border:{base:"px-5 border-gray-200 border-x hover:bg-gray-50 dark:hover:bg-gray-800 group dark:border-gray-600",span:"text-gray-500 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-500"},application:{base:"",span:"sr-only"},pagination:{base:"px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group",span:"sr-only"},group:{base:"p-4 hover:bg-gray-50 dark:hover:bg-gray-800 group",span:"sr-only"},card:{base:"px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group",span:"text-gray-500 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-500"},meeting:{base:"",span:""},video:{base:"",span:""}},appBtnPosition:{left:{base:"px-5 rounded-s-full hover:bg-gray-50 dark:hover:bg-gray-800 group"},middle:{base:"px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"},right:{base:"px-5 rounded-e-full hover:bg-gray-50 dark:hover:bg-gray-800 group"}}},defaultVariants:{navType:"default",appBtnPosition:"middle",active:!1}});ce$1({slots:{innerDiv:"grid max-w-xs grid-cols-3 gap-1 p-1 mx-auto my-2 bg-gray-100 rounded-lg dark:bg-gray-600",outerDiv:"w-full"}});ce$1({base:"px-5 py-1.5 text-xs font-medium rounded-lg",variants:{active:{true:"text-white bg-gray-900 dark:bg-gray-300 dark:text-gray-900",false:"text-gray-900 hover:bg-gray-200 dark:text-white dark:hover:bg-gray-700"}}});ce$1({slots:{nav:"flex",list:"inline-flex items-center space-x-1 rtl:space-x-reverse md:space-x-3 rtl:space-x-reverse",item:"inline-flex items-center",icon:"h-6 w-6 text-gray-400 rtl:-scale-x-100"},variants:{solid:{true:{nav:"px-5 py-3 text-gray-700 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},false:""},home:{true:"",false:""},hasHref:{true:"",false:""}},compoundVariants:[{home:!0,class:{item:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",icon:"me-2 h-4 w-4"}},{home:!1,hasHref:!0,class:{item:"ms-1 text-sm font-medium text-gray-700 hover:text-gray-900 md:ms-2 dark:text-gray-400 dark:hover:text-white"}},{home:!1,hasHref:!1,class:{item:"ms-1 text-sm font-medium text-gray-500 md:ms-2 dark:text-gray-400"}}],defaultVariants:{solid:!1}});ce$1({base:"inline-flex rounded-lg shadow-xs",variants:{size:{sm:"scale-90",md:"scale-100",lg:"scale-110"}},defaultVariants:{size:"md"}});function getTheme(Y){const T=getContext("theme");return T==null?void 0:T[Y]}function warnThemeDeprecation(Y,T,k){}const button=ce$1({slots:{base:"text-center font-medium inline-flex items-center justify-center",outline:"bg-transparent border hover:text-white dark:bg-transparent dark:hover-text-white",shadow:"shadow-lg"},variants:{color:{primary:{base:"text-white bg-primary-700 hover:bg-primary-800 dark:bg-primary-600 dark:hover:bg-primary-700 focus-within:ring-primary-300 dark:focus-within:ring-primary-800",outline:"text-primary-700 border-primary-700 hover:bg-primary-800 dark:border-primary-500 dark:text-primary-500 dark:hover:bg-primary-600",shadow:"shadow-primary-500/50 dark:shadow-primary-800/80"},dark:{base:"text-white bg-gray-800 hover:bg-gray-900 dark:bg-gray-800 dark:hover:bg-gray-700 focus-within:ring-gray-300 dark:focus-within:ring-gray-700",outline:"text-gray-900 border-gray-800 hover:bg-gray-900 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-600",shadow:"shadow-gray-500/50 gray:shadow-gray-800/80"},alternative:{base:"text-gray-900 bg-transparent border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-400 hover:text-primary-700 focus-within:text-primary-700 dark:focus-within:text-white dark:hover:text-white dark:hover:bg-gray-700 focus-within:ring-gray-200 dark:focus-within:ring-gray-700",outline:"text-gray-700 border-gray-700 hover:bg-gray-800 dark:border-gray-400 dark:text-gray-400 dark:hover:bg-gray-500",shadow:"_shadow-gray-500/50 dark:shadow-gray-800/80"},light:{base:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 focus-within:ring-gray-200 dark:focus-within:ring-gray-700",outline:"text-gray-700 border-gray-700 hover:bg-gray-800 dark:border-gray-400 dark:text-gray-400 dark:hover:bg-gray-500",shadow:"shadow-gray-500/50 dark:shadow-gray-800/80"},secondary:{base:"text-white bg-secondary-700 hover:bg-secondary-800 dark:bg-secondary-600 dark:hover:bg-secondary-700 focus-within:ring-secondary-300 dark:focus-within:ring-secondary-800",outline:"text-secondary-700 border-secondary-700 hover:bg-secondary-800 dark:border-secondary-400 dark:text-secondary-400 dark:hover:bg-secondary-500",shadow:"shadow-secondary-500/50 dark:shadow-secondary-800/80"},gray:{base:"text-white bg-gray-700 hover:bg-gray-800 dark:bg-gray-600 dark:hover:bg-gray-700 focus-within:ring-gray-300 dark:focus-within:ring-gray-800",outline:"text-gray-700 border-gray-700 hover:bg-gray-800 dark:border-gray-400 dark:text-gray-400 dark:hover:bg-gray-500",shadow:"shadow-gray-500/50 dark:shadow-gray-800/80"},red:{base:"text-white bg-red-700 hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700 focus-within:ring-red-300 dark:focus-within:ring-red-900",outline:"text-red-700 border-red-700 hover:bg-red-800 dark:border-red-500 dark:text-red-500 dark:hover:bg-red-600",shadow:"shadow-red-500/50 dark:shadow-red-800/80"},orange:{base:"text-white bg-orange-700 hover:bg-orange-800 dark:bg-orange-600 dark:hover:bg-orange-700 focus-within:ring-orange-300 dark:focus-within:ring-orange-900",outline:"text-orange-700 border-orange-700 hover:bg-orange-800 dark:border-orange-400 dark:text-orange-400 dark:hover:bg-orange-500",shadow:"shadow-orange-500/50 dark:shadow-orange-800/80"},amber:{base:"text-white bg-amber-700 hover:bg-amber-800 dark:bg-amber-600 dark:hover:bg-amber-700 focus-within:ring-amber-300 dark:focus-within:ring-amber-900",outline:"text-amber-700 border-amber-700 hover:bg-amber-800 dark:border-amber-400 dark:text-amber-400 dark:hover:bg-amber-500",shadow:"shadow-amber-500/50 dark:shadow-amber-800/80"},yellow:{base:"text-white bg-yellow-400 hover:bg-yellow-500 focus-within:ring-yellow-300 dark:focus-within:ring-yellow-900",outline:"text-yellow-400 border-yellow-400 hover:bg-yellow-500 dark:border-yellow-300 dark:text-yellow-300 dark:hover:bg-yellow-400",shadow:"shadow-yellow-500/50 dark:shadow-yellow-800/80"},lime:{base:"text-white bg-lime-700 hover:bg-lime-800 dark:bg-lime-600 dark:hover:bg-lime-700 focus-within:ring-lime-300 dark:focus-within:ring-lime-800",outline:"text-lime-700 border-lime-700 hover:bg-lime-800 dark:border-lime-400 dark:text-lime-400 dark:hover:bg-lime-500",shadow:"shadow-lime-500/50 dark:shadow-lime-800/80"},green:{base:"text-white bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700 focus-within:ring-green-300 dark:focus-within:ring-green-800",outline:"text-green-700 border-green-700 hover:bg-green-800 dark:border-green-500 dark:text-green-500 dark:hover:bg-green-600",shadow:"shadow-green-500/50 dark:shadow-green-800/80"},emerald:{base:"text-white bg-emerald-700 hover:bg-emerald-800 dark:bg-emerald-600 dark:hover:bg-emerald-700 focus-within:ring-emerald-300 dark:focus-within:ring-emerald-800",outline:"text-emerald-700 border-emerald-700 hover:bg-emerald-800 dark:border-emerald-400 dark:text-emerald-400 dark:hover:bg-emerald-500",shadow:"shadow-emerald-500/50 dark:shadow-emerald-800/80"},teal:{base:"text-white bg-teal-700 hover:bg-teal-800 dark:bg-teal-600 dark:hover:bg-teal-700 focus-within:ring-teal-300 dark:focus-within:ring-teal-800",outline:"text-teal-700 border-teal-700 hover:bg-teal-800 dark:border-teal-400 dark:text-teal-400 dark:hover:bg-teal-500",shadow:"shadow-teal-500/50 dark:shadow-teal-800/80"},cyan:{base:"text-white bg-cyan-700 hover:bg-cyan-800 dark:bg-cyan-600 dark:hover:bg-cyan-700 focus-within:ring-cyan-300 dark:focus-within:ring-cyan-800",outline:"text-cyan-700 border-cyan-700 hover:bg-cyan-800 dark:border-cyan-400 dark:text-cyan-400 dark:hover:bg-cyan-500",shadow:"shadow-cyan-500/50 dark:shadow-cyan-800/80"},sky:{base:"text-white bg-sky-700 hover:bg-sky-800 dark:bg-sky-600 dark:hover:bg-sky-700 focus-within:ring-sky-300 dark:focus-within:ring-sky-800",outline:"text-sky-700 border-sky-700 hover:bg-sky-800 dark:border-sky-400 dark:text-sky-400 dark:hover:bg-sky-500",shadow:"shadow-sky-500/50 dark:shadow-sky-800/80"},blue:{base:"text-white bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 focus-within:ring-blue-300 dark:focus-within:ring-blue-800",outline:"text-blue-700 border-blue-700 hover:bg-blue-800 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500",shadow:"shadow-blue-500/50 dark:shadow-blue-800/80"},indigo:{base:"text-white bg-indigo-700 hover:bg-indigo-800 dark:bg-indigo-600 dark:hover:bg-indigo-700 focus-within:ring-indigo-300 dark:focus-within:ring-indigo-800",outline:"text-indigo-700 border-indigo-700 hover:bg-indigo-800 dark:border-indigo-400 dark:text-indigo-400 dark:hover:bg-indigo-500",shadow:"shadow-indigo-500/50 dark:shadow-indigo-800/80"},violet:{base:"text-white bg-violet-700 hover:bg-violet-800 dark:bg-violet-600 dark:hover:bg-violet-700 focus-within:ring-violet-300 dark:focus-within:ring-violet-800",outline:"text-violet-700 border-violet-700 hover:bg-violet-800 dark:border-violet-400 dark:text-violet-400 dark:hover:bg-violet-500",shadow:"shadow-violet-500/50 dark:shadow-violet-800/80"},purple:{base:"text-white bg-purple-700 hover:bg-purple-800 dark:bg-purple-600 dark:hover:bg-purple-700",outline:"text-purple-700 border-purple-700 hover:bg-purple-800 dark:border-purple-400 dark:text-purple-400 dark:hover:bg-purple-500",shadow:"shadow-purple-500/50 dark:shadow-purple-800/80"},fuchsia:{base:"text-white bg-fuchsia-700 hover:bg-fuchsia-800 dark:bg-fuchsia-600 dark:hover:bg-fuchsia-700",outline:"text-fuchsia-700 border-fuchsia-700 hover:bg-fuchsia-800 dark:border-fuchsia-400 dark:text-fuchsia-400 dark:hover:bg-fuchsia-500",shadow:"shadow-fuchsia-500/50 dark:shadow-fuchsia-800/80"},pink:{base:"text-white bg-pink-700 hover:bg-pink-800 dark:bg-pink-600 dark:hover:bg-pink-700",outline:"text-pink-700 border-pink-700 hover:bg-pink-800 dark:border-pink-400 dark:text-pink-400 dark:hover:bg-pink-500",shadow:"shadow-pink-500/50 dark:shadow-pink-800/80"},rose:{base:"text-white bg-rose-700 hover:bg-rose-800 dark:bg-rose-600 dark:hover:bg-rose-700",outline:"text-rose-700 border-rose-700 hover:bg-rose-800 dark:border-rose-400 dark:text-rose-400 dark:hover:bg-rose-500",shadow:"shadow-rose-500/50 dark:shadow-rose-800/80"}},size:{xs:"px-3 py-2 text-xs",sm:"px-4 py-2 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-5 py-3 text-base",xl:"px-6 py-3.5 text-base"},group:{true:"focus-within:ring-2 focus-within:z-10 [&:not(:first-child)]:rounded-s-none [&:not(:last-child)]:rounded-e-none [&:not(:last-child)]:border-e-0",false:"focus-within:ring-4 focus-within:outline-hidden"},disabled:{true:"cursor-not-allowed opacity-50",false:""},pill:{true:"rounded-full",false:"rounded-lg"},checked:{true:"",false:""}},compoundVariants:[],defaultVariants:{pill:!1}});ce$1({slots:{base:"inline-flex items-center justify-center transition-all duration-75 ease-in text-white bg-linear-to-r ",outlineWrapper:"inline-flex items-center justify-center w-full border-0!"},variants:{color:{blue:{base:"from-blue-500 via-blue-600 to-blue-700 hover:bg-linear-to-br focus:ring-blue-300 dark:focus:ring-blue-800"},green:{base:"from-green-400 via-green-500 to-green-600 hover:bg-linear-to-br focus:ring-green-300 dark:focus:ring-green-800"},cyan:{base:"text-white bg-linear-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-linear-to-br focus:ring-cyan-300 dark:focus:ring-cyan-800"},teal:{base:"text-white bg-linear-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-linear-to-br focus:ring-teal-300 dark:focus:ring-teal-800"},lime:{base:"text-gray-900 bg-linear-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-linear-to-br focus:ring-lime-300 dark:focus:ring-lime-800"},red:{base:"text-white bg-linear-to-r from-red-400 via-red-500 to-red-600 hover:bg-linear-to-br focus:ring-red-300 dark:focus:ring-red-800"},pink:{base:"text-white bg-linear-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-linear-to-br focus:ring-pink-300 dark:focus:ring-pink-800"},purple:{base:"text-white bg-linear-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-linear-to-br focus:ring-purple-300 dark:focus:ring-purple-800"},purpleToBlue:{base:"text-white bg-linear-to-br from-purple-600 to-blue-500 hover:bg-linear-to-bl focus:ring-blue-300 dark:focus:ring-blue-800"},cyanToBlue:{base:"text-white bg-linear-to-r from-cyan-500 to-blue-500 hover:bg-linear-to-bl focus:ring-cyan-300 dark:focus:ring-cyan-800"},greenToBlue:{base:"text-white bg-linear-to-br from-green-400 to-blue-600 hover:bg-linear-to-bl focus:ring-green-200 dark:focus:ring-green-800"},purpleToPink:{base:"text-white bg-linear-to-r from-purple-500 to-pink-500 hover:bg-linear-to-l focus:ring-purple-200 dark:focus:ring-purple-800"},pinkToOrange:{base:"text-white bg-linear-to-br from-pink-500 to-orange-400 hover:bg-linear-to-bl focus:ring-pink-200 dark:focus:ring-pink-800"},tealToLime:{base:"text-gray-900 bg-linear-to-r from-teal-200 to-lime-200 hover:bg-linear-to-l focus:ring-lime-200 dark:focus:ring-teal-700"},redToYellow:{base:"text-gray-900 bg-linear-to-r from-red-200 via-red-300 to-yellow-200 hover:bg-linear-to-bl focus:ring-red-100 dark:focus:ring-red-400"}},outline:{true:{base:"p-0.5",outlineWrapper:"bg-white text-gray-900! dark:bg-gray-900 dark:text-white! hover:bg-transparent hover:text-inherit! group-hover:opacity-0! group-hover:text-inherit!"}},pill:{true:{base:"rounded-full",outlineWrapper:"rounded-full"},false:{base:"rounded-lg",outlineWrapper:"rounded-lg"}},size:{xs:"px-3 py-2 text-xs",sm:"px-4 py-2 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-5 py-3 text-base",xl:"px-6 py-3.5 text-base"},shadow:{true:{base:"shadow-lg"}},group:{true:"rounded-none",false:""},disabled:{true:{base:"opacity-50 cursor-not-allowed"}}},compoundVariants:[{shadow:!0,color:"blue",class:{base:"shadow-blue-500/50 dark:shadow-blue-800/80"}},{shadow:!0,color:"green",class:{base:"shadow-green-500/50 dark:shadow-green-800/80"}},{shadow:!0,color:"cyan",class:{base:"shadow-cyan-500/50 dark:shadow-cyan-800/80"}},{shadow:!0,color:"teal",class:{base:"shadow-teal-500/50 dark:shadow-teal-800/80"}},{shadow:!0,color:"lime",class:{base:"shadow-lime-500/50 dark:shadow-lime-800/80"}},{shadow:!0,color:"red",class:{base:"shadow-red-500/50 dark:shadow-red-800/80"}},{shadow:!0,color:"pink",class:{base:"shadow-pink-500/50 dark:shadow-pink-800/80"}},{shadow:!0,color:"purple",class:{base:"shadow-purple-500/50 dark:shadow-purple-800/80"}},{shadow:!0,color:"purpleToBlue",class:{base:"shadow-blue-500/50 dark:shadow-blue-800/80"}},{shadow:!0,color:"cyanToBlue",class:{base:"shadow-cyan-500/50 dark:shadow-cyan-800/80"}},{shadow:!0,color:"greenToBlue",class:{base:"shadow-green-500/50 dark:shadow-green-800/80"}},{shadow:!0,color:"purpleToPink",class:{base:"shadow-purple-500/50 dark:shadow-purple-800/80"}},{shadow:!0,color:"pinkToOrange",class:{base:"shadow-pink-500/50 dark:shadow-pink-800/80"}},{shadow:!0,color:"tealToLime",class:{base:"shadow-lime-500/50 dark:shadow-teal-800/80"}},{shadow:!0,color:"redToYellow",class:{base:"shadow-red-500/50 dark:shadow-red-800/80"}},{group:!0,pill:!0,class:"first:rounded-s-full last:rounded-e-full"},{group:!0,pill:!1,class:"first:rounded-s-lg last:rounded-e-lg"}]});var root_1$1U=template("<a><!></a>"),root_4$w=ns_template('<svg class="ml-2 h-4 w-4 animate-spin text-white" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>'),root_3$G=template("<button><!> <!></button>");function Button(Y,T){push(T,!0);const k=getContext("group"),Z=getContext("disabled");let ee=prop(T,"outline",3,!1),te=prop(T,"size",3,"md"),ne=prop(T,"shadow",3,!1),me=prop(T,"tag",3,"button"),Ve=prop(T,"loading",3,!1),Ye=rest_props(T,["$$slots","$$events","$$legacy","children","pill","outline","size","color","shadow","tag","disabled","loading","class"]);const et=getTheme("button");let tt=derived$1(()=>k?"sm":te()),it=derived$1(()=>T.color??(k?ee()?"dark":"alternative":"primary")),st=derived$1(()=>!!Z||!!T.disabled||Ve());const nt=derived$1(()=>button({color:get$2(it),size:get$2(tt),disabled:get$2(st),pill:T.pill,group:!!k})),rt=derived$1(()=>get$2(nt).base),lt=derived$1(()=>get$2(nt).outline),ot=derived$1(()=>get$2(nt).shadow);let ht=derived$1(()=>get$2(rt)({class:clsx$1(ee()&&get$2(lt)(),ne()&&get$2(ot)(),et==null?void 0:et.base,T.class)}));var dt=comment(),ct=first_child(dt);{var ut=vt=>{var mt=root_1$1U();let _t;var Et=child(mt);snippet(Et,()=>T.children??noop$3),template_effect(()=>_t=set_attributes(mt,_t,{...Ye,class:get$2(ht)})),append(vt,mt)},ft=(vt,mt)=>{{var _t=Tt=>{var xt=root_3$G();let yt;var St=child(xt);snippet(St,()=>T.children??noop$3);var At=sibling(St,2);{var Ct=It=>{var Ot=root_4$w();append(It,Ot)};if_block(At,It=>{Ve()&&It(Ct)})}template_effect(()=>yt=set_attributes(xt,yt,{type:"button",...Ye,class:get$2(ht),disabled:get$2(st)})),append(Tt,xt)},Et=Tt=>{var xt=comment(),yt=first_child(xt);element(yt,me,!1,(St,At)=>{let Ct;template_effect(()=>Ct=set_attributes(St,Ct,{...Ye,class:get$2(ht)}));var It=comment(),Ot=first_child(It);snippet(Ot,()=>T.children??noop$3),append(At,It)}),append(Tt,xt)};if_block(vt,Tt=>{me()==="button"?Tt(_t):Tt(Et,!1)},mt)}};if_block(ct,vt=>{T.href!==void 0?vt(ut):vt(ft,!1)})}append(Y,dt),pop()}ce$1({slots:{base:"w-full flex max-w-sm bg-white border border-gray-200 rounded-lg dark:bg-gray-800 dark:border-gray-700",image:"rounded-t-lg",content:""},variants:{size:{xs:{base:"max-w-xs"},sm:{base:"max-w-sm"},md:{base:"max-w-lg"},lg:{base:"max-w-2xl"},xl:{base:"max-w-screen-xl"}},color:{gray:{base:"border-gray-200 dark:bg-gray-800 dark:border-gray-700"},primary:{base:"border-primary-200 bg-primary-400 dark:bg-primary-800 dark:border-primary-700"},secondary:{base:"border-secondary-200 bg-secondary-400 dark:bg-secondary-800 dark:border-secondary-700"},red:{base:"border-red-200 bg-red-400 dark:bg-red-800 dark:border-red-700"},orange:{base:"border-orange-200 bg-orange-400 dark:bg-orange-800 dark:border-orange-700"},amber:{base:"border-amber-200 bg-amber-400 dark:bg-amber-800 dark:border-amber-700"},yellow:{base:"border-yellow-200 bg-yellow-400 dark:bg-yellow-800 dark:border-yellow-700"},lime:{base:"border-lime-200 bg-lime-400 dark:bg-lime-800 dark:border-lime-700"},green:{base:"border-green-200 bg-green-400 dark:bg-green-800 dark:border-green-700"},emerald:{base:"border-emerald-200 bg-emerald-400 dark:bg-emerald-800 dark:border-emerald-700"},teal:{base:"border-teal-200 bg-teal-400 dark:bg-teal-800 dark:border-teal-700"},cyan:{base:"border-cyan-200 bg-cyan-400 dark:bg-cyan-800 dark:border-cyan-700"},sky:{base:"border-sky-200 bg-sky-400 dark:bg-sky-800 dark:border-sky-700"},blue:{base:"border-blue-200 bg-blue-400 dark:bg-blue-800 dark:border-blue-700"},indigo:{base:"border-indigo-200 bg-indigo-400 dark:bg-indigo-800 dark:border-indigo-700"},violet:{base:"border-violet-200 bg-violet-400 dark:bg-violet-800 dark:border-violet-700"},purple:{base:"border-purple-200 bg-purple-400 dark:bg-purple-800 dark:border-purple-700"},fuchsia:{base:"border-fuchsia-200 bg-fuchsia-400 dark:bg-fuchsia-800 dark:border-fuchsia-700"},pink:{base:"border-pink-200 bg-pink-400 dark:bg-pink-800 dark:border-pink-700"},rose:{base:"border-rose-200 bg-rose-400 dark:bg-rose-800 dark:border-rose-700"}},shadow:{sm:{base:"shadow-md"},normal:{base:"shadow"},md:{base:"shadow-md"},lg:{base:"shadow-lg"},xl:{base:"shadow-xl"},"2xl":{base:"shadow-2xl"},inner:{base:"shadow-inner"}},padding:{xs:{content:"p-2"},sm:{content:"p-4 md:p-6"},md:{content:"p-4 sm:p-5 md:p-7"},lg:{content:"p-4 sm:p-6 md:p-8"},xl:{content:"p-4 sm:p-8 md:p-10"},none:{content:"p-0"}},horizontal:{true:{base:"md:flex-row",image:"object-cover w-full h-96 md:h-auto md:w-48 md:rounded-none"}},reverse:{true:{base:"flex-col-reverse",image:"rounded-b-lg rounded-tl-none"},false:{base:"flex-col",image:"rounded-t-lg"}},href:{true:"",false:""},hasImage:{true:"",false:""}},compoundVariants:[{horizontal:!0,reverse:!0,class:{base:"md:flex-row-reverse",image:"md:rounded-e-lg"}},{horizontal:!0,reverse:!1,class:{base:"md:flex-row",image:"md:rounded-s-lg"}},{href:!0,color:"gray",class:{base:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700"}},{href:!0,color:"primary",class:{base:"cursor-pointer hover:bg-primary-500 dark:hover:bg-primary-700"}},{href:!0,color:"secondary",class:{base:"cursor-pointer hover:bg-secondary-500 dark:hover:bg-secondary-700"}},{href:!0,color:"red",class:{base:"cursor-pointer hover:bg-red-500 dark:hover:bg-red-700"}},{href:!0,color:"orange",class:{base:"cursor-pointer hover:bg-orange-500 dark:hover:bg-orange-700"}},{href:!0,color:"amber",class:{base:"cursor-pointer hover:bg-amber-500 dark:hover:bg-amber-700"}},{href:!0,color:"yellow",class:{base:"cursor-pointer hover:bg-yellow-500 dark:hover:bg-yellow-700"}},{href:!0,color:"lime",class:{base:"cursor-pointer hover:bg-lime-500 dark:hover:bg-lime-700"}},{href:!0,color:"green",class:{base:"cursor-pointer hover:bg-green-500 dark:hover:bg-green-700"}},{href:!0,color:"emerald",class:{base:"cursor-pointer hover:bg-emerald-500 dark:hover:bg-emerald-700"}},{href:!0,color:"teal",class:{base:"cursor-pointer hover:bg-teal-500 dark:hover:bg-teal-700"}},{href:!0,color:"cyan",class:{base:"cursor-pointer hover:bg-cyan-500 dark:hover:bg-cyan-700"}},{href:!0,color:"sky",class:{base:"cursor-pointer hover:bg-sky-500 dark:hover:bg-sky-700"}},{href:!0,color:"blue",class:{base:"cursor-pointer hover:bg-blue-500 dark:hover:bg-blue-700"}},{href:!0,color:"indigo",class:{base:"cursor-pointer hover:bg-indigo-500 dark:hover:bg-indigo-700"}},{href:!0,color:"violet",class:{base:"cursor-pointer hover:bg-violet-500 dark:hover:bg-violet-700"}},{href:!0,color:"purple",class:{base:"cursor-pointer hover:bg-purple-500 dark:hover:bg-purple-700"}},{href:!0,color:"fuchsia",class:{base:"cursor-pointer hover:bg-fuchsia-500 dark:hover:bg-fuchsia-700"}},{href:!0,color:"pink",class:{base:"cursor-pointer hover:bg-pink-500 dark:hover:bg-pink-700"}},{href:!0,color:"rose",class:{base:"cursor-pointer hover:bg-rose-500 dark:hover:bg-rose-700"}}],defaultVariants:{size:"sm",shadow:"normal",padding:"lg",horizontal:!1,reverse:!1}});ce$1({base:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none rounded-lg text-sm p-2.5 focus:ring-1"});ce$1({slots:{div:"relative mx-auto border-gray-800 dark:border-gray-800 bg-gray-800 border-[14px] rounded-xl h-[600px] w-[300px] shadow-xl",slot:"rounded-xl overflow-hidden w-[272px] h-[572px] bg-white dark:bg-gray-800",top:"w-[148px] h-[18px] bg-gray-800 top-0 rounded-b-[1rem] left-1/2 -translate-x-1/2 absolute",leftTop:"h-[32px] w-[3px] bg-gray-800 absolute -left-[17px] top-[72px] rounded-l-lg",leftMid:"h-[46px] w-[3px] bg-gray-800 absolute -left-[17px] top-[124px] rounded-l-lg",leftBot:"h-[46px] w-[3px] bg-gray-800 absolute -left-[17px] top-[178px] rounded-l-lg",right:"h-[64px] w-[3px] bg-gray-800 absolute -right-[17px] top-[142px] rounded-r-lg"}});ce$1({slots:{div:"relative mx-auto border-gray-800 dark:border-gray-800 bg-gray-800 border-[14px] rounded-[2.5rem] h-[600px] w-[300px]",slot:"rounded-[2rem] overflow-hidden w-[272px] h-[572px] bg-white dark:bg-gray-800",top:"h-[32px] w-[3px] bg-gray-800 dark:bg-gray-800 absolute -left-[17px] top-[72px] rounded-l-lg",leftTop:"h-[46px] w-[3px] bg-gray-800 dark:bg-gray-800 absolute -left-[17px] top-[124px] rounded-l-lg",leftBot:"h-[46px] w-[3px] bg-gray-800 dark:bg-gray-800 absolute -left-[17px] top-[178px] rounded-l-lg",right:"h-[64px] w-[3px] bg-gray-800 dark:bg-gray-800 absolute -right-[17px] top-[142px] rounded-r-lg"}});ce$1({slots:{inner:"rounded-xl overflow-hidden h-[140px] md:h-[262px]",bot:"relative mx-auto bg-gray-900 dark:bg-gray-700 rounded-b-xl h-[24px] max-w-[301px] md:h-[42px] md:max-w-[512px]",botUnder:"relative mx-auto bg-gray-800 rounded-b-xl h-[55px] max-w-[83px] md:h-[95px] md:max-w-[142px]",div:"relative mx-auto border-gray-800 dark:border-gray-800 bg-gray-800 border-[16px] rounded-t-xl h-[172px] max-w-[301px] md:h-[294px] md:max-w-[512px]"}});ce$1({slots:{div:"relative mx-auto border-gray-800 dark:border-gray-800 bg-gray-800 border-[14px] rounded-[2.5rem] h-[600px] w-[300px] shadow-xl",slot:"rounded-[2rem] overflow-hidden w-[272px] h-[572px] bg-white dark:bg-gray-800",top:"w-[148px] h-[18px] bg-gray-800 top-0 rounded-b-[1rem] left-1/2 -translate-x-1/2 absolute",leftTop:"h-[46px] w-[3px] bg-gray-800 absolute -left-[17px] top-[124px] rounded-l-lg",leftBot:"h-[46px] w-[3px] bg-gray-800 absolute -left-[17px] top-[178px] rounded-l-lg",right:"h-[64px] w-[3px] bg-gray-800 absolute -right-[17px] top-[142px] rounded-r-lg"}});ce$1({slots:{div:"relative mx-auto border-gray-800 dark:border-gray-800 bg-gray-800 border-[8px] rounded-t-xl h-[172px] max-w-[301px] md:h-[294px] md:max-w-[512px]",inner:"rounded-lg overflow-hidden h-[156px] md:h-[278px] bg-white dark:bg-gray-800",bot:"relative mx-auto bg-gray-900 dark:bg-gray-700 rounded-b-xl rounded-t-sm h-[17px] max-w-[351px] md:h-[21px] md:max-w-[597px]",botCen:"absolute left-1/2 top-0 -translate-x-1/2 rounded-b-xl w-[56px] h-[5px] md:w-[96px] md:h-[8px] bg-gray-800"}});ce$1({slots:{div:"relative mx-auto bg-gray-800 dark:bg-gray-700 rounded-t-[2.5rem] h-[63px] max-w-[133px]",slot:"rounded-[2rem] overflow-hidden h-[193px] w-[188px]",rightTop:"h-[41px] w-[6px] bg-gray-800 dark:bg-gray-800 absolute -right-[16px] top-[40px] rounded-r-lg",rightBot:"h-[32px] w-[6px] bg-gray-800 dark:bg-gray-800 absolute -right-[16px] top-[88px] rounded-r-lg",top:"relative mx-auto border-gray-900 dark:bg-gray-800 dark:border-gray-800 border-[10px] rounded-[2.5rem] h-[213px] w-[208px]",bot:"relative mx-auto bg-gray-800 dark:bg-gray-700 rounded-b-[2.5rem] h-[63px] max-w-[133px]"}});ce$1({slots:{div:"relative mx-auto border-gray-800 dark:border-gray-800 bg-gray-800 border-[14px] rounded-[2.5rem] h-[454px] max-w-[341px] md:h-[682px] md:max-w-[512px]",slot:"rounded-[2rem] overflow-hidden h-[426px] md:h-[654px] bg-white dark:bg-gray-800",leftTop:"h-[32px] w-[3px] bg-gray-800 dark:bg-gray-800 absolute -left-[17px] top-[72px] rounded-l-lg",leftMid:"h-[46px] w-[3px] bg-gray-800 dark:bg-gray-800 absolute -left-[17px] top-[124px] rounded-l-lg",leftBot:"h-[46px] w-[3px] bg-gray-800 dark:bg-gray-800 absolute -left-[17px] top-[178px] rounded-l-lg",right:"h-[64px] w-[3px] bg-gray-800 dark:bg-gray-800 absolute -right-[17px] top-[142px] rounded-r-lg"}});ce$1({base:"mt-2 divide-y divide-gray-300 dark:divide-gray-500 overflow-hidden rounded-lg bg-white shadow-sm dark:bg-gray-700"});ce$1({base:"my-1 h-px bg-gray-100 dark:bg-gray-500"});ce$1({base:"px-4 py-3 text-sm text-gray-900 dark:text-white"});ce$1({slots:{base:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",active:"block px-4 py-2 text-primary-700 dark:text-primary-600 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",li:""}});ce$1({base:"py-2 text-sm text-gray-700 dark:text-gray-200"});function sineIn(Y){const T=Math.cos(Y*Math.PI*.5);return Math.abs(T)<1e-14?1:1-T}delegate(["click"]);ce$1({slots:{base:"overflow-y-auto z-50 p-4 bg-white dark:bg-gray-800",backdrop:"fixed top-0 start-0 z-50 w-full h-full"},variants:{position:{fixed:{base:"fixed"},absolute:{base:"absolute"}},placement:{left:{base:"inset-y-0 start-0"},right:{base:"inset-y-0 end-0"},top:{base:"inset-x-0 top-0"},bottom:{base:"inset-x-0 bottom-0"}},width:{default:{base:"w-80"},full:{base:"w-full"},half:{base:"w-1/2"}},backdrop:{true:{backdrop:"bg-gray-900 bg-opacity-75"}}},defaultVariants:{position:"fixed",placement:"left",width:"default"}});ce$1({slots:{base:"flex items-center",button:"ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",svg:"h-3 w-3"}});ce$1({base:"bg-white dark:bg-gray-800",variants:{footerType:{default:"p-4 rounded-lg shadow md:flex md:items-center md:justify-between md:p-6",sitemap:"bg-gray-800",socialmedia:"p-4 sm:p-6",logo:"p-4 rounded-lg shadow md:px-6 md:py-8",sticky:"fixed bottom-0 left-0 z-20 w-full p-4 bg-white border-t border-gray-200 shadow md:flex md:items-center md:justify-between md:p-6 dark:bg-gray-800 dark:border-gray-600"}}});ce$1({slots:{base:"flex items-center",span:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",img:"me-3 h-8"}});ce$1({slots:{base:"block text-sm text-gray-500 sm:text-center dark:text-gray-400",link:"hover:underline",bySpan:"ms-1"}});ce$1({base:"text-gray-500 hover:text-gray-900 dark:hover:text-white"});ce$1({base:"text-gray-600 dark:text-gray-400"});ce$1({slots:{base:"me-4 last:me-0 md:me-6",link:"hover:underline"}});ce$1({slots:{image:"h-auto max-w-full rounded-lg",div:"grid"}});ce$1({slots:{base:"flex-shrink-0"},variants:{color:{primary:{base:"bg-primary-500"},secondary:{base:"bg-secondary-500"},gray:{base:"bg-gray-200"},red:{base:"bg-red-500"},orange:{base:"bg-orange-600"},amber:{base:"bg-amber-500"},yellow:{base:"bg-yellow-300"},lime:{base:"bg-lime-500"},green:{base:"bg-green-500"},emerald:{base:"bg-emerald-500"},teal:{base:"bg-teal-500"},cyan:{base:"bg-cyan-500"},sky:{base:"bg-sky-500"},blue:{base:"bg-blue-500"},indigo:{base:"bg-indigo-500"},violet:{base:"bg-violet-500"},purple:{base:"bg-purple-500"},fuchsia:{base:"bg-fuchsia-500"},pink:{base:"bg-pink-500"},rose:{base:"bg-rose-500"}},size:{xs:{base:"w-2 h-2"},sm:{base:"w-2.5 h-2.5"},md:{base:"w-3 h-3"},lg:{base:"w-3.5 h-3.5"},xl:{base:"w-6 h-6"}},cornerStyle:{rounded:{base:"rounded"},circular:{base:"rounded-full"}},border:{true:{base:"border border-gray-300 dark:border-gray-300"},false:{}},hasChildren:{true:{base:"inline-flex items-center justify-center"},false:{}},placement:{default:{base:""},"top-left":{base:"absolute top-0 start-0"},"top-center":{base:"absolute top-0 start-1/2 -translate-x-1/2 rtl:translate-x-1/2"},"top-right":{base:"absolute top-0 end-0"},"center-left":{base:"absolute top-1/2 -translate-y-1/2 start-0"},center:{base:"absolute top-1/2 -translate-y-1/2 start-1/2 -translate-x-1/2 rtl:translate-x-1/2"},"center-right":{base:"absolute top-1/2 -translate-y-1/2 end-0"},"bottom-left":{base:"absolute bottom-0 start-0"},"bottom-center":{base:"absolute bottom-0 start-1/2 -translate-x-1/2 rtl:translate-x-1/2"},"bottom-right":{base:"absolute bottom-0 end-0"}},offset:{true:{},false:{}}},compoundVariants:[{placement:"top-left",offset:!0,class:{base:"-translate-x-1/3 rtl:translate-x-1/3 -translate-y-1/3"}},{placement:"top-center",offset:!0,class:{base:"-translate-y-1/3"}},{placement:"top-right",offset:!0,class:{base:"translate-x-1/3 rtl:-translate-x-1/3 -translate-y-1/3"}},{placement:"center-left",offset:!0,class:{base:"-translate-x-1/3 rtl:translate-x-1/3"}},{placement:"center-right",offset:!0,class:{base:"translate-x-1/3 rtl:-translate-x-1/3"}},{placement:"bottom-left",offset:!0,class:{base:"-translate-x-1/3 rtl:translate-x-1/3 translate-y-1/3"}},{placement:"bottom-center",offset:!0,class:{base:"translate-y-1/3"}},{placement:"bottom-right",offset:!0,class:{base:"translate-x-1/3 rtl:-translate-x-1/3 translate-y-1/3"}}],defaultVariants:{color:"primary",size:"md",cornerStyle:"circular",border:!1,offset:!0,hasChildren:!1}});ce$1({base:"text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"});delegate(["click"]);ce$1({base:"bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 divide-y divide-gray-200 dark:divide-gray-600",variants:{rounded:{true:"rounded-lg",false:""},border:{true:"border border-gray-200 dark:border-gray-700",false:""}},compoundVariants:[{border:!0,class:"divide-gray-200 dark:divide-gray-700"}],defaultVariants:{rounded:!0,border:!0}});ce$1({base:"py-2 px-4 w-full text-sm font-medium list-none",variants:{state:{normal:"",current:"",disabled:""},active:{true:"",false:""}},compoundVariants:[{active:!0,state:"disabled",class:"cursor-not-allowed"},{active:!0,state:"normal",class:"hover:bg-gray-100 hover:text-primary-700 dark:hover:bg-gray-600 dark:hover:text-white focus:z-40 focus:outline-none focus:ring-2 focus:ring-primary-700 focus:text-primary-700 dark:focus:ring-gray-500 dark:focus:text-white"}]});ce$1({slots:{base:"w-full border rounded-lg",div:"flex flex-col md:flex-row p-4 max-w-screen-md justify-center mx-auto mt-2",ul:"grid grid-flow-row gap-y-4 md:gap-x-0 auto-col-max auto-row-max grid-cols-2 md:grid-cols-3 text-sm font-medium",footerDiv:"md:w-1/3 mt-4 md:mt-0"},variants:{full:{}}});const closeButton=ce$1({base:"focus:outline-hidden whitespace-normal disabled:cursor-not-allowed disabled:opacity-50",variants:{color:{primary:"text-primary-500 focus:ring-primary-400 hover:bg-primary-200 dark:hover:bg-primary-800 dark:hover:text-primary-300",secondary:"text-secondary-500 focus:ring-secondary-400 hover:bg-secondary-200 dark:hover:bg-secondary-800 dark:hover:text-secondary-300",gray:"text-gray-500 focus:ring-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-gray-300",red:"text-red-500 focus:ring-red-400 hover:bg-red-200 dark:hover:bg-red-800 dark:hover:text-red-300",orange:"text-orange-500 focus:ring-orange-400 hover:bg-orange-200 dark:hover:bg-orange-800 dark:hover:text-orange-300",amber:"text-amber-500 focus:ring-amber-400 hover:bg-amber-200 dark:hover:bg-amber-800 dark:hover:text-amber-300",yellow:"text-yellow-500 focus:ring-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-800 dark:hover:text-yellow-300",lime:"text-lime-500 focus:ring-lime-400 hover:bg-lime-200 dark:hover:bg-lime-800 dark:hover:text-lime-300",green:"text-green-500 focus:ring-green-400 hover:bg-green-200 dark:hover:bg-green-800 dark:hover:text-green-300",emerald:"text-emerald-500 focus:ring-emerald-400 hover:bg-emerald-200 dark:hover:bg-emerald-800 dark:hover:text-emerald-300",teal:"text-teal-500 focus:ring-teal-400 hover:bg-teal-200 dark:hover:bg-teal-800 dark:hover:text-teal-300",cyan:"text-cyan-500 focus:ring-cyan-400 hover:bg-cyan-200 dark:hover:bg-cyan-800 dark:hover:text-cyan-300",sky:"text-sky-500 focus:ring-sky-400 hover:bg-sky-200 dark:hover:bg-sky-800 dark:hover:text-sky-300",blue:"text-blue-500 focus:ring-blue-400 hover:bg-blue-200 dark:hover:bg-blue-800 dark:hover:text-blue-300",indigo:"text-indigo-500 focus:ring-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-800 dark:hover:text-indigo-300",violet:"text-violet-500 focus:ring-violet-400 hover:bg-violet-200 dark:hover:bg-violet-800 dark:hover:text-violet-300",purple:"text-purple-500 focus:ring-purple-400 hover:bg-purple-200 dark:hover:bg-purple-800 dark:hover:text-purple-300",fuchsia:"text-fuchsia-500 focus:ring-fuchsia-400 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-800 dark:hover:text-fuchsia-300",pink:"text-pink-500 focus:ring-pink-400 hover:bg-pink-200 dark:hover:bg-pink-800 dark:hover:text-pink-300",rose:"text-rose-500 focus:ring-rose-400 hover:bg-rose-200 dark:hover:bg-rose-800 dark:hover:text-rose-300",none:""},size:{xs:"m-0.5 rounded-xs focus:ring-1 p-0.5",sm:"m-0.5 rounded-sm focus:ring-1 p-0.5",md:"m-0.5 rounded-lg focus:ring-2 p-1.5",lg:"m-0.5 rounded-lg focus:ring-2 p-2.5"}},defaultVariants:{color:"gray",size:"md",href:null},slots:{svg:""},compoundVariants:[{size:"xs",class:{svg:"w-3 h-3"}},{size:"sm",class:{svg:"w-3.5 h-3.5"}},{size:["md","lg"],class:{svg:"w-5 h-5"}},{size:["xs","sm","md","lg"],color:"none",class:"focus:ring-0 rounded-none m-0"}]}),DISMISSABLE_KEY=Symbol("dismissable");function createDismissableContext(Y){return setContext(DISMISSABLE_KEY,{dismiss:Y})}function useDismiss(){return getContext(DISMISSABLE_KEY)}var root_2$P=template('<span class="sr-only"> </span>'),root_4$v=ns_template('<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>'),root_1$1T=template("<button><!> <!></button>"),root_6$h=template('<span class="sr-only"> </span>'),root_8$f=ns_template('<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>'),root_5$k=template("<a><!> <!></a>");function CloseButton(Y,T){push(T,!0);let k=prop(T,"color",3,"gray"),Z=prop(T,"name",3,"Close"),ee=prop(T,"size",3,"md"),te=rest_props(T,["$$slots","$$events","$$legacy","children","color","onclick","name","ariaLabel","size","class","svgClass"]);const ne=derived$1(()=>closeButton({color:k(),size:ee()})),me=derived$1(()=>get$2(ne).base),Ve=derived$1(()=>get$2(ne).svg),Ye=useDismiss();function et(rt){var lt,ot;(lt=T.onclick)==null||lt.call(T,rt),!rt.defaultPrevented&&((ot=Ye==null?void 0:Ye.dismiss)==null||ot.call(Ye,rt))}var tt=comment(),it=first_child(tt);{var st=rt=>{var lt=root_1$1T();let ot;var ht=child(lt);{var dt=vt=>{var mt=root_2$P(),_t=child(mt);template_effect(()=>set_text(_t,Z())),append(vt,mt)};if_block(ht,vt=>{Z()&&vt(dt)})}var ct=sibling(ht,2);{var ut=vt=>{var mt=comment(),_t=first_child(mt);snippet(_t,()=>T.children),append(vt,mt)},ft=vt=>{var mt=root_4$v();template_effect(_t=>set_class(mt,0,_t),[()=>clsx(get$2(Ve)({class:T.svgClass}))]),append(vt,mt)};if_block(ct,vt=>{T.children?vt(ut):vt(ft,!1)})}template_effect(vt=>ot=set_attributes(lt,ot,{type:"button",...te,class:vt,onclick:et,"aria-label":T.ariaLabel??Z()}),[()=>get$2(me)({class:clsx$1(T.class)})]),append(rt,lt)},nt=rt=>{var lt=root_5$k();let ot;var ht=child(lt);{var dt=vt=>{var mt=root_6$h(),_t=child(mt);template_effect(()=>set_text(_t,Z())),append(vt,mt)};if_block(ht,vt=>{Z()&&vt(dt)})}var ct=sibling(ht,2);{var ut=vt=>{var mt=comment(),_t=first_child(mt);snippet(_t,()=>T.children),append(vt,mt)},ft=vt=>{var mt=root_8$f();template_effect(_t=>set_class(mt,0,_t),[()=>clsx(get$2(Ve)())]),append(vt,mt)};if_block(ct,vt=>{T.children?vt(ut):vt(ft,!1)})}template_effect(vt=>ot=set_attributes(lt,ot,{...te,onclick:et,class:vt,"aria-label":T.ariaLabel??Z()}),[()=>get$2(me)({class:clsx$1(T.class)})]),append(rt,lt)};if_block(it,rt=>{T.href===void 0?rt(st):rt(nt,!1)})}append(Y,tt),pop()}var root_2$O=template('<div role="presentation"></div>'),root_4$u=template('<div role="presentation"></div>'),root_6$g=template('<div role="presentation" class="fixed start-0 top-0 z-50 h-full w-full"></div>'),root_8$e=template('<div role="presentation" class="fixed start-0 top-0 z-50 h-full w-full"></div>'),root_10$8=template("<h3> </h3>"),root_9$7=template("<div><!> <!></div>"),root_15$4=template("<div><!></div>"),root_1$1S=template("<!> <div><div><div><!> <div><!> <!></div> <!></div></div></div>",1);function Modal(Y,T){push(T,!0);let k=prop(T,"dismissable",3,!0),Z=prop(T,"outsideClose",3,!0),ee=prop(T,"size",3,"md"),te=prop(T,"backdrop",3,!0),ne=prop(T,"position",3,"center"),me=prop(T,"params",19,()=>({duration:100,easing:sineIn})),Ve=prop(T,"transition",3,fade),Ye=prop(T,"rounded",3,!0),et=rest_props(T,["$$slots","$$events","$$legacy","children","header","footer","title","modalStatus","dismissable","closeModal","divClass","contentClass","closeBtnClass","h3Class","headerClass","bodyClass","footerClass","outsideClose","size","backdrop","backdropClass","position","class","params","transition","rounded"]);const tt=derived$1(()=>modal({position:ne(),size:ee(),backdrop:te(),rounded:Ye()})),it=derived$1(()=>get$2(tt).base),st=derived$1(()=>get$2(tt).div),nt=derived$1(()=>get$2(tt).content),rt=derived$1(()=>get$2(tt).backdrop),lt=derived$1(()=>get$2(tt).header),ot=derived$1(()=>get$2(tt).footer),ht=derived$1(()=>get$2(tt).body),dt=derived$1(()=>get$2(tt).closeBtn),ct=derived$1(()=>get$2(tt).h3);var ut=comment(),ft=first_child(ut);{var vt=mt=>{var _t=root_1$1S(),Et=first_child(_t);{var Tt=Gt=>{var Kt=root_2$O();Kt.__click=function(...Pt){var kt;(kt=T.closeModal)==null||kt.apply(this,Pt)},template_effect(Pt=>set_class(Kt,1,Pt),[()=>clsx(get$2(rt)({class:T.backdropClass}))]),append(Gt,Kt)},xt=(Gt,Kt)=>{{var Pt=zt=>{var Wt=root_4$u();template_effect(si=>set_class(Wt,1,si),[()=>clsx(get$2(rt)({class:T.backdropClass}))]),append(zt,Wt)},kt=(zt,Wt)=>{{var si=Zt=>{var Jt=root_6$g();Jt.__click=function(...ti){var di;(di=T.closeModal)==null||di.apply(this,ti)},append(Zt,Jt)},ei=(Zt,Jt)=>{{var ti=di=>{var Qt=root_8$e();append(di,Qt)};if_block(Zt,di=>{!te()&&!Z()&&di(ti)},Jt)}};if_block(zt,Zt=>{!te()&&Z()?Zt(si):Zt(ei,!1)},Wt)}};if_block(Gt,zt=>{te()&&!Z()?zt(Pt):zt(kt,!1)},Kt)}};if_block(Et,Gt=>{te()&&Z()?Gt(Tt):Gt(xt,!1)})}var yt=sibling(Et,2);let St;var At=child(yt),Ct=child(At),It=child(Ct);{var Ot=Gt=>{var Kt=root_9$7(),Pt=child(Kt);{var kt=ei=>{var Zt=root_10$8(),Jt=child(Zt);template_effect(ti=>{set_class(Zt,1,ti),set_text(Jt,T.title)},[()=>clsx(get$2(ct)({class:T.h3Class}))]),append(ei,Zt)},zt=(ei,Zt)=>{{var Jt=ti=>{var di=comment(),Qt=first_child(di);snippet(Qt,()=>T.header),append(ti,di)};if_block(ei,ti=>{T.header&&ti(Jt)},Zt)}};if_block(Pt,ei=>{T.title?ei(kt):ei(zt,!1)})}var Wt=sibling(Pt,2);{var si=ei=>{const Zt=derived$1(()=>get$2(dt)({class:T.closeBtnClass}));CloseButton(ei,{get onclick(){return T.closeModal},get class(){return get$2(Zt)}})};if_block(Wt,ei=>{k()&&ei(si)})}template_effect(ei=>set_class(Kt,1,ei),[()=>clsx(get$2(lt)({class:T.headerClass}))]),append(Gt,Kt)};if_block(It,Gt=>{(T.title||T.header)&&Gt(Ot)})}var Dt=sibling(It,2),Mt=child(Dt);{var $t=Gt=>{const Kt=derived$1(()=>get$2(dt)({class:T.closeBtnClass}));CloseButton(Gt,{get onclick(){return T.closeModal},get class(){return get$2(Kt)}})};if_block(Mt,Gt=>{k()&&!T.title&&!T.header&&Gt($t)})}var Ht=sibling(Mt,2);snippet(Ht,()=>T.children);var Ft=sibling(Dt,2);{var jt=Gt=>{var Kt=root_15$4(),Pt=child(Kt);snippet(Pt,()=>T.footer),template_effect(kt=>set_class(Kt,1,kt),[()=>clsx(get$2(ot)({class:T.footerClass}))]),append(Gt,Kt)};if_block(Ft,Gt=>{T.footer&&Gt(jt)})}template_effect((Gt,Kt,Pt,kt)=>{St=set_attributes(yt,St,{...et,class:Gt,tabindex:"-1"}),set_class(At,1,Kt),set_class(Ct,1,Pt),set_class(Dt,1,kt)},[()=>get$2(it)({className:T.class}),()=>clsx(get$2(st)({class:T.divClass})),()=>clsx(get$2(nt)({class:T.contentClass})),()=>clsx(get$2(ht)({class:T.bodyClass}))]),transition(3,yt,Ve,me),append(mt,_t)};if_block(ft,mt=>{T.modalStatus&&mt(vt)})}append(Y,ut),pop()}delegate(["click"]);const modal=ce$1({slots:{base:"fixed top-0 start-0 end-0 h-modal md:inset-0 md:h-full z-50 w-full p-4 flex pointer-events-none",div:"flex relative w-full max-h-full",content:"w-full divide-y text-gray-800 dark:text-gray-300 border-gray-300 dark:border-gray-800 divide-gray-300 dark:divide-gray-800 bg-white dark:bg-gray-800 pointer-events-auto",backdrop:"fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 pointer-events-auto",header:"flex justify-between items-center p-4 md:p-5 rounded-t-lg",footer:"flex items-center p-4 md:p-5 space-x-3 rtl:space-x-reverse rounded-b-lg",body:"p-4 md:p-5 space-y-4 flex-1 overflow-y-auto overscroll-contain",closeBtn:"absolute top-3 end-2.5",h3:"text-xl font-semibold text-gray-900 dark:text-white p-0"},variants:{position:{"top-left":{base:"justify-start items-start"},"top-center":{base:"justify-center items-start"},"top-right":{base:"justify-end items-start"},"center-left":{base:"justify-start items-center"},center:{base:"justify-center items-center"},"center-right":{base:"justify-end items-center"},"bottom-left":{base:"justify-start items-end"},"bottom-center":{base:"justify-center items-end"},"bottom-right":{base:"justify-end items-end"},default:{base:"justify-center items-center"}},size:{xs:{div:"max-w-md"},sm:{div:"max-w-lg"},md:{div:"max-w-2xl"},lg:{div:"max-w-4xl"},xl:{div:"max-w-7xl"}},backdrop:{true:{backdrop:"bg-gray-900 bg-opacity-75"}},rounded:{true:{content:"rounded"}},shadow:{true:{content:"shadow-md"}}}});var root_2$N=template('<div role="presentation"></div>'),root_4$t=template('<div role="presentation"></div>'),root_6$f=template('<div role="presentation" class="fixed start-0 top-0 z-50 h-full w-full"></div>'),root_8$d=template('<div role="presentation" class="fixed start-0 top-0 z-50 h-full w-full"></div>'),root_10$7=template("<h3> </h3>"),root_9$6=template("<div><!> <!></div>"),root_15$3=template("<div><!></div>"),root_1$1R=template("<!> <div><div><div><!> <div><!> <!></div> <!></div></div></div>",1);function Modalp(Y,T){push(T,!0);let k=prop(T,"dismissable",3,!0),Z=prop(T,"outsideClose",3,!0),ee=prop(T,"size",3,"md"),te=prop(T,"backdrop",3,!0),ne=prop(T,"position",3,"center"),me=prop(T,"params",19,()=>({duration:100,easing:sineIn})),Ve=prop(T,"transition",3,fade),Ye=prop(T,"rounded",3,!0),et=rest_props(T,["$$slots","$$events","$$legacy","children","header","footer","title","modalStatus","dismissable","left","top","closeModal","divClass","contentClass","closeBtnClass","h3Class","headerClass","bodyClass","footerClass","outsideClose","size","backdrop","backdropClass","position","class","params","transition","rounded"]);const tt=derived$1(()=>modalp({position:ne(),size:ee(),backdrop:te(),rounded:Ye()})),it=derived$1(()=>get$2(tt).base),st=derived$1(()=>get$2(tt).div),nt=derived$1(()=>get$2(tt).content),rt=derived$1(()=>get$2(tt).backdrop),lt=derived$1(()=>get$2(tt).header),ot=derived$1(()=>get$2(tt).footer),ht=derived$1(()=>get$2(tt).body),dt=derived$1(()=>get$2(tt).closeBtn),ct=derived$1(()=>get$2(tt).h3);var ut=comment(),ft=first_child(ut);{var vt=mt=>{var _t=root_1$1R(),Et=first_child(_t);{var Tt=Gt=>{var Kt=root_2$N();Kt.__click=function(...Pt){var kt;(kt=T.closeModal)==null||kt.apply(this,Pt)},template_effect(Pt=>set_class(Kt,1,Pt),[()=>clsx(get$2(rt)({class:T.backdropClass}))]),append(Gt,Kt)},xt=(Gt,Kt)=>{{var Pt=zt=>{var Wt=root_4$t();template_effect(si=>set_class(Wt,1,si),[()=>clsx(get$2(rt)({class:T.backdropClass}))]),append(zt,Wt)},kt=(zt,Wt)=>{{var si=Zt=>{var Jt=root_6$f();Jt.__click=function(...ti){var di;(di=T.closeModal)==null||di.apply(this,ti)},append(Zt,Jt)},ei=(Zt,Jt)=>{{var ti=di=>{var Qt=root_8$d();append(di,Qt)};if_block(Zt,di=>{!te()&&!Z()&&di(ti)},Jt)}};if_block(zt,Zt=>{!te()&&Z()?Zt(si):Zt(ei,!1)},Wt)}};if_block(Gt,zt=>{te()&&!Z()?zt(Pt):zt(kt,!1)},Kt)}};if_block(Et,Gt=>{te()&&Z()?Gt(Tt):Gt(xt,!1)})}var yt=sibling(Et,2);let St;var At=child(yt),Ct=child(At),It=child(Ct);{var Ot=Gt=>{var Kt=root_9$6(),Pt=child(Kt);{var kt=ei=>{var Zt=root_10$7(),Jt=child(Zt);template_effect(ti=>{set_class(Zt,1,ti),set_text(Jt,T.title)},[()=>clsx(get$2(ct)({class:T.h3Class}))]),append(ei,Zt)},zt=(ei,Zt)=>{{var Jt=ti=>{var di=comment(),Qt=first_child(di);snippet(Qt,()=>T.header),append(ti,di)};if_block(ei,ti=>{T.header&&ti(Jt)},Zt)}};if_block(Pt,ei=>{T.title?ei(kt):ei(zt,!1)})}var Wt=sibling(Pt,2);{var si=ei=>{const Zt=derived$1(()=>get$2(dt)({class:T.closeBtnClass}));CloseButton(ei,{get onclick(){return T.closeModal},get class(){return get$2(Zt)}})};if_block(Wt,ei=>{k()&&ei(si)})}template_effect(ei=>set_class(Kt,1,ei),[()=>clsx(get$2(lt)({class:T.headerClass}))]),append(Gt,Kt)};if_block(It,Gt=>{(T.title||T.header)&&Gt(Ot)})}var Dt=sibling(It,2),Mt=child(Dt);{var $t=Gt=>{const Kt=derived$1(()=>get$2(dt)({class:T.closeBtnClass}));CloseButton(Gt,{get onclick(){return T.closeModal},get class(){return get$2(Kt)}})};if_block(Mt,Gt=>{k()&&!T.title&&!T.header&&Gt($t)})}var Ht=sibling(Mt,2);snippet(Ht,()=>T.children);var Ft=sibling(Dt,2);{var jt=Gt=>{var Kt=root_15$3(),Pt=child(Kt);snippet(Pt,()=>T.footer),template_effect(kt=>set_class(Kt,1,kt),[()=>clsx(get$2(ot)({class:T.footerClass}))]),append(Gt,Kt)};if_block(Ft,Gt=>{T.footer&&Gt(jt)})}template_effect((Gt,Kt,Pt,kt)=>{St=set_attributes(yt,St,{...et,class:Gt,tabindex:"-1",[STYLE]:{left:T.left,top:T.top}}),set_class(At,1,Kt),set_class(Ct,1,Pt),set_class(Dt,1,kt)},[()=>get$2(it)({className:T.class}),()=>clsx(get$2(st)({class:T.divClass})),()=>clsx(get$2(nt)({class:T.contentClass})),()=>clsx(get$2(ht)({class:T.bodyClass}))]),transition(3,yt,Ve,me),append(mt,_t)};if_block(ft,mt=>{T.modalStatus&&mt(vt)})}append(Y,ut),pop()}delegate(["click"]);const modalp=ce$1({slots:{base:"fixed top-0  start-0 end-0 h-modal  z-50  p-4 flex pointer-events-none w-1/4 h-1/3",div:"flex relative w-full max-h-full",content:"w-full divide-y text-gray-800 dark:text-gray-300 border-gray-300 dark:border-gray-800 divide-gray-300 dark:divide-gray-800 bg-white dark:bg-gray-800 pointer-events-auto",backdrop:"fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 pointer-events-auto",header:"flex justify-between items-center p-4 md:p-5 rounded-t-lg",footer:"flex items-center p-4 md:p-5 space-x-3 rtl:space-x-reverse rounded-b-lg",body:"p-4 md:p-5 space-y-4 flex-1 overflow-y-auto overscroll-contain",closeBtn:"absolute top-3 end-2.5",h3:"text-xl font-semibold text-gray-900 dark:text-white p-0"},variants:{position:{"top-left":{base:"justify-start items-start"},"top-center":{base:"justify-center items-start"},"top-right":{base:"justify-end items-start"},"center-left":{base:"justify-start items-center"},center:{base:" "},"center-right":{base:"justify-end items-center"},"bottom-left":{base:"justify-start items-end"},"bottom-center":{base:"justify-center items-end"},"bottom-right":{base:"justify-end items-end"},default:{base:"justify-center items-center"}},size:{xs:{div:"max-w-md"},sm:{div:"max-w-lg"},md:{div:"max-w-2xl"},lg:{div:"max-w-4xl"},xl:{div:"max-w-7xl"}},backdrop:{true:{backdrop:"bg-gray-900 bg-opacity-75"}},rounded:{true:{content:"rounded"}},shadow:{true:{content:"shadow-md"}}}});delegate(["click"]);ce$1({slots:{base:"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200 border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700 px-2 sm:px-4 py-2.5 w-full",container:"mx-auto flex flex-wrap items-center justify-between",toggleButton:"inline-flex h-10 w-10 items-center justify-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",menuContainer:"w-full",activeLink:"block py-2 px-3 text-white bg-primary-700 rounded dark:text-white",inactiveLink:"block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white"},variants:{fluid:{true:{container:"w-full"},false:{container:"container"}},breakPoint:{md:{container:"max-w-screen-xl",toggleButton:"md:hidden",menuContainer:"md:block md:w-auto"},lg:{container:"max-w-screen-xl",toggleButton:"lg:hidden",menuContainer:"lg:block lg:w-auto"},xl:{container:"max-w-screen-xl",toggleButton:"xl:hidden",menuContainer:"xl:block xl:w-auto"},xxl:{container:"w-full",toggleButton:"2xl:hidden",menuContainer:"2xl:block 2xl:w-auto"}},navStatus:{true:{menuContainer:"block"},false:{menuContainer:"hidden"}}},defaultVariants:{fluid:!1,breakPoint:"md",navStatus:!1}});ce$1({base:"font-medium flex flex-col p-4 mt-4 border border-gray-100 rounded-lg bg-transparent rtl:space-x-reverse dark:bg-gray-800 dark:border-gray-700",variants:{breakPoint:{md:"md:mt-0 md:flex-row md:space-x-8 md:border-0 md:p-0 md:dark:bg-gray-900",lg:"lg:mt-0 lg:flex-row lg:space-x-8 lg:border-0 lg:p-0 lg:dark:bg-gray-900",xl:"xl:mt-0 xl:flex-row xl:space-x-8 xl:border-0 lg:p-0 xl:dark:bg-gray-900",xxl:"2xl:mt-0 2xl:flex-row 2xl:space-x-8 2xl:border-0 2xl:p-0 2xl:dark:bg-gray-900"}}});ce$1({slots:{base:"flex items-center space-x-3 rtl:space-x-reverse",span:"self-center whitespace-nowrap text-2xl font-semibold text-primary-900 dark:text-white sm:text-3xl"}});ce$1({slots:{base:"list-none",link:"block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white"},variants:{active:{true:{link:"bg-primary-700 text-white"}},breakPoint:{md:{link:"md:hover:bg-transparent md:border-0 md:hover:text-primary-700 md:p-0 md:dark:hover:text-primary-500 md:dark:hover:bg-transparent"},lg:{link:"lg:hover:bg-transparent lg:border-0 lg:hover:text-primary-700 lg:p-0 lg:dark:hover:text-primary-500 lg:dark:hover:bg-transparent"},xl:{link:"xl:hover:bg-transparent xl:border-0 xl:hover:text-primary-700 xl:p-0 xl:dark:hover:text-primary-500 xl:dark:hover:bg-transparent"},xxl:{link:"2xl:hover:bg-transparent 2xl:border-0 2xl:hover:text-primary-700 2xl:p-0 2xl:dark:hover:text-primary-500 2xl:dark:hover:bg-transparent"}}},compoundVariants:[{active:!0,breakPoint:"md",class:{link:"md:bg-transparent md:text-primary-700 md:p-0 md:dark:text-primary-500"}},{active:!0,breakPoint:"lg",class:{link:"lg:bg-transparent lg:text-primary-700 lg:p-0 lg:dark:text-primary-500"}},{active:!0,breakPoint:"xl",class:{link:"xl:bg-transparent xl:text-primary-700 xl:p-0 xl:dark:text-primary-500"}},{active:!0,breakPoint:"xxl",class:{link:"2xl:bg-transparent 2xl:text-primary-700 2xl:p-0 2xl:dark:text-primary-500"}}],defaultVariants:{breakPoint:"md",active:!1}});ce$1({base:"mx-auto flex flex-wrap justify-between items-center",variants:{fluid:{true:"w-full",false:"container"}}});ce$1({base:"inline-flex h-10 w-10 items-center justify-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",variants:{breakPoint:{md:"md:hidden",lg:"lg:hidden",xl:"xl:hidden",xxl:"2xl:hidden"}}});ce$1({base:"flex items-center font-medium",variants:{size:{default:"h-8 px-3 text-sm",large:"h-10 px-4 text-base"},active:{true:"text-blue-600 border border-gray-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white",false:"text-gray-500 bg-white hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},group:{true:"",false:"rounded-lg"},table:{true:"rounded",false:"border"}},compoundVariants:[{group:!1,table:!1,class:"rounded-lg"}],defaultVariants:{size:"default",active:!1,group:!1,table:!1}});ce$1({base:"inline-flex -space-x-px rtl:space-x-reverse items-center",variants:{table:{true:"divide-x rtl:divide-x-reverse dark divide-gray-700 dark:divide-gray-700",false:""},size:{default:"",large:""}},defaultVariants:{table:!1,size:"default"}});ce$1({slots:{base:"popover absolute rounded-lg shadow-md",title:"py-2 px-3 rounded-t-md border-b ",h3:"font-semibold",arrowBase:"absolute pointer-events-none block w-[10px] h-[10px] rotate-45 bg-inherit border-inherit shadow-md"},variants:{color:{default:{base:"bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-gray-700 divide-gray-200 dark:divide-gray-700",title:"bg-gray-100 border-gray-200 dark:border-gray-600 dark:bg-gray-700",h3:"text-gray-900 dark:text-white"},primary:{base:"bg-primary-600 text-white",title:"bg-primary-700",h3:"text-white"},secondary:{base:"bg-secondary-600 text-white",title:"bg-secondary-700",h3:"text-white"},gray:{base:"bg-gray-600 text-white",title:"bg-gray-700",h3:"text-white"},red:{base:"bg-red-600 text-white",title:"bg-red-700",h3:"text-white"},orange:{base:"bg-orange-600 text-white",title:"bg-orange-700",h3:"text-white"},amber:{base:"bg-amber-600 text-white",title:"bg-amber-700",h3:"text-white"},yellow:{base:"bg-yellow-400 text-white",title:"bg-yellow-500",h3:"text-white"},lime:{base:"bg-lime-600 text-white",title:"bg-lime-700",h3:"text-white"},green:{base:"bg-green-600 text-white",title:"bg-green-700",h3:"text-white"},emerald:{base:"bg-emerald-600 text-white",title:"bg-emerald-700",h3:"text-white"},teal:{base:"bg-teal-600 text-white",title:"bg-teal-700",h3:"text-white"},cyan:{base:"bg-cyan-600 text-white",title:"bg-cyan-700",h3:"text-white"},sky:{base:"bg-sky-600 text-white",title:"bg-sky-700 text-white",h3:"text-white"},blue:{base:"bg-blue-600 text-white",title:"bg-blue-700 text-white",h3:"text-white"},indigo:{base:"bg-indigo-600 text-white",title:"bg-indigo-700",h3:"text-white"},violet:{base:"bg-violet-600 text-white",title:"bg-violet-700",h3:"text-white"},purple:{base:"bg-purple-600 text-white",title:"bg-purple-700",h3:"text-white"},fuchsia:{base:"bg-fuchsia-600 text-white",title:"bg-fuchsia-700",h3:"text-white"},pink:{base:"bg-pink-600 text-white",title:"bg-pink-700",h3:"text-white"},rose:{base:"bg-rose-800 text-white",title:"bg-rose-700",h3:"text-white"}},arrow:{true:"",false:""},position:{top:"",bottom:"",left:"",right:"","right-start":"","right-end":"","left-start":"","left-end":"","top-start":"","top-end":"","bottom-start":"","bottom-end":""}},compoundVariants:[{arrow:!0,position:"bottom",color:"default",class:{arrowBase:"bg-gray-100 dark:bg-gray-700 shadow-none"}},{arrow:!0,position:"bottom",color:"primary",class:{arrowBase:"bg-primary-700 shadow-none"}},{arrow:!0,position:"bottom",color:"secondary",class:{arrowBase:"bg-secondary-700 shadow-none"}},{arrow:!0,position:"bottom",color:"gray",class:{arrowBase:"bg-gray-700 shadow-none"}},{arrow:!0,position:"bottom",color:"red",class:{arrowBase:"bg-red-700 shadow-none"}},{arrow:!0,position:"bottom",color:"orange",class:{arrowBase:"bg-orange-700 shadow-none"}},{arrow:!0,position:"bottom",color:"amber",class:{arrowBase:"bg-amber-700 shadow-none"}},{arrow:!0,position:"bottom",color:"yellow",class:{arrowBase:"bg-yellow-500 shadow-none"}},{arrow:!0,position:"bottom",color:"lime",class:{arrowBase:"bg-lime-700 shadow-none"}},{arrow:!0,position:"bottom",color:"green",class:{arrowBase:"bg-green-700 shadow-none"}},{arrow:!0,position:"bottom",color:"emerald",class:{arrowBase:"bg-emerald-700 shadow-none"}},{arrow:!0,position:"bottom",color:"teal",class:{arrowBase:"bg-teal-700 shadow-none"}},{arrow:!0,position:"bottom",color:"cyan",class:{arrowBase:"bg-cyan-700 shadow-none"}},{arrow:!0,position:"bottom",color:"sky",class:{arrowBase:"bg-sky-700   "}},{arrow:!0,position:"bottom",color:"blue",class:{arrowBase:"bg-blue-700 shadow-none"}},{arrow:!0,position:"bottom",color:"indigo",class:{arrowBase:"bg-indigo-700 shadow-none"}},{arrow:!0,position:"bottom",color:"violet",class:{arrowBase:"bg-violet-700 shadow-none"}},{arrow:!0,position:"bottom",color:"purple",class:{arrowBase:"bg-purple-700 shadow-none"}},{arrow:!0,position:"bottom",color:"fuchsia",class:{arrowBase:"bg-fuchsia-700 shadow-none"}},{arrow:!0,position:"bottom",color:"pink",class:{arrowBase:"bg-pink-700 shadow-none"}},{arrow:!0,position:"bottom",color:"rose",class:{arrowBase:"bg-rose-700 shadow-none"}},{arrow:!0,position:"right-start",color:"default",class:{arrowBase:"bg-gray-100 dark:bg-gray-700 shadow-none"}},{arrow:!0,position:"right-start",color:"primary",class:{arrowBase:"bg-primary-700 shadow-none"}},{arrow:!0,position:"right-start",color:"secondary",class:{arrowBase:"bg-secondary-700 shadow-none"}},{arrow:!0,position:"right-start",color:"gray",class:{arrowBase:"bg-gray-700 shadow-none"}},{arrow:!0,position:"right-start",color:"red",class:{arrowBase:"bg-red-700 shadow-none"}},{arrow:!0,position:"right-start",color:"orange",class:{arrowBase:"bg-orange-700 shadow-none"}},{arrow:!0,position:"right-start",color:"amber",class:{arrowBase:"bg-amber-700 shadow-none"}},{arrow:!0,position:"right-start",color:"yellow",class:{arrowBase:"bg-yellow-500 shadow-none"}},{arrow:!0,position:"right-start",color:"lime",class:{arrowBase:"bg-lime-700 shadow-none"}},{arrow:!0,position:"right-start",color:"green",class:{arrowBase:"bg-green-700 shadow-none"}},{arrow:!0,position:"right-start",color:"emerald",class:{arrowBase:"bg-emerald-700 shadow-none"}},{arrow:!0,position:"right-start",color:"teal",class:{arrowBase:"bg-teal-700 shadow-none"}},{arrow:!0,position:"right-start",color:"cyan",class:{arrowBase:"bg-cyan-700 shadow-none"}},{arrow:!0,position:"right-start",color:"sky",class:{arrowBase:"bg-sky-700 shadow-none"}},{arrow:!0,position:"right-start",color:"blue",class:{arrowBase:"bg-blue-700 shadow-none"}},{arrow:!0,position:"right-start",color:"indigo",class:{arrowBase:"bg-indigo-700 shadow-none"}},{arrow:!0,position:"right-start",color:"violet",class:{arrowBase:"bg-violet-700 shadow-none"}},{arrow:!0,position:"right-start",color:"purple",class:{arrowBase:"bg-purple-700 shadow-none"}},{arrow:!0,position:"right-start",color:"fuchsia",class:{arrowBase:"bg-fuchsia-700 shadow-none"}},{arrow:!0,position:"right-start",color:"pink",class:{arrowBase:"bg-pink-700 shadow-none"}},{arrow:!0,position:"right-start",color:"rose",class:{arrowBase:"bg-rose-700 shadow-none"}},{arrow:!0,position:"left-start",color:"default",class:{arrowBase:"bg-gray-100 dark:bg-gray-700 shadow-none"}},{arrow:!0,position:"left-start",color:"primary",class:{arrowBase:"bg-primary-700 shadow-none"}},{arrow:!0,position:"left-start",color:"secondary",class:{arrowBase:"bg-secondary-700 shadow-none"}},{arrow:!0,position:"left-start",color:"gray",class:{arrowBase:"bg-gray-700 shadow-none"}},{arrow:!0,position:"left-start",color:"red",class:{arrowBase:"bg-red-700 shadow-none"}},{arrow:!0,position:"left-start",color:"orange",class:{arrowBase:"bg-orange-700 shadow-none"}},{arrow:!0,position:"left-start",color:"amber",class:{arrowBase:"bg-amber-700 shadow-none"}},{arrow:!0,position:"left-start",color:"yellow",class:{arrowBase:"bg-yellow-500 shadow-none"}},{arrow:!0,position:"left-start",color:"lime",class:{arrowBase:"bg-lime-700 shadow-none"}},{arrow:!0,position:"left-start",color:"green",class:{arrowBase:"bg-green-700 shadow-none"}},{arrow:!0,position:"left-start",color:"emerald",class:{arrowBase:"bg-emerald-700 shadow-none"}},{arrow:!0,position:"left-start",color:"teal",class:{arrowBase:"bg-teal-700 shadow-none"}},{arrow:!0,position:"left-start",color:"cyan",class:{arrowBase:"bg-cyan-700 shadow-none"}},{arrow:!0,position:"left-start",color:"sky",class:{arrowBase:"bg-sky-700 shadow-none"}},{arrow:!0,position:"left-start",color:"blue",class:{arrowBase:"bg-blue-700 shadow-none"}},{arrow:!0,position:"left-start",color:"indigo",class:{arrowBase:"bg-indigo-700 shadow-none"}},{arrow:!0,position:"left-start",color:"violet",class:{arrowBase:"bg-violet-700 shadow-none"}},{arrow:!0,position:"left-start",color:"purple",class:{arrowBase:"bg-purple-700 shadow-none"}},{arrow:!0,position:"left-start",color:"fuchsia",class:{arrowBase:"bg-fuchsia-700 shadow-none"}},{arrow:!0,position:"left-start",color:"pink",class:{arrowBase:"bg-pink-700 shadow-none"}},{arrow:!0,position:"left-start",color:"rose",class:{arrowBase:"bg-rose-700 shadow-none"}},{arrow:!0,position:"left",color:"default",class:{arrowBase:"bg-white border-t border-r dark:bg-gray-800 shadow-none"}},{arrow:!0,position:"left-end",color:"default",class:{arrowBase:"bg-white border-t border-r dark:bg-gray-800 shadow-none"}},{arrow:!0,position:"bottom-start",color:"default",class:{arrowBase:"bg-gray-100 dark:bg-gray-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"primary",class:{arrowBase:"bg-primary-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"secondary",class:{arrowBase:"bg-secondary-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"gray",class:{arrowBase:"bg-gray-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"red",class:{arrowBase:"bg-red-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"orange",class:{arrowBase:"bg-orange-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"amber",class:{arrowBase:"bg-amber-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"yellow",class:{arrowBase:"bg-yellow-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"lime",class:{arrowBase:"bg-lime-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"green",class:{arrowBase:"bg-green-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"emerald",class:{arrowBase:"bg-emerald-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"teal",class:{arrowBase:"bg-teal-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"cyan",class:{arrowBase:"bg-cyan-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"sky",class:{arrowBase:"bg-sky-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"blue",class:{arrowBase:"bg-blue-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"indigo",class:{arrowBase:"bg-indigo-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"violet",class:{arrowBase:"bg-violet-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"purple",class:{arrowBase:"bg-purple-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"fuchsia",class:{arrowBase:"bg-fuchsia-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"pink",class:{arrowBase:"bg-pink-700 shadow-none"}},{arrow:!0,position:"bottom-start",color:"rose",class:{arrowBase:"bg-rose-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"default",class:{arrowBase:"bg-gray-100 dark:bg-gray-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"primary",class:{arrowBase:"bg-primary-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"secondary",class:{arrowBase:"bg-secondary-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"gray",class:{arrowBase:"bg-gray-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"red",class:{arrowBase:"bg-red-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"orange",class:{arrowBase:"bg-orange-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"amber",class:{arrowBase:"bg-amber-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"yellow",class:{arrowBase:"bg-yellow-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"lime",class:{arrowBase:"bg-lime-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"green",class:{arrowBase:"bg-green-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"emerald",class:{arrowBase:"bg-emerald-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"teal",class:{arrowBase:"bg-teal-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"cyan",class:{arrowBase:"bg-cyan-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"sky",class:{arrowBase:"bg-sky-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"blue",class:{arrowBase:"bg-blue-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"indigo",class:{arrowBase:"bg-indigo-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"violet",class:{arrowBase:"bg-violet-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"purple",class:{arrowBase:"bg-purple-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"fuchsia",class:{arrowBase:"bg-fuchsia-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"pink",class:{arrowBase:"bg-pink-700 shadow-none"}},{arrow:!0,position:"bottom-end",color:"rose",class:{arrowBase:"bg-rose-700 shadow-none"}}]});ce$1({slots:{base:"w-full bg-gray-200 rounded-full dark:bg-gray-700",labelInsideDiv:"text-primary-100 text-xs font-medium text-center leading-none rounded-full",insideDiv:"rounded-full",outsideDiv:"mb-1 flex justify-between",oustsideSpan:"text-base font-medium text-blue-700 dark:text-white",outsideProgress:"text-sm font-medium text-blue-700 dark:text-white"},variants:{color:{primary:{labelInsideDiv:"bg-primary-600",insideDiv:"bg-primary-600"},gray:{labelInsideDiv:"bg-gray-600 dark:bg-gray-300",insideDiv:"bg-gray-600 dark:bg-gray-300"},red:{labelInsideDiv:"bg-red-600 dark:bg-red-500",insideDiv:"bg-red-600 dark:bg-red-500"},orange:{labelInsideDiv:"bg-orange-600 dark:bg-orange-500",insideDiv:"bg-orange-600 dark:bg-orange-500"},amber:{labelInsideDiv:"bg-amber-600 dark:bg-amber-500",insideDiv:"bg-amber-600 dark:bg-amber-500"},yellow:{labelInsideDiv:"bg-yellow-400",insideDiv:"bg-yellow-400"},lime:{labelInsideDiv:"bg-lime-600 dark:bg-lime-500",insideDiv:"bg-lime-600 dark:bg-lime-500"},green:{labelInsideDiv:"bg-green-600 dark:bg-green-500",insideDiv:"bg-green-600 dark:bg-green-500"},emerald:{labelInsideDiv:"bg-emerald-600 dark:bg-emerald-500",insideDiv:"bg-emerald-600 dark:bg-emerald-500"},teal:{labelInsideDiv:"bg-teal-600 dark:bg-teal-500",insideDiv:"bg-teal-600 dark:bg-teal-500"},cyan:{labelInsideDiv:"bg-cyan-600 dark:bg-cyan-500",insideDiv:"bg-cyan-600 dark:bg-cyan-500"},sky:{labelInsideDiv:"bg-sky-600 dark:bg-sky-500",insideDiv:"bg-sky-600 dark:bg-sky-500"},blue:{labelInsideDiv:"bg-blue-600",insideDiv:"bg-blue-600"},indigo:{labelInsideDiv:"bg-indigo-600 dark:bg-indigo-500",insideDiv:"bg-indigo-600 dark:bg-indigo-500"},violet:{labelInsideDiv:"bg-violet-600 dark:bg-violet-500",insideDiv:"bg-violet-600 dark:bg-violet-500"},purple:{labelInsideDiv:"bg-purple-600 dark:bg-purple-500",insideDiv:"bg-purple-600 dark:bg-purple-500"},fuchsia:{labelInsideDiv:"bg-fuchsia-600 dark:bg-fuchsia-500",insideDiv:"bg-fuchsia-600 dark:bg-fuchsia-500"},pink:{labelInsideDiv:"bg-pink-600 dark:bg-pink-500",insideDiv:"bg-pink-600 dark:bg-pink-500"},rose:{labelInsideDiv:"bg-rose-600 dark:bg-rose-500",insideDiv:"bg-rose-600 dark:bg-rose-500"}},labelInside:{true:"",false:""}},compoundVariants:[{labelInside:!0,class:{base:"text-primary-100 text-xs font-medium text-center leading-none rounded-full",labelInsideDiv:"p-0.5"}},{labelInside:!1,class:{base:"rounded-full"}}],defaultVariants:{color:"primary",labelInside:!1}});ce$1({slots:{base:"flex items-center mt-4",span:"text-sm font-medium text-gray-600 dark:text-gray-500",div2:"mx-4 w-2/4 h-5 bg-gray-200 rounded dark:bg-gray-700",div3:"h-5 bg-yellow-400 rounded",span2:"text-sm font-medium text-gray-600 dark:text-gray-500"}});ce$1({slots:{base:"flex items-center",p:"ms-2 text-sm font-bold text-gray-900 dark:text-white"}});ce$1({slots:{article:"md:grid md:grid-cols-3 md:gap-8",div:"mb-6 flex items-center space-x-4 rtl:space-x-reverse",div2:"space-y-1 font-medium dark:text-white",div3:"flex items-center text-sm text-gray-500 dark:text-gray-400",img:"h-10 w-10 rounded-full",ul:"space-y-4 text-sm text-gray-500 dark:text-gray-400",li:"flex items-center"}});ce$1({slots:{desc1:"bg-primary-100 w-8 text-primary-800 text-sm font-semibold inline-flex items-center p-1.5 rounded dark:bg-primary-200 dark:text-primary-800",desc2:"ms-2 font-medium text-gray-900 dark:text-white",desc3:"mx-2 w-1 h-1 mx-2 bg-gray-900 rounded-full dark:bg-gray-500",desc3span:"text-sm w-24 font-medium text-gray-500 dark:text-gray-400",desc3p:"text-sm w-24 font-medium text-gray-500 dark:text-gray-400",link:"ms-auto w-32 text-sm font-medium text-primary-600 hover:underline dark:text-primary-500",bar:"bg-primary-600 h-2.5 rounded dark:bg-primary-500"}});delegate(["click"]);ce$1({slots:{base:"top-0 left-0 z-50 w-64 transition-transform bg-gray-50 dark:bg-gray-800",active:"flex items-center text-base font-normal text-gray-900 bg-gray-200 dark:bg-gray-700 rounded dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",nonactive:"flex items-center text-base font-normal text-gray-900 rounded dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",div:"overflow-y-auto h-full px-3 py-4 overflow-y-auto bg-gray-50 dark:bg-gray-800",backdrop:"fixed top-0 start-0 z-40 w-full h-full"},variants:{position:{fixed:{base:"fixed"},absolute:{base:"absolute"},static:{base:"static"}},isOpen:{true:"block",false:"hidden"},breakpoint:{sm:{base:"sm:block"},md:{base:"md:block"},lg:{base:"lg:block"},xl:{base:"xl:block"},"2xl":{base:"2xl:block"}},backdrop:{true:{backdrop:"bg-gray-900 bg-opacity-75"}}}});ce$1({base:"inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",variants:{breakpoint:{sm:"sm:hidden",md:"md:hidden",lg:"lg:hidden",xl:"xl:hidden","2xl":"2xl:hidden"}}});ce$1({slots:{base:"p-4 mt-6 bg-primary-50 rounded-lg dark:bg-primary-900",div:"flex items-center mb-3",span:"bg-primary-100 text-primary-800 text-sm font-semibold me-2 px-2.5 py-0.5 rounded dark:bg-primary-200 dark:text-primary-900"}});ce$1({slots:{base:"flex items-center ps-2.5 mb-5",img:"h-6 me-3 sm:h-7",span:"self-center text-xl font-semibold whitespace-nowrap dark:text-white"}});ce$1({slots:{base:"",btn:"flex items-center w-full text-base font-normal text-gray-900 rounded transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",span:"flex-1 ms-3 text-left whitespace-nowrap",svg:"h-3 w-3 text-gray-800 dark:text-white",ul:"py-2 space-y-2"}});ce$1({slots:{base:"p-4 rounded border border-gray-200 shadow animate-pulse md:p-6 dark:border-gray-700",imageArea:"mb-4 flex h-48 items-center justify-center rounded bg-gray-300 dark:bg-gray-700",imageIcon:"text-gray-200 dark:text-gray-600",line:"rounded-full bg-gray-200 dark:bg-gray-700",footerArea:"mt-4 flex items-center space-x-3 rtl:space-x-reverse"},variants:{size:{sm:{base:"max-w-sm"},md:{base:"max-w-md"},lg:{base:"max-w-lg"},xl:{base:"max-w-xl"},"2xl":{base:"max-w-2xl"}}}});ce$1({slots:{base:"space-y-8 animate-pulse md:space-y-0 md:space-x-8 rtl:space-x-reverse md:flex md:items-center",image:"flex w-full items-center justify-center rounded bg-gray-300 sm:w-96 dark:bg-gray-700",svg:"text-gray-200",content:"w-full",line:"rounded-full bg-gray-200 dark:bg-gray-700"},variants:{size:{sm:{image:"h-32",content:"space-y-2"},md:{image:"h-48",content:"space-y-3"},lg:{image:"h-64",content:"space-y-4"}},rounded:{none:{image:"rounded-none",line:"rounded-none"},sm:{image:"rounded-sm",line:"rounded-sm"},md:{image:"rounded",line:"rounded"},lg:{image:"rounded-lg",line:"rounded-lg"},full:{image:"rounded-full",line:"rounded-full"}}}});ce$1({slots:{base:"p-4 space-y-4 max-w-md rounded border border-gray-200 divide-y divide-gray-200 shadow animate-pulse dark:divide-gray-700 md:p-6 dark:border-gray-700",item:"flex items-center justify-between",itemContent:"",itemTitle:"mb-2.5 h-2.5 w-24 rounded-full bg-gray-300 dark:bg-gray-600",itemSubtitle:"h-2 w-32 rounded-full bg-gray-200 dark:bg-gray-700",itemExtra:"h-2.5 w-12 rounded-full bg-gray-300 dark:bg-gray-700"},variants:{size:{sm:{base:"p-3 space-y-3 max-w-sm md:p-4",itemTitle:"mb-2 h-2 w-20",itemSubtitle:"h-1.5 w-28",itemExtra:"h-2 w-10"},md:{},lg:{base:"p-5 space-y-5 max-w-lg md:p-7",itemTitle:"mb-3 h-3 w-28",itemSubtitle:"h-2.5 w-36",itemExtra:"h-3 w-14"}},rounded:{none:{base:"rounded-none"},sm:{base:"rounded-sm"},md:{base:"rounded"},lg:{base:"rounded-lg"},full:{base:"rounded-full p-8 md:p-16"}}}});ce$1({slots:{wrapper:"animate-pulse",line:"rounded-full bg-gray-200 dark:bg-gray-700"},variants:{size:{sm:{wrapper:"max-w-sm"},md:{wrapper:"max-w-md"},lg:{wrapper:"max-w-lg"},xl:{wrapper:"max-w-xl"},"2xl":{wrapper:"max-w-2xl"}}}});ce$1({slots:{wrapper:"animate-pulse",line1:"rounded-full bg-gray-200 dark:bg-gray-700",line2:"rounded-full bg-gray-300 dark:bg-gray-700",svg:"me-2 h-10 w-10 text-gray-200 dark:text-gray-700",subContent:"mt-4 flex items-center justify-center"}});ce$1({slots:{baseWrapper:"space-y-2.5 animate-pulse",divWrapper:"flex items-center space-x-2 rtl:space-x-reverse",lineA:"rounded-full bg-gray-200 dark:bg-gray-700",lineB:"rounded-full bg-gray-300 dark:bg-gray-600"},variants:{size:{sm:{baseWrapper:"max-w-sm"},md:{baseWrapper:"max-w-md"},lg:{baseWrapper:"max-w-lg"},xl:{baseWrapper:"max-w-xl"},"2xl":{baseWrapper:"max-w-2xl"}}}});ce$1({base:"flex justify-center items-center h-56 bg-gray-300 rounded-lg animate-pulse dark:bg-gray-700",variants:{size:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"}}});ce$1({slots:{base:"p-4 max-w-sm rounded border border-gray-200 shadow animate-pulse md:p-6 dark:border-gray-700",wrapper:"mt-4 flex items-baseline space-x-6 rtl:space-x-reverse",hLine:"rounded-full bg-gray-200 dark:bg-gray-700",vLine:"w-full rounded-t-lg bg-gray-200 dark:bg-gray-700"}});var root$2B=ns_template('<svg><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"></path></svg>');function Spinner$1(Y,T){push(T,!0);let k=prop(T,"color",3,"primary"),Z=prop(T,"size",3,"8"),ee=prop(T,"currentFill",3,"currentFill"),te=prop(T,"currentColor",3,"currentColor"),ne=rest_props(T,["$$slots","$$events","$$legacy","color","size","class","currentFill","currentColor"]),me=derived$1(()=>spinner({color:k(),size:Z(),className:T.class}));var Ve=root$2B();let Ye;var et=child(Ve),tt=sibling(et);template_effect(()=>{Ye=set_attributes(Ve,Ye,{...ne,role:"status",class:get$2(me),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),set_attribute(et,"fill",te()),set_attribute(tt,"fill",ee())}),append(Y,Ve),pop()}const spinner=ce$1({base:"inline-block animate-spin text-gray-300",variants:{color:{primary:"fill-primary-600",secondary:"fill-secondary-600",gray:"fill-gray-600 dark:fill-gray-300",red:"fill-red-600",orange:"fill-orange-500",amber:"fill-amber-500",yellow:"fill-yellow-400",lime:"fill-lime-500",green:"fill-green-500",emerald:"fill-emerald-500",teal:"fill-teal-500",cyan:"fill-cyan-500",sky:"fill-sky-500",blue:"fill-blue-600",indigo:"fill-indigo-600",violet:"fill-violet-600",purple:"fill-purple-600",fuchsia:"fill-fuchsia-600",pink:"fill-pink-600",rose:"fill-rose-600"},size:{4:"w-4 h-4",5:"w-5 h-5",6:"w-6 h-6",8:"w-8 h-8",10:"w-10 h-10",12:"w-12 h-12",16:"w-16 h-16"}},defaultVariants:{color:"primary",size:"8"}});delegate(["click"]);ce$1({slots:{base:"flex flex-wrap space-x-2 rtl:space-x-reverse",content:"p-4 bg-gray-50 rounded-lg dark:bg-gray-800 mt-4",divider:"h-px bg-gray-200 dark:bg-gray-700",active:"p-4 text-primary-600 bg-gray-100 rounded-t-lg dark:bg-gray-800 dark:text-primary-500",inactive:"p-4 text-gray-500 rounded-t-lg hover:text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-300"},variants:{tabStyle:{full:{active:"p-4 w-full rounded-none group-first:rounded-s-lg group-last:rounded-e-lg text-gray-900 bg-gray-100 focus:ring-4 focus:ring-primary-300 focus:outline-none dark:bg-gray-700 dark:text-white",inactive:"p-4 w-full rounded-none group-first:rounded-s-lg group-last:rounded-e-lg text-gray-500 dark:text-gray-400 bg-white hover:text-gray-700 hover:bg-gray-50 focus:ring-4 focus:ring-primary-300 focus:outline-none dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"},pill:{active:"py-3 px-4 text-white bg-primary-600 rounded-lg",inactive:"py-3 px-4 text-gray-500 rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white"},underline:{base:"-mb-px",active:"p-4 text-primary-600 border-b-2 border-primary-600 dark:text-primary-500 dark:border-primary-500 bg-transparent",inactive:"p-4 border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 text-gray-500 dark:text-gray-400 bg-transparent"},none:{active:"",inactive:""}},hasDivider:{true:{}}},compoundVariants:[{tabStyle:["full","pill"],hasDivider:!0,class:{divider:"hidden"}}],defaultVariants:{tabStyle:"none",hasDivider:!0}});ce$1({slots:{base:"group focus-within:z-10",button:"inline-block text-sm font-medium text-center disabled:cursor-not-allowed",content:"hidden"},variants:{open:{true:{button:"active"}},disabled:{true:{button:"cursor-not-allowed"}}},compoundVariants:[{open:!0,class:{button:""}},{open:!1,class:{button:""}}],defaultVariants:{open:!1,disabled:!1}});delegate(["click"]);ce$1({slots:{base:"",table:"w-full text-left text-sm"},variants:{color:{default:{table:"text-gray-500 dark:text-gray-400"},primary:{table:"text-primary-100 dark:text-primary-100"},secondary:{table:"text-secondary-100 dark:text-secondary-100"},gray:{table:"text-gray-100 dark:text-gray-100"},red:{table:"text-red-100 dark:text-red-100"},orange:{table:"text-orange-100 dark:text-orange-100"},amber:{table:"text-amber-100 dark:text-amber-100"},yellow:{table:"text-yellow-100 dark:text-yellow-100"},lime:{table:"text-lime-100 dark:text-lime-100"},green:{table:"text-green-100 dark:text-green-100"},emerald:{table:"text-emerald-100 dark:text-emerald-100"},teal:{table:"text-teal-100 dark:text-teal-100"},cyan:{table:"text-cyan-100 dark:text-cyan-100"},sky:{table:"text-sky-100 dark:text-sky-100"},blue:{table:"text-blue-100 dark:text-blue-100"},indigo:{table:"text-indigo-100 dark:text-indigo-100"},violet:{table:"text-violet-100 dark:text-violet-100"},purple:{table:"text-purple-100 dark:text-purple-100"},fuchsia:{table:"text-fuchsia-100 dark:text-fuchsia-100"},pink:{table:"text-pink-100 dark:text-pink-100"},rose:{table:"text-rose-100 dark:text-rose-100"}},shadow:{true:{base:"shadow-md sm:rounded-lg"}}}});ce$1({base:"",variants:{color:{default:"bg-white dark:bg-gray-800 dark:border-gray-700",primary:"bg-white bg-primary-500 border-primary-400",secondary:"bg-white bg-secondary-500 border-secondary-400",gray:"bg-gray-500 border-gray-400",red:"bg-red-500 border-red-400",orange:"bg-orange-500 border-orange-400",amber:"bg-amber-500 border-amber-400",yellow:"bg-yellow-500 border-yellow-400",lime:"bg-lime-500 border-lime-400",green:"bg-white bg-green-500 border-green-400",emerald:"bg-emerald-500 border-emerald-400",teal:"bg-teal-500 border-teal-400",cyan:"bg-cyan-500 border-cyan-400",sky:"bg-sky-500 border-sky-400",blue:"bg-white bg-blue-500 border-blue-400",indigo:"bg-indigo-500 border-indigo-400",violet:"bg-violet-500 border-violet-400",purple:"bg-purple-500 border-purple-400",fuchsia:"bg-fuchsia-500 border-fuchsia-400",pink:"bg-pink-500 border-pink-400",rose:"bg-rose-500 border-rose-400"},hoverable:{true:""},striped:{true:""},border:{true:"border-b last:border-b-0"}},compoundVariants:[{hoverable:!0,color:"default",class:"hover:bg-gray-50 dark:hover:bg-gray-600"},{hoverable:!0,color:"primary",class:"hover:bg-primary-400 dark:hover:bg-primary-400"},{hoverable:!0,color:"secondary",class:"hover:bg-secondary-400 dark:hover:bg-secondary-400"},{hoverable:!0,color:"gray",class:"hover:bg-gray-400 dark:hover:bg-gray-400"},{hoverable:!0,color:"red",class:"hover:bg-red-400 dark:hover:bg-red-400"},{hoverable:!0,color:"orange",class:"hover:bg-orange-400 dark:hover:bg-orange-400"},{hoverable:!0,color:"amber",class:"hover:bg-amber-400 dark:hover:bg-amber-400"},{hoverable:!0,color:"yellow",class:"hover:bg-yellow-400 dark:hover:bg-yellow-400"},{hoverable:!0,color:"lime",class:"hover:bg-lime-400 dark:hover:bg-lime-400"},{hoverable:!0,color:"green",class:"hover:bg-green-400 dark:hover:bg-green-400"},{hoverable:!0,color:"emerald",class:"hover:bg-emerald-400 dark:hover:bg-emerald-400"},{hoverable:!0,color:"teal",class:"hover:bg-teal-400 dark:hover:bg-teal-400"},{hoverable:!0,color:"cyan",class:"hover:bg-cyan-400 dark:hover:bg-cyan-400"},{hoverable:!0,color:"sky",class:"hover:bg-sky-400 dark:hover:bg-sky-400"},{hoverable:!0,color:"blue",class:"hover:bg-blue-400 dark:hover:bg-blue-400"},{hoverable:!0,color:"indigo",class:"hover:bg-indigo-400 dark:hover:bg-indigo-400"},{hoverable:!0,color:"violet",class:"hover:bg-violet-400 dark:hover:bg-violet-400"},{hoverable:!0,color:"purple",class:"hover:bg-purple-400 dark:hover:bg-purple-400"},{hoverable:!0,color:"fuchsia",class:"hover:bg-fuchsia-400 dark:hover:bg-fuchsia-400"},{hoverable:!0,color:"pink",class:"hover:bg-pink-400 dark:hover:bg-pink-400"},{hoverable:!0,color:"rose",class:"hover:bg-rose-400 dark:hover:bg-rose-400"},{striped:!0,color:"default",class:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700"},{striped:!0,color:"primary",class:"odd:bg-primary-500 even:bg-primary-600 odd:dark:bg-primary-500 even:dark:bg-primary-600"},{striped:!0,color:"secondary",class:"odd:bg-secondary-500 even:bg-secondary-600 odd:dark:bg-secondary-500 even:dark:bg-secondary-600"},{striped:!0,color:"gray",class:"odd:bg-gray-500 even:bg-gray-600 odd:dark:bg-gray-500 even:dark:bg-gray-600"},{striped:!0,color:"red",class:"odd:bg-red-500 even:bg-red-600 odd:dark:bg-red-500 even:dark:bg-red-600"},{striped:!0,color:"orange",class:"odd:bg-orange-500 even:bg-orange-600 odd:dark:bg-orange-500 even:dark:bg-orange-600"},{striped:!0,color:"amber",class:"odd:bg-amber-500 even:bg-amber-600 odd:dark:bg-amber-500 even:dark:bg-amber-600"},{striped:!0,color:"yellow",class:"odd:bg-yellow-500 even:bg-yellow-600 odd:dark:bg-yellow-500 even:dark:bg-yellow-600"},{striped:!0,color:"lime",class:"odd:bg-lime-500 even:bg-lime-600 odd:dark:bg-lime-500 even:dark:bg-lime-600"},{striped:!0,color:"green",class:"odd:bg-green-500 even:bg-green-600 odd:dark:bg-green-500 even:dark:bg-green-600"},{striped:!0,color:"emerald",class:"odd:bg-emerald-500 even:bg-emerald-600 odd:dark:bg-emerald-500 even:dark:bg-emerald-600"},{striped:!0,color:"teal",class:"odd:bg-teal-500 even:bg-teal-600 odd:dark:bg-teal-500 even:dark:bg-teal-600"},{striped:!0,color:"cyan",class:"odd:bg-cyan-500 even:bg-cyan-600 odd:dark:bg-cyan-500 even:dark:bg-cyan-600"},{striped:!0,color:"sky",class:"odd:bg-sky-500 even:bg-sky-600 odd:dark:bg-sky-500 even:dark:bg-sky-600"},{striped:!0,color:"blue",class:"odd:bg-blue-500 even:bg-blue-600 odd:dark:bg-blue-500 even:dark:bg-blue-600"},{striped:!0,color:"indigo",class:"odd:bg-indigo-500 even:bg-indigo-600 odd:dark:bg-indigo-500 even:dark:bg-indigo-600"},{striped:!0,color:"violet",class:"odd:bg-violet-500 even:bg-violet-600 odd:dark:bg-violet-500 even:dark:bg-violet-600"},{striped:!0,color:"purple",class:"odd:bg-purple-500 even:bg-purple-600 odd:dark:bg-purple-500 even:dark:bg-purple-600"},{striped:!0,color:"fuchsia",class:"odd:bg-fuchsia-500 even:bg-fuchsia-600 odd:dark:bg-fuchsia-500 even:dark:bg-fuchsia-600"},{striped:!0,color:"pink",class:"odd:bg-pink-500 even:bg-pink-600 odd:dark:bg-pink-500 even:dark:bg-pink-600"},{striped:!0,color:"rose",class:"odd:bg-rose-500 even:bg-rose-600 odd:dark:bg-rose-500 even:dark:bg-rose-600"}]});ce$1({base:"text-xs uppercase",variants:{color:{default:"text-gray-700 dark:text-gray-400 bg-gray-50 dark:bg-gray-700",primary:"text-white dark:text-white bg-primary-700 dark:bg-primary-700",secondary:"text-white dark:text-white bg-secondary-700 dark:bg-secondary-700",gray:"text-white dark:text-white bg-gray-700 dark:bg-gray-700",red:"text-white dark:text-white bg-red-700 dark:bg-red-700",orange:"text-white dark:text-white bg-orange-700 dark:bg-orange-700",amber:"text-white dark:text-white bg-amber-700 dark:bg-amber-700",yellow:"text-white dark:text-white bg-yellow-700 dark:bg-yellow-700",lime:"text-white dark:text-white bg-lime-700 dark:bg-lime-700",green:"text-white dark:text-white bg-green-700 dark:bg-green-700",emerald:"text-white dark:text-white bg-emerald-700 dark:bg-emerald-700",teal:"text-white dark:text-white bg-teal-700 dark:bg-teal-700",cyan:"text-white dark:text-white bg-cyan-700 dark:bg-cyan-700",sky:"text-white dark:text-white bg-sky-700 dark:bg-sky-700",blue:"text-white dark:text-white bg-blue-700 dark:bg-blue-700",indigo:"text-white dark:text-white bg-indigo-700 dark:bg-indigo-700",violet:"text-white dark:text-white bg-violet-700 dark:bg-violet-700",purple:"text-white dark:text-white bg-purple-700 dark:bg-purple-700",fuchsia:"text-white dark:text-white bg-fuchsia-700 dark:bg-fuchsia-700",pink:"text-white dark:text-white bg-pink-700 dark:bg-pink-700",rose:"text-white dark:text-white bg-rose-700 dark:bg-rose-700"},noborder:{true:"",false:""},striped:{true:"",false:""}},compoundVariants:[{color:"default",noborder:!0,class:"bg-transparent dark:bg-transparent"},{color:"default",striped:!0,class:"bg-transparent dark:bg-transparent border-gray-700"},{striped:!0,color:"blue",class:"border-blue-400"},{striped:!0,color:"green",class:"border-green-400"},{striped:!0,color:"red",class:"border-red-400"},{striped:!0,color:"yellow",class:"border-yellow-400"},{striped:!0,color:"purple",class:"border-purple-400"},{striped:!0,color:"indigo",class:"border-indigo-400"},{striped:!0,color:"pink",class:"border-pink-400"}]});ce$1({base:"px-6 py-4 whitespace-nowrap font-medium"});ce$1({base:"px-6 py-3"});ce$1({base:"relative border-s border-gray-200 dark:border-gray-700"});ce$1({slots:{li:"mb-10 ms-6",span:"flex absolute -start-3 justify-center items-center w-6 h-6 bg-blue-200 rounded-full ring-8 ring-white dark:ring-gray-900 dark:bg-blue-900",img:"rounded-full shadow-lg",outerDiv:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm dark:bg-gray-700 dark:border-gray-600",innerDiv:"justify-between items-center mb-3 sm:flex",time:"mb-1 text-xs font-normal text-gray-400 sm:order-last sm:mb-0",title:"text-sm font-normal text-gray-500 lex dark:text-gray-300",text:"p-3 text-xs italic font-normal text-gray-500 bg-gray-50 rounded-lg border border-gray-200 dark:bg-gray-600 dark:border-gray-500 dark:text-gray-300"}});ce$1({slots:{div:"p-5 mb-4 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-800 dark:border-gray-700",time:"text-lg font-semibold text-gray-900 dark:text-white",ol:"mt-3 divide-y divider-gray-200 dark:divide-gray-700"}});ce$1({slots:{a:"block items-center p-3 sm:flex hover:bg-gray-100 dark:hover:bg-gray-700",img:"me-3 mb-3 w-12 h-12 rounded-full sm:mb-0",div:"text-gray-600 dark:text-gray-400",title:"text-base font-normal",span:"inline-flex items-center text-xs font-normal text-gray-500 dark:text-gray-400"}});ce$1({variants:{order:{group:"p-5 mb-4 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-800 dark:border-gray-700",horizontal:"sm:flex",activity:"relative border-s border-gray-200 dark:border-gray-700",vertical:"relative border-s border-gray-200 dark:border-gray-700",default:"relative border-s border-gray-200 dark:border-gray-700"}},defaultVariants:{order:"default"}});ce$1({slots:{li:"",div:"",time:"",h3:"",svg:"w-3 h-3 text-primary-600 dark:text-primary-400"},variants:{order:{default:{li:"mb-10 ms-4",div:"absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-gray-700",time:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",h3:"text-lg font-semibold text-gray-900 dark:text-white"},vertical:{li:"mb-10 ms-6",div:"flex absolute -start-3 justify-center items-center w-6 h-6 bg-primary-200 rounded-full ring-8 ring-white dark:ring-gray-900 dark:bg-primary-900",time:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",h3:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white"},horizontal:{li:"relative mb-6 sm:mb-0",div:"flex items-center",time:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",h3:"text-lg font-semibold text-gray-900 dark:text-white"},activity:{li:"mb-10 ms-6",div:"flex absolute -start-3 justify-center items-center w-6 h-6 bg-primary-200 rounded-full ring-8 ring-white dark:ring-gray-900 dark:bg-primary-900",time:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",h3:"text-lg font-semibold text-gray-900 dark:text-white"},group:{li:"",div:"p-5 mb-4 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-800 dark:border-gray-700",time:"text-lg font-semibold text-gray-900 dark:text-white",h3:"text-lg font-semibold text-gray-900 dark:text-white"}}},defaultVariants:{order:"default"}});ce$1({slots:{base:"flex w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800 gap-3",icon:"w-8 h-8 inline-flex items-center justify-center shrink-0 rounded-lg",content:"w-full text-sm font-normal",close:"ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"},variants:{position:{"top-left":{base:"absolute top-5 start-5"},"top-right":{base:"absolute top-5 end-5"},"bottom-left":{base:"absolute bottom-5 start-5"},"bottom-right":{base:"absolute bottom-5 end-5"}},color:{primary:{icon:"text-primary-500 bg-primary-100 dark:bg-primary-800 dark:text-primary-200",close:"text-primary-500 dark:text-primary-200 hover:text-primary-600 dark:hover:text-primary-500"},gray:{icon:"text-gray-500 bg-gray-100 dark:bg-gray-700 dark:text-gray-200",close:"text-gray-500 dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-500"},red:{icon:"text-red-500 bg-red-100 dark:bg-red-800 dark:text-red-200",close:"text-red-500 dark:text-red-200 hover:text-red-600 dark:hover:text-red-500"},orange:{icon:"text-orange-500 bg-orange-100 dark:bg-orange-700 dark:text-orange-200",close:"text-orange-500 dark:text-orange-200 hover:text-orange-600 dark:hover:text-orange-500"},amber:{icon:"text-amber-500 bg-amber-100 dark:bg-amber-700 dark:text-amber-200",close:"text-amber-500 dark:text-amber-200 hover:text-amber-600 dark:hover:text-amber-500"},yellow:{icon:"text-yellow-500 bg-yellow-100 dark:bg-yellow-800 dark:text-yellow-200",close:"text-yellow-500 dark:text-yellow-200 hover:text-yellow-600 dark:hover:text-yellow-500"},lime:{icon:"text-lime-500 bg-lime-100 dark:bg-lime-700 dark:text-lime-200",close:"text-lime-500 dark:text-lime-200 hover:text-lime-600 dark:hover:text-lime-500"},green:{icon:"text-green-500 bg-green-100 dark:bg-green-800 dark:text-green-200",close:"text-green-500 dark:text-green-200 hover:text-green-600 dark:hover:text-green-500"},emerald:{icon:"text-emerald-500 bg-emerald-100 dark:bg-emerald-800 dark:text-emerald-200",close:"text-emerald-500 dark:text-emerald-200 hover:text-emerald-600 dark:hover:text-emerald-500"},teal:{icon:"text-teal-500 bg-teal-100 dark:bg-teal-800 dark:text-teal-200",close:"text-teal-500 dark:text-teal-200 hover:text-teal-600 dark:hover:text-teal-500"},cyan:{icon:"text-cyan-500 bg-cyan-100 dark:bg-cyan-800 dark:text-cyan-200",close:"text-cyan-500 dark:text-cyan-200 hover:text-cyan-600 dark:hover:text-cyan-500"},sky:{icon:"text-sky-500 bg-sky-100 dark:bg-sky-800 dark:text-sky-200",close:"text-sky-500 dark:text-sky-200 hover:text-sky-600 dark:hover:text-sky-500"},blue:{icon:"text-blue-500 bg-blue-100 dark:bg-blue-800 dark:text-blue-200",close:"text-blue-500 dark:text-blue-200 hover:text-blue-600 dark:hover:text-blue-500"},indigo:{icon:"text-indigo-500 bg-indigo-100 dark:bg-indigo-800 dark:text-indigo-200",close:"text-indigo-500 dark:text-indigo-200 hover:text-indigo-600 dark:hover:text-indigo-500"},violet:{icon:"text-violet-500 bg-violet-100 dark:bg-violet-800 dark:text-violet-200",close:"text-violet-500 dark:text-violet-200 hover:text-violet-600 dark:hover:text-violet-500"},purple:{icon:"text-purple-500 bg-purple-100 dark:bg-purple-800 dark:text-purple-200",close:"text-purple-500 dark:text-purple-200 hover:text-purple-600 dark:hover:text-purple-500"},fuchsia:{icon:"text-fuchsia-500 bg-fuchsia-100 dark:bg-fuchsia-800 dark:text-fuchsia-200",close:"text-fuchsia-500 dark:text-fuchsia-200 hover:text-fuchsia-600 dark:hover:text-fuchsia-500"},pink:{icon:"text-pink-500 bg-pink-100 dark:bg-pink-700 dark:text-pink-200",close:"text-pink-500 dark:text-pink-200 hover:text-pink-600 dark:hover:text-pink-500"},rose:{icon:"text-rose-500 bg-rose-100 dark:bg-rose-700 dark:text-rose-200",close:"text-rose-500 dark:text-rose-200 hover:text-rose-600 dark:hover:text-rose-500"}},align:{true:{base:"items-center"},false:{base:"items-start"}}}});ce$1({slots:{base:"flex justify-between items-center",content:"flex flex-wrap items-center"},variants:{embedded:{true:{},false:{base:"py-2 px-3"}},color:{default:{},primary:{base:"bg-primary-100 text-primary-800"},secondary:{base:"bg-secondary-100 text-secondary-800"}},separators:{true:{content:"sm:divide-x rtl:divide-x-reverse"}}},compoundVariants:[{embedded:!0,color:"default",class:{base:"bg-transparent"}}]});ce$1({base:"flex items-center",variants:{spacing:{default:"space-x-1 rtl:space-x-reverse",tight:"space-x-0.5 rtl:space-x-reverse",loose:"space-x-2 rtl:space-x-reverse"},padding:{default:"sm:pe-4 sm:ps-4",none:""},position:{middle:"",first:"sm:ps-0",last:"sm:pe-0"}},compoundVariants:[{position:["first","last"],class:"sm:px-0"}]});ce$1({base:"focus:outline-none whitespace-normal",variants:{color:{dark:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600",gray:"text-gray-500 focus:ring-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-gray-300",red:"text-red-500 focus:ring-red-400 hover:bg-red-200 dark:hover:bg-red-800 dark:hover:text-red-300",yellow:"text-yellow-500 focus:ring-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-800 dark:hover:text-yellow-300",green:"text-green-500 focus:ring-green-400 hover:bg-green-200 dark:hover:bg-green-800 dark:hover:text-green-300",indigo:"text-indigo-500 focus:ring-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-800 dark:hover:text-indigo-300",purple:"text-purple-500 focus:ring-purple-400 hover:bg-purple-200 dark:hover:bg-purple-800 dark:hover:text-purple-300",pink:"text-pink-500 focus:ring-pink-400 hover:bg-pink-200 dark:hover:bg-pink-800 dark:hover:text-pink-300",blue:"text-blue-500 focus:ring-blue-400 hover:bg-blue-200 dark:hover:bg-blue-800 dark:hover:text-blue-300",primary:"text-primary-500 focus:ring-primary-400 hover:bg-primary-200 dark:hover:bg-primary-800 dark:hover:text-primary-300",default:"focus:ring-gray-400 hover:bg-gray-100"},size:{xs:"m-0.5 rounded-sm focus:ring-1 p-0.5",sm:"m-0.5 rounded focus:ring-1 p-0.5",md:"m-0.5 rounded-lg focus:ring-2 p-1.5",lg:"m-0.5 rounded-lg focus:ring-2 p-2.5"},background:{true:"",false:""}},compoundVariants:[{color:"default",background:!0,class:"dark:hover:bg-gray-600"},{color:"default",background:!1,class:"dark:hover:bg-gray-700"}]});const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=Y=>({x:Y,y:Y}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(Y,T,k){return max(Y,min(T,k))}function evaluate(Y,T){return typeof Y=="function"?Y(T):Y}function getSide(Y){return Y.split("-")[0]}function getAlignment(Y){return Y.split("-")[1]}function getOppositeAxis(Y){return Y==="x"?"y":"x"}function getAxisLength(Y){return Y==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(Y){return yAxisSides.has(getSide(Y))?"y":"x"}function getAlignmentAxis(Y){return getOppositeAxis(getSideAxis(Y))}function getAlignmentSides(Y,T,k){k===void 0&&(k=!1);const Z=getAlignment(Y),ee=getAlignmentAxis(Y),te=getAxisLength(ee);let ne=ee==="x"?Z===(k?"end":"start")?"right":"left":Z==="start"?"bottom":"top";return T.reference[te]>T.floating[te]&&(ne=getOppositePlacement(ne)),[ne,getOppositePlacement(ne)]}function getExpandedPlacements(Y){const T=getOppositePlacement(Y);return[getOppositeAlignmentPlacement(Y),T,getOppositeAlignmentPlacement(T)]}function getOppositeAlignmentPlacement(Y){return Y.replace(/start|end/g,T=>oppositeAlignmentMap[T])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(Y,T,k){switch(Y){case"top":case"bottom":return k?T?rlPlacement:lrPlacement:T?lrPlacement:rlPlacement;case"left":case"right":return T?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(Y,T,k,Z){const ee=getAlignment(Y);let te=getSideList(getSide(Y),k==="start",Z);return ee&&(te=te.map(ne=>ne+"-"+ee),T&&(te=te.concat(te.map(getOppositeAlignmentPlacement)))),te}function getOppositePlacement(Y){return Y.replace(/left|right|bottom|top/g,T=>oppositeSideMap[T])}function expandPaddingObject(Y){return{top:0,right:0,bottom:0,left:0,...Y}}function getPaddingObject(Y){return typeof Y!="number"?expandPaddingObject(Y):{top:Y,right:Y,bottom:Y,left:Y}}function rectToClientRect(Y){const{x:T,y:k,width:Z,height:ee}=Y;return{width:Z,height:ee,top:k,left:T,right:T+Z,bottom:k+ee,x:T,y:k}}function computeCoordsFromPlacement(Y,T,k){let{reference:Z,floating:ee}=Y;const te=getSideAxis(T),ne=getAlignmentAxis(T),me=getAxisLength(ne),Ve=getSide(T),Ye=te==="y",et=Z.x+Z.width/2-ee.width/2,tt=Z.y+Z.height/2-ee.height/2,it=Z[me]/2-ee[me]/2;let st;switch(Ve){case"top":st={x:et,y:Z.y-ee.height};break;case"bottom":st={x:et,y:Z.y+Z.height};break;case"right":st={x:Z.x+Z.width,y:tt};break;case"left":st={x:Z.x-ee.width,y:tt};break;default:st={x:Z.x,y:Z.y}}switch(getAlignment(T)){case"start":st[ne]-=it*(k&&Ye?-1:1);break;case"end":st[ne]+=it*(k&&Ye?-1:1);break}return st}const computePosition$1=async(Y,T,k)=>{const{placement:Z="bottom",strategy:ee="absolute",middleware:te=[],platform:ne}=k,me=te.filter(Boolean),Ve=await(ne.isRTL==null?void 0:ne.isRTL(T));let Ye=await ne.getElementRects({reference:Y,floating:T,strategy:ee}),{x:et,y:tt}=computeCoordsFromPlacement(Ye,Z,Ve),it=Z,st={},nt=0;for(let rt=0;rt<me.length;rt++){const{name:lt,fn:ot}=me[rt],{x:ht,y:dt,data:ct,reset:ut}=await ot({x:et,y:tt,initialPlacement:Z,placement:it,strategy:ee,middlewareData:st,rects:Ye,platform:ne,elements:{reference:Y,floating:T}});et=ht??et,tt=dt??tt,st={...st,[lt]:{...st[lt],...ct}},ut&&nt<=50&&(nt++,typeof ut=="object"&&(ut.placement&&(it=ut.placement),ut.rects&&(Ye=ut.rects===!0?await ne.getElementRects({reference:Y,floating:T,strategy:ee}):ut.rects),{x:et,y:tt}=computeCoordsFromPlacement(Ye,it,Ve)),rt=-1)}return{x:et,y:tt,placement:it,strategy:ee,middlewareData:st}};async function detectOverflow(Y,T){var k;T===void 0&&(T={});const{x:Z,y:ee,platform:te,rects:ne,elements:me,strategy:Ve}=Y,{boundary:Ye="clippingAncestors",rootBoundary:et="viewport",elementContext:tt="floating",altBoundary:it=!1,padding:st=0}=evaluate(T,Y),nt=getPaddingObject(st),lt=me[it?tt==="floating"?"reference":"floating":tt],ot=rectToClientRect(await te.getClippingRect({element:(k=await(te.isElement==null?void 0:te.isElement(lt)))==null||k?lt:lt.contextElement||await(te.getDocumentElement==null?void 0:te.getDocumentElement(me.floating)),boundary:Ye,rootBoundary:et,strategy:Ve})),ht=tt==="floating"?{x:Z,y:ee,width:ne.floating.width,height:ne.floating.height}:ne.reference,dt=await(te.getOffsetParent==null?void 0:te.getOffsetParent(me.floating)),ct=await(te.isElement==null?void 0:te.isElement(dt))?await(te.getScale==null?void 0:te.getScale(dt))||{x:1,y:1}:{x:1,y:1},ut=rectToClientRect(te.convertOffsetParentRelativeRectToViewportRelativeRect?await te.convertOffsetParentRelativeRectToViewportRelativeRect({elements:me,rect:ht,offsetParent:dt,strategy:Ve}):ht);return{top:(ot.top-ut.top+nt.top)/ct.y,bottom:(ut.bottom-ot.bottom+nt.bottom)/ct.y,left:(ot.left-ut.left+nt.left)/ct.x,right:(ut.right-ot.right+nt.right)/ct.x}}const arrow$1=Y=>({name:"arrow",options:Y,async fn(T){const{x:k,y:Z,placement:ee,rects:te,platform:ne,elements:me,middlewareData:Ve}=T,{element:Ye,padding:et=0}=evaluate(Y,T)||{};if(Ye==null)return{};const tt=getPaddingObject(et),it={x:k,y:Z},st=getAlignmentAxis(ee),nt=getAxisLength(st),rt=await ne.getDimensions(Ye),lt=st==="y",ot=lt?"top":"left",ht=lt?"bottom":"right",dt=lt?"clientHeight":"clientWidth",ct=te.reference[nt]+te.reference[st]-it[st]-te.floating[nt],ut=it[st]-te.reference[st],ft=await(ne.getOffsetParent==null?void 0:ne.getOffsetParent(Ye));let vt=ft?ft[dt]:0;(!vt||!await(ne.isElement==null?void 0:ne.isElement(ft)))&&(vt=me.floating[dt]||te.floating[nt]);const mt=ct/2-ut/2,_t=vt/2-rt[nt]/2-1,Et=min(tt[ot],_t),Tt=min(tt[ht],_t),xt=Et,yt=vt-rt[nt]-Tt,St=vt/2-rt[nt]/2+mt,At=clamp$1(xt,St,yt),Ct=!Ve.arrow&&getAlignment(ee)!=null&&St!==At&&te.reference[nt]/2-(St<xt?Et:Tt)-rt[nt]/2<0,It=Ct?St<xt?St-xt:St-yt:0;return{[st]:it[st]+It,data:{[st]:At,centerOffset:St-At-It,...Ct&&{alignmentOffset:It}},reset:Ct}}}),flip$1=function(Y){return Y===void 0&&(Y={}),{name:"flip",options:Y,async fn(T){var k,Z;const{placement:ee,middlewareData:te,rects:ne,initialPlacement:me,platform:Ve,elements:Ye}=T,{mainAxis:et=!0,crossAxis:tt=!0,fallbackPlacements:it,fallbackStrategy:st="bestFit",fallbackAxisSideDirection:nt="none",flipAlignment:rt=!0,...lt}=evaluate(Y,T);if((k=te.arrow)!=null&&k.alignmentOffset)return{};const ot=getSide(ee),ht=getSideAxis(me),dt=getSide(me)===me,ct=await(Ve.isRTL==null?void 0:Ve.isRTL(Ye.floating)),ut=it||(dt||!rt?[getOppositePlacement(me)]:getExpandedPlacements(me)),ft=nt!=="none";!it&&ft&&ut.push(...getOppositeAxisPlacements(me,rt,nt,ct));const vt=[me,...ut],mt=await detectOverflow(T,lt),_t=[];let Et=((Z=te.flip)==null?void 0:Z.overflows)||[];if(et&&_t.push(mt[ot]),tt){const St=getAlignmentSides(ee,ne,ct);_t.push(mt[St[0]],mt[St[1]])}if(Et=[...Et,{placement:ee,overflows:_t}],!_t.every(St=>St<=0)){var Tt,xt;const St=(((Tt=te.flip)==null?void 0:Tt.index)||0)+1,At=vt[St];if(At)return{data:{index:St,overflows:Et},reset:{placement:At}};let Ct=(xt=Et.filter(It=>It.overflows[0]<=0).sort((It,Ot)=>It.overflows[1]-Ot.overflows[1])[0])==null?void 0:xt.placement;if(!Ct)switch(st){case"bestFit":{var yt;const It=(yt=Et.filter(Ot=>{if(ft){const Dt=getSideAxis(Ot.placement);return Dt===ht||Dt==="y"}return!0}).map(Ot=>[Ot.placement,Ot.overflows.filter(Dt=>Dt>0).reduce((Dt,Mt)=>Dt+Mt,0)]).sort((Ot,Dt)=>Ot[1]-Dt[1])[0])==null?void 0:yt[0];It&&(Ct=It);break}case"initialPlacement":Ct=me;break}if(ee!==Ct)return{reset:{placement:Ct}}}return{}}}};async function convertValueToCoords(Y,T){const{placement:k,platform:Z,elements:ee}=Y,te=await(Z.isRTL==null?void 0:Z.isRTL(ee.floating)),ne=getSide(k),me=getAlignment(k),Ve=getSideAxis(k)==="y",Ye=["left","top"].includes(ne)?-1:1,et=te&&Ve?-1:1,tt=evaluate(T,Y);let{mainAxis:it,crossAxis:st,alignmentAxis:nt}=typeof tt=="number"?{mainAxis:tt,crossAxis:0,alignmentAxis:null}:{mainAxis:tt.mainAxis||0,crossAxis:tt.crossAxis||0,alignmentAxis:tt.alignmentAxis};return me&&typeof nt=="number"&&(st=me==="end"?nt*-1:nt),Ve?{x:st*et,y:it*Ye}:{x:it*Ye,y:st*et}}const offset$1=function(Y){return Y===void 0&&(Y=0),{name:"offset",options:Y,async fn(T){var k,Z;const{x:ee,y:te,placement:ne,middlewareData:me}=T,Ve=await convertValueToCoords(T,Y);return ne===((k=me.offset)==null?void 0:k.placement)&&(Z=me.arrow)!=null&&Z.alignmentOffset?{}:{x:ee+Ve.x,y:te+Ve.y,data:{...Ve,placement:ne}}}}},shift$1=function(Y){return Y===void 0&&(Y={}),{name:"shift",options:Y,async fn(T){const{x:k,y:Z,placement:ee}=T,{mainAxis:te=!0,crossAxis:ne=!1,limiter:me={fn:lt=>{let{x:ot,y:ht}=lt;return{x:ot,y:ht}}},...Ve}=evaluate(Y,T),Ye={x:k,y:Z},et=await detectOverflow(T,Ve),tt=getSideAxis(getSide(ee)),it=getOppositeAxis(tt);let st=Ye[it],nt=Ye[tt];if(te){const lt=it==="y"?"top":"left",ot=it==="y"?"bottom":"right",ht=st+et[lt],dt=st-et[ot];st=clamp$1(ht,st,dt)}if(ne){const lt=tt==="y"?"top":"left",ot=tt==="y"?"bottom":"right",ht=nt+et[lt],dt=nt-et[ot];nt=clamp$1(ht,nt,dt)}const rt=me.fn({...T,[it]:st,[tt]:nt});return{...rt,data:{x:rt.x-k,y:rt.y-Z,enabled:{[it]:te,[tt]:ne}}}}}},size$3=function(Y){return Y===void 0&&(Y={}),{name:"size",options:Y,async fn(T){var k,Z;const{placement:ee,rects:te,platform:ne,elements:me}=T,{apply:Ve=()=>{},...Ye}=evaluate(Y,T),et=await detectOverflow(T,Ye),tt=getSide(ee),it=getAlignment(ee),st=getSideAxis(ee)==="y",{width:nt,height:rt}=te.floating;let lt,ot;tt==="top"||tt==="bottom"?(lt=tt,ot=it===(await(ne.isRTL==null?void 0:ne.isRTL(me.floating))?"start":"end")?"left":"right"):(ot=tt,lt=it==="end"?"top":"bottom");const ht=rt-et.top-et.bottom,dt=nt-et.left-et.right,ct=min(rt-et[lt],ht),ut=min(nt-et[ot],dt),ft=!T.middlewareData.shift;let vt=ct,mt=ut;if((k=T.middlewareData.shift)!=null&&k.enabled.x&&(mt=dt),(Z=T.middlewareData.shift)!=null&&Z.enabled.y&&(vt=ht),ft&&!it){const Et=max(et.left,0),Tt=max(et.right,0),xt=max(et.top,0),yt=max(et.bottom,0);st?mt=nt-2*(Et!==0||Tt!==0?Et+Tt:max(et.left,et.right)):vt=rt-2*(xt!==0||yt!==0?xt+yt:max(et.top,et.bottom))}await Ve({...T,availableWidth:mt,availableHeight:vt});const _t=await ne.getDimensions(me.floating);return nt!==_t.width||rt!==_t.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(Y){return isNode$1(Y)?(Y.nodeName||"").toLowerCase():"#document"}function getWindow$1(Y){var T;return(Y==null||(T=Y.ownerDocument)==null?void 0:T.defaultView)||window}function getDocumentElement(Y){var T;return(T=(isNode$1(Y)?Y.ownerDocument:Y.document)||window.document)==null?void 0:T.documentElement}function isNode$1(Y){return hasWindow()?Y instanceof Node||Y instanceof getWindow$1(Y).Node:!1}function isElement$1(Y){return hasWindow()?Y instanceof Element||Y instanceof getWindow$1(Y).Element:!1}function isHTMLElement$1(Y){return hasWindow()?Y instanceof HTMLElement||Y instanceof getWindow$1(Y).HTMLElement:!1}function isShadowRoot$1(Y){return!hasWindow()||typeof ShadowRoot>"u"?!1:Y instanceof ShadowRoot||Y instanceof getWindow$1(Y).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(Y){const{overflow:T,overflowX:k,overflowY:Z,display:ee}=getComputedStyle$1(Y);return/auto|scroll|overlay|hidden|clip/.test(T+Z+k)&&!invalidOverflowDisplayValues.has(ee)}const tableElements=new Set(["table","td","th"]);function isTableElement(Y){return tableElements.has(getNodeName(Y))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(Y){return topLayerSelectors.some(T=>{try{return Y.matches(T)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(Y){const T=isWebKit(),k=isElement$1(Y)?getComputedStyle$1(Y):Y;return transformProperties.some(Z=>k[Z]?k[Z]!=="none":!1)||(k.containerType?k.containerType!=="normal":!1)||!T&&(k.backdropFilter?k.backdropFilter!=="none":!1)||!T&&(k.filter?k.filter!=="none":!1)||willChangeValues.some(Z=>(k.willChange||"").includes(Z))||containValues.some(Z=>(k.contain||"").includes(Z))}function getContainingBlock(Y){let T=getParentNode(Y);for(;isHTMLElement$1(T)&&!isLastTraversableNode(T);){if(isContainingBlock(T))return T;if(isTopLayer(T))return null;T=getParentNode(T)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(Y){return lastTraversableNodeNames.has(getNodeName(Y))}function getComputedStyle$1(Y){return getWindow$1(Y).getComputedStyle(Y)}function getNodeScroll(Y){return isElement$1(Y)?{scrollLeft:Y.scrollLeft,scrollTop:Y.scrollTop}:{scrollLeft:Y.scrollX,scrollTop:Y.scrollY}}function getParentNode(Y){if(getNodeName(Y)==="html")return Y;const T=Y.assignedSlot||Y.parentNode||isShadowRoot$1(Y)&&Y.host||getDocumentElement(Y);return isShadowRoot$1(T)?T.host:T}function getNearestOverflowAncestor(Y){const T=getParentNode(Y);return isLastTraversableNode(T)?Y.ownerDocument?Y.ownerDocument.body:Y.body:isHTMLElement$1(T)&&isOverflowElement(T)?T:getNearestOverflowAncestor(T)}function getOverflowAncestors(Y,T,k){var Z;T===void 0&&(T=[]),k===void 0&&(k=!0);const ee=getNearestOverflowAncestor(Y),te=ee===((Z=Y.ownerDocument)==null?void 0:Z.body),ne=getWindow$1(ee);if(te){const me=getFrameElement(ne);return T.concat(ne,ne.visualViewport||[],isOverflowElement(ee)?ee:[],me&&k?getOverflowAncestors(me):[])}return T.concat(ee,getOverflowAncestors(ee,[],k))}function getFrameElement(Y){return Y.parent&&Object.getPrototypeOf(Y.parent)?Y.frameElement:null}function getCssDimensions(Y){const T=getComputedStyle$1(Y);let k=parseFloat(T.width)||0,Z=parseFloat(T.height)||0;const ee=isHTMLElement$1(Y),te=ee?Y.offsetWidth:k,ne=ee?Y.offsetHeight:Z,me=round(k)!==te||round(Z)!==ne;return me&&(k=te,Z=ne),{width:k,height:Z,$:me}}function unwrapElement(Y){return isElement$1(Y)?Y:Y.contextElement}function getScale(Y){const T=unwrapElement(Y);if(!isHTMLElement$1(T))return createCoords(1);const k=T.getBoundingClientRect(),{width:Z,height:ee,$:te}=getCssDimensions(T);let ne=(te?round(k.width):k.width)/Z,me=(te?round(k.height):k.height)/ee;return(!ne||!Number.isFinite(ne))&&(ne=1),(!me||!Number.isFinite(me))&&(me=1),{x:ne,y:me}}const noOffsets=createCoords(0);function getVisualOffsets(Y){const T=getWindow$1(Y);return!isWebKit()||!T.visualViewport?noOffsets:{x:T.visualViewport.offsetLeft,y:T.visualViewport.offsetTop}}function shouldAddVisualOffsets(Y,T,k){return T===void 0&&(T=!1),!k||T&&k!==getWindow$1(Y)?!1:T}function getBoundingClientRect(Y,T,k,Z){T===void 0&&(T=!1),k===void 0&&(k=!1);const ee=Y.getBoundingClientRect(),te=unwrapElement(Y);let ne=createCoords(1);T&&(Z?isElement$1(Z)&&(ne=getScale(Z)):ne=getScale(Y));const me=shouldAddVisualOffsets(te,k,Z)?getVisualOffsets(te):createCoords(0);let Ve=(ee.left+me.x)/ne.x,Ye=(ee.top+me.y)/ne.y,et=ee.width/ne.x,tt=ee.height/ne.y;if(te){const it=getWindow$1(te),st=Z&&isElement$1(Z)?getWindow$1(Z):Z;let nt=it,rt=getFrameElement(nt);for(;rt&&Z&&st!==nt;){const lt=getScale(rt),ot=rt.getBoundingClientRect(),ht=getComputedStyle$1(rt),dt=ot.left+(rt.clientLeft+parseFloat(ht.paddingLeft))*lt.x,ct=ot.top+(rt.clientTop+parseFloat(ht.paddingTop))*lt.y;Ve*=lt.x,Ye*=lt.y,et*=lt.x,tt*=lt.y,Ve+=dt,Ye+=ct,nt=getWindow$1(rt),rt=getFrameElement(nt)}}return rectToClientRect({width:et,height:tt,x:Ve,y:Ye})}function getWindowScrollBarX(Y,T){const k=getNodeScroll(Y).scrollLeft;return T?T.left+k:getBoundingClientRect(getDocumentElement(Y)).left+k}function getHTMLOffset(Y,T,k){k===void 0&&(k=!1);const Z=Y.getBoundingClientRect(),ee=Z.left+T.scrollLeft-(k?0:getWindowScrollBarX(Y,Z)),te=Z.top+T.scrollTop;return{x:ee,y:te}}function convertOffsetParentRelativeRectToViewportRelativeRect(Y){let{elements:T,rect:k,offsetParent:Z,strategy:ee}=Y;const te=ee==="fixed",ne=getDocumentElement(Z),me=T?isTopLayer(T.floating):!1;if(Z===ne||me&&te)return k;let Ve={scrollLeft:0,scrollTop:0},Ye=createCoords(1);const et=createCoords(0),tt=isHTMLElement$1(Z);if((tt||!tt&&!te)&&((getNodeName(Z)!=="body"||isOverflowElement(ne))&&(Ve=getNodeScroll(Z)),isHTMLElement$1(Z))){const st=getBoundingClientRect(Z);Ye=getScale(Z),et.x=st.x+Z.clientLeft,et.y=st.y+Z.clientTop}const it=ne&&!tt&&!te?getHTMLOffset(ne,Ve,!0):createCoords(0);return{width:k.width*Ye.x,height:k.height*Ye.y,x:k.x*Ye.x-Ve.scrollLeft*Ye.x+et.x+it.x,y:k.y*Ye.y-Ve.scrollTop*Ye.y+et.y+it.y}}function getClientRects(Y){return Array.from(Y.getClientRects())}function getDocumentRect(Y){const T=getDocumentElement(Y),k=getNodeScroll(Y),Z=Y.ownerDocument.body,ee=max(T.scrollWidth,T.clientWidth,Z.scrollWidth,Z.clientWidth),te=max(T.scrollHeight,T.clientHeight,Z.scrollHeight,Z.clientHeight);let ne=-k.scrollLeft+getWindowScrollBarX(Y);const me=-k.scrollTop;return getComputedStyle$1(Z).direction==="rtl"&&(ne+=max(T.clientWidth,Z.clientWidth)-ee),{width:ee,height:te,x:ne,y:me}}function getViewportRect(Y,T){const k=getWindow$1(Y),Z=getDocumentElement(Y),ee=k.visualViewport;let te=Z.clientWidth,ne=Z.clientHeight,me=0,Ve=0;if(ee){te=ee.width,ne=ee.height;const Ye=isWebKit();(!Ye||Ye&&T==="fixed")&&(me=ee.offsetLeft,Ve=ee.offsetTop)}return{width:te,height:ne,x:me,y:Ve}}function getInnerBoundingClientRect(Y,T){const k=getBoundingClientRect(Y,!0,T==="fixed"),Z=k.top+Y.clientTop,ee=k.left+Y.clientLeft,te=isHTMLElement$1(Y)?getScale(Y):createCoords(1),ne=Y.clientWidth*te.x,me=Y.clientHeight*te.y,Ve=ee*te.x,Ye=Z*te.y;return{width:ne,height:me,x:Ve,y:Ye}}function getClientRectFromClippingAncestor(Y,T,k){let Z;if(T==="viewport")Z=getViewportRect(Y,k);else if(T==="document")Z=getDocumentRect(getDocumentElement(Y));else if(isElement$1(T))Z=getInnerBoundingClientRect(T,k);else{const ee=getVisualOffsets(Y);Z={x:T.x-ee.x,y:T.y-ee.y,width:T.width,height:T.height}}return rectToClientRect(Z)}function hasFixedPositionAncestor(Y,T){const k=getParentNode(Y);return k===T||!isElement$1(k)||isLastTraversableNode(k)?!1:getComputedStyle$1(k).position==="fixed"||hasFixedPositionAncestor(k,T)}function getClippingElementAncestors(Y,T){const k=T.get(Y);if(k)return k;let Z=getOverflowAncestors(Y,[],!1).filter(me=>isElement$1(me)&&getNodeName(me)!=="body"),ee=null;const te=getComputedStyle$1(Y).position==="fixed";let ne=te?getParentNode(Y):Y;for(;isElement$1(ne)&&!isLastTraversableNode(ne);){const me=getComputedStyle$1(ne),Ve=isContainingBlock(ne);!Ve&&me.position==="fixed"&&(ee=null),(te?!Ve&&!ee:!Ve&&me.position==="static"&&!!ee&&["absolute","fixed"].includes(ee.position)||isOverflowElement(ne)&&!Ve&&hasFixedPositionAncestor(Y,ne))?Z=Z.filter(et=>et!==ne):ee=me,ne=getParentNode(ne)}return T.set(Y,Z),Z}function getClippingRect(Y){let{element:T,boundary:k,rootBoundary:Z,strategy:ee}=Y;const ne=[...k==="clippingAncestors"?isTopLayer(T)?[]:getClippingElementAncestors(T,this._c):[].concat(k),Z],me=ne[0],Ve=ne.reduce((Ye,et)=>{const tt=getClientRectFromClippingAncestor(T,et,ee);return Ye.top=max(tt.top,Ye.top),Ye.right=min(tt.right,Ye.right),Ye.bottom=min(tt.bottom,Ye.bottom),Ye.left=max(tt.left,Ye.left),Ye},getClientRectFromClippingAncestor(T,me,ee));return{width:Ve.right-Ve.left,height:Ve.bottom-Ve.top,x:Ve.left,y:Ve.top}}function getDimensions(Y){const{width:T,height:k}=getCssDimensions(Y);return{width:T,height:k}}function getRectRelativeToOffsetParent(Y,T,k){const Z=isHTMLElement$1(T),ee=getDocumentElement(T),te=k==="fixed",ne=getBoundingClientRect(Y,!0,te,T);let me={scrollLeft:0,scrollTop:0};const Ve=createCoords(0);if(Z||!Z&&!te)if((getNodeName(T)!=="body"||isOverflowElement(ee))&&(me=getNodeScroll(T)),Z){const it=getBoundingClientRect(T,!0,te,T);Ve.x=it.x+T.clientLeft,Ve.y=it.y+T.clientTop}else ee&&(Ve.x=getWindowScrollBarX(ee));const Ye=ee&&!Z&&!te?getHTMLOffset(ee,me):createCoords(0),et=ne.left+me.scrollLeft-Ve.x-Ye.x,tt=ne.top+me.scrollTop-Ve.y-Ye.y;return{x:et,y:tt,width:ne.width,height:ne.height}}function isStaticPositioned(Y){return getComputedStyle$1(Y).position==="static"}function getTrueOffsetParent(Y,T){if(!isHTMLElement$1(Y)||getComputedStyle$1(Y).position==="fixed")return null;if(T)return T(Y);let k=Y.offsetParent;return getDocumentElement(Y)===k&&(k=k.ownerDocument.body),k}function getOffsetParent(Y,T){const k=getWindow$1(Y);if(isTopLayer(Y))return k;if(!isHTMLElement$1(Y)){let ee=getParentNode(Y);for(;ee&&!isLastTraversableNode(ee);){if(isElement$1(ee)&&!isStaticPositioned(ee))return ee;ee=getParentNode(ee)}return k}let Z=getTrueOffsetParent(Y,T);for(;Z&&isTableElement(Z)&&isStaticPositioned(Z);)Z=getTrueOffsetParent(Z,T);return Z&&isLastTraversableNode(Z)&&isStaticPositioned(Z)&&!isContainingBlock(Z)?k:Z||getContainingBlock(Y)||k}const getElementRects=async function(Y){const T=this.getOffsetParent||getOffsetParent,k=this.getDimensions,Z=await k(Y.floating);return{reference:getRectRelativeToOffsetParent(Y.reference,await T(Y.floating),Y.strategy),floating:{x:0,y:0,width:Z.width,height:Z.height}}};function isRTL(Y){return getComputedStyle$1(Y).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function rectsAreEqual(Y,T){return Y.x===T.x&&Y.y===T.y&&Y.width===T.width&&Y.height===T.height}function observeMove(Y,T){let k=null,Z;const ee=getDocumentElement(Y);function te(){var me;clearTimeout(Z),(me=k)==null||me.disconnect(),k=null}function ne(me,Ve){me===void 0&&(me=!1),Ve===void 0&&(Ve=1),te();const Ye=Y.getBoundingClientRect(),{left:et,top:tt,width:it,height:st}=Ye;if(me||T(),!it||!st)return;const nt=floor(tt),rt=floor(ee.clientWidth-(et+it)),lt=floor(ee.clientHeight-(tt+st)),ot=floor(et),dt={rootMargin:-nt+"px "+-rt+"px "+-lt+"px "+-ot+"px",threshold:max(0,min(1,Ve))||1};let ct=!0;function ut(ft){const vt=ft[0].intersectionRatio;if(vt!==Ve){if(!ct)return ne();vt?ne(!1,vt):Z=setTimeout(()=>{ne(!1,1e-7)},1e3)}vt===1&&!rectsAreEqual(Ye,Y.getBoundingClientRect())&&ne(),ct=!1}try{k=new IntersectionObserver(ut,{...dt,root:ee.ownerDocument})}catch{k=new IntersectionObserver(ut,dt)}k.observe(Y)}return ne(!0),te}function autoUpdate(Y,T,k,Z){Z===void 0&&(Z={});const{ancestorScroll:ee=!0,ancestorResize:te=!0,elementResize:ne=typeof ResizeObserver=="function",layoutShift:me=typeof IntersectionObserver=="function",animationFrame:Ve=!1}=Z,Ye=unwrapElement(Y),et=ee||te?[...Ye?getOverflowAncestors(Ye):[],...getOverflowAncestors(T)]:[];et.forEach(ot=>{ee&&ot.addEventListener("scroll",k,{passive:!0}),te&&ot.addEventListener("resize",k)});const tt=Ye&&me?observeMove(Ye,k):null;let it=-1,st=null;ne&&(st=new ResizeObserver(ot=>{let[ht]=ot;ht&&ht.target===Ye&&st&&(st.unobserve(T),cancelAnimationFrame(it),it=requestAnimationFrame(()=>{var dt;(dt=st)==null||dt.observe(T)})),k()}),Ye&&!Ve&&st.observe(Ye),st.observe(T));let nt,rt=Ve?getBoundingClientRect(Y):null;Ve&&lt();function lt(){const ot=getBoundingClientRect(Y);rt&&!rectsAreEqual(rt,ot)&&k(),rt=ot,nt=requestAnimationFrame(lt)}return k(),()=>{var ot;et.forEach(ht=>{ee&&ht.removeEventListener("scroll",k),te&&ht.removeEventListener("resize",k)}),tt==null||tt(),(ot=st)==null||ot.disconnect(),st=null,Ve&&cancelAnimationFrame(nt)}}const offset=offset$1,shift=shift$1,flip=flip$1,size$2=size$3,arrow=arrow$1,computePosition=(Y,T,k)=>{const Z=new Map,ee={platform,...k},te={...ee.platform,_c:Z};return computePosition$1(Y,T,{...ee,platform:te})};ce$1({slots:{base:"absolute bg-gray-800 text-white px-2 py-1 rounded text-sm z-50 pointer-events-none",arrowBase:"absolute w-2 h-2 rotate-45 bg-inherit"},variants:{color:{default:{base:"bg-gray-800"},primary:{base:"bg-primary-600"},secondary:{base:"bg-secondary-600"},gray:{base:"bg-gray-600"},red:{base:"bg-red-600"},orange:{base:"bg-orange-600"},amber:{base:"bg-amber-600"},yellow:{base:"bg-yellow-400"},lime:{base:"bg-lime-600"},green:{base:"bg-green-600"},emerald:{base:"bg-emerald-600"},teal:{base:"bg-teal-600"},cyan:{base:"bg-cyan-600"},sky:{base:"bg-sky-600"},blue:{base:"bg-blue-600"},indigo:{base:"bg-indigo-600"},violet:{base:"bg-violet-600"},purple:{base:"bg-purple-600"},fuchsia:{base:"bg-fuchsia-600"},pink:{base:"bg-pink-600"},rose:{base:"bg-rose-800"}},arrow:{true:{arrowBase:"visible"},false:{arrowBase:"hidden"}},position:{top:{},"top-start":{},"top-end":{},bottom:{},"bottom-start":{},"bottom-end":{},left:{},"left-start":{},"left-end":{},right:{},"right-start":{},"right-end":{}}},defaultVariants:{color:"default",arrow:!0,position:"top"}});function SnippetRender(Y,T){let k=rest_props(T,["$$slots","$$events","$$legacy","params","api","containerApi"]),Z=derived$1(()=>T.params.snippet),ee=derived$1(()=>exclude_from_object(T.params,["snippet"])),te=derived$1(()=>({params:get$2(ee),api:T.api,containerApi:T.containerApi,...k}));var ne=comment(),me=first_child(ne);snippet(me,()=>get$2(Z),()=>get$2(te)),append(Y,ne)}var dr;class PropsUpdater{constructor(T,k){ta(this,dr,state());bt(this,"postProcessor");var Z;this.props=T,this.postProcessor=k,(Z=this.postProcessor)==null||Z.call(this,this.props)}get props(){return get$2(Nn(this,dr))}set props(T){set(Nn(this,dr),proxy(T))}update(T){var k;this.props=T,(k=this.postProcessor)==null||k.call(this,this.props)}updateSingle(...T){var ne;const k=T.pop(),Z=T,{length:ee}=Z;let te=this.props;for(let me=0;me<ee-1;me++)te=te[Z[me]];te[Z[ee-1]]=k,(ne=this.postProcessor)==null||ne.call(this,this.props)}}dr=new WeakMap;const deferred=()=>{let Y,T;return{promise:new Promise((Z,ee)=>{Y=Z,T=ee}),resolve:Y,reject:T}},Lr=class Lr{constructor(){bt(this,"defferedMountMap",new Map);bt(this,"id",Lr.ID)}await(T,k=!1){const Z=this.id(T);if(this.defferedMountMap.has(Z)&&!k)return this.defferedMountMap.get(Z).promise;const ee=deferred();return this.defferedMountMap.set(Z,ee),ee.promise}get(T){return this.defferedMountMap.get(T)}drop(T){this.defferedMountMap.delete(T)}tryResolveAndDrop(T,k){var Z;(Z=this.get(T))==null||Z.resolve(k),this.drop(T)}};bt(Lr,"ID",({viewIndex:T,id:k,name:Z})=>`${T}${k}${Z}`);let MountMechanism=Lr;const bn=class bn{constructor(T){bt(this,"mountID");bt(this,"svelteComponent");bt(this,"_element");bt(this,"instance");bt(this,"initOptionsToProps");bt(this,"propsPostProcessor");bt(this,"propsHasParams");bt(this,"propsUpdater");this.mountID=bn.Mount.id(T),this.svelteComponent=T.svelteComponent,this.initOptionsToProps=T.initOptionsToProps,this.propsPostProcessor=T.propsPostProcessor,this.propsHasParams=T.propsHasParams??!0,this._element=T.element??document.createElement("div"),this._element.classList.add("dv-react-part"),this._element.style.height="100%",this._element.style.width="100%",this._element.setAttribute("data-dockview-svelte",bn.ReadableIdentifier(T)),this._element.id||(this._element.id=this.mountID)}get element(){return this._element}init(T){this.propsUpdater=new PropsUpdater(this.initOptionsToProps(T),this.propsPostProcessor),this.instance=mount(this.svelteComponent,{target:this.element,props:this.propsUpdater.props}),bn.Mount.tryResolveAndDrop(this.mountID,this.instance)}dispose(){this.instance&&unmount(this.instance)}update({params:T}){var k;for(const Z in T)(k=this.propsUpdater)==null||k.updateSingle(...this.propsHasParams?["params",Z,T[Z]]:[Z,T[Z]])}};bt(bn,"Mount",new MountMechanism),bt(bn,"ReadableIdentifier",({panelTarget:T,viewIndex:k,id:Z,name:ee})=>`${T}-${k}-${Z.startsWith(prefix.component)?"component":"snippet"}-${ee}`);let PanelRendererBase=bn;var Zs;const zs=class zs{constructor(T){ta(this,Zs);bt(this,"subscribers",new Map);ia(this,Zs,T()),user_effect(()=>{ia(this,Zs,T());for(const k of zs.Dettached)this.subscribers.delete(k),zs.Attached.delete(k);zs.Dettached.clear();for(const k of this.subscribers.values())k(Nn(this,Zs))})}get value(){return Nn(this,Zs)}attach(T,k){zs.Attached.add(T);const Z={};k.reduce((ee,te,ne,{length:me})=>{const Ve=ne===me-1;return ee[te]=Ve?Nn(this,Zs):{},ee},Z),this.subscribers.set(T,ee=>{k.reduce((te,ne,me,{length:Ve})=>{if(me===Ve-1)te[ne]=ee;else return te[ne]},Z),T.update(Z)})}static DettachFromAll(T){const{Attached:k,Dettached:Z}=zs;k.has(T)&&Z.add(T)}};Zs=new WeakMap,bt(zs,"Attached",new Set),bt(zs,"Dettached",new Set);let ReactivePanelUpdater=zs;const signal=Y=>new ReactivePanelUpdater(Y),extractCoreOptions=(Y,T)=>T.reduce((k,Z)=>(Z in Y&&(k[Z]=Y[Z]),k),{}),prefix={component:"c_",snippet:"s_"},createExtendedAPI=(Y,T,k)=>{const Z=(ne,me,...Ve)=>{const Ye=ne+me,{length:et}=Ve,tt=et>=1?Ve[0]??{}:{},it=et===2?Ve[1]:null,st=et===2?(it==null?void 0:it.id)??Ye:Ye,nt=(it==null?void 0:it.title)??me,rt=PanelRendererBase.Mount.await({viewIndex:k,id:st,name:me,panelTarget:Y});let lt;for(const ht in tt){const dt=tt[ht];dt instanceof ReactivePanelUpdater&&(lt??(lt=[]),lt.push([dt,["params",ht]]),tt[ht]=dt.value)}const ot=T.addPanel({...it??{},id:st,title:nt,component:Ye,params:tt});if(lt)for(const[ht,dt]of lt)ht.attach(ot,dt);return[rt,ot,st]},ee=async(ne,...me)=>{const[Ve,Ye,et]=Z(prefix.component,ne,...me);return{exports:await Ve,panel:Ye,reference:et}},te=async(ne,...me)=>{const[Ve,Ye,et]=Z(prefix.snippet,ne,...me);return await Ve,{panel:Ye,reference:et}};return"onDidRemovePanel"in T?T.onDidRemovePanel(ReactivePanelUpdater.DettachFromAll):"onDidRemoveView"in T&&T.onDidRemoveView(ReactivePanelUpdater.DettachFromAll),{addComponentPanel:ee,addSnippetPanel:te,signal}},getSnippetPostProcessor=(Y,T)=>k=>{var ee;const Z=Y[T];((ee=k==null?void 0:k.params)==null?void 0:ee.snippet)!==Z&&(k.params??(k.params={}),k.params.snippet=Z)},CastedSnippetRender=SnippetRender,getComponentToMount=(Y,T,k,{name:Z})=>{const ee=Z.startsWith(prefix.snippet);if(!ee&&!Z.startsWith(prefix.component)){const Ye=T==null?void 0:T[Z],et=k==null?void 0:k[Z];if(Ye&&et)throw new Error(`Component '${Z}' is both a component and a snippet`);if(Ye)return{component:Ye,propsPostProcessor:void 0,name:Z};if(et){const tt=getSnippetPostProcessor(k,Z);return{name:Z,component:CastedSnippetRender,propsPostProcessor:tt}}else throw new Error(`Component '${Z}' not found`)}const{length:te}=ee?prefix.snippet:prefix.component,ne=Z.slice(te),me=ee?CastedSnippetRender:T==null?void 0:T[ne],Ve=ee?getSnippetPostProcessor(k,ne):void 0;return{component:me,propsPostProcessor:Ve,name:ne}};ce$1({base:"inline-flex border border-gray-300 overflow-hidden",variants:{roundedSize:{sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"}}});ce$1({slots:{button:"relative flex items-center transition-all duration-200 focus:outline-none border-r last:border-r-0 dark:bg-white dark:text-gray-800 disabled:cursor-not-allowed disabled:opacity-50",content:"flex items-center w-full overflow-hidden relative",text:"transition-all duration-200 ml-0",icon:"absolute left-0 flex-shrink-0 text-green-600"},variants:{selected:{true:{text:"ml-5"},false:{}},size:{sm:{button:"p-1 px-2 text-sm"},md:{button:"p-2 px-4 text-base"},lg:{button:"p-3 px-5 text-lg"},xl:{button:"p-4 px-6 text-xl"}},roundedSize:{sm:{button:"first:rounded-s-sm last:rounded-e-sm"},md:{button:"first:rounded-s-md last:rounded-e-md"},lg:{button:"first:rounded-s-lg last:rounded-e-lg"},xl:{button:"first:rounded-s-xl last:rounded-e-xl"},full:{button:"first:rounded-s-full last:rounded-e-full"}},color:{primary:{button:"data-[selected=true]:bg-primary-200 data-[selected=false]:hover:bg-gray-100"},secondary:{button:"data-[selected=true]:bg-secondary-200 data-[selected=false]:hover:bg-gray-100"},gray:{button:"data-[selected=true]:bg-gray-200 data-[selected=false]:hover:bg-gray-100"},red:{button:"data-[selected=true]:bg-red-200 data-[selected=false]:hover:bg-red-50"},orange:{button:"data-[selected=true]:bg-orange-200 data-[selected=false]:hover:bg-orange-50"},amber:{button:"data-[selected=true]:bg-amber-200 data-[selected=false]:hover:bg-amber-50"},yellow:{button:"data-[selected=true]:bg-yellow-200 data-[selected=false]:hover:bg-yellow-50"},lime:{button:"data-[selected=true]:bg-lime-200 data-[selected=false]:hover:bg-lime-50"},green:{button:"data-[selected=true]:bg-green-200 data-[selected=false]:hover:bg-green-50"},emerald:{button:"data-[selected=true]:bg-emerald-200 data-[selected=false]:hover:bg-emerald-50"},teal:{button:"data-[selected=true]:bg-teal-200 data-[selected=false]:hover:bg-teal-50"},cyan:{button:"data-[selected=true]:bg-cyan-200 data-[selected=false]:hover:bg-cyan-50"},sky:{button:"data-[selected=true]:bg-sky-200 data-[selected=false]:hover:bg-sky-50"},blue:{button:"data-[selected=true]:bg-blue-200 data-[selected=false]:hover:bg-blue-50"},indigo:{button:"data-[selected=true]:bg-indigo-200 data-[selected=false]:hover:bg-indigo-50"},violet:{button:"data-[selected=true]:bg-violet-200 data-[selected=false]:hover:bg-violet-50"},purple:{button:"data-[selected=true]:bg-purple-200 data-[selected=false]:hover:bg-purple-50"},fuchsia:{button:"data-[selected=true]:bg-fuchsia-200 data-[selected=false]:hover:bg-fuchsia-50"},pink:{button:"data-[selected=true]:bg-pink-200 data-[selected=false]:hover:bg-pink-50"},rose:{button:"data-[selected=true]:bg-rose-200 data-[selected=false]:hover:bg-rose-50"},none:{}}},defaultVariants:{selected:!1,color:"primary",size:"md",roundedSize:"md"}});const checkbox=ce$1({slots:{base:"w-4 h-4 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2 me-2 rounded-sm",div:"flex items-center"},variants:{color:{primary:{base:"text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600"},secondary:{base:"text-secondary-600 focus:ring-secondary-500 dark:focus:ring-secondary-600"},gray:{base:"text-gray-600 focus:ring-gray-600 dark:ring-offset-gray-800 dark:focus:ring-gray-600"},red:{base:"text-red-600 focus:ring-red-600 dark:ring-offset-red-600 dark:focus:ring-red-600"},orange:{base:"text-orange-600 focus:ring-orange-600 dark:ring-offset-orange-600 dark:focus:ring-orange-600"},amber:{base:"text-amber-600 focus:ring-amber-600 dark:ring-offset-amber-600 dark:focus:ring-amber-600"},yellow:{base:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400"},lime:{base:"text-lime-700 focus:ring-lime-700 dark:ring-offset-lime-700 dark:focus:ring-lime-700"},green:{base:"text-green-600 focus:ring-green-600 dark:ring-offset-green-600 dark:focus:ring-green-600"},emerald:{base:"text-emerald-600 focus:ring-emerald-600 dark:ring-offset-emerald-600 dark:focus:ring-emerald-600"},teal:{base:"text-teal-600 focus:ring-teal-600 dark:ring-offset-teal-600 dark:focus:ring-teal-600"},cyan:{base:"text-cyan-600 focus:ring-cyan-600 dark:ring-offset-cyan-600 dark:focus:ring-cyan-600"},sky:{base:"text-sky-600 focus:ring-sky-600 dark:ring-offset-sky-600 dark:focus:ring-sky-600"},blue:{base:"text-blue-700 focus:ring-blue-600 dark:ring-offset-blue-700 dark:focus:ring-blue-700"},indigo:{base:"text-indigo-700 focus:ring-indigo-700 dark:ring-offset-indigo-700 dark:focus:ring-indigo-700"},violet:{base:"text-violet-600 focus:ring-violet-600 dark:ring-offset-violet-600 dark:focus:ring-violet-600"},purple:{base:"text-purple-600 focus:ring-purple-600 dark:ring-offset-purple-600 dark:focus:ring-purple-600"},fuchsia:{base:"text-fuchsia-600 focus:ring-fuchsia-600 dark:ring-offset-fuchsia-600 dark:focus:ring-fuchsia-600"},pink:{base:"text-pink-600 focus:ring-pink-600 dark:ring-offset-pink-600 dark:focus:ring-pink-600"},rose:{base:"text-rose-600 focus:ring-rose-600 dark:ring-offset-rose-600 dark:focus:ring-rose-600"}},tinted:{true:{base:"dark:bg-gray-600 dark:border-gray-500"},false:{base:"dark:bg-gray-700 dark:border-gray-600"}},custom:{true:{base:"sr-only peer"}},rounded:{true:{base:"rounded-sm"}},inline:{true:{div:"inline-flex",false:"flex items-center"}},disabled:{true:{base:"cursor-not-allowed opacity-50 bg-gray-200 border-gray-300",div:"cursor-not-allowed opacity-70"},false:{}}},defaultVariants:{color:"primary",disabled:!1}});ce$1({base:"",variants:{inline:{true:"inline-flex",false:"flex"},checked:{true:"outline-4 outline-green-500"}},defaultVariants:{inline:!0}});var root_3$F=template("<input> <!>",1),root_7$b=template("<input> <!>",1);function Checkbox$1(Y,T){push(T,!0);const k=[];let Z=prop(T,"color",3,"primary"),ee=prop(T,"group",31,()=>proxy([])),te=prop(T,"choices",19,()=>[]),ne=prop(T,"checked",15,!1),me=prop(T,"labelProps",19,()=>({})),Ve=rest_props(T,["$$slots","$$events","$$legacy","children","color","custom","inline","tinted","rounded","group","choices","checked","classes","class","divClass","disabled","value","labelProps"]);T.divClass;const Ye=derived$1(()=>T.classes??{div:T.divClass}),et=getTheme("checkbox"),tt=derived$1(()=>checkbox({color:Z(),tinted:T.tinted,custom:T.custom,rounded:T.rounded,inline:T.inline,disabled:T.disabled??!1})),it=derived$1(()=>get$2(tt).base),st=derived$1(()=>get$2(tt).div);user_effect(()=>{T.value!==void 0&&Array.isArray(ee())&&ne(ee().includes(T.value))}),user_effect(()=>{if(T.value===void 0||!Array.isArray(ee()))return;const ht=ee().indexOf(T.value);ne()===void 0&&ne(ht>=0),ne()?ht<0&&ee().push(T.value):ht>=0&&ee().splice(ht,1)});var nt=comment(),rt=first_child(nt);{var lt=ht=>{var dt=comment(),ct=first_child(dt);each(ct,19,te,(ut,ft)=>ut.value??ft,(ut,ft)=>{const vt=derived$1(()=>!!T.children||!!get$2(ft).label),mt=derived$1(()=>get$2(st)({class:clsx$1(et==null?void 0:et.div,get$2(Ye).div)}));Label$1(ut,spread_props({get show(){return get$2(vt)}},me,{get class(){return get$2(mt)},children:(_t,Et)=>{var Tt=root_3$F(),xt=first_child(Tt);let yt;var St=sibling(xt,2);{var At=It=>{var Ot=comment(),Dt=first_child(Ot);snippet(Dt,()=>T.children,()=>({value:get$2(ft).value,checked:get$2(ft).checked,disabled:T.disabled})),append(It,Ot)},Ct=It=>{var Ot=text$1();template_effect(()=>set_text(Ot,get$2(ft).label)),append(It,Ot)};if_block(St,It=>{T.children?It(At):It(Ct,!1)})}template_effect(It=>yt=set_attributes(xt,yt,{type:"checkbox",value:get$2(ft).value,checked:get$2(ft).checked??!1,disabled:T.disabled,...Ve,class:It}),[()=>get$2(it)({class:clsx$1(et==null?void 0:et.base,T.class)})]),bind_group(k,[],xt,()=>(get$2(ft).value,ee()),ee),append(_t,Tt)},$$slots:{default:!0}}))}),append(ht,dt)},ot=ht=>{const dt=derived$1(()=>!!T.children),ct=derived$1(()=>get$2(st)({class:clsx$1(et==null?void 0:et.div,get$2(Ye).div)}));Label$1(ht,spread_props({get show(){return get$2(dt)}},me,{get class(){return get$2(ct)},children:(ut,ft)=>{var vt=root_7$b(),mt=first_child(vt);let _t;var Et=sibling(mt,2);{var Tt=xt=>{var yt=comment(),St=first_child(yt);snippet(St,()=>T.children,()=>({value:T.value,checked:ne(),disabled:T.disabled})),append(xt,yt)};if_block(Et,xt=>{T.children&&xt(Tt)})}template_effect(xt=>_t=set_attributes(mt,_t,{type:"checkbox",value:T.value,disabled:T.disabled,...Ve,class:xt}),[()=>get$2(it)({class:clsx$1(et==null?void 0:et.base,T.class)})]),bind_checked(mt,ne),append(ut,vt)},$$slots:{default:!0}}))};if_block(rt,ht=>{te().length>0?ht(lt):ht(ot,!1)})}append(Y,nt),pop()}ce$1({base:"flex flex-col justify-center items-center w-full h-64 bg-gray-50 rounded-lg border-2 border-gray-300 border-dashed cursor-pointer dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"});ce$1({slots:{base:"block w-full disabled:cursor-not-allowed disabled:opacity-50 rtl:text-right p-2.5 focus:border-primary-500 focus:ring-primary-500 dark:focus:border-primary-500 dark:focus:ring-primary-500 bg-gray-50 text-gray-900 dark:bg-gray-700 dark:placeholder-gray-400 border-gray-300 dark:border-gray-600 text-sm rounded-lg border p-0! dark:text-gray-400",wrapper:"relative w-full",close:"flex absolute inset-y-0 items-center text-gray-500 dark:text-gray-400 end-0 p-2.5",svg:""},variants:{size:{sm:{base:"text-xs ps-9 pe-9 p-2"},md:{base:"text-sm ps-10 pe-10 p-2.5"},lg:{base:"sm:text-base ps-11 pe-11 p-3"}}}});ce$1({slots:{base:"relative",input:"block w-full text-sm text-gray-900 bg-transparent appearance-none dark:text-white focus:outline-hidden focus:ring-0 peer disabled:cursor-not-allowed disabled:opacity-50",label:"absolute text-sm duration-300 transform scale-75 z-10 origin-left rtl:origin-right peer-placeholder-shown:scale-100 peer-focus:scale-75",close:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-black",combo:"absolute top-full right-0 left-0 z-10 mt-1 max-h-60 overflow-y-auto rounded-md border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",svg:""},variants:{variant:{filled:{base:"relative",input:"rounded-t-lg border-0 border-b-2 bg-gray-50 dark:bg-gray-700",label:"-translate-y-4 start-2.5 peer-placeholder-shown:translate-y-0 peer-focus:-translate-y-4"},outlined:{base:"relative",input:"rounded-lg border",label:"-translate-y-4 bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:-translate-y-4 start-1"},standard:{base:"relative z-0",input:"border-0 border-b-2",label:"-translate-y-6 -z-10 peer-focus:start-0 peer-placeholder-shown:translate-y-0 peer-focus:-translate-y-6"}},size:{small:{},default:{}},color:{default:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-primary-500 focus:border-primary-600",label:"text-gray-500 dark:text-gray-400 peer-focus:text-primary-600 dark:peer-focus:text-primary-500"},primary:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-primary-500 focus:border-primary-600",label:"text-primary-500 dark:text-primary-400 peer-focus:text-primary-600 dark:peer-focus:text-primary-500"},secondary:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-secondary-500 focus:border-secondary-600",label:"text-secondary-500 dark:text-secondary-400 peer-focus:text-secondary-600 dark:peer-focus:text-secondary-500"},gray:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-gray-500 focus:border-gray-600",label:"text-gray-500 dark:text-gray-400 peer-focus:text-gray-600 dark:peer-focus:text-gray-500"},red:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-red-500 focus:border-red-600",label:"text-red-500 dark:text-red-400 peer-focus:text-red-600 dark:peer-focus:text-red-500"},orange:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-orange-500 focus:border-orange-600",label:"text-orange-500 dark:text-orange-400 peer-focus:text-orange-600 dark:peer-focus:text-orange-500"},amber:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-amber-500 focus:border-amber-600",label:"text-amber-500 dark:text-amber-400 peer-focus:text-amber-600 dark:peer-focus:text-amber-500"},yellow:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-yellow-500 focus:border-yellow-600",label:"text-yellow-500 dark:text-yellow-400 peer-focus:text-yellow-600 dark:peer-focus:text-yellow-500"},lime:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-lime-500 focus:border-lime-600",label:"text-lime-500 dark:text-lime-400 peer-focus:text-lime-600 dark:peer-focus:text-lime-500"},green:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-green-500 focus:border-green-600",label:"text-green-500 dark:text-green-400 peer-focus:text-green-600 dark:peer-focus:text-green-500"},emerald:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-emerald-500 focus:border-emerald-600",label:"text-emerald-500 dark:text-emerald-400 peer-focus:text-emerald-600 dark:peer-focus:text-emerald-500"},teal:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-teal-500 focus:border-teal-600",label:"text-teal-500 dark:text-teal-400 peer-focus:text-teal-600 dark:peer-focus:text-teal-500"},cyan:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-cyan-500 focus:border-cyan-600",label:"text-cyan-500 dark:text-cyan-400 peer-focus:text-cyan-600 dark:peer-focus:text-cyan-500"},sky:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-sky-500 focus:border-sky-600",label:"text-sky-500 dark:text-sky-400 peer-focus:text-sky-600 dark:peer-focus:text-sky-500"},blue:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-blue-500 focus:border-blue-600",label:"text-blue-500 dark:text-blue-400 peer-focus:text-blue-600 dark:peer-focus:text-blue-500"},indigo:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-indigo-500 focus:border-indigo-600",label:"text-indigo-500 dark:text-indigo-400 peer-focus:text-indigo-600 dark:peer-focus:text-indigo-500"},violet:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-violet-500 focus:border-violet-600",label:"text-violet-600 dark:text-violet-500 peer-focus:text-violet-600 dark:peer-focus:text-violet-500"},purple:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-purple-500 focus:border-purple-600",label:"text-purple-600 dark:text-purple-500 peer-focus:text-purple-600 dark:peer-focus:text-purple-500"},fuchsia:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-fuchsia-500 focus:border-fuchsia-600",label:"text-fuchsia-600 dark:text-fuchsia-500 peer-focus:text-fuchsia-600 dark:peer-focus:text-fuchsia-500"},pink:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-pink-500 focus:border-pink-600",label:"text-pink-600 dark:text-pink-500 peer-focus:text-pink-600 dark:peer-focus:text-pink-500"},rose:{input:"border-gray-300 dark:border-gray-600 dark:focus:border-rose-500 focus:border-rose-600",label:"text-rose-600 dark:text-rose-500 peer-focus:text-rose-600 dark:peer-focus:text-rose-500"}}},compoundVariants:[{variant:"filled",size:"small",class:{input:"px-2.5 pb-1.5 pt-4",label:"top-3"}},{variant:"filled",size:"default",class:{input:"px-2.5 pb-2.5 pt-5",label:"top-4"}},{variant:"outlined",size:"small",class:{input:"px-2.5 pb-1.5 pt-3",label:"top-1"}},{variant:"outlined",size:"default",class:{input:"px-2.5 pb-2.5 pt-4",label:"top-2"}},{variant:"standard",size:"small",class:{input:"py-2 px-0",label:"top-3"}},{variant:"standard",size:"default",class:{input:"py-2.5 px-0",label:"top-3"}},{variant:"filled",color:"primary",class:{input:"dark:focus:border-primary-500 focus:border-primary-600"}}],defaultVariants:{variant:"standard",size:"default",color:"primary"}});delegate(["click"]);const helper=ce$1({base:"text-xs font-normal text-gray-500 dark:text-gray-300",variants:{color:{disabled:"text-gray-400 dark:text-gray-500",primary:"text-primary-500 dark:text-primary-400",secondary:"text-secondary-500 dark:text-secondary-400",green:"text-green-500 dark:text-green-400",emerald:"text-emerald-500 dark:text-emerald-400",red:"text-red-500 dark:text-red-400",blue:"text-blue-500 dark:text-blue-400",yellow:"text-yellow-500 dark:text-yellow-400",orange:"text-orange-500 dark:text-orange-400",gray:"text-gray-500 dark:text-gray-400",teal:"text-teal-500 dark:text-teal-400",cyan:"text-cyan-500 dark:text-cyan-400",sky:"text-sky-500 dark:text-sky-400",indigo:"text-indigo-500 dark:text-indigo-400",lime:"text-lime-500 dark:text-lime-400",amber:"text-amber-500 dark:text-amber-400",violet:"text-violet-500 dark:text-violet-400",purple:"text-purple-500 dark:text-purple-400",fuchsia:"text-fuchsia-500 dark:text-fuchsia-400",pink:"text-pink-500 dark:text-pink-400",rose:"text-rose-500 dark:text-rose-400"}}});var root$2A=template("<p><!></p>");function Helper(Y,T){push(T,!0);let k=prop(T,"color",3,"gray"),Z=rest_props(T,["$$slots","$$events","$$legacy","children","class","color"]);const ee=getTheme("helper"),te=derived$1(()=>helper({color:k(),class:clsx$1(ee,T.class)}));var ne=root$2A();let me;var Ve=child(ne);snippet(Ve,()=>T.children??noop$3),template_effect(()=>me=set_attributes(ne,me,{...Z,class:get$2(te)})),append(Y,ne),pop()}const input=ce$1({slots:{base:"relative w-full",input:"block w-full disabled:cursor-not-allowed disabled:opacity-50 rtl:text-right focus:outline-hidden",left:"flex absolute inset-y-0 items-center text-gray-500 dark:text-gray-400 pointer-events-none start-0 p-2.5",right:"flex absolute inset-y-0 items-center text-gray-500 dark:text-gray-400 end-0 p-2.5",close:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-black",combo:"absolute top-full right-0 left-0 z-20 mt-1 max-h-60 overflow-y-auto rounded-md border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",comboItem:"text-gray-900 dark:text-gray-50",div:"",svg:""},variants:{size:{sm:{input:"text-xs px-2 py-2"},md:{input:"text-sm px-2.5 py-2.5"},lg:{input:"sm:text-base px-3 py-3"}},color:{default:{input:"border border-gray-300 dark:border-gray-600 focus:border-primary-500 focus:ring-primary-500 dark:focus:border-primary-500 dark:focus:ring-primary-500 bg-gray-50 text-gray-900 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 bg-gray-50 text-gray-900 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400"},tinted:{input:"border border-gray-300 dark:border-gray-500 bg-gray-50 text-gray-900 dark:bg-gray-600 dark:text-white dark:placeholder-gray-400"},primary:{input:"border border-primary-200 dark:border-primary-400 focus:ring-primary-500 focus:border-primary-600 dark:focus:ring-primary-500 dark:focus:border-primary-500 bg-primary-50 text-primary-900 placeholder-primary-700 dark:text-primary-400 dark:placeholder-primary-500 dark:bg-gray-700"},secondary:{input:"border border-secondary-200 dark:border-secondary-400 focus:ring-secondary-500 focus:border-secondary-600 dark:focus:ring-secondary-500 dark:focus:border-secondary-500 bg-secondary-50 text-secondary-900 placeholder-secondary-700 dark:text-secondary-400 dark:placeholder-secondary-500 dark:bg-gray-700"},green:{input:"border border-green-200 dark:border-green-400 focus:ring-green-500 focus:border-green-600 dark:focus:ring-green-500 dark:focus:border-green-500 bg-green-50 text-green-900 placeholder-green-700 dark:text-green-400 dark:placeholder-green-500 dark:bg-gray-700"},emerald:{input:"border border-emerald-200 dark:border-emerald-400 focus:ring-emerald-500 focus:border-emerald-600 dark:focus:ring-emerald-500 dark:focus:border-emerald-500 bg-emerald-50 text-emerald-900 placeholder-emerald-700 dark:text-emerald-400 dark:placeholder-emerald-500 dark:bg-gray-700"},red:{input:"border border-red-200 dark:border-red-400 focus:ring-red-500 focus:border-red-600 dark:focus:ring-red-500 dark:focus:border-red-500 bg-red-50 text-red-900 placeholder-red-700 dark:text-red-400 dark:placeholder-red-500 dark:bg-gray-700"},blue:{input:"border border-blue-200 dark:border-blue-400 focus:ring-blue-500 focus:border-blue-600 dark:focus:ring-blue-500 dark:focus:border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 dark:text-blue-400 dark:placeholder-blue-500 dark:bg-gray-700"},yellow:{input:"border border-yellow-200 dark:border-yellow-400 focus:ring-yellow-500 focus:border-yellow-600 dark:focus:ring-yellow-500 dark:focus:border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 dark:text-yellow-400 dark:placeholder-yellow-500 dark:bg-gray-700"},orange:{input:"border border-orange-200 dark:border-orange-400 focus:ring-orange-500 focus:border-orange-600 dark:focus:ring-orange-500 dark:focus:border-orange-500 bg-orange-50 text-orange-900 placeholder-orange-700 dark:text-orange-400 dark:placeholder-orange-500 dark:bg-gray-700"},gray:{input:"border border-gray-200 dark:border-gray-400 focus:ring-gray-500 focus:border-gray-600 dark:focus:ring-gray-500 dark:focus:border-gray-500 bg-gray-50 text-gray-900 placeholder-gray-700 dark:text-gray-400 dark:placeholder-gray-500 dark:bg-gray-700"},teal:{input:"border border-teal-200 dark:border-teal-400 focus:ring-teal-500 focus:border-teal-600 dark:focus:ring-teal-500 dark:focus:border-teal-500 bg-teal-50 text-teal-900 placeholder-teal-700 dark:text-teal-400 dark:placeholder-teal-500 dark:bg-gray-700"},cyan:{input:"border border-cyan-200 dark:border-cyan-400 focus:ring-cyan-500 focus:border-cyan-600 dark:focus:ring-cyan-500 dark:focus:border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 dark:text-cyan-400 dark:placeholder-cyan-500 dark:bg-gray-700"},sky:{input:"border border-sky-200 dark:border-sky-400 focus:ring-sky-500 focus:border-sky-600 dark:focus:ring-sky-500 dark:focus:border-sky-500 bg-sky-50 text-sky-900 placeholder-sky-700 dark:text-sky-400 dark:placeholder-sky-500 dark:bg-gray-700"},indigo:{input:"border border-indigo-200 dark:border-indigo-400 focus:ring-indigo-500 focus:border-indigo-600 dark:focus:ring-indigo-500 dark:focus:border-indigo-500 bg-indigo-50 text-indigo-900 placeholder-indigo-700 dark:text-indigo-400 dark:placeholder-indigo-500 dark:bg-gray-700"},lime:{input:"border border-lime-200 dark:border-lime-400 focus:ring-lime-500 focus:border-lime-600 dark:focus:ring-lime-500 dark:focus:border-lime-500 bg-lime-50 text-lime-900 placeholder-lime-700 dark:text-lime-400 dark:placeholder-lime-500 dark:bg-gray-700"},amber:{input:"border border-amber-200 dark:border-amber-400 focus:ring-amber-500 focus:border-amber-600 dark:focus:ring-amber-500 dark:focus:border-amber-500 bg-amber-50 text-amber-900 placeholder-amber-700 dark:text-amber-400 dark:placeholder-amber-500 dark:bg-gray-700"},violet:{input:"border border-violet-200 dark:border-violet-400 focus:ring-violet-500 focus:border-violet-600 dark:focus:ring-violet-500 dark:focus:border-violet-500 bg-violet-50 text-violet-900 placeholder-violet-700 dark:text-violet-400 dark:placeholder-violet-500 dark:bg-gray-700"},purple:{input:"border border-purple-200 dark:border-purple-400 focus:ring-purple-500 focus:border-purple-600 dark:focus:ring-purple-500 dark:focus:border-purple-500 bg-purple-50 text-purple-900 placeholder-purple-700 dark:text-purple-400 dark:placeholder-purple-500 dark:bg-gray-700"},fuchsia:{input:"border border-fuchsia-200 dark:border-fuchsia-400 focus:ring-fuchsia-500 focus:border-fuchsia-600 dark:focus:ring-fuchsia-500 dark:focus:border-fuchsia-500 bg-fuchsia-50 text-fuchsia-900 placeholder-fuchsia-700 dark:text-fuchsia-400 dark:placeholder-fuchsia-500 dark:bg-gray-700"},pink:{input:"border border-pink-200 dark:border-pink-400 focus:ring-pink-500 focus:border-pink-600 dark:focus:ring-pink-500 dark:focus:border-pink-500 bg-pink-50 text-pink-900 placeholder-pink-700 dark:text-pink-400 dark:placeholder-pink-500 dark:bg-gray-700"},rose:{input:"border border-rose-200 dark:border-rose-400 focus:ring-rose-500 focus:border-rose-600 dark:focus:ring-rose-500 dark:focus:border-rose-500 bg-rose-50 text-rose-900 placeholder-rose-700 dark:text-rose-400 dark:placeholder-rose-500 dark:bg-gray-700"}},grouped:{false:{input:"rounded-lg"},true:{input:"first:rounded-s-lg last:rounded-e-lg not-first:-ms-px"}}},defaultVariants:{size:"md",color:"default"}});var root_3$E=template("<input> <!>",1),root_5$j=template('<div tabindex="-1" class="sr-only"></div>'),root_7$a=template("<div><!></div>"),root_8$c=template("<div><!></div>"),on_click$A=(Y,T,k)=>T(k),root_10$6=template('<button type="button"><p> </p></button>'),root_9$5=template("<div></div>"),root_6$e=template("<div><!> <!> <!> <!></div>"),root$2z=template("<!> <!>",1);function Input$1(Y,T){push(T,!0);const k=Qt=>{var Si=comment(),Ti=first_child(Si);{var Ri=Bt=>{var ai=comment(),ci=first_child(ai),yi=derived_safe_equal(()=>({...et,class:get$2(Et)()}));snippet(ci,()=>T.children,()=>get$2(yi)),append(Bt,ai)},ki=Bt=>{var ai=root_3$E(),ci=first_child(ai);let yi;bind_this(ci,ii=>ee(ii),()=>ee());var Ci=sibling(ci,2);{var Vi=ii=>{const ui=derived$1(()=>get$2(yt)({class:clsx$1(it==null?void 0:it.close,get$2(tt).close)})),hi=derived$1(()=>clsx$1(get$2(tt).svg));CloseButton(ii,{get class(){return get$2(ui)},get color(){return me()},"aria-label":"Clear search value",get svgClass(){return get$2(hi)}})};if_block(Ci,ii=>{Z()!==void 0&&Z()!==""&&te()&&ii(Vi)})}template_effect(ii=>yi=set_attributes(ci,yi,{...et,oninput:Kt,onfocus:Pt,onblur:kt,onkeydown:zt,class:ii}),[()=>get$2(Et)({class:clsx$1(it==null?void 0:it.input,T.class)})]),bind_value(ci,Z),append(Bt,ai)};if_block(Ti,Bt=>{T.children?Bt(Ri):Bt(ki,!1)})}append(Qt,Si)};let Z=prop(T,"value",15),ee=prop(T,"elementRef",15),te=prop(T,"clearable",3,!1),ne=prop(T,"color",3,"default"),me=prop(T,"clearableColor",3,"none"),Ve=prop(T,"data",19,()=>[]),Ye=prop(T,"maxSuggestions",3,5),et=rest_props(T,["$$slots","$$events","$$legacy","children","left","right","value","elementRef","clearable","size","color","class","classes","wrapperClass","leftClass","rightClass","divClass","clearableSvgClass","clearableColor","clearableClass","clearableOnClick","data","maxSuggestions","onSelect","comboClass","comboItemClass","onInput","onFocus","onBlur","onKeydown","oninput","onfocus","onblur","onkeydown"]);T.wrapperClass,T.leftClass,T.rightClass,T.divClass,T.clearableSvgClass,T.clearableClass,T.comboClass;const tt=derived$1(()=>T.classes??{left:T.leftClass,right:T.rightClass,div:T.divClass,svg:T.clearableSvgClass,close:T.clearableClass,combo:T.comboClass,comboItem:T.comboItemClass}),it=getTheme("input"),st=derived$1(()=>T.oninput||T.onInput),nt=derived$1(()=>T.onfocus||T.onFocus),rt=derived$1(()=>T.onblur||T.onBlur),lt=derived$1(()=>T.onkeydown||T.onKeydown),ot=derived$1(()=>Array.isArray(Ve())&&Ve().length>0);let ht=getContext("background"),dt,ct=getContext("group"),ut=!!ct,ft=derived$1(()=>T.size||clampSize(ct==null?void 0:ct.size)||"md");const vt=derived$1(()=>ne()==="default"&&ht?"tinted":ne()),mt=derived$1(()=>input({size:get$2(ft),color:get$2(vt),grouped:ut})),_t=derived$1(()=>get$2(mt).base),Et=derived$1(()=>get$2(mt).input),Tt=derived$1(()=>get$2(mt).left),xt=derived$1(()=>get$2(mt).right),yt=derived$1(()=>get$2(mt).close),St=derived$1(()=>get$2(mt).combo),At=derived$1(()=>get$2(mt).comboItem);createDismissableContext(()=>{if(ee()){const Qt=ee();Qt.value="",Z(""),set(Mt,!1),$t(),dt==null||dt.focus(),setTimeout(()=>{Qt.focus()},100)}T.clearableOnClick&&T.clearableOnClick()});let It=state(!1),Ot=state(proxy([])),Dt=state(-1),Mt=state(!1);function $t(){if(!get$2(ot)||!get$2(It)){set(Ot,proxy([]));return}const Qt=(Z()||"").toLowerCase(),Si=Qt.lastIndexOf(" "),Ti=Si===-1?Qt:Qt.substring(Si+1);Ti===""&&!get$2(Mt)?set(Ot,proxy([])):Ti?set(Ot,proxy(Ve().filter(Ri=>Ri.toLowerCase().includes(Ti)).slice(0,Ye()))):get$2(Mt)&&set(Ot,proxy([...Ve()].slice(0,Ye()))),set(Dt,-1)}user_effect(()=>{get$2(ot)&&$t()});function Ht(Qt){String(Z()||"").length>0&&set(Mt,!1),$t()}function Ft(Qt){set(It,!0),$t()}function jt(Qt){setTimeout(()=>{set(It,!1),set(Mt,!1),set(Ot,proxy([]))},200)}function Gt(Qt){if(get$2(ot)&&((Qt.key==="Backspace"||Qt.key==="Delete")&&Z().length<=1&&set(Mt,!0),!!get$2(Ot).length))switch(Qt.key){case"ArrowDown":Qt.preventDefault(),set(Dt,(get$2(Dt)+1)%get$2(Ot).length);break;case"ArrowUp":Qt.preventDefault(),set(Dt,proxy(get$2(Dt)<=0?get$2(Ot).length-1:get$2(Dt)-1));break;case"Enter":get$2(Dt)>=0&&(Qt.preventDefault(),Wt(get$2(Ot)[get$2(Dt)]));break;case"Escape":Qt.preventDefault(),set(Ot,proxy([]));break}}function Kt(Qt){get$2(st)&&get$2(st)(Qt),Ht()}function Pt(Qt){get$2(nt)&&get$2(nt)(Qt),Ft()}function kt(Qt){get$2(rt)&&get$2(rt)(Qt),jt()}function zt(Qt){get$2(lt)&&get$2(lt)(Qt),Gt(Qt)}function Wt(Qt){const Si=Z()||"",Ti=Si.lastIndexOf(" ");Z(Ti===-1?Qt+" ":Si.substring(0,Ti+1)+Qt+" "),T.onSelect&&T.onSelect(Qt),set(Ot,proxy([])),set(Dt,-1),ee()&&ee().focus()}var si=root$2z(),ei=first_child(si);{var Zt=Qt=>{var Si=root_5$j();bind_this(Si,Ti=>dt=Ti,()=>dt),append(Qt,Si)};if_block(ei,Qt=>{te()&&Qt(Zt)})}var Jt=sibling(ei,2);{var ti=Qt=>{var Si=root_6$e(),Ti=child(Si);{var Ri=Ci=>{var Vi=root_7$a(),ii=child(Vi);snippet(ii,()=>T.left),template_effect(ui=>set_class(Vi,1,ui),[()=>clsx(get$2(Tt)({class:clsx$1(it==null?void 0:it.left,get$2(tt).left)}))]),append(Ci,Vi)};if_block(Ti,Ci=>{T.left&&Ci(Ri)})}var ki=sibling(Ti,2);k(ki);var Bt=sibling(ki,2);{var ai=Ci=>{var Vi=root_8$c(),ii=child(Vi);snippet(ii,()=>T.right),template_effect(ui=>set_class(Vi,1,ui),[()=>clsx(get$2(xt)({class:clsx$1(it==null?void 0:it.right,get$2(tt).right)}))]),append(Ci,Vi)};if_block(Bt,Ci=>{T.right&&Ci(ai)})}var ci=sibling(Bt,2);{var yi=Ci=>{var Vi=root_9$5();each(Vi,22,()=>get$2(Ot),ii=>ii,(ii,ui,hi)=>{var ri=root_10$6();ri.__click=[on_click$A,Wt,ui];var bi=child(ri),gi=child(bi);template_effect(fi=>{set_class(ri,1,`w-full px-3 py-2 text-left ${(get$2(hi)===get$2(Dt)?"bg-gray-100 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700")??""} focus:outline-none`),set_class(bi,1,fi),set_text(gi,ui)},[()=>clsx(get$2(At)({class:clsx$1(it==null?void 0:it.comboItem,get$2(tt).comboItem)}))]),event("mouseenter",ri,()=>set(Dt,proxy(get$2(hi)))),append(ii,ri)}),template_effect(ii=>set_class(Vi,1,ii),[()=>clsx(get$2(St)({class:clsx$1(it==null?void 0:it.combo,get$2(tt).combo)}))]),append(Ci,Vi)};if_block(ci,Ci=>{get$2(ot)&&get$2(It)&&get$2(Ot).length>0&&Ci(yi)})}template_effect(Ci=>set_class(Si,1,Ci),[()=>clsx(get$2(_t)({class:clsx$1(it==null?void 0:it.base,get$2(tt).div)}))]),append(Qt,Si)},di=Qt=>{k(Qt)};if_block(Jt,Qt=>{get$2(ot)||T.right||T.left||te()?Qt(ti):Qt(di,!1)})}append(Y,si),pop()}delegate(["click"]);function clampSize(Y){return Y&&Y==="xs"?"sm":Y==="xl"?"lg":Y}const label=ce$1({base:"text-sm rtl:text-right font-medium block",variants:{color:{disabled:"text-gray-500 dark:text-gray-500",primary:"text-primary-700 dark:text-primary-500",secondary:"text-secondary-700 dark:text-secondary-500",green:"text-green-700 dark:text-green-500",emerald:"text-emerald-700 dark:text-emerald-500",red:"text-red-700 dark:text-red-500",blue:"text-blue-700 dark:text-blue-500",yellow:"text-yellow-700 dark:text-yellow-500",orange:"text-orange-700 dark:text-orange-500",gray:"text-gray-700 dark:text-gray-200",teal:"text-teal-700 dark:text-teal-500",cyan:"text-cyan-700 dark:text-cyan-500",sky:"text-sky-700 dark:text-sky-500",indigo:"text-indigo-700 dark:text-indigo-500",lime:"text-lime-700 dark:text-lime-500",amber:"text-amber-700 dark:text-amber-500",violet:"text-violet-700 dark:text-violet-500",purple:"text-purple-700 dark:text-purple-500",fuchsia:"text-fuchsia-700 dark:text-fuchsia-500",pink:"text-pink-700 dark:text-pink-500",rose:"text-rose-700 dark:text-rose-500"}}});var root_1$1Q=template("<label><!></label>");function Label$1(Y,T){push(T,!0);let k=prop(T,"color",3,"gray"),Z=prop(T,"show",3,!0),ee=rest_props(T,["$$slots","$$events","$$legacy","children","color","show","class"]);const te=getTheme("label");let ne=derived$1(()=>label({color:k(),class:clsx$1(te,T.class)}));var me=comment(),Ve=first_child(me);{var Ye=tt=>{var it=root_1$1Q();let st;var nt=child(it);snippet(nt,()=>T.children),template_effect(()=>st=set_attributes(it,st,{...ee,class:get$2(ne)})),append(tt,it)},et=tt=>{var it=comment(),st=first_child(it);snippet(st,()=>T.children),append(tt,it)};if_block(Ve,tt=>{Z()?tt(Ye):tt(et,!1)})}append(Y,me),pop()}ce$1({slots:{div:"absolute inset-y-0 start-0 top-0 flex items-center ps-3.5 pointer-events-none",svg:"w-4 h-4 text-gray-500 dark:text-gray-400",input:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500 disabled:cursor-not-allowed disabled:opacity-50",span:"absolute start-0 bottom-3 text-gray-500 dark:text-gray-400",floatingInput:"block py-2.5 ps-6 pe-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-primary-500 focus:outline-none focus:ring-0 focus:border-primary-600 peer disabled:cursor-not-allowed disabled:opacity-50",label:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 origin-[0] peer-placeholder-shown:start-6 peer-focus:start-0 peer-focus:text-primary-600 peer-focus:dark:text-primary-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto"},variants:{phoneType:{default:{},floating:{svg:"w-4 h-4 rtl:rotate-[270deg]"},countryCode:{input:"rounded-none rounded-e-lg"},copy:{},advanced:{}},phoneIcon:{true:{input:"ps-10"},false:{}}}});const select=ce$1({slots:{base:"relative",select:"block w-full rtl:text-right",close:"absolute right-8 top-1/2 -translate-y-1/2 text-gray-400 hover:text-black",svg:""},variants:{underline:{true:{select:"text-gray-500 bg-transparent border-0 border-b-2 border-gray-200 appearance-none dark:text-gray-400 dark:border-gray-700 focus:outline-hidden focus:ring-0 focus:border-gray-200 peer px-0!"},false:{select:"text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-hidden focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"}},size:{sm:{select:"text-xs px-2 py-2"},md:{select:"text-sm px-2.5 py-2.5"},lg:{select:"text-base py-3 px-4"}},disabled:{true:{select:"cursor-not-allowed opacity-50"},false:{}}},defaultVariants:{underline:!1,size:"md"}}),multiSelect=ce$1({slots:{base:"relative border border-gray-300 flex items-center rounded-lg gap-2 dark:border-gray-600 ring-primary-500 dark:ring-primary-500 focus-visible:outline-hidden",select:"flex flex-wrap gap-2",dropdown:"absolute z-50 p-3 flex flex-col gap-1 max-h-64 bg-white border border-gray-300 dark:bg-gray-700 dark:border-gray-600 start-0 top-[calc(100%+1rem)] rounded-lg cursor-pointer overflow-y-scroll w-full",item:"py-2 px-3 rounded-lg text-gray-600 hover:text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:text-gray-300 dark:hover:bg-gray-600",close:"p-0 focus:ring-gray-400 dark:text-white",span:"",placeholder:"text-gray-400",svg:"ms-1 h-3 w-3 cursor-pointer text-gray-800 dark:text-white"},variants:{size:{sm:"px-2.5 py-2.5 min-h-[2.4rem] text-xs",md:"px-2.5 py-2.5 min-h-[2.7rem] text-sm",lg:"px-3 py-3 min-h-[3.2rem] sm:text-base"},disabled:{true:{base:"cursor-not-allowed opacity-50 pointer-events-none",item:"cursor-not-allowed opacity-50",close:"cursor-not-allowed"},false:{base:"focus-within:border-primary-500 dark:focus-within:border-primary-500 focus-within:ring-1"}},active:{true:{item:"bg-primary-100 text-primary-500 dark:bg-primary-500 dark:text-primary-100 hover:bg-primary-100 dark:hover:bg-primary-500 hover:text-primary-600 dark:hover:text-primary-100"}},selected:{true:{item:"bg-gray-100 text-black font-semibold hover:text-black dark:text-white dark:bg-gray-600 dark:hover:text-white"}}},compoundVariants:[{selected:!0,active:!0,class:{item:"bg-primary-200 dark:bg-primary-600 text-primary-700 dark:text-primary-100 font-semibold"}}],defaultVariants:{underline:!1,size:"md"}});var root_1$1P=template("<option disabled> </option>"),root_3$D=template("<option> </option>"),root$2y=template("<div><select><!><!><!></select> <!></div>");function Select(Y,T){push(T,!0);let k=prop(T,"value",15),Z=prop(T,"elementRef",15),ee=prop(T,"size",3,"md"),te=prop(T,"placeholder",3,""),ne=prop(T,"clearableColor",3,"none"),me=rest_props(T,["$$slots","$$events","$$legacy","children","items","value","elementRef","underline","size","disabled","placeholder","clearable","clearableColor","clearableOnClick","onClear","clearableSvgClass","clearableClass","selectClass","class","classes"]);T.selectClass,T.clearableSvgClass,T.clearableClass;const Ve=derived$1(()=>T.classes??{select:T.selectClass,svg:T.clearableSvgClass,close:T.clearableClass}),Ye=getTheme("select"),et=derived$1(()=>select({underline:T.underline,size:ee(),disabled:T.disabled})),tt=derived$1(()=>get$2(et).base),it=derived$1(()=>get$2(et).select),st=derived$1(()=>get$2(et).close);createDismissableContext(()=>{Z()&&(Z(Z().value="",!0),Z().dispatchEvent(new Event("change",{bubbles:!0}))),k(""),T.onClear&&T.onClear(),T.clearableOnClick&&T.clearableOnClick()});var rt=root$2y(),lt=child(rt);let ot;var ht=child(lt);{var dt=Et=>{var Tt=root_1$1P();Tt.value=((Tt.__value="")==null,"");var xt=child(Tt);template_effect(()=>{set_selected(Tt,k()===""||k()===void 0),set_text(xt,te())}),append(Et,Tt)};if_block(ht,Et=>{te()&&Et(dt)})}var ct=sibling(ht);{var ut=Et=>{var Tt=comment(),xt=first_child(Tt);each(xt,17,()=>T.items,index,(yt,St)=>{var At=root_3$D(),Ct={},It=child(At);template_effect(()=>{Ct!==(Ct=get$2(St).value)&&(At.value=(At.__value=get$2(St).value)==null?"":get$2(St).value),At.disabled=get$2(St).disabled,set_text(It,get$2(St).name)}),append(yt,At)}),append(Et,Tt)};if_block(ct,Et=>{T.items&&Et(ut)})}var ft=sibling(ct);{var vt=Et=>{var Tt=comment(),xt=first_child(Tt);snippet(xt,()=>T.children),append(Et,Tt)};if_block(ft,Et=>{T.children&&Et(vt)})}bind_this(lt,Et=>Z(Et),()=>Z());var mt=sibling(lt,2);{var _t=Et=>{const Tt=derived$1(()=>get$2(st)({class:clsx$1(Ye==null?void 0:Ye.close,get$2(Ve).close)})),xt=derived$1(()=>clsx$1(get$2(Ve).svg));CloseButton(Et,{get class(){return get$2(Tt)},get color(){return ne()},"aria-label":"Clear search value",get svgClass(){return get$2(xt)},get disabled(){return T.disabled}})};if_block(mt,Et=>{k()!==void 0&&k()!==""&&T.clearable&&Et(_t)})}template_effect((Et,Tt)=>{set_class(rt,1,Et),ot=set_attributes(lt,ot,{disabled:T.disabled,...me,class:Tt})},[()=>clsx(get$2(tt)({class:clsx$1(Ye==null?void 0:Ye.base,T.class)})),()=>get$2(it)({class:clsx$1(Ye==null?void 0:Ye.select,get$2(Ve).select)})]),bind_select_value(lt,k),append(Y,rt),pop()}var root_1$1O=template("<option> </option>"),root_2$M=template("<span> </span>"),on_click$z=(Y,T,k)=>T(get$2(k),Y),root_10$5=template('<div role="presentation"> </div>'),root_9$4=template('<div role="presentation"></div>'),root$2x=template('<select hidden multiple></select> <div><!> <span><!></span> <div class="ms-auto flex items-center gap-2"><!> <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></div> <!></div>',1);function MultiSelect(Y,T){push(T,!0);let k=prop(T,"items",19,()=>[]),Z=prop(T,"value",15),ee=prop(T,"size",3,"md"),te=prop(T,"dropdownClass",3,""),ne=prop(T,"placeholder",3,""),me=prop(T,"disabled",3,!1),Ve=rest_props(T,["$$slots","$$events","$$legacy","children","items","value","size","dropdownClass","placeholder","disabled","onchange","onblur","class","classes","name","form","required","autocomplete"]);te();const Ye=derived$1(()=>T.classes??{dropdown:te()}),et=getTheme("multiSelect");let tt=derived$1(()=>k().filter(Jt=>Z().includes(Jt.value))),it=state(!1),st=state(null),nt=derived$1(()=>get$2(st)!==null?k()[(get$2(st)%k().length+k().length)%k().length]:null),rt;const lt=(Jt,ti)=>{if(ti.stopPropagation(),me()||Jt.disabled)return;const di=[...Z()];Z().includes(Jt.value)?ht(Jt):Z().includes(Jt.value)||Z([...Z(),Jt.value]),JSON.stringify(di)!==JSON.stringify(Z())&&dt()};createDismissableContext(Jt=>{if(me())return;Jt.stopPropagation();const ti=[...Z()];Z([]),ti.length>0&&dt()});const ht=Jt=>{if(!me()&&Z().includes(Jt.value)){const ti=[...Z()];Z(Z().filter(di=>di!==Jt.value)),ti.length!==Z().length&&dt()}},dt=()=>{if(T.onchange){const Jt=new Event("change",{bubbles:!0});Object.defineProperty(Jt,"target",{value:{value:Z()},enumerable:!0}),Object.defineProperty(Jt,"currentTarget",{value:{value:Z()},enumerable:!0}),T.onchange(Jt)}},ct=()=>!me()&&set(it,!1),ut=Jt=>{me()||(rt&&rt.contains(Jt.target)?set(it,!get$2(it)):set(it,!1))},ft=Jt=>{Jt.currentTarget&&Jt.currentTarget.contains&&!Jt.currentTarget.contains(Jt.relatedTarget)&&ct(),T.onblur&&T.onblur(Jt)};function vt(){me()||(get$2(it)?get$2(nt)!==null&&lt(get$2(nt),new MouseEvent("click")):(set(it,!0),set(st,0)))}function mt(Jt){me()||(get$2(it)?get$2(st)!==null?set(st,get$2(st)+Jt):set(st,0):(set(it,!0),set(st,0)))}function _t(Jt){var di;if(me())return;Jt.key!=="Tab"&&Jt.preventDefault(),Jt.stopPropagation();const ti={Escape:ct,Enter:vt," ":vt,ArrowDown:()=>mt(1),ArrowUp:()=>mt(-1)};Jt.key in ti&&((di=ti[Jt.key])==null||di.call(ti))}onMount(()=>{const Jt=ti=>{rt&&!rt.contains(ti.target)&&ct()};return document.addEventListener("click",Jt),()=>{document.removeEventListener("click",Jt)}});const{base:Et,dropdown:Tt,item:xt,close:yt,select:St,placeholder:At,svg:Ct}=multiSelect({disabled:me()});var It=root$2x(),Ot=first_child(It);init_select(Ot,Z);var Dt;Ot.__change=function(...Jt){var ti;(ti=T.onchange)==null||ti.apply(this,Jt)},each(Ot,21,k,index,(Jt,ti)=>{var di=root_1$1O(),Qt={},Si=child(di);template_effect(()=>{Qt!==(Qt=get$2(ti).value)&&(di.value=(di.__value=get$2(ti).value)==null?"":get$2(ti).value),di.disabled=get$2(ti).disabled,set_text(Si,get$2(ti).name)}),append(Jt,di)});var Mt=sibling(Ot,2);let $t;var Ht=child(Mt);{var Ft=Jt=>{var ti=root_2$M(),di=child(ti);template_effect(Qt=>{set_class(ti,1,Qt),set_text(di,ne())},[()=>{var Qt;return clsx(At({class:clsx$1((Qt=T.classes)==null?void 0:Qt.placeholder)}))}]),append(Jt,ti)};if_block(Ht,Jt=>{get$2(tt).length||Jt(Ft)})}var jt=sibling(Ht,2),Gt=child(jt);{var Kt=Jt=>{var ti=comment(),di=first_child(ti);each(di,17,()=>get$2(tt),Qt=>Qt.name,(Qt,Si)=>{var Ti=comment(),Ri=first_child(Ti);{var ki=ai=>{var ci=comment(),yi=first_child(ci);snippet(yi,()=>T.children,()=>({item:get$2(Si),clear:()=>ht(get$2(Si))})),append(ai,ci)},Bt=ai=>{const ci=derived$1(()=>ee()==="lg"),yi=derived$1(()=>[me()&&"pointer-events-none"]);Badge(ai,{color:"gray",get large(){return get$2(ci)},dismissable:!0,params:{duration:100},onclose:()=>ht(get$2(Si)),get class(){return get$2(yi)},children:(Ci,Vi)=>{var ii=text$1();template_effect(()=>set_text(ii,get$2(Si).name)),append(Ci,ii)},$$slots:{default:!0}})};if_block(Ri,ai=>{T.children?ai(ki):ai(Bt,!1)})}append(Qt,Ti)}),append(Jt,ti)};if_block(Gt,Jt=>{get$2(tt).length&&Jt(Kt)})}var Pt=sibling(jt,2),kt=child(Pt);{var zt=Jt=>{const ti=derived$1(()=>{var di;return yt({class:clsx$1(et==null?void 0:et.close,(di=T.classes)==null?void 0:di.close)})});CloseButton(Jt,{get size(){return ee()},color:"none",get class(){return get$2(ti)},get disabled(){return me()}})};if_block(kt,Jt=>{get$2(tt).length&&Jt(zt)})}var Wt=sibling(kt,2),si=child(Wt),ei=sibling(Pt,2);{var Zt=Jt=>{var ti=root_9$4();each(ti,21,k,di=>di.name,(di,Qt)=>{var Si=root_10$5();Si.__click=[on_click$z,lt,Qt];var Ti=child(Si);template_effect(Ri=>{set_class(Si,1,Ri),set_text(Ti,get$2(Qt).name)},[()=>{var Ri;return clsx(xt({selected:get$2(tt).includes(get$2(Qt)),active:get$2(nt)===get$2(Qt),disabled:get$2(Qt).disabled,class:clsx$1((Ri=T.classes)==null?void 0:Ri.item)}))}]),append(di,Si)}),template_effect(di=>set_class(ti,1,di),[()=>clsx(Tt({class:clsx$1(get$2(Ye).dropdown)}))]),append(Jt,ti)};if_block(ei,Jt=>{get$2(it)&&Jt(Zt)})}bind_this(Mt,Jt=>rt=Jt,()=>rt),template_effect((Jt,ti,di)=>{set_attribute(Ot,"name",T.name),set_attribute(Ot,"form",T.form),Ot.required=T.required,set_attribute(Ot,"autocomplete",T.autocomplete),Dt!==(Dt=Z())&&(Ot.value=(Ot.__value=Z())==null?"":Z(),select_option(Ot,Z())),$t=set_attributes(Mt,$t,{...Ve,onclick:ut,onblur:ft,onkeydown:_t,tabindex:"0",role:"listbox",class:Jt}),set_class(jt,1,ti),set_class(Wt,0,di),set_attribute(si,"d",get$2(it)?"m1 5 4-4 4 4":"m9 1-4 4-4-4")},[()=>Et({size:ee(),class:clsx$1(et==null?void 0:et.base,T.class)}),()=>{var Jt;return clsx(St({class:clsx$1(et==null?void 0:et.select,(Jt=T.classes)==null?void 0:Jt.span)}))},()=>{var Jt;return clsx(clsx$1(Ct(),me()&&"cursor-not-allowed",(Jt=T.classes)==null?void 0:Jt.svg))}]),append(Y,It),pop()}delegate(["change","click"]);ce$1({slots:{input:"flex items-center w-4 h-4 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2 mr-2",label:"flex items-center"},variants:{color:{primary:{input:"text-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600"},secondary:{input:"text-secondary-600 focus:ring-secondary-500 dark:focus:ring-secondary-600"},gray:{input:"text-gray-600 focus:ring-gray-500 dark:focus:ring-gray-600"},red:{input:"text-red-600 focus:ring-red-500 dark:focus:ring-red-600"},orange:{input:"text-orange-500 focus:ring-orange-500 dark:focus:ring-orange-600"},amber:{input:"text-amber-600 focus:ring-amber-500 dark:focus:ring-amber-600"},yellow:{input:"text-yellow-400 focus:ring-yellow-500 dark:focus:ring-yellow-600"},lime:{input:"text-lime-600 focus:ring-lime-500 dark:focus:ring-lime-600"},green:{input:"text-green-600 focus:ring-green-500 dark:focus:ring-green-600"},emerald:{input:"text-emerald-600 focus:ring-emerald-500 dark:focus:ring-emerald-600"},teal:{input:"text-teal-600 focus:ring-teal-500 dark:focus:ring-teal-600"},cyan:{input:"text-cyan-600 focus:ring-cyan-500 dark:focus:ring-cyan-600"},sky:{input:"text-sky-600 focus:ring-sky-500 dark:focus:ring-sky-600"},blue:{input:"text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-600"},indigo:{input:"text-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600"},violet:{input:"text-violet-600 focus:ring-violet-500 dark:focus:ring-violet-600"},purple:{input:"text-purple-600 focus:ring-purple-500 dark:focus:ring-purple-600"},fuchsia:{input:"text-fuchsia-600 focus:ring-fuchsia-500 dark:focus:ring-fuchsia-600"},pink:{input:"text-pink-600 focus:ring-pink-500 dark:focus:ring-pink-600"},rose:{input:"text-rose-600 focus:ring-rose-500 dark:focus:ring-rose-600"}},tinted:{true:{input:"dark:bg-gray-600 dark:border-gray-500"},false:{input:"dark:bg-gray-700 dark:border-gray-600"}},custom:{true:{input:"sr-only peer"},false:{input:"relative"}},inline:{true:{label:"inline-flex"},false:{label:"flex"}}},defaultVariants:{color:"primary"}});ce$1({base:"",variants:{inline:{true:"inline-flex",false:"flex"}},defaultVariants:{inline:!0}});ce$1({base:"w-full bg-gray-200 rounded-lg cursor-pointer dark:bg-gray-700",variants:{size:{sm:"h-1 range-sm",md:"h-2",lg:"h-3 range-lg"},color:{gray:"",red:"",blue:"",indigo:"",violet:"",purple:"",fuchsia:"",pink:"",rose:""},appearance:{auto:"range accent-red-500",none:"appearance-none"}},compoundVariants:[{appearance:"auto",color:"gray",class:"accent-gray-500"},{appearance:"auto",color:"red",class:"accent-red-500"},{appearance:"auto",color:"blue",class:"accent-blue-500"},{appearance:"auto",color:"indigo",class:"accent-indigo-500"},{appearance:"auto",color:"violet",class:"accent-violet-500"},{appearance:"auto",color:"purple",class:"accent-purple-500"},{appearance:"auto",color:"fuchsia",class:"accent-fuchsia-500"},{appearance:"auto",color:"pink",class:"accent-pink-500"},{appearance:"auto",color:"rose",class:"accent-rose-500"}]});ce$1({slots:{base:"relative w-full",left:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",icon:"text-gray-500 dark:text-gray-400",content:"absolute inset-y-0 end-0 flex items-center text-gray-500 dark:text-gray-400",input:"block w-full text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500 disabled:cursor-not-allowed disabled:opacity-50",close:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-black",svg:""},variants:{size:{sm:{input:"text-xs p-2 ps-9 pe-9 ",icon:"w-3 h-3"},md:{input:"text-sm p-2.5 ps-10 pe-10",icon:"w-4 h-4"},lg:{input:"sm:text-base p-3 ps-11 pe-11",icon:"w-6 h-6"}}},defaultVariants:{size:"lg"}});ce$1({slots:{base:"border border-gray-300 dark:border-gray-600 rounded-lg flex focus-within:ring-primary-500 focus-within:ring-1 focus-within:border-primary-500 scrollbar-hidden bg-gray-50 dark:bg-gray-700",tag:"flex items-center rounded-lg bg-gray-100 text-gray-900 border border-gray-300 my-1 ml-1 px-2 text-sm max-w-full min-w-fit",span:"items-center",close:"my-auto ml-1",input:"block text-sm m-2.5 p-0 bg-transparent border-none outline-none text-gray-900 h-min w-full min-w-fit focus:ring-0 placeholder-gray-400 dark:text-white disabled:cursor-not-allowed disabled:opacity-50",info:"mt-1 text-sm text-blue-500 dark:text-blue-400",warning:"mt-1 text-sm text-yellow-400 dark:text-yellow-300",error:"mt-1 text-sm text-red-500 dark:text-red-400"}});delegate(["click"]);const textarea=ce$1({slots:{div:"relative",base:"block w-full text-sm border-0 px-0 bg-inherit dark:bg-inherit focus:outline-hidden focus:ring-0 disabled:cursor-not-allowed disabled:opacity-50",wrapper:"text-sm rounded-lg bg-gray-50 dark:bg-gray-600 text-gray-900 dark:placeholder-gray-400 dark:text-white border border-gray-200 dark:border-gray-500 disabled:cursor-not-allowed disabled:opacity-50",inner:"py-2 px-4 bg-white dark:bg-gray-800",header:"py-2 px-3 border-gray-200 dark:border-gray-500",footer:"py-2 px-3 border-gray-200 dark:border-gray-500",addon:"absolute top-2 right-2 z-10",close:"absolute right-2 top-5 -translate-y-1/2 text-gray-400 hover:text-black",svg:""},variants:{wrapped:{false:{wrapper:"p-2.5 text-sm focus:outline-hidden focus:ring-primary-500 border-gray-300 focus:border-primary-500 dark:focus:ring-primary-500 dark:focus:border-primary-500 disabled:cursor-not-allowed disabled:opacity-50"}},hasHeader:{true:{header:"border-b"},false:{inner:"rounded-t-lg"}},hasFooter:{true:{footer:"border-t"},false:{inner:"rounded-b-lg"}}}});var root_1$1N=template("<textarea></textarea>"),root_3$C=template("<div><!></div>"),root_4$s=template("<div><!></div>"),root_5$i=template("<div><!></div>"),root_2$L=template("<div><!> <div><!> <textarea></textarea></div> <!></div>"),root$2w=template("<div><!> <!></div>");function Textarea(Y,T){push(T,!0);let k=prop(T,"value",15),Z=prop(T,"elementRef",15),ee=prop(T,"clearableColor",3,"none"),te=rest_props(T,["$$slots","$$events","$$legacy","header","footer","addon","value","elementRef","divClass","innerClass","headerClass","footerClass","addonClass","disabled","class","classes","clearable","clearableSvgClass","clearableColor","clearableClass","clearableOnClick","textareaClass"]);T.divClass,T.innerClass,T.headerClass,T.footerClass,T.addonClass,T.textareaClass,T.clearableClass,T.clearableSvgClass;const ne=derived$1(()=>T.classes??{div:T.divClass,inner:T.innerClass,header:T.headerClass,footer:T.footerClass,addon:T.addonClass,textarea:T.textareaClass,close:T.clearableClass,svg:T.clearableSvgClass}),me=getTheme("textarea");let Ve=derived$1(()=>!!T.header),Ye=derived$1(()=>!!T.footer),et=derived$1(()=>!!T.addon),tt=derived$1(()=>get$2(Ve)||get$2(Ye)||get$2(et));const it=derived$1(()=>textarea({wrapped:get$2(tt),hasHeader:get$2(Ve),hasFooter:get$2(Ye)})),st=derived$1(()=>get$2(it).div),nt=derived$1(()=>get$2(it).base),rt=derived$1(()=>get$2(it).wrapper),lt=derived$1(()=>get$2(it).inner),ot=derived$1(()=>get$2(it).header),ht=derived$1(()=>get$2(it).footer),dt=derived$1(()=>get$2(it).addon),ct=derived$1(()=>get$2(it).close);createDismissableContext(()=>{Z()&&(Z(Z().value="",!0),k(void 0)),T.clearableOnClick&&T.clearableOnClick()});var ft=root$2w(),vt=child(ft);{var mt=xt=>{var yt=root_1$1N();let St;bind_this(yt,At=>Z(At),()=>Z()),template_effect(At=>St=set_attributes(yt,St,{disabled:T.disabled,...te,class:At}),[()=>{var At;return get$2(rt)({class:clsx$1(T.class,(At=T.classes)==null?void 0:At.wrapper)})}]),bind_value(yt,k),append(xt,yt)},_t=xt=>{var yt=root_2$L(),St=child(yt);{var At=Ft=>{var jt=root_3$C(),Gt=child(jt);snippet(Gt,()=>T.header),template_effect(Kt=>set_class(jt,1,Kt),[()=>clsx(get$2(ot)({class:clsx$1(me==null?void 0:me.header,get$2(ne).header)}))]),append(Ft,jt)};if_block(St,Ft=>{T.header&&Ft(At)})}var Ct=sibling(St,2),It=child(Ct);{var Ot=Ft=>{var jt=root_4$s(),Gt=child(jt);snippet(Gt,()=>T.addon),template_effect(Kt=>set_class(jt,1,Kt),[()=>clsx(get$2(dt)({class:clsx$1(me==null?void 0:me.addon,get$2(ne).addon)}))]),append(Ft,jt)};if_block(It,Ft=>{T.addon&&Ft(Ot)})}var Dt=sibling(It,2);let Mt;bind_this(Dt,Ft=>Z(Ft),()=>Z());var $t=sibling(Ct,2);{var Ht=Ft=>{var jt=root_5$i(),Gt=child(jt);snippet(Gt,()=>T.footer),template_effect(Kt=>set_class(jt,1,Kt),[()=>clsx(get$2(ht)({class:clsx$1(me==null?void 0:me.footer,get$2(ne).footer)}))]),append(Ft,jt)};if_block($t,Ft=>{T.footer&&Ft(Ht)})}template_effect((Ft,jt,Gt)=>{set_class(yt,1,Ft),set_class(Ct,1,jt),Mt=set_attributes(Dt,Mt,{disabled:T.disabled,...te,class:Gt})},[()=>{var Ft;return clsx(get$2(rt)({class:clsx$1(me==null?void 0:me.wrapper,(Ft=T.classes)==null?void 0:Ft.wrapper)}))},()=>clsx(get$2(lt)({class:clsx$1(me==null?void 0:me.inner,get$2(ne).inner)})),()=>get$2(nt)({class:clsx$1(me==null?void 0:me.base,T.class)})]),bind_value(Dt,k),append(xt,yt)};if_block(vt,xt=>{get$2(tt)?xt(_t,!1):xt(mt)})}var Et=sibling(vt,2);{var Tt=xt=>{const yt=derived$1(()=>get$2(ct)({class:clsx$1(me==null?void 0:me.close,get$2(ne).close)})),St=derived$1(()=>clsx$1(get$2(ne).svg));CloseButton(xt,{get class(){return get$2(yt)},get color(){return ee()},"aria-label":"Clear search value",get svgClass(){return get$2(St)}})};if_block(Et,xt=>{k()!==void 0&&k()!==""&&T.clearable&&xt(Tt)})}template_effect(xt=>set_class(ft,1,xt),[()=>clsx(get$2(st)({class:clsx$1(me==null?void 0:me.div,get$2(ne).div)}))]),append(Y,ft),pop()}ce$1({slots:{buttonGroup:"inline-flex rounded-lg shadow-sm",input:"block disabled:cursor-not-allowed disabled:opacity-50 rtl:text-right focus:ring-0 focus:outline-none",inputWithIcon:"relative px-2 pr-8",iconWrapper:"pointer-events-none absolute inset-y-0 end-0 top-0 flex items-center pe-3.5",icon:"h-4 w-4 text-gray-500 dark:text-gray-400",select:"text-gray-900 disabled:text-gray-400 bg-gray-50 border border-gray-300 focus:ring-0 focus:outline-none block w-full border-l-1 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:disabled:text-gray-500 dark:focus:ring-primary-500 dark:focus:border-primary-500",button:"!rounded-r-lg",buttonIcon:"ml-2 h-4 w-4",rangeSeparator:"flex items-center justify-center px-2 text-gray-500 dark:text-gray-400",rangeInputWrapper:"relative",rangeInput:"relative pr-8",rangeButton:"pointer-events-none absolute inset-y-0 top-0 right-0 flex items-center border-0 bg-transparent pe-3.5",dropdownContent:"p-4 last:rounded-r-lg",dropdownInner:"flex flex-col space-y-4",dropdownTimeRow:"flex space-x-4",dropdownTimeCol:"flex flex-col",dropdownTimeInput:"w-24 rounded-l-lg !border-r px-2",dropdownButton:"w-full !rounded-l-lg",toggleWrapper:"flex w-full flex-col space-y-2",toggleRow:"flex items-center justify-between",toggleTimeRow:"flex space-x-4 p-2.5",toggleTimeCol:"flex flex-col",toggleTimeInput:"w-24 rounded-lg !border-r px-2",inlineGrid:"grid w-full gap-2",inlineButton:"rounded-lg"},variants:{type:{default:{input:"rounded-e-lg"},select:{input:"w-1/3 rounded-l-lg rounded-e-none",select:"rounded-r-lg rounded-l-none"},dropdown:{input:"rounded-l-lg rounded-e-none"},range:{},"timerange-dropdown":{},"timerange-toggle":{},"inline-buttons":{}},columns:{1:{inlineGrid:"grid-cols-1"},2:{inlineGrid:"grid-cols-2"},3:{inlineGrid:"grid-cols-3"},4:{inlineGrid:"grid-cols-4"}},disabled:{true:{input:"disabled:cursor-not-allowed disabled:opacity-50"}}},defaultVariants:{type:"default",columns:2,disabled:!1}});delegate(["click"]);ce$1({slots:{span:"me-3 shrink-0 bg-gray-200 rounded-full peer-focus:ring-4 peer-checked:after:translate-x-full peer-checked:rtl:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:bg-white after:border-gray-300 after:border after:rounded-full after:transition-all dark:bg-gray-600 dark:border-gray-500 relative ",label:"flex items-center",input:"w-4 h-4 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2 rounded-sm dark:bg-gray-700 dark:border-gray-600 sr-only peer"},variants:{disabled:{true:{label:"cursor-not-allowed opacity-50"}},checked:{true:"",false:""},off_state_label:{true:{span:"ms-3"}},color:{primary:{span:"peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 peer-checked:bg-primary-600"},secondary:{span:"peer-focus:ring-secondary-300 dark:peer-focus:ring-secondary-800 peer-checked:bg-secondary-600"},gray:{span:"peer-focus:ring-gray-300 dark:peer-focus:ring-gray-800 peer-checked:bg-gray-500"},red:{span:"peer-focus:ring-red-300 dark:peer-focus:ring-red-800 peer-checked:bg-red-600"},orange:{span:"peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 peer-checked:bg-orange-500"},amber:{span:"peer-focus:ring-amber-300 dark:peer-focus:ring-amber-800 peer-checked:bg-amber-600"},yellow:{span:"peer-focus:ring-yellow-300 dark:peer-focus:ring-yellow-800 peer-checked:bg-yellow-400"},lime:{span:"peer-focus:ring-lime-300 dark:peer-focus:ring-lime-800 peer-checked:bg-lime-500"},green:{span:"peer-focus:ring-green-300 dark:peer-focus:ring-green-800 peer-checked:bg-green-600"},emerald:{span:"peer-focus:ring-emerald-300 dark:peer-focus:ring-emerald-800 peer-checked:bg-emerald-600"},teal:{span:"peer-focus:ring-teal-300 dark:peer-focus:ring-teal-800 peer-checked:bg-teal-600"},cyan:{span:"peer-focus:ring-cyan-300 dark:peer-focus:ring-cyan-800 peer-checked:bg-cyan-600"},sky:{span:"peer-focus:ring-sky-300 dark:peer-focus:ring-sky-800 peer-checked:bg-sky-600"},blue:{span:"peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 peer-checked:bg-blue-600"},indigo:{span:"peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 peer-checked:bg-indigo-600"},violet:{span:"peer-focus:ring-violet-300 dark:peer-focus:ring-violet-800 peer-checked:bg-violet-600"},purple:{span:"peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 peer-checked:bg-purple-600"},fuchsia:{span:"peer-focus:ring-fuchsia-300 dark:peer-focus:ring-fuchsia-800 peer-checked:bg-fuchsia-600"},pink:{span:"peer-focus:ring-pink-300 dark:peer-focus:ring-pink-800 peer-checked:bg-pink-600"},rose:{span:"peer-focus:ring-rose-300 dark:peer-focus:ring-rose-800 peer-checked:bg-rose-600"}},size:{small:{span:"w-9 h-5 after:top-[2px] after:start-[2px] after:h-4 after:w-4"},default:{span:"w-11 h-6 after:top-0.5 after:start-[2px] after:h-5 after:w-5"},large:{span:"w-14 h-7 after:top-0.5 after:start-[4px]  after:h-6 after:w-6"}}},defaultVariants:{color:"primary"}});ce$1({base:"inline-flex items-center hover:underline",variants:{color:{primary:"text-primary-600 dark:text-primary-500",secondary:"text-secondary-600 dark:text-secondary-500",gray:"text-gray-600 dark:text-gray-500",red:"text-red-600 dark:text-red-500",orange:"text-orange-600 dark:text-orange-500",amber:"text-amber-600 dark:text-amber-500",yellow:"text-yellow-600 dark:text-yellow-500",lime:"text-lime-600 dark:text-lime-500",green:"text-green-600 dark:text-green-500",emerald:"text-emerald-600 dark:text-emerald-500",teal:"text-teal-600 dark:text-teal-500",cyan:"text-cyan-600 dark:text-cyan-500",sky:"text-sky-600 dark:text-sky-500",blue:"text-blue-600 dark:text-blue-500",indigo:"text-indigo-600 dark:text-indigo-500",violet:"text-violet-600 dark:text-violet-500",purple:"text-purple-600 dark:text-purple-500",fuchsia:"text-fuchsia-600 dark:text-fuchsia-500",pink:"text-pink-600 dark:text-pink-500",rose:"text-rose-600 dark:text-rose-500"}}});ce$1({base:"font-semibold text-gray-900 dark:text-white",variants:{border:{true:"border-s-4 border-gray-300 dark:border-gray-500",false:""},italic:{true:"italic",false:""},bg:{true:"bg-gray-50 dark:bg-gray-800",false:""},alignment:{left:"text-left",center:"text-center",right:"text-right"},size:{xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl","9xl":"text-9xl"}},defaultVariants:{border:!1,italic:!0,bg:!1,alignment:"left",size:"lg"}});ce$1({variants:{tag:{dt:"text-gray-500 md:text-lg dark:text-gray-400",dd:"text-lg font-semibold"}},defaultVariants:{tag:"dt"}});ce$1({base:"font-bold text-gray-900 dark:text-white",variants:{tag:{h1:"text-5xl font-extrabold",h2:"text-4xl",h3:"text-3xl",h4:"text-2xl",h5:"text-xl",h6:"text-lg"}},defaultVariants:{tag:"h1"}});ce$1({slots:{base:"h-px my-8 bg-gray-200 border-0 dark:bg-gray-700",container:"inline-flex items-center justify-center w-full",content:"absolute px-4 -translate-x-1/2 rtl:translate-x-1/2 bg-white start-1/2 dark:bg-gray-900"},variants:{withChildren:{true:{base:"w-full",container:"relative"}}},defaultVariants:{withChildren:!1}});ce$1({slots:{base:"max-w-full h-auto",figure:"",figureCaption:"mt-2 text-sm text-center text-gray-500 dark:text-gray-400"},variants:{size:{xs:{base:"max-w-xs",figure:"max-w-xs"},sm:{base:"max-w-sm",figure:"max-w-sm"},md:{base:"max-w-md",figure:"max-w-md"},lg:{base:"max-w-lg",figure:"max-w-lg"},xl:{base:"max-w-xl",figure:"max-w-xl"},"2xl":{base:"max-w-2xl",figure:"max-w-2xl"},full:{base:"max-w-full",figure:"max-w-full"},none:{base:"",figure:""}},alignment:{left:{},center:{base:"mx-auto",figure:"mx-auto"},right:{base:"ms-auto",figure:"ms-auto"}},effect:{grayscale:{base:"cursor-pointer rounded-lg grayscale filter transition-all duration-300 hover:grayscale-0"},blur:{base:"blur-sm transition-all duration-300 hover:blur-none"},invert:{base:"invert filter transition-all duration-300 hover:invert-0"},sepia:{base:"sepia filter transition-all duration-300 hover:sepia-0"},saturate:{base:"saturate-50 filter transition-all duration-300 hover:saturate-100"},"hue-rotate":{base:"hue-rotate-60 filter transition-all duration-300 hover:hue-rotate-0"},none:{base:"transition-all duration-300"}},shadow:{sm:{base:"shadow-sm"},regular:{base:"shadow"},md:{base:"shadow-md"},lg:{base:"shadow-lg"},xl:{base:"shadow-xl"},"2xl":{base:"shadow-2xl"},inner:{base:"shadow-inner"},none:{base:"shadow-none"}},rounded:{sm:{base:"rounded-sm"},regular:{base:"rounded"},md:{base:"rounded-md"},lg:{base:"rounded-lg"},xl:{base:"rounded-xl"},"2xl":{base:"rounded-2xl"},"3xl":{base:"rounded-3xl"},full:{base:"rounded-full"},none:{base:"rounded-none"}}}});ce$1({base:"grid grid-cols-1 sm:grid-cols-2"});ce$1({base:"",variants:{tag:{ul:"list-disc",dl:"list-none",ol:"list-decimal"},position:{inside:"list-inside",outside:"list-outside"}},defaultVariants:{position:"inside",tag:"ul"}});ce$1({base:"text-white dark:bg-blue-500 bg-blue-600 px-2 rounded"});var root$2v=template("<p><!></p>");function P$1(Y,T){push(T,!0);let k=prop(T,"class",3,"text-gray-900 dark:text-white"),Z=prop(T,"height",3,"normal"),ee=prop(T,"align",3,"left"),te=prop(T,"justify",3,!1),ne=prop(T,"firstUpper",3,!1),me=prop(T,"whitespace",3,"normal"),Ve=prop(T,"size",3,"base"),Ye=prop(T,"space",3,"normal"),et=prop(T,"weight",3,"normal"),tt=rest_props(T,["$$slots","$$events","$$legacy","children","class","height","align","justify","italic","firstUpper","whitespace","size","space","weight"]),it=derived$1(()=>paragraph({height:Z(),size:Ve(),weight:et(),space:Ye(),align:ee(),justify:te(),italic:T.italic,firstUpper:ne(),whitespace:me(),className:k()}));var st=root$2v();let nt;var rt=child(st);snippet(rt,()=>T.children),template_effect(()=>nt=set_attributes(st,nt,{...tt,class:get$2(it)})),append(Y,st),pop()}const paragraph=ce$1({base:"text-gray-900 dark:text-white",variants:{size:{xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl","9xl":"text-9xl"},weight:{thin:"font-thin",extralight:"font-extralight",light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold",extrabold:"font-extrabold",black:"font-black"},space:{tighter:"tracking-tighter",tight:"tracking-tight",normal:"tracking-normal",wide:"tracking-wide",wider:"tracking-wider",widest:"tracking-widest"},height:{none:"leading-none",tight:"leading-tight",snug:"leading-snug",normal:"leading-normal",relaxed:"leading-relaxed",loose:"leading-loose",3:"leading-3",4:"leading-4",5:"leading-5",6:"leading-6",7:"leading-7",8:"leading-8",9:"leading-9",10:"leading-10"},align:{left:"text-left",center:"text-center",right:"text-right"},whitespace:{normal:"whitespace-normal",nowrap:"whitespace-nowrap",pre:"whitespace-pre",preline:"whitespace-pre-line",prewrap:"whitespace-pre-wrap"},italic:{true:"italic"},firstUpper:{true:"first-line:uppercase first-line:tracking-widest first-letter:text-7xl first-letter:font-bold first-letter:text-gray-900 dark:first-letter:text-gray-100 first-letter:me-3 first-letter:float-left",false:""},justify:{true:"text-justify",false:""}}});ce$1({base:"text-gray-500 dark:text-gray-400 font-semibold"});var root$2u=template("<span><!></span>");function Span$1(Y,T){push(T,!0);let k=rest_props(T,["$$slots","$$events","$$legacy","children","class","italic","underline","linethrough","uppercase","gradient","highlight","decoration","decorationColor","decorationThickness"]),Z=derived$1(()=>span({italic:T.italic,underline:T.underline,linethrough:T.linethrough,uppercase:T.uppercase,gradient:T.gradient,highlight:T.highlight,decoration:T.decoration,decorationColor:T.decorationColor,decorationThickness:T.decorationThickness,className:T.class}));var ee=root$2u();let te;var ne=child(ee);{var me=Ve=>{var Ye=comment(),et=first_child(Ye);snippet(et,()=>T.children),append(Ve,Ye)};if_block(ne,Ve=>{T.children&&Ve(me)})}template_effect(()=>te=set_attributes(ee,te,{...k,class:get$2(Z)})),append(Y,ee),pop()}const span=ce$1({variants:{italic:{true:"italic"},underline:{true:"underline decoration-2 decoration-blue-400 dark:decoration-blue-600"},linethrough:{true:"line-through"},uppercase:{true:"uppercase"},gradient:{skyToEmerald:"text-transparent bg-clip-text bg-gradient-to-r to-emerald-600 from-sky-400",purpleToBlue:"text-transparent bg-clip-text bg-gradient-to-r from-purple-500 to-blue-500",pinkToOrange:"text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-orange-400",tealToLime:"text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-lime-300",redToYellow:"text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-yellow-500",indigoToCyan:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-cyan-400",fuchsiaToRose:"text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-500 to-rose-500",amberToEmerald:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-emerald-500",violetToRed:"text-transparent bg-clip-text bg-gradient-to-r from-violet-600 to-red-500",blueToGreen:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-teal-500 to-green-400",orangeToPurple:"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 via-pink-500 to-purple-500",yellowToRed:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-indigo-400 to-red-600",none:""},highlight:{blue:"text-blue-600 dark:text-blue-500",green:"text-green-600 dark:text-green-500",red:"text-red-600 dark:text-red-500",yellow:"text-yellow-600 dark:text-yellow-500",purple:"text-purple-600 dark:text-purple-500",pink:"text-pink-600 dark:text-pink-500",indigo:"text-indigo-600 dark:text-indigo-500",teal:"text-teal-600 dark:text-teal-500",orange:"text-orange-600 dark:text-orange-500",cyan:"text-cyan-600 dark:text-cyan-500",fuchsia:"text-fuchsia-600 dark:text-fuchsia-500",amber:"text-amber-600 dark:text-amber-500",lime:"text-lime-600 dark:text-lime-500",none:""},decoration:{solid:"underline decoratio-solid",double:"underline decoration-double",dotted:"underline decoration-dotted",dashed:"underline decoration-dashed",wavy:"underline decoration-wavy",none:"decoration-none"},decorationColor:{primary:"underline decoration-primary-400 dark:decoration-primary-600",secondary:"underline decoration-secondary-400 dark:decoration-secondary-600",gray:"underline decoration-gray-400 dark:decoration-gray-600",orange:"underline decoration-orange-400 dark:decoration-orange-600",red:"underline decoration-red-400 dark:decoration-red-600",yellow:"underline decoration-yellow-400 dark:decoration-yellow-600",lime:"underline decoration-lime-400 dark:decoration-lime-600",green:"underline decoration-green-400 dark:decoration-green-600",emerald:"underline decoration-emerald-400 dark:decoration-emerald-600",teal:"underline decoration-teal-400 dark:decoration-teal-600",cyan:"underline decoration-cyan-400 dark:decoration-cyan-600",sky:"underline decoration-sky-400 dark:decoration-sky-600",blue:"underline decoration-blue-400 dark:decoration-blue-600",indigo:"underline decoration-indigo-400 dark:decoration-indigo-600",violet:"underline decoration-violet-400 dark:decoration-violet-600",purple:"underline decoration-purple-400 dark:decoration-purple-600",fuchsia:"underline decoration-fuchsia-400 dark:decoration-fuchsia-600",pink:"underline decoration-pink-400 dark:decoration-pink-600",rose:"underline decoration-rose-400 dark:decoration-rose-600",none:"decoration-none"},decorationThickness:{1:"underline decoration-1",2:"underline decoration-2",4:"underline decoration-4",8:"underline decoration-8",0:"decoration-0"}}});class SvelteDockComponentRenderer extends PanelRendererBase{constructor(k){super({...k,panelTarget:"dock",initOptionsToProps:({params:Z,api:ee,containerApi:te})=>({params:Z,api:ee,containerApi:te})});bt(this,"_onDidFocus",new Emitter);bt(this,"onDidFocus",this._onDidFocus.event);bt(this,"_onDidBlur",new Emitter);bt(this,"onDidBlur",this._onDidBlur.event)}dispose(){super.dispose(),this._onDidFocus.dispose(),this._onDidBlur.dispose()}}class SvelteDockHeaderRenderer extends PanelRendererBase{constructor(T){super({...T,panelTarget:"dockheader",initOptionsToProps:({params:k,api:Z,containerApi:ee})=>({params:k,api:Z,containerApi:ee})})}}class SvelteWatermarkRenderer extends PanelRendererBase{constructor(T){super({...T,propsHasParams:!1,panelTarget:"dockwatermark",initOptionsToProps:({group:k,containerApi:Z})=>({group:k,containerApi:Z})})}}class SvelteDockActionsHeaderRenderer extends PanelRendererBase{constructor(k,Z){super({...Z,propsHasParams:!1,panelTarget:"dockactions",initOptionsToProps:({api:ee,containerApi:te})=>({api:ee,containerApi:te,group:k,panels:k.model.panels,activePanel:k.model.activePanel,isGroupActive:k.api.isActive})});bt(this,"mutableDisposable",new MutableDisposable);bt(this,"group");this.group=k}init(k){this.mutableDisposable.value=new CompositeDisposable(this.group.model.onDidAddPanel(()=>this.updatePanels()),this.group.model.onDidRemovePanel(()=>this.updatePanels()),this.group.model.onDidActivePanelChange(()=>this.updateActivePanel()),k.api.onDidActiveChange(()=>this.updateGroupActive())),super.init(k)}dispose(){super.dispose(),this.mutableDisposable.dispose()}updatePanels(){var k;(k=this.propsUpdater)==null||k.updateSingle("panels",this.group.model.panels)}updateActivePanel(){var k;(k=this.propsUpdater)==null||k.updateSingle("activePanel",this.group.model.activePanel)}updateGroupActive(){var k;(k=this.propsUpdater)==null||k.updateSingle("isGroupActive",this.group.api.isActive)}}var root$2t=template('<span class="svelte-1u7xgz4"><div></div></span>');function ViewContainer(Y,T){push(T,!0);let k=prop(T,"element",15);var Z=root$2t(),ee=child(Z);set_style(ee,"",{},{height:"100%",width:"100%"}),bind_this(ee,te=>k(te),()=>k()),template_effect(()=>{set_attribute(Z,"id",`${T.id??""}-wrapper`),set_attribute(ee,"id",T.id),set_class(ee,1,`dockview-theme-${T.theme??"dark"}`)}),append(Y,Z),pop()}let dockCount=0;const createGroupControlElement=Y=>Y?T=>{if("component"in Y)return new SvelteDockActionsHeaderRenderer(T,{viewIndex:dockCount,id:T.id,name:Y.component.name,svelteComponent:Y.component});if("snippet"in Y)return new SvelteDockActionsHeaderRenderer(T,{viewIndex:dockCount,id:T.id,name:Y.snippet.name,svelteComponent:SnippetRender,propsPostProcessor:k=>k.snippet=Y.snippet});throw new Error("Invalid component and/or snippet")}:void 0;function DockView(Y,T){push(T,!0);const k=dockCount++;let Z=rest_props(T,["$$slots","$$events","$$legacy","components","snippets","tabs","theme","watermark","defaultTab","rightHeaderActions","leftHeaderActions","prefixHeaderActions","onReady","onDidDrop","onWillDrop","orientation"]),ee;for(const me of PROPERTY_KEYS_DOCKVIEW)user_effect(()=>ee==null?void 0:ee.updateOptions({[me]:Z[me]}));const te={createLeftHeaderActionComponent:createGroupControlElement(T.leftHeaderActions),createRightHeaderActionComponent:createGroupControlElement(T.rightHeaderActions),createPrefixHeaderActionComponent:createGroupControlElement(T.prefixHeaderActions),createComponent:me=>{const{component:Ve,propsPostProcessor:Ye,name:et}=getComponentToMount("dock",T.components,T.snippets,me);return new SvelteDockComponentRenderer({name:et,id:me.id,viewIndex:k,svelteComponent:Ve,propsPostProcessor:Ye})},createTabComponent:T.tabs?me=>{const{component:Ve,propsPostProcessor:Ye,name:et}=getComponentToMount("dock",T.tabs.components,T.tabs.snippets,me);return new SvelteDockHeaderRenderer({name:et,id:me.id,viewIndex:k,svelteComponent:Ve,propsPostProcessor:Ye})}:void 0,createWatermarkComponent:T.watermark?()=>{if("component"in T.watermark)return new SvelteWatermarkRenderer({name:T.watermark.component.name,id:"watermark",viewIndex:k,svelteComponent:T.watermark.component});if("snippet"in T.watermark)return new SvelteWatermarkRenderer({name:"watermark",id:"watermark",viewIndex:k,svelteComponent:SnippetRender,propsPostProcessor:me=>me.snippet=T.watermark.snippet});throw new Error("Invalid watermark component and/or snippet")}:void 0};let ne=state(void 0);onMount(()=>{var et;const me=createDockview(get$2(ne),{...extractCoreOptions(Z,PROPERTY_KEYS_DOCKVIEW),...te});ee=Object.assign(me,createExtendedAPI("dock",me,k));const{clientWidth:Ve,clientHeight:Ye}=get$2(ne);ee.layout(Ve,Ye),(et=T.onReady)==null||et.call(T,{api:ee})}),user_effect(()=>{T.onDidDrop&&(ee==null||ee.onDidDrop(T.onDidDrop))}),user_effect(()=>{T.onWillDrop&&(ee==null||ee.onWillDrop(T.onWillDrop))}),onDestroy(()=>{ee==null||ee.dispose()}),ViewContainer(Y,{id:`dock${k}`,get theme(){return T.theme},get element(){return get$2(ne)},set element(me){set(ne,proxy(me))}}),pop()}let splitCount=0;class SvelteGridviewPanel extends SplitviewPanel{constructor(k){super(k.id,k.name);bt(this,"renderer");const Z=this;this.renderer=new PanelRendererBase({...k,element:this.element,panelTarget:"split",initOptionsToProps:ee=>({params:(ee==null?void 0:ee.params)??{},api:Z.api,containerApi:new SplitviewApi(ee.accessor)})})}getComponent(){return this.renderer.init(this._params),this.renderer}}function SplitView(Y,T){push(T,!0);let k=rest_props(T,["$$slots","$$events","$$legacy","components","snippets","onReady","theme"]);const Z=splitCount++;let ee;for(const me of PROPERTY_KEYS_SPLITVIEW)user_effect(()=>ee==null?void 0:ee.updateOptions({[me]:k[me]}));const te={createComponent:me=>{const{component:Ve,propsPostProcessor:Ye,name:et}=getComponentToMount("split",T.components,T.snippets,me);return new SvelteGridviewPanel({id:me.id,name:et,svelteComponent:Ve,viewIndex:Z,propsPostProcessor:Ye})}};let ne=state(void 0);onMount(()=>{var et;const me=createSplitview(get$2(ne),{...extractCoreOptions(k,PROPERTY_KEYS_SPLITVIEW),...te});ee=Object.assign(me,createExtendedAPI("split",me,Z));const{clientWidth:Ve,clientHeight:Ye}=get$2(ne);ee.layout(Ve,Ye),(et=T.onReady)==null||et.call(T,{api:ee})}),onDestroy(()=>{ee==null||ee.dispose()}),ViewContainer(Y,{id:`split${Z}`,get theme(){return T.theme},get element(){return get$2(ne)},set element(me){set(ne,proxy(me))}}),pop()}var root$2s=template('<div class="wrapper svelte-ncox6v"><!> <div></div></div>');function RegionalDivisionDockView(Y,T){push(T,!0);let k=state(""),Z=state(void 0),ee=state(void 0);const te=tt=>{if(!get$2(Z))return!1;const it=get$2(Z).getBoundingClientRect();return tt.x>it.left&&tt.x<it.right&&tt.y>it.top&&tt.y<it.bottom},ne=tt=>{if(!get$2(Z)||T.dockViewApi.size)return;if(T.dockViewApi.id==="4"&&tt.data.panel==="StructAndVarRelationIntegrate"&&get$2(ee)){te(tt.position)?get$2(ee).style.cursor="not-allowed":document.body.style.cursor="",set(k,"not-allowed"),get$2(ee).style.cursor="not-allowed";return}te(tt.position)?set(k,"all"):set(k,"")},me=tt=>{if(T.dockViewApi.id==="4"&&tt.data.panel==="StructAndVarRelationIntegrate"&&get$2(Z)){te(tt.position)&&window.API.message.globalMessageNotice({type:"error",message:"It is forbidden to drag into the bottom area."}),set(k,"");return}const st=dockViewPanelMap.get(tt.data.panel);get$2(k)===""||!st||(set(k,""),!T.dockViewApi.size&&api$1.dockView.registerPanel(T.dockViewApi.id,{...st,tabComponent:"DockTabBottom"}))};onMount(()=>{get$2(Z)&&(api$1.eventBus.on("regionalDivisionMove",tt=>{ne(tt)}),api$1.eventBus.on("regionalDivisionMoveEnd",me))});var Ve=root$2s(),Ye=child(Ve);snippet(Ye,()=>T.children);var et=sibling(Ye,2);bind_this(et,tt=>set(ee,tt),()=>get$2(ee)),bind_this(Ve,tt=>set(Z,tt),()=>get$2(Z)),template_effect(()=>set_class(et,1,`regionalDivision ${get$2(k)}`,"svelte-ncox6v")),append(Y,Ve),pop()}var root_1$1M=ns_template("<title> </title>"),root_2$K=ns_template("<desc> </desc>"),root$2r=ns_template('<svg><!><!><path fill-rule="evenodd" d="M10.271 5.575C8.967 4.501 7 5.43 7 7.12v9.762c0 1.69 1.967 2.618 3.271 1.544l5.927-4.881a2 2 0 0 0 0-3.088l-5.927-4.88Z" clip-rule="evenodd"></path></svg>');function CaretRightSolid(Y,T){var lt,ot;push(T,!0);const k=getContext("iconCtx")??{},Z={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let ee=prop(T,"size",19,()=>k.size||"md"),te=prop(T,"color",19,()=>k.color||"currentColor"),ne=prop(T,"ariaLabel",3,"caret right solid"),me=rest_props(T,["$$slots","$$events","$$legacy","size","color","title","desc","class","ariaLabel"]),Ve=`${((lt=T.title)==null?void 0:lt.id)||""} ${((ot=T.desc)==null?void 0:ot.id)||""}`;const Ye=derived$1(()=>{var ht,dt;return!!((ht=T.title)!=null&&ht.id||(dt=T.desc)!=null&&dt.id)});var et=root$2r();let tt;var it=child(et);{var st=ht=>{var dt=root_1$1M(),ct=child(dt);template_effect(()=>{set_attribute(dt,"id",T.title.id),set_text(ct,T.title.title)}),append(ht,dt)};if_block(it,ht=>{var dt;(dt=T.title)!=null&&dt.id&&T.title.title&&ht(st)})}var nt=sibling(it);{var rt=ht=>{var dt=root_2$K(),ct=child(dt);template_effect(()=>{set_attribute(dt,"id",T.desc.id),set_text(ct,T.desc.desc)}),append(ht,dt)};if_block(nt,ht=>{var dt;(dt=T.desc)!=null&&dt.id&&T.desc.desc&&ht(rt)})}template_effect(ht=>tt=set_attributes(et,tt,{xmlns:"http://www.w3.org/2000/svg",fill:te(),...me,class:ht,"aria-label":ne(),"aria-describedby":get$2(Ye)?Ve:void 0,viewBox:"0 0 24 24"}),[()=>twMerge("shrink-0",Z[ee()],T.class)]),append(Y,et),pop()}var root_1$1L=ns_template("<title> </title>"),root_2$J=ns_template("<desc> </desc>"),root$2q=ns_template('<svg><!><!><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>');function CloseOutline(Y,T){var ht,dt;push(T,!0);const k=getContext("iconCtx")??{},Z={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let ee=prop(T,"size",19,()=>k.size||"md"),te=prop(T,"color",19,()=>k.color||"currentColor"),ne=prop(T,"strokeWidth",19,()=>k.strokeWidth||"2"),me=prop(T,"ariaLabel",3,"close outline"),Ve=rest_props(T,["$$slots","$$events","$$legacy","size","color","title","strokeWidth","desc","class","ariaLabel"]),Ye=`${((ht=T.title)==null?void 0:ht.id)||""} ${((dt=T.desc)==null?void 0:dt.id)||""}`;const et=derived$1(()=>{var ct,ut;return!!((ct=T.title)!=null&&ct.id||(ut=T.desc)!=null&&ut.id)});var tt=root$2q();let it;var st=child(tt);{var nt=ct=>{var ut=root_1$1L(),ft=child(ut);template_effect(()=>{set_attribute(ut,"id",T.title.id),set_text(ft,T.title.title)}),append(ct,ut)};if_block(st,ct=>{var ut;(ut=T.title)!=null&&ut.id&&T.title.title&&ct(nt)})}var rt=sibling(st);{var lt=ct=>{var ut=root_2$J(),ft=child(ut);template_effect(()=>{set_attribute(ut,"id",T.desc.id),set_text(ft,T.desc.desc)}),append(ct,ut)};if_block(rt,ct=>{var ut;(ut=T.desc)!=null&&ut.id&&T.desc.desc&&ct(lt)})}var ot=sibling(rt);template_effect(ct=>{it=set_attributes(tt,it,{xmlns:"http://www.w3.org/2000/svg",fill:"none",color:te(),...Ve,class:ct,"aria-label":me(),"aria-describedby":get$2(et)?Ye:void 0,viewBox:"0 0 24 24"}),set_attribute(ot,"stroke-width",ne())},[()=>twMerge("shrink-0",Z[ee()],T.class)]),append(Y,tt),pop()}var root_1$1K=ns_template("<title> </title>"),root_2$I=ns_template("<desc> </desc>"),root$2p=ns_template('<svg><!><!><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm9.408-5.5a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2h-.01ZM10 10a1 1 0 1 0 0 2h1v3h-1a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2h-1v-4a1 1 0 0 0-1-1h-2Z" clip-rule="evenodd"></path></svg>');function InfoCircleSolid(Y,T){var lt,ot;push(T,!0);const k=getContext("iconCtx")??{},Z={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let ee=prop(T,"size",19,()=>k.size||"md"),te=prop(T,"color",19,()=>k.color||"currentColor"),ne=prop(T,"ariaLabel",3,"info circle solid"),me=rest_props(T,["$$slots","$$events","$$legacy","size","color","title","desc","class","ariaLabel"]),Ve=`${((lt=T.title)==null?void 0:lt.id)||""} ${((ot=T.desc)==null?void 0:ot.id)||""}`;const Ye=derived$1(()=>{var ht,dt;return!!((ht=T.title)!=null&&ht.id||(dt=T.desc)!=null&&dt.id)});var et=root$2p();let tt;var it=child(et);{var st=ht=>{var dt=root_1$1K(),ct=child(dt);template_effect(()=>{set_attribute(dt,"id",T.title.id),set_text(ct,T.title.title)}),append(ht,dt)};if_block(it,ht=>{var dt;(dt=T.title)!=null&&dt.id&&T.title.title&&ht(st)})}var nt=sibling(it);{var rt=ht=>{var dt=root_2$I(),ct=child(dt);template_effect(()=>{set_attribute(dt,"id",T.desc.id),set_text(ct,T.desc.desc)}),append(ht,dt)};if_block(nt,ht=>{var dt;(dt=T.desc)!=null&&dt.id&&T.desc.desc&&ht(rt)})}template_effect(ht=>tt=set_attributes(et,tt,{xmlns:"http://www.w3.org/2000/svg",fill:te(),...me,class:ht,"aria-label":ne(),"aria-describedby":get$2(Ye)?Ve:void 0,viewBox:"0 0 24 24"}),[()=>twMerge("shrink-0",Z[ee()],T.class)]),append(Y,et),pop()}function onclick(Y,T){T.api.close()}var root_1$1J=template('<span class="close iconfont icon-close svelte-r6bokw"></span>'),root$2o=template('<div class="wrapper svelte-r6bokw"><span> </span> <!></div>');function DockTab(Y,T){push(T,!0);var k=root$2o(),Z=child(k),ee=child(Z),te=sibling(Z,2);{var ne=me=>{var Ve=root_1$1J();Ve.__click=[onclick,T],append(me,Ve)};if_block(te,me=>{T.params.isHasClose&&me(ne)})}template_effect(()=>set_text(ee,T.params.title??"Dock Tab")),append(Y,k),pop()}delegate(["click"]);const typeState=proxy({type:"lvgl"});let widgetProps=proxy({props:[],selectedCellsIds:"ss",selectedCellsLen:0,curlvglShape:null,update:0}),widgetStores=proxy({widgets:[],isSelectedChange:!1}),updateState=proxy({cnt:0,styleState:0,event:0}),Asserts=proxy({data:[],fonts:{}});const lvgl_widget_group=[{title:"basics",widgets:[{imgSrc:"/images/basics/container.png",name:"obj",defaultSize:{w:100,h:100},sort:100},{imgSrc:"/images/basics/arc.png",name:"arc",defaultSize:{w:150,h:150},sort:1},{imgSrc:"/images/basics/button.png",name:"button",defaultSize:{w:100,h:40},sort:2},{imgSrc:"/images/basics/image.png",name:"image",defaultSize:{w:100,h:100},sort:3},{imgSrc:"/images/basics/image.png",name:"player",defaultSize:{w:180,h:125},sort:3},{imgSrc:"/images/basics/label.png",name:"label",defaultSize:{w:80,h:20},sort:4},{imgSrc:"/images/basics/tabpage.png",name:"list",defaultSize:{w:200,h:150},sort:7},{imgSrc:"/images/basics/tabpage.png",name:"multistateimage",defaultSize:{w:200,h:150},sort:7},{imgSrc:"/images/basics/tabview.png",name:"tabview",defaultSize:{w:400,h:300},sort:8},{imgSrc:"/images/basics/textarea.png",name:"textarea",defaultSize:{w:260,h:120},sort:9},{imgSrc:"/images/basics/textarea.png",name:"multistatetext",defaultSize:{w:260,h:120},sort:9}]},{title:"controller",widgets:[{imgSrc:"/images/controller/calendar.png",name:"calendar",defaultSize:{w:300,h:300},sort:1},{imgSrc:"/images/controller/checkbox.png",name:"checkbox",defaultSize:{w:100,h:24},sort:2},{imgSrc:"/images/controller/dropdown.png",name:"dropdown",defaultSize:{w:120,h:40},sort:4},{imgSrc:"/images/controller/imgbutton.png",name:"imgbutton",defaultSize:{w:260,h:120},sort:5},{imgSrc:"/images/controller/roller.png",name:"roller",defaultSize:{w:150,h:200},sort:7},{imgSrc:"/images/controller/slider.png",name:"slider",defaultSize:{w:200,h:10},sort:8},{imgSrc:"/images/controller/spinbox.png",name:"spinbox",defaultSize:{w:120,h:35},sort:9},{imgSrc:"/images/controller/spinbox.png",name:"multistatenum",defaultSize:{w:120,h:35},sort:9},{imgSrc:"/images/controller/switch.png",name:"switch",defaultSize:{w:60,h:30},sort:10}]},{title:"lvgl",widgets:[{imgSrc:"/images/lvgl/gauge.png",name:"scale",defaultSize:{w:160,h:160},sort:6},{imgSrc:"/images/lvgl/led.png",name:"led",defaultSize:{w:80,h:80},sort:7}]},{title:"visualiser",widgets:[{imgSrc:"/images/visualiser/bar.png",name:"bar",defaultSize:{w:200,h:30},sort:1}]},{title:"graphics",widgets:[{imgSrc:"/images/graphics/triangle.svg",name:"triangle",defaultSize:{w:100,h:100},sort:1},{imgSrc:"/images/graphics/rectangle.svg",name:"rectangle",defaultSize:{w:100,h:50},sort:1},{imgSrc:"/images/graphics/diamond.svg",name:"diamond",defaultSize:{w:100,h:100},sort:1},{imgSrc:"/images/graphics/parallelogram.svg",name:"parallelogram",defaultSize:{w:100,h:100},sort:1},{imgSrc:"/images/graphics/polygon.svg",name:"polygon",defaultSize:{w:100,h:100},sort:1},{imgSrc:"/images/graphics/circle.svg",name:"circle",defaultSize:{w:100,h:100},sort:1},{imgSrc:"/images/graphics/ellipse.svg",name:"ellipse",defaultSize:{w:150,h:100},sort:1},{imgSrc:"/images/graphics/part_ellipse.svg",name:"partellipse",defaultSize:{w:100,h:100},sort:1},{imgSrc:"/images/graphics/part_circle.svg",name:"partcircle",defaultSize:{w:100,h:100},sort:1}]}];function last(Y){return Y[Y.length-1]}function wrapArray(Y,T){return Y.map((k,Z)=>Y[(T+Z)%Y.length])}function styleToString(Y){return Object.keys(Y).reduce((T,k)=>Y[k]===void 0?T:T+`${k}:${Y[k]};`,"")}function disabledAttr(Y){return Y?!0:void 0}styleToString({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function portalAttr(Y){if(Y!==null)return""}function executeCallbacks(...Y){return(...T)=>{for(const k of Y)typeof k=="function"&&k(...T)}}function noop$1(){}function omit(Y,...T){const k={};for(const Z of Object.keys(Y))T.includes(Z)||(k[Z]=Y[Z]);return k}function removeUndefined(Y){const T={};for(const k in Y){const Z=Y[k];Z!==void 0&&(T[k]=Z)}return T}function lightable(Y){function T(k){return k(Y),()=>{}}return{subscribe:T}}function getElementByMeltId(Y,T){if(!isBrowser)return null;const k=document.querySelector(`[data-melt-id="${Y}"]`);return isHTMLElement(k)?k:null}const hiddenAction=Y=>new Proxy(Y,{get(T,k,Z){return Reflect.get(T,k,Z)},ownKeys(T){return Reflect.ownKeys(T).filter(k=>k!=="action")}}),isFunctionWithParams=Y=>typeof Y=="function";makeElement("empty");function makeElement(Y,T){const{stores:k,action:Z,returned:ee}=T??{},te=(()=>{if(k&&ee)return derived(k,me=>{const Ve=ee(me);if(isFunctionWithParams(Ve)){const Ye=(...et)=>hiddenAction(removeUndefined({...Ve(...et),[`data-melt-${Y}`]:"",action:Z??noop$1}));return Ye.action=Z??noop$1,Ye}return hiddenAction(removeUndefined({...Ve,[`data-melt-${Y}`]:"",action:Z??noop$1}))});{const me=ee,Ve=me==null?void 0:me();if(isFunctionWithParams(Ve)){const Ye=(...et)=>hiddenAction(removeUndefined({...Ve(...et),[`data-melt-${Y}`]:"",action:Z??noop$1}));return Ye.action=Z??noop$1,lightable(Ye)}return lightable(hiddenAction(removeUndefined({...Ve,[`data-melt-${Y}`]:"",action:Z??noop$1})))}})(),ne=Z??(()=>{});return ne.subscribe=te.subscribe,ne}function createElHelpers(Y){const T=te=>te?`${Y}-${te}`:Y,k=te=>`data-melt-${Y}${te?`-${te}`:""}`,Z=te=>`[data-melt-${Y}${te?`-${te}`:""}]`;return{name:T,attribute:k,selector:Z,getEl:te=>document.querySelector(Z(te))}}const isBrowser=typeof document<"u",isFunction=Y=>typeof Y=="function",isLetter=Y=>/^[a-z]$/i.test(Y);function isShadowRoot(Y){return Y instanceof ShadowRoot}function isElement(Y){return Y instanceof Element}function isHTMLElement(Y){return Y instanceof HTMLElement}function isElementDisabled(Y){const T=Y.getAttribute("aria-disabled"),k=Y.getAttribute("disabled"),Z=Y.hasAttribute("data-disabled");return!!(T==="true"||k!==null||Z)}function isObject(Y){return Y!==null&&typeof Y=="object"}function isReadable(Y){return isObject(Y)&&"subscribe"in Y}function isAttachedToDocument(Y){if(!isHTMLElement(Y))return!1;const T=Y.getRootNode();return T===document?!0:isShadowRoot(T)?T.ownerDocument===document:!1}function isHidden$1(Y){return Y.offsetParent===null}function addEventListener$1(Y,T,k,Z){const ee=Array.isArray(T)?T:[T];return ee.forEach(te=>Y.addEventListener(te,k,Z)),()=>{ee.forEach(te=>Y.removeEventListener(te,k,Z))}}function addMeltEventListener(Y,T,k,Z){const ee=Array.isArray(T)?T:[T];if(typeof k=="function"){const te=withMelt(ne=>k(ne));return ee.forEach(ne=>Y.addEventListener(ne,te,Z)),()=>{ee.forEach(ne=>Y.removeEventListener(ne,te,Z))}}return()=>void 0}function dispatchMeltEvent(Y){const T=Y.currentTarget;if(!isHTMLElement(T))return null;const k=new CustomEvent(`m-${Y.type}`,{detail:{originalEvent:Y},cancelable:!0});return T.dispatchEvent(k),k}function withMelt(Y){return T=>{const k=dispatchMeltEvent(T);if(!(k!=null&&k.defaultPrevented))return Y(T)}}function addHighlight(Y){Y.setAttribute("data-highlighted","")}function removeHighlight(Y){Y.removeAttribute("data-highlighted")}const safeOnMount=Y=>{try{onMount(Y)}catch{return Y}},safeOnDestroy=Y=>{try{onDestroy(Y)}catch{return Y}};function withGet(Y){return{...Y,get:()=>get$1(Y)}}withGet.writable=function(Y){const T=writable(Y);let k=Y;return{subscribe:T.subscribe,set(Z){T.set(Z),k=Z},update(Z){const ee=Z(k);T.set(ee),k=ee},get(){return k}}};withGet.derived=function(Y,T){const k=new Map,Z=()=>{const te=Array.isArray(Y)?Y.map(ne=>ne.get()):Y.get();return T(te)};return{get:Z,subscribe:te=>{const ne=[];return(Array.isArray(Y)?Y:[Y]).forEach(Ve=>{ne.push(Ve.subscribe(()=>{te(Z())}))}),te(Z()),k.set(te,ne),()=>{const Ve=k.get(te);if(Ve)for(const Ye of Ve)Ye();k.delete(te)}}}};const overridable=(Y,T)=>{const k=withGet(Y),Z=(te,ne)=>{k.update(me=>{const Ve=te(me);let Ye=Ve;return T&&(Ye=T({curr:me,next:Ve})),ne==null||ne(Ye),Ye})};return{...k,update:Z,set:te=>{Z(()=>te)}}};function sleep(Y){return new Promise(T=>setTimeout(T,Y))}let urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nanoid=(Y=21)=>{let T="",k=Y|0;for(;k--;)T+=urlAlphabet[Math.random()*64|0];return T};function generateId(){return nanoid(10)}function generateIds(Y){return Y.reduce((T,k)=>(T[k]=generateId(),T),{})}const kbd={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",END:"End",ENTER:"Enter",ESCAPE:"Escape",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SPACE:" ",TAB:"Tab",ASTERISK:"*"},FIRST_KEYS=[kbd.ARROW_DOWN,kbd.PAGE_UP,kbd.HOME],LAST_KEYS=[kbd.ARROW_UP,kbd.PAGE_DOWN,kbd.END],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SELECTION_KEYS=[kbd.ENTER,kbd.SPACE];function debounce$1(Y,T=500){let k;const Z=(...ee)=>{clearTimeout(k),k=setTimeout(()=>Y(...ee),T)};return Z.destroy=()=>clearTimeout(k),Z}const isDom=()=>typeof window<"u";function getPlatform(){const Y=navigator.userAgentData;return(Y==null?void 0:Y.platform)??navigator.platform}const pt=Y=>isDom()&&Y.test(getPlatform().toLowerCase()),ua=Y=>isDom()&&Y.test(navigator.userAgent),isTouchDevice=()=>isDom()&&!!navigator.maxTouchPoints,isMac=()=>pt(/^mac/)&&!isTouchDevice(),isFirefox=()=>ua(/firefox\//i),isApple=()=>pt(/mac|iphone|ipad|ipod/i),isIos=()=>isApple()&&!isMac();function pointInPolygon(Y,T){let k=!1;for(let Z=0,ee=T.length-1;Z<T.length;ee=Z++){const te=T[Z].x,ne=T[Z].y,me=T[ee].x,Ve=T[ee].y;ne>Y.y!=Ve>Y.y&&Y.x<(me-te)*(Y.y-ne)/(Ve-ne)+te&&(k=!k)}return k}const LOCK_CLASSNAME="data-melt-scroll-lock";function assignStyle(Y,T){if(!Y)return;const k=Y.style.cssText;return Object.assign(Y.style,T),()=>{Y.style.cssText=k}}function setCSSProperty(Y,T,k){if(!Y)return;const Z=Y.style.getPropertyValue(T);return Y.style.setProperty(T,k),()=>{Z?Y.style.setProperty(T,Z):Y.style.removeProperty(T)}}function getPaddingProperty(Y){const T=Y.getBoundingClientRect().left;return Math.round(T)+Y.scrollLeft?"paddingLeft":"paddingRight"}function removeScroll(Y){const T=document,k=T.defaultView??window,{documentElement:Z,body:ee}=T;if(ee.hasAttribute(LOCK_CLASSNAME))return noop$1;ee.setAttribute(LOCK_CLASSNAME,"");const ne=k.innerWidth-Z.clientWidth,me=()=>setCSSProperty(Z,"--scrollbar-width",`${ne}px`),Ve=getPaddingProperty(Z),Ye=k.getComputedStyle(ee)[Ve],et=()=>assignStyle(ee,{overflow:"hidden",[Ve]:`calc(${Ye} + ${ne}px)`}),tt=()=>{const{scrollX:st,scrollY:nt,visualViewport:rt}=k,lt=(rt==null?void 0:rt.offsetLeft)??0,ot=(rt==null?void 0:rt.offsetTop)??0,ht=assignStyle(ee,{position:"fixed",overflow:"hidden",top:`${-(nt-Math.floor(ot))}px`,left:`${-(st-Math.floor(lt))}px`,right:"0",[Ve]:`calc(${Ye} + ${ne}px)`});return()=>{ht==null||ht(),k.scrollTo(st,nt)}},it=[me(),isIos()?tt():et()];return()=>{it.forEach(st=>st==null?void 0:st()),ee.removeAttribute(LOCK_CLASSNAME)}}function derivedVisible(Y){const{open:T,forceVisible:k,activeTrigger:Z}=Y;return derived([T,k,Z],([ee,te,ne])=>(ee||te)&&ne!==null)}function effect(Y,T,k={}){const{skipFirstRun:Z}=k;let ee=!0,te;const ne=derived(Y,Ve=>{te==null||te(),ee&&Z?ee=!1:te=T(Ve)}).subscribe(noop$1),me=()=>{ne(),te==null||te()};return safeOnDestroy(me),me}function toWritableStores(Y){const T={};return Object.keys(Y).forEach(k=>{const Z=k,ee=Y[Z];T[Z]=withGet(writable(ee))}),T}function handleRovingFocus(Y){isBrowser&&sleep(1).then(()=>{const T=document.activeElement;!isHTMLElement(T)||T===Y||(T.tabIndex=-1,Y&&(Y.tabIndex=0,Y.focus()))})}function getFocusableElements(){return Array.from(document.querySelectorAll('a[href]:not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])'))}function getNextFocusable(Y){const T=getFocusableElements(),Z=T.indexOf(Y)+1,ee=T[Z];return Z<T.length&&isHTMLElement(ee)?ee:null}function getPreviousFocusable(Y){const T=getFocusableElements(),Z=T.indexOf(Y)-1,ee=T[Z];return Z>=0&&isHTMLElement(ee)?ee:null}const ignoredKeys=new Set(["Shift","Control","Alt","Meta","CapsLock","NumLock"]),defaults$5={onMatch:handleRovingFocus,getCurrentItem:()=>document.activeElement};function createTypeaheadSearch(Y={}){const T={...defaults$5,...Y},k=withGet(writable([])),Z=debounce$1(()=>{k.update(()=>[])});return{typed:k,resetTyped:Z,handleTypeaheadSearch:(te,ne)=>{if(ignoredKeys.has(te))return;const me=T.getCurrentItem(),Ve=get$1(k);if(!Array.isArray(Ve))return;Ve.push(te.toLowerCase()),k.set(Ve);const Ye=ne.filter(lt=>!(lt.getAttribute("disabled")==="true"||lt.getAttribute("aria-disabled")==="true"||lt.hasAttribute("data-disabled"))),tt=Ve.length>1&&Ve.every(lt=>lt===Ve[0])?Ve[0]:Ve.join(""),it=isHTMLElement(me)?Ye.indexOf(me):-1;let st=wrapArray(Ye,Math.max(it,0));tt.length===1&&(st=st.filter(lt=>lt!==me));const rt=st.find(lt=>(lt==null?void 0:lt.innerText)&&lt.innerText.toLowerCase().startsWith(tt.toLowerCase()));isHTMLElement(rt)&&rt!==me&&T.onMatch(rt),Z()}}}function getPortalParent(Y){let T=Y.parentElement;for(;isHTMLElement(T)&&!T.hasAttribute("data-portal");)T=T.parentElement;return T||"body"}function getPortalDestination(Y,T){return T!==void 0?T:getPortalParent(Y)==="body"?document.body:null}function isOrContainsTarget(Y,T){return Y===T||Y.contains(T)}function getOwnerDocument(Y){return(Y==null?void 0:Y.ownerDocument)??document}async function handleFocus(Y){const{prop:T,defaultEl:k}=Y;if(await Promise.all([sleep(1),tick]),T===void 0){k==null||k.focus();return}const Z=isFunction(T)?T(k):T;if(typeof Z=="string"){const ee=document.querySelector(Z);if(!isHTMLElement(ee))return;ee.focus()}else isHTMLElement(Z)&&Z.focus()}function clamp(Y,T,k){return Math.max(Y,Math.min(T,k))}function isPointerInGraceArea(Y,T){return T?pointInPolygon({x:Y.clientX,y:Y.clientY},T):!1}readable(!1),readable(!1),readable(void 0),readable(void 0);const layers$2=new Map,useEscapeKeydown=(Y,T={})=>{let k=noop$1;function Z(ee={}){k();const te={behaviorType:"close",...ee},ne=isReadable(te.behaviorType)?te.behaviorType:withGet(readable(te.behaviorType));layers$2.set(Y,ne),k=executeCallbacks(addEventListener$1(document,"keydown",Ve=>{var et;if(Ve.key!==kbd.ESCAPE||!isResponsibleEscapeLayer(Y))return;const Ye=Ve.target;isHTMLElement(Ye)&&(Ve.preventDefault(),!shouldIgnoreEvent(Ve,te.ignore)&&shouldInvokeResponsibleLayerHandler(ne.get())&&((et=te.handler)==null||et.call(te,Ve)))},{passive:!1}),effect(ne,Ve=>{Ve==="close"||Ve==="defer-otherwise-close"&&[...layers$2.keys()][0]===Y?Y.dataset.escapee="":delete Y.dataset.escapee}),ne.destroy||noop$1)}return Z(T),{update:Z,destroy(){layers$2.delete(Y),delete Y.dataset.escapee,k()}}},isResponsibleEscapeLayer=Y=>{const T=[...layers$2],k=T.findLast(([ee,te])=>{const ne=te.get();return ne==="close"||ne==="ignore"});if(k)return k[0]===Y;const[Z]=T[0];return Z===Y},shouldIgnoreEvent=(Y,T)=>T?!!(isFunction(T)&&T(Y)||Array.isArray(T)&&T.some(k=>Y.target===k)):!1,shouldInvokeResponsibleLayerHandler=Y=>Y==="close"||Y==="defer-otherwise-close",defaultConfig$1={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},ARROW_TRANSFORM={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function isVirtualElement(Y){return isObject(Y)&&"getBoundingClientRect"in Y}function useFloating(Y,T,k={}){if(!T||!Y||k===null)return{destroy:noop$1};const Z={...defaultConfig$1,...k},ee=T.querySelector("[data-arrow=true]"),te=[];Z.flip&&te.push(flip({boundary:Z.boundary,padding:Z.overflowPadding,...isObject(Z.flip)&&Z.flip}));const ne=isHTMLElement(ee)?ee.offsetHeight/2:0;if(Z.gutter||Z.offset){const Ve=Z.gutter?{mainAxis:Z.gutter}:Z.offset;(Ve==null?void 0:Ve.mainAxis)!=null&&(Ve.mainAxis+=ne),te.push(offset(Ve))}te.push(shift({boundary:Z.boundary,crossAxis:Z.overlap,padding:Z.overflowPadding})),ee&&te.push(arrow({element:ee,padding:8})),te.push(size$2({padding:Z.overflowPadding,apply({rects:Ve,availableHeight:Ye,availableWidth:et}){Z.sameWidth&&Object.assign(T.style,{width:`${Math.round(Ve.reference.width)}px`,minWidth:"unset"}),Z.fitViewport&&Object.assign(T.style,{maxWidth:`${et}px`,maxHeight:`${Ye}px`})}}));function me(){if(!Y||!T||!isVirtualElement(Y)&&!isAttachedToDocument(Y))return;const{placement:Ve,strategy:Ye}=Z;computePosition(Y,T,{placement:Ve,middleware:te,strategy:Ye}).then(et=>{const tt=Math.round(et.x),it=Math.round(et.y),[st,nt]=getSideAndAlignFromPlacement(et.placement);if(T.setAttribute("data-side",st),T.setAttribute("data-align",nt),Object.assign(T.style,{position:Z.strategy,top:`${it}px`,left:`${tt}px`}),isHTMLElement(ee)&&et.middlewareData.arrow){const{x:rt,y:lt}=et.middlewareData.arrow,ot=et.placement.split("-")[0];ee.setAttribute("data-side",ot),Object.assign(ee.style,{position:"absolute",left:rt!=null?`${rt}px`:"",top:lt!=null?`${lt}px`:"",[ot]:`calc(100% - ${ne}px)`,transform:ARROW_TRANSFORM[ot],backgroundColor:"inherit",zIndex:"inherit"})}return et})}return Object.assign(T.style,{position:Z.strategy}),{destroy:autoUpdate(Y,T,me)}}function getSideAndAlignFromPlacement(Y){const[T,k="center"]=Y.split("-");return[T,k]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var candidateSelectors=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],candidateSelector=candidateSelectors.join(","),NoElement=typeof Element>"u",matches=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(Y){var T;return Y==null||(T=Y.getRootNode)===null||T===void 0?void 0:T.call(Y)}:function(Y){return Y==null?void 0:Y.ownerDocument},isInert=function Y(T,k){var Z;k===void 0&&(k=!0);var ee=T==null||(Z=T.getAttribute)===null||Z===void 0?void 0:Z.call(T,"inert"),te=ee===""||ee==="true",ne=te||k&&T&&Y(T.parentNode);return ne},isContentEditable=function(T){var k,Z=T==null||(k=T.getAttribute)===null||k===void 0?void 0:k.call(T,"contenteditable");return Z===""||Z==="true"},getCandidates=function(T,k,Z){if(isInert(T))return[];var ee=Array.prototype.slice.apply(T.querySelectorAll(candidateSelector));return k&&matches.call(T,candidateSelector)&&ee.unshift(T),ee=ee.filter(Z),ee},getCandidatesIteratively=function Y(T,k,Z){for(var ee=[],te=Array.from(T);te.length;){var ne=te.shift();if(!isInert(ne,!1))if(ne.tagName==="SLOT"){var me=ne.assignedElements(),Ve=me.length?me:ne.children,Ye=Y(Ve,!0,Z);Z.flatten?ee.push.apply(ee,Ye):ee.push({scopeParent:ne,candidates:Ye})}else{var et=matches.call(ne,candidateSelector);et&&Z.filter(ne)&&(k||!T.includes(ne))&&ee.push(ne);var tt=ne.shadowRoot||typeof Z.getShadowRoot=="function"&&Z.getShadowRoot(ne),it=!isInert(tt,!1)&&(!Z.shadowRootFilter||Z.shadowRootFilter(ne));if(tt&&it){var st=Y(tt===!0?ne.children:tt.children,!0,Z);Z.flatten?ee.push.apply(ee,st):ee.push({scopeParent:ne,candidates:st})}else te.unshift.apply(te,ne.children)}}return ee},hasTabIndex=function(T){return!isNaN(parseInt(T.getAttribute("tabindex"),10))},getTabIndex=function(T){if(!T)throw new Error("No node provided");return T.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(T.tagName)||isContentEditable(T))&&!hasTabIndex(T)?0:T.tabIndex},getSortOrderTabIndex=function(T,k){var Z=getTabIndex(T);return Z<0&&k&&!hasTabIndex(T)?0:Z},sortOrderedTabbables=function(T,k){return T.tabIndex===k.tabIndex?T.documentOrder-k.documentOrder:T.tabIndex-k.tabIndex},isInput=function(T){return T.tagName==="INPUT"},isHiddenInput=function(T){return isInput(T)&&T.type==="hidden"},isDetailsWithSummary=function(T){var k=T.tagName==="DETAILS"&&Array.prototype.slice.apply(T.children).some(function(Z){return Z.tagName==="SUMMARY"});return k},getCheckedRadio=function(T,k){for(var Z=0;Z<T.length;Z++)if(T[Z].checked&&T[Z].form===k)return T[Z]},isTabbableRadio=function(T){if(!T.name)return!0;var k=T.form||getRootNode(T),Z=function(me){return k.querySelectorAll('input[type="radio"][name="'+me+'"]')},ee;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")ee=Z(window.CSS.escape(T.name));else try{ee=Z(T.name)}catch(ne){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",ne.message),!1}var te=getCheckedRadio(ee,T.form);return!te||te===T},isRadio=function(T){return isInput(T)&&T.type==="radio"},isNonTabbableRadio=function(T){return isRadio(T)&&!isTabbableRadio(T)},isNodeAttached=function(T){var k,Z=T&&getRootNode(T),ee=(k=Z)===null||k===void 0?void 0:k.host,te=!1;if(Z&&Z!==T){var ne,me,Ve;for(te=!!((ne=ee)!==null&&ne!==void 0&&(me=ne.ownerDocument)!==null&&me!==void 0&&me.contains(ee)||T!=null&&(Ve=T.ownerDocument)!==null&&Ve!==void 0&&Ve.contains(T));!te&&ee;){var Ye,et,tt;Z=getRootNode(ee),ee=(Ye=Z)===null||Ye===void 0?void 0:Ye.host,te=!!((et=ee)!==null&&et!==void 0&&(tt=et.ownerDocument)!==null&&tt!==void 0&&tt.contains(ee))}}return te},isZeroArea=function(T){var k=T.getBoundingClientRect(),Z=k.width,ee=k.height;return Z===0&&ee===0},isHidden=function(T,k){var Z=k.displayCheck,ee=k.getShadowRoot;if(getComputedStyle(T).visibility==="hidden")return!0;var te=matches.call(T,"details>summary:first-of-type"),ne=te?T.parentElement:T;if(matches.call(ne,"details:not([open]) *"))return!0;if(!Z||Z==="full"||Z==="legacy-full"){if(typeof ee=="function"){for(var me=T;T;){var Ve=T.parentElement,Ye=getRootNode(T);if(Ve&&!Ve.shadowRoot&&ee(Ve)===!0)return isZeroArea(T);T.assignedSlot?T=T.assignedSlot:!Ve&&Ye!==T.ownerDocument?T=Ye.host:T=Ve}T=me}if(isNodeAttached(T))return!T.getClientRects().length;if(Z!=="legacy-full")return!0}else if(Z==="non-zero-area")return isZeroArea(T);return!1},isDisabledFromFieldset=function(T){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(T.tagName))for(var k=T.parentElement;k;){if(k.tagName==="FIELDSET"&&k.disabled){for(var Z=0;Z<k.children.length;Z++){var ee=k.children.item(Z);if(ee.tagName==="LEGEND")return matches.call(k,"fieldset[disabled] *")?!0:!ee.contains(T)}return!0}k=k.parentElement}return!1},isNodeMatchingSelectorFocusable=function(T,k){return!(k.disabled||isInert(k)||isHiddenInput(k)||isHidden(k,T)||isDetailsWithSummary(k)||isDisabledFromFieldset(k))},isNodeMatchingSelectorTabbable=function(T,k){return!(isNonTabbableRadio(k)||getTabIndex(k)<0||!isNodeMatchingSelectorFocusable(T,k))},isValidShadowRootTabbable=function(T){var k=parseInt(T.getAttribute("tabindex"),10);return!!(isNaN(k)||k>=0)},sortByOrder=function Y(T){var k=[],Z=[];return T.forEach(function(ee,te){var ne=!!ee.scopeParent,me=ne?ee.scopeParent:ee,Ve=getSortOrderTabIndex(me,ne),Ye=ne?Y(ee.candidates):me;Ve===0?ne?k.push.apply(k,Ye):k.push(me):Z.push({documentOrder:te,tabIndex:Ve,item:ee,isScope:ne,content:Ye})}),Z.sort(sortOrderedTabbables).reduce(function(ee,te){return te.isScope?ee.push.apply(ee,te.content):ee.push(te.content),ee},[]).concat(k)},tabbable=function(T,k){k=k||{};var Z;return k.getShadowRoot?Z=getCandidatesIteratively([T],k.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,k),flatten:!1,getShadowRoot:k.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):Z=getCandidates(T,k.includeContainer,isNodeMatchingSelectorTabbable.bind(null,k)),sortByOrder(Z)},focusable=function(T,k){k=k||{};var Z;return k.getShadowRoot?Z=getCandidatesIteratively([T],k.includeContainer,{filter:isNodeMatchingSelectorFocusable.bind(null,k),flatten:!0,getShadowRoot:k.getShadowRoot}):Z=getCandidates(T,k.includeContainer,isNodeMatchingSelectorFocusable.bind(null,k)),Z},isTabbable=function(T,k){if(k=k||{},!T)throw new Error("No node provided");return matches.call(T,candidateSelector)===!1?!1:isNodeMatchingSelectorTabbable(k,T)},focusableCandidateSelector=candidateSelectors.concat("iframe").join(","),isFocusable=function(T,k){if(k=k||{},!T)throw new Error("No node provided");return matches.call(T,focusableCandidateSelector)===!1?!1:isNodeMatchingSelectorFocusable(k,T)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function _arrayLikeToArray(Y,T){(T==null||T>Y.length)&&(T=Y.length);for(var k=0,Z=Array(T);k<T;k++)Z[k]=Y[k];return Z}function _arrayWithoutHoles(Y){if(Array.isArray(Y))return _arrayLikeToArray(Y)}function _defineProperty(Y,T,k){return(T=_toPropertyKey(T))in Y?Object.defineProperty(Y,T,{value:k,enumerable:!0,configurable:!0,writable:!0}):Y[T]=k,Y}function _iterableToArray(Y){if(typeof Symbol<"u"&&Y[Symbol.iterator]!=null||Y["@@iterator"]!=null)return Array.from(Y)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(Y,T){var k=Object.keys(Y);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(Y);T&&(Z=Z.filter(function(ee){return Object.getOwnPropertyDescriptor(Y,ee).enumerable})),k.push.apply(k,Z)}return k}function _objectSpread2(Y){for(var T=1;T<arguments.length;T++){var k=arguments[T]!=null?arguments[T]:{};T%2?ownKeys(Object(k),!0).forEach(function(Z){_defineProperty(Y,Z,k[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(k)):ownKeys(Object(k)).forEach(function(Z){Object.defineProperty(Y,Z,Object.getOwnPropertyDescriptor(k,Z))})}return Y}function _toConsumableArray(Y){return _arrayWithoutHoles(Y)||_iterableToArray(Y)||_unsupportedIterableToArray(Y)||_nonIterableSpread()}function _toPrimitive(Y,T){if(typeof Y!="object"||!Y)return Y;var k=Y[Symbol.toPrimitive];if(k!==void 0){var Z=k.call(Y,T);if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(Y)}function _toPropertyKey(Y){var T=_toPrimitive(Y,"string");return typeof T=="symbol"?T:T+""}function _unsupportedIterableToArray(Y,T){if(Y){if(typeof Y=="string")return _arrayLikeToArray(Y,T);var k={}.toString.call(Y).slice(8,-1);return k==="Object"&&Y.constructor&&(k=Y.constructor.name),k==="Map"||k==="Set"?Array.from(Y):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?_arrayLikeToArray(Y,T):void 0}}var activeFocusTraps={activateTrap:function(T,k){if(T.length>0){var Z=T[T.length-1];Z!==k&&Z._setPausedState(!0)}var ee=T.indexOf(k);ee===-1||T.splice(ee,1),T.push(k)},deactivateTrap:function(T,k){var Z=T.indexOf(k);Z!==-1&&T.splice(Z,1),T.length>0&&!T[T.length-1]._isManuallyPaused()&&T[T.length-1]._setPausedState(!1)}},isSelectableInput=function(T){return T.tagName&&T.tagName.toLowerCase()==="input"&&typeof T.select=="function"},isEscapeEvent=function(T){return(T==null?void 0:T.key)==="Escape"||(T==null?void 0:T.key)==="Esc"||(T==null?void 0:T.keyCode)===27},isTabEvent=function(T){return(T==null?void 0:T.key)==="Tab"||(T==null?void 0:T.keyCode)===9},isKeyForward=function(T){return isTabEvent(T)&&!T.shiftKey},isKeyBackward=function(T){return isTabEvent(T)&&T.shiftKey},delay=function(T){return setTimeout(T,0)},valueOrHandler=function(T){for(var k=arguments.length,Z=new Array(k>1?k-1:0),ee=1;ee<k;ee++)Z[ee-1]=arguments[ee];return typeof T=="function"?T.apply(void 0,Z):T},getActualTarget=function(T){return T.target.shadowRoot&&typeof T.composedPath=="function"?T.composedPath()[0]:T.target},internalTrapStack=[],createFocusTrap=function(T,k){var Z=(k==null?void 0:k.document)||document,ee=(k==null?void 0:k.trapStack)||internalTrapStack,te=_objectSpread2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward,isKeyBackward},k),ne={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},me,Ve=function(yt,St,At){return yt&&yt[St]!==void 0?yt[St]:te[At||St]},Ye=function(yt,St){var At=typeof(St==null?void 0:St.composedPath)=="function"?St.composedPath():void 0;return ne.containerGroups.findIndex(function(Ct){var It=Ct.container,Ot=Ct.tabbableNodes;return It.contains(yt)||(At==null?void 0:At.includes(It))||Ot.find(function(Dt){return Dt===yt})})},et=function(yt){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},At=St.hasFallback,Ct=At===void 0?!1:At,It=St.params,Ot=It===void 0?[]:It,Dt=te[yt];if(typeof Dt=="function"&&(Dt=Dt.apply(void 0,_toConsumableArray(Ot))),Dt===!0&&(Dt=void 0),!Dt){if(Dt===void 0||Dt===!1)return Dt;throw new Error("`".concat(yt,"` was specified but was not a node, or did not return a node"))}var Mt=Dt;if(typeof Dt=="string"){try{Mt=Z.querySelector(Dt)}catch($t){throw new Error("`".concat(yt,'` appears to be an invalid selector; error="').concat($t.message,'"'))}if(!Mt&&!Ct)throw new Error("`".concat(yt,"` as selector refers to no known node"))}return Mt},tt=function(){var yt=et("initialFocus",{hasFallback:!0});if(yt===!1)return!1;if(yt===void 0||yt&&!isFocusable(yt,te.tabbableOptions))if(Ye(Z.activeElement)>=0)yt=Z.activeElement;else{var St=ne.tabbableGroups[0],At=St&&St.firstTabbableNode;yt=At||et("fallbackFocus")}else yt===null&&(yt=et("fallbackFocus"));if(!yt)throw new Error("Your focus-trap needs to have at least one focusable element");return yt},it=function(){if(ne.containerGroups=ne.containers.map(function(yt){var St=tabbable(yt,te.tabbableOptions),At=focusable(yt,te.tabbableOptions),Ct=St.length>0?St[0]:void 0,It=St.length>0?St[St.length-1]:void 0,Ot=At.find(function($t){return isTabbable($t)}),Dt=At.slice().reverse().find(function($t){return isTabbable($t)}),Mt=!!St.find(function($t){return getTabIndex($t)>0});return{container:yt,tabbableNodes:St,focusableNodes:At,posTabIndexesFound:Mt,firstTabbableNode:Ct,lastTabbableNode:It,firstDomTabbableNode:Ot,lastDomTabbableNode:Dt,nextTabbableNode:function(Ht){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,jt=St.indexOf(Ht);return jt<0?Ft?At.slice(At.indexOf(Ht)+1).find(function(Gt){return isTabbable(Gt)}):At.slice(0,At.indexOf(Ht)).reverse().find(function(Gt){return isTabbable(Gt)}):St[jt+(Ft?1:-1)]}}}),ne.tabbableGroups=ne.containerGroups.filter(function(yt){return yt.tabbableNodes.length>0}),ne.tabbableGroups.length<=0&&!et("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(ne.containerGroups.find(function(yt){return yt.posTabIndexesFound})&&ne.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},st=function(yt){var St=yt.activeElement;if(St)return St.shadowRoot&&St.shadowRoot.activeElement!==null?st(St.shadowRoot):St},nt=function(yt){if(yt!==!1&&yt!==st(document)){if(!yt||!yt.focus){nt(tt());return}yt.focus({preventScroll:!!te.preventScroll}),ne.mostRecentlyFocusedNode=yt,isSelectableInput(yt)&&yt.select()}},rt=function(yt){var St=et("setReturnFocus",{params:[yt]});return St||(St===!1?!1:yt)},lt=function(yt){var St=yt.target,At=yt.event,Ct=yt.isBackward,It=Ct===void 0?!1:Ct;St=St||getActualTarget(At),it();var Ot=null;if(ne.tabbableGroups.length>0){var Dt=Ye(St,At),Mt=Dt>=0?ne.containerGroups[Dt]:void 0;if(Dt<0)It?Ot=ne.tabbableGroups[ne.tabbableGroups.length-1].lastTabbableNode:Ot=ne.tabbableGroups[0].firstTabbableNode;else if(It){var $t=ne.tabbableGroups.findIndex(function(Pt){var kt=Pt.firstTabbableNode;return St===kt});if($t<0&&(Mt.container===St||isFocusable(St,te.tabbableOptions)&&!isTabbable(St,te.tabbableOptions)&&!Mt.nextTabbableNode(St,!1))&&($t=Dt),$t>=0){var Ht=$t===0?ne.tabbableGroups.length-1:$t-1,Ft=ne.tabbableGroups[Ht];Ot=getTabIndex(St)>=0?Ft.lastTabbableNode:Ft.lastDomTabbableNode}else isTabEvent(At)||(Ot=Mt.nextTabbableNode(St,!1))}else{var jt=ne.tabbableGroups.findIndex(function(Pt){var kt=Pt.lastTabbableNode;return St===kt});if(jt<0&&(Mt.container===St||isFocusable(St,te.tabbableOptions)&&!isTabbable(St,te.tabbableOptions)&&!Mt.nextTabbableNode(St))&&(jt=Dt),jt>=0){var Gt=jt===ne.tabbableGroups.length-1?0:jt+1,Kt=ne.tabbableGroups[Gt];Ot=getTabIndex(St)>=0?Kt.firstTabbableNode:Kt.firstDomTabbableNode}else isTabEvent(At)||(Ot=Mt.nextTabbableNode(St))}}else Ot=et("fallbackFocus");return Ot},ot=function(yt){var St=getActualTarget(yt);if(!(Ye(St,yt)>=0)){if(valueOrHandler(te.clickOutsideDeactivates,yt)){me.deactivate({returnFocus:te.returnFocusOnDeactivate});return}valueOrHandler(te.allowOutsideClick,yt)||yt.preventDefault()}},ht=function(yt){var St=getActualTarget(yt),At=Ye(St,yt)>=0;if(At||St instanceof Document)At&&(ne.mostRecentlyFocusedNode=St);else{yt.stopImmediatePropagation();var Ct,It=!0;if(ne.mostRecentlyFocusedNode)if(getTabIndex(ne.mostRecentlyFocusedNode)>0){var Ot=Ye(ne.mostRecentlyFocusedNode),Dt=ne.containerGroups[Ot].tabbableNodes;if(Dt.length>0){var Mt=Dt.findIndex(function($t){return $t===ne.mostRecentlyFocusedNode});Mt>=0&&(te.isKeyForward(ne.recentNavEvent)?Mt+1<Dt.length&&(Ct=Dt[Mt+1],It=!1):Mt-1>=0&&(Ct=Dt[Mt-1],It=!1))}}else ne.containerGroups.some(function($t){return $t.tabbableNodes.some(function(Ht){return getTabIndex(Ht)>0})})||(It=!1);else It=!1;It&&(Ct=lt({target:ne.mostRecentlyFocusedNode,isBackward:te.isKeyBackward(ne.recentNavEvent)})),nt(Ct||ne.mostRecentlyFocusedNode||tt())}ne.recentNavEvent=void 0},dt=function(yt){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ne.recentNavEvent=yt;var At=lt({event:yt,isBackward:St});At&&(isTabEvent(yt)&&yt.preventDefault(),nt(At))},ct=function(yt){(te.isKeyForward(yt)||te.isKeyBackward(yt))&&dt(yt,te.isKeyBackward(yt))},ut=function(yt){isEscapeEvent(yt)&&valueOrHandler(te.escapeDeactivates,yt)!==!1&&(yt.preventDefault(),me.deactivate())},ft=function(yt){var St=getActualTarget(yt);Ye(St,yt)>=0||valueOrHandler(te.clickOutsideDeactivates,yt)||valueOrHandler(te.allowOutsideClick,yt)||(yt.preventDefault(),yt.stopImmediatePropagation())},vt=function(){if(ne.active)return activeFocusTraps.activateTrap(ee,me),ne.delayInitialFocusTimer=te.delayInitialFocus?delay(function(){nt(tt())}):nt(tt()),Z.addEventListener("focusin",ht,!0),Z.addEventListener("mousedown",ot,{capture:!0,passive:!1}),Z.addEventListener("touchstart",ot,{capture:!0,passive:!1}),Z.addEventListener("click",ft,{capture:!0,passive:!1}),Z.addEventListener("keydown",ct,{capture:!0,passive:!1}),Z.addEventListener("keydown",ut),me},mt=function(){if(ne.active)return Z.removeEventListener("focusin",ht,!0),Z.removeEventListener("mousedown",ot,!0),Z.removeEventListener("touchstart",ot,!0),Z.removeEventListener("click",ft,!0),Z.removeEventListener("keydown",ct,!0),Z.removeEventListener("keydown",ut),me},_t=function(yt){var St=yt.some(function(At){var Ct=Array.from(At.removedNodes);return Ct.some(function(It){return It===ne.mostRecentlyFocusedNode})});St&&nt(tt())},Et=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(_t):void 0,Tt=function(){Et&&(Et.disconnect(),ne.active&&!ne.paused&&ne.containers.map(function(yt){Et.observe(yt,{subtree:!0,childList:!0})}))};return me={get active(){return ne.active},get paused(){return ne.paused},activate:function(yt){if(ne.active)return this;var St=Ve(yt,"onActivate"),At=Ve(yt,"onPostActivate"),Ct=Ve(yt,"checkCanFocusTrap");Ct||it(),ne.active=!0,ne.paused=!1,ne.nodeFocusedBeforeActivation=Z.activeElement,St==null||St();var It=function(){Ct&&it(),vt(),Tt(),At==null||At()};return Ct?(Ct(ne.containers.concat()).then(It,It),this):(It(),this)},deactivate:function(yt){if(!ne.active)return this;var St=_objectSpread2({onDeactivate:te.onDeactivate,onPostDeactivate:te.onPostDeactivate,checkCanReturnFocus:te.checkCanReturnFocus},yt);clearTimeout(ne.delayInitialFocusTimer),ne.delayInitialFocusTimer=void 0,mt(),ne.active=!1,ne.paused=!1,Tt(),activeFocusTraps.deactivateTrap(ee,me);var At=Ve(St,"onDeactivate"),Ct=Ve(St,"onPostDeactivate"),It=Ve(St,"checkCanReturnFocus"),Ot=Ve(St,"returnFocus","returnFocusOnDeactivate");At==null||At();var Dt=function(){delay(function(){Ot&&nt(rt(ne.nodeFocusedBeforeActivation)),Ct==null||Ct()})};return Ot&&It?(It(rt(ne.nodeFocusedBeforeActivation)).then(Dt,Dt),this):(Dt(),this)},pause:function(yt){return ne.active?(ne.manuallyPaused=!0,this._setPausedState(!0,yt)):this},unpause:function(yt){return ne.active?(ne.manuallyPaused=!1,ee[ee.length-1]!==this?this:this._setPausedState(!1,yt)):this},updateContainerElements:function(yt){var St=[].concat(yt).filter(Boolean);return ne.containers=St.map(function(At){return typeof At=="string"?Z.querySelector(At):At}),ne.active&&it(),Tt(),this}},Object.defineProperties(me,{_isManuallyPaused:{value:function(){return ne.manuallyPaused}},_setPausedState:{value:function(yt,St){if(ne.paused===yt)return this;if(ne.paused=yt,yt){var At=Ve(St,"onPause"),Ct=Ve(St,"onPostPause");At==null||At(),mt(),Tt(),Ct==null||Ct()}else{var It=Ve(St,"onUnpause"),Ot=Ve(St,"onPostUnpause");It==null||It(),it(),vt(),Tt(),Ot==null||Ot()}return this}}}),me.updateContainerElements(T),me};const useFocusTrap=(Y,T={})=>{let k=noop$1;const Z=ee=>{k();const te=createFocusTrap(Y,{returnFocusOnDeactivate:!1,allowOutsideClick:!0,escapeDeactivates:!1,clickOutsideDeactivates:!1,...ee});k=te.deactivate,te.activate()};return Z(T),{destroy:k,update:Z}},useModal=(Y,T)=>{let k=noop$1;function Z(ee){k();const{onClose:te,shouldCloseOnInteractOutside:ne,closeOnInteractOutside:me}=ee;function Ve(){te==null||te()}function Ye(tt){const it=tt.target;isElement(it)&&tt.stopImmediatePropagation()}function et(tt){ne!=null&&ne(tt)&&(tt.stopImmediatePropagation(),Ve())}k=useInteractOutside(Y,{onInteractOutsideStart:Ye,onInteractOutside:me?et:void 0,enabled:me}).destroy}return Z(T),{update:Z,destroy(){k()}}},layers$1=new Set,usePreventTextSelectionOverflow=(Y,T={})=>{layers$1.add(Y);let k=noop$1,Z=noop$1;const ee=getOwnerDocument(Y);let te=!1;const ne=Ve=>{k(),me();const Ye={enabled:!0,...Ve},et=isReadable(Ye.enabled)?Ye.enabled:withGet(readable(Ye.enabled));k=executeCallbacks(addEventListener$1(ee,"pointerdown",it=>{const st=it.target;!isHighestLayer$1(Y)||!isHTMLElement(st)||!et.get()||(te=isOrContainsTarget(Y,st),te&&(Z=preventTextSelectionOverflow(Y)))},!0),addEventListener$1(ee,"pointerup",me,!0))},me=()=>{Z(),Z=noop$1,te=!1};return ne(T),{destroy(){layers$1.delete(Y),k(),me()},update:ne}},preventTextSelectionOverflow=Y=>{const T=document.body,k=getUserSelect(T),Z=getUserSelect(Y);return setUserSelect(T,"none"),setUserSelect(Y,"text"),()=>{setUserSelect(T,k),setUserSelect(Y,Z)}},getUserSelect=Y=>Y.style.userSelect||Y.style.webkitUserSelect,setUserSelect=(Y,T)=>{Y.style.userSelect=T,Y.style.webkitUserSelect=T},isHighestLayer$1=Y=>[...layers$1].at(-1)===Y,defaultConfig={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:"body",preventTextSelectionOverflow:{}},usePopper=(Y,T)=>{Y.dataset.escapee="";const{anchorElement:k,open:Z,options:ee}=T;if(!k||!Z||!ee)return{destroy:noop$1};const te={...defaultConfig,...ee},ne=[];te.portal!==null&&ne.push(usePortal(Y,te.portal).destroy),ne.push(useFloating(k,Y,te.floating).destroy),te.focusTrap!==null&&ne.push(useFocusTrap(Y,{fallbackFocus:Y,...te.focusTrap}).destroy),te.modal!==null&&ne.push(useModal(Y,{onClose:()=>{isHTMLElement(k)&&(Z.set(!1),k.focus())},shouldCloseOnInteractOutside:Ve=>!(Ve.defaultPrevented||isHTMLElement(k)&&k.contains(Ve.target)),...te.modal}).destroy),te.escapeKeydown!==null&&ne.push(useEscapeKeydown(Y,{handler:()=>{Z.set(!1)},...te.escapeKeydown}).destroy),te.preventTextSelectionOverflow!==null&&ne.push(usePreventTextSelectionOverflow(Y).destroy);const me=executeCallbacks(...ne);return{destroy(){me()}}},usePortal=(Y,T="body")=>{let k;if(!isHTMLElement(T)&&typeof T!="string")return{destroy:noop$1};async function Z(te="body"){if(T=te,typeof T=="string"){if(k=document.querySelector(T),k===null&&(await tick(),k=document.querySelector(T)),k===null)throw new Error(`No element found matching css selector: "${T}"`)}else if(T instanceof HTMLElement)k=T;else throw new TypeError(`Unknown portal target type: ${T===null?"null":typeof T}. Allowed types: string (CSS selector) or HTMLElement.`);Y.dataset.portal="",k.appendChild(Y),Y.hidden=!1}function ee(){Y.remove()}return Z(T),{update:Z,destroy:ee}},layers=new Set,useInteractOutside=(Y,T={})=>{let k=noop$1,Z=noop$1,ee=noop$1,te=noop$1;layers.add(Y);const ne=getOwnerDocument(Y);let me=!1,Ve=!1;const Ye={pointerdown:!1,pointerup:!1,mousedown:!1,mouseup:!1,touchstart:!1,touchend:!1,click:!1},et=()=>{for(const ot in Ye)Ye[ot]=!1},tt=()=>{for(const ot of Object.values(Ye))if(ot)return!0;return!1},it=(ot,ht)=>addEventListener$1(ne,ot,dt=>{Ye[ot]=!0,ht==null||ht(dt)},!0),st=(ot,ht)=>addEventListener$1(ne,ot,dt=>{Ye[ot]=!1;const ct={};isHTMLElement(dt.target)&&isShadowRoot(dt.target.shadowRoot)&&(ct.shadowTarget=dt.composedPath()[0]),ht==null||ht(dt,ct)});function nt(ot){k(),Z(),ee(),te(),et();const{onInteractOutside:ht,onInteractOutsideStart:dt,enabled:ct}={enabled:!0,...ot};if(!ct)return;let ut=!1;const ft=debounce$1((Et,Tt)=>{if(!ut||tt())return;ht&&isValidEvent(Et,Y)&&(dt==null||dt(Et));const xt=Tt!=null&&Tt.shadowTarget?Tt.shadowTarget:Et.target;isElement(xt)&&isOrContainsTarget(Y,xt)&&(Ve=!0),me=!0},10);Z=ft.destroy;const vt=debounce$1(Et=>{ut&&!tt()&&rt(Et)&&(ht==null||ht(Et)),lt()},10);ee=vt.destroy;const mt=debounce$1(et,20);te=mt.destroy;const _t=()=>{ut=isHighestLayer(Y)};k=executeCallbacks(it("pointerdown",_t),it("mousedown",_t),it("touchstart",_t),it("pointerup",mt),it("mouseup",mt),it("touchend",mt),it("click",mt),st("pointerdown",ft),st("mousedown",ft),st("touchstart",ft),st("pointerup",vt),st("mouseup",vt),st("touchend",vt),st("click",vt))}function rt(ot){return!!(me&&!Ve&&isValidEvent(ot,Y))}function lt(){me=!1,Ve=!1}return nt(T),{update:nt,destroy(){k(),Z(),ee(),te(),layers.delete(Y)}}};function isValidEvent(Y,T){if("button"in Y&&Y.button>0)return!1;const k=Y.target;if(!isElement(k))return!1;const Z=k.ownerDocument;return!Z||!Z.documentElement.contains(k)?!1:T&&!isOrContainsTarget(T,k)}function isHighestLayer(Y){return Array.from(layers).at(-1)===Y}const SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,kbd.ARROW_RIGHT]},SUB_CLOSE_KEYS={ltr:[kbd.ARROW_LEFT]},menuIdParts=["menu","trigger"],defaults$4={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,escapeBehavior:"close",closeOnOutsideClick:!0,portal:"body",loop:!1,dir:"ltr",defaultOpen:!1,typeahead:!0,closeOnItemClick:!0,onOutsideClick:void 0,preventTextSelectionOverflow:!0};function createMenuBuilder(Y){const{name:T,selector:k}=createElHelpers(Y.selector),{preventScroll:Z,arrowSize:ee,positioning:te,escapeBehavior:ne,closeOnOutsideClick:me,portal:Ve,forceVisible:Ye,typeahead:et,loop:tt,closeFocus:it,disableFocusFirstItem:st,closeOnItemClick:nt,onOutsideClick:rt,preventTextSelectionOverflow:lt}=Y.rootOptions,ot=Y.rootOpen,ht=Y.rootActiveTrigger,dt=Y.nextFocusable,ct=Y.prevFocusable,ut=withGet.writable(!1),ft=withGet(writable(0)),vt=withGet(writable(null)),mt=withGet(writable("right")),_t=withGet(writable(null)),Et=withGet(derived([mt,vt],([Bt,ai])=>ci=>Bt===(ai==null?void 0:ai.side)&&isPointerInGraceArea(ci,ai==null?void 0:ai.area))),{typed:Tt,handleTypeaheadSearch:xt}=createTypeaheadSearch(),yt=toWritableStores({...generateIds(menuIdParts),...Y.ids}),St=derivedVisible({open:ot,forceVisible:Ye,activeTrigger:ht}),At=makeElement(T(),{stores:[St,ot,ht,Ve,yt.menu,yt.trigger],returned:([Bt,ai,ci,yi,Ci,Vi])=>({role:"menu",hidden:Bt?void 0:!0,style:Bt?void 0:styleToString({display:"none"}),id:Ci,"aria-labelledby":Vi,"data-state":ai&&ci?"open":"closed","data-portal":portalAttr(yi),tabindex:-1}),action:Bt=>{let ai=noop$1;const ci=effect([St,ht,te,me,Ve],([Ci,Vi,ii,ui,hi])=>{ai(),!(!Ci||!Vi)&&tick().then(()=>{ai(),setMeltMenuAttribute(Bt,k),ai=usePopper(Bt,{anchorElement:Vi,open:ot,options:{floating:ii,modal:{closeOnInteractOutside:ui,shouldCloseOnInteractOutside:ri=>{var bi;return(bi=rt.get())==null||bi(ri),!(ri.defaultPrevented||isHTMLElement(Vi)&&Vi.contains(ri.target))},onClose:()=>ot.set(!1)},portal:getPortalDestination(Bt,hi),escapeKeydown:{behaviorType:ne},preventTextSelectionOverflow:{enabled:lt}}}).destroy})}),yi=executeCallbacks(addMeltEventListener(Bt,"keydown",Ci=>{const Vi=Ci.target,ii=Ci.currentTarget;if(!isHTMLElement(Vi)||!isHTMLElement(ii)||!(Vi.closest('[role="menu"]')===ii))return;if(FIRST_LAST_KEYS.includes(Ci.key)&&handleMenuNavigation(Ci,tt.get()??!1),Ci.key===kbd.TAB){Ci.preventDefault(),ot.set(!1),handleTabNavigation(Ci,dt,ct);return}const hi=Ci.key.length===1;!(Ci.ctrlKey||Ci.altKey||Ci.metaKey)&&hi&&et.get()===!0&&xt(Ci.key,getMenuItems(ii))}));return{destroy(){ci(),yi(),ai()}}}}),Ct=makeElement(T("trigger"),{stores:[ot,yt.menu,yt.trigger],returned:([Bt,ai,ci])=>({"aria-controls":ai,"aria-expanded":Bt,"data-state":Bt?"open":"closed",id:ci,tabindex:0}),action:Bt=>(applyAttrsIfDisabled(Bt),ht.update(ci=>ci||Bt),{destroy:executeCallbacks(addMeltEventListener(Bt,"click",ci=>{const yi=ot.get(),Ci=ci.currentTarget;isHTMLElement(Ci)&&(kt(Ci),yi||ci.preventDefault())}),addMeltEventListener(Bt,"keydown",ci=>{const yi=ci.currentTarget;if(!isHTMLElement(yi)||!(SELECTION_KEYS.includes(ci.key)||ci.key===kbd.ARROW_DOWN))return;ci.preventDefault(),kt(yi);const Ci=yi.getAttribute("aria-controls");if(!Ci)return;const Vi=document.getElementById(Ci);if(!Vi)return;const ii=getMenuItems(Vi);ii.length&&handleRovingFocus(ii[0])}))})}),It=makeElement(T("arrow"),{stores:ee,returned:Bt=>({"data-arrow":!0,style:styleToString({position:"absolute",width:`var(--arrow-size, ${Bt}px)`,height:`var(--arrow-size, ${Bt}px)`})})}),Ot=makeElement(T("overlay"),{stores:[St],returned:([Bt])=>({hidden:Bt?void 0:!0,tabindex:-1,style:styleToString({display:Bt?void 0:"none"}),"aria-hidden":"true","data-state":stateAttr(Bt)}),action:Bt=>{const ai=effect([Ve],([ci])=>{if(ci===null)return noop$1;const yi=getPortalDestination(Bt,ci);return yi===null?noop$1:usePortal(Bt,yi).destroy});return{destroy(){ai()}}}}),Dt=makeElement(T("item"),{returned:()=>({role:"menuitem",tabindex:-1,"data-orientation":"vertical"}),action:Bt=>(setMeltMenuAttribute(Bt,k),applyAttrsIfDisabled(Bt),{destroy:executeCallbacks(addMeltEventListener(Bt,"pointerdown",ci=>{const yi=ci.currentTarget;if(isHTMLElement(yi)&&isElementDisabled(yi)){ci.preventDefault();return}}),addMeltEventListener(Bt,"click",ci=>{const yi=ci.currentTarget;if(isHTMLElement(yi)){if(isElementDisabled(yi)){ci.preventDefault();return}if(ci.defaultPrevented){handleRovingFocus(yi);return}nt.get()&&sleep(1).then(()=>{ot.set(!1)})}}),addMeltEventListener(Bt,"keydown",ci=>{Qt(ci)}),addMeltEventListener(Bt,"pointermove",ci=>{ti(ci)}),addMeltEventListener(Bt,"pointerleave",ci=>{di(ci)}),addMeltEventListener(Bt,"focusin",ci=>{zt(ci)}),addMeltEventListener(Bt,"focusout",ci=>{Wt(ci)}))})}),Mt=makeElement(T("group"),{returned:()=>Bt=>({role:"group","aria-labelledby":Bt})}),$t=makeElement(T("group-label"),{returned:()=>Bt=>({id:Bt})}),Ht={defaultChecked:!1,disabled:!1},Ft=Bt=>{const ai={...Ht,...Bt},ci=ai.checked??writable(ai.defaultChecked??null),yi=overridable(ci,ai.onCheckedChange),Ci=writable(ai.disabled),Vi=makeElement(T("checkbox-item"),{stores:[yi,Ci],returned:([hi,ri])=>({role:"menuitemcheckbox",tabindex:-1,"data-orientation":"vertical","aria-checked":Si(hi)?"mixed":hi?"true":"false","data-disabled":disabledAttr(ri),"data-state":Ti(hi)}),action:hi=>(setMeltMenuAttribute(hi,k),applyAttrsIfDisabled(hi),{destroy:executeCallbacks(addMeltEventListener(hi,"pointerdown",bi=>{const gi=bi.currentTarget;if(isHTMLElement(gi)&&isElementDisabled(gi)){bi.preventDefault();return}}),addMeltEventListener(hi,"click",bi=>{const gi=bi.currentTarget;if(isHTMLElement(gi)){if(isElementDisabled(gi)){bi.preventDefault();return}if(bi.defaultPrevented){handleRovingFocus(gi);return}yi.update(fi=>Si(fi)?!0:!fi),nt.get()&&tick().then(()=>{ot.set(!1)})}}),addMeltEventListener(hi,"keydown",bi=>{Qt(bi)}),addMeltEventListener(hi,"pointermove",bi=>{const gi=bi.currentTarget;if(isHTMLElement(gi)){if(isElementDisabled(gi)){ei(bi);return}ti(bi,gi)}}),addMeltEventListener(hi,"pointerleave",bi=>{di(bi)}),addMeltEventListener(hi,"focusin",bi=>{zt(bi)}),addMeltEventListener(hi,"focusout",bi=>{Wt(bi)}))})}),ii=derived(yi,hi=>hi===!0),ui=derived(yi,hi=>hi==="indeterminate");return{elements:{checkboxItem:Vi},states:{checked:yi},helpers:{isChecked:ii,isIndeterminate:ui},options:{disabled:Ci}}},jt=(Bt={})=>{const ai=Bt.value??writable(Bt.defaultValue??null),ci=overridable(ai,Bt.onValueChange),yi=makeElement(T("radio-group"),{returned:()=>({role:"group"})}),Ci={disabled:!1},Vi=makeElement(T("radio-item"),{stores:[ci],returned:([ui])=>hi=>{const{value:ri,disabled:bi}={...Ci,...hi},gi=ui===ri;return{disabled:bi,role:"menuitemradio","data-state":gi?"checked":"unchecked","aria-checked":gi,"data-disabled":disabledAttr(bi),"data-value":ri,"data-orientation":"vertical",tabindex:-1}},action:ui=>(setMeltMenuAttribute(ui,k),{destroy:executeCallbacks(addMeltEventListener(ui,"pointerdown",ri=>{const bi=ri.currentTarget;if(!isHTMLElement(bi))return;const gi=ui.dataset.value;if(ui.dataset.disabled||gi===void 0){ri.preventDefault();return}}),addMeltEventListener(ui,"click",ri=>{const bi=ri.currentTarget;if(!isHTMLElement(bi))return;const gi=ui.dataset.value;if(ui.dataset.disabled||gi===void 0){ri.preventDefault();return}if(ri.defaultPrevented){if(!isHTMLElement(bi))return;handleRovingFocus(bi);return}ci.set(gi),nt.get()&&tick().then(()=>{ot.set(!1)})}),addMeltEventListener(ui,"keydown",ri=>{Qt(ri)}),addMeltEventListener(ui,"pointermove",ri=>{const bi=ri.currentTarget;if(!isHTMLElement(bi))return;const gi=ui.dataset.value;if(ui.dataset.disabled||gi===void 0){ei(ri);return}ti(ri,bi)}),addMeltEventListener(ui,"pointerleave",ri=>{di(ri)}),addMeltEventListener(ui,"focusin",ri=>{zt(ri)}),addMeltEventListener(ui,"focusout",ri=>{Wt(ri)}))})}),ii=derived(ci,ui=>hi=>ui===hi);return{elements:{radioGroup:yi,radioItem:Vi},states:{value:ci},helpers:{isChecked:ii}}},{elements:{root:Gt}}=createSeparator({orientation:"horizontal"}),Kt={...defaults$4,disabled:!1,positioning:{placement:"right-start",gutter:8}},Pt=Bt=>{const ai={...Kt,...Bt},ci=ai.open??writable(!1),yi=overridable(ci,ai==null?void 0:ai.onOpenChange),Ci=toWritableStores(omit(ai,"ids")),{positioning:Vi,arrowSize:ii,disabled:ui}=Ci,hi=withGet(writable(null)),ri=withGet(writable(null)),bi=withGet(writable(0)),gi=toWritableStores({...generateIds(menuIdParts),...ai.ids});safeOnMount(()=>{const Mi=document.getElementById(gi.trigger.get());Mi&&hi.set(Mi)});const fi=derivedVisible({open:yi,forceVisible:Ye,activeTrigger:hi}),Li=makeElement(T("submenu"),{stores:[fi,yi,hi,gi.menu,gi.trigger],returned:([Mi,zi,$i,Oi,Pi])=>({role:"menu",hidden:Mi?void 0:!0,style:Mi?void 0:styleToString({display:"none"}),id:Oi,"aria-labelledby":Pi,"data-state":zi&&$i?"open":"closed","data-id":Oi,tabindex:-1}),action:Mi=>{let zi=noop$1;const $i=effect([fi,Vi],([Pi,Wi])=>{if(zi(),!Pi)return;const qi=hi.get();qi&&tick().then(()=>{zi();const Ui=ki(qi);zi=usePopper(Mi,{anchorElement:qi,open:yi,options:{floating:Wi,portal:isHTMLElement(Ui)?Ui:void 0,modal:null,focusTrap:null,escapeKeydown:null,preventTextSelectionOverflow:null}}).destroy})}),Oi=executeCallbacks(addMeltEventListener(Mi,"keydown",Pi=>{if(Pi.key===kbd.ESCAPE)return;const Wi=Pi.target,qi=Pi.currentTarget;if(!isHTMLElement(Wi)||!isHTMLElement(qi)||!(Wi.closest('[role="menu"]')===qi))return;if(FIRST_LAST_KEYS.includes(Pi.key)){Pi.stopImmediatePropagation(),handleMenuNavigation(Pi,tt.get()??!1);return}const hs=SUB_CLOSE_KEYS.ltr.includes(Pi.key),xs=Pi.ctrlKey||Pi.altKey||Pi.metaKey,fs=Pi.key.length===1;if(hs){const vs=hi.get();Pi.preventDefault(),yi.update(()=>(vs&&handleRovingFocus(vs),!1));return}if(Pi.key===kbd.TAB){Pi.preventDefault(),ot.set(!1),handleTabNavigation(Pi,dt,ct);return}!xs&&fs&&et.get()===!0&&xt(Pi.key,getMenuItems(qi))}),addMeltEventListener(Mi,"pointermove",Pi=>{Jt(Pi)}),addMeltEventListener(Mi,"focusout",Pi=>{const Wi=hi.get();if(ut.get()){const qi=Pi.target,Ui=document.getElementById(gi.menu.get());if(!isHTMLElement(Ui)||!isHTMLElement(qi))return;!Ui.contains(qi)&&qi!==Wi&&yi.set(!1)}else{const qi=Pi.currentTarget,Ui=Pi.relatedTarget;if(!isHTMLElement(Ui)||!isHTMLElement(qi))return;!qi.contains(Ui)&&Ui!==Wi&&yi.set(!1)}}));return{destroy(){$i(),zi(),Oi()}}}}),Hi=makeElement(T("subtrigger"),{stores:[yi,ui,gi.menu,gi.trigger],returned:([Mi,zi,$i,Oi])=>({role:"menuitem",id:Oi,tabindex:-1,"aria-controls":$i,"aria-expanded":Mi,"data-state":Mi?"open":"closed","data-disabled":disabledAttr(zi),"aria-haspopop":"menu"}),action:Mi=>{setMeltMenuAttribute(Mi,k),applyAttrsIfDisabled(Mi),hi.update(Oi=>Oi||Mi);const zi=()=>{clearTimerStore(ri),window.clearTimeout(bi.get()),vt.set(null)},$i=executeCallbacks(addMeltEventListener(Mi,"click",Oi=>{if(Oi.defaultPrevented)return;const Pi=Oi.currentTarget;!isHTMLElement(Pi)||isElementDisabled(Pi)||(handleRovingFocus(Pi),yi.get()||yi.update(Wi=>Wi||(hi.set(Pi),!Wi)))}),addMeltEventListener(Mi,"keydown",Oi=>{const Pi=Tt.get(),Wi=Oi.currentTarget;if(!(!isHTMLElement(Wi)||isElementDisabled(Wi)||Pi.length>0&&Oi.key===kbd.SPACE)&&SUB_OPEN_KEYS.ltr.includes(Oi.key)){if(!yi.get()){Wi.click(),Oi.preventDefault();return}const Ui=Wi.getAttribute("aria-controls");if(!Ui)return;const hs=document.getElementById(Ui);if(!isHTMLElement(hs))return;const xs=getMenuItems(hs)[0];handleRovingFocus(xs)}}),addMeltEventListener(Mi,"pointermove",Oi=>{if(!isMouse(Oi)||(si(Oi),Oi.defaultPrevented))return;const Pi=Oi.currentTarget;if(!isHTMLElement(Pi))return;isFocusWithinSubmenu(gi.menu.get())||handleRovingFocus(Pi);const Wi=ri.get();!yi.get()&&!Wi&&!isElementDisabled(Pi)&&ri.set(window.setTimeout(()=>{yi.update(()=>(hi.set(Pi),!0)),clearTimerStore(ri)},100))}),addMeltEventListener(Mi,"pointerleave",Oi=>{if(!isMouse(Oi))return;clearTimerStore(ri);const Pi=document.getElementById(gi.menu.get()),Wi=Pi==null?void 0:Pi.getBoundingClientRect();if(Wi){const qi=Pi==null?void 0:Pi.dataset.side,Ui=qi==="right",hs=Ui?-5:5,xs=Wi[Ui?"left":"right"],fs=Wi[Ui?"right":"left"];vt.set({area:[{x:Oi.clientX+hs,y:Oi.clientY},{x:xs,y:Wi.top},{x:fs,y:Wi.top},{x:fs,y:Wi.bottom},{x:xs,y:Wi.bottom}],side:qi}),window.clearTimeout(bi.get()),bi.set(window.setTimeout(()=>{vt.set(null)},300))}else{if(Zt(Oi),Oi.defaultPrevented)return;vt.set(null)}}),addMeltEventListener(Mi,"focusout",Oi=>{const Pi=Oi.currentTarget;if(!isHTMLElement(Pi))return;removeHighlight(Pi);const Wi=Oi.relatedTarget;if(!isHTMLElement(Wi))return;const qi=Pi.getAttribute("aria-controls");if(!qi)return;const Ui=document.getElementById(qi);Ui&&!Ui.contains(Wi)&&yi.set(!1)}),addMeltEventListener(Mi,"focusin",Oi=>{zt(Oi)}));return{destroy(){zi(),$i()}}}}),ji=makeElement(T("subarrow"),{stores:ii,returned:Mi=>({"data-arrow":!0,style:styleToString({position:"absolute",width:`var(--arrow-size, ${Mi}px)`,height:`var(--arrow-size, ${Mi}px)`})})});return effect([ot],([Mi])=>{Mi||(hi.set(null),yi.set(!1))}),effect([vt],([Mi])=>{!isBrowser||Mi||window.clearTimeout(bi.get())}),effect([yi],([Mi])=>{if(isBrowser&&(Mi&&ut.get()&&sleep(1).then(()=>{const zi=document.getElementById(gi.menu.get());if(!zi)return;const $i=getMenuItems(zi);$i.length&&handleRovingFocus($i[0])}),!Mi)){const zi=_t.get(),$i=document.getElementById(gi.trigger.get());if(zi&&sleep(1).then(()=>{const Oi=document.getElementById(gi.menu.get());Oi&&Oi.contains(zi)&&removeHighlight(zi)}),!$i||document.activeElement===$i)return;removeHighlight($i)}}),{ids:gi,elements:{subTrigger:Hi,subMenu:Li,subArrow:ji},states:{subOpen:yi},options:Ci}};safeOnMount(()=>{const Bt=document.getElementById(yt.trigger.get());isHTMLElement(Bt)&&ot.get()&&ht.set(Bt);const ai=[],ci=()=>ut.set(!1),yi=()=>{ut.set(!0),ai.push(executeCallbacks(addEventListener$1(document,"pointerdown",ci,{capture:!0,once:!0}),addEventListener$1(document,"pointermove",ci,{capture:!0,once:!0})))};return ai.push(addEventListener$1(document,"keydown",yi,{capture:!0})),()=>{ai.forEach(Ci=>Ci())}}),effect([ot,_t],([Bt,ai])=>{!Bt&&ai&&removeHighlight(ai)}),effect([ot],([Bt])=>{!isBrowser||Bt||handleFocus({prop:it.get(),defaultEl:ht.get()})},{skipFirstRun:!0}),effect([ot,Z],([Bt,ai])=>{if(!isBrowser)return;const ci=[];return sleep(1).then(()=>{const yi=document.getElementById(yt.menu.get());if(yi&&Bt&&ut.get()){if(st.get()){handleRovingFocus(yi);return}const Ci=getMenuItems(yi);if(!Ci.length)return;handleRovingFocus(Ci[0])}}),()=>{ci.forEach(yi=>yi())}});function kt(Bt){ot.update(ai=>{const ci=!ai;return ci&&(dt.set(getNextFocusable(Bt)),ct.set(getPreviousFocusable(Bt)),ht.set(Bt)),ci})}function zt(Bt){const ai=Bt.currentTarget;if(!isHTMLElement(ai))return;const ci=_t.get();ci&&removeHighlight(ci),addHighlight(ai),_t.set(ai)}function Wt(Bt){const ai=Bt.currentTarget;isHTMLElement(ai)&&removeHighlight(ai)}function si(Bt){Ri(Bt)&&Bt.preventDefault()}function ei(Bt){if(Ri(Bt))return;const ai=Bt.target;if(!isHTMLElement(ai))return;const ci=ki(ai);ci&&handleRovingFocus(ci)}function Zt(Bt){Ri(Bt)&&Bt.preventDefault()}function Jt(Bt){if(!isMouse(Bt))return;const ai=Bt.target,ci=Bt.currentTarget;if(!isHTMLElement(ci)||!isHTMLElement(ai))return;const yi=ft.get(),Ci=yi!==Bt.clientX;if(ci.contains(ai)&&Ci){const Vi=Bt.clientX>yi?"right":"left";mt.set(Vi),ft.set(Bt.clientX)}}function ti(Bt,ai=null){if(!isMouse(Bt)||(si(Bt),Bt.defaultPrevented))return;if(ai){handleRovingFocus(ai);return}const ci=Bt.currentTarget;isHTMLElement(ci)&&handleRovingFocus(ci)}function di(Bt){isMouse(Bt)&&ei(Bt)}function Qt(Bt){if(Tt.get().length>0&&Bt.key===kbd.SPACE){Bt.preventDefault();return}if(SELECTION_KEYS.includes(Bt.key)){Bt.preventDefault();const yi=Bt.currentTarget;if(!isHTMLElement(yi))return;yi.click()}}function Si(Bt){return Bt==="indeterminate"}function Ti(Bt){return Si(Bt)?"indeterminate":Bt?"checked":"unchecked"}function Ri(Bt){return Et.get()(Bt)}function ki(Bt){const ai=Bt.closest('[role="menu"]');return isHTMLElement(ai)?ai:null}return{elements:{trigger:Ct,menu:At,overlay:Ot,item:Dt,group:Mt,groupLabel:$t,arrow:It,separator:Gt},builders:{createCheckboxItem:Ft,createSubmenu:Pt,createMenuRadioGroup:jt},states:{open:ot},helpers:{handleTypeaheadSearch:xt},ids:yt,options:Y.rootOptions}}function handleTabNavigation(Y,T,k){if(Y.shiftKey){const Z=k.get();Z&&(Y.preventDefault(),sleep(1).then(()=>Z.focus()),k.set(null))}else{const Z=T.get();Z&&(Y.preventDefault(),sleep(1).then(()=>Z.focus()),T.set(null))}}function getMenuItems(Y){return Array.from(Y.querySelectorAll(`[data-melt-menu-id="${Y.id}"]`)).filter(T=>isHTMLElement(T))}function applyAttrsIfDisabled(Y){!Y||!isElementDisabled(Y)||(Y.setAttribute("data-disabled",""),Y.setAttribute("aria-disabled","true"))}function clearTimerStore(Y){if(!isBrowser)return;const T=Y.get();T&&(window.clearTimeout(T),Y.set(null))}function isMouse(Y){return Y.pointerType==="mouse"}function setMeltMenuAttribute(Y,T){if(!Y)return;const k=Y.closest(`${T()}, ${T("submenu")}`);isHTMLElement(k)&&Y.setAttribute("data-melt-menu-id",k.id)}function handleMenuNavigation(Y,T){Y.preventDefault();const k=document.activeElement,Z=Y.currentTarget;if(!isHTMLElement(k)||!isHTMLElement(Z))return;const ee=getMenuItems(Z);if(!ee.length)return;const te=ee.filter(Ve=>!(Ve.hasAttribute("data-disabled")||Ve.getAttribute("disabled")==="true")),ne=te.indexOf(k);let me;switch(Y.key){case kbd.ARROW_DOWN:T?me=ne<te.length-1?ne+1:0:me=ne<te.length-1?ne+1:ne;break;case kbd.ARROW_UP:T?me=ne>0?ne-1:te.length-1:me=ne<0?te.length-1:ne>0?ne-1:0;break;case kbd.HOME:me=0;break;case kbd.END:me=te.length-1;break;default:return}handleRovingFocus(te[me])}function isFocusWithinSubmenu(Y){const T=document.activeElement;if(!isHTMLElement(T))return!1;const k=T.closest(`[data-id="${Y}"]`);return isHTMLElement(k)}function stateAttr(Y){return Y?"open":"closed"}const MENUBAR_NAV_KEYS=[kbd.ARROW_LEFT,kbd.ARROW_RIGHT,kbd.HOME,kbd.END],{name:name$2}=createElHelpers("menubar"),defaults$3={loop:!0,escapeBehavior:"close",preventScroll:!1},menubarIdParts=["menubar"];function createMenubar(Y){const T={...defaults$3,...Y},k=toWritableStores(omit(T,"ids")),{loop:Z,escapeBehavior:ee,preventScroll:te}=k,ne=withGet(writable("")),me=withGet(writable(null)),Ve=withGet(writable(null)),Ye=withGet(writable(null));let et=!1;const tt=toWritableStores({...generateIds(menubarIdParts),...T.ids}),it=makeElement(name$2(),{stores:[tt.menubar],returned([dt]){return{role:"menubar","data-melt-menubar":"","data-orientation":"horizontal",id:dt}},action:dt=>{const ct=Array.from(dt.querySelectorAll("[data-melt-menubar-trigger]"));return isHTMLElement(ct[0])?(ct[0].tabIndex=0,{destroy:noop$1}):{}}}),st={positioning:{placement:"bottom-start"},arrowSize:8,dir:"ltr",loop:!1,escapeBehavior:"close",closeOnOutsideClick:!0,portal:"body",forceVisible:!1,defaultOpen:!1,typeahead:!0,closeFocus:void 0,disableFocusFirstItem:!1,closeOnItemClick:!0,onOutsideClick:void 0,preventTextSelectionOverflow:!0},nt=dt=>{const ct={...st,...dt},ut=withGet(writable(!1)),ft=withGet(writable(null)),vt=toWritableStores(ct),{positioning:mt,portal:_t,forceVisible:Et,closeOnOutsideClick:Tt,onOutsideClick:xt,preventTextSelectionOverflow:yt}=vt,St=createMenuBuilder({rootOptions:{...vt,preventScroll:te},rootOpen:withGet(ut),rootActiveTrigger:withGet(ft),nextFocusable:withGet(me),prevFocusable:withGet(Ve),selector:"menubar-menu"}),At=derivedVisible({open:ut,forceVisible:Et,activeTrigger:ft}),Ct=makeElement(name$2("menu"),{stores:[At,ut,ft,_t,St.ids.menu,St.ids.trigger,tt.menubar],returned:([Dt,Mt,$t,Ht,Ft,jt,Gt])=>({role:"menu",hidden:Dt?void 0:!0,style:Dt?void 0:styleToString({display:"none"}),id:Ft,"aria-labelledby":jt,"data-state":Mt&&$t?"open":"closed","data-melt-scope":Gt,"data-portal":portalAttr(Ht),tabindex:-1}),action:Dt=>{let Mt=noop$1;const $t=effect([ut,ft,mt,_t,Tt],([Ft,jt,Gt,Kt,Pt])=>{Mt(),Ft&&jt&&tick().then(()=>{Mt(),Mt=usePopper(Dt,{anchorElement:jt,open:ut,options:{floating:Gt,portal:getPortalDestination(Dt,Kt),modal:{closeOnInteractOutside:Pt,shouldCloseOnInteractOutside:kt=>{var si;if((si=xt.get())==null||si(kt),kt.defaultPrevented)return!1;const zt=kt.target,Wt=document.getElementById(tt.menubar.get());return!Wt||!isElement(zt)?!0:!Wt.contains(zt)},onClose:()=>{ne.set("")}},escapeKeydown:{behaviorType:ee,handler:()=>ne.set("")},preventTextSelectionOverflow:{enabled:yt}}}).destroy})}),Ht=executeCallbacks(addMeltEventListener(Dt,"keydown",Ft=>{const jt=Ft.target,Gt=Ft.currentTarget;if(!isHTMLElement(Gt)||!isHTMLElement(jt)||(MENUBAR_NAV_KEYS.includes(Ft.key)&&rt(Ft),!(jt.closest('[role="menu"]')===Gt)))return;FIRST_LAST_KEYS.includes(Ft.key)&&handleMenuNavigation(Ft),Ft.key===kbd.TAB&&(Ft.preventDefault(),ft.set(null),ut.set(!1),handleTabNavigation(Ft,me,Ve));const Pt=Ft.key.length===1;!(Ft.ctrlKey||Ft.altKey||Ft.metaKey)&&Pt&&St.helpers.handleTypeaheadSearch(Ft.key,getMenuItems(Gt))}));return{destroy(){$t(),Ht(),Mt()}}}}),It=makeElement(name$2("trigger"),{stores:[ut,St.ids.menu,St.ids.trigger],returned:([Dt,Mt,$t])=>({"aria-controls":Mt,"aria-expanded":Dt,"data-state":Dt?"open":"closed",id:$t,"aria-haspopup":"menu","data-orientation":"horizontal",role:"menuitem"}),action:Dt=>{applyAttrsIfDisabled(Dt);const Mt=document.getElementById(tt.menubar.get());if(!Mt)return{};const $t=Array.from(Mt.querySelectorAll("[data-melt-menubar-trigger]"));if(!$t.length)return{};const Ht=effect([Ye],([jt])=>{!jt&&$t[0]===Dt||jt===Dt?Dt.tabIndex=0:Dt.tabIndex=-1});$t[0]===Dt?Dt.tabIndex=0:Dt.tabIndex=-1;const Ft=executeCallbacks(addMeltEventListener(Dt,"click",jt=>{const Gt=ut.get(),Kt=jt.currentTarget;isHTMLElement(Kt)&&(Ot(Kt),Gt||jt.preventDefault())}),addMeltEventListener(Dt,"keydown",jt=>{const Gt=jt.currentTarget;if(isHTMLElement(Gt)&&(SELECTION_KEYS.includes(jt.key)||jt.key===kbd.ARROW_DOWN)){jt.preventDefault(),Ot(Gt);const Kt=Gt.getAttribute("aria-controls");if(!Kt)return;const Pt=document.getElementById(Kt);if(!Pt)return;const kt=getMenuItems(Pt);if(!kt.length)return;handleRovingFocus(kt[0])}}),addMeltEventListener(Dt,"pointerenter",jt=>{const Gt=jt.currentTarget;if(!isHTMLElement(Gt))return;const Kt=ne.get(),Pt=ut.get();Kt&&!Pt&&(ut.set(!0),ne.set(St.ids.menu.get()),ft.set(Gt))}));return{destroy(){Ft(),Ht()}}}});function Ot(Dt){ut.update(Mt=>{const $t=!Mt;return $t?(me.set(getNextFocusable(Dt)),Ve.set(getPreviousFocusable(Dt)),ft.set(Dt),ne.set(St.ids.menu.get())):ft.set(null),$t})}return effect([ne],([Dt])=>{if(isBrowser){if(Dt===St.ids.menu.get()){if(ut.get())return;const Mt=document.getElementById(St.ids.trigger.get());if(!Mt)return;ft.set(Mt),addHighlight(Mt),ut.set(!0);return}if(Dt!==St.ids.menu.get()){if(!isBrowser)return;if(ut.get()){const Mt=document.getElementById(St.ids.trigger.get());if(!Mt)return;ft.set(null),ut.set(!1),removeHighlight(Mt)}return}}}),effect([ut],([Dt])=>{if(!isBrowser)return;const Mt=document.getElementById(St.ids.trigger.get());if(Mt){if(!Dt&&ne.get()===St.ids.menu.get()){ft.set(null),ne.set(""),removeHighlight(Mt);return}Dt&&(Ye.set(Mt),addHighlight(Mt))}}),safeOnMount(()=>{if(!isBrowser)return;const Dt=document.getElementById(St.ids.trigger.get());isHTMLElement(Dt)&&ut.get()&&ft.set(Dt)}),{ids:St.ids,elements:{...St.elements,menu:Ct,trigger:It},builders:St.builders,states:St.states,options:vt}};function rt(dt){if(!isBrowser)return;dt.preventDefault();const ct=dt.currentTarget,ut=dt.target;if(!isHTMLElement(ut)||!isHTMLElement(ct))return;const ft=ut.hasAttribute("data-melt-menubar-menu-subtrigger"),vt=ut.closest('[role="menu"]')!==ct,mt=kbd.ARROW_LEFT,_t=dt.key===mt;if(!_t&&ft||_t&&vt)return;const Tt=document.getElementById(tt.menubar.get());if(!isHTMLElement(Tt))return;const xt=lt(Tt),yt=ct.getAttribute("aria-labelledby"),St=xt.findIndex(Ot=>Ot.id===yt);let At;switch(dt.key){case kbd.ARROW_RIGHT:At=St<xt.length-1?St+1:0;break;case kbd.ARROW_LEFT:At=St>0?St-1:xt.length-1;break;case kbd.HOME:At=0;break;case kbd.END:At=xt.length-1;break;default:return}const It=xt[At].getAttribute("aria-controls");It&&ne.set(It)}function lt(dt){const ct=dt.closest('[role="menubar"]');return isHTMLElement(ct)?Array.from(ct.querySelectorAll("[data-melt-menubar-trigger]")).filter(ut=>isHTMLElement(ut)):[]}function ot(dt){dt.preventDefault();const ct=document.activeElement,ut=dt.currentTarget;if(!isHTMLElement(ut)||!isHTMLElement(ct))return;const ft=lt(ut);if(!ft.length)return;const vt=ft.filter(Tt=>!(Tt.hasAttribute("data-disabled")||Tt.getAttribute("disabled")==="true")),mt=vt.indexOf(ct);let _t;const Et=Z.get();switch(dt.key){case kbd.ARROW_RIGHT:_t=mt<vt.length-1?mt+1:Et?0:mt;break;case kbd.ARROW_LEFT:_t=mt>0?mt-1:Et?vt.length-1:0;break;case kbd.HOME:_t=0;break;case kbd.END:_t=vt.length-1;break;default:return}handleRovingFocus(vt[_t])}safeOnMount(()=>{if(!isBrowser)return;const dt=document.getElementById(tt.menubar.get());if(!dt)return;const ct=executeCallbacks(addMeltEventListener(dt,"keydown",ut=>{const ft=ut.target,vt=ut.currentTarget;!isHTMLElement(vt)||!isHTMLElement(ft)||!ft.hasAttribute("data-melt-menubar-trigger")||MENUBAR_NAV_KEYS.includes(ut.key)&&ot(ut)}));return()=>{ct()}});const ht=[];return effect([ne,te],([dt,ct])=>{!isBrowser||!ct||(dt?et||(ht.push(removeScroll()),et=!0):(ht.forEach(ut=>ut()),et=!1))}),safeOnDestroy(()=>{ht.forEach(dt=>dt())}),{ids:tt,elements:{menubar:it},builders:{createMenu:nt},options:k}}function debounceCallback(Y,T){let k=0;return safeOnDestroy(()=>{clearTimeout(k)}),()=>{window.clearTimeout(k),k=window.setTimeout(Y,T)}}function resizeObserver(Y,T){let k=0;const Z=new ResizeObserver(()=>{cancelAnimationFrame(k),k=requestAnimationFrame(T)});return Z.observe(Y),()=>{window.cancelAnimationFrame(k),Z.unobserve(Y)}}function addUnlinkedScrollListener(Y,T=noop$1){let k={left:Y.scrollLeft,top:Y.scrollTop},Z=0;return function ee(){const te={left:Y.scrollLeft,top:Y.scrollTop},ne=k.left!==te.left,me=k.top!==te.top;(ne||me)&&T(),k=te,Z=window.requestAnimationFrame(ee)}(),()=>window.cancelAnimationFrame(Z)}function isScrollingWithinScrollbarBounds(Y,T){return Y>0&&Y<T}function linearScale(Y,T){return k=>{if(Y[0]===Y[1]||T[0]===T[1])return T[0];const Z=(T[1]-T[0])/(Y[1]-Y[0]);return T[0]+Z*(k-Y[0])}}function toInt(Y){return Y?parseInt(Y,10):0}function getThumbRatio(Y,T){const k=Y/T;return isNaN(k)?0:k}function getThumbSize(Y){const T=getThumbRatio(Y.viewport,Y.content),k=Y.scrollbar.paddingStart+Y.scrollbar.paddingEnd,Z=(Y.scrollbar.size-k)*T;return Math.max(Z,18)}function getScrollPositionFromPointer(Y,T,k,Z="ltr"){const ee=getThumbSize(k),te=ee/2,ne=T||te,me=ee-ne,Ve=k.scrollbar.paddingStart+ne,Ye=k.scrollbar.size-k.scrollbar.paddingEnd-me,et=k.content-k.viewport,tt=Z==="ltr"?[0,et]:[et*-1,0];return linearScale([Ve,Ye],tt)(Y)}function getThumbOffsetFromScroll(Y,T,k="ltr"){const Z=getThumbSize(T),ee=T.scrollbar.paddingStart+T.scrollbar.paddingEnd,te=T.scrollbar.size-ee,ne=T.content-T.viewport,me=te-Z,[Ve,Ye]=k==="ltr"?[0,ne]:[ne*-1,0],et=clamp(Ve,Y,Ye);return linearScale([0,ne],[0,me])(et)}function createStateMachine(Y,T){const k=withGet.writable(Y);function Z(te){const ne=k.get();return T[ne][te]??ne}return{state:k,dispatch:te=>{k.set(Z(te))}}}function createBaseScrollbarAction(Y){const{rootState:T,scrollbarState:k}=Y;k.isVisible.set(!0);function Z(Ye){const et=k.domRect.get();if(!et)return;const tt=Ye.clientX-et.left,it=Ye.clientY-et.top;k.isHorizontal.get()?k.onDragScroll(tt):k.onDragScroll(it)}function ee(Ye){if(Ye.button!==0)return;const et=Ye.target;if(!isHTMLElement(et))return;et.setPointerCapture(Ye.pointerId);const tt=Ye.currentTarget;if(!isHTMLElement(tt))return;k.domRect.set(tt.getBoundingClientRect()),k.prevWebkitUserSelect.set(document.body.style.webkitUserSelect),document.body.style.webkitUserSelect="none";const it=T.viewportEl.get();it&&(it.style.scrollBehavior="auto"),Z(Ye)}function te(Ye){Z(Ye)}function ne(Ye){const et=Ye.target;if(!isHTMLElement(et))return;et.hasPointerCapture(Ye.pointerId)&&et.releasePointerCapture(Ye.pointerId),document.body.style.webkitUserSelect=k.prevWebkitUserSelect.get();const tt=T.viewportEl.get();tt&&(tt.style.scrollBehavior=""),k.domRect.set(null)}function me(Ye){const et=Ye.target,tt=Ye.currentTarget;if(!isHTMLElement(et)||!isHTMLElement(tt)||!tt.contains(et))return;const st=k.sizes.get();if(!st)return;const nt=st.content-st.viewport;k.handleWheelScroll(Ye,nt)}function Ve(Ye){k.scrollbarEl.set(Ye);const et=executeCallbacks(addMeltEventListener(Ye,"pointerdown",ee),addMeltEventListener(Ye,"pointermove",te),addMeltEventListener(Ye,"pointerup",ne),addEventListener$1(document,"wheel",me,{passive:!1})),tt=effect([T.contentEl],([it])=>it?resizeObserver(it,k.handleSizeChange):noop$1);return{destroy(){et(),tt()}}}return Ve}function createAutoScrollbarAction(Y){const T=createBaseScrollbarAction(Y),{rootState:k,scrollbarState:Z}=Y,ee=debounceCallback(()=>{const ne=k.viewportEl.get();if(!ne)return;const me=ne.offsetWidth<ne.scrollWidth,Ve=ne.offsetHeight<ne.scrollHeight;Z.isVisible.set(Z.isHorizontal.get()?me:Ve)},10);function te(ne){var tt;const me=(tt=T(ne))==null?void 0:tt.destroy;ee();const Ve=[],Ye=k.viewportEl.get();Ye&&Ve.push(resizeObserver(Ye,ee));const et=k.contentEl.get();return et&&Ve.push(resizeObserver(et,ee)),{destroy(){Ve.forEach(it=>it()),me()}}}return te}function createHoverScrollbarAction(Y){const T=createBaseScrollbarAction(Y),{rootState:k,scrollbarState:Z}=Y;Z.isVisible.set(!1);let ee;function te(){if(window.clearTimeout(ee),Z.isVisible.get())return;const Ve=k.viewportEl.get();if(!Ve)return;const Ye=Ve.offsetWidth<Ve.scrollWidth,et=Ve.offsetHeight<Ve.scrollHeight;Z.isVisible.set(Z.isHorizontal.get()?Ye:et)}function ne(){ee=window.setTimeout(()=>{Z.isVisible.get()&&Z.isVisible.set(!1)},k.options.hideDelay.get())}function me(Ve){var it;const Ye=(it=T(Ve))==null?void 0:it.destroy,et=Ve.closest("[data-melt-scroll-area]");let tt=noop$1;return et&&(isTouchDevice()?tt=executeCallbacks(addEventListener$1(et,"touchstart",te),addEventListener$1(et,"touchend",ne)):isFirefox()?tt=executeCallbacks(addEventListener$1(et,"pointerenter",te),addEventListener$1(et,"mouseenter",te),addEventListener$1(et,"mouseleave",ne)):tt=executeCallbacks(addEventListener$1(et,"pointerenter",te),addEventListener$1(et,"pointerleave",ne))),{destroy(){Ye==null||Ye(),tt()}}}return me}function createScrollScrollbarAction(Y){const T=createBaseScrollbarAction(Y),{rootState:k,scrollbarState:Z}=Y,ee=createStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});effect([ee.state],([me])=>{me==="idle"&&window.setTimeout(()=>{ee.dispatch("HIDE")},k.options.hideDelay.get()),me==="hidden"?Z.isVisible.set(!1):Z.isVisible.set(!0)});const te=debounceCallback(()=>ee.dispatch("SCROLL_END"),100);effect([k.viewportEl,Z.isHorizontal],([me,Ve])=>{const Ye=Ve?"scrollLeft":"scrollTop";let et=noop$1;if(me){let tt=me[Ye];et=addEventListener$1(me,"scroll",()=>{const st=me[Ye];tt!==st&&(ee.dispatch("SCROLL"),te()),tt=st})}return()=>{et()}});function ne(me){var et;const Ve=(et=T(me))==null?void 0:et.destroy,Ye=executeCallbacks(addEventListener$1(me,"pointerenter",()=>ee.dispatch("POINTER_ENTER")),addEventListener$1(me,"pointerleave",()=>ee.dispatch("POINTER_LEAVE")));return{destroy(){Ve==null||Ve(),Ye()}}}return ne}function createScrollbarX(Y,T){const k=T(Y),{rootState:Z,scrollbarState:ee}=Y;return makeElement(name$1("scrollbar"),{stores:[ee.sizes,Z.options.dir,ee.isVisible],returned:([te,ne,me])=>({style:styleToString({position:"absolute",bottom:0,left:ne==="rtl"?"var(--melt-scroll-area-corner-width)":0,right:ne==="ltr"?"var(--melt-scroll-area-corner-width)":0,"--melt-scroll-area-thumb-width":`${getThumbSize(te)}px`,visibility:me?void 0:"hidden"}),"data-state":me?"visible":"hidden"}),action:te=>{var me;const ne=(me=k(te))==null?void 0:me.destroy;return Z.scrollbarXEl.set(te),Z.scrollbarXEnabled.set(!0),{destroy(){ne==null||ne(),Z.scrollbarXEl.set(null)}}}})}function createScrollbarY(Y,T){const k=T(Y),{rootState:Z,scrollbarState:ee}=Y;return makeElement(name$1("scrollbar"),{stores:[ee.sizes,Z.options.dir,ee.isVisible],returned:([te,ne,me])=>({style:styleToString({position:"absolute",top:0,right:ne==="ltr"?0:void 0,left:ne==="rtl"?0:void 0,bottom:"var(--melt-scroll-area-corner-height)","--melt-scroll-area-thumb-height":`${getThumbSize(te)}px`,visibility:me?void 0:"hidden"}),"data-state":me?"visible":"hidden"}),action:te=>{var me;const ne=(me=k(te))==null?void 0:me.destroy;return Z.scrollbarYEl.set(te),Z.scrollbarYEnabled.set(!0),{destroy(){ne==null||ne(),Z.scrollbarYEl.set(null)}}}})}function getScrollbarActionByType(Y){switch(Y){case"always":return createBaseScrollbarAction;case"auto":return createAutoScrollbarAction;case"hover":return createHoverScrollbarAction;case"scroll":return createScrollScrollbarAction;default:return createBaseScrollbarAction}}const{name:name$1}=createElHelpers("scroll-area"),scrollAreaIdParts=["root","viewport","content","scrollbarX","scrollbarY","thumbX","thumbY"],defaults$2={type:"hover",hideDelay:600,dir:"ltr"};function createScrollArea(Y){const T={...defaults$2,...Y},k=toWritableStores(omit(T,"ids")),Z=withGet.writable(0),ee=withGet.writable(0),te=withGet.writable(!1),ne=withGet.writable(!1),me=withGet.writable(null),Ve=withGet.writable(null),Ye=withGet.writable(null),et=withGet.writable(null),tt=withGet.writable(null),it=toWritableStores({...generateIds(scrollAreaIdParts),...T.ids}),st={cornerWidth:Z,cornerHeight:ee,scrollbarXEnabled:te,scrollbarYEnabled:ne,viewportEl:Ve,contentEl:Ye,options:k,scrollbarXEl:et,scrollbarYEl:tt,scrollAreaEl:me,ids:it},nt=makeElement(name$1(),{stores:[Z,ee,it.root],returned:([vt,mt,_t])=>({style:styleToString({position:"relative","--melt-scroll-area-corner-width":`${vt}px`,"--melt-scroll-area-corner-height":`${mt}px`}),id:_t}),action:vt=>(me.set(vt),{destroy(){me.set(null)}})}),rt=makeElement(name$1("viewport"),{stores:[te,ne,it.viewport],returned:([vt,mt,_t])=>({style:styleToString({"scrollbar-width":"none","-ms-overflow-style":"none","-webkit-overflow-scrolling":"touch","-webkit-scrollbar":"none","overflow-x":vt?"scroll":"hidden","overflow-y":mt?"scroll":"hidden"}),id:_t}),action:vt=>{var _t;const mt=document.createElement("style");return mt.innerHTML=`
				/* Hide scrollbars cross-browser and enable momentum scroll for touch
					devices */
				[data-melt-scroll-area-viewport] {
					scrollbar-width: none;
					-ms-overflow-style: none;
					-webkit-overflow-scrolling: touch;
				}

				[data-melt-scroll-area-viewport]::-webkit-scrollbar {
					display: none;
				}
			`,(_t=vt.parentElement)==null||_t.insertBefore(mt,vt),Ve.set(vt),{destroy(){mt.remove(),Ve.set(null)}}}}),lt=makeElement(name$1("content"),{stores:[it.content],returned:([vt])=>({style:styleToString({"min-width":"100%",display:"table"}),id:vt}),action:vt=>(Ye.set(vt),{destroy(){Ye.set(null)}})});function ot(vt="vertical"){const mt=withGet.writable(vt),_t=withGet.writable(vt==="horizontal"),Et=withGet.writable(null),Tt=withGet.writable(""),xt=withGet.writable(0),yt=withGet.writable(null),St=withGet.writable(0),At=withGet.writable(null),Ct=withGet.writable({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),It=withGet.writable(!1),Ot=withGet.derived(Ct,si=>{const ei=getThumbRatio(si.viewport,si.content);return ei>0&&ei<1});function Dt(si,ei){return getScrollPositionFromPointer(si,xt.get(),Ct.get(),ei)}function Mt(si,ei){const Zt=Ve.get();if(Zt)if(_t.get()){const Jt=Zt.scrollLeft+si.deltaY;Zt.scrollLeft=Jt,isScrollingWithinScrollbarBounds(Jt,ei)&&si.preventDefault()}else{const Jt=Zt.scrollTop+si.deltaY;Zt.scrollTop=Jt,isScrollingWithinScrollbarBounds(Jt,ei)&&si.preventDefault()}}function $t(si){_t.get()?xt.set(si.x):xt.set(si.y)}function Ht(){xt.set(0)}function Ft(){const si=Ve.get(),ei=yt.get();if(!si||!ei)return;const Zt=_t.get()?si.scrollLeft:si.scrollTop,Jt=getThumbOffsetFromScroll(Zt,Ct.get(),st.options.dir.get());St.set(Jt)}function jt(si){const ei=Ve.get();ei&&(_t.get()?ei.scrollLeft=Dt(si,st.options.dir.get()):ei.scrollTop=Dt(si))}function Gt(){const si=Kt.scrollbarEl.get();if(!si)return;const ei=Kt.isHorizontal.get(),Zt=st.viewportEl.get();ei?Kt.sizes.set({content:(Zt==null?void 0:Zt.scrollWidth)??0,viewport:(Zt==null?void 0:Zt.offsetWidth)??0,scrollbar:{size:si.clientWidth??0,paddingStart:toInt(getComputedStyle(si).paddingLeft),paddingEnd:toInt(getComputedStyle(si).paddingRight)}}):Kt.sizes.set({content:(Zt==null?void 0:Zt.scrollHeight)??0,viewport:(Zt==null?void 0:Zt.offsetHeight)??0,scrollbar:{size:si.clientHeight??0,paddingStart:toInt(getComputedStyle(si).paddingLeft),paddingEnd:toInt(getComputedStyle(si).paddingRight)}})}const Kt={isHorizontal:_t,domRect:Et,prevWebkitUserSelect:Tt,pointerOffset:xt,thumbEl:yt,thumbOffset:St,sizes:Ct,orientation:mt,handleThumbDown:$t,handleThumbUp:Ht,onThumbPositionChange:Ft,onDragScroll:jt,handleWheelScroll:Mt,hasThumb:Ot,scrollbarEl:At,isVisible:It,handleSizeChange:Gt},Pt=getScrollbarActionByType(k.type.get()),kt={rootState:st,scrollbarState:Kt},zt=vt==="horizontal"?createScrollbarX(kt,Pt):createScrollbarY(kt,Pt),Wt=createScrollbarThumb(kt);return{scrollbar:zt,thumb:Wt}}const{scrollbar:ht,thumb:dt}=ot("horizontal"),{scrollbar:ct,thumb:ut}=ot("vertical"),ft=createScrollAreaCorner(st);return{options:k,elements:{root:nt,viewport:rt,content:lt,corner:ft,scrollbarX:ht,scrollbarY:ct,thumbX:dt,thumbY:ut}}}function createScrollbarThumb(Y){const{scrollbarState:T,rootState:k}=Y;function Z(Ve){const Ye=Ve.target;if(!isHTMLElement(Ye))return;const et=Ye.getBoundingClientRect(),tt=Ve.clientX-et.left,it=Ve.clientY-et.top;T.handleThumbDown({x:tt,y:it})}function ee(Ve){T.handleThumbUp(Ve)}let te;function ne(){if(te)return;const Ve=k.viewportEl.get();Ve&&(te=addUnlinkedScrollListener(Ve,T.onThumbPositionChange)),T.onThumbPositionChange()}return makeElement(name$1("thumb"),{stores:[T.hasThumb,T.isHorizontal,T.thumbOffset],returned:([Ve,Ye,et])=>({style:styleToString({width:"var(--melt-scroll-area-thumb-width)",height:"var(--melt-scroll-area-thumb-height)",transform:Ye?`translate3d(${Math.round(et)}px, 0, 0)`:`translate3d(0, ${Math.round(et)}px, 0)`}),"data-state":Ve?"visible":"hidden"}),action:Ve=>{T.thumbEl.set(Ve);const Ye=effect([T.sizes],([tt])=>{const it=k.viewportEl.get();return it?(T.onThumbPositionChange(),addEventListener$1(it,"scroll",ne)):noop$1}),et=executeCallbacks(addMeltEventListener(Ve,"pointerdown",Z),addMeltEventListener(Ve,"pointerup",ee));return{destroy(){te==null||te(),et(),Ye()}}}})}function createScrollAreaCorner(Y){const T=writable(0),k=writable(0),Z=derived([T,k],([et,tt])=>!!et&&!!tt);function ee(){var tt;const et=((tt=Y.scrollbarXEl.get())==null?void 0:tt.offsetHeight)||0;Y.cornerHeight.set(et),k.set(et)}function te(){var tt;const et=((tt=Y.scrollbarYEl.get())==null?void 0:tt.offsetWidth)||0;Y.cornerWidth.set(et),T.set(et)}effect([Y.scrollbarXEl],([et])=>{et&&ee()}),effect([Y.scrollbarYEl],([et])=>{et&&te()});const ne=derived([Y.scrollbarXEl,Y.scrollbarYEl],([et,tt])=>!!et&&!!tt),me=derived([Y.options.type,ne],([et,tt])=>et!=="scroll"&&tt),Ve=derived([me,Z],([et,tt])=>et&&tt);return makeElement(name$1("corner"),{stores:[T,k,Y.options.dir,Ve],returned:([et,tt,it,st])=>({style:styleToString({display:st?"block":"none",width:`${et}px`,height:`${tt}px`,position:"absolute",right:it==="ltr"?0:void 0,left:it==="rtl"?0:void 0,bottom:0})})})}const defaults$1={orientation:"horizontal",decorative:!1},createSeparator=Y=>{const T={...defaults$1,...Y},k=toWritableStores(T),{orientation:Z,decorative:ee}=k;return{elements:{root:makeElement("separator",{stores:[Z,ee],returned:([ne,me])=>({role:me?"none":"separator","aria-orientation":ne==="vertical"?ne:void 0,"aria-hidden":me,"data-orientation":ne})})},options:k}},defaults={forceVisible:!1,defaultExpanded:[]},ATTRS={EXPANDED:"aria-expanded",DATAID:"data-id"},{name}=createElHelpers("tree-view");function createTreeView(Y){const T={...defaults,...Y},{forceVisible:k}=T,Z=writable(null),ee=writable(null),te=T.expanded??writable(T.defaultExpanded),ne=overridable(te,T==null?void 0:T.onExpandedChange),me=derived([ee],([ft])=>ft==null?void 0:ft.getAttribute("data-id")),Ve=derived([ee],([ft])=>vt=>(ft==null?void 0:ft.getAttribute("data-id"))===vt),Ye=derived([ne],([ft])=>vt=>ft.includes(vt)),et=generateIds(["tree"]),tt=makeElement(name(),{returned:()=>({role:"tree","data-melt-id":et.tree})});let it=!1;const st=makeElement(name("item"),{stores:[ne,me,Z],returned:([ft,vt,mt])=>_t=>{const{id:Et,hasChildren:Tt}=_t;let xt=0;return mt!==null&&(xt=mt===Et?0:-1),{role:"treeitem","aria-selected":vt===Et,"data-id":Et,tabindex:xt,"aria-expanded":Tt?ft.includes(Et):void 0}},action:ft=>{const vt=executeCallbacks(addMeltEventListener(ft,"keydown",mt=>{const{key:_t}=mt,Et=isLetter(_t);if(![kbd.ARROW_DOWN,kbd.ARROW_UP,kbd.ARROW_LEFT,kbd.ARROW_RIGHT,kbd.ENTER,kbd.SPACE,kbd.END,kbd.HOME,kbd.ASTERISK].includes(_t)&&!Et||!getElementByMeltId(et.tree)||!isHTMLElement(ft)||ft.getAttribute("role")!=="treeitem")return;const yt=ot(),St=yt.findIndex(At=>At===ft);if(_t!==kbd.ENTER&&_t!==kbd.SPACE&&mt.preventDefault(),_t===kbd.ENTER||_t===kbd.SPACE)lt(ft),it=!0;else if(_t===kbd.ARROW_DOWN&&St!==yt.length-1){const At=yt[St+1];if(!At)return;rt(At)}else if(_t===kbd.ARROW_UP&&St!==0){const At=yt[St-1];if(!At)return;rt(At)}else if(_t===kbd.HOME&&St!==0){const At=yt[0];if(!At)return;rt(At)}else if(_t===kbd.END&&St!=yt.length-1){const At=last(yt);if(!At)return;rt(At)}else if(_t===kbd.ARROW_LEFT)if(ut(ft))dt(ft);else{const At=ft==null?void 0:ft.closest('[role="group"]'),Ct=At==null?void 0:At.getAttribute("data-group-id"),It=yt.find(Ot=>Ot.getAttribute("data-id")===Ct);if(!It)return;rt(It)}else if(_t===kbd.ARROW_RIGHT)if(ut(ft)){const At=yt[St+1];if(!At)return;rt(At)}else ct(ft)&&dt(ft);else if(Et){const At=yt.map(Ot=>{var Dt;return{value:(Dt=Ot.textContent)==null?void 0:Dt.toLowerCase().trim(),id:Ot.getAttribute("data-id")}});let Ct=-1,It=At.slice(St+1).some((Ot,Dt)=>{var Mt;return((Mt=Ot.value)==null?void 0:Mt.toLowerCase()[0])===_t?(Ct=St+1+Dt,!0):!1});if(It||(It=At.slice(0,St).some((Ot,Dt)=>{var Mt;return((Mt=Ot.value)==null?void 0:Mt.toLowerCase().at(0))===_t?(Ct=Dt,!0):!1})),It&&At[Ct].id){const Ot=yt[Ct];if(!Ot)return;rt(Ot)}}}),addMeltEventListener(ft,"click",async()=>{lt(ft),rt(ft),it||dt(ft),it=!1}),addMeltEventListener(ft,"focus",()=>{Z.update(mt=>ft.getAttribute("data-id")??mt)}));return{destroy(){vt()}}}}),nt=makeElement(name("group"),{stores:[ne],returned:([ft])=>vt=>({role:"group","data-group-id":vt.id,hidden:!k&&!ft.includes(vt.id)?!0:void 0,style:styleToString({display:!k&&!ft.includes(vt.id)?"none":void 0})})});function rt(ft){Z.update(vt=>ft.getAttribute("data-id")??vt),ft.focus()}function lt(ft){ft.getAttribute(ATTRS.DATAID)&&ee.set(ft)}function ot(){let ft=[];const vt=getElementByMeltId(et.tree);return vt&&(ft=Array.from(vt.querySelectorAll('[role="treeitem"]')).filter(mt=>!isHidden$1(mt))),ft}function ht(ft){const vt=ft.hasAttribute(ATTRS.EXPANDED),mt=ft.getAttribute(ATTRS.EXPANDED),_t=ft.getAttribute(ATTRS.DATAID);return{hasChildren:vt,expanded:mt,dataId:_t}}function dt(ft){const{hasChildren:vt,expanded:mt,dataId:_t}=ht(ft);!vt||mt===null||_t===null||(mt==="false"?ne.update(Et=>[...Et,_t]):ne.update(Et=>Et.filter(Tt=>Tt!==_t)))}function ct(ft){return ft.hasAttribute(ATTRS.EXPANDED)}function ut(ft){return ft.getAttribute(ATTRS.EXPANDED)==="true"}return{ids:et,elements:{tree:tt,item:st,group:nt},states:{expanded:ne,selectedItem:ee},helpers:{isExpanded:Ye,isSelected:Ve}}}var root_1$1I=template("<div><div><div><!></div></div> <div><div></div></div> <div><div></div></div> <div></div></div>");function Scrollbar(Y,T){push(T,!0);const[k,Z]=setup_stores(),ee=()=>store_get(it,"$root",k),te=()=>store_get(nt,"$viewport",k),ne=()=>store_get(st,"$content",k),me=()=>store_get(lt,"$scrollbarY",k),Ve=()=>store_get(ot,"$thumbY",k),Ye=()=>store_get(dt,"$scrollbarX",k),et=()=>store_get(ht,"$thumbX",k),tt=()=>store_get(rt,"$corner",k),{elements:{root:it,content:st,viewport:nt,corner:rt,scrollbarY:lt,thumbY:ot,thumbX:ht,scrollbarX:dt}}=createScrollArea({type:"hover",dir:"ltr"});var ct=root_1$1I();let ut;var ft=child(ct);let vt;var mt=child(ft);let _t;var Et=child(mt);{var Tt=Ht=>{var Ft=comment(),jt=first_child(Ft);snippet(jt,()=>T.children),append(Ht,Ft)};if_block(Et,Ht=>{T.children&&Ht(Tt)})}action(mt,Ht=>st==null?void 0:st(Ht)),action(ft,Ht=>nt==null?void 0:nt(Ht));var xt=sibling(ft,2);let yt;var St=child(xt);let At;action(St,Ht=>ot==null?void 0:ot(Ht)),action(xt,Ht=>lt==null?void 0:lt(Ht));var Ct=sibling(xt,2);let It;var Ot=child(Ct);let Dt;action(Ot,Ht=>ht==null?void 0:ht(Ht)),action(Ct,Ht=>dt==null?void 0:dt(Ht));var Mt=sibling(Ct,2);let $t;action(Mt,Ht=>rt==null?void 0:rt(Ht)),action(ct,Ht=>it==null?void 0:it(Ht)),template_effect(()=>{ut=set_attributes(ct,ut,{...ee(),class:"relative overflow-hidden rounded-md border  text-black shadow-lg",[STYLE]:{height:T.height,width:T.width?T.width:"100%"}}),vt=set_attributes(ft,vt,{...te(),class:"h-full w-full rounded-[inherit]"}),_t=set_attributes(mt,_t,{...ne(),class:"h-full w-full"}),yt=set_attributes(xt,yt,{...me(),class:"flex h-full w-2.5 touch-none select-none border-l border-l-transparent border-green-200 p-px transition-colors"}),At=set_attributes(St,At,{...Ve(),class:"relative flex-1 rounded-full bg-magnum-600"}),It=set_attributes(Ct,It,{...Ye(),class:"flex h-2.5 w-full touch-none select-none border-t border-t-transparent border-green-200 p-px"}),Dt=set_attributes(Ot,Dt,{...et(),class:"relative rounded-full border-green-400"}),$t=set_attributes(Mt,$t,{...tt()})}),append(Y,ct),pop(),Z()}let Point$1=class Ua{constructor(T=0,k=0){this._x=0,this._y=0,this.x=T,this.y=k}get x(){return this._x}set x(T){if(Number.isNaN(T))throw new Error("Invalid x supplied.");this._x=T}get y(){return this._y}set y(T){if(Number.isNaN(T))throw new Error("Invalid y supplied.");this._y=T}equals(T){return T?T.x===this.x&&T.y===this.y:!1}clone(){return new Ua(this.x,this.y)}};const ir=class ir extends Point$1{constructor(T=0,k=0,Z=0,ee=0){super(T,k),this._width=0,this._height=0,this.width=Z,this.height=ee}get width(){return this._width}set width(T){if(Number.isNaN(T))throw new Error("Invalid width supplied.");this._width=T}get height(){return this._height}set height(T){if(Number.isNaN(T))throw new Error("Invalid height supplied.");this._height=T}setRect(T,k,Z,ee){this.x=T,this.y=k,this.width=Z,this.height=ee}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}add(T){const k=Math.min(this.x,T.x),Z=Math.min(this.y,T.y),ee=Math.max(this.x+this.width,T.x+T.width),te=Math.max(this.y+this.height,T.y+T.height);this.x=k,this.y=Z,this.width=ee-k,this.height=te-Z}intersect(T){const k=this.x+this.width,Z=T.x+T.width,ee=this.y+this.height,te=T.y+T.height;this.x=Math.max(this.x,T.x),this.y=Math.max(this.y,T.y),this.width=Math.min(k,Z)-this.x,this.height=Math.min(ee,te)-this.y}grow(T){this.x-=T,this.y-=T,this.width+=2*T,this.height+=2*T}getPoint(){return new Point$1(this.x,this.y)}rotate90(){const T=(this.width-this.height)/2;this.x+=T,this.y-=T;const k=this.width;this.width=this.height,this.height=k}equals(T){return T?T.x===this.x&&T.y===this.y&&T.width===this.width&&T.height===this.height:!1}clone(){return new ir(this.x,this.y,this.width,this.height)}};ir.fromRectangle=T=>new ir(T.x,T.y,T.width,T.height);let Rectangle=ir;const DEFAULT_HOTSPOT=.3,MIN_HOTSPOT_SIZE=8,MAX_HOTSPOT_SIZE=0;var RENDERING_HINT=(Y=>(Y.EXACT="exact",Y.FASTER="faster",Y.FASTEST="fastest",Y))(RENDERING_HINT||{}),DIALECT=(Y=>(Y.SVG="svg",Y.MIXEDHTML="mixedHtml",Y.PREFERHTML="preferHtml",Y.STRICTHTML="strictHtml",Y))(DIALECT||{});const IDENTITY_FIELD_NAME="mxObjectId",NS_SVG="http://www.w3.org/2000/svg",NS_XLINK="http://www.w3.org/1999/xlink",SHADOWCOLOR="gray",SHADOW_OFFSET_X=2,SHADOW_OFFSET_Y=3,SHADOW_OPACITY=1;var NODETYPE=(Y=>(Y[Y.ELEMENT=1]="ELEMENT",Y[Y.ATTRIBUTE=2]="ATTRIBUTE",Y[Y.TEXT=3]="TEXT",Y[Y.CDATA=4]="CDATA",Y[Y.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",Y[Y.ENTITY=6]="ENTITY",Y[Y.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",Y[Y.COMMENT=8]="COMMENT",Y[Y.DOCUMENT=9]="DOCUMENT",Y[Y.DOCUMENTTYPE=10]="DOCUMENTTYPE",Y[Y.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",Y[Y.NOTATION=12]="NOTATION",Y))(NODETYPE||{});const TOOLTIP_VERTICAL_OFFSET=16,DEFAULT_VALID_COLOR="#00FF00",DEFAULT_INVALID_COLOR="#FF0000",OUTLINE_HIGHLIGHT_COLOR="#00FF00",OUTLINE_HIGHLIGHT_STROKEWIDTH=5,HIGHLIGHT_STROKEWIDTH=3,HIGHLIGHT_SIZE=2,HIGHLIGHT_OPACITY=100;var CURSOR$1=(Y=>(Y.MOVABLE_VERTEX="move",Y.MOVABLE_EDGE="move",Y.LABEL_HANDLE="default",Y.TERMINAL_HANDLE="pointer",Y.BEND_HANDLE="crosshair",Y.VIRTUAL_BEND_HANDLE="crosshair",Y.CONNECT="pointer",Y))(CURSOR$1||{});const HIGHLIGHT_COLOR="#00FF00",CONNECT_TARGET_COLOR="#0000FF",INVALID_CONNECT_TARGET_COLOR="#FF0000",DROP_TARGET_COLOR="#0000FF",VALID_COLOR="#00FF00",INVALID_COLOR="#FF0000",EDGE_SELECTION_COLOR="#00FF00",VERTEX_SELECTION_COLOR="#00FF00",VERTEX_SELECTION_STROKEWIDTH=1,EDGE_SELECTION_STROKEWIDTH=1,VERTEX_SELECTION_DASHED=!0,EDGE_SELECTION_DASHED=!0,GUIDE_COLOR="#FF0000",GUIDE_STROKEWIDTH=1,OUTLINE_COLOR="#0099FF",OUTLINE_STROKEWIDTH=3,HANDLE_SIZE$1=6,LABEL_HANDLE_SIZE=4,HANDLE_FILLCOLOR="#00FF00",HANDLE_STROKECOLOR="black",LABEL_HANDLE_FILLCOLOR="yellow",CONNECT_HANDLE_FILLCOLOR="#0000FF",LOCKED_HANDLE_FILLCOLOR="#FF0000",OUTLINE_HANDLE_FILLCOLOR="#00FFFF",OUTLINE_HANDLE_STROKECOLOR="#0033FF",DEFAULT_FONTFAMILY="Arial,Helvetica",DEFAULT_FONTSIZE=11,DEFAULT_TEXT_DIRECTION="",LINE_HEIGHT=1.2,WORD_WRAP="normal",ABSOLUTE_LINE_HEIGHT=!1,DEFAULT_FONTSTYLE=0,DEFAULT_STARTSIZE=40,DEFAULT_MARKERSIZE=6,DEFAULT_IMAGESIZE=24,ENTITY_SEGMENT=30,RECTANGLE_ROUNDING_FACTOR=.15,LINE_ARCSIZE=20,ARROW_SPACING=0,ARROW_WIDTH=30,ARROW_SIZE=30,PAGE_FORMAT_A4_PORTRAIT=[0,0,827,1169],PAGE_FORMAT_A4_LANDSCAPE=[0,0,1169,827],PAGE_FORMAT_LETTER_PORTRAIT=[0,0,850,1100],PAGE_FORMAT_LETTER_LANDSCAPE=[0,0,1100,850],NONE="none";var FONT=(Y=>(Y[Y.BOLD=1]="BOLD",Y[Y.ITALIC=2]="ITALIC",Y[Y.UNDERLINE=4]="UNDERLINE",Y[Y.STRIKETHROUGH=8]="STRIKETHROUGH",Y))(FONT||{}),ARROW=(Y=>(Y.CLASSIC="classic",Y.CLASSIC_THIN="classicThin",Y.BLOCK="block",Y.BLOCK_THIN="blockThin",Y.OPEN="open",Y.OPEN_THIN="openThin",Y.OVAL="oval",Y.DIAMOND="diamond",Y.DIAMOND_THIN="diamondThin",Y))(ARROW||{}),ALIGN=(Y=>(Y.LEFT="left",Y.CENTER="center",Y.RIGHT="right",Y.TOP="top",Y.MIDDLE="middle",Y.BOTTOM="bottom",Y))(ALIGN||{}),DIRECTION=(Y=>(Y.NORTH="north",Y.SOUTH="south",Y.EAST="east",Y.WEST="west",Y))(DIRECTION||{}),TEXT_DIRECTION=(Y=>(Y.DEFAULT="",Y.AUTO="auto",Y.LTR="ltr",Y.RTL="rtl",Y))(TEXT_DIRECTION||{});const DIRECTION_MASK={NONE:0,WEST:1,NORTH:2,SOUTH:4,EAST:8,ALL:15};var ELBOW=(Y=>(Y.VERTICAL="vertical",Y.HORIZONTAL="horizontal",Y))(ELBOW||{}),EDGESTYLE=(Y=>(Y.ELBOW="elbowEdgeStyle",Y.ENTITY_RELATION="entityRelationEdgeStyle",Y.LOOP="loopEdgeStyle",Y.SIDETOSIDE="sideToSideEdgeStyle",Y.TOPTOBOTTOM="topToBottomEdgeStyle",Y.ORTHOGONAL="orthogonalEdgeStyle",Y.SEGMENT="segmentEdgeStyle",Y.MANHATTAN="manhattanEdgeStyle",Y))(EDGESTYLE||{}),PERIMETER=(Y=>(Y.ELLIPSE="ellipsePerimeter",Y.RECTANGLE="rectanglePerimeter",Y.RHOMBUS="rhombusPerimeter",Y.HEXAGON="hexagonPerimeter",Y.TRIANGLE="trianglePerimeter",Y))(PERIMETER||{}),SHAPE=(Y=>(Y.RECTANGLE="rectangle",Y.ELLIPSE="ellipse",Y.DOUBLE_ELLIPSE="doubleEllipse",Y.RHOMBUS="rhombus",Y.LINE="line",Y.IMAGE="image",Y.ARROW="arrow",Y.ARROW_CONNECTOR="arrowConnector",Y.LABEL="label",Y.CYLINDER="cylinder",Y.SWIMLANE="swimlane",Y.CONNECTOR="connector",Y.ACTOR="actor",Y.CLOUD="cloud",Y.TRIANGLE="triangle",Y.HEXAGON="hexagon",Y))(SHAPE||{});const constants=Object.freeze(Object.defineProperty({__proto__:null,ABSOLUTE_LINE_HEIGHT,ALIGN,ARROW,ARROW_SIZE,ARROW_SPACING,ARROW_WIDTH,CONNECT_HANDLE_FILLCOLOR,CONNECT_TARGET_COLOR,CURSOR:CURSOR$1,DEFAULT_FONTFAMILY,DEFAULT_FONTSIZE,DEFAULT_FONTSTYLE,DEFAULT_HOTSPOT,DEFAULT_IMAGESIZE,DEFAULT_INVALID_COLOR,DEFAULT_MARKERSIZE,DEFAULT_STARTSIZE,DEFAULT_TEXT_DIRECTION,DEFAULT_VALID_COLOR,DIALECT,DIRECTION,DIRECTION_MASK,DROP_TARGET_COLOR,EDGESTYLE,EDGE_SELECTION_COLOR,EDGE_SELECTION_DASHED,EDGE_SELECTION_STROKEWIDTH,ELBOW,ENTITY_SEGMENT,FONT,GUIDE_COLOR,GUIDE_STROKEWIDTH,HANDLE_FILLCOLOR,HANDLE_SIZE:HANDLE_SIZE$1,HANDLE_STROKECOLOR,HIGHLIGHT_COLOR,HIGHLIGHT_OPACITY,HIGHLIGHT_SIZE,HIGHLIGHT_STROKEWIDTH,IDENTITY_FIELD_NAME,INVALID_COLOR,INVALID_CONNECT_TARGET_COLOR,LABEL_HANDLE_FILLCOLOR,LABEL_HANDLE_SIZE,LINE_ARCSIZE,LINE_HEIGHT,LOCKED_HANDLE_FILLCOLOR,MAX_HOTSPOT_SIZE,MIN_HOTSPOT_SIZE,NODETYPE,NONE,NS_SVG,NS_XLINK,OUTLINE_COLOR,OUTLINE_HANDLE_FILLCOLOR,OUTLINE_HANDLE_STROKECOLOR,OUTLINE_HIGHLIGHT_COLOR,OUTLINE_HIGHLIGHT_STROKEWIDTH,OUTLINE_STROKEWIDTH,PAGE_FORMAT_A4_LANDSCAPE,PAGE_FORMAT_A4_PORTRAIT,PAGE_FORMAT_LETTER_LANDSCAPE,PAGE_FORMAT_LETTER_PORTRAIT,PERIMETER,RECTANGLE_ROUNDING_FACTOR,RENDERING_HINT,SHADOWCOLOR,SHADOW_OFFSET_X,SHADOW_OFFSET_Y,SHADOW_OPACITY,SHAPE,TEXT_DIRECTION,TOOLTIP_VERTICAL_OFFSET,VALID_COLOR,VERTEX_SELECTION_COLOR,VERTEX_SELECTION_DASHED,VERTEX_SELECTION_STROKEWIDTH,WORD_WRAP},Symbol.toStringTag,{value:"Module"})),Xi=class Xi{};Xi.VERSION="0.13.0",Xi.basePath=".",Xi.setBasePath=T=>{typeof T<"u"&&T.length>0?(T.substring(T.length-1)==="/"&&(T=T.substring(0,T.length-1)),Xi.basePath=T):Xi.basePath="."},Xi.imageBasePath=".",Xi.setImageBasePath=T=>{typeof T<"u"&&T.length>0?(T.substring(T.length-1)==="/"&&(T=T.substring(0,T.length-1)),Xi.imageBasePath=T):Xi.imageBasePath=`${Xi.basePath}/images`},Xi.language=typeof window<"u"?navigator.language:"en",Xi.setLanguage=T=>{typeof T<"u"&&T!=null?Xi.language=T:Xi.language=navigator.language},Xi.defaultLanguage="en",Xi.setDefaultLanguage=T=>{typeof T<"u"&&T!=null?Xi.defaultLanguage=T:Xi.defaultLanguage="en"},Xi.languages=null,Xi.setLanguages=T=>{typeof T<"u"&&T!=null&&(Xi.languages=T)},Xi.IS_EDGE=typeof window<"u"&&navigator.userAgent!=null&&!!navigator.userAgent.match(/Edge\//),Xi.IS_NS=typeof window<"u"&&navigator.userAgent!=null&&navigator.userAgent.indexOf("Mozilla/")>=0&&navigator.userAgent.indexOf("MSIE")<0&&navigator.userAgent.indexOf("Edge/")<0,Xi.IS_SF=typeof window<"u"&&/Apple Computer, Inc/.test(navigator.vendor),Xi.IS_ANDROID=typeof window<"u"&&navigator.appVersion.indexOf("Android")>=0,Xi.IS_IOS=typeof window<"u"&&/iP(hone|od|ad)/.test(navigator.platform),Xi.IS_GC=typeof window<"u"&&/Google Inc/.test(navigator.vendor),Xi.IS_CHROMEAPP=typeof window<"u"&&window.chrome!=null&&chrome.app!=null&&chrome.app.runtime!=null,Xi.IS_FF=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,Xi.IS_MT=typeof window<"u"&&(navigator.userAgent.indexOf("Firefox/")>=0&&navigator.userAgent.indexOf("Firefox/1.")<0&&navigator.userAgent.indexOf("Firefox/2.")<0||navigator.userAgent.indexOf("Iceweasel/")>=0&&navigator.userAgent.indexOf("Iceweasel/1.")<0&&navigator.userAgent.indexOf("Iceweasel/2.")<0||navigator.userAgent.indexOf("SeaMonkey/")>=0&&navigator.userAgent.indexOf("SeaMonkey/1.")<0||navigator.userAgent.indexOf("Iceape/")>=0&&navigator.userAgent.indexOf("Iceape/1.")<0),Xi.IS_SVG=typeof window<"u"&&navigator.appName.toUpperCase()!=="MICROSOFT INTERNET EXPLORER",Xi.NO_FO=typeof window<"u"&&(!document.createElementNS||document.createElementNS("http://www.w3.org/2000/svg","foreignObject").toString()!=="[object SVGForeignObjectElement]"||navigator.userAgent.indexOf("Opera/")>=0),Xi.IS_WIN=typeof window<"u"&&navigator.appVersion.indexOf("Win")>0,Xi.IS_MAC=typeof window<"u"&&navigator.appVersion.indexOf("Mac")>0,Xi.IS_CHROMEOS=typeof window<"u"&&/\bCrOS\b/.test(navigator.appVersion),Xi.IS_TOUCH=typeof window<"u"&&"ontouchstart"in document.documentElement,Xi.IS_POINTER=typeof window<"u"&&window.PointerEvent!=null&&!(navigator.appVersion.indexOf("Mac")>0),Xi.IS_LOCAL=typeof window<"u"&&document.location.href.indexOf("http://")<0&&document.location.href.indexOf("https://")<0,Xi.isBrowserSupported=()=>Xi.IS_SVG;let Client=Xi;const getMainEvent=Y=>{let T=Y;return(T.type==="touchstart"||T.type==="touchmove")&&T.touches&&T.touches[0]?T=T.touches[0]:T.type==="touchend"&&T.changedTouches&&T.changedTouches[0]&&(T=T.changedTouches[0]),T},getClientX=Y=>getMainEvent(Y).clientX,getClientY=Y=>getMainEvent(Y).clientY,getSource=Y=>Y.target,isConsumed=Y=>{const T=Y;return T.isConsumed!==void 0&&T.isConsumed},isTouchEvent=Y=>{const T=Y;return T.pointerType?T.pointerType==="touch"||T.pointerType===T.MSPOINTER_TYPE_TOUCH:T.mozInputSource!==void 0?T.mozInputSource===5:T.type.indexOf("touch")===0},isPenEvent=Y=>{const T=Y;return T.pointerType?T.pointerType=="pen"||T.pointerType===T.MSPOINTER_TYPE_PEN:T.mozInputSource!==void 0?T.mozInputSource===2:T.type.indexOf("pen")===0},isMultiTouchEvent=Y=>{const T=Y;return T.type&&T.type.indexOf("touch")==0&&T.touches!==void 0&&T.touches.length>1},isMouseEvent=Y=>{const T=Y;return T.pointerType?T.pointerType=="mouse"||T.pointerType===T.MSPOINTER_TYPE_MOUSE:T.mozInputSource!==void 0?T.mozInputSource===1:T.type.indexOf("mouse")===0},isLeftMouseButton=Y=>"buttons"in Y&&(Y.type==="mousedown"||Y.type==="mousemove")?Y.buttons===1:Y.which!==void 0?Y.which===1:Y.button===1,isRightMouseButton=Y=>Y.button===2,isPopupTrigger=Y=>isRightMouseButton(Y)||Client.IS_MAC&&isControlDown(Y)&&!isShiftDown(Y)&&!isMetaDown(Y)&&!isAltDown(Y),isShiftDown=Y=>Y.shiftKey,isAltDown=Y=>Y.altKey,isControlDown=Y=>Y.ctrlKey,isMetaDown=Y=>Y.metaKey,extractTextWithWhitespace=Y=>{const T=["BLOCKQUOTE","DIV","H1","H2","H3","H4","H5","H6","OL","P","PRE","TABLE","UL"],k=[];function Z(ee){if(!(ee.length==1&&(ee[0].nodeName=="BR"||ee[0].innerHTML==`
`)))for(let te=0;te<ee.length;te+=1){const ne=ee[te];ne.nodeName=="BR"||ne.innerHTML==`
`||(ee.length==1||te==0)&&ne.nodeName=="DIV"&&ne.innerHTML.toLowerCase()=="<br>"?k.push(`
`):(ne.nodeType===3||ne.nodeType===4?ne.nodeValue&&ne.nodeValue.length>0&&k.push(ne.nodeValue):ne.nodeType!==8&&ne.childNodes.length>0&&Z(Array.from(ne.childNodes)),te<ee.length-1&&T.indexOf(ee[te+1].nodeName)>=0&&k.push(`
`))}}return Z(Y),k.join("")},getTextContent=Y=>Y!=null&&Y.textContent?Y.textContent:"",write=(Y,T)=>{const Z=Y.ownerDocument.createTextNode(T);return Y!=null&&Y.appendChild(Z),Z},isNode=(Y,T=null,k,Z)=>Y!=null&&!isNaN(Y.nodeType)&&(T==null||Y.nodeName.toLowerCase()==T.toLowerCase())?k==null||Y.getAttribute(k)==Z:!1,isAncestorNode=(Y,T)=>{let k=T;for(;k!=null;){if(k===Y)return!0;k=k.parentNode}return!1},importNode=(Y,T,k)=>Y.importNode(T,k),clearSelection=()=>{const Y=window.getSelection?window.getSelection():document.selection;Y&&(Y.removeAllRanges?Y.removeAllRanges():Y.empty&&Y.empty())};class InternalMouseEvent{constructor(T,k=null){this.consumed=!1,this.evt=T,this.state=k,this.sourceState=k,this.graphX=0,this.graphY=0}getEvent(){return this.evt}getSource(){return getSource(this.evt)}isSource(T){return T?isAncestorNode(T.node,this.getSource()):!1}getX(){return getClientX(this.getEvent())}getY(){return getClientY(this.getEvent())}getGraphX(){return this.graphX}getGraphY(){return this.graphY}getState(){return this.state}getCell(){const T=this.getState();return T?T.cell:null}isPopupTrigger(){return isPopupTrigger(this.getEvent())}isConsumed(){return this.consumed}consume(T){T=T||window.TouchEvent&&this.evt instanceof TouchEvent||isMouseEvent(this.evt),T&&this.evt.preventDefault&&this.evt.preventDefault(),this.consumed=!0}}let supportsPassive=!1;try{document.addEventListener("test",()=>{},Object.defineProperty&&Object.defineProperty({},"passive",{get:()=>{supportsPassive=!0}}))}catch{}const oi=class oi{static addListener(T,k,Z){T.addEventListener(k,Z,supportsPassive?{passive:!1}:!1),T.mxListenerList||(T.mxListenerList=[]);const ee={name:k,f:Z};T.mxListenerList.push(ee)}static removeListener(T,k,Z){if(T.removeEventListener(k,Z,!1),T.mxListenerList){const ee=T.mxListenerList.length;for(let te=0;te<ee;te+=1)if(T.mxListenerList[te].f===Z){T.mxListenerList.splice(te,1);break}}}static removeAllListeners(T){const k=T.mxListenerList;if(k)for(;k.length>0;){const Z=k[0];oi.removeListener(T,Z.name,Z.f)}}static addGestureListeners(T,k=null,Z=null,ee=null){k&&oi.addListener(T,Client.IS_POINTER?"pointerdown":"mousedown",k),Z&&oi.addListener(T,Client.IS_POINTER?"pointermove":"mousemove",Z),ee&&oi.addListener(T,Client.IS_POINTER?"pointerup":"mouseup",ee),!Client.IS_POINTER&&Client.IS_TOUCH&&(k&&oi.addListener(T,"touchstart",k),Z&&oi.addListener(T,"touchmove",Z),ee&&oi.addListener(T,"touchend",ee))}static removeGestureListeners(T,k,Z,ee){k&&oi.removeListener(T,Client.IS_POINTER?"pointerdown":"mousedown",k),Z&&oi.removeListener(T,Client.IS_POINTER?"pointermove":"mousemove",Z),ee&&oi.removeListener(T,Client.IS_POINTER?"pointerup":"mouseup",ee),!Client.IS_POINTER&&Client.IS_TOUCH&&(k&&oi.removeListener(T,"touchstart",k),Z&&oi.removeListener(T,"touchmove",Z),ee&&oi.removeListener(T,"touchend",ee))}static redirectMouseEvents(T,k,Z=null,ee=null,te=null,ne=null,me=null){const Ve=Ye=>typeof Z=="function"?Z(Ye):Z;oi.addGestureListeners(T,Ye=>{ee?ee(Ye):isConsumed(Ye)||k.fireMouseEvent(oi.MOUSE_DOWN,new InternalMouseEvent(Ye,Ve(Ye)))},Ye=>{te?te(Ye):isConsumed(Ye)||k.fireMouseEvent(oi.MOUSE_MOVE,new InternalMouseEvent(Ye,Ve(Ye)))},Ye=>{ne?ne(Ye):isConsumed(Ye)||k.fireMouseEvent(oi.MOUSE_UP,new InternalMouseEvent(Ye,Ve(Ye)))}),oi.addListener(T,"dblclick",Ye=>{if(me)me(Ye);else if(!isConsumed(Ye)){const et=Ve(Ye);k.dblClick(Ye,et==null?void 0:et.cell)}})}static release(T){try{oi.removeAllListeners(T);const k=T.childNodes;if(k!==void 0){const Z=k.length;for(let ee=0;ee<Z;ee+=1)oi.release(k[ee])}}catch{}}static addMouseWheelListener(T,k){if(T!=null){const Z=ee=>{ee.ctrlKey&&ee.preventDefault(),(Math.abs(ee.deltaX)>.5||Math.abs(ee.deltaY)>.5)&&T(ee,ee.deltaY==0?-ee.deltaX>0:-ee.deltaY>0)};if(k=k??window,Client.IS_SF&&!Client.IS_TOUCH){let ee=1;oi.addListener(k,"gesturestart",te=>{oi.consume(te),ee=1}),oi.addListener(k,"gesturechange",te=>{if(oi.consume(te),typeof te.scale=="number"){const ne=ee-te.scale;Math.abs(ne)>.2&&(T(te,ne<0,!0),ee=te.scale)}}),oi.addListener(k,"gestureend",te=>{oi.consume(te)})}else{let ee=[],te=0,ne=0;oi.addGestureListeners(k,me=>{!isMouseEvent(me)&&me.pointerId!=null&&ee.push(me)},me=>{if(!isMouseEvent(me)&&ee.length==2){for(let it=0;it<ee.length;it+=1)if(me.pointerId==ee[it].pointerId){ee[it]=me;break}const Ve=Math.abs(ee[0].clientX-ee[1].clientX),Ye=Math.abs(ee[0].clientY-ee[1].clientY),et=Math.abs(Ve-te),tt=Math.abs(Ye-ne);if(et>oi.PINCH_THRESHOLD||tt>oi.PINCH_THRESHOLD){const it=ee[0].clientX+(ee[1].clientX-ee[0].clientX)/2,st=ee[0].clientY+(ee[1].clientY-ee[0].clientY)/2;T(ee[0],et>tt?Ve>te:Ye>ne,!0,it,st),te=Ve,ne=Ye}}},me=>{ee=[],te=0,ne=0})}oi.addListener(k,"wheel",Z)}}static disableContextMenu(T){oi.addListener(T,"contextmenu",k=>(k.preventDefault&&k.preventDefault(),!1))}static consume(T,k=!0,Z=!0){k&&(T.preventDefault?(Z&&T.stopPropagation(),T.preventDefault()):Z&&(T.cancelBubble=!0)),T.isConsumed=!0,T.preventDefault||(T.returnValue=!1)}};oi.LABEL_HANDLE=-1,oi.ROTATION_HANDLE=-2,oi.CUSTOM_HANDLE=-100,oi.VIRTUAL_HANDLE=-1e5,oi.MOUSE_DOWN="mouseDown",oi.MOUSE_MOVE="mouseMove",oi.MOUSE_UP="mouseUp",oi.ACTIVATE="activate",oi.RESIZE_START="resizeStart",oi.RESIZE="resize",oi.RESIZE_END="resizeEnd",oi.MOVE_START="moveStart",oi.MOVE="move",oi.MOVE_END="moveEnd",oi.PAN_START="panStart",oi.PAN="pan",oi.PAN_END="panEnd",oi.MINIMIZE="minimize",oi.NORMALIZE="normalize",oi.MAXIMIZE="maximize",oi.HIDE="hide",oi.SHOW="show",oi.CLOSE="close",oi.DESTROY="destroy",oi.REFRESH="refresh",oi.SIZE="size",oi.SELECT="select",oi.FIRED="fired",oi.FIRE_MOUSE_EVENT="fireMouseEvent",oi.GESTURE="gesture",oi.TAP_AND_HOLD="tapAndHold",oi.GET="get",oi.RECEIVE="receive",oi.CONNECT="connect",oi.DISCONNECT="disconnect",oi.SUSPEND="suspend",oi.RESUME="resume",oi.MARK="mark",oi.ROOT="root",oi.POST="post",oi.OPEN="open",oi.SAVE="save",oi.BEFORE_ADD_VERTEX="beforeAddVertex",oi.ADD_VERTEX="addVertex",oi.AFTER_ADD_VERTEX="afterAddVertex",oi.DONE="done",oi.EXECUTE="execute",oi.EXECUTED="executed",oi.BEGIN_UPDATE="beginUpdate",oi.START_EDIT="startEdit",oi.END_UPDATE="endUpdate",oi.END_EDIT="endEdit",oi.BEFORE_UNDO="beforeUndo",oi.UNDO="undo",oi.REDO="redo",oi.CHANGE="change",oi.NOTIFY="notify",oi.LAYOUT_CELLS="layoutCells",oi.CLICK="click",oi.SCALE="scale",oi.TRANSLATE="translate",oi.SCALE_AND_TRANSLATE="scaleAndTranslate",oi.UP="up",oi.DOWN="down",oi.ADD="add",oi.REMOVE="remove",oi.CLEAR="clear",oi.ADD_CELLS="addCells",oi.CELLS_ADDED="cellsAdded",oi.MOVE_CELLS="moveCells",oi.CELLS_MOVED="cellsMoved",oi.RESIZE_CELLS="resizeCells",oi.CELLS_RESIZED="cellsResized",oi.TOGGLE_CELLS="toggleCells",oi.CELLS_TOGGLED="cellsToggled",oi.ORDER_CELLS="orderCells",oi.CELLS_ORDERED="cellsOrdered",oi.REMOVE_CELLS="removeCells",oi.CELLS_REMOVED="cellsRemoved",oi.GROUP_CELLS="groupCells",oi.UNGROUP_CELLS="ungroupCells",oi.REMOVE_CELLS_FROM_PARENT="removeCellsFromParent",oi.FOLD_CELLS="foldCells",oi.CELLS_FOLDED="cellsFolded",oi.ALIGN_CELLS="alignCells",oi.LABEL_CHANGED="labelChanged",oi.CONNECT_CELL="connectCell",oi.CELL_CONNECTED="cellConnected",oi.SPLIT_EDGE="splitEdge",oi.FLIP_EDGE="flipEdge",oi.START_EDITING="startEditing",oi.EDITING_STARTED="editingStarted",oi.EDITING_STOPPED="editingStopped",oi.ADD_OVERLAY="addOverlay",oi.REMOVE_OVERLAY="removeOverlay",oi.UPDATE_CELL_SIZE="updateCellSize",oi.ESCAPE="escape",oi.DOUBLE_CLICK="doubleClick",oi.START="start",oi.RESET="reset",oi.PINCH_THRESHOLD=10;let InternalEvent=oi;class CellHighlight{constructor(T,k,Z,ee){this.strokeWidth=0,this.dashed=!1,this.opacity=100,this.shape=null,this.keepOnTop=!1,this.state=null,this.spacing=2,this.graph=T,this.highlightColor=k??DEFAULT_VALID_COLOR,this.strokeWidth=Z??HIGHLIGHT_STROKEWIDTH,this.dashed=ee??!1,this.opacity=HIGHLIGHT_OPACITY,this.repaintHandler=()=>{if(this.state){const te=this.graph.view.getState(this.state.cell);te?(this.state=te,this.repaint()):this.hide()}},this.graph.getView().addListener(InternalEvent.SCALE,this.repaintHandler),this.graph.getView().addListener(InternalEvent.TRANSLATE,this.repaintHandler),this.graph.getView().addListener(InternalEvent.SCALE_AND_TRANSLATE,this.repaintHandler),this.graph.getDataModel().addListener(InternalEvent.CHANGE,this.repaintHandler),this.resetHandler=()=>{this.hide()},this.graph.getView().addListener(InternalEvent.DOWN,this.resetHandler),this.graph.getView().addListener(InternalEvent.UP,this.resetHandler)}setHighlightColor(T){this.highlightColor=T,this.shape&&(this.shape.stroke=T)}drawHighlight(){var T;if(this.shape=this.createShape(),this.repaint(),this.shape){const k=this.shape.node;!this.keepOnTop&&((T=k==null?void 0:k.parentNode)==null?void 0:T.firstChild)!==k&&k.parentNode&&k.parentNode.insertBefore(k,k.parentNode.firstChild)}}createShape(){if(!this.state)return null;let T=this.state.style.shape,k=null;if(T!=null&&T.startsWith("lvgl")){let Z=this.graph.cellRenderer.getShape("rectangle");k=new Z}else k=this.graph.cellRenderer.createShape(this.state);return k.svgStrokeTolerance=this.graph.getEventTolerance(),k.points=this.state.absolutePoints,k.apply(this.state),k.stroke=this.highlightColor,k.opacity=this.opacity,k.isDashed=this.dashed,k.isShadow=!1,k.dialect=DIALECT.SVG,k.init(this.graph.getView().getOverlayPane()),InternalEvent.redirectMouseEvents(k.node,this.graph,this.state),this.graph.dialect!==DIALECT.SVG?k.pointerEvents=!1:k.svgPointerEvents="stroke",k}getStrokeWidth(T=null){return this.strokeWidth}repaint(){this.state&&this.shape&&(this.shape.scale=this.state.view.scale,this.state.cell.isEdge()?(this.shape.strokeWidth=this.getStrokeWidth(),this.shape.points=this.state.absolutePoints,this.shape.outline=!1):(this.shape.bounds=new Rectangle(this.state.x-this.spacing,this.state.y-this.spacing,this.state.width+2*this.spacing,this.state.height+2*this.spacing),this.shape.rotation=this.state.style.rotation??0,this.shape.strokeWidth=this.getStrokeWidth()/this.state.view.scale,this.shape.outline=!0),this.state.shape&&this.shape.setCursor(this.state.shape.getCursor()),this.shape.redraw())}hide(){this.highlight(null)}highlight(T=null){this.state!==T&&(this.shape&&(this.shape.destroy(),this.shape=null),this.state=T,this.state&&this.drawHighlight())}isHighlightAt(T,k){let Z=!1;if(this.shape&&document.elementFromPoint){let ee=document.elementFromPoint(T,k);for(;ee;){if(ee===this.shape.node){Z=!0;break}ee=ee.parentNode}}return Z}destroy(){const T=this.graph;T.getView().removeListener(this.resetHandler),T.getView().removeListener(this.repaintHandler),T.getDataModel().removeListener(this.repaintHandler),this.shape&&(this.shape.destroy(),this.shape=null)}}const ltrim=(Y,T="\\s")=>Y!=null?Y.replace(new RegExp(`^[${T}]+`,"g"),""):null,rtrim=(Y,T="\\s")=>Y!=null?Y.replace(new RegExp(`[${T}]+$`,"g"),""):null,trim=(Y,T)=>ltrim(rtrim(Y,T),T),getFunctionName=Y=>{let T=null;if(Y!=null){if(Y.name!=null)T=Y.name;else if(T=trim(Y.toString()),T!==null&&/^function\s/.test(T)&&(T=ltrim(T.substring(9)),T!==null)){const k=T.indexOf("(");k>0&&(T=T.substring(0,k))}}return T},replaceTrailingNewlines=(Y,T)=>{let k="";for(;Y.length>0&&Y.charAt(Y.length-1)==`
`;)Y=Y.substring(0,Y.length-1),k+=T;return Y+k},htmlEntities=(Y,T=!0)=>(Y=String(Y||""),Y=Y.replace(/&/g,"&amp;"),Y=Y.replace(/"/g,"&quot;"),Y=Y.replace(/'/g,"&#39;"),Y=Y.replace(/</g,"&lt;"),Y=Y.replace(/>/g,"&gt;"),T&&(Y=Y.replace(/\n/g,"&#xa;")),Y),getStringValue=(Y,T,k)=>{let Z=Y!=null?Y[T]:null;return Z==null&&(Z=k),Z==null?null:String(Z)},getNumber=(Y,T,k)=>{let Z=Y!=null?Y[T]:null;return Z==null&&(Z=k),Number(Z)},$n=class $n{static get(T){if(T){if(T[IDENTITY_FIELD_NAME]===null||T[IDENTITY_FIELD_NAME]===void 0)if(typeof T=="object"){const k=getFunctionName(T.constructor);T[IDENTITY_FIELD_NAME]=`${k}#${$n.counter++}`}else typeof T=="function"&&(T[IDENTITY_FIELD_NAME]=`Function#${$n.counter++}`);return T[IDENTITY_FIELD_NAME]}return null}static clear(T){delete T[IDENTITY_FIELD_NAME]}};$n.FIELD_NAME=IDENTITY_FIELD_NAME,$n.counter=0;let ObjectIdentity=$n;class Dictionary{constructor(){this.map={},this.clear()}clear(){this.map={}}get(T){const k=ObjectIdentity.get(T);return this.map[k]??null}put(T,k){const Z=ObjectIdentity.get(T),ee=this.map[Z];return this.map[Z]=k,ee??null}remove(T){const k=ObjectIdentity.get(T),Z=this.map[k];return delete this.map[k],Z??null}getKeys(){const T=[];for(const k in this.map)T.push(k);return T}getValues(){const T=[];for(const k in this.map)T.push(this.map[k]);return T}visit(T){for(const k in this.map)T(k,this.map[k])}}const Vn=class Vn{constructor(){throw new Error("Static class can't be instantiated!")}static create(T){let k="",Z=T.getParent();for(;Z;)k=Z.getIndex(T)+Vn.PATH_SEPARATOR+k,T=Z,Z=T.getParent();const ee=k.length;return ee>1&&(k=k.substring(0,ee-1)),k}static getParentPath(T){const k=T.lastIndexOf(Vn.PATH_SEPARATOR);return k>=0?T.substring(0,k):T.length>0?"":null}static resolve(T,k){let Z=T;const ee=k.split(Vn.PATH_SEPARATOR);for(let te=0;te<ee.length;te+=1)Z=Z.getChildAt(parseInt(ee[te]));return Z}static compare(T,k){const Z=Math.min(T.length,k.length);let ee=0;for(let te=0;te<Z;te+=1)if(T[te]!==k[te]){if(T[te].length===0||k[te].length===0)ee=T[te]===k[te]?0:T[te]>k[te]?1:-1;else{const ne=parseInt(T[te]),me=parseInt(k[te]);ee=ne===me?0:ne>me?1:-1}break}if(ee===0){const te=T.length,ne=k.length;te!==ne&&(ee=te>ne?1:-1)}return ee}};Vn.PATH_SEPARATOR=".";let CellPath=Vn;const getCurrentStyle=Y=>!Y||Y.toString()==="[object ShadowRoot]"?null:window.getComputedStyle(Y,""),parseCssNumber=Y=>{Y==="thin"?Y="2":Y==="medium"?Y="4":Y==="thick"&&(Y="6");let T=parseFloat(Y);return Number.isNaN(T)&&(T=0),T},setPrefixedStyle=(Y,T,k)=>{let Z=null;Client.IS_SF||Client.IS_GC?Z="Webkit":Client.IS_MT&&(Z="Moz"),Y.setProperty(T,k),Z!==null&&T.length>0&&(T=Z+T.substring(0,1).toUpperCase()+T.substring(1),Y.setProperty(T,k))},hasScrollbars=Y=>{const T=getCurrentStyle(Y);return!!T&&(T.overflow==="scroll"||T.overflow==="auto")},getDocumentSize=()=>{const Y=document.body,T=document.documentElement;try{return new Rectangle(0,0,Y.clientWidth??T.clientWidth,Math.max(Y.clientHeight??0,T.clientHeight))}catch{return new Rectangle}},fit=Y=>{const T=getDocumentSize(),k=Y.offsetLeft,Z=Y.offsetWidth,ee=getDocumentScrollOrigin(Y.ownerDocument),te=ee.x,ne=ee.y,me=te+T.width;k+Z>me&&(Y.style.left=`${Math.max(te,me-Z)}px`);const Ve=Y.offsetTop,Ye=Y.offsetHeight,et=ne+T.height;Ve+Ye>et&&(Y.style.top=`${Math.max(ne,et-Ye)}px`)},getOffset=(Y,T=!1)=>{let k=0,Z=0,ee=!1,te=Y;const ne=document.body,me=document.documentElement;for(;te!=null&&te!=ne&&te!=me&&!ee;){const Ye=getCurrentStyle(te);Ye!=null&&(ee=ee||Ye.position=="fixed"),te=te.parentNode}if(!T&&!ee){const Ye=getDocumentScrollOrigin(Y.ownerDocument);k+=Ye.x,Z+=Ye.y}const Ve=Y.getBoundingClientRect();return Ve!=null&&(k+=Ve.left,Z+=Ve.top),new Point$1(k,Z)},getDocumentScrollOrigin=Y=>{const T=Y.defaultView||Y.parentWindow,k=T!=null&&window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,Z=T!=null&&window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return new Point$1(k,Z)},getScrollOrigin=(Y=null,T=!1,k=!0)=>{const Z=Y!=null?Y.ownerDocument:document,ee=Z.body,te=Z.documentElement,ne=new Point$1;let me=!1;for(;Y!=null&&Y!=ee&&Y!=te;){!Number.isNaN(Y.scrollLeft)&&!Number.isNaN(Y.scrollTop)&&(ne.x+=Y.scrollLeft,ne.y+=Y.scrollTop);const Ve=getCurrentStyle(Y);Ve!=null&&(me=me||Ve.position=="fixed"),Y=T?Y.parentNode:null}if(!me&&k){const Ve=getDocumentScrollOrigin(Z);ne.x+=Ve.x,ne.y+=Ve.y}return ne},convertPoint=(Y,T,k)=>{const Z=getScrollOrigin(Y,!1),ee=getOffset(Y);return ee.x-=Z.x,ee.y-=Z.y,new Point$1(T-ee.x,k-ee.y)},setCellStyles=(Y,T,k,Z)=>{T.length>0&&Y.batchUpdate(()=>{for(let ee=0;ee<T.length;ee+=1){const te=T[ee];if(te){const ne=te.getClonedStyle();ne[k]=Z,Y.setStyle(te,ne)}}})},setCellStyleFlags=(Y,T,k,Z,ee)=>{T.length>0&&Y.batchUpdate(()=>{for(let te=0;te<T.length;te+=1){const ne=T[te];if(ne){const me=setStyleFlag(ne.getClonedStyle(),k,Z,ee);Y.setStyle(ne,me)}}})},setStyleFlag=(Y,T,k,Z)=>{const ee=Y[T];return ee===void 0?Y[T]=Z===void 0||Z?k:0:Z===void 0?Y[T]=ee^k:Z?Y[T]=ee|k:Y[T]=ee&~k,Y},setOpacity=(Y,T)=>{Y.style.opacity=String(T/100)},matchBinaryMask=(Y,T)=>(Y&T)===T,getSizeForString=(Y,T=DEFAULT_FONTSIZE,k=DEFAULT_FONTFAMILY,Z=null,ee=null)=>{const te=document.createElement("div");if(te.style.fontFamily=k,te.style.fontSize=`${Math.round(T)}px`,te.style.lineHeight=`${Math.round(T*LINE_HEIGHT)}px`,ee!==null){matchBinaryMask(ee,FONT.BOLD)&&(te.style.fontWeight="bold"),matchBinaryMask(ee,FONT.ITALIC)&&(te.style.fontWeight="italic");const me=[];matchBinaryMask(ee,FONT.UNDERLINE)&&me.push("underline"),matchBinaryMask(ee,FONT.STRIKETHROUGH)&&me.push("line-through"),me.length>0&&(te.style.textDecoration=me.join(" "))}te.style.position="absolute",te.style.visibility="hidden",te.style.display="inline-block",Z!==null?(te.style.width=`${Z}px`,te.style.whiteSpace="normal"):te.style.whiteSpace="nowrap",te.innerHTML=Y,document.body.appendChild(te);const ne=new Rectangle(0,0,te.offsetWidth,te.offsetHeight);return document.body.removeChild(te),ne},sortCells=(Y,T=!0)=>{const k=new Dictionary;return Y.sort((Z,ee)=>{let te=k.get(Z);te==null&&(te=CellPath.create(Z).split(CellPath.PATH_SEPARATOR),k.put(Z,te));let ne=k.get(ee);ne==null&&(ne=CellPath.create(ee).split(CellPath.PATH_SEPARATOR),k.put(ee,ne));const me=CellPath.compare(te,ne);return me==0?0:me>0==T?1:-1}),Y},getAlignmentAsPoint=(Y,T)=>{let k=-.5,Z=-.5;return Y===ALIGN.LEFT?k=0:Y===ALIGN.RIGHT&&(k=-1),T===ALIGN.TOP?Z=0:T===ALIGN.BOTTOM&&(Z=-1),new Point$1(k,Z)};class NoOpLogger{debug(T){}enter(T){}error(T,...k){}info(T){}leave(T,k){}show(){}trace(T){}warn(T){}}const GlobalConfig={logger:new NoOpLogger},isNullish=Y=>Y==null,isNotNullish=Y=>!isNullish(Y),mixInto=Y=>T=>{const k=Reflect.ownKeys(T);try{for(const Z of k)Object.defineProperty(Y.prototype,Z,{value:T[Z],writable:!0})}catch(Z){GlobalConfig.logger.error("Error while mixing",Z)}},getValue=(Y,T,k)=>{let Z=Y!=null?Y[T]:null;return Z==null&&(Z=k),Z},toRadians=Y=>Math.PI*Y/180,arcToCurves=(Y,T,k,Z,ee,te,ne,me,Ve)=>{if(me-=Y,Ve-=T,k===0||Z===0)return[];const Ye=ne,et=ee;k=Math.abs(k),Z=Math.abs(Z);const tt=-me/2,it=-Ve/2,st=Math.cos(et*Math.PI/180),nt=Math.sin(et*Math.PI/180),rt=st*tt+nt*it,lt=-1*nt*tt+st*it,ot=rt*rt,ht=lt*lt,dt=k*k,ct=Z*Z,ut=ot/dt+ht/ct;let ft;if(ut>1)k=Math.sqrt(ut)*k,Z=Math.sqrt(ut)*Z,ft=0;else{let zt=1;te===Ye&&(zt=-1),ft=zt*Math.sqrt((dt*ct-dt*ht-ct*ot)/(dt*ht+ct*ot))}const vt=ft*k*lt/Z,mt=-1*ft*Z*rt/k,_t=st*vt-nt*mt+me/2,Et=nt*vt+st*mt+Ve/2;let Tt=Math.atan2((lt-mt)/Z,(rt-vt)/k)-Math.atan2(0,1),xt=Tt>=0?Tt:2*Math.PI+Tt;Tt=Math.atan2((-lt-mt)/Z,(-rt-vt)/k)-Math.atan2((lt-mt)/Z,(rt-vt)/k);let yt=Tt>=0?Tt:2*Math.PI+Tt;!Ye&&yt>0?yt-=2*Math.PI:Ye&&yt<0&&(yt+=2*Math.PI);const St=yt*2/Math.PI,At=Math.ceil(St<0?-1*St:St),Ct=yt/At,It=8/3*Math.sin(Ct/4)*Math.sin(Ct/4)/Math.sin(Ct/2),Ot=st*k,Dt=st*Z,Mt=nt*k,$t=nt*Z;let Ht=Math.cos(xt),Ft=Math.sin(xt),jt=-It*(Ot*Ft+$t*Ht),Gt=-It*(Mt*Ft-Dt*Ht),Kt=0,Pt=0;const kt=[];for(let zt=0;zt<At;++zt){xt+=Ct,Ht=Math.cos(xt),Ft=Math.sin(xt),Kt=Ot*Ht-$t*Ft+_t,Pt=Mt*Ht+Dt*Ft+Et;const Wt=-It*(Ot*Ft+$t*Ht),si=-It*(Mt*Ft-Dt*Ht),ei=zt*6;kt[ei]=Number(jt+Y),kt[ei+1]=Number(Gt+T),kt[ei+2]=Number(Kt-Wt+Y),kt[ei+3]=Number(Pt-si+T),kt[ei+4]=Number(Kt+Y),kt[ei+5]=Number(Pt+T),jt=Kt+Wt,Gt=Pt+si}return kt},getBoundingBox=(Y,T,k=null)=>{let Z=null;if(Y&&T!==0){const ee=toRadians(T),te=Math.cos(ee),ne=Math.sin(ee);k=k??new Point$1(Y.x+Y.width/2,Y.y+Y.height/2);let me=new Point$1(Y.x,Y.y),Ve=new Point$1(Y.x+Y.width,Y.y),Ye=new Point$1(Ve.x,Y.y+Y.height),et=new Point$1(Y.x,Ye.y);me=getRotatedPoint(me,te,ne,k),Ve=getRotatedPoint(Ve,te,ne,k),Ye=getRotatedPoint(Ye,te,ne,k),et=getRotatedPoint(et,te,ne,k),Z=new Rectangle(me.x,me.y,0,0),Z.add(new Rectangle(Ve.x,Ve.y,0,0)),Z.add(new Rectangle(Ye.x,Ye.y,0,0)),Z.add(new Rectangle(et.x,et.y,0,0))}return Z},getRotatedPoint=(Y,T,k,Z=new Point$1)=>{const ee=Y.x-Z.x,te=Y.y-Z.y,ne=ee*T-te*k,me=te*T+ee*k;return new Point$1(ne+Z.x,me+Z.y)},getPortConstraints=(Y,T,k,Z)=>{const ee=getValue(Y.style,"portConstraint",getValue(T.style,k?"sourcePortConstraint":"targetPortConstraint",null));if(isNullish(ee))return Z;const te=ee.toString();let ne=DIRECTION_MASK.NONE;const me=Y.style.portConstraintRotation??!1;let Ve=0;me&&(Ve=Y.style.rotation??0);let Ye=0;if(Ve>45?(Ye=1,Ve>=135&&(Ye=2)):Ve<-45&&(Ye=3,Ve<=-135&&(Ye=2)),te.indexOf(DIRECTION.NORTH)>=0)switch(Ye){case 0:ne|=DIRECTION_MASK.NORTH;break;case 1:ne|=DIRECTION_MASK.EAST;break;case 2:ne|=DIRECTION_MASK.SOUTH;break;case 3:ne|=DIRECTION_MASK.WEST;break}if(te.indexOf(DIRECTION.WEST)>=0)switch(Ye){case 0:ne|=DIRECTION_MASK.WEST;break;case 1:ne|=DIRECTION_MASK.NORTH;break;case 2:ne|=DIRECTION_MASK.EAST;break;case 3:ne|=DIRECTION_MASK.SOUTH;break}if(te.indexOf(DIRECTION.SOUTH)>=0)switch(Ye){case 0:ne|=DIRECTION_MASK.SOUTH;break;case 1:ne|=DIRECTION_MASK.WEST;break;case 2:ne|=DIRECTION_MASK.NORTH;break;case 3:ne|=DIRECTION_MASK.EAST;break}if(te.indexOf(DIRECTION.EAST)>=0)switch(Ye){case 0:ne|=DIRECTION_MASK.EAST;break;case 1:ne|=DIRECTION_MASK.SOUTH;break;case 2:ne|=DIRECTION_MASK.WEST;break;case 3:ne|=DIRECTION_MASK.NORTH;break}return ne},reversePortConstraints=Y=>{let T=0;return T=(Y&DIRECTION_MASK.WEST)<<3,T|=(Y&DIRECTION_MASK.NORTH)<<1,T|=(Y&DIRECTION_MASK.SOUTH)>>1,T|=(Y&DIRECTION_MASK.EAST)>>3,T},findNearestSegment=(Y,T,k)=>{let Z=-1;if(Y.absolutePoints.length>0){let ee=Y.absolutePoints[0],te=null;for(let ne=1;ne<Y.absolutePoints.length;ne+=1){const me=Y.absolutePoints[ne];if(!ee||!me)continue;const Ve=ptSegDistSq(ee.x,ee.y,me.x,me.y,T,k);(te==null||Ve<te)&&(te=Ve,Z=ne-1),ee=me}}return Z},getDirectedBounds=(Y,T,k,Z,ee)=>{const te=getValue(k,"direction",DIRECTION.EAST);if(Z=Z??getValue(k,"flipH",!1),ee=ee??getValue(k,"flipV",!1),T.x=Math.round(Math.max(0,Math.min(Y.width,T.x))),T.y=Math.round(Math.max(0,Math.min(Y.height,T.y))),T.width=Math.round(Math.max(0,Math.min(Y.width,T.width))),T.height=Math.round(Math.max(0,Math.min(Y.height,T.height))),ee&&(te===DIRECTION.SOUTH||te===DIRECTION.NORTH)||Z&&(te===DIRECTION.EAST||te===DIRECTION.WEST)){const me=T.x;T.x=T.width,T.width=me}if(Z&&(te===DIRECTION.SOUTH||te===DIRECTION.NORTH)||ee&&(te===DIRECTION.EAST||te===DIRECTION.WEST)){const me=T.y;T.y=T.height,T.height=me}const ne=Rectangle.fromRectangle(T);return te===DIRECTION.SOUTH?(ne.y=T.x,ne.x=T.height,ne.width=T.y,ne.height=T.width):te===DIRECTION.WEST?(ne.y=T.height,ne.x=T.width,ne.width=T.x,ne.height=T.y):te===DIRECTION.NORTH&&(ne.y=T.width,ne.x=T.y,ne.width=T.height,ne.height=T.x),new Rectangle(Y.x+ne.x,Y.y+ne.y,Y.width-ne.width-ne.x,Y.height-ne.height-ne.y)},contains=(Y,T,k)=>Y.x<=T&&Y.x+Y.width>=T&&Y.y<=k&&Y.y+Y.height>=k,intersects=(Y,T)=>{let k=Y.width,Z=Y.height,ee=T.width,te=T.height;if(ee<=0||te<=0||k<=0||Z<=0)return!1;const ne=Y.x,me=Y.y,Ve=T.x,Ye=T.y;return ee+=Ve,te+=Ye,k+=ne,Z+=me,(ee<Ve||ee>ne)&&(te<Ye||te>me)&&(k<ne||k>Ve)&&(Z<me||Z>Ye)},intersectsHotspot=(Y,T,k,Z,ee,te)=>{if(Z=Z??1,ee=ee??0,te=te??0,Z>0){let ne=Y.getCenterX(),me=Y.getCenterY(),Ve=Y.width,Ye=Y.height;const et=getValue(Y.style,"startSize")*Y.view.scale;et>0&&(getValue(Y.style,"horizontal",!0)?(me=Y.y+et/2,Ye=et):(ne=Y.x+et/2,Ve=et)),Ve=Math.max(ee,Ve*Z),Ye=Math.max(ee,Ye*Z),te>0&&(Ve=Math.min(Ve,te),Ye=Math.min(Ye,te));const tt=new Rectangle(ne-Ve/2,me-Ye/2,Ve,Ye),it=toRadians(getValue(Y.style,"rotation")||0);if(it!=0){const st=Math.cos(-it),nt=Math.sin(-it),rt=new Point$1(Y.getCenterX(),Y.getCenterY()),lt=getRotatedPoint(new Point$1(T,k),st,nt,rt);T=lt.x,k=lt.y}return contains(tt,T,k)}return!0},isNumeric=Y=>!Number.isNaN(parseFloat(Y))&&isFinite(+Y)&&(typeof Y!="string"||Y.toLowerCase().indexOf("0x")<0),isInteger=Y=>String(parseInt(Y))===String(Y),mod=(Y,T)=>(Y%T+T)%T,intersection=(Y,T,k,Z,ee,te,ne,me)=>{const Ve=(me-te)*(k-Y)-(ne-ee)*(Z-T),Ye=(ne-ee)*(T-te)-(me-te)*(Y-ee),et=(k-Y)*(T-te)-(Z-T)*(Y-ee),tt=Ye/Ve,it=et/Ve;if(tt>=0&&tt<=1&&it>=0&&it<=1){const st=Y+tt*(k-Y),nt=T+tt*(Z-T);return new Point$1(st,nt)}return null},ptSegDistSq=(Y,T,k,Z,ee,te)=>{k-=Y,Z-=T,ee-=Y,te-=T;let ne=ee*k+te*Z,me;ne<=0?me=0:(ee=k-ee,te=Z-te,ne=ee*k+te*Z,ne<=0?me=0:me=ne*ne/(k*k+Z*Z));let Ve=ee*ee+te*te-me;return Ve<0&&(Ve=0),Ve},relativeCcw=(Y,T,k,Z,ee,te)=>{k-=Y,Z-=T,ee-=Y,te-=T;let ne=ee*Z-te*k;return ne==0&&(ne=ee*k+te*Z,ne>0&&(ee-=k,te-=Z,ne=ee*k+te*Z,ne<0&&(ne=0))),ne<0?-1:ne>0?1:0};class UrlConverter{constructor(){this.enabled=!0,this.baseUrl=null,this.baseDomain=null}updateBaseUrl(){this.baseDomain=`${location.protocol}//${location.host}`,this.baseUrl=this.baseDomain+location.pathname;const T=this.baseUrl.lastIndexOf("/");T>0&&(this.baseUrl=this.baseUrl.substring(0,T+1))}isEnabled(){return this.enabled}setEnabled(T){this.enabled=T}getBaseUrl(){return this.baseUrl}setBaseUrl(T){this.baseUrl=T}getBaseDomain(){return this.baseDomain}setBaseDomain(T){this.baseDomain=T}isRelativeUrl(T){return T&&T.substring(0,2)!=="//"&&T.substring(0,7)!=="http://"&&T.substring(0,8)!=="https://"&&T.substring(0,10)!=="data:image"&&T.substring(0,7)!=="file://"}convert(T){return this.isEnabled()&&this.isRelativeUrl(T)&&(this.getBaseUrl()||this.updateBaseUrl(),T.charAt(0)==="/"?T=this.getBaseDomain()+T:T=this.getBaseUrl()+T),T}}const clone$1=function Y(T,k=null,Z=!1){Z=Z??!1;let ee=null;if(T!=null&&typeof T.constructor=="function"){ee=new T.constructor;for(const te in T)te!=ObjectIdentity.FIELD_NAME&&(k==null||k.indexOf(te)<0)&&(!Z&&typeof T[te]=="object"?ee[te]=Y(T[te]):ee[te]=T[te])}return ee};class AbstractCanvas2D{constructor(){this.state=this.createState(),this.states=[],this.path=[],this.rotateHtml=!0,this.lastX=0,this.lastY=0,this.moveOp="M",this.lineOp="L",this.quadOp="Q",this.curveOp="C",this.closeOp="Z",this.pointerEvents=!1,this.pointerEventsValue=null,this.addOp=(T,...k)=>{if(this.path.push(T),k.length>1){const Z=this.state;for(let ee=1;ee<k.length;ee+=2)this.lastX=k[ee-1],this.lastY=k[ee],this.path.push(this.format((this.lastX+Z.dx)*Z.scale)),this.path.push(this.format((this.lastY+Z.dy)*Z.scale))}},this.converter=this.createUrlConverter(),this.reset()}createUrlConverter(){return new UrlConverter}reset(){this.state=this.createState(),this.states=[]}createState(){return{dx:0,dy:0,scale:1,alpha:1,fillAlpha:1,strokeAlpha:1,fillColor:NONE,gradientFillAlpha:1,gradientColor:NONE,gradientAlpha:1,gradientDirection:DIRECTION.EAST,strokeColor:NONE,strokeWidth:1,dashed:!1,dashPattern:"3 3",fixDash:!1,lineCap:"flat",lineJoin:"miter",miterLimit:10,fontColor:"#000000",fontBackgroundColor:NONE,fontBorderColor:NONE,fontSize:DEFAULT_FONTSIZE,fontFamily:DEFAULT_FONTFAMILY,fontStyle:0,shadow:!1,shadowColor:SHADOWCOLOR,shadowAlpha:SHADOW_OPACITY,shadowDx:SHADOW_OFFSET_X,shadowDy:SHADOW_OFFSET_Y,rotation:0,rotationCx:0,rotationCy:0}}format(T){return Math.round(T)}rotatePoint(T,k,Z,ee,te){const ne=Z*(Math.PI/180);return getRotatedPoint(new Point$1(T,k),Math.cos(ne),Math.sin(ne),new Point$1(ee,te))}save(){this.states.push(this.state),this.state=clone$1(this.state)}restore(){const T=this.states.pop();T&&(this.state=T)}setLink(T){}scale(T){this.state.scale*=T,this.state.strokeWidth!==null&&(this.state.strokeWidth*=T)}translate(T,k){this.state.dx+=T,this.state.dy+=k}rotate(T,k,Z,ee,te){}setAlpha(T){this.state.alpha=T}setFillAlpha(T){this.state.fillAlpha=T}setStrokeAlpha(T){this.state.strokeAlpha=T}setFillColor(T){this.state.fillColor=T??NONE,this.state.gradientColor=NONE}setGradient(T,k,Z,ee,te,ne,me,Ve=1,Ye=1){const et=this.state;et.fillColor=T,et.gradientFillAlpha=Ve,et.gradientColor=k,et.gradientAlpha=Ye,et.gradientDirection=me}setStrokeColor(T){this.state.strokeColor=T??NONE}setStrokeWidth(T){this.state.strokeWidth=T}setDashed(T,k=!1){this.state.dashed=T,this.state.fixDash=k}setDashPattern(T){this.state.dashPattern=T}setLineCap(T){this.state.lineCap=T}setLineJoin(T){this.state.lineJoin=T}setMiterLimit(T){this.state.miterLimit=T}setFontColor(T){this.state.fontColor=T??NONE}setFontBackgroundColor(T){this.state.fontBackgroundColor=T??NONE}setFontBorderColor(T){this.state.fontBorderColor=T??NONE}setFontSize(T){this.state.fontSize=T}setFontFamily(T){this.state.fontFamily=T}setFontStyle(T){this.state.fontStyle=T}setShadow(T){this.state.shadow=T}setShadowColor(T){this.state.shadowColor=T??NONE}setShadowAlpha(T){this.state.shadowAlpha=T}setShadowOffset(T,k){this.state.shadowDx=T,this.state.shadowDy=k}begin(){this.lastX=0,this.lastY=0,this.path=[]}moveTo(T,k){this.addOp(this.moveOp,T,k)}lineTo(T,k){this.addOp(this.lineOp,T,k)}quadTo(T,k,Z,ee){this.addOp(this.quadOp,T,k,Z,ee)}curveTo(T,k,Z,ee,te,ne){this.addOp(this.curveOp,T,k,Z,ee,te,ne)}drawCircle(T,k,Z){this.begin(),this.moveTo(T+Z,k),this.arcTo(Z,Z,0,!1,!0,T-Z,k),this.arcTo(Z,Z,0,!1,!0,T+Z,k),this.close(),this.stroke()}arcTo(T,k,Z,ee,te,ne,me){const Ve=arcToCurves(this.lastX,this.lastY,T,k,Z,ee,te,ne,me);if(Ve!=null)for(let Ye=0;Ye<Ve.length;Ye+=6)this.curveTo(Ve[Ye],Ve[Ye+1],Ve[Ye+2],Ve[Ye+3],Ve[Ye+4],Ve[Ye+5])}close(T,k,Z,ee,te,ne){this.addOp(this.closeOp)}}const equalPoints=(Y,T)=>{if(!Y&&T||Y&&!T||Y&&T&&Y.length!=T.length)return!1;if(Y&&T)for(let k=0;k<Y.length;k+=1){const Z=Y[k];if(!Z||Z&&!Z.equals(T[k]))return!1}return!0},equalEntries=(Y,T)=>{let k=0;if(!Y&&T||Y&&!T||Y&&T&&Y.length!=T.length)return!1;if(Y&&T){for(const Z in T)k++;for(const Z in Y)if(k--,(!Number.isNaN(Y[Z])||!Number.isNaN(T[Z]))&&Y[Z]!==T[Z])return!1}return k===0},removeDuplicates=Y=>{const T=new Dictionary,k=[];for(let Z=0;Z<Y.length;Z+=1)T.get(Y[Z])||(k.push(Y[Z]),T.put(Y[Z],!0));return k};class Geometry extends Rectangle{constructor(T=0,k=0,Z=0,ee=0){super(T,k,Z,ee),this.TRANSLATE_CONTROL_POINTS=!0,this.alternateBounds=null,this.sourcePoint=null,this.targetPoint=null,this.points=null,this.offset=null,this.relative=!1}setRelative(T){this.relative=T}swap(){if(this.alternateBounds){const T=new Rectangle(this.x,this.y,this.width,this.height);this.x=this.alternateBounds.x,this.y=this.alternateBounds.y,this.width=this.alternateBounds.width,this.height=this.alternateBounds.height,this.alternateBounds=T}}getTerminalPoint(T){return T?this.sourcePoint:this.targetPoint}setTerminalPoint(T,k){return k?this.sourcePoint=T:this.targetPoint=T,T}rotate(T,k){const Z=toRadians(T),ee=Math.cos(Z),te=Math.sin(Z);if(!this.relative){const ne=new Point$1(this.getCenterX(),this.getCenterY()),me=getRotatedPoint(ne,ee,te,k);this.x=Math.round(me.x-this.width/2),this.y=Math.round(me.y-this.height/2)}if(this.sourcePoint){const ne=getRotatedPoint(this.sourcePoint,ee,te,k);this.sourcePoint.x=Math.round(ne.x),this.sourcePoint.y=Math.round(ne.y)}if(this.targetPoint){const ne=getRotatedPoint(this.targetPoint,ee,te,k);this.targetPoint.x=Math.round(ne.x),this.targetPoint.y=Math.round(ne.y)}if(this.points){for(let ne=0;ne<this.points.length;ne+=1)if(this.points[ne]){const me=getRotatedPoint(this.points[ne],ee,te,k);this.points[ne].x=Math.round(me.x),this.points[ne].y=Math.round(me.y)}}}translate(T,k){if(this.relative||(this.x+=T,this.y+=k),this.sourcePoint&&(this.sourcePoint.x=this.sourcePoint.x+T,this.sourcePoint.y=this.sourcePoint.y+k),this.targetPoint&&(this.targetPoint.x=this.targetPoint.x+T,this.targetPoint.y=this.targetPoint.y+k),this.TRANSLATE_CONTROL_POINTS&&this.points)for(let Z=0;Z<this.points.length;Z+=1)this.points[Z]&&(this.points[Z].x=this.points[Z].x+T,this.points[Z].y=this.points[Z].y+k)}scale(T,k,Z){if(this.sourcePoint&&(this.sourcePoint.x=this.sourcePoint.x*T,this.sourcePoint.y=this.sourcePoint.y*k),this.targetPoint&&(this.targetPoint.x=this.targetPoint.x*T,this.targetPoint.y=this.targetPoint.y*k),this.points)for(let ee=0;ee<this.points.length;ee+=1)this.points[ee]&&(this.points[ee].x=this.points[ee].x*T,this.points[ee].y=this.points[ee].y*k);this.relative||(this.x*=T,this.y*=k,Z&&(k=T=Math.min(T,k)),this.width*=T,this.height*=k)}equals(T){var k,Z,ee,te;return T?super.equals(T)&&this.relative===T.relative&&(this.sourcePoint===null&&T.sourcePoint===null||!!((k=this.sourcePoint)!=null&&k.equals(T.sourcePoint)))&&(this.targetPoint===null&&T.targetPoint===null||!!((Z=this.targetPoint)!=null&&Z.equals(T.targetPoint)))&&equalPoints(this.points,T.points)&&(this.alternateBounds===null&&T.alternateBounds===null||!!((ee=this.alternateBounds)!=null&&ee.equals(T.alternateBounds)))&&(this.offset===null&&T.offset===null||!!((te=this.offset)!=null&&te.equals(T.offset))):!1}clone(){return clone$1(this)}}class MaxXmlRequest{constructor(T,k=null,Z="POST",ee=!0,te=null,ne=null){this.binary=!1,this.withCredentials=!1,this.request=null,this.decodeSimulateValues=!1,this.url=T,this.params=k,this.method=Z||"POST",this.async=ee,this.username=te,this.password=ne}isBinary(){return this.binary}setBinary(T){this.binary=T}getText(){return this.request.responseText}isReady(){return this.request.readyState===4}getDocumentElement(){const T=this.getXml();return T!=null?T.documentElement:null}getXml(){let T=this.request.responseXML;return(T==null||T.documentElement==null)&&(T=new DOMParser().parseFromString(this.request.responseText,"text/xml")),T}getStatus(){return this.request!=null?this.request.status:null}create(){const T=new XMLHttpRequest;return this.isBinary()&&T.overrideMimeType&&T.overrideMimeType("text/plain; charset=x-user-defined"),T}send(T=null,k=null,Z=null,ee=null){this.request=this.create(),this.request!=null&&(T!=null&&(this.request.onreadystatechange=()=>{this.isReady()&&(T(this),this.request.onreadystatechange=null)}),this.request.open(this.method,this.url,this.async,this.username,this.password),this.setRequestHeaders(this.request,this.params),window.XMLHttpRequest&&this.withCredentials&&(this.request.withCredentials="true"),window.XMLHttpRequest&&Z!=null&&ee!=null&&(this.request.timeout=Z,this.request.ontimeout=ee),this.request.send(this.params))}setRequestHeaders(T,k){k!=null&&T.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}simulate(T,k=null){T=T||document;let Z=null;T===document&&(Z=window.onbeforeunload,window.onbeforeunload=null);const ee=T.createElement("form");ee.setAttribute("method",this.method),ee.setAttribute("action",this.url),k!=null&&ee.setAttribute("target",k),ee.style.display="none",ee.style.visibility="hidden";const te=this.params,ne=te.indexOf("&")>0?te.split("&"):te.split(" ");for(let me=0;me<ne.length;me+=1){const Ve=ne[me].indexOf("=");if(Ve>0){const Ye=ne[me].substring(0,Ve);let et=ne[me].substring(Ve+1);this.decodeSimulateValues&&(et=decodeURIComponent(et));const tt=T.createElement("textarea");tt.setAttribute("wrap","off"),tt.setAttribute("name",Ye),write(tt,et),ee.appendChild(tt)}}T.body.appendChild(ee),ee.submit(),ee.parentNode!=null&&ee.parentNode.removeChild(ee),Z!=null&&(window.onbeforeunload=Z)}}const load=Y=>{const T=new MaxXmlRequest(Y,null,"GET",!1);return T.send(),T},get=(Y,T=null,k=null,Z=!1,ee=null,te=null,ne=null)=>{const me=new MaxXmlRequest(Y,null,"GET"),{setRequestHeaders:Ve}=me;return ne&&(me.setRequestHeaders=(Ye,et)=>{Ve.apply(void 0,[Ye,et]);for(const tt in ne)Ye.setRequestHeader(tt,ne[tt])}),Z!=null&&me.setBinary(Z),me.send(T,k,ee,te),me},_ObjectCodec=class _ObjectCodec{constructor(Y,T=[],k=[],Z={}){this.template=Y,this.exclude=T,this.idrefs=k,this.mapping=Z,this.reverse={};for(const ee in this.mapping)this.reverse[this.mapping[ee]]=ee}getName(){return this.name??this.template.constructor.name}setName(Y){this.name=Y}cloneTemplate(){return new this.template.constructor}getFieldName(Y){if(Y!=null){const T=this.reverse[Y];T!=null&&(Y=T)}return Y}getAttributeName(Y){if(Y!=null){const T=this.mapping[Y];T!=null&&(Y=T)}return Y}isExcluded(Y,T,k,Z){return T==ObjectIdentity.FIELD_NAME||this.exclude.indexOf(T)>=0}isReference(Y,T,k,Z){return this.idrefs.indexOf(T)>=0}encode(Y,T){const k=Y.document.createElement(this.getName());return T=this.beforeEncode(Y,T,k),this.encodeObject(Y,T,k),this.afterEncode(Y,T,k)}encodeObject(Y,T,k){Y.setAttribute(k,"id",Y.getId(T));for(const Z in T){let ee=Z;const te=T[ee];te!=null&&!this.isExcluded(T,ee,te,!0)&&(isInteger(ee)&&(ee=null),this.encodeValue(Y,T,ee,te,k))}}encodeValue(Y,T,k,Z,ee){if(Z!=null){if(k!=null&&this.isReference(T,k,Z,!0)){const te=Y.getId(Z);if(te==null){GlobalConfig.logger.warn(`ObjectCodec.encode: No ID for ${this.getName()}.${k}=${Z}`);return}Z=te}(k==null||Y.encodeDefaults||this.template[k]!=Z)&&(k=this.getAttributeName(k),this.writeAttribute(Y,T,k,Z,ee))}}writeAttribute(Y,T,k,Z,ee){typeof Z!="object"?this.writePrimitiveAttribute(Y,T,k,Z,ee):this.writeComplexAttribute(Y,T,k,Z,ee)}writePrimitiveAttribute(Y,T,k,Z,ee){if(Z=this.convertAttributeToXml(Y,T,k,Z,ee),k==null){const te=Y.document.createElement("add");typeof Z=="function"?te.appendChild(Y.document.createTextNode(Z)):Y.setAttribute(te,"value",Z),ee.appendChild(te)}else typeof Z!="function"&&Y.setAttribute(ee,k,Z)}writeComplexAttribute(Y,T,k,Z,ee){const te=Y.encode(Z);te!=null?(k!=null&&te.setAttribute("as",k),ee.appendChild(te)):GlobalConfig.logger.warn(`ObjectCodec.encode: No node for ${this.getName()}.${k}: ${Z}`)}convertAttributeToXml(Y,T,k,Z,ee){return this.isBooleanAttribute(Y,T,k,Z)&&(Z=Z==!0?"1":"0"),Z}isBooleanAttribute(Y,T,k,Z){return typeof Z.length>"u"&&(Z==!0||Z==!1)}convertAttributeFromXml(Y,T,k){let{value:Z}=T;return this.isNumericAttribute(Y,T,k)&&(Z=parseFloat(Z),(Number.isNaN(Z)||!Number.isFinite(Z))&&(Z=0)),Z}isNumericAttribute(Y,T,k){return k.constructor===Geometry&&(T.name==="x"||T.name==="y"||T.name==="width"||T.name==="height")||k.constructor===Point$1&&(T.name==="x"||T.name==="y")||isNumeric(T.value)}beforeEncode(Y,T,k){return T}afterEncode(Y,T,k){return k}decode(Y,T,k){const Z=T.getAttribute("id");let ee=Y.objects[Z];ee==null&&(ee=k||this.cloneTemplate(),Z!=null&&Y.putObject(Z,ee));const te=this.beforeDecode(Y,T,ee);return this.decodeNode(Y,te,ee),this.afterDecode(Y,te,ee)}decodeNode(Y,T,k){T!=null&&(this.decodeAttributes(Y,T,k),this.decodeChildren(Y,T,k))}decodeAttributes(Y,T,k){const Z=T.attributes;if(Z!=null)for(let ee=0;ee<Z.length;ee+=1)this.decodeAttribute(Y,Z[ee],k)}isIgnoredAttribute(Y,T,k){return T.nodeName==="as"||T.nodeName==="id"}decodeAttribute(Y,T,k){if(!this.isIgnoredAttribute(Y,T,k)){const Z=T.nodeName;let ee=this.convertAttributeFromXml(Y,T,k);const te=this.getFieldName(Z);if(this.isReference(k,te,ee,!1)){const ne=Y.getObject(ee);if(ne==null){GlobalConfig.logger.warn(`ObjectCodec.decode: No object for ${this.getName()}.${Z}=${ee}`);return}ee=ne}this.isExcluded(k,Z,ee,!1)||(k[Z]=ee)}}decodeChildren(Y,T,k){let Z=T.firstChild;for(;Z!=null;){const ee=Z.nextSibling;Z.nodeType===NODETYPE.ELEMENT&&!this.processInclude(Y,Z,k)&&this.decodeChild(Y,Z,k),Z=ee}}decodeChild(dec,child,obj){const fieldname=this.getFieldName(child.getAttribute("as"));if(fieldname==null||!this.isExcluded(obj,fieldname,child,!1)){const template=this.getFieldTemplate(obj,fieldname,child);let value=null;child.nodeName==="add"?(value=child.getAttribute("value"),value==null&&_ObjectCodec.allowEval&&(value=eval(getTextContent(child)))):value=dec.decode(child,template);try{this.addObjectValue(obj,fieldname,value,template)}catch(Y){throw new Error(`${Y.message} for ${child.nodeName}`)}}}getFieldTemplate(Y,T,k){let Z=Y[T];return Z instanceof Array&&Z.length>0&&(Z=null),Z}addObjectValue(Y,T,k,Z){k!=null&&k!==Z&&(T!=null&&T.length>0?Y[T]=k:Y.push(k))}processInclude(Y,T,k){if(T.nodeName==="include"){const Z=T.getAttribute("name");if(Z!=null)try{const ee=load(Z).getDocumentElement();ee!=null&&Y.decode(ee,k)}catch{}return!0}return!1}beforeDecode(Y,T,k){return T}afterDecode(Y,T,k){return k}};_ObjectCodec.allowEval=!1;let ObjectCodec=_ObjectCodec;const Ms=class Ms{static register(T,k=!0){if(T!=null){const Z=T.getName();Ms.codecs[Z]=T;const ee=T.template.constructor.name;k&&ee!==Z&&Ms.addAlias(ee,Z)}return T}static addAlias(T,k){Ms.aliases[T]=k}static getCodec(T){if(T==null)return null;let k=null,Z=typeof T=="string"?T:T.name;const ee=Ms.aliases[Z];if(ee!=null&&(Z=ee),k=Ms.codecs[Z]??null,k==null)try{k=new ObjectCodec(new T),Ms.register(k)}catch{}return k}static getCodecByName(T){return Ms.codecs[T]??null}};Ms.codecs={},Ms.aliases={};let CodecRegistry=Ms;class Cell{constructor(T=null,k=null,Z={}){this.invalidating=!1,this.onInit=null,this.overlays=[],this.id=null,this.value=null,this.geometry=null,this.style={},this.vertex=!1,this.edge=!1,this.connectable=!0,this.visible=!0,this.collapsed=!1,this.parent=null,this.source=null,this.target=null,this.children=[],this.edges=[],this.mxTransient=["id","value","parent","source","target","children","edges","style"],this.value=T,this.setGeometry(k),this.setStyle(Z),this.onInit&&this.onInit()}getChildren(){return this.children||[]}getId(){return this.id}setId(T){this.id=T}getValue(){return this.value}setValue(T){this.value=T}valueChanged(T){const k=this.getValue();return this.setValue(T),k}getGeometry(){return this.geometry}setGeometry(T){this.geometry=T}getStyle(){return this.style}getClonedStyle(){return clone$1(this.getStyle())}setStyle(T){this.style=T}isVertex(){return this.vertex}setVertex(T){this.vertex=T}isEdge(){return this.edge}setEdge(T){this.edge=T}isConnectable(){return this.connectable}setConnectable(T){this.connectable=T}isVisible(){return this.visible}setVisible(T){this.visible=T}isCollapsed(){return this.collapsed}setCollapsed(T){this.collapsed=T}getParent(){return this.parent}setParent(T){this.parent=T}getTerminal(T=!1){return T?this.source:this.target}setTerminal(T,k){return k?this.source=T:this.target=T,T}getChildCount(){return this.children.length}getIndex(T){return T===null?-1:this.children.indexOf(T)}getChildAt(T){return this.children[T]}insert(T,k){return k===void 0&&(k=this.getChildCount(),T.getParent()===this&&k--),T.removeFromParent(),T.setParent(this),this.children.splice(k,0,T),T}remove(T){let k=null;return T>=0&&(k=this.getChildAt(T),k&&(this.children.splice(T,1),k.setParent(null))),k}removeFromParent(){if(this.parent){const T=this.parent.getIndex(this);this.parent.remove(T)}}getEdgeCount(){return this.edges.length}getEdgeIndex(T){return this.edges.indexOf(T)}getEdgeAt(T){return this.edges[T]}insertEdge(T,k=!1){return T.removeFromTerminal(k),T.setTerminal(this,k),(this.edges.length===0||T.getTerminal(!k)!==this||this.edges.indexOf(T)<0)&&this.edges.push(T),T}removeEdge(T,k=!1){if(T!=null){if(T.getTerminal(!k)!==this&&this.edges!=null){const Z=this.getEdgeIndex(T);Z>=0&&this.edges.splice(Z,1)}T.setTerminal(null,k)}return T}removeFromTerminal(T){const k=this.getTerminal(T);k&&k.removeEdge(this,T)}hasAttribute(T){const k=this.getValue();return isNotNullish(k)&&(k.nodeType===NODETYPE.ELEMENT&&k.hasAttribute?k.hasAttribute(T):isNotNullish(k.getAttribute(T)))}getAttribute(T,k){const Z=this.getValue(),ee=isNotNullish(Z)&&Z.nodeType===NODETYPE.ELEMENT?Z.getAttribute(T):null;return ee||k}setAttribute(T,k){const Z=this.getValue();isNotNullish(Z)&&Z.nodeType===NODETYPE.ELEMENT&&Z.setAttribute(T,k)}clone(){const T=clone$1(this,this.mxTransient);return T.setValue(this.cloneValue()),T}cloneValue(){let T=this.getValue();return isNotNullish(T)&&(typeof T.clone=="function"?T=T.clone():isNotNullish(T.nodeType)&&(T=T.cloneNode(!0))),T}getNearestCommonAncestor(T){let k=CellPath.create(T);if(k.length>0){let Z=this,ee=CellPath.create(Z);if(k.length<ee.length){Z=T;const te=ee;ee=k,k=te}for(;Z&&ee;){const te=Z.getParent();if(k.indexOf(ee+CellPath.PATH_SEPARATOR)===0&&te)return Z;ee=CellPath.getParentPath(ee),Z=te}}return null}isAncestor(T){for(;T&&T!==this;)T=T.getParent();return T===this}getChildVertices(){return this.getChildCells(!0,!1)}getChildEdges(){return this.getChildCells(!1,!0)}getChildCells(T=!1,k=!1){const Z=this.getChildCount(),ee=[];for(let te=0;te<Z;te+=1){const ne=this.getChildAt(te);(!k&&!T||k&&ne.isEdge()||T&&ne.isVertex())&&ee.push(ne)}return ee}getDirectedEdgeCount(T,k=null){let Z=0;const ee=this.getEdgeCount();for(let te=0;te<ee;te+=1){const ne=this.getEdgeAt(te);ne!==k&&ne&&ne.getTerminal(T)===this&&(Z+=1)}return Z}getConnections(){return this.getEdges(!0,!0,!1)}getIncomingEdges(){return this.getEdges(!0,!1,!1)}getOutgoingEdges(){return this.getEdges(!1,!0,!1)}getEdges(T=!0,k=!0,Z=!0){const ee=this.getEdgeCount(),te=[];for(let ne=0;ne<ee;ne+=1){const me=this.getEdgeAt(ne),Ve=me.getTerminal(!0),Ye=me.getTerminal(!1);(Z&&Ve===Ye||Ve!==Ye&&(T&&Ye===this||k&&Ve===this))&&te.push(me)}return te}getOrigin(){let T=new Point$1;const k=this.getParent();if(k&&(T=k.getOrigin(),!this.isEdge())){const Z=this.getGeometry();Z&&(T.x+=Z.x,T.y+=Z.y)}return T}getDescendants(){return this.filterDescendants(null)}filterDescendants(T){let k=[];(T===null||T(this))&&k.push(this);const Z=this.getChildCount();for(let ee=0;ee<Z;ee+=1){const te=this.getChildAt(ee);k=k.concat(te.filterDescendants(T))}return k}getRoot(){let T=this,k=T;for(;T;)k=T,T=T.getParent();return k}}const createXmlDocument$1=()=>document.implementation.createDocument("","",null);class Codec{constructor(T=createXmlDocument$1()){this.elements=null,this.encodeDefaults=!1,this.document=T,this.objects={}}putObject(T,k){return this.objects[T]=k,k}getObject(T){let k=null;if(T!=null&&(k=this.objects[T],k==null&&(k=this.lookup(T),k==null))){const Z=this.getElementById(T);Z!=null&&(k=this.decode(Z))}return k}lookup(T){return null}getElementById(T){return this.updateElements(),this.elements[T]}updateElements(){this.elements==null&&(this.elements={},this.document.documentElement!=null&&this.addElement(this.document.documentElement))}addElement(T){if(T.nodeType===NODETYPE.ELEMENT){const Z=T.getAttribute("id");if(Z!=null){if(this.elements[Z]==null)this.elements[Z]=T;else if(this.elements[Z]!==T)throw new Error(`${Z}: Duplicate ID`)}}let k=T.firstChild;for(;k!=null;)this.addElement(k),k=k.nextSibling}getId(T){let k=null;return T!=null&&(k=this.reference(T),k==null&&T instanceof Cell&&(k=T.getId(),k==null&&(k=CellPath.create(T),k.length===0&&(k="root")))),k}reference(T){return null}encode(T){let k=null;if(T!=null&&T.constructor!=null){const Z=CodecRegistry.getCodec(T.constructor);Z!=null?k=Z.encode(this,T):isNode(T)?k=importNode(this.document,T,!0):GlobalConfig.logger.warn(`Codec.encode: No codec for ${getFunctionName(T.constructor)}`)}return k}decode(T,k){this.updateElements();let Z=null;if(T!=null&&T.nodeType===NODETYPE.ELEMENT){let ee=T.nodeName;ee=="interface"&&(ee="Interface");const te=CodecRegistry.getCodecByName(ee);te!=null?Z=te.decode(this,T,k):(Z=T.cloneNode(!0),Z.removeAttribute("as"))}return Z}encodeCell(T,k,Z){const ee=this.encode(T);if(ee&&k.appendChild(ee),Z==null||Z){const te=T.getChildCount();for(let ne=0;ne<te;ne+=1)this.encodeCell(T.getChildAt(ne),k)}}isCellCodec(T){return T!=null&&"isCellCodec"in T?T.isCellCodec():!1}decodeCell(T,k=!0){if((T==null?void 0:T.nodeType)!==NODETYPE.ELEMENT)return null;let Z=CodecRegistry.getCodec(T.nodeName);if(!this.isCellCodec(Z)){let te=T.firstChild;for(;te!=null&&!this.isCellCodec(Z);)Z=CodecRegistry.getCodec(te.nodeName),te=te.nextSibling}this.isCellCodec(Z)||(Z=CodecRegistry.getCodec(Cell));const ee=Z==null?void 0:Z.decode(this,T);return k&&this.insertIntoGraph(ee),ee}insertIntoGraph(T){const{parent:k}=T,Z=T.getTerminal(!0),ee=T.getTerminal(!1);if(T.setTerminal(null,!1),T.setTerminal(null,!0),T.parent=null,k!=null){if(k===T)throw new Error(`${k.id}: Self Reference`);k.insert(T)}Z!=null&&Z.insertEdge(T,!0),ee!=null&&ee.insertEdge(T,!1)}setAttribute(T,k,Z){k!=null&&Z!=null&&T.setAttribute(k,Z)}}const createXmlDocument=()=>document.implementation.createDocument("","",null),getXml=(Y,T="&#xa;")=>{let Z=new XMLSerializer().serializeToString(Y);return Z=Z.replace(/\n/g,T),Z},useAbsoluteIds=typeof DOMParser=="function"&&!Client.IS_CHROMEAPP&&!Client.IS_EDGE&&document.getElementsByTagName("base").length>0,Ir=class Ir extends AbstractCanvas2D{constructor(T,k){super(),this.defs=null,this.styleEnabled=!0,this.node=null,this.matchHtmlAlignment=!0,this.textEnabled=!0,this.foEnabled=!0,this.foAltText="[Object]",this.foOffset=0,this.textOffset=0,this.imageOffset=0,this.strokeTolerance=0,this.minStrokeWidth=1,this.refCount=0,this.lineHeightCorrection=1,this.pointerEventsValue="all",this.fontMetricsPadding=10,this.cacheOffsetSize=!0,this.originalRoot=null,this.root=T,this.gradients={},this.defs=null,this.styleEnabled=k??!1;let Z=null;if(T.ownerDocument!==document){let ee=T;for(;ee&&ee.nodeName!=="svg";)ee=ee.parentElement;Z=ee}Z&&(Z.getElementsByTagName("defs").length>0&&(this.defs=Z.getElementsByTagName("defs")[0]),this.defs||(this.defs=this.createElement("defs"),Z.firstChild!=null?Z.insertBefore(this.defs,Z.firstChild):Z.appendChild(this.defs)),this.styleEnabled&&this.defs.appendChild(this.createStyle()))}format(T){return parseFloat(T.toFixed(2))}getBaseUrl(){let{href:T}=window.location;const k=T.lastIndexOf("#");return k>0&&(T=T.substring(0,k)),T}reset(){super.reset(),this.gradients={}}end(){}createStyle(){const T=this.createElement("style");return T.setAttribute("type","text/css"),write(T,`svg{font-family:${DEFAULT_FONTFAMILY};font-size:${DEFAULT_FONTSIZE};fill:none;stroke-miterlimit:10}`),T}createElement(T,k){var Z;return(Z=this.root)==null?void 0:Z.ownerDocument.createElementNS(k||NS_SVG,T)}getAlternateText(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt,it,st){return isNotNullish(ne)?this.foAltText:null}createAlternateContent(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt,it,st){const nt=this.getAlternateText(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt,it,st),rt=this.state;if(isNotNullish(nt)&&rt.fontSize>0){const lt=Ve===ALIGN.TOP?1:Ve===ALIGN.BOTTOM?0:.3,ot=me===ALIGN.RIGHT?"end":me===ALIGN.LEFT?"start":"middle",ht=this.createElement("text");ht.setAttribute("x",String(Math.round(k+rt.dx))),ht.setAttribute("y",String(Math.round(Z+rt.dy+lt*rt.fontSize))),ht.setAttribute("fill",rt.fontColor||"black"),ht.setAttribute("font-family",rt.fontFamily),ht.setAttribute("font-size",`${Math.round(rt.fontSize)}px`),ot!=="start"&&ht.setAttribute("text-anchor",ot);const dt=rt.fontStyle;matchBinaryMask(dt,FONT.BOLD)&&ht.setAttribute("font-weight","bold"),matchBinaryMask(dt,FONT.ITALIC)&&ht.setAttribute("font-style","italic");const ct=[];return matchBinaryMask(dt,FONT.UNDERLINE)&&ct.push("underline"),matchBinaryMask(dt,FONT.STRIKETHROUGH)&&ct.push("line-through"),ct.length>0&&ht.setAttribute("text-decoration",ct.join(" ")),write(ht,nt),ht}return null}createGradientId(T,k,Z,ee,te){T.charAt(0)==="#"&&(T=T.substring(1)),k.charAt(0)==="#"&&(k=k.substring(1)),T=`${T.toLowerCase()}-${Z}`,k=`${k.toLowerCase()}-${ee}`;let ne=null;if(te==null||te===DIRECTION.SOUTH)ne="s";else if(te===DIRECTION.EAST)ne="e";else{const me=T;T=k,k=me,te===DIRECTION.NORTH?ne="s":te===DIRECTION.WEST&&(ne="e")}return`mx-gradient-${T}-${k}-${ne}`}getSvgGradient(T,k,Z,ee,te){const ne=this.createGradientId(T,k,Z,ee,te);let me=this.gradients[ne];if(!me){const Ve=this.root.ownerSVGElement;let Ye=0,et=`${ne}-${Ye}`;if(Ve)for(me=Ve.ownerDocument.getElementById(et);me&&me.ownerSVGElement!==Ve;)et=`${ne}-${Ye++}`,me=Ve.ownerDocument.getElementById(et);else et=`id${++this.refCount}`;me||(me=this.createSvgGradient(T,k,Z,ee,te),me.setAttribute("id",et),this.defs?this.defs.appendChild(me):Ve&&Ve.appendChild(me)),this.gradients[ne]=me}return me.getAttribute("id")}createSvgGradient(T,k,Z,ee,te){const ne=this.createElement("linearGradient");ne.setAttribute("x1","0%"),ne.setAttribute("y1","0%"),ne.setAttribute("x2","0%"),ne.setAttribute("y2","0%"),te==null||te===DIRECTION.SOUTH?ne.setAttribute("y2","100%"):te===DIRECTION.EAST?ne.setAttribute("x2","100%"):te===DIRECTION.NORTH?ne.setAttribute("y1","100%"):te===DIRECTION.WEST&&ne.setAttribute("x1","100%");let me=Z<1?`;stop-opacity:${Z}`:"",Ve=this.createElement("stop");return Ve.setAttribute("offset","0%"),Ve.setAttribute("style",`stop-color:${T}${me}`),ne.appendChild(Ve),me=ee<1?`;stop-opacity:${ee}`:"",Ve=this.createElement("stop"),Ve.setAttribute("offset","100%"),Ve.setAttribute("style",`stop-color:${k}${me}`),ne.appendChild(Ve),ne}addNode(T,k){const{node:Z}=this,ee=this.state;if(Z){if(Z.nodeName==="path")if(this.path&&this.path.length>0)Z.setAttribute("d",this.path.join(" "));else return;T&&ee.fillColor!==NONE?this.updateFill():this.styleEnabled||(Z.nodeName==="ellipse"&&Client.IS_FF?Z.setAttribute("fill","transparent"):Z.setAttribute("fill",NONE),T=!1),k&&ee.strokeColor!==NONE?this.updateStroke():this.styleEnabled||Z.setAttribute("stroke",NONE),ee.transform&&ee.transform.length>0&&Z.setAttribute("transform",ee.transform),ee.shadow&&this.root.appendChild(this.createShadow(Z)),this.strokeTolerance>0&&!T&&this.root.appendChild(this.createTolerance(Z)),this.pointerEvents?Z.setAttribute("pointer-events",this.pointerEventsValue):!this.pointerEvents&&!this.originalRoot&&Z.setAttribute("pointer-events",NONE),(Z.nodeName!=="rect"&&Z.nodeName!=="path"&&Z.nodeName!=="ellipse"||Z.getAttribute("fill")!==NONE&&Z.getAttribute("fill")!=="transparent"||Z.getAttribute("stroke")!==NONE||Z.getAttribute("pointer-events")!==NONE)&&this.root.appendChild(Z),this.node=null}}updateFill(){var k;const T=this.state;if((T.alpha<1||T.fillAlpha<1)&&this.node.setAttribute("fill-opacity",String(T.alpha*T.fillAlpha)),T.fillColor!==NONE)if(T.gradientColor!==NONE){const Z=this.getSvgGradient(T.fillColor,T.gradientColor,T.gradientFillAlpha,T.gradientAlpha,T.gradientDirection);if(((k=this.root)==null?void 0:k.ownerDocument)===document&&useAbsoluteIds){const ee=this.getBaseUrl().replace(/([()])/g,"\\$1");this.node.setAttribute("fill",`url(${ee}#${Z})`)}else this.node.setAttribute("fill",`url(#${Z})`)}else this.node.setAttribute("fill",T.fillColor.toLowerCase())}getCurrentStrokeWidth(){return Math.max(this.minStrokeWidth,Math.max(.01,this.format(this.state.strokeWidth*this.state.scale)))}updateStroke(){const T=this.state;T.strokeColor&&T.strokeColor!==NONE&&this.node.setAttribute("stroke",T.strokeColor.toLowerCase()),(T.alpha<1||T.strokeAlpha<1)&&this.node.setAttribute("stroke-opacity",String(T.alpha*T.strokeAlpha));const k=this.getCurrentStrokeWidth();k!==1&&this.node.setAttribute("stroke-width",String(k)),this.node.nodeName==="path"&&this.updateStrokeAttributes(),T.dashed&&this.node.setAttribute("stroke-dasharray",this.createDashPattern((T.fixDash?1:T.strokeWidth)*T.scale))}updateStrokeAttributes(){const T=this.state;if(T.lineJoin&&T.lineJoin!=="miter"&&this.node.setAttribute("stroke-linejoin",T.lineJoin),T.lineCap){let k=T.lineCap;k==="flat"&&(k="butt"),k!=="butt"&&this.node.setAttribute("stroke-linecap",k)}T.miterLimit!=null&&(!this.styleEnabled||T.miterLimit!==10)&&this.node.setAttribute("stroke-miterlimit",String(T.miterLimit))}createDashPattern(T){const k=[];if(typeof this.state.dashPattern=="string"){const Z=this.state.dashPattern.split(" ");if(Z.length>0)for(let ee=0;ee<Z.length;ee+=1)k[ee]=Number(Z[ee])*T}return k.join(" ")}createTolerance(T){const k=T.cloneNode(!0),Z=parseFloat(k.getAttribute("stroke-width")||"1")+this.strokeTolerance;return k.setAttribute("pointer-events","stroke"),k.setAttribute("visibility","hidden"),k.removeAttribute("stroke-dasharray"),k.setAttribute("stroke-width",String(Z)),k.setAttribute("fill","none"),k.setAttribute("stroke","white"),k}createShadow(T){const k=T.cloneNode(!0),Z=this.state;return k.getAttribute("fill")!=="none"&&(!Client.IS_FF||k.getAttribute("fill")!=="transparent")&&k.setAttribute("fill",Z.shadowColor?Z.shadow:SHADOWCOLOR),k.getAttribute("stroke")!=="none"&&Z.shadowColor&&Z.shadowColor!==NONE&&k.setAttribute("stroke",Z.shadowColor),k.setAttribute("transform",`translate(${this.format(Z.shadowDx*Z.scale)},${this.format(Z.shadowDy*Z.scale)})${Z.transform||""}`),k.setAttribute("opacity",String(Z.shadowAlpha)),k}setLink(T){if(!T)this.root=this.originalRoot;else{this.originalRoot=this.root;const k=this.createElement("a");k.setAttributeNS==null||this.root.ownerDocument!==document?k.setAttribute("xlink:href",T):k.setAttributeNS(NS_XLINK,"xlink:href",T),this.root.appendChild(k),this.root=k}}rotate(T,k,Z,ee,te){if(T!==0||k||Z){const ne=this.state;if(ee+=ne.dx,te+=ne.dy,ee*=ne.scale,te*=ne.scale,ne.transform=ne.transform||"",k&&Z)T+=180;else if(k!==Z){const me=k?ee:0,Ve=k?-1:1,Ye=Z?te:0,et=Z?-1:1;ne.transform+=`translate(${this.format(me)},${this.format(Ye)})scale(${this.format(Ve)},${this.format(et)})translate(${this.format(-me)},${this.format(-Ye)})`}(k?!Z:Z)&&(T*=-1),T!==0&&(ne.transform+=`rotate(${this.format(T)},${this.format(ee)},${this.format(te)})`),ne.rotation+=T,ne.rotationCx=ee,ne.rotationCy=te}}begin(){super.begin(),this.node=this.createElement("path")}rect(T,k,Z,ee){const te=this.state,ne=this.createElement("rect");ne.setAttribute("x",String(this.format((T+te.dx)*te.scale))),ne.setAttribute("y",String(this.format((k+te.dy)*te.scale))),ne.setAttribute("width",String(this.format(Z*te.scale))),ne.setAttribute("height",String(this.format(ee*te.scale))),this.node=ne}roundrect(T,k,Z,ee,te,ne){this.rect(T,k,Z,ee),te>0&&this.node.setAttribute("rx",String(this.format(te*this.state.scale))),ne>0&&this.node.setAttribute("ry",String(this.format(ne*this.state.scale)))}ellipse(T,k,Z,ee){const te=this.state,ne=this.createElement("ellipse");ne.setAttribute("cx",String(this.format((T+Z/2+te.dx)*te.scale))),ne.setAttribute("cy",String(this.format((k+ee/2+te.dy)*te.scale))),ne.setAttribute("rx",String(Z/2*te.scale)),ne.setAttribute("ry",String(ee/2*te.scale)),this.node=ne}image(T,k,Z,ee,te,ne=!0,me=!1,Ve=!1){te=this.converter.convert(te);const Ye=this.state;T+=Ye.dx,k+=Ye.dy;const et=this.createElement("image");et.setAttribute("x",String(this.format(T*Ye.scale)+this.imageOffset)),et.setAttribute("y",String(this.format(k*Ye.scale)+this.imageOffset)),et.setAttribute("width",String(this.format(Z*Ye.scale))),et.setAttribute("height",String(this.format(ee*Ye.scale))),et.setAttributeNS?et.setAttributeNS(NS_XLINK,"xlink:href",te):et.setAttribute("xlink:href",te),ne||et.setAttribute("preserveAspectRatio","none"),(Ye.alpha<1||Ye.fillAlpha<1)&&et.setAttribute("opacity",String(Ye.alpha*Ye.fillAlpha));let tt=this.state.transform||"";if(me||Ve){let it=1,st=1,nt=0,rt=0;me&&(it=-1,nt=-Z-2*T),Ve&&(st=-1,rt=-ee-2*k),tt+=`scale(${it},${st})translate(${nt*Ye.scale},${rt*Ye.scale})`}tt.length>0&&et.setAttribute("transform",tt),this.pointerEvents||et.setAttribute("pointer-events","none"),this.root.appendChild(et)}convertHtml(T){const k=new DOMParser().parseFromString(T,"text/html");return k!=null&&(T=new XMLSerializer().serializeToString(k.body),T.substring(0,5)==="<body"&&(T=T.substring(T.indexOf(">",5)+1)),T.substring(T.length-7,T.length)==="</body>"&&(T=T.substring(0,T.length-7))),T}createDiv(T){let k=T;if(isNode(k)||(k=`<div><div>${this.convertHtml(k)}</div></div>`),document.createElementNS){const Z=document.createElementNS("http://www.w3.org/1999/xhtml","div");if(isNode(k)){const ee=k,te=document.createElement("div"),ne=te.cloneNode(!1);this.root.ownerDocument!==document?te.appendChild(ee.cloneNode(!0)):te.appendChild(ee),ne.appendChild(te),Z.appendChild(ne)}else Z.innerHTML=k;return Z}return isNode(k)&&(k=`<div><div>${getXml(k)}</div></div>`),k=`<div xmlns="http://www.w3.org/1999/xhtml">${k}</div>`,new DOMParser().parseFromString(k,"text/xml").documentElement}updateText(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt){tt&&tt.firstChild&&tt.firstChild.firstChild&&this.updateTextNodes(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt.firstChild)}addForeignObject(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt,it,st,nt,rt){var ht;const lt=this.createElement("g"),ot=this.createElement("foreignObject");if(ot.setAttribute("style","overflow: visible; text-align: left;"),ot.setAttribute("pointer-events","none"),ot.appendChild(nt),lt.appendChild(ot),this.updateTextNodes(T,k,Z,ee,ne,me,Ve,et,tt,it,lt),((ht=this.root)==null?void 0:ht.ownerDocument)!==document){const dt=this.createAlternateContent(ot,T,k,Z,ee,te,ne,me,Ve,Ye,et,tt,it);if(dt!=null){ot.setAttribute("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility");const ct=this.createElement("switch");ct.appendChild(ot),ct.appendChild(dt),lt.appendChild(ct)}}rt.appendChild(lt)}updateTextNodes(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt){const it=this.state.scale;Ir.createCss(Z+2,ee,te,ne,me,Ve,Ye,this.state.fontBackgroundColor!=null?this.state.fontBackgroundColor:null,this.state.fontBorderColor!=null?this.state.fontBorderColor:null,`display: flex; align-items: unsafe ${ne===ALIGN.TOP?"flex-start":ne===ALIGN.BOTTOM?"flex-end":"center"}; justify-content: unsafe ${te===ALIGN.LEFT?"flex-start":te===ALIGN.RIGHT?"flex-end":"center"}; `,this.getTextCss(),it,(st,nt,rt,lt,ot)=>{T+=this.state.dx,k+=this.state.dy;const ht=tt.firstChild,dt=ht.firstChild,ct=dt.firstChild,ut=ct.firstChild,ft=(this.rotateHtml?this.state.rotation:0)+(et??0);let vt=(this.foOffset!==0?`translate(${this.foOffset} ${this.foOffset})`:"")+(it!==1?`scale(${it})`:"");ut.setAttribute("style",ot),ct.setAttribute("style",lt),ht.setAttribute("width",`${Math.ceil(1/Math.min(1,it)*100)}%`),ht.setAttribute("height",`${Math.ceil(1/Math.min(1,it)*100)}%`);const mt=Math.round(k+nt);mt<0?ht.setAttribute("y",String(mt)):(ht.removeAttribute("y"),rt+=`padding-top: ${mt}px; `),dt.setAttribute("style",`${rt}margin-left: ${Math.round(T+st)}px;`),vt+=ft!==0?`rotate(${ft} ${T} ${k})`:"",vt!==""?tt.setAttribute("transform",vt):tt.removeAttribute("transform"),this.state.alpha!==1?tt.setAttribute("opacity",String(this.state.alpha)):tt.removeAttribute("opacity")})}getTextCss(){const T=this.state,k=LINE_HEIGHT*this.lineHeightCorrection;let Z=`display: inline-block; font-size: ${T.fontSize}px; font-family: ${T.fontFamily}; color: ${T.fontColor}; line-height: ${k}; pointer-events: ${this.pointerEvents?this.pointerEventsValue:"none"}; `;const ee=T.fontStyle;matchBinaryMask(ee,FONT.BOLD)&&(Z+="font-weight: bold; "),matchBinaryMask(ee,FONT.ITALIC)&&(Z+="font-style: italic; ");const te=[];return matchBinaryMask(ee,FONT.UNDERLINE)&&te.push("underline"),matchBinaryMask(ee,FONT.STRIKETHROUGH)&&te.push("line-through"),te.length>0&&(Z+=`text-decoration: ${te.join(" ")}; `),Z}text(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt,it=0,st){if(this.textEnabled&&te!=null)if(it=it??0,this.foEnabled&&Ye==="html"){const nt=this.createDiv(te);nt!=null&&(st!=null&&nt.setAttribute("dir",st),this.addForeignObject(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt,it,st,nt,this.root))}else this.plainText(T+this.state.dx,k+this.state.dy,Z,ee,te,ne,me,Ve,et,tt,it,st)}createClip(T,k,Z,ee){T=Math.round(T),k=Math.round(k),Z=Math.round(Z),ee=Math.round(ee);const te=`mx-clip-${T}-${k}-${Z}-${ee}`;let ne=0,me=`${te}-${ne}`;for(;document.getElementById(me)!=null;)me=`${te}-${++ne}`;const Ve=this.createElement("clipPath");Ve.setAttribute("id",me);const Ye=this.createElement("rect");return Ye.setAttribute("x",String(T)),Ye.setAttribute("y",String(k)),Ye.setAttribute("width",String(Z)),Ye.setAttribute("height",String(ee)),Ve.appendChild(Ye),Ve}plainText(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt=0,it){const st=this.state,nt=st.fontSize,rt=this.createElement("g");let lt=st.transform||"";if(this.updateFont(rt),!this.pointerEvents&&this.originalRoot==null&&rt.setAttribute("pointer-events","none"),tt!==0&&(lt+=`rotate(${tt},${this.format(T*st.scale)},${this.format(k*st.scale)})`),it!=null&&rt.setAttribute("direction",it),et&&Z>0&&ee>0){let ft=T,vt=k;ne===ALIGN.CENTER?ft-=Z/2:ne===ALIGN.RIGHT&&(ft-=Z),Ye!=="fill"&&(me===ALIGN.MIDDLE?vt-=ee/2:me===ALIGN.BOTTOM&&(vt-=ee));const mt=this.createClip(ft*st.scale-2,vt*st.scale-2,Z*st.scale+4,ee*st.scale+4);if(this.defs!=null?this.defs.appendChild(mt):this.root.appendChild(mt),!Client.IS_CHROMEAPP&&!Client.IS_EDGE&&this.root.ownerDocument===document){const _t=this.getBaseUrl().replace(/([()])/g,"\\$1");rt.setAttribute("clip-path",`url(${_t}#${mt.getAttribute("id")})`)}else rt.setAttribute("clip-path",`url(#${mt.getAttribute("id")})`)}const ot=ne===ALIGN.RIGHT?"end":ne===ALIGN.CENTER?"middle":"start";ot!=="start"&&rt.setAttribute("text-anchor",ot),(!this.styleEnabled||nt!==DEFAULT_FONTSIZE)&&rt.setAttribute("font-size",`${nt*st.scale}px`),lt.length>0&&rt.setAttribute("transform",lt),st.alpha<1&&rt.setAttribute("opacity",String(st.alpha));const ht=te.split(`
`),dt=Math.round(nt*LINE_HEIGHT),ct=nt+(ht.length-1)*dt;let ut=k+nt-1;if(me===ALIGN.MIDDLE)if(Ye==="fill")ut-=ee/2;else{const ft=(this.matchHtmlAlignment&&et&&ee>0?Math.min(ct,ee):ct)/2;ut-=ft}else if(me===ALIGN.BOTTOM)if(Ye==="fill")ut-=ee;else{const ft=this.matchHtmlAlignment&&et&&ee>0?Math.min(ct,ee):ct;ut-=ft+1}for(let ft=0;ft<ht.length;ft+=1){const vt=trim(ht[ft]);if(vt){const mt=this.createElement("text");mt.setAttribute("x",String(this.format(T*st.scale)+this.textOffset)),mt.setAttribute("y",String(this.format(ut*st.scale)+this.textOffset)),write(mt,vt),rt.appendChild(mt)}ut+=dt}this.root.appendChild(rt),this.addTextBackground(rt,te,T,k,Z,Ye==="fill"?ee:ct,ne,me,Ye)}updateFont(T){const k=this.state;k.fontColor&&k.fontColor!==NONE&&T.setAttribute("fill",k.fontColor),(!this.styleEnabled||k.fontFamily!==DEFAULT_FONTFAMILY)&&T.setAttribute("font-family",k.fontFamily);const Z=k.fontStyle;matchBinaryMask(Z,FONT.BOLD)&&T.setAttribute("font-weight","bold"),matchBinaryMask(Z,FONT.ITALIC)&&T.setAttribute("font-style","italic");const ee=[];matchBinaryMask(Z,FONT.UNDERLINE)&&ee.push("underline"),matchBinaryMask(Z,FONT.STRIKETHROUGH)&&ee.push("line-through"),ee.length>0&&T.setAttribute("text-decoration",ee.join(" "))}addTextBackground(T,k,Z,ee,te,ne,me,Ve,Ye){var tt;const et=this.state;if(et.fontBackgroundColor!=null||et.fontBorderColor!=null){let it=null;if(Ye==="fill"||Ye==="width")me===ALIGN.CENTER?Z-=te/2:me===ALIGN.RIGHT&&(Z-=te),Ve===ALIGN.MIDDLE?ee-=ne/2:Ve===ALIGN.BOTTOM&&(ee-=ne),it=new Rectangle((Z+1)*et.scale,ee*et.scale,(te-2)*et.scale,(ne+2)*et.scale);else if(T.getBBox!=null&&this.root.ownerDocument===document)try{it=T.getBBox(),it=new Rectangle(it.x,it.y+1,it.width,it.height+0)}catch{}if(it==null||it.width===0||it.height===0){const st=document.createElement("div");st.style.lineHeight=String(LINE_HEIGHT),st.style.fontSize=`${et.fontSize}px`,st.style.fontFamily=et.fontFamily,st.style.whiteSpace="nowrap",st.style.position="absolute",st.style.visibility="hidden",st.style.display="inline-block",matchBinaryMask(et.fontStyle,FONT.BOLD)&&(st.style.fontWeight="bold"),matchBinaryMask(et.fontStyle,FONT.ITALIC)&&(st.style.fontStyle="italic"),k=htmlEntities(k,!1),st.innerHTML=k.replace(/\n/g,"<br/>"),document.body.appendChild(st);const nt=st.offsetWidth,rt=st.offsetHeight;document.body.removeChild(st),me===ALIGN.CENTER?Z-=nt/2:me===ALIGN.RIGHT&&(Z-=nt),Ve===ALIGN.MIDDLE?ee-=rt/2:Ve===ALIGN.BOTTOM&&(ee-=rt),it=new Rectangle((Z+1)*et.scale,(ee+2)*et.scale,nt*et.scale,(rt+1)*et.scale)}if(it!=null){const st=this.createElement("rect");st.setAttribute("fill",et.fontBackgroundColor||"none"),st.setAttribute("stroke",et.fontBorderColor||"none"),st.setAttribute("x",String(Math.floor(it.x-1))),st.setAttribute("y",String(Math.floor(it.y-1))),st.setAttribute("width",String(Math.ceil(it.width+2))),st.setAttribute("height",String(Math.ceil(it.height)));const nt=et.fontBorderColor?Math.max(1,this.format(et.scale)):0;st.setAttribute("stroke-width",String(nt)),((tt=this.root)==null?void 0:tt.ownerDocument)===document&&mod(nt,2)===1&&st.setAttribute("transform","translate(0.5, 0.5)"),T.insertBefore(st,T.firstChild)}}}stroke(){this.addNode(!1,!0)}fill(){this.addNode(!0,!1)}fillAndStroke(){this.addNode(!0,!0)}};Ir.createCss=(T,k,Z,ee,te,ne,me,Ve,Ye,et,tt,it,st)=>{let nt=`box-sizing: border-box; font-size: 0; text-align: ${Z===ALIGN.LEFT?"left":Z===ALIGN.RIGHT?"right":"center"}; `;const rt=getAlignmentAsPoint(Z,ee);let lt="overflow: hidden; ",ot="width: 1px; ",ht="height: 1px; ",dt=rt.x*T,ct=rt.y*k;me?(ot=`width: ${Math.round(T)}px; `,nt+=`max-height: ${Math.round(k)}px; `,ct=0):ne==="fill"?(ot=`width: ${Math.round(T)}px; `,ht=`height: ${Math.round(k)}px; `,tt+="width: 100%; height: 100%; ",nt+=ot+ht):ne==="width"?(ot=`width: ${Math.round(T)}px; `,tt+="width: 100%; ",nt+=ot,ct=0,k>0&&(nt+=`max-height: ${Math.round(k)}px; `)):(lt="",ct=0);let ut="";Ve&&(ut+=`background-color: ${Ve}; `),Ye&&(ut+=`border: 1px solid ${Ye}; `),lt==""||me?tt+=ut:nt+=ut,te&&T>0?(tt+=`white-space: normal; word-wrap: ${WORD_WRAP}; `,ot=`width: ${Math.round(T)}px; `,lt!==""&&ne!=="fill"&&(ct=0)):(tt+="white-space: nowrap; ",lt===""&&(dt=0)),st(dt,ct,et+ot+ht,nt+lt,tt,lt)};let SvgCanvas2D=Ir,Shape$1=class{constructor(T=null){this.preserveImageAspect=!1,this.overlay=null,this.indicator=null,this.indicatorShape=null,this.opacity=100,this.isDashed=!1,this.fill=NONE,this.gradient=NONE,this.gradientDirection=DIRECTION.EAST,this.fillOpacity=100,this.strokeOpacity=100,this.stroke=NONE,this.strokeWidth=1,this.spacing=0,this.startSize=1,this.endSize=1,this.startArrow=NONE,this.endArrow=NONE,this.direction=DIRECTION.EAST,this.flipH=!1,this.flipV=!1,this.isShadow=!1,this.isRounded=!1,this.rotation=0,this.cursor="",this.verticalTextRotation=0,this.oldGradients={},this.glass=!1,this.dialect=null,this.scale=1,this.antiAlias=!0,this.minSvgStrokeWidth=1,this.bounds=null,this.points=[],this.State=null,this.style=null,this.boundingBox=null,this.stencil=null,this.svgStrokeTolerance=8,this.pointerEvents=!0,this.originalPointerEvents=null,this.svgPointerEvents="all",this.shapePointerEvents=!1,this.stencilPointerEvents=!1,this.outline=!1,this.visible=!0,this.useSvgBoundingBox=!0,this.image=null,this.imageSrc=null,this.indicatorColor=NONE,this.indicatorStrokeColor=NONE,this.indicatorGradientColor=NONE,this.indicatorDirection=DIRECTION.EAST,this.indicatorImageSrc=null,T&&(this.stencil=T),this.node=this.create()}init(T){this.node.parentNode||T.appendChild(this.node)}initStyles(){this.strokeWidth=1,this.rotation=0,this.opacity=100,this.fillOpacity=100,this.strokeOpacity=100,this.flipH=!1,this.flipV=!1}isHtmlAllowed(){return!1}getSvgScreenOffset(){const T=this.stencil&&this.stencil.strokeWidthValue!=="inherit"?Number(this.stencil.strokeWidthValue):this.strokeWidth??0;return mod(Math.max(1,Math.round(T*this.scale)),2)===1?.5:0}create(){return document.createElementNS("http://www.w3.org/2000/svg","g")}redraw(){this.updateBoundsFromPoints(),this.visible&&this.checkBounds()?(this.node.style.visibility="visible",this.clear(),this.redrawShape(),this.updateBoundingBox()):(this.node.style.visibility="hidden",this.boundingBox=null)}clear(){for(;this.node.lastChild;)this.node.removeChild(this.node.lastChild)}updateBoundsFromPoints(){const T=this.points;if(T.length>0&&T[0]){this.bounds=new Rectangle(Math.round(T[0].x),Math.round(T[0].y),1,1);for(const k of T)k&&this.bounds.add(new Rectangle(Math.round(k.x),Math.round(k.y),1,1))}}getLabelBounds(T){var te,ne,me;const k=((te=this.style)==null?void 0:te.direction)??DIRECTION.EAST;let Z=T.clone();k!==DIRECTION.SOUTH&&k!==DIRECTION.NORTH&&this.State&&this.State.text&&this.State.text.isPaintBoundsInverted()&&(Z=Z.clone(),[Z.width,Z.height]=[Z.height,Z.width]);let ee=this.getLabelMargins(Z);if(ee){ee=ee.clone();let Ve=((ne=this.style)==null?void 0:ne.flipH)??!1,Ye=((me=this.style)==null?void 0:me.flipV)??!1;if(this.State&&this.State.text&&this.State.text.isPaintBoundsInverted()){const et=ee.x;ee.x=ee.height,ee.height=ee.width,ee.width=ee.y,ee.y=et,[Ve,Ye]=[Ye,Ve]}return getDirectedBounds(T,ee,this.style,Ve,Ye)}return T}getLabelMargins(T){return null}checkBounds(){return!Number.isNaN(this.scale)&&Number.isFinite(this.scale)&&this.scale>0&&this.bounds&&!Number.isNaN(this.bounds.x)&&!Number.isNaN(this.bounds.y)&&!Number.isNaN(this.bounds.width)&&!Number.isNaN(this.bounds.height)&&this.bounds.width>0&&this.bounds.height>0}redrawShape(){const T=this.createCanvas();T&&(T.pointerEvents=this.pointerEvents,this.beforePaint(T),this.paint(T),this.afterPaint(T),this.node!==T.root&&T.root&&this.node.insertAdjacentHTML("beforeend",T.root.outerHTML),this.destroyCanvas(T))}createCanvas(){const T=this.createSvgCanvas();return T&&this.outline&&(T.setStrokeWidth(this.strokeWidth),T.setStrokeColor(this.stroke),this.isDashed&&T.setDashed(this.isDashed),T.setStrokeWidth=()=>{},T.setStrokeColor=()=>{},T.setFillColor=()=>{},T.setGradient=()=>{},T.setDashed=()=>{},T.text=()=>{}),T}createSvgCanvas(){if(!this.node)return null;const T=new SvgCanvas2D(this.node,!1);T.strokeTolerance=this.pointerEvents?this.svgStrokeTolerance:0,T.pointerEventsValue=this.svgPointerEvents;const k=this.getSvgScreenOffset();return k!==0?this.node.setAttribute("transform",`translate(${k},${k})`):this.node.removeAttribute("transform"),T.minStrokeWidth=this.minSvgStrokeWidth,this.antiAlias||(T.format=Z=>Math.round(Z)),T}destroyCanvas(T){if(T instanceof SvgCanvas2D){for(const k in T.gradients){const Z=T.gradients[k];Z&&(Z.mxRefCount=(Z.mxRefCount||0)+1)}this.releaseSvgGradients(this.oldGradients),this.oldGradients=T.gradients}}beforePaint(T){}afterPaint(T){}paint(T){let k=!1;if(T&&this.outline){const{stroke:te}=T;T.stroke=(...me)=>{k=!0,te.apply(T,me)};const{fillAndStroke:ne}=T;T.fillAndStroke=(...me)=>{k=!0,ne.apply(T,me)}}const Z=this.scale,ee=this.bounds;if(ee){let te=ee.x/Z,ne=ee.y/Z,me=ee.width/Z,Ve=ee.height/Z;if(this.isPaintBoundsInverted()){const et=(me-Ve)/2;te+=et,ne-=et;const tt=me;me=Ve,Ve=tt}this.updateTransform(T,te,ne,me,Ve),this.configureCanvas(T,te,ne,me,Ve);let Ye=null;if(!this.stencil&&this.points.length===0&&this.shapePointerEvents||this.stencil&&this.stencilPointerEvents){const et=this.createBoundingBox();et&&this.node&&(Ye=this.createTransparentSvgRectangle(et.x,et.y,et.width,et.height),this.node.appendChild(Ye))}if(this.stencil)this.stencil.drawShape(T,this,te,ne,me,Ve);else if(T.setStrokeWidth(this.strokeWidth),this.points.length>0){const et=[];for(let tt=0;tt<this.points.length;tt+=1){const it=this.points[tt];it&&et.push(new Point$1(it.x/Z,it.y/Z))}this.paintEdgeShape(T,et)}else this.paintVertexShape(T,te,ne,me,Ve);Ye&&T.state&&isNotNullish(T.state.transform)&&Ye.setAttribute("transform",T.state.transform),T&&this.outline&&!k&&(T.rect(te,ne,me,Ve),T.stroke())}}configureCanvas(T,k,Z,ee,te){var me;let ne=null;if(this.style&&this.style.dashPattern!=null&&(ne=this.style.dashPattern),T.setAlpha(this.opacity/100),T.setFillAlpha(this.fillOpacity/100),T.setStrokeAlpha(this.strokeOpacity/100),this.isShadow&&T.setShadow(this.isShadow),this.isDashed&&T.setDashed(this.isDashed,((me=this.style)==null?void 0:me.fixDash)??!1),ne&&T.setDashPattern(ne),this.fill!==NONE&&this.gradient!==NONE){const Ve=this.getGradientBounds(T,k,Z,ee,te);T.setGradient(this.fill,this.gradient,Ve.x,Ve.y,Ve.width,Ve.height,this.gradientDirection)}else T.setFillColor(this.fill);T.setStrokeColor(this.stroke)}getGradientBounds(T,k,Z,ee,te){return new Rectangle(k,Z,ee,te)}updateTransform(T,k,Z,ee,te){T.scale(this.scale),T.rotate(this.getShapeRotation(),this.flipH,this.flipV,k+ee/2,Z+te/2)}paintVertexShape(T,k,Z,ee,te){this.paintBackground(T,k,Z,ee,te),(!this.outline||!this.style||!(this.style.backgroundOutline??!1))&&(T.setShadow(!1),this.paintForeground(T,k,Z,ee,te))}paintBackground(T,k,Z,ee,te){}paintForeground(T,k,Z,ee,te){}paintEdgeShape(T,k){}getArcSize(T,k){var ee,te,ne;let Z=0;if(((ee=this.style)==null?void 0:ee.absoluteArcSize)??!1)Z=Math.min(T/2,Math.min(k/2,(((te=this.style)==null?void 0:te.arcSize)??LINE_ARCSIZE)/2));else{const me=(((ne=this.style)==null?void 0:ne.arcSize)??RECTANGLE_ROUNDING_FACTOR*100)/100;Z=Math.min(T*me,k*me)}return Z}paintGlassEffect(T,k,Z,ee,te,ne){const me=Math.ceil((this.strokeWidth??0)/2),Ve=.4;T.setGradient("#ffffff","#ffffff",k,Z,ee,te*.6,"south",.9,.1),T.begin(),ne+=2*me,this.isRounded?(T.moveTo(k-me+ne,Z-me),T.quadTo(k-me,Z-me,k-me,Z-me+ne),T.lineTo(k-me,Z+te*Ve),T.quadTo(k+ee*.5,Z+te*.7,k+ee+me,Z+te*Ve),T.lineTo(k+ee+me,Z-me+ne),T.quadTo(k+ee+me,Z-me,k+ee+me-ne,Z-me)):(T.moveTo(k-me,Z-me),T.lineTo(k-me,Z+te*Ve),T.quadTo(k+ee*.5,Z+te*.7,k+ee+me,Z+te*Ve),T.lineTo(k+ee+me,Z-me)),T.close(),T.fill()}addPoints(T,k,Z=!1,ee,te=!1,ne=[],me=!0){if(k.length>0){const Ve=k[k.length-1];if(te&&Z){k=k.slice();const tt=k[0],it=new Point$1(Ve.x+(tt.x-Ve.x)/2,Ve.y+(tt.y-Ve.y)/2);k.splice(0,0,it)}let Ye=k[0],et=1;for(me?T.moveTo(Ye.x,Ye.y):T.lineTo(Ye.x,Ye.y);et<(te?k.length:k.length-1);){let tt=k[mod(et,k.length)],it=Ye.x-tt.x,st=Ye.y-tt.y;if(Z&&(it!==0||st!==0)&&ne.indexOf(et-1)<0){let nt=Math.sqrt(it*it+st*st);const rt=it*Math.min(ee,nt/2)/nt,lt=st*Math.min(ee,nt/2)/nt,ot=tt.x+rt,ht=tt.y+lt;T.lineTo(ot,ht);let dt=k[mod(et+1,k.length)];for(;et<k.length-2&&Math.round(dt.x-tt.x)===0&&Math.round(dt.y-tt.y)===0;)dt=k[mod(et+2,k.length)],et++;it=dt.x-tt.x,st=dt.y-tt.y,nt=Math.max(1,Math.sqrt(it*it+st*st));const ct=it*Math.min(ee,nt/2)/nt,ut=st*Math.min(ee,nt/2)/nt,ft=tt.x+ct,vt=tt.y+ut;T.quadTo(tt.x,tt.y,ft,vt),tt=new Point$1(ft,vt)}else T.lineTo(tt.x,tt.y);Ye=tt,et+=1}te?T.close():T.lineTo(Ve.x,Ve.y)}}resetStyles(){this.initStyles(),this.spacing=0,this.fill=NONE,this.gradient=NONE,this.gradientDirection=DIRECTION.EAST,this.stroke=NONE,this.startSize=1,this.endSize=1,this.startArrow=NONE,this.endArrow=NONE,this.direction=DIRECTION.EAST,this.isShadow=!1,this.isDashed=!1,this.isRounded=!1,this.glass=!1}apply(T){if(this.State=T,this.style=T.style,this.style){if(this.fill=this.style.fillColor??this.fill,this.gradient=this.style.gradientColor??this.gradient,this.gradientDirection=this.style.gradientDirection??this.gradientDirection,this.opacity=this.style.opacity??this.opacity,this.fillOpacity=this.style.fillOpacity??this.fillOpacity,this.strokeOpacity=this.style.strokeOpacity??this.strokeOpacity,this.stroke=this.style.strokeColor??this.stroke,this.strokeWidth=this.style.strokeWidth??this.strokeWidth,this.spacing=this.style.spacing??this.spacing,this.startSize=this.style.startSize??this.startSize,this.endSize=this.style.endSize??this.endSize,this.startArrow=this.style.startArrow??this.startArrow,this.endArrow=this.style.endArrow??this.endArrow,this.rotation=this.style.rotation??this.rotation,this.direction=this.style.direction??this.direction,this.flipH=!!this.style.flipH,this.flipV=!!this.style.flipV,this.direction===DIRECTION.NORTH||this.direction===DIRECTION.SOUTH){const k=this.flipH;this.flipH=this.flipV,this.flipV=k}this.isShadow=this.style.shadow??this.isShadow,this.isDashed=this.style.dashed??this.isDashed,this.isRounded=this.style.rounded??this.isRounded,this.glass=this.style.glass??this.glass}}setCursor(T){this.cursor=T,this.node.style.cursor=T}getCursor(){return this.cursor}isRoundable(T,k,Z,ee,te){return!1}updateBoundingBox(){if(this.useSvgBoundingBox&&this.node.ownerSVGElement)try{const T=this.node.getBBox();if(T.width>0&&T.height>0){this.boundingBox=new Rectangle(T.x,T.y,T.width,T.height),this.boundingBox.grow((this.strokeWidth??0)*this.scale/2);return}}catch{}if(this.bounds){let T=this.createBoundingBox();if(T){this.augmentBoundingBox(T);const k=this.getShapeRotation();k!==0&&(T=getBoundingBox(T,k))}this.boundingBox=T}}createBoundingBox(){if(!this.bounds)return null;const T=this.bounds.clone();return(this.stencil&&(this.direction===DIRECTION.NORTH||this.direction===DIRECTION.SOUTH)||this.isPaintBoundsInverted())&&T.rotate90(),T}augmentBoundingBox(T){this.isShadow&&(T.width+=Math.ceil(SHADOW_OFFSET_X*this.scale),T.height+=Math.ceil(SHADOW_OFFSET_Y*this.scale)),T.grow((this.strokeWidth??0)*this.scale/2)}isPaintBoundsInverted(){return!this.stencil&&(this.direction===DIRECTION.NORTH||this.direction===DIRECTION.SOUTH)}getRotation(){return this.rotation??0}getTextRotation(){var k;let T=this.getRotation();return(((k=this.style)==null?void 0:k.horizontal)??!0)||(T+=this.verticalTextRotation||-90),T}getShapeRotation(){let T=this.getRotation();return this.direction===DIRECTION.NORTH?T+=270:this.direction===DIRECTION.WEST?T+=180:this.direction===DIRECTION.SOUTH&&(T+=90),T}createTransparentSvgRectangle(T,k,Z,ee){const te=document.createElementNS("http://www.w3.org/2000/svg","rect");return te.setAttribute("x",String(T)),te.setAttribute("y",String(k)),te.setAttribute("width",String(Z)),te.setAttribute("height",String(ee)),te.setAttribute("fill",NONE),te.setAttribute("stroke",NONE),te.setAttribute("pointer-events","all"),te}redrawHtmlShape(){}setTransparentBackgroundImage(T){T.style.backgroundImage=`url('${Client.imageBasePath}/transparent.gif')`}releaseSvgGradients(T){for(const k in T){const Z=T[k];Z&&(Z.mxRefCount=(Z.mxRefCount||0)-1,Z.mxRefCount===0&&Z.parentNode&&Z.parentNode.removeChild(Z))}}destroy(){InternalEvent.release(this.node),this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node.innerHTML="",this.releaseSvgGradients(this.oldGradients),this.oldGradients={}}};class PolylineShape extends Shape$1{constructor(T,k,Z=1){super(),this.points=T,this.stroke=k,this.strokeWidth=Z}getRotation(){return 0}getShapeRotation(){return 0}isPaintBoundsInverted(){return!1}paintEdgeShape(T,k){const Z=T.pointerEventsValue;T.pointerEventsValue="stroke",!this.style||!this.style.curved?this.paintLine(T,k,this.isRounded):this.paintCurvedLine(T,k),T.pointerEventsValue=Z}paintLine(T,k,Z){var te;const ee=((te=this.style)==null?void 0:te.arcSize)??LINE_ARCSIZE;T.begin(),this.addPoints(T,k,Z,ee,!1),T.stroke()}paintCurvedLine(T,k){T.begin();const Z=k[0],ee=k.length;T.moveTo(Z.x,Z.y);for(let me=1;me<ee-2;me+=1){const Ve=k[me],Ye=k[me+1],et=(Ve.x+Ye.x)/2,tt=(Ve.y+Ye.y)/2;T.quadTo(Ve.x,Ve.y,et,tt)}const te=k[ee-2],ne=k[ee-1];T.quadTo(te.x,te.y,ne.x,ne.y),T.stroke()}}class Guide{constructor(T,k){this.states=[],this.horizontal=!0,this.vertical=!0,this.guideX=null,this.guideY=null,this.rounded=!1,this.tolerance=2,this.graph=T,this.setStates(k)}setStates(T){this.states=T}isEnabledForEvent(T){return!0}getGuideTolerance(T=!1){return T&&this.graph.isGridEnabled()?this.graph.getGridSize()/2:this.tolerance}createGuideShape(T=!1){const k=new PolylineShape([],GUIDE_COLOR,GUIDE_STROKEWIDTH);return k.isDashed=!0,k}isStateIgnored(T){return!1}move(T=null,k,Z=!1,ee=!1){if((this.horizontal||this.vertical)&&T){const{scale:te}=this.graph.getView(),ne=this.getGuideTolerance(Z)*te,me=T.clone();me.x+=k.x,me.y+=k.y;let Ve=!1,Ye=null,et=null,tt=!1,it=null,st=null,nt=ne,rt=ne;const lt=me.x,ot=me.x+me.width,ht=me.getCenterX(),dt=me.y,ct=me.y+me.height,ut=me.getCenterY(),ft=(_t,Et,Tt)=>{let xt=!1;Tt&&Math.abs(_t-ht)<nt?(k.x=_t-T.getCenterX(),nt=Math.abs(_t-ht),xt=!0):Tt||(Math.abs(_t-lt)<nt?(k.x=_t-T.x,nt=Math.abs(_t-lt),xt=!0):Math.abs(_t-ot)<nt&&(k.x=_t-T.x-T.width,nt=Math.abs(_t-ot),xt=!0)),xt&&(Ye=Et,et=_t,this.guideX||(this.guideX=this.createGuideShape(!0),this.guideX.dialect=DIALECT.SVG,this.guideX.pointerEvents=!1,this.guideX.init(this.graph.getView().getOverlayPane()))),Ve=Ve||xt},vt=(_t,Et,Tt)=>{let xt=!1;Tt&&Math.abs(_t-ut)<rt?(k.y=_t-T.getCenterY(),rt=Math.abs(_t-ut),xt=!0):Tt||(Math.abs(_t-dt)<rt?(k.y=_t-T.y,rt=Math.abs(_t-dt),xt=!0):Math.abs(_t-ct)<rt&&(k.y=_t-T.y-T.height,rt=Math.abs(_t-ct),xt=!0)),xt&&(it=Et,st=_t,this.guideY||(this.guideY=this.createGuideShape(!1),this.guideY.dialect=DIALECT.SVG,this.guideY.pointerEvents=!1,this.guideY.init(this.graph.getView().getOverlayPane()))),tt=tt||xt};for(let _t=0;_t<this.states.length;_t+=1){const Et=this.states[_t];Et&&!this.isStateIgnored(Et)&&(this.horizontal&&(ft(Et.getCenterX(),Et,!0),ft(Et.x,Et,!1),ft(Et.x+Et.width,Et,!1),Et.cell||ft(Et.getCenterX(),Et,!1)),this.vertical&&(vt(Et.getCenterY(),Et,!0),vt(Et.y,Et,!1),vt(Et.y+Et.height,Et,!1),Et.cell||vt(Et.getCenterY(),Et,!1)))}this.graph.snapDelta(k,T,!Z,Ve,tt),k=this.getDelta(T,Ye,k.x,it,k.y);const mt=this.graph.container;if(!Ve&&this.guideX)this.guideX.node.style.visibility="hidden";else if(this.guideX){let _t=null,Et=null;Ye&&(_t=Math.min(T.y+k.y-this.graph.getPanDy(),Ye.y),Et=Math.max(T.y+T.height+k.y-this.graph.getPanDy(),Ye.y+Ye.height)),_t!==null&&Et!==null?this.guideX.points=[new Point$1(et,_t),new Point$1(et,Et)]:this.guideX.points=[new Point$1(et,-this.graph.getPanDy()),new Point$1(et,mt.scrollHeight-3-this.graph.getPanDy())],this.guideX.stroke=this.getGuideColor(Ye,!0),this.guideX.node.style.visibility="visible",this.guideX.redraw()}if(!tt&&this.guideY!=null)this.guideY.node.style.visibility="hidden";else if(this.guideY!=null){let _t=null,Et=null;it!=null&&T!=null&&(_t=Math.min(T.x+k.x-this.graph.getPanDx(),it.x),Et=Math.max(T.x+T.width+k.x-this.graph.getPanDx(),it.x+it.width)),_t!=null&&Et!=null&&st!==null?this.guideY.points=[new Point$1(_t,st),new Point$1(Et,st)]:st!==null&&(this.guideY.points=[new Point$1(-this.graph.getPanDx(),st),new Point$1(mt.scrollWidth-3-this.graph.getPanDx(),st)]),this.guideY.stroke=this.getGuideColor(it,!1),this.guideY.node.style.visibility="visible",this.guideY.redraw()}}return k}getDelta(T,k=null,Z,ee=null,te){const ne=this.graph.view.scale;return(this.rounded||k!=null&&k.cell==null)&&(Z=Math.round((T.x+Z)/ne)*ne-T.x),(this.rounded||ee!=null&&ee.cell==null)&&(te=Math.round((T.y+te)/ne)*ne-T.y),new Point$1(Z,te)}getGuideColor(T,k){return GUIDE_COLOR}hide(){this.setVisible(!1)}setVisible(T){this.guideX&&(this.guideX.node.style.visibility=T?"visible":"hidden"),this.guideY&&(this.guideY.node.style.visibility=T?"visible":"hidden")}destroy(){this.guideX&&(this.guideX.destroy(),this.guideX=null),this.guideY&&(this.guideY.destroy(),this.guideY=null)}}class DragSource{constructor(T,k){this.dragOffset=null,this.dragElement=null,this.previewElement=null,this.previewOffset=null,this.enabled=!0,this.currentGraph=null,this.currentDropTarget=null,this.currentPoint=null,this.currentGuide=null,this.currentHighlight=null,this.autoscroll=!0,this.guidesEnabled=!0,this.gridEnabled=!0,this.highlightDropTargets=!0,this.dragElementZIndex=100,this.dragElementOpacity=70,this.checkEventSource=!0,this.mouseMoveHandler=null,this.mouseUpHandler=null,this.eventSource=null,this.element=T,this.dropHandler=k,InternalEvent.addGestureListeners(T,Z=>{this.mouseDown(Z)}),InternalEvent.addListener(T,"dragstart",Z=>{InternalEvent.consume(Z)}),this.eventConsumer=(Z,ee)=>{const te=ee.getProperty("eventName"),ne=ee.getProperty("event");te!==InternalEvent.MOUSE_DOWN&&ne.consume()}}isEnabled(){return this.enabled}setEnabled(T){this.enabled=T}isGuidesEnabled(){return this.guidesEnabled}setGuidesEnabled(T){this.guidesEnabled=T}isGridEnabled(){return this.gridEnabled}setGridEnabled(T){this.gridEnabled=T}getGraphForEvent(T){return null}getDropTarget(T,k,Z,ee){return T.getCellAt(k,Z)}createDragElement(T){return this.element.cloneNode(!0)}createPreviewElement(T){return null}isActive(){return!!this.mouseMoveHandler}reset(){this.currentGraph&&(this.dragExit(this.currentGraph),this.currentGraph=null),this.removeDragElement(),this.removeListeners(),this.stopDrag()}mouseDown(T){this.enabled&&!isConsumed(T)&&this.mouseMoveHandler==null&&(this.startDrag(T),this.mouseMoveHandler=this.mouseMove.bind(this),this.mouseUpHandler=this.mouseUp.bind(this),InternalEvent.addGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler),Client.IS_TOUCH&&!isMouseEvent(T)&&(this.eventSource=getSource(T),this.eventSource&&InternalEvent.addGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler)))}startDrag(T){this.dragElement=this.createDragElement(T),this.dragElement.style.position="absolute",this.dragElement.style.zIndex=String(this.dragElementZIndex),setOpacity(this.dragElement,this.dragElementOpacity),this.checkEventSource&&Client.IS_SVG&&(this.dragElement.style.pointerEvents="none")}stopDrag(){this.removeDragElement()}removeDragElement(){this.dragElement&&(this.dragElement.parentNode&&this.dragElement.parentNode.removeChild(this.dragElement),this.dragElement=null)}getElementForEvent(T){return isTouchEvent(T)||isPenEvent(T)?document.elementFromPoint(getClientX(T),getClientY(T)):getSource(T)}graphContainsEvent(T,k){const Z=getClientX(k),ee=getClientY(k),te=getOffset(T.container),ne=getScrollOrigin();let me=this.getElementForEvent(k);if(this.checkEventSource)for(;me&&me!==T.container;)me=me.parentNode;return!!me&&Z>=te.x-ne.x&&ee>=te.y-ne.y&&Z<=te.x-ne.x+T.container.offsetWidth&&ee<=te.y-ne.y+T.container.offsetHeight}mouseMove(T){let k=this.getGraphForEvent(T);if(k&&!this.graphContainsEvent(k,T)&&(k=null),k!==this.currentGraph&&(this.currentGraph&&this.dragExit(this.currentGraph,T),this.currentGraph=k,this.currentGraph&&this.dragEnter(this.currentGraph,T)),this.currentGraph&&this.dragOver(this.currentGraph,T),this.dragElement&&(!this.previewElement||this.previewElement.style.visibility!=="visible")){let Z=getClientX(T),ee=getClientY(T);this.dragElement.parentNode==null&&document.body.appendChild(this.dragElement),this.dragElement.style.visibility="visible",this.dragOffset&&(Z+=this.dragOffset.x,ee+=this.dragOffset.y);const te=getDocumentScrollOrigin(document);this.dragElement.style.left=`${Z+te.x}px`,this.dragElement.style.top=`${ee+te.y}px`}else this.dragElement&&(this.dragElement.style.visibility="hidden");InternalEvent.consume(T)}mouseUp(T){if(this.currentGraph){if(this.currentPoint&&(!this.previewElement||this.previewElement.style.visibility!=="hidden")){const{scale:k}=this.currentGraph.view,Z=this.currentGraph.view.translate,ee=this.currentPoint.x/k-Z.x,te=this.currentPoint.y/k-Z.y;this.drop(this.currentGraph,T,this.currentDropTarget,ee,te)}this.dragExit(this.currentGraph),this.currentGraph=null}this.stopDrag(),this.removeListeners(),InternalEvent.consume(T)}removeListeners(){this.eventSource&&(InternalEvent.removeGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler),this.eventSource=null),InternalEvent.removeGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler),this.mouseMoveHandler=null,this.mouseUpHandler=null}dragEnter(T,k){if(T.isMouseDown=!0,T.isMouseTrigger=isMouseEvent(k),this.previewElement=this.createPreviewElement(T),this.previewElement&&this.checkEventSource&&Client.IS_SVG&&(this.previewElement.style.pointerEvents="none"),this.isGuidesEnabled()&&this.previewElement){const Z=T.getPlugin("SelectionHandler");this.currentGuide=new Guide(T,Z==null?void 0:Z.getGuideStates())}this.highlightDropTargets&&(this.currentHighlight=new CellHighlight(T,DROP_TARGET_COLOR)),T.addListener(InternalEvent.FIRE_MOUSE_EVENT,this.eventConsumer)}dragExit(T,k){this.currentDropTarget=null,this.currentPoint=null,T.isMouseDown=!1,T.removeListener(this.eventConsumer),this.previewElement&&(this.previewElement.parentNode&&this.previewElement.parentNode.removeChild(this.previewElement),this.previewElement=null),this.currentGuide&&(this.currentGuide.destroy(),this.currentGuide=null),this.currentHighlight&&(this.currentHighlight.destroy(),this.currentHighlight=null)}dragOver(T,k){const Z=getOffset(T.container),ee=getScrollOrigin(T.container);let te=getClientX(k)-Z.x+ee.x-T.getPanDx(),ne=getClientY(k)-Z.y+ee.y-T.getPanDy();if(T.isAutoScroll()&&(!this.autoscroll||this.autoscroll)&&T.scrollPointToVisible(te,ne,T.isAutoExtend()),this.currentHighlight&&T.isDropEnabled()&&(this.currentDropTarget=this.getDropTarget(T,te,ne,k),this.currentDropTarget)){const me=T.getView().getState(this.currentDropTarget);this.currentHighlight.highlight(me)}if(this.previewElement){this.previewElement.parentNode||(T.container.appendChild(this.previewElement),this.previewElement.style.zIndex="3",this.previewElement.style.position="absolute");const me=this.isGridEnabled()&&T.isGridEnabledEvent(k);let Ve=!0;if(this.currentGuide&&this.currentGuide.isEnabledForEvent(k)){const Ye=parseInt(this.previewElement.style.width),et=parseInt(this.previewElement.style.height),tt=new Rectangle(0,0,Ye,et);let it=new Point$1(te,ne);it=this.currentGuide.move(tt,it,me,!0),Ve=!1,te=it.x,ne=it.y}else if(me){const{scale:Ye}=T.view,et=T.view.translate,tt=T.getGridSize()/2;te=(T.snap(te/Ye-et.x-tt)+et.x)*Ye,ne=(T.snap(ne/Ye-et.y-tt)+et.y)*Ye}this.currentGuide&&Ve&&this.currentGuide.hide(),this.previewOffset&&(te+=this.previewOffset.x,ne+=this.previewOffset.y),this.previewElement.style.left=`${Math.round(te)}px`,this.previewElement.style.top=`${Math.round(ne)}px`,this.previewElement.style.visibility="visible"}this.currentPoint=new Point$1(te,ne)}drop(T,k,Z=null,ee,te){this.dropHandler(T,k,Z,ee,te),T.container.style.visibility!=="hidden"&&T.container.focus()}}const makeDraggable=(Y,T,k,Z=null,ee=null,te=null,ne=null,me=!1,Ve=!0,Ye=null)=>{const et=new DragSource(Y,k);return et.dragOffset=new Point$1(ee??0,te??TOOLTIP_VERTICAL_OFFSET),ne!=null&&(et.autoscroll=ne),et.setGuidesEnabled(!1),Ve!=null&&(et.highlightDropTargets=Ve),Ye!=null&&(et.getDropTarget=Ye),et.getGraphForEvent=tt=>typeof T=="function"?T(tt):T,Z!=null&&(et.createDragElement=()=>Z.cloneNode(!0),me&&(et.createPreviewElement=tt=>{const it=Z.cloneNode(!0),st=parseInt(it.style.width),nt=parseInt(it.style.height);return it.style.width=`${Math.round(st*tt.view.scale)}px`,it.style.height=`${Math.round(nt*tt.view.scale)}px`,it})),et};class ImageBox{constructor(T,k,Z){this.src=T,this.width=k,this.height=Z}}class EventObject{constructor(T="",...k){if(this.consumed=!1,this.name=T,this.properties={},k[0]&&k[0].constructor===Object)for(const[Z,ee]of Object.entries(k[0]))this.properties[Z]=ee;else for(let Z=0;Z<k.length;Z+=2)k[Z+1]!==null&&(this.properties[k[Z]]=k[Z+1])}getName(){return this.name}getProperties(){return this.properties}getProperty(T){return this.properties[T]}isConsumed(){return this.consumed}consume(){this.consumed=!0}}class EventSource{constructor(T=null){this.eventListeners=[],this.eventsEnabled=!0,this.eventSource=null,this.eventSource=T}isEventsEnabled(){return this.eventsEnabled}setEventsEnabled(T){this.eventsEnabled=T}getEventSource(){return this.eventSource}setEventSource(T){this.eventSource=T}addListener(T,k){this.eventListeners.push({name:T,funct:k})}removeListener(T){let k=0;for(;k<this.eventListeners.length;)this.eventListeners[k].funct===T?this.eventListeners.splice(k,1):k+=1}fireEvent(T,k=null){if(this.isEventsEnabled()){T||(T=new EventObject("")),k||(k=this.getEventSource()),k||(k=this);for(const Z of this.eventListeners)(Z.name===null||Z.name===T.getName())&&Z.funct.apply(this,[k,T])}}}class RectangleShape extends Shape$1{constructor(T,k,Z,ee=1){super(),this.bounds=T,this.fill=k,this.stroke=Z,this.strokeWidth=ee}isHtmlAllowed(){let T=!0;return this.style&&this.style.pointerEvents!=null&&(T=this.style.pointerEvents),!this.isRounded&&!this.glass&&this.rotation===0&&(T||this.fill!==NONE)}paintBackground(T,k,Z,ee,te){var me,Ve,Ye;let ne=!0;if(this.style&&this.style.pointerEvents!=null&&(ne=this.style.pointerEvents),ne||this.fill!==NONE||this.stroke!==NONE){if(!ne&&this.fill===NONE&&(T.pointerEvents=!1),this.isRounded){let et=0;if(((me=this.style)==null?void 0:me.absoluteArcSize)??!1)et=Math.min(ee/2,Math.min(te/2,(((Ve=this.style)==null?void 0:Ve.arcSize)??LINE_ARCSIZE)/2));else{const tt=(((Ye=this.style)==null?void 0:Ye.arcSize)??RECTANGLE_ROUNDING_FACTOR*100)/100;et=Math.min(ee*tt,te*tt)}T.roundrect(k,Z,ee,te,et,et)}else T.rect(k,Z,ee,te);T.fillAndStroke()}}isRoundable(T,k,Z,ee,te){return!0}paintForeground(T,k,Z,ee,te){this.glass&&!this.outline&&this.fill!==NONE&&this.paintGlassEffect(T,k,Z,ee,te,this.getArcSize(ee+this.strokeWidth,te+this.strokeWidth))}}class CellState extends Rectangle{constructor(T=null,k=null,Z=null){super(),this.node=null,this.cellBounds=null,this.paintBounds=null,this.boundingBox=null,this.control=null,this.overlays=new Dictionary,this.invalidStyle=!1,this.invalid=!0,this.absolutePoints=[],this.visibleSourceState=null,this.visibleTargetState=null,this.terminalDistance=0,this.length=0,this.segments=[],this.shape=null,this.text=null,this.unscaledWidth=0,this.unscaledHeight=0,this.parentHighlight=null,this.point=null,T&&(this.view=T),k&&(this.cell=k),this.style=Z??{},this.origin=new Point$1,this.absoluteOffset=new Point$1}getPerimeterBounds(T=0,k=new Rectangle(this.x,this.y,this.width,this.height)){var Z,ee;if(((ee=(Z=this.shape)==null?void 0:Z.stencil)==null?void 0:ee.aspect)==="fixed"){const te=this.shape.stencil.computeAspect(this.shape,k.x,k.y,k.width,k.height);k.x=te.x,k.y=te.y,k.width=this.shape.stencil.w0*te.width,k.height=this.shape.stencil.h0*te.height}return T!==0&&k.grow(T),k}setAbsoluteTerminalPoint(T,k=!1){k?this.absolutePoints.length===0?this.absolutePoints.push(T):this.absolutePoints[0]=T:this.absolutePoints.length===0?(this.absolutePoints.push(null),this.absolutePoints.push(T)):this.absolutePoints.length===1?this.absolutePoints.push(T):this.absolutePoints[this.absolutePoints.length-1]=T}setCursor(T){this.shape&&this.shape.setCursor(T),this.text&&this.text.setCursor(T)}getVisibleTerminal(T=!1){var k;return((k=this.getVisibleTerminalState(T))==null?void 0:k.cell)??null}getVisibleTerminalState(T=!1){return T?this.visibleSourceState:this.visibleTargetState}setVisibleTerminalState(T,k=!1){k?this.visibleSourceState=T:this.visibleTargetState=T}getCellBounds(){return this.cellBounds}getPaintBounds(){return this.paintBounds}updateCachedBounds(){const T=this.view,k=T.translate,Z=T.scale;this.cellBounds=new Rectangle(this.x/Z-k.x,this.y/Z-k.y,this.width/Z,this.height/Z),this.paintBounds=Rectangle.fromRectangle(this.cellBounds),this.shape&&this.shape.isPaintBoundsInverted()&&this.paintBounds.rotate90()}setState(T){this.view=T.view,this.cell=T.cell,this.style=T.style,this.absolutePoints=T.absolutePoints,this.origin=T.origin,this.absoluteOffset=T.absoluteOffset,this.boundingBox=T.boundingBox,this.terminalDistance=T.terminalDistance,this.segments=T.segments,this.length=T.length,this.x=T.x,this.y=T.y,this.width=T.width,this.height=T.height,this.unscaledWidth=T.unscaledWidth,this.unscaledHeight=T.unscaledHeight}clone(){const T=new CellState(this.view,this.cell,this.style);for(let k=0;k<this.absolutePoints.length;k+=1){const Z=this.absolutePoints[k];T.absolutePoints[k]=Z?Z.clone():null}return this.origin&&(T.origin=this.origin.clone()),this.absoluteOffset&&(T.absoluteOffset=this.absoluteOffset.clone()),this.boundingBox&&(T.boundingBox=this.boundingBox.clone()),T.terminalDistance=this.terminalDistance,T.segments=this.segments,T.length=this.length,T.x=this.x,T.y=this.y,T.width=this.width,T.height=this.height,T.unscaledWidth=this.unscaledWidth,T.unscaledHeight=this.unscaledHeight,T}destroy(){this.view.graph.cellRenderer.destroy(this)}isLoop(T){const k=this.getVisibleTerminalState(!0);return k&&k===this.getVisibleTerminalState(!1)}getVerticalAlign(){return this.style.verticalAlign??ALIGN.MIDDLE}isTransparentState(){return(this.style.strokeColor??NONE)===NONE&&(this.style.fillColor??NONE)===NONE&&!this.getImageSrc()}getImageSrc(){return this.style.image||null}getIndicatorColor(){return this.style.indicatorColor||null}getIndicatorGradientColor(){return this.style.gradientColor||null}getIndicatorShape(){return this.style.indicatorShape||null}getIndicatorImageSrc(){return this.style.indicatorImage||null}}class UndoableEdit{constructor(T,k=!0){this.changes=[],this.significant=!0,this.undone=!1,this.redone=!1,this.source=T,this.changes=[],this.significant=k}isEmpty(){return this.changes.length===0}isSignificant(){return this.significant}add(T){this.changes.push(T)}notify(){}die(){}undo(){if(!this.undone){this.source.fireEvent(new EventObject(InternalEvent.START_EDIT));const T=this.changes.length;for(let k=T-1;k>=0;k--){const Z=this.changes[k];Z.execute?Z.execute():Z.undo&&Z.undo(),this.source.fireEvent(new EventObject(InternalEvent.EXECUTED,{change:Z}))}this.undone=!0,this.redone=!1,this.source.fireEvent(new EventObject(InternalEvent.END_EDIT))}this.notify()}redo(){if(!this.redone){this.source.fireEvent(new EventObject(InternalEvent.START_EDIT));const T=this.changes.length;for(let k=0;k<T;k+=1){const Z=this.changes[k];Z.execute!=null?Z.execute():Z.redo!=null&&Z.redo(),this.source.fireEvent(new EventObject(InternalEvent.EXECUTED,{change:Z}))}this.undone=!1,this.redone=!0,this.source.fireEvent(new EventObject(InternalEvent.END_EDIT))}this.notify()}}class ImageShape extends RectangleShape{constructor(T,k,Z="#FFFFFF",ee="#000000",te=1){super(T,Z,ee,te),this.overlay=null,this.preserveImageAspect=!0,this.imageSrc=k,this.shadow=!1}getSvgScreenOffset(){return 0}apply(T){super.apply(T),this.fill=NONE,this.stroke=NONE,this.gradient=NONE,this.style&&this.style.imageAspect!=null&&(this.preserveImageAspect=this.style.imageAspect)}isHtmlAllowed(){return!this.preserveImageAspect}isRoundable(T,k,Z,ee,te){return!1}paintVertexShape(T,k,Z,ee,te){var ne,me;if(this.imageSrc){const Ve=((ne=this.style)==null?void 0:ne.imageBackground)??NONE,Ye=((me=this.style)==null?void 0:me.imageBorder)??NONE;Ve!==NONE&&(T.setFillColor(Ve),T.setStrokeColor(Ye),T.rect(k,Z,ee,te),T.fillAndStroke()),T.image(k,Z,ee,te,this.imageSrc,this.preserveImageAspect,!1,!1),Ye!==NONE&&(T.setShadow(!1),T.setStrokeColor(Ye),T.rect(k,Z,ee,te),T.stroke())}else this.paintBackground(T,k,Z,ee,te)}}class CurrentRootChange{constructor(T,k){if(this.view=T,this.root=k,this.previous=k,this.isUp=k===null,!this.isUp){let Z=this.view.currentRoot;for(;Z;){if(Z===k){this.isUp=!0;break}Z=Z.getParent()}}}execute(){const T=this.view.currentRoot;this.view.currentRoot=this.previous,this.previous=T;const k=this.view.graph.getTranslateForRoot(this.view.currentRoot);k&&(this.view.translate=new Point$1(-k.x,-k.y)),this.isUp?(this.view.clear(this.view.currentRoot,!0,!0),this.view.validate(null)):this.view.refresh();const Z=this.isUp?InternalEvent.UP:InternalEvent.DOWN;this.view.fireEvent(new EventObject(Z,{root:this.view.currentRoot,previous:this.previous})),this.isUp=!this.isUp}}const yn=class yn{static putValue(T,k){yn.values[T]=k}static getValue(T){return yn.values[T]}static getName(T){for(const k in yn.values)if(yn.values[k]===T)return k;return null}};yn.values={};let StyleRegistry=yn;class GraphView extends EventSource{constructor(Y){super(),this.backgroundImage=null,this.backgroundPageShape=null,this.EMPTY_POINT=new Point$1,this.doneResource=Client.language!=="none"?"done":"",this.updatingDocumentResource=Client.language!=="none"?"updatingDocument":"",this.allowEval=!1,this.captureDocumentGesture=!0,this.rendering=!0,this.currentRoot=null,this.graphBounds=new Rectangle,this.scale=1,this.translate=new Point$1,this.states=new Dictionary,this.updateStyle=!1,this.lastNode=null,this.lastHtmlNode=null,this.lastForegroundNode=null,this.lastForegroundHtmlNode=null,this.endHandler=null,this.moveHandler=null,this.graph=Y}getGraphBounds(){return this.graphBounds}setGraphBounds(Y){this.graphBounds=Y}getScale(){return this.scale}setScale(Y){const T=this.scale;T!==Y&&(this.scale=Y,this.isEventsEnabled()&&this.viewStateChanged()),this.fireEvent(new EventObject(InternalEvent.SCALE,{scale:Y,previousScale:T}))}getTranslate(){return this.translate}isRendering(){return this.rendering}setRendering(Y){this.rendering=Y}setTranslate(Y,T){const k=new Point$1(this.translate.x,this.translate.y);(this.translate.x!==Y||this.translate.y!==T)&&(this.translate.x=Y,this.translate.y=T,this.isEventsEnabled()&&this.viewStateChanged()),this.fireEvent(new EventObject(InternalEvent.TRANSLATE,{translate:this.translate,previousTranslate:k}))}isAllowEval(){return this.allowEval}setAllowEval(Y){this.allowEval=Y}getStates(){return this.states}setStates(Y){this.states=Y}getCanvas(){return this.canvas}getBackgroundPane(){return this.backgroundPane}getDrawPane(){return this.drawPane}getOverlayPane(){return this.overlayPane}getDecoratorPane(){return this.decoratorPane}getBounds(Y){let T=null;if(Y.length>0){for(let k=0;k<Y.length;k+=1)if(Y[k].isVertex()||Y[k].isEdge()){const Z=this.getState(Y[k]);Z&&(T?T.add(Z):T=Rectangle.fromRectangle(Z))}}return T}setCurrentRoot(Y){if(this.currentRoot!==Y){const T=new CurrentRootChange(this,Y);T.execute();const k=new UndoableEdit(this,!0);k.add(T),this.fireEvent(new EventObject(InternalEvent.UNDO,{edit:k})),this.graph.sizeDidChange(),this.currentRoot=Y}return Y}scaleAndTranslate(Y,T,k){const Z=this.scale,ee=new Point$1(this.translate.x,this.translate.y);(this.scale!==Y||this.translate.x!==T||this.translate.y!==k)&&(this.scale=Y,this.translate.x=T,this.translate.y=k,this.isEventsEnabled()&&this.viewStateChanged()),this.fireEvent(new EventObject(InternalEvent.SCALE_AND_TRANSLATE,{scale:Y,previousScale:Z,translate:this.translate,previousTranslate:ee}))}viewStateChanged(){this.revalidate(),this.graph.sizeDidChange()}refresh(){this.currentRoot&&this.clear(),this.revalidate()}revalidate(){this.invalidate(),this.validate()}clear(Y,T=!1,k=!0){if(Y||(Y=this.graph.getDataModel().getRoot()),Y)if(this.removeState(Y),k&&(T||Y!==this.currentRoot)){const Z=Y.getChildCount();for(let ee=0;ee<Z;ee+=1)this.clear(Y.getChildAt(ee),T)}else this.invalidate(Y)}invalidate(Y=null,T=!0,k=!0){const Z=this.graph.getDataModel();if(Y=Y??Z.getRoot(),Y){const ee=this.getState(Y);if(ee&&(ee.invalid=!0),!Y.invalidating){if(Y.invalidating=!0,T){const te=Y.getChildCount();for(let ne=0;ne<te;ne+=1){const me=Y.getChildAt(ne);this.invalidate(me,T,k)}}if(k){const te=Y.getEdgeCount();for(let ne=0;ne<te;ne+=1)this.invalidate(Y.getEdgeAt(ne),T,k)}Y.invalidating=!1}}}validate(Y=null){const T=GlobalConfig.logger.enter("GraphView.validate");this.resetValidationState();const k=Y||(this.currentRoot??this.graph.getDataModel().getRoot());if(k){const Z=this.getBoundingBox(this.validateCellState(k?this.validateCell(k):null));this.setGraphBounds(Z??this.getEmptyBounds()),this.validateBackground(),this.resetValidationState()}GlobalConfig.logger.leave("GraphView.validate",T)}getEmptyBounds(){return new Rectangle(this.translate.x*this.scale,this.translate.y*this.scale)}getBoundingBox(Y=null,T=!0){let k=null;if(Y&&(Y.shape&&Y.shape.boundingBox&&(k=Y.shape.boundingBox.clone()),Y.text&&Y.text.boundingBox&&(k?k.add(Y.text.boundingBox):k=Y.text.boundingBox.clone()),T)){const Z=Y.cell.getChildCount();for(let ee=0;ee<Z;ee+=1){const te=this.getBoundingBox(this.getState(Y.cell.getChildAt(ee)));te&&(k?k.add(te):k=te)}}return k}createBackgroundPageShape(Y){return new RectangleShape(Y,"white","black")}validateBackground(){this.validateBackgroundImage(),this.validateBackgroundPage()}validateBackgroundImage(){const Y=this.graph.getBackgroundImage();if(Y){if(!this.backgroundImage||this.backgroundImage.imageSrc!==Y.src){this.backgroundImage&&this.backgroundImage.destroy();const T=new Rectangle(0,0,1,1);this.backgroundImage=new ImageShape(T,Y.src),this.backgroundImage.dialect=this.graph.dialect,this.backgroundImage.init(this.backgroundPane),this.backgroundImage.redraw()}this.redrawBackgroundImage(this.backgroundImage,Y)}else this.backgroundImage&&(this.backgroundImage.destroy(),this.backgroundImage=null)}validateBackgroundPage(){const Y=this.graph;if(Y.pageVisible){const T=this.getBackgroundPageBounds();this.backgroundPageShape==null?(this.backgroundPageShape=this.createBackgroundPageShape(T),this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.isShadow=!0,this.backgroundPageShape.dialect=this.graph.dialect,this.backgroundPageShape.init(this.backgroundPane),this.backgroundPageShape.redraw(),this.backgroundPageShape.node&&(Y.isNativeDblClickEnabled()&&InternalEvent.addListener(this.backgroundPageShape.node,"dblclick",k=>{Y.dblClick(k)}),InternalEvent.addGestureListeners(this.backgroundPageShape.node,k=>{Y.fireMouseEvent(InternalEvent.MOUSE_DOWN,new InternalMouseEvent(k))},k=>{const Z=Y.getPlugin("TooltipHandler");Z&&Z.isHideOnHover()&&Z.hide(),Y.isMouseDown&&!isConsumed(k)&&Y.fireMouseEvent(InternalEvent.MOUSE_MOVE,new InternalMouseEvent(k))},k=>{Y.fireMouseEvent(InternalEvent.MOUSE_UP,new InternalMouseEvent(k))}))):(this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.bounds=T,this.backgroundPageShape.redraw())}else this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null)}getBackgroundPageBounds(){const Y=this.graph.pageFormat,T=this.scale*this.graph.pageScale;return new Rectangle(this.scale*this.translate.x,this.scale*this.translate.y,Y.width*T,Y.height*T)}redrawBackgroundImage(Y,T){if(Y.scale=this.scale,Y.bounds){const k=Y.bounds;k.x=this.scale*this.translate.x,k.y=this.scale*this.translate.y,k.width=this.scale*T.width,k.height=this.scale*T.height}Y.redraw()}validateCell(Y,T=!0){if(T=T&&Y.isVisible(),this.getState(Y,T)&&!T)this.removeState(Y);else{const Z=Y.getChildCount();for(let ee=0;ee<Z;ee+=1)this.validateCell(Y.getChildAt(ee),T&&(!Y.isCollapsed()||Y===this.currentRoot))}return Y}validateCellState(Y,T=!0){let k=null;if(Y&&(k=this.getState(Y),k&&(k.invalid&&(k.invalid=!1,(!k.style||k.invalidStyle)&&(k.style=this.graph.getCellStyle(k.cell),k.invalidStyle=!1),Y!==this.currentRoot&&this.validateCellState(Y.getParent(),!1),k.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal(Y,!0),!1),!0),k.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal(Y,!1),!1),!1),this.updateCellState(k),Y!==this.currentRoot&&!k.invalid&&(this.graph.cellRenderer.redraw(k,!1,this.isRendering()),k.updateCachedBounds())),T&&!k.invalid))){k.shape&&this.stateValidated(k);const Z=Y.getChildCount();for(let ee=0;ee<Z;ee+=1)this.validateCellState(Y.getChildAt(ee))}return k}updateCellState(Y){const T=Y.absoluteOffset,k=Y.origin;if(T.x=0,T.y=0,k.x=0,k.y=0,Y.length=0,Y.cell!==this.currentRoot){const Z=Y.cell.getParent(),ee=Z?this.getState(Z):null;ee&&ee.cell!==this.currentRoot&&(k.x+=ee.origin.x,k.y+=ee.origin.y);let te=this.graph.getChildOffsetForCell(Y.cell);te&&(k.x+=te.x,k.y+=te.y);const ne=Y.cell.getGeometry();if(ne){if(!Y.cell.isEdge())if(te=ne.offset?ne.offset:this.EMPTY_POINT,ne.relative&&ee)if(ee.cell.isEdge()){const me=this.getPoint(ee,ne);me&&(k.x+=me.x/this.scale-ee.origin.x-this.translate.x,k.y+=me.y/this.scale-ee.origin.y-this.translate.y)}else k.x+=ne.x*ee.unscaledWidth+te.x,k.y+=ne.y*ee.unscaledHeight+te.y;else T.x=this.scale*te.x,T.y=this.scale*te.y,k.x+=ne.x,k.y+=ne.y;Y.x=this.scale*(this.translate.x+k.x),Y.y=this.scale*(this.translate.y+k.y),Y.width=this.scale*ne.width,Y.unscaledWidth=ne.width,Y.height=this.scale*ne.height,Y.unscaledHeight=ne.height,Y.cell.isVertex()&&this.updateVertexState(Y,ne),Y.cell.isEdge()&&this.updateEdgeState(Y,ne)}}Y.updateCachedBounds()}updateVertexState(Y,T){const k=Y.cell.getParent(),Z=k?this.getState(k):null;if(T.relative&&Z&&!Z.cell.isEdge()){const ee=toRadians(Z.style.rotation??0);if(ee!==0){const te=Math.cos(ee),ne=Math.sin(ee),me=new Point$1(Y.getCenterX(),Y.getCenterY()),Ve=new Point$1(Z.getCenterX(),Z.getCenterY()),Ye=getRotatedPoint(me,te,ne,Ve);Y.x=Ye.x-Y.width/2,Y.y=Ye.y-Y.height/2}}this.updateVertexLabelOffset(Y)}updateEdgeState(Y,T){const k=Y.getVisibleTerminalState(!0),Z=Y.getVisibleTerminalState(!1);if(Y.cell.getTerminal(!0)&&!k||!k&&!T.getTerminalPoint(!0)||Y.cell.getTerminal(!1)&&!Z||!Z&&!T.getTerminalPoint(!1))this.clear(Y.cell,!0);else{this.updateFixedTerminalPoints(Y,k,Z),this.updatePoints(Y,T.points,k,Z),this.updateFloatingTerminalPoints(Y,k,Z);const ee=Y.absolutePoints;Y.cell!==this.currentRoot&&(ee==null||ee.length<2||ee[0]==null||ee[ee.length-1]==null)?this.clear(Y.cell,!0):(this.updateEdgeBounds(Y),this.updateEdgeLabelOffset(Y))}}updateVertexLabelOffset(Y){const T=Y.style.labelPosition??ALIGN.CENTER;if(T===ALIGN.LEFT){let Z=Y.style.labelWidth??null;Z!=null?Z*=this.scale:Z=Y.width,Y.absoluteOffset.x-=Z}else if(T===ALIGN.RIGHT)Y.absoluteOffset.x+=Y.width;else if(T===ALIGN.CENTER){const Z=Y.style.labelWidth??null;if(Z!=null){const ee=Y.style.align??ALIGN.CENTER;let te=0;ee===ALIGN.CENTER?te=.5:ee===ALIGN.RIGHT&&(te=1),te!==0&&(Y.absoluteOffset.x-=(Z*this.scale-Y.width)*te)}}const k=Y.style.verticalLabelPosition??ALIGN.MIDDLE;k===ALIGN.TOP?Y.absoluteOffset.y-=Y.height:k===ALIGN.BOTTOM&&(Y.absoluteOffset.y+=Y.height)}resetValidationState(){this.lastNode=null,this.lastHtmlNode=null,this.lastForegroundNode=null,this.lastForegroundHtmlNode=null}stateValidated(Y){const T=this.graph,k=Y.cell.isEdge()&&T.keepEdgesInForeground||Y.cell.isVertex()&&T.keepEdgesInBackground,Z=k?this.lastForegroundHtmlNode||this.lastHtmlNode:this.lastHtmlNode,ee=k?this.lastForegroundNode||this.lastNode:this.lastNode,te=T.cellRenderer.insertStateAfter(Y,ee,Z);k?(this.lastForegroundHtmlNode=te[1],this.lastForegroundNode=te[0]):(this.lastHtmlNode=te[1],this.lastNode=te[0])}updateFixedTerminalPoints(Y,T,k){this.updateFixedTerminalPoint(Y,T,!0,this.graph.getConnectionConstraint(Y,T,!0)),this.updateFixedTerminalPoint(Y,k,!1,this.graph.getConnectionConstraint(Y,k,!1))}updateFixedTerminalPoint(Y,T,k,Z){Y.setAbsoluteTerminalPoint(this.getFixedTerminalPoint(Y,T,k,Z),k)}getFixedTerminalPoint(Y,T,k,Z){let ee=null;if(Z&&T&&(ee=this.graph.getConnectionPoint(T,Z,!1)),!ee&&!T){const te=this.scale,ne=this.translate,me=Y.origin;ee=Y.cell.getGeometry().getTerminalPoint(k),ee&&(ee=new Point$1(te*(ne.x+ee.x+me.x),te*(ne.y+ee.y+me.y)))}return ee}updateBoundsFromStencil(Y){let T=null;if(Y&&Y.shape&&Y.shape.stencil&&Y.shape.stencil.aspect==="fixed"){T=Rectangle.fromRectangle(Y);const k=Y.shape.stencil.computeAspect(null,Y.x,Y.y,Y.width,Y.height);Y.setRect(k.x,k.y,Y.shape.stencil.w0*k.width,Y.shape.stencil.h0*k.height)}return T}updatePoints(Y,T,k,Z){const ee=[];ee.push(Y.absolutePoints[0]);const te=this.getEdgeStyle(Y,T,k,Z);if(te&&k){const me=this.getTerminalPort(Y,k,!0),Ve=Z?this.getTerminalPort(Y,Z,!1):null,Ye=this.updateBoundsFromStencil(me),et=this.updateBoundsFromStencil(Ve);te(Y,me,Ve,T,ee),me&&Ye&&me.setRect(Ye.x,Ye.y,Ye.width,Ye.height),Ve&&et&&Ve.setRect(et.x,et.y,et.width,et.height)}else if(T){for(let me=0;me<T.length;me+=1)if(T[me]){const Ve=clone$1(T[me]);ee.push(this.transformControlPoint(Y,Ve))}}const ne=Y.absolutePoints;ee.push(ne[ne.length-1]),Y.absolutePoints=ee}transformControlPoint(Y,T,k=!1){if(Y&&T){const Z=Y.origin,ee=k?1:this.scale;return new Point$1(ee*(T.x+this.translate.x+Z.x),ee*(T.y+this.translate.y+Z.y))}return null}isLoopStyleEnabled(Y,T=[],k=null,Z=null){const ee=this.graph.getConnectionConstraint(Y,k,!0),te=this.graph.getConnectionConstraint(Y,Z,!1);return(T==null||T.length<2)&&!((Y.style.orthogonalLoop??!1)||(ee==null||ee.point==null)&&(te==null||te.point==null))?k!=null&&k===Z:!1}getEdgeStyle(edge,points=[],source=null,target=null){let edgeStyle=this.isLoopStyleEnabled(edge,points,source,target)?edge.style.loopStyle??this.graph.defaultLoopStyle:edge.style.noEdgeStyle?null:edge.style.edgeStyle;if(typeof edgeStyle=="string"){let tmp=StyleRegistry.getValue(edgeStyle);!tmp&&this.isAllowEval()&&(tmp=eval(edgeStyle)),edgeStyle=tmp}return typeof edgeStyle=="function"?edgeStyle:null}updateFloatingTerminalPoints(Y,T,k){const Z=Y.absolutePoints,ee=Z[0];!Z[Z.length-1]&&k&&this.updateFloatingTerminalPoint(Y,k,T,!1),!ee&&T&&this.updateFloatingTerminalPoint(Y,T,k,!0)}updateFloatingTerminalPoint(Y,T,k,Z){Y.setAbsoluteTerminalPoint(this.getFloatingTerminalPoint(Y,T,k,Z),Z)}getFloatingTerminalPoint(Y,T,k,Z){T=this.getTerminalPort(Y,T,Z);let ee=this.getNextPoint(Y,k,Z);const te=this.graph.isOrthogonal(Y),ne=toRadians(T.style.rotation??0),me=new Point$1(T.getCenterX(),T.getCenterY());if(ne!==0){const et=Math.cos(-ne),tt=Math.sin(-ne);ee=getRotatedPoint(ee,et,tt,me)}let Ve=Y.style.perimeterSpacing??0;Ve+=Y.style[Z?"sourcePerimeterSpacing":"targetPerimeterSpacing"]??0;let Ye=this.getPerimeterPoint(T,ee,ne===0&&te,Ve);if(Ye&&ne!==0){const et=Math.cos(ne),tt=Math.sin(ne);Ye=getRotatedPoint(Ye,et,tt,me)}return Ye}getTerminalPort(Y,T,k=!1){const Z=k?"sourcePort":"targetPort",ee=Y.style[Z];if(ee){const te=this.graph.getDataModel().getCell(ee);if(te){const ne=this.getState(te,!1);ne&&(T=ne)}}return T}getPerimeterPoint(Y,T,k,Z=0){let ee=null;if(Y!=null){const te=this.getPerimeterFunction(Y);if(te!=null&&T!=null){const ne=this.getPerimeterBounds(Y,Z);if(ne.width>0||ne.height>0){ee=new Point$1(T.x,T.y);let me=!1,Ve=!1;Y.cell.isVertex()&&(me=!!Y.style.flipH,Ve=!!Y.style.flipV,me&&(ee.x=2*ne.getCenterX()-ee.x),Ve&&(ee.y=2*ne.getCenterY()-ee.y)),ee=te(ne,Y,ee,k),ee!=null&&(me&&(ee.x=2*ne.getCenterX()-ee.x),Ve&&(ee.y=2*ne.getCenterY()-ee.y))}}ee==null&&(ee=this.getPoint(Y))}return ee}getRoutingCenterX(Y){const T=Y.style?Y.style.routingCenterX??0:0;return Y.getCenterX()+T*Y.width}getRoutingCenterY(Y){const T=Y.style?Y.style.routingCenterY??0:0;return Y.getCenterY()+T*Y.height}getPerimeterBounds(Y,T=0){return T+=Y.style.perimeterSpacing??0,Y.getPerimeterBounds(T*this.scale)}getPerimeterFunction(state){let perimeter=state.style.perimeter;if(typeof perimeter=="string"){let tmp=StyleRegistry.getValue(perimeter);tmp==null&&this.isAllowEval()&&(tmp=eval(perimeter)),perimeter=tmp}return typeof perimeter=="function"?perimeter:null}getNextPoint(Y,T,k=!1){const Z=Y.absolutePoints;let ee=null;if(Z.length>=2){const te=Z.length;ee=Z[k?Math.min(1,te-1):Math.max(0,te-2)]}return!ee&&T&&(ee=new Point$1(T.getCenterX(),T.getCenterY())),ee}getVisibleTerminal(Y,T){const k=this.graph.getDataModel();let Z=Y.getTerminal(T),ee=Z;for(;Z&&Z!==this.currentRoot;)(ee&&!ee.isVisible()||Z.isCollapsed())&&(ee=Z),Z=Z.getParent();return ee&&(!k.contains(ee)||ee.getParent()===k.getRoot()||ee===this.currentRoot)&&(ee=null),ee}updateEdgeBounds(Y){const T=Y.absolutePoints,k=T[0],Z=T[T.length-1];if(k&&Z&&(k.x!==Z.x||k.y!==Z.y)){const me=Z.x-k.x,Ve=Z.y-k.y;Y.terminalDistance=Math.sqrt(me*me+Ve*Ve)}else Y.terminalDistance=0;let ee=0;const te=[];let ne=k;if(ne){let me=ne.x,Ve=ne.y,Ye=me,et=Ve;for(let it=1;it<T.length;it+=1){const st=T[it];if(st){const nt=ne.x-st.x,rt=ne.y-st.y,lt=Math.sqrt(nt*nt+rt*rt);te.push(lt),ee+=lt,ne=st,me=Math.min(ne.x,me),Ve=Math.min(ne.y,Ve),Ye=Math.max(ne.x,Ye),et=Math.max(ne.y,et)}}Y.length=ee,Y.segments=te;const tt=1;Y.x=me,Y.y=Ve,Y.width=Math.max(tt,Ye-me),Y.height=Math.max(tt,et-Ve)}}getPoint(Y,T=null){let k=Y.getCenterX(),Z=Y.getCenterY();if(Y.segments!=null&&(T==null||T.relative)){const ee=T!=null?T.x/2:0,te=Y.absolutePoints.length,ne=Math.round((ee+.5)*Y.length);let me=Y.segments[0],Ve=0,Ye=1;for(;ne>=Math.round(Ve+me)&&Ye<te-1;)Ve+=me,me=Y.segments[Ye++];const et=me===0?0:(ne-Ve)/me,tt=Y.absolutePoints[Ye-1],it=Y.absolutePoints[Ye];if(tt!=null&&it!=null){let st=0,nt=0,rt=0;if(T!=null){st=T.y;const{offset:ct}=T;ct!=null&&(nt=ct.x,rt=ct.y)}const lt=it.x-tt.x,ot=it.y-tt.y,ht=me===0?0:ot/me,dt=me===0?0:lt/me;k=tt.x+lt*et+(ht*st+nt)*this.scale,Z=tt.y+ot*et-(dt*st-rt)*this.scale}}else if(T!=null){const{offset:ee}=T;ee!=null&&(k+=ee.x,Z+=ee.y)}return new Point$1(k,Z)}getRelativePoint(Y,T,k){const Z=Y.cell.getGeometry();if(Z){const ee=Y.absolutePoints,te=ee.length;if(Z.relative&&te>1){const ne=Y.length,{segments:me}=Y;let Ve=ee[0],Ye=ee[1],et=ptSegDistSq(Ve.x,Ve.y,Ye.x,Ye.y,T,k),tt=0,it=0,st=0;for(let xt=2;xt<te;xt+=1){Ve=Ye,Ye=ee[xt];const yt=ptSegDistSq(Ve.x,Ve.y,Ye.x,Ye.y,T,k);st+=me[xt-2],yt<=et&&(et=yt,it=xt-1,tt=st)}const nt=me[it];Ve=ee[it],Ye=ee[it+1];const rt=Ve.x,lt=Ve.y,ot=Ye.x,ht=Ye.y;let dt=T,ct=k;const ut=rt-ot,ft=lt-ht;dt-=ot,ct-=ht;let vt=0;dt=ut-dt,ct=ft-ct;const mt=dt*ut+ct*ft;mt<=0?vt=0:vt=mt*mt/(ut*ut+ft*ft);let _t=Math.sqrt(vt);_t>nt&&(_t=nt);let Et=Math.sqrt(ptSegDistSq(Ve.x,Ve.y,Ye.x,Ye.y,T,k));return relativeCcw(Ve.x,Ve.y,Ye.x,Ye.y,T,k)===-1&&(Et=-Et),new Point$1((ne/2-tt-_t)/ne*-2,Et/this.scale)}}return new Point$1}updateEdgeLabelOffset(Y){const T=Y.absolutePoints,k=Y.absoluteOffset;if(k.x=Y.getCenterX(),k.y=Y.getCenterY(),T.length>0&&Y.segments){const Z=Y.cell.getGeometry();if(Z)if(Z.relative){const ee=this.getPoint(Y,Z);Y.absoluteOffset=ee}else{const ee=T[0],te=T[T.length-1];if(ee&&te){const ne=te.x-ee.x,me=te.y-ee.y;let Ve=0,Ye=0;const et=Z.offset;et&&(Ve=et.x,Ye=et.y);const tt=ee.x+ne/2+Ve*this.scale,it=ee.y+me/2+Ye*this.scale;k.x=tt,k.y=it}}}}getState(Y,T=!1){let k=this.states.get(Y);return T&&(!k||this.updateStyle)&&Y.isVisible()&&(k?k.style=this.graph.getCellStyle(Y):(k=this.createState(Y),this.states.put(Y,k))),k}getCellStates(Y=null){if(!Y)return this.states.getValues();const T=[];for(const k of Y){const Z=this.getState(k);Z&&T.push(Z)}return T}removeState(Y){const T=this.states.remove(Y);return T&&(this.graph.cellRenderer.destroy(T),T.invalid=!0,T.destroy()),T}createState(Y){return new CellState(this,Y,this.graph.getCellStyle(Y))}isContainerEvent(Y){const T=getSource(Y);return T&&(T===this.graph.container||T.parentNode===this.backgroundPane||T.parentNode&&T.parentNode.parentNode===this.backgroundPane||T===this.canvas.parentNode||T===this.canvas||T===this.backgroundPane||T===this.drawPane||T===this.overlayPane||T===this.decoratorPane)}isScrollEvent(Y){const T=this.graph,k=getOffset(T.container),Z=new Point$1(Y.clientX-k.x,Y.clientY-k.y),ee=T.container,te=ee.offsetWidth,ne=ee.clientWidth;if(te>ne&&Z.x>ne+2&&Z.x<=te)return!0;const me=ee.offsetHeight,Ve=ee.clientHeight;return me>Ve&&Z.y>Ve+2&&Z.y<=me}init(){this.installListeners(),this.createSvg()}installListeners(){const Y=this.graph,{container:T}=Y;Client.IS_TOUCH&&(InternalEvent.addListener(T,"gesturestart",ee=>{Y.fireGestureEvent(ee),InternalEvent.consume(ee)}),InternalEvent.addListener(T,"gesturechange",ee=>{Y.fireGestureEvent(ee),InternalEvent.consume(ee)}),InternalEvent.addListener(T,"gestureend",ee=>{Y.fireGestureEvent(ee),InternalEvent.consume(ee)}));let k=null;InternalEvent.addGestureListeners(T,ee=>{this.isContainerEvent(ee)&&(!Client.IS_GC&&!Client.IS_SF||!this.isScrollEvent(ee))&&(Y.fireMouseEvent(InternalEvent.MOUSE_DOWN,new InternalMouseEvent(ee)),k=ee.pointerId)},ee=>{this.isContainerEvent(ee)&&(k===null||ee.pointerId===k)&&Y.fireMouseEvent(InternalEvent.MOUSE_MOVE,new InternalMouseEvent(ee))},ee=>{this.isContainerEvent(ee)&&Y.fireMouseEvent(InternalEvent.MOUSE_UP,new InternalMouseEvent(ee)),k=null}),InternalEvent.addListener(T,"dblclick",ee=>{this.isContainerEvent(ee)&&Y.dblClick(ee)});const Z=ee=>{let te=null;if(Client.IS_TOUCH){const ne=getClientX(ee),me=getClientY(ee),Ve=convertPoint(T,ne,me),Ye=Y.getCellAt(Ve.x,Ve.y);Ye&&(te=Y.view.getState(Ye))}return te};Y.addMouseListener({mouseDown:(ee,te)=>{const ne=Y.getPlugin("PopupMenuHandler");ne==null||ne.hideMenu()},mouseMove:()=>{},mouseUp:()=>{}}),this.moveHandler=ee=>{const te=Y.getPlugin("TooltipHandler");te&&te.isHideOnHover()&&te.hide(),this.captureDocumentGesture&&Y.isMouseDown&&Y.container!=null&&!this.isContainerEvent(ee)&&Y.container.style.display!=="none"&&Y.container.style.visibility!=="hidden"&&!isConsumed(ee)&&Y.fireMouseEvent(InternalEvent.MOUSE_MOVE,new InternalMouseEvent(ee,Z(ee)))},this.endHandler=ee=>{this.captureDocumentGesture&&Y.isMouseDown&&Y.container!=null&&!this.isContainerEvent(ee)&&Y.container.style.display!=="none"&&Y.container.style.visibility!=="hidden"&&Y.fireMouseEvent(InternalEvent.MOUSE_UP,new InternalMouseEvent(ee))},InternalEvent.addGestureListeners(document,null,this.moveHandler,this.endHandler)}createSvg(){const{container:Y}=this.graph,T=this.canvas=document.createElementNS("http://www.w3.org/2000/svg","g");this.backgroundPane=document.createElementNS("http://www.w3.org/2000/svg","g"),T.appendChild(this.backgroundPane),this.drawPane=document.createElementNS("http://www.w3.org/2000/svg","g"),T.appendChild(this.drawPane),this.overlayPane=document.createElementNS("http://www.w3.org/2000/svg","g"),T.appendChild(this.overlayPane),this.decoratorPane=document.createElementNS("http://www.w3.org/2000/svg","g"),T.appendChild(this.decoratorPane);const k=document.createElementNS("http://www.w3.org/2000/svg","svg");k.style.left="0px",k.style.top="0px",k.style.width="100%",k.style.height="100%",k.style.display="block",k.appendChild(this.canvas),Y!=null&&(Y.appendChild(k),this.updateContainerStyle(Y))}createHtml(){const Y=this.graph.container;Y!=null&&(this.canvas=this.createHtmlPane("100%","100%"),this.canvas.style.overflow="hidden",this.backgroundPane=this.createHtmlPane("1px","1px"),this.drawPane=this.createHtmlPane("1px","1px"),this.overlayPane=this.createHtmlPane("1px","1px"),this.decoratorPane=this.createHtmlPane("1px","1px"),this.canvas.appendChild(this.backgroundPane),this.canvas.appendChild(this.drawPane),this.canvas.appendChild(this.overlayPane),this.canvas.appendChild(this.decoratorPane),Y.appendChild(this.canvas),this.updateContainerStyle(Y))}updateHtmlCanvasSize(Y,T){if(this.graph.container!=null){const k=this.graph.container.offsetWidth,Z=this.graph.container.offsetHeight;k<Y?this.canvas.style.width=Y+"px":this.canvas.style.width="100%",Z<T?this.canvas.style.height=T+"px":this.canvas.style.height="100%"}}createHtmlPane(Y,T){const k=document.createElement("DIV");return Y!=null&&T!=null?(k.style.position="absolute",k.style.left="0px",k.style.top="0px",k.style.width=Y,k.style.height=T):k.style.position="relative",k}updateContainerStyle(Y){const T=getCurrentStyle(Y);T!=null&&T.position=="static"&&(Y.style.position="relative"),Client.IS_POINTER&&(Y.style.touchAction="none")}destroy(){let Y=null;this.canvas&&this.canvas instanceof SVGElement&&(Y=this.canvas.ownerSVGElement),Y||(Y=this.canvas),Y&&Y.parentNode&&(this.clear(this.currentRoot,!0),InternalEvent.removeGestureListeners(document,null,this.moveHandler,this.endHandler),InternalEvent.release(this.graph.container),Y.parentNode.removeChild(Y),this.moveHandler=null,this.endHandler=null,this.canvas=null,this.backgroundPane=null,this.drawPane=null,this.overlayPane=null,this.decoratorPane=null)}}const sr=class sr{static addMarker(T,k){sr.markers[T]=k}static createMarker(T,k,Z,ee,te,ne,me,Ve,Ye,et){const tt=sr.markers[Z];return tt?tt(T,k,Z,ee,te,ne,me,Ve,Ye,et):null}};sr.markers={};let MarkerShape=sr;function createArrow(Y){return(T,k,Z,ee,te,ne,me,Ve,Ye,et)=>{const tt=te*Ye*1.118,it=ne*Ye*1.118;te*=me+Ye,ne*=me+Ye;const st=ee.clone();st.x-=tt,st.y-=it;const nt=Z!==ARROW.CLASSIC&&Z!==ARROW.CLASSIC_THIN?1:3/4;return ee.x+=-te*nt-tt,ee.y+=-ne*nt-it,()=>{T.begin(),T.moveTo(st.x,st.y),T.lineTo(st.x-te-ne/Y,st.y-ne+te/Y),(Z===ARROW.CLASSIC||Z===ARROW.CLASSIC_THIN)&&T.lineTo(st.x-te*3/4,st.y-ne*3/4),T.lineTo(st.x+ne/Y-te,st.y-ne-te/Y),T.close(),et?T.fillAndStroke():T.stroke()}}}function createOpenArrow(Y){return(T,k,Z,ee,te,ne,me,Ve,Ye,et)=>{const tt=te*Ye*1.118,it=ne*Ye*1.118;te*=me+Ye,ne*=me+Ye;const st=ee.clone();return st.x-=tt,st.y-=it,ee.x+=-tt*2,ee.y+=-it*2,()=>{T.begin(),T.moveTo(st.x-te-ne/Y,st.y-ne+te/Y),T.lineTo(st.x,st.y),T.lineTo(st.x+ne/Y-te,st.y-ne-te/Y),T.stroke()}}}const oval=(Y,T,k,Z,ee,te,ne,me,Ve,Ye)=>{const et=ne/2,tt=Z.clone();return Z.x-=ee*et,Z.y-=te*et,()=>{Y.ellipse(tt.x-et,tt.y-et,ne,ne),Ye?Y.fillAndStroke():Y.stroke()}};function diamond(Y,T,k,Z,ee,te,ne,me,Ve,Ye){const et=k===ARROW.DIAMOND?.7071:.9862,tt=ee*Ve*et,it=te*Ve*et;ee*=ne+Ve,te*=ne+Ve;const st=Z.clone();st.x-=tt,st.y-=it,Z.x+=-ee-tt,Z.y+=-te-it;const nt=k===ARROW.DIAMOND?2:3.4;return()=>{Y.begin(),Y.moveTo(st.x,st.y),Y.lineTo(st.x-ee/2-te/nt,st.y+ee/nt-te/2),Y.lineTo(st.x-ee,st.y-te),Y.lineTo(st.x-ee/2+te/nt,st.y-te/2-ee/nt),Y.close(),Ye?Y.fillAndStroke():Y.stroke()}}let isDefaultMarkersRegistered=!1;const registerDefaultEdgeMarkers=()=>{isDefaultMarkersRegistered||(MarkerShape.addMarker("classic",createArrow(2)),MarkerShape.addMarker("classicThin",createArrow(3)),MarkerShape.addMarker("block",createArrow(2)),MarkerShape.addMarker("blockThin",createArrow(3)),MarkerShape.addMarker("open",createOpenArrow(2)),MarkerShape.addMarker("openThin",createOpenArrow(3)),MarkerShape.addMarker("oval",oval),MarkerShape.addMarker("diamond",diamond),MarkerShape.addMarker("diamondThin",diamond),isDefaultMarkersRegistered=!0)};let ConnectorShape$1=class extends PolylineShape{constructor(T,k,Z){super(T,k,Z)}updateBoundingBox(){var T;this.useSvgBoundingBox=!!((T=this.style)!=null&&T.curved),super.updateBoundingBox()}paintEdgeShape(T,k){var te,ne,me,Ve;const Z=this.createMarker(T,k,!0),ee=this.createMarker(T,k,!1);if(super.paintEdgeShape(T,k),T.setShadow(!1),T.setDashed(!1),Z){const Ye=((te=this.style)==null?void 0:te.startStrokeColor)??this.stroke;T.setStrokeColor(Ye),T.setFillColor(((ne=this.style)==null?void 0:ne.startFillColor)??Ye),Z()}if(ee){const Ye=((me=this.style)==null?void 0:me.endStrokeColor)??this.stroke;T.setStrokeColor(Ye),T.setFillColor(((Ve=this.style)==null?void 0:Ve.endFillColor)??Ye),ee()}}createMarker(T,k,Z){if(!this.style)return null;let ee=null;const te=k.length,ne=(Z?this.style.startArrow:this.style.endArrow)||NONE;let me=Z?k[1]:k[te-2];const Ve=Z?k[0]:k[te-1];if(ne!==NONE&&me!==null&&Ve!==null){let Ye=1;for(;Ye<te-1&&Math.round(me.x-Ve.x)===0&&Math.round(me.y-Ve.y)===0;)me=Z?k[1+Ye]:k[te-2-Ye],Ye++;const et=Ve.x-me.x,tt=Ve.y-me.y,it=Math.max(1,Math.sqrt(et*et+tt*tt)),st=et/it,nt=tt/it,rt=(Z?this.style.startSize:this.style.endSize)??DEFAULT_MARKERSIZE,lt=(Z?this.style.startFill:this.style.endFill)??!0;ee=MarkerShape.createMarker(T,this,ne,Ve,st,nt,rt,Z,this.strokeWidth,lt)}return ee}augmentBoundingBox(T){if(super.augmentBoundingBox(T),!this.style)return;let k=0;this.style.startArrow!==NONE&&(k=(this.style.startSize??DEFAULT_MARKERSIZE)+1),this.style.endArrow!==NONE&&(k=Math.max(k,this.style.endSize??DEFAULT_MARKERSIZE)+1),T.grow(k*this.scale)}};class TextShape extends Shape$1{constructor(T,k,Z=ALIGN.CENTER,ee=ALIGN.MIDDLE,te="black",ne=DEFAULT_FONTFAMILY,me=DEFAULT_FONTSIZE,Ve=DEFAULT_FONTSTYLE,Ye=2,et=0,tt=0,it=0,st=0,nt=!0,rt=NONE,lt=NONE,ot=!1,ht=!1,dt="visible",ct=0,ut=DEFAULT_TEXT_DIRECTION){super(),this.margin=null,this.unrotatedBoundingBox=null,this.flipH=!1,this.flipV=!1,this.baseSpacingTop=0,this.baseSpacingBottom=0,this.baseSpacingLeft=0,this.baseSpacingRight=0,this.replaceLinefeeds=!0,this.verticalTextRotation=-90,this.ignoreClippedStringSize=!0,this.ignoreStringSize=!1,this.lastValue=null,this.cacheEnabled=!0,this.value=T,this.bounds=k,this.color=te??"black",this.align=Z??ALIGN.CENTER,this.valign=ee??ALIGN.MIDDLE,this.family=ne??DEFAULT_FONTFAMILY,this.size=me??DEFAULT_FONTSIZE,this.fontStyle=Ve??DEFAULT_FONTSTYLE,this.spacing=Ye??2,this.spacingTop=this.spacing+(et??0),this.spacingRight=this.spacing+(tt??0),this.spacingBottom=this.spacing+(it??0),this.spacingLeft=this.spacing+(st??0),this.horizontal=nt??!0,this.background=rt,this.border=lt,this.wrap=ot??!1,this.clipped=ht??!1,this.overflow=dt??"visible",this.labelPadding=ct??0,this.textDirection=ut,this.rotation=0,this.updateMargin()}getSvgScreenOffset(){return 0}checkBounds(){return!isNaN(this.scale)&&isFinite(this.scale)&&this.scale>0&&this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)}paint(T,k=!1){const Z=this.scale,ee=this.bounds.x/Z,te=this.bounds.y/Z,ne=this.bounds.width/Z,me=this.bounds.height/Z;if(this.updateTransform(T,ee,te,ne,me),this.configureCanvas(T,ee,te,ne,me),k)T.updateText(ee,te,ne,me,this.align,this.valign,this.wrap,this.overflow,this.clipped,this.getTextRotation(),this.node);else{const Ve=isNode(this.value)||this.dialect===DIALECT.STRICTHTML,Ye=Ve?"html":"";let et=this.value;!Ve&&Ye==="html"&&(et=htmlEntities(et,!1)),Ye==="html"&&!isNode(this.value)&&(et=replaceTrailingNewlines(et,"<div><br></div>")),et=!isNode(this.value)&&this.replaceLinefeeds&&Ye==="html"?et.replace(/\n/g,"<br/>"):et;let tt=this.textDirection;tt===TEXT_DIRECTION.AUTO&&!Ve&&(tt=this.getAutoDirection()),tt!==TEXT_DIRECTION.LTR&&tt!==TEXT_DIRECTION.RTL&&(tt=TEXT_DIRECTION.DEFAULT),T.text(ee,te,ne,me,et,this.align,this.valign,this.wrap,Ye,this.overflow,this.clipped,this.getTextRotation(),tt)}}redraw(){if(this.visible&&this.checkBounds()&&this.cacheEnabled&&this.lastValue===this.value&&(isNode(this.value)||this.dialect===DIALECT.STRICTHTML))if(this.node.nodeName==="DIV")this.redrawHtmlShape(),this.updateBoundingBox();else{const T=this.createCanvas();T&&(T.pointerEvents=this.pointerEvents,this.paint(T,!0),this.destroyCanvas(T),this.updateBoundingBox())}else super.redraw(),isNode(this.value)||this.dialect===DIALECT.STRICTHTML?this.lastValue=this.value:this.lastValue=null}resetStyles(){super.resetStyles(),this.color="black",this.align=ALIGN.CENTER,this.valign=ALIGN.MIDDLE,this.family=DEFAULT_FONTFAMILY,this.size=DEFAULT_FONTSIZE,this.fontStyle=DEFAULT_FONTSTYLE,this.spacing=2,this.spacingTop=2,this.spacingRight=2,this.spacingBottom=2,this.spacingLeft=2,this.horizontal=!0,this.background=NONE,this.border=NONE,this.textDirection=DEFAULT_TEXT_DIRECTION,this.margin=null}apply(T){const k=this.spacing;super.apply(T),this.style&&(this.fontStyle=this.style.fontStyle??this.fontStyle,this.family=this.style.fontFamily??this.family,this.size=this.style.fontSize??this.size,this.color=this.style.fontColor??this.color,this.align=this.style.align??this.align,this.valign=this.style.verticalAlign??this.valign,this.spacing=this.style.spacing??this.spacing,this.spacingTop=(this.style.spacingTop??this.spacingTop-k)+this.spacing,this.spacingRight=(this.style.spacingRight??this.spacingRight-k)+this.spacing,this.spacingBottom=(this.style.spacingBottom??this.spacingBottom-k)+this.spacing,this.spacingLeft=(this.style.spacingLeft??this.spacingLeft-k)+this.spacing,this.horizontal=this.style.horizontal??this.horizontal,this.background=this.style.labelBackgroundColor??this.background,this.border=this.style.labelBorderColor??this.border,this.textDirection=this.style.textDirection??DEFAULT_TEXT_DIRECTION,this.opacity=this.style.textOpacity??100,this.updateMargin()),this.flipV=!1,this.flipH=!1}getAutoDirection(){const T=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(String(this.value));return T&&T.length>0&&T[0]>"z"?TEXT_DIRECTION.RTL:TEXT_DIRECTION.LTR}getContentNode(){let T=this.node;return T&&(T.ownerSVGElement?T=T.firstChild.firstChild.firstChild.firstChild.firstChild:T=this.node.firstChild.firstChild),T}updateBoundingBox(){var te,ne,me;let{node:T}=this;this.boundingBox=this.bounds.clone();const k=this.getTextRotation(),Z=((te=this.style)==null?void 0:te.labelPosition)??ALIGN.CENTER,ee=((ne=this.style)==null?void 0:ne.verticalLabelPosition)??ALIGN.MIDDLE;if(!this.ignoreStringSize&&T&&this.overflow!=="fill"&&(!this.clipped||!this.ignoreClippedStringSize||Z!==ALIGN.CENTER||ee!==ALIGN.MIDDLE)){let Ve=null,Ye=null;if(T.firstChild&&T.firstChild.firstChild&&T.firstChild.firstChild.nodeName==="foreignObject")T=T.firstChild.firstChild.firstChild.firstChild,Ye=T.offsetHeight*this.scale,this.overflow==="width"?Ve=this.boundingBox.width:Ve=T.offsetWidth*this.scale;else try{const et=T.getBBox();typeof this.value=="string"&&((me=trim(this.value))==null?void 0:me.length)===0?this.boundingBox=null:et.width===0&&et.height===0?this.boundingBox=null:this.boundingBox=new Rectangle(et.x,et.y,et.width,et.height);return}catch{}Ve&&Ye&&(this.boundingBox=new Rectangle(this.bounds.x,this.bounds.y,Ve,Ye))}if(this.boundingBox){const Ve=this.margin;if(k!==0){const Ye=getBoundingBox(new Rectangle(Ve.x*this.boundingBox.width,Ve.y*this.boundingBox.height,this.boundingBox.width,this.boundingBox.height),k,new Point$1(0,0));this.unrotatedBoundingBox=Rectangle.fromRectangle(this.boundingBox),this.unrotatedBoundingBox.x+=Ve.x*this.unrotatedBoundingBox.width,this.unrotatedBoundingBox.y+=Ve.y*this.unrotatedBoundingBox.height,this.boundingBox.x+=Ye.x,this.boundingBox.y+=Ye.y,this.boundingBox.width=Ye.width,this.boundingBox.height=Ye.height}else this.boundingBox.x+=Ve.x*this.boundingBox.width,this.boundingBox.y+=Ve.y*this.boundingBox.height,this.unrotatedBoundingBox=null}}getShapeRotation(){return 0}getTextRotation(){return this.State&&this.State.shape?this.State.shape.getTextRotation():0}isPaintBoundsInverted(){return!this.horizontal&&!!this.State&&this.State.cell.isVertex()}configureCanvas(T,k,Z,ee,te){super.configureCanvas(T,k,Z,ee,te),T.setFontColor(this.color),T.setFontBackgroundColor(this.background),T.setFontBorderColor(this.border),T.setFontFamily(this.family),T.setFontSize(this.size),T.setFontStyle(this.fontStyle)}getHtmlValue(){let T=this.value;return this.dialect!==DIALECT.STRICTHTML&&(T=htmlEntities(T,!1)),T=replaceTrailingNewlines(T,"<div><br></div>"),T=this.replaceLinefeeds?T.replace(/\n/g,"<br/>"):T,T}getTextCss(){const T=LINE_HEIGHT;let k=`display: inline-block; font-size: ${this.size}px; font-family: ${this.family}; color: ${this.color}; line-height: ${T}; pointer-events: ${this.pointerEvents?"all":"none"}; `;matchBinaryMask(this.fontStyle,FONT.BOLD)&&(k+="font-weight: bold; "),matchBinaryMask(this.fontStyle,FONT.ITALIC)&&(k+="font-style: italic; ");const Z=[];return matchBinaryMask(this.fontStyle,FONT.UNDERLINE)&&Z.push("underline"),matchBinaryMask(this.fontStyle,FONT.STRIKETHROUGH)&&Z.push("line-through"),Z.length>0&&(k+=`text-decoration: ${Z.join(" ")}; `),k}redrawHtmlShape(){const T=Math.max(0,Math.round(this.bounds.width/this.scale)),k=Math.max(0,Math.round(this.bounds.height/this.scale)),Z=`position: absolute; left: ${Math.round(this.bounds.x)}px; top: ${Math.round(this.bounds.y)}px; pointer-events: none; `,ee=this.getTextCss(),te=this.margin,ne=this.node;SvgCanvas2D.createCss(T+2,k,this.align,this.valign,this.wrap,this.overflow,this.clipped,this.background!==NONE?htmlEntities(this.background,!0):null,this.border!==NONE?htmlEntities(this.border,!0):null,Z,ee,this.scale,(me,Ve,Ye,et,tt,it)=>{const st=this.getTextRotation();let nt=(this.scale!==1?`scale(${this.scale}) `:"")+(st!==0?`rotate(${st}deg) `:"")+(te.x!==0||te.y!==0?`translate(${te.x*100}%,${te.y*100}%)`:"");nt!==""&&(nt=`transform-origin: 0 0; transform: ${nt}; `),it===""?(Ye+=et,et=`display:inline-block; min-width: 100%; ${nt}`):(et+=nt,Client.IS_SF&&(et+="-webkit-clip-path: content-box;")),this.opacity<100&&(tt+=`opacity: ${this.opacity/100}; `),ne.setAttribute("style",Ye);const rt=isNode(this.value)?this.value.outerHTML:this.getHtmlValue();ne.firstChild||(ne.innerHTML=`<div><div>${rt}</div></div>`),ne.firstChild.firstChild.setAttribute("style",tt),ne.firstChild.setAttribute("style",et)})}updateInnerHtml(T){if(isNode(this.value))T.innerHTML=this.value.outerHTML;else{let k=this.value;this.dialect!==DIALECT.STRICTHTML&&(k=htmlEntities(k,!1)),k=replaceTrailingNewlines(k,"<div>&nbsp;</div>"),k=this.replaceLinefeeds?k.replace(/\n/g,"<br/>"):k,k=`<div style="display:inline-block;_display:inline;">${k}</div>`,T.innerHTML=k}}updateValue(){const T=this.node;if(isNode(this.value))T.innerHTML="",T.appendChild(this.value);else{let k=this.value;this.dialect!==DIALECT.STRICTHTML&&(k=htmlEntities(k,!1)),k=replaceTrailingNewlines(k,"<div><br></div>"),k=this.replaceLinefeeds?k.replace(/\n/g,"<br/>"):k;const Z=this.background!==NONE?this.background:null,ee=this.border!==NONE?this.border:null;if(this.overflow==="fill"||this.overflow==="width")Z&&(T.style.backgroundColor=Z),ee&&(T.style.border=`1px solid ${ee}`);else{let ne="";Z&&(ne+=`background-color:${htmlEntities(Z,!0)};`),ee&&(ne+=`border:1px solid ${htmlEntities(ee,!0)};`),k=`<div style="zoom:1;${ne}display:inline-block;_display:inline;text-decoration:inherit;padding-bottom:1px;padding-right:1px;line-height:${LINE_HEIGHT}">${k}</div>`}T.innerHTML=k;const te=T.getElementsByTagName("div");if(te.length>0){let ne=this.textDirection;ne===TEXT_DIRECTION.AUTO&&this.dialect!==DIALECT.STRICTHTML&&(ne=this.getAutoDirection()),ne===TEXT_DIRECTION.LTR||ne===TEXT_DIRECTION.RTL?te[te.length-1].setAttribute("dir",ne):te[te.length-1].removeAttribute("dir")}}}updateFont(T){const{style:k}=T;k.lineHeight=LINE_HEIGHT,k.fontSize=`${this.size}px`,k.fontFamily=this.family,k.verticalAlign="top",k.color=this.color,matchBinaryMask(this.fontStyle,FONT.BOLD)?k.fontWeight="bold":k.fontWeight="",matchBinaryMask(this.fontStyle,FONT.ITALIC)?k.fontStyle="italic":k.fontStyle="";const Z=[];matchBinaryMask(this.fontStyle,FONT.UNDERLINE)&&Z.push("underline"),matchBinaryMask(this.fontStyle,FONT.STRIKETHROUGH)&&Z.push("line-through"),Z.length>0&&(k.textDecoration=Z.join(" ")),this.align===ALIGN.CENTER?k.textAlign="center":this.align===ALIGN.RIGHT?k.textAlign="right":k.textAlign="left"}updateSize(T,k=!1){const Z=Math.max(0,Math.round(this.bounds.width/this.scale)),ee=Math.max(0,Math.round(this.bounds.height/this.scale)),{style:te}=T;if(this.clipped?(te.overflow="hidden",te.maxHeight=`${ee}px`,te.maxWidth=`${Z}px`):this.overflow==="fill"?(te.width=`${Z+1}px`,te.height=`${ee+1}px`,te.overflow="hidden"):this.overflow==="width"&&(te.width=`${Z+1}px`,te.maxHeight=`${ee+1}px`,te.overflow="hidden"),this.wrap&&Z>0){if(te.wordWrap=WORD_WRAP,te.whiteSpace="normal",te.width=`${Z}px`,k&&this.overflow!=="fill"&&this.overflow!=="width"){let ne=T;ne.firstChild!=null&&ne.firstChild.nodeName==="DIV"&&(ne=ne.firstChild,T.style.wordWrap==="break-word"&&(ne.style.width="100%"));let me=ne.offsetWidth;if(me===0){const Ve=T.parentNode;T.style.visibility="hidden",document.body.appendChild(T),me=ne.offsetWidth,T.style.visibility="",Ve.appendChild(T)}me+=3,this.clipped&&(me=Math.min(me,Z)),te.width=`${me}px`}}else te.whiteSpace="nowrap"}updateMargin(){this.margin=getAlignmentAsPoint(this.align,this.valign)}getSpacing(){let T=0,k=0;return this.align===ALIGN.CENTER?T=(this.spacingLeft-this.spacingRight)/2:this.align===ALIGN.RIGHT?T=-this.spacingRight-this.baseSpacingRight:T=this.spacingLeft+this.baseSpacingLeft,this.valign===ALIGN.MIDDLE?k=(this.spacingTop-this.spacingBottom)/2:this.valign===ALIGN.BOTTOM?k=-this.spacingBottom-this.baseSpacingBottom:k=this.spacingTop+this.baseSpacingTop,new Point$1(T,k)}}const nr=class nr{static addStencil(T,k){nr.stencils[T]=k}static getStencil(T){return nr.stencils[T]}};nr.stencils={};let StencilShapeRegistry=nr;const placeholderStyleValues=["inherit","swimlane","indicated"],placeholderStyleProperties=["fillColor","strokeColor","gradientColor","fontColor"],rr=class rr{constructor(){this.defaultEdgeShape=ConnectorShape$1,this.defaultVertexShape=RectangleShape,this.defaultTextShape=TextShape,this.legacyControlPosition=!0,this.legacySpacing=!0,this.antiAlias=!0,this.minSvgStrokeWidth=1,this.forceControlClickHandler=!1}static registerShape(T,k){rr.defaultShapes[T]=k}initializeShape(T){T.shape&&(T.shape.dialect=T.view.graph.dialect,this.configureShape(T),T.shape.init(T.view.getDrawPane()))}createShape(T){let k=null;const Z=StencilShapeRegistry.getStencil(T.style.shape);if(Z)k=new Shape$1(Z);else{const ee=this.getShapeConstructor(T);k=new ee}return k}createIndicatorShape(T){T.shape&&(T.shape.indicatorShape=this.getShape(T.getIndicatorShape()||null))}getShape(T){return T?rr.defaultShapes[T]:null}getShapeConstructor(T){let k=this.getShape(T.style.shape||null);return k||(k=T.cell.isEdge()?this.defaultEdgeShape:this.defaultVertexShape),k}configureShape(T){const k=T.shape;k&&(k.apply(T),k.imageSrc=T.getImageSrc()||null,k.indicatorColor=T.getIndicatorColor()||NONE,k.indicatorStrokeColor=T.style.indicatorStrokeColor||NONE,k.indicatorGradientColor=T.getIndicatorGradientColor()||NONE,T.style.indicatorDirection&&(k.indicatorDirection=T.style.indicatorDirection),k.indicatorImageSrc=T.getIndicatorImageSrc()||null,this.postConfigureShape(T))}postConfigureShape(T){T.shape&&(this.resolveColor(T,"indicatorGradientColor","gradientColor"),this.resolveColor(T,"indicatorColor","fillColor"),this.resolveColor(T,"gradient","gradientColor"),this.resolveColor(T,"stroke","strokeColor"),this.resolveColor(T,"fill","fillColor"))}checkPlaceholderStyles(T){for(const k of placeholderStyleProperties)if(placeholderStyleValues.includes(T.style[k]))return!0;return!1}resolveColor(T,k,Z){const ee=Z==="fontColor"?T.text:T.shape;if(ee){const te=T.view.graph,ne=ee[k];let me=null;if(ne==="inherit"?me=T.cell.getParent():ne==="swimlane"?(ee[k]=Z==="strokeColor"||Z==="fontColor"?"#000000":"#ffffff",T.cell.getTerminal(!1)?me=T.cell.getTerminal(!1):me=T.cell,me=te.getSwimlane(me),Z=te.swimlaneIndicatorColorAttribute):ne==="indicated"&&T.shape?ee[k]=T.shape.indicatorColor:Z!=="fillColor"&&ne==="fillColor"&&T.shape?ee[k]=T.style.fillColor:Z!=="strokeColor"&&ne==="strokeColor"&&T.shape&&(ee[k]=T.style.strokeColor),me){const Ve=te.getView().getState(me);if(ee[k]=null,Ve){const Ye=Z==="fontColor"?Ve.text:Ve.shape;Ye&&k!=="indicatorColor"?ee[k]=Ye[k]:ee[k]=Ve.style[Z]}}}}getLabelValue(T){return T.view.graph.getLabel(T.cell)}createLabel(T,k){const Z=T.view.graph;if((T.style.fontSize||0)>0||T.style.fontSize==null){const ee=Z.isHtmlLabel(T.cell)||isNode(k);T.text=new this.defaultTextShape(k,new Rectangle,T.style.align??ALIGN.CENTER,T.getVerticalAlign(),T.style.fontColor,T.style.fontFamily,T.style.fontSize,T.style.fontStyle,T.style.spacing,T.style.spacingTop,T.style.spacingRight,T.style.spacingBottom,T.style.spacingLeft,T.style.horizontal,T.style.labelBackgroundColor,T.style.labelBorderColor,Z.isWrapping(T.cell)&&Z.isHtmlLabel(T.cell),Z.isLabelClipped(T.cell),T.style.overflow,T.style.labelPadding,T.style.textDirection??DEFAULT_TEXT_DIRECTION),T.text.opacity=T.style.textOpacity??100,T.text.dialect=ee?DIALECT.STRICTHTML:Z.dialect,T.text.style=T.style,T.text.State=T,this.initializeLabel(T,T.text);let te=!1;const ne=me=>{let Ve=T;if(Client.IS_TOUCH||te){const Ye=getClientX(me),et=getClientY(me),tt=convertPoint(Z.container,Ye,et);Ve=Z.view.getState(Z.getCellAt(tt.x,tt.y))}return Ve};InternalEvent.addGestureListeners(T.text.node,me=>{if(this.isLabelEvent(T,me)){Z.fireMouseEvent(InternalEvent.MOUSE_DOWN,new InternalMouseEvent(me,T));const Ve=getSource(me);te=Z.dialect!==DIALECT.SVG&&Ve.nodeName==="IMG"}},me=>{this.isLabelEvent(T,me)&&Z.fireMouseEvent(InternalEvent.MOUSE_MOVE,new InternalMouseEvent(me,ne(me)))},me=>{this.isLabelEvent(T,me)&&(Z.fireMouseEvent(InternalEvent.MOUSE_UP,new InternalMouseEvent(me,ne(me))),te=!1)}),Z.isNativeDblClickEnabled()&&InternalEvent.addListener(T.text.node,"dblclick",me=>{this.isLabelEvent(T,me)&&(Z.dblClick(me,T.cell),InternalEvent.consume(me))})}}initializeLabel(T,k){if(Client.IS_SVG&&Client.NO_FO&&k.dialect!==DIALECT.SVG){const Z=T.view.graph;k.init(Z.container)}else k.init(T.view.getDrawPane())}createCellOverlays(T){const k=T.view.graph,Z=k.getCellOverlays(T.cell),ee=new Dictionary;for(let te=0;te<Z.length;te+=1){const ne=T.overlays.remove(Z[te]);if(ne)ee.put(Z[te],ne);else{const me=new ImageShape(new Rectangle,Z[te].image.src);me.dialect=k.dialect,me.preserveImageAspect=!1,me.overlay=Z[te],this.initializeOverlay(T,me),this.installCellOverlayListeners(T,Z[te],me),Z[te].cursor&&(me.node.style.cursor=Z[te].cursor),ee.put(Z[te],me)}}T.overlays.visit((te,ne)=>{ne.destroy()}),T.overlays=ee}initializeOverlay(T,k){k.init(T.view.getOverlayPane())}installCellOverlayListeners(T,k,Z){const ee=T.view.graph;InternalEvent.addListener(Z.node,"click",te=>{ee.isEditing()&&ee.stopEditing(!ee.isInvokesStopCellEditing()),k.fireEvent(new EventObject(InternalEvent.CLICK,{event:te,cell:T.cell}))}),InternalEvent.addGestureListeners(Z.node,te=>{InternalEvent.consume(te)},te=>{ee.fireMouseEvent(InternalEvent.MOUSE_MOVE,new InternalMouseEvent(te,T))}),Client.IS_TOUCH&&InternalEvent.addListener(Z.node,"touchend",te=>{k.fireEvent(new EventObject(InternalEvent.CLICK,{event:te,cell:T.cell}))})}createControl(T){const k=T.view.graph,Z=k.getFoldingImage(T);if(k.isFoldingEnabled()&&Z){if(!T.control){const ee=new Rectangle(0,0,Z.width,Z.height);T.control=new ImageShape(ee,Z.src),T.control.preserveImageAspect=!1,T.control.dialect=k.dialect,this.initControl(T,T.control,!0,this.createControlClickHandler(T))}}else T.control&&(T.control.destroy(),T.control=null)}createControlClickHandler(T){const k=T.view.graph;return Z=>{if(this.forceControlClickHandler||k.isEnabled()){const ee=!T.cell.isCollapsed();k.foldCells(ee,!1,[T.cell],!1,Z),InternalEvent.consume(Z)}}}initControl(T,k,Z,ee){const te=T.view.graph;te.isHtmlLabel(T.cell)&&Client.NO_FO&&te.dialect===DIALECT.SVG?(k.dialect=DIALECT.PREFERHTML,k.init(te.container),k.node.style.zIndex=String(1)):k.init(T.view.getOverlayPane());const me=k.node;if(ee&&!Client.IS_IOS&&(te.isEnabled()&&(me.style.cursor="pointer"),InternalEvent.addListener(me,"click",ee)),Z){let Ve=null;InternalEvent.addGestureListeners(me,Ye=>{Ve=new Point$1(getClientX(Ye),getClientY(Ye)),te.fireMouseEvent(InternalEvent.MOUSE_DOWN,new InternalMouseEvent(Ye,T)),InternalEvent.consume(Ye)},Ye=>{te.fireMouseEvent(InternalEvent.MOUSE_MOVE,new InternalMouseEvent(Ye,T))},Ye=>{te.fireMouseEvent(InternalEvent.MOUSE_UP,new InternalMouseEvent(Ye,T)),InternalEvent.consume(Ye)}),ee&&Client.IS_IOS&&me.addEventListener("touchend",Ye=>{if(Ve){const et=te.getEventTolerance();Math.abs(Ve.x-getClientX(Ye))<et&&Math.abs(Ve.y-getClientY(Ye))<et&&(ee.call(ee,Ye),InternalEvent.consume(Ye))}},!0)}return me}isShapeEvent(T,k){return!0}isLabelEvent(T,k){return!0}installListeners(T){const k=T.view.graph,Z=ee=>{let te=T;const ne=getSource(ee);if(ne&&k.dialect!==DIALECT.SVG&&ne.nodeName==="IMG"||Client.IS_TOUCH){const me=getClientX(ee),Ve=getClientY(ee),Ye=convertPoint(k.container,me,Ve),et=k.getCellAt(Ye.x,Ye.y);te=et?k.view.getState(et):null}return te};T.shape&&(InternalEvent.addGestureListeners(T.shape.node,ee=>{this.isShapeEvent(T,ee)&&k.fireMouseEvent(InternalEvent.MOUSE_DOWN,new InternalMouseEvent(ee,T))},ee=>{this.isShapeEvent(T,ee)&&k.fireMouseEvent(InternalEvent.MOUSE_MOVE,new InternalMouseEvent(ee,Z(ee)))},ee=>{this.isShapeEvent(T,ee)&&k.fireMouseEvent(InternalEvent.MOUSE_UP,new InternalMouseEvent(ee,Z(ee)))}),k.isNativeDblClickEnabled()&&InternalEvent.addListener(T.shape.node,"dblclick",ee=>{this.isShapeEvent(T,ee)&&(k.dblClick(ee,T.cell),InternalEvent.consume(ee))}))}redrawLabel(T,k){const Z=T.view.graph,ee=this.getLabelValue(T),te=Z.isWrapping(T.cell),ne=Z.isLabelClipped(T.cell),Ve=Z.isHtmlLabel(T.cell)||ee&&isNode(ee)?DIALECT.STRICTHTML:Z.dialect,Ye=T.style.overflow??"visible";if(T.text&&(T.text.wrap!==te||T.text.clipped!==ne||T.text.overflow!==Ye||T.text.dialect!==Ve)&&(T.text.destroy(),T.text=null),T.text==null&&ee!=null&&(isNode(ee)||ee.length>0)?this.createLabel(T,ee):T.text!=null&&(ee==null||ee.length==0)&&(T.text.destroy(),T.text=null),T.text!=null){k&&(T.text.lastValue!=null&&this.isTextShapeInvalid(T,T.text)&&(T.text.lastValue=null),T.text.resetStyles(),T.text.apply(T),T.text.valign=T.getVerticalAlign());const et=this.getLabelBounds(T),tt=this.getTextScale(T);if(this.resolveColor(T,"color","fontColor"),k||T.text.value!==ee||T.text.wrap!==te||T.text.overflow!==Ye||T.text.clipped!==ne||T.text.scale!==tt||T.text.dialect!==Ve||T.text.bounds==null||!T.text.bounds.equals(et)){T.text.dialect=Ve,T.text.value=ee,T.text.bounds=et,T.text.scale=tt,T.text.wrap=te,T.text.clipped=ne,T.text.overflow=Ye;const it=T.text.node.style.visibility;this.redrawLabelShape(T.text),T.text.node.style.visibility=it}}}isTextShapeInvalid(T,k){function Z(ee,te,ne){let me=!1;return te==="spacingTop"||te==="spacingRight"||te==="spacingBottom"||te==="spacingLeft"?me=parseFloat(String(k[ee]))-parseFloat(String(k.spacing))!==(T.style[te]||ne):me=k[ee]!==(T.style[te]||ne),me}return Z("fontStyle","fontStyle",DEFAULT_FONTSTYLE)||Z("family","fontFamily",DEFAULT_FONTFAMILY)||Z("size","fontSize",DEFAULT_FONTSIZE)||Z("color","fontColor","black")||Z("align","align","")||Z("valign","verticalAlign","")||Z("spacing","spacing",2)||Z("spacingTop","spacingTop",0)||Z("spacingRight","spacingRight",0)||Z("spacingBottom","spacingBottom",0)||Z("spacingLeft","spacingLeft",0)||Z("horizontal","horizontal",!0)||Z("background","labelBackgroundColor",null)||Z("border","labelBorderColor",null)||Z("opacity","textOpacity",100)||Z("textDirection","textDirection",DEFAULT_TEXT_DIRECTION)}redrawLabelShape(T){T.redraw()}getTextScale(T){return T.view.scale}getLabelBounds(T){const{scale:k}=T.view,Z=T.cell.isEdge();let ee=new Rectangle(T.absoluteOffset.x,T.absoluteOffset.y);if(Z){const ne=T.text.getSpacing();ee.x+=ne.x*k,ee.y+=ne.y*k;const me=T.cell.getGeometry();me!=null&&(ee.width=Math.max(0,me.width*k),ee.height=Math.max(0,me.height*k))}else{if(T.text.isPaintBoundsInverted()){const ne=ee.x;ee.x=ee.y,ee.y=ne}ee.x+=T.x,ee.y+=T.y,ee.width=Math.max(1,T.width),ee.height=Math.max(1,T.height)}if(T.text.isPaintBoundsInverted()){const ne=(T.width-T.height)/2;ee.x+=ne,ee.y-=ne;const me=ee.width;ee.width=ee.height,ee.height=me}if(T.shape!=null){const ne=T.style.labelPosition??ALIGN.CENTER,me=T.style.verticalLabelPosition??ALIGN.MIDDLE;ne===ALIGN.CENTER&&me===ALIGN.MIDDLE&&(ee=T.shape.getLabelBounds(ee))}const te=T.style.labelWidth??null;return te!=null&&(ee.width=te*k),Z||this.rotateLabelBounds(T,ee),ee}rotateLabelBounds(T,k){if(k.y-=T.text.margin.y*k.height,k.x-=T.text.margin.x*k.width,!this.legacySpacing||T.style.overflow!=="fill"&&T.style.overflow!=="width"){const ee=T.view.scale,te=T.text.getSpacing();k.x+=te.x*ee,k.y+=te.y*ee;const ne=T.style.labelPosition??ALIGN.CENTER,me=T.style.verticalLabelPosition??ALIGN.MIDDLE,Ve=T.style.labelWidth??null;k.width=Math.max(0,k.width-(ne===ALIGN.CENTER&&Ve==null?T.text.spacingLeft*ee+T.text.spacingRight*ee:0)),k.height=Math.max(0,k.height-(me===ALIGN.MIDDLE?T.text.spacingTop*ee+T.text.spacingBottom*ee:0))}const Z=T.text.getTextRotation();if(Z!==0&&T!=null&&T.cell.isVertex()){const ee=T.getCenterX(),te=T.getCenterY();if(k.x!==ee||k.y!==te){const ne=Z*(Math.PI/180),me=getRotatedPoint(new Point$1(k.x,k.y),Math.cos(ne),Math.sin(ne),new Point$1(ee,te));k.x=me.x,k.y=me.y}}}redrawCellOverlays(T,k=!1){if(this.createCellOverlays(T),T.overlays!=null){const Z=mod(T.style.rotation??0,90),ee=toRadians(Z),te=Math.cos(ee),ne=Math.sin(ee);T.overlays.visit((me,Ve)=>{const Ye=Ve.overlay.getBounds(T);if(!T.cell.isEdge()&&T.shape!=null&&Z!==0){let et=Ye.getCenterX(),tt=Ye.getCenterY();const it=getRotatedPoint(new Point$1(et,tt),te,ne,new Point$1(T.getCenterX(),T.getCenterY()));et=it.x,tt=it.y,Ye.x=Math.round(et-Ye.width/2),Ye.y=Math.round(tt-Ye.height/2)}(k||Ve.bounds==null||Ve.scale!==T.view.scale||!Ve.bounds.equals(Ye))&&(Ve.bounds=Ye,Ve.scale=T.view.scale,Ve.redraw())})}}redrawControl(T,k=!1){const Z=T.view.graph.getFoldingImage(T);if(T.control!=null&&Z!=null){const ee=this.getControlBounds(T,Z.width,Z.height),te=this.legacyControlPosition?T.style.rotation??0:T.shape.getTextRotation(),ne=T.view.scale;(k||T.control.scale!==ne||!T.control.bounds.equals(ee)||T.control.rotation!==te)&&(T.control.rotation=te,T.control.bounds=ee,T.control.scale=ne,T.control.redraw())}}getControlBounds(T,k,Z){if(T.control!=null){const ee=T.view.scale;let te=T.getCenterX(),ne=T.getCenterY();if(!T.cell.isEdge()&&(te=T.x+k*ee,ne=T.y+Z*ee,T.shape!=null)){let me=T.shape.getShapeRotation();if(this.legacyControlPosition)me=T.style.rotation??0;else if(T.shape.isPaintBoundsInverted()){const Ve=(T.width-T.height)/2;te+=Ve,ne-=Ve}if(me!==0){const Ve=toRadians(me),Ye=Math.cos(Ve),et=Math.sin(Ve),tt=getRotatedPoint(new Point$1(te,ne),Ye,et,new Point$1(T.getCenterX(),T.getCenterY()));te=tt.x,ne=tt.y}}return T.cell.isEdge()?new Rectangle(Math.round(te-k/2*ee),Math.round(ne-Z/2*ee),Math.round(k*ee),Math.round(Z*ee)):new Rectangle(Math.round(te-k/2*ee),Math.round(ne-Z/2*ee),Math.round(k*ee),Math.round(Z*ee))}return null}insertStateAfter(T,k,Z){const ee=T.view.graph,te=this.getShapesForState(T);for(let ne=0;ne<te.length;ne+=1)if(te[ne]!=null&&te[ne].node!=null){const me=te[ne].node.parentNode!==T.view.getDrawPane()&&te[ne].node.parentNode!==T.view.getOverlayPane(),Ve=me?Z:k;if(Ve!=null&&Ve.nextSibling!==te[ne].node)Ve.nextSibling==null?Ve.parentNode.appendChild(te[ne].node):Ve.parentNode.insertBefore(te[ne].node,Ve.nextSibling);else if(Ve==null){const Ye=te[ne].node;if(Ye.parentNode===ee.container){let{canvas:et}=T.view;for(;et!=null&&et.parentNode!==ee.container;)et=et.parentNode;et!=null&&et.nextSibling!=null?et.nextSibling!==Ye&&Ye.parentNode.insertBefore(Ye,et.nextSibling):Ye.parentNode.appendChild(Ye)}else Ye.parentNode!=null&&Ye.parentNode.firstChild!=null&&Ye.parentNode.firstChild!=Ye&&Ye.parentNode.insertBefore(Ye,Ye.parentNode.firstChild)}me?Z=te[ne].node:k=te[ne].node}return[k,Z]}getShapesForState(T){return[T.shape,T.text,T.control]}redraw(T,k=!1,Z=!0){const ee=this.redrawShape(T,k,Z);T.shape!=null&&Z&&(this.redrawLabel(T,ee),this.redrawCellOverlays(T,ee),this.redrawControl(T,ee))}redrawShape(T,k=!1,Z=!0){let ee=!1;const te=T.view.graph;if(T.shape!=null&&T.shape.style!=null&&T.style!=null&&T.shape.style.shape!==T.style.shape&&(T.shape.destroy(),T.shape=null),T.shape==null&&te.container!=null&&T.cell!==T.view.currentRoot&&(T.cell.isVertex()||T.cell.isEdge())){if(T.shape=this.createShape(T),T.shape!=null){T.shape.minSvgStrokeWidth=this.minSvgStrokeWidth,T.shape.antiAlias=this.antiAlias,this.createIndicatorShape(T),this.initializeShape(T),this.createCellOverlays(T),this.installListeners(T);const ne=te.getPlugin("SelectionCellsHandler");ne==null||ne.updateHandler(T)}}else if(!k&&T.shape!=null&&(!equalEntries(T.shape.style,T.style)||this.checkPlaceholderStyles(T))){T.shape.resetStyles(),this.configureShape(T);const ne=te.getPlugin("SelectionCellsHandler");ne==null||ne.updateHandler(T),k=!0}return T.shape!=null&&T.shape.indicatorShape!=this.getShape(T.getIndicatorShape())&&(T.shape.indicator!=null&&(T.shape.indicator.destroy(),T.shape.indicator=null),this.createIndicatorShape(T),T.shape.indicatorShape!=null&&(T.shape.indicator=new T.shape.indicatorShape,T.shape.indicator.dialect=T.shape.dialect,T.shape.indicator.init(T.node),k=!0)),T.shape&&(this.createControl(T),(k||this.isShapeInvalid(T,T.shape))&&(T.absolutePoints.length>0?(T.shape.points=T.absolutePoints.slice(),T.shape.bounds=null):(T.shape.points=[],T.shape.bounds=new Rectangle(T.x,T.y,T.width,T.height)),T.shape.scale=T.view.scale,Z==null||Z?this.doRedrawShape(T):T.shape.updateBoundingBox(),ee=!0)),ee}doRedrawShape(T){var k;(k=T.shape)==null||k.redraw()}isShapeInvalid(T,k){return k.bounds==null||k.scale!==T.view.scale||T.absolutePoints.length===0&&!k.bounds.equals(T)||T.absolutePoints.length>0&&!equalPoints(k.points,T.absolutePoints)}destroy(T){T.shape&&(T.text&&(T.text.destroy(),T.text=null),T.overlays.visit((k,Z)=>{Z.destroy()}),T.overlays=new Dictionary,T.control&&(T.control.destroy(),T.control=null),T.shape.destroy(),T.shape=null)}};rr.defaultShapes={};let CellRenderer=rr;class ChildChange{constructor(T,k,Z,ee=0){this.model=T,this.parent=k,this.previous=k,this.child=Z,this.index=ee,this.previousIndex=ee}execute(){let T=this.child.getParent();const k=T?T.getIndex(this.child):0;this.previous||this.connect(this.child,!1),T=this.model.parentForCellChanged(this.child,this.previous,this.previousIndex),this.previous&&this.connect(this.child,!0),this.parent=this.previous,this.previous=T,this.index=this.previousIndex,this.previousIndex=k}connect(T,k=!0){const Z=T.getTerminal(!0),ee=T.getTerminal(!1);Z&&(k?this.model.terminalForCellChanged(T,Z,!0):this.model.terminalForCellChanged(T,null,!0)),ee&&(k?this.model.terminalForCellChanged(T,ee,!1):this.model.terminalForCellChanged(T,null,!1)),T.setTerminal(Z,!0),T.setTerminal(ee,!1);const te=T.getChildCount();for(let ne=0;ne<te;ne+=1)this.connect(T.getChildAt(ne),k)}}class CollapseChange{constructor(T,k,Z){this.model=T,this.cell=k,this.collapsed=Z,this.previous=Z}execute(){this.collapsed=this.previous,this.previous=this.model.collapsedStateForCellChanged(this.cell,this.previous)}}class GeometryChange{constructor(T,k,Z){this.model=T,this.cell=k,this.geometry=Z,this.previous=Z}execute(){this.geometry=this.previous,this.previous=this.model.geometryForCellChanged(this.cell,this.previous)}}class RootChange{constructor(T,k){this.model=T,this.root=k,this.previous=k}execute(){this.root=this.previous,this.previous=this.model.rootChanged(this.previous)}}class StyleChange{constructor(T,k,Z){this.model=T,this.cell=k,this.style=Z,this.previous=Z}execute(){this.style=this.previous,this.previous=this.model.styleForCellChanged(this.cell,this.previous)}}class TerminalChange{constructor(T,k,Z,ee){this.model=T,this.cell=k,this.terminal=Z,this.previous=Z,this.source=ee}execute(){this.terminal=this.previous,this.previous=this.model.terminalForCellChanged(this.cell,this.previous,this.source)}}class ValueChange{constructor(T,k,Z){this.model=T,this.cell=k,this.value=Z,this.previous=Z}execute(){this.value=this.previous,this.previous=this.model.valueForCellChanged(this.cell,this.previous)}}class VisibleChange{constructor(T,k,Z){this.model=T,this.cell=k,this.visible=Z,this.previous=Z}execute(){this.visible=this.previous,this.previous=this.model.visibleStateForCellChanged(this.cell,this.previous)}}const filterCells=Y=>T=>{const k=[];for(let Z=0;Z<T.length;Z+=1)Y(T[Z])&&k.push(T[Z]);return k},getTopmostCells=Y=>{const T=new Dictionary,k=[];for(let Z=0;Z<Y.length;Z+=1)T.put(Y[Z],!0);for(let Z=0;Z<Y.length;Z+=1){const ee=Y[Z];let te=!0,ne=ee.getParent();for(;ne!=null;){if(T.get(ne)){te=!1;break}ne=ne.getParent()}te&&k.push(ee)}return k},cloneCells=(Y,T=!0,k={})=>{const Z=[];for(const ee of Y)Z.push(cloneCellImpl(ee,k,T));for(let ee=0;ee<Z.length;ee+=1)Z[ee]!=null&&restoreClone(Z[ee],Y[ee],k);return Z},cloneCellImpl=(Y,T={},k=!1)=>{const Z=ObjectIdentity.get(Y);let ee=T?T[Z]:null;if(ee==null&&(ee=Y.clone(),T[Z]=ee,k)){const te=Y.getChildCount();for(let ne=0;ne<te;ne+=1){const me=cloneCellImpl(Y.getChildAt(ne),T,!0);ee.insert(me)}}return ee},restoreClone=(Y,T,k)=>{const Z=T.getTerminal(!0);if(Z!=null){const ne=k[ObjectIdentity.get(Z)];ne!=null&&ne.insertEdge(Y,!0)}const ee=T.getTerminal(!1);if(ee!=null){const ne=k[ObjectIdentity.get(ee)];ne!=null&&ne.insertEdge(Y,!1)}const te=Y.getChildCount();for(let ne=0;ne<te;ne+=1)restoreClone(Y.getChildAt(ne),T.getChildAt(ne),k)};class GraphDataModel extends EventSource{constructor(T=null){super(),this.root=null,this.cells={},this.maintainEdgeParent=!0,this.ignoreRelativeEdgeParent=!0,this.createIds=!0,this.prefix="",this.postfix="",this.nextId=0,this.currentEdit=null,this.updateLevel=0,this.endingUpdate=!1,this.currentEdit=this.createUndoableEdit(),T!=null?this.setRoot(T):this.clear()}clear(){this.setRoot(this.createRoot())}isCreateIds(){return this.createIds}setCreateIds(T){this.createIds=T}createRoot(){const T=new Cell;return T.insert(new Cell),T}getCell(T){return this.cells?this.cells[T]:null}filterCells(T,k){return filterCells(k)(T)}getRoot(T=null){return T?T.getRoot():this.root}setRoot(T){return this.execute(new RootChange(this,T)),T}rootChanged(T){const k=this.root;return this.root=T,this.nextId=0,this.cells=null,this.cellAdded(T),k}isRoot(T=null){return T!=null&&this.root===T}isLayer(T){return T?this.isRoot(T.getParent()):!1}contains(T){return this.root.isAncestor(T)}add(T,k,Z=null){if(k!==T&&T!=null&&k!=null){Z==null&&(Z=T.getChildCount());const ee=T!==k.getParent();this.execute(new ChildChange(this,T,k,Z)),this.maintainEdgeParent&&ee&&this.updateEdgeParents(k)}return k}cellAdded(T){if(T!=null){if(T.getId()==null&&this.createIds&&T.setId(this.createId(T)),T.getId()!=null){let k=this.getCell(T.getId());if(k!==T){for(;k!=null;)T.setId(this.createId(T)),k=this.getCell(T.getId());this.cells==null&&(this.cells={}),this.cells[T.getId()]=T}}isNumeric(String(T.getId()))&&(this.nextId=Math.max(this.nextId,parseInt(T.getId())));for(const k of T.getChildren())this.cellAdded(k)}}createId(T){const k=this.nextId;return this.nextId++,this.prefix+k+this.postfix}updateEdgeParents(T,k=this.getRoot(T)){const Z=T.getChildCount();for(let ne=0;ne<Z;ne+=1){const me=T.getChildAt(ne);this.updateEdgeParents(me,k)}const ee=T.getEdgeCount(),te=[];for(let ne=0;ne<ee;ne+=1)te.push(T.getEdgeAt(ne));for(let ne=0;ne<te.length;ne+=1){const me=te[ne];k.isAncestor(me)&&this.updateEdgeParent(me,k)}}updateEdgeParent(T,k){let Z=T.getTerminal(!0),ee=T.getTerminal(!1),te=null;for(;Z!=null&&!Z.isEdge()&&Z.geometry!=null&&Z.geometry.relative;)Z=Z.getParent();for(;ee!=null&&this.ignoreRelativeEdgeParent&&!ee.isEdge()&&ee.geometry!=null&&ee.geometry.relative;)ee=ee.getParent();if(k.isAncestor(Z)&&k.isAncestor(ee)&&(Z===ee?te=Z?Z.getParent():null:Z&&(te=Z.getNearestCommonAncestor(ee)),te!=null&&(te.getParent()!==this.root||te.isAncestor(T))&&T&&T.getParent()!==te)){let ne=T.getGeometry();if(ne!=null){const me=T.getParent().getOrigin(),Ve=te.getOrigin(),Ye=Ve.x-me.x,et=Ve.y-me.y;ne=ne.clone(),ne.translate(-Ye,-et),this.setGeometry(T,ne)}this.add(te,T,te.getChildCount())}}remove(T){return T===this.root?this.setRoot(null):T.getParent()!=null&&this.execute(new ChildChange(this,null,T)),T}cellRemoved(T){if(T!=null&&this.cells!=null){const k=T.getChildCount();for(let Z=k-1;Z>=0;Z--)this.cellRemoved(T.getChildAt(Z));this.cells!=null&&T.getId()!=null&&delete this.cells[T.getId()]}}parentForCellChanged(T,k,Z){const ee=T.getParent();if(k!=null)(k!==ee||ee.getIndex(T)!==Z)&&k.insert(T,Z);else if(ee!=null){const me=ee.getIndex(T);ee.remove(me)}const te=k?this.contains(k):null,ne=this.contains(ee);return te&&!ne?this.cellAdded(T):ne&&!te&&this.cellRemoved(T),ee}setTerminal(T,k,Z){const ee=k!==T.getTerminal(Z);return this.execute(new TerminalChange(this,T,k,Z)),this.maintainEdgeParent&&ee&&this.updateEdgeParent(T,this.getRoot()),k}setTerminals(T,k,Z){this.beginUpdate();try{this.setTerminal(T,k,!0),this.setTerminal(T,Z,!1)}finally{this.endUpdate()}}terminalForCellChanged(T,k,Z=!1){const ee=T.getTerminal(Z);return k!=null?k.insertEdge(T,Z):ee!=null&&ee.removeEdge(T,Z),ee}getEdgesBetween(T,k,Z=!1){const ee=T.getEdgeCount(),te=k.getEdgeCount();let ne=T,me=ee;te<ee&&(me=te,ne=k);const Ve=[];for(let Ye=0;Ye<me;Ye+=1){const et=ne.getEdgeAt(Ye),tt=et.getTerminal(!0),it=et.getTerminal(!1);(tt===T&&it===k||!Z&&(it===T&&tt===k))&&Ve.push(et)}return Ve}setValue(T,k){return this.execute(new ValueChange(this,T,k)),k}valueForCellChanged(T,k){return T.valueChanged(k)}setGeometry(T,k){return k!==T.getGeometry()&&this.execute(new GeometryChange(this,T,k)),k}geometryForCellChanged(T,k){const Z=T.getGeometry();return T.setGeometry(k),Z}setStyle(T,k){k!==T.getStyle()&&this.execute(new StyleChange(this,T,k))}styleForCellChanged(T,k){const Z=T.getStyle();return T.setStyle(k),Z}setCollapsed(T,k){return k!==T.isCollapsed()&&this.execute(new CollapseChange(this,T,k)),k}collapsedStateForCellChanged(T,k){const Z=T.isCollapsed();return T.setCollapsed(k),Z}setVisible(T,k){return k!==T.isVisible()&&this.execute(new VisibleChange(this,T,k)),k}visibleStateForCellChanged(T,k){const Z=T.isVisible();return T.setVisible(k),Z}execute(T){T.execute(),this.beginUpdate(),this.currentEdit.add(T),this.fireEvent(new EventObject(InternalEvent.EXECUTE,{change:T})),this.fireEvent(new EventObject(InternalEvent.EXECUTED,{change:T})),this.endUpdate()}batchUpdate(T){this.beginUpdate();try{T()}finally{this.endUpdate()}}beginUpdate(){this.updateLevel+=1,this.fireEvent(new EventObject(InternalEvent.BEGIN_UPDATE)),this.updateLevel===1&&this.fireEvent(new EventObject(InternalEvent.START_EDIT))}endUpdate(){if(this.updateLevel-=1,this.updateLevel===0&&this.fireEvent(new EventObject(InternalEvent.END_EDIT)),!this.endingUpdate){this.endingUpdate=this.updateLevel===0,this.fireEvent(new EventObject(InternalEvent.END_UPDATE,{edit:this.currentEdit}));try{if(this.endingUpdate&&!this.currentEdit.isEmpty()){this.fireEvent(new EventObject(InternalEvent.BEFORE_UNDO,{edit:this.currentEdit}));const T=this.currentEdit;this.currentEdit=this.createUndoableEdit(),T.notify(),this.fireEvent(new EventObject(InternalEvent.UNDO,{edit:T}))}}finally{this.endingUpdate=!1}}}createUndoableEdit(T=!0){const k=new UndoableEdit(this,T);return k.notify=()=>{k.source.fireEvent(new EventObject(InternalEvent.CHANGE,{edit:k,changes:k.changes})),k.source.fireEvent(new EventObject(InternalEvent.NOTIFY,{edit:k,changes:k.changes}))},k}mergeChildren(T,k,Z=!0){this.beginUpdate();try{const ee={};this.mergeChildrenImpl(T,k,Z,ee);for(const te in ee){const ne=ee[te];let me=ne.getTerminal(!0);me!=null&&(me=ee[CellPath.create(me)],this.setTerminal(ne,me,!0)),me=ne.getTerminal(!1),me!=null&&(me=ee[CellPath.create(me)],this.setTerminal(ne,me,!1))}}finally{this.endUpdate()}}mergeChildrenImpl(T,k,Z,ee={}){this.beginUpdate();try{const te=T.getChildCount();for(let ne=0;ne<te;ne+=1){const me=T.getChildAt(ne);if(typeof me.getId=="function"){const Ve=me.getId();let Ye=Ve!=null&&(!me.isEdge()||!Z)?this.getCell(Ve):null;if(Ye==null){const et=me.clone();et.setId(Ve),et.setTerminal(me.getTerminal(!0),!0),et.setTerminal(me.getTerminal(!1),!1),Ye=k.insert(et),this.cellAdded(Ye)}ee[CellPath.create(me)]=Ye,this.mergeChildrenImpl(me,Ye,Z,ee)}}}finally{this.endUpdate()}}}class Stylesheet{constructor(){this.styles=new Map,this.putDefaultVertexStyle(this.createDefaultVertexStyle()),this.putDefaultEdgeStyle(this.createDefaultEdgeStyle())}createDefaultVertexStyle(){const T={};return T.shape=SHAPE.RECTANGLE,T.perimeter="rectanglePerimeter",T.verticalAlign=ALIGN.MIDDLE,T.align=ALIGN.CENTER,T.fillColor="#C3D9FF",T.strokeColor="#6482B9",T.fontColor="#774400",T}createDefaultEdgeStyle(){const T={};return T.shape=SHAPE.CONNECTOR,T.endArrow=ARROW.CLASSIC,T.verticalAlign=ALIGN.MIDDLE,T.align=ALIGN.CENTER,T.strokeColor="#6482B9",T.fontColor="#446299",T}putDefaultVertexStyle(T){this.putCellStyle("defaultVertex",T)}putDefaultEdgeStyle(T){this.putCellStyle("defaultEdge",T)}getDefaultVertexStyle(){return this.styles.get("defaultVertex")}getDefaultEdgeStyle(){return this.styles.get("defaultEdge")}putCellStyle(T,k){this.styles.set(T,k)}getCellStyle(T,k){let Z=T.ignoreDefaultStyle?{}:{...k};T.baseStyleNames&&(Z=T.baseStyleNames.reduce((ee,te)=>({...ee,...this.styles.get(te)}),Z));for(const ee of Object.keys(T))T[ee]!==void 0&&(T[ee]==NONE?delete Z[ee]:Z[ee]=T[ee]);return"baseStyleNames"in Z&&delete Z.baseStyleNames,"ignoreDefaultStyle"in Z&&delete Z.ignoreDefaultStyle,Z}}function scalePointArray(Y,T){let k=[];if(Y!=null)for(let Z=0;Z<Y.length;Z+=1)Y[Z]!=null?k[Z]=new Point$1(Math.round(Y[Z].x/T*10)/10,Math.round(Y[Z].y/T*10)/10):k[Z]=null;else k=null;return k}function scaleCellState(Y,T){let k=null;return Y!=null&&(k=Y.clone(),k.setRect(Math.round(Y.x/T*10)/10,Math.round(Y.y/T*10)/10,Math.round(Y.width/T*10)/10,Math.round(Y.height/T*10)/10)),k}const SideToSide=(Y,T,k,Z,ee)=>{const{view:te}=Y;let ne=Z!=null&&Z.length>0?Z[0]:null;const me=Y.absolutePoints,Ve=me[0],Ye=me[me.length-1];if(ne!=null&&(ne=te.transformControlPoint(Y,ne)),Ve!=null&&(T=new CellState,T.x=Ve.x,T.y=Ve.y),Ye!=null&&(k=new CellState,k.x=Ye.x,k.y=Ye.y),T!=null&&k!=null){const et=Math.max(T.x,k.x),tt=Math.min(T.x+T.width,k.x+k.width),it=ne!=null?ne.x:Math.round(tt+(et-tt)/2);let st=te.getRoutingCenterY(T),nt=te.getRoutingCenterY(k);if(ne!=null&&(ne.y>=T.y&&ne.y<=T.y+T.height&&(st=ne.y),ne.y>=k.y&&ne.y<=k.y+k.height&&(nt=ne.y)),!contains(k,it,st)&&!contains(T,it,st)&&ee.push(new Point$1(it,st)),!contains(k,it,nt)&&!contains(T,it,nt)&&ee.push(new Point$1(it,nt)),ee.length===1)if(ne!=null)!contains(k,it,ne.y)&&!contains(T,it,ne.y)&&ee.push(new Point$1(it,ne.y));else{const rt=Math.max(T.y,k.y),lt=Math.min(T.y+T.height,k.y+k.height);ee.push(new Point$1(it,rt+(lt-rt)/2))}}},TopToBottom=(Y,T,k,Z,ee)=>{const{view:te}=Y;let ne=Z!=null&&Z.length>0?Z[0]:null;const me=Y.absolutePoints,Ve=me[0],Ye=me[me.length-1];if(ne!=null&&(ne=te.transformControlPoint(Y,ne)),Ve!=null&&(T=new CellState,T.x=Ve.x,T.y=Ve.y),Ye!=null&&(k=new CellState,k.x=Ye.x,k.y=Ye.y),T!=null&&k!=null){const et=Math.max(T.y,k.y),tt=Math.min(T.y+T.height,k.y+k.height);let it=te.getRoutingCenterX(T);ne!=null&&ne.x>=T.x&&ne.x<=T.x+T.width&&(it=ne.x);const st=ne!=null?ne.y:Math.round(tt+(et-tt)/2);if(!contains(k,it,st)&&!contains(T,it,st)&&ee.push(new Point$1(it,st)),ne!=null&&ne.x>=k.x&&ne.x<=k.x+k.width?it=ne.x:it=te.getRoutingCenterX(k),!contains(k,it,st)&&!contains(T,it,st)&&ee.push(new Point$1(it,st)),ee.length===1)if(ne!=null&&ee.length===1)!contains(k,ne.x,st)&&!contains(T,ne.x,st)&&ee.push(new Point$1(ne.x,st));else{const nt=Math.max(T.x,k.x),rt=Math.min(T.x+T.width,k.x+k.width);ee.push(new Point$1(nt+(rt-nt)/2,st))}}},ElbowConnector=(Y,T,k,Z,ee)=>{let te=Z!=null&&Z.length>0?Z[0]:null,ne=!1,me=!1;if(T!=null&&k!=null)if(te!=null){const Ve=Math.min(T.x,k.x),Ye=Math.max(T.x+T.width,k.x+k.width),et=Math.min(T.y,k.y),tt=Math.max(T.y+T.height,k.y+k.height);te=Y.view.transformControlPoint(Y,te),ne=te.y<et||te.y>tt,me=te.x<Ve||te.x>Ye}else{const Ve=Math.max(T.x,k.x),Ye=Math.min(T.x+T.width,k.x+k.width);if(ne=Ve===Ye,!ne){const et=Math.max(T.y,k.y),tt=Math.min(T.y+T.height,k.y+k.height);me=et===tt}}!me&&(ne||Y.style.elbow===ELBOW.VERTICAL)?TopToBottom(Y,T,k,Z,ee):SideToSide(Y,T,k,Z,ee)},EntityRelation=(Y,T,k,Z,ee)=>{const{view:te}=Y,ne=getValue(Y.style,"segment",ENTITY_SEGMENT)*te.scale,me=Y.absolutePoints,Ve=me[0],Ye=me[me.length-1];let et=!1;if(T!=null){const it=T.cell.getGeometry();it.relative?et=it.x<=.5:k!=null&&(et=(Ye!=null?Ye.x:k.x+k.width)<(Ve!=null?Ve.x:T.x))}if(Ve!=null)T=new CellState,T.x=Ve.x,T.y=Ve.y;else if(T!=null){const it=getPortConstraints(T,Y,!0,DIRECTION_MASK.NONE);it!==DIRECTION_MASK.NONE&&it!==DIRECTION_MASK.WEST+DIRECTION_MASK.EAST&&(et=it===DIRECTION_MASK.WEST)}else return;let tt=!0;if(k!=null){const it=k.cell.getGeometry();it.relative?tt=it.x<=.5:T!=null&&(tt=(Ve!=null?Ve.x:T.x+T.width)<(Ye!=null?Ye.x:k.x))}if(Ye!=null)k=new CellState,k.x=Ye.x,k.y=Ye.y;else if(k!=null){const it=getPortConstraints(k,Y,!1,DIRECTION_MASK.NONE);it!==DIRECTION_MASK.NONE&&it!=DIRECTION_MASK.WEST+DIRECTION_MASK.EAST&&(tt=it===DIRECTION_MASK.WEST)}if(T!=null&&k!=null){const it=et?T.x:T.x+T.width,st=te.getRoutingCenterY(T),nt=tt?k.x:k.x+k.width,rt=te.getRoutingCenterY(k),lt=ne;let ot=et?-lt:lt;const ht=new Point$1(it+ot,st);ot=tt?-lt:lt;const dt=new Point$1(nt+ot,rt);if(et===tt){const ct=et?Math.min(it,nt)-ne:Math.max(it,nt)+ne;ee.push(new Point$1(ct,st)),ee.push(new Point$1(ct,rt))}else if(ht.x<dt.x===et){const ct=st+(rt-st)/2;ee.push(ht),ee.push(new Point$1(ht.x,ct)),ee.push(new Point$1(dt.x,ct)),ee.push(dt)}else ee.push(ht),ee.push(dt)}},Loop=(Y,T,k,Z,ee)=>{const te=Y.absolutePoints,ne=te[0],me=te[te.length-1];if(ne!=null&&me!=null){if(Z!=null&&Z.length>0)for(let Ve=0;Ve<Z.length;Ve+=1){let Ye=Z[Ve];Ye=Y.view.transformControlPoint(Y,Ye),ee.push(new Point$1(Ye.x,Ye.y))}return}if(T!=null){const{view:Ve}=Y,{graph:Ye}=Ve;let et=Z!=null&&Z.length>0?Z[0]:null;et!=null&&(et=Ve.transformControlPoint(Y,et),contains(T,et.x,et.y)&&(et=null));let tt=0,it=0,st=0,nt=0;const rt=getValue(Y.style,"segment",Ye.gridSize)*Ve.scale,lt=getValue(Y.style,"direction",DIRECTION.WEST);lt===DIRECTION.NORTH||lt===DIRECTION.SOUTH?(tt=Ve.getRoutingCenterX(T),it=rt):(st=Ve.getRoutingCenterY(T),nt=rt),et==null||et.x<T.x||et.x>T.x+T.width?et!=null?(tt=et.x,nt=Math.max(Math.abs(st-et.y),nt)):lt===DIRECTION.NORTH?st=T.y-2*it:lt===DIRECTION.SOUTH?st=T.y+T.height+2*it:lt===DIRECTION.EAST?tt=T.x-2*nt:tt=T.x+T.width+2*nt:et!==null&&(tt=Ve.getRoutingCenterX(T),it=Math.max(Math.abs(tt-et.x),nt),st=et.y,nt=0),ee.push(new Point$1(tt-it,st-nt)),ee.push(new Point$1(tt+it,st+nt))}},SegmentConnector=(Y,T,k,Z,ee)=>{const te=scalePointArray(Y.absolutePoints,Y.view.scale),ne=scaleCellState(T,Y.view.scale),me=scaleCellState(k,Y.view.scale),Ve=1;let Ye=ee.length>0?ee[0]:null,et=!0,tt=null;function it(lt){return lt.x=Math.round(lt.x*Y.view.scale*10)/10,lt.y=Math.round(lt.y*Y.view.scale*10)/10,(Ye==null||Math.abs(Ye.x-lt.x)>=Ve||Math.abs(Ye.y-lt.y)>=Math.max(1,Y.view.scale))&&(ee.push(lt),Ye=lt),Ye}let st=te[0];st==null&&ne!=null?st=new Point$1(Y.view.getRoutingCenterX(ne),Y.view.getRoutingCenterY(ne)):st!=null&&(st=st.clone());const nt=te.length-1;let rt=null;if(Z!=null&&Z.length>0){let lt=[];for(let ft=0;ft<Z.length;ft+=1){const vt=Y.view.transformControlPoint(Y,Z[ft],!0);vt!=null&&lt.push(vt)}if(lt.length===0)return;st!=null&&lt[0]!=null&&(Math.abs(lt[0].x-st.x)<Ve&&(lt[0].x=st.x),Math.abs(lt[0].y-st.y)<Ve&&(lt[0].y=st.y)),rt=te[nt],rt!=null&&lt[lt.length-1]!=null&&(Math.abs(lt[lt.length-1].x-rt.x)<Ve&&(lt[lt.length-1].x=rt.x),Math.abs(lt[lt.length-1].y-rt.y)<Ve&&(lt[lt.length-1].y=rt.y)),tt=lt[0];let ot=ne,ht=te[0],dt=!1,ct=!1,ut=tt;ht!=null&&(ot=null);for(let ft=0;ft<2;ft+=1){const vt=ht!=null&&ht.x===ut.x,mt=ht!=null&&ht.y===ut.y,_t=ot!=null&&ut.y>=ot.y&&ut.y<=ot.y+ot.height,Et=ot!=null&&ut.x>=ot.x&&ut.x<=ot.x+ot.width;if(dt=mt||ht==null&&_t,ct=vt||ht==null&&Et,!(ft==0&&(dt&&ct||vt&&mt))){if(ht!=null&&!mt&&!vt&&(_t||Et)){et=!_t;break}if(ct||dt){et=dt,ft===1&&(et=lt.length%2===0?dt:ct);break}}ot=me,ht=te[nt],ht!=null&&(ot=null),ut=lt[lt.length-1],vt&&mt&&(lt=lt.slice(1))}et&&(te[0]!=null&&te[0].y!==tt.y||te[0]==null&&ne!=null&&(tt.y<ne.y||tt.y>ne.y+ne.height))?it(new Point$1(st.x,tt.y)):!et&&(te[0]!=null&&te[0].x!==tt.x||te[0]==null&&ne!=null&&(tt.x<ne.x||tt.x>ne.x+ne.width))&&it(new Point$1(tt.x,st.y)),et?st.y=tt.y:st.x=tt.x;for(let ft=0;ft<lt.length;ft+=1)et=!et,tt=lt[ft],et?st.y=tt.y:st.x=tt.x,it(st.clone())}else tt=st,et=!0;if(st=te[nt],st==null&&me!=null&&(st=new Point$1(Y.view.getRoutingCenterX(me),Y.view.getRoutingCenterY(me))),st!=null&&tt!=null&&(et&&(te[nt]!=null&&te[nt].y!==tt.y||te[nt]==null&&me!=null&&(tt.y<me.y||tt.y>me.y+me.height))?it(new Point$1(st.x,tt.y)):!et&&(te[nt]!=null&&te[nt].x!==tt.x||te[nt]==null&&me!=null&&(tt.x<me.x||tt.x>me.x+me.width))&&it(new Point$1(tt.x,st.y))),te[0]==null&&ne!=null)for(;ee.length>1&&ee[1]!=null&&contains(ne,ee[1].x,ee[1].y);)ee.splice(1,1);if(te[nt]==null&&me!=null)for(;ee.length>1&&ee[ee.length-1]!=null&&contains(me,ee[ee.length-1].x,ee[ee.length-1].y);)ee.splice(ee.length-1,1);rt!=null&&ee[ee.length-1]!=null&&Math.abs(rt.x-ee[ee.length-1].x)<=Ve&&Math.abs(rt.y-ee[ee.length-1].y)<=Ve&&(ee.splice(ee.length-1,1),ee[ee.length-1]!=null&&(Math.abs(ee[ee.length-1].x-rt.x)<Ve&&(ee[ee.length-1].x=rt.x),Math.abs(ee[ee.length-1].y-rt.y)<Ve&&(ee[ee.length-1].y=rt.y)))},mi=class mi{static getJettySize(T,k){let Z=getValue(T.style,k?"sourceJettySize":"targetJettySize",getValue(T.style,"jettySize",mi.orthBuffer));if(Z==="auto")if(getValue(T.style,k?"startArrow":"endArrow",NONE)!==NONE){const te=getNumber(T.style,k?"startSize":"endSize",DEFAULT_MARKERSIZE);Z=Math.max(2,Math.ceil((te+mi.orthBuffer)/mi.orthBuffer))*mi.orthBuffer}else Z=2*mi.orthBuffer;return Z}static getRoutePattern(T,k,Z,ee){let te=T[0]===DIRECTION_MASK.EAST?3:T[0],ne=T[1]===DIRECTION_MASK.EAST?3:T[1];te-=k,ne-=k,te<1&&(te+=4),ne<1&&(ne+=4);let me=mi.routePatterns[te-1][ne-1];return(Z===0||ee===0)&&mi.inlineRoutePatterns[te-1][ne-1]!=null&&(me=mi.inlineRoutePatterns[te-1][ne-1]),me}};mi.EntityRelation=EntityRelation,mi.Loop=Loop,mi.ElbowConnector=ElbowConnector,mi.SideToSide=SideToSide,mi.TopToBottom=TopToBottom,mi.SegmentConnector=SegmentConnector,mi.orthBuffer=10,mi.orthPointsFallback=!0,mi.dirVectors=[[-1,0],[0,-1],[1,0],[0,1],[-1,0],[0,-1],[1,0]],mi.wayPoints1=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],mi.routePatterns=[[[513,2308,2081,2562],[513,1090,514,2184,2114,2561],[513,1090,514,2564,2184,2562],[513,2308,2561,1090,514,2568,2308]],[[514,1057,513,2308,2081,2562],[514,2184,2114,2561],[514,2184,2562,1057,513,2564,2184],[514,1057,513,2568,2308,2561]],[[1090,514,1057,513,2308,2081,2562],[2114,2561],[1090,2562,1057,513,2564,2184],[1090,514,1057,513,2308,2561,2568]],[[2081,2562],[1057,513,1090,514,2184,2114,2561],[1057,513,1090,514,2184,2562,2564],[1057,2561,1090,514,2568,2308]]],mi.inlineRoutePatterns=[[null,[2114,2568],null,null],[null,[514,2081,2114,2568],null,null],[null,[2114,2561],null,null],[[2081,2562],[1057,2114,2568],[2184,2562],null]],mi.vertexSeperations=[],mi.limits=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],mi.LEFT_MASK=32,mi.TOP_MASK=64,mi.RIGHT_MASK=128,mi.BOTTOM_MASK=256,mi.LEFT=1,mi.TOP=2,mi.RIGHT=4,mi.BOTTOM=8,mi.SIDE_MASK=480,mi.CENTER_MASK=512,mi.SOURCE_MASK=1024,mi.TARGET_MASK=2048,mi.VERTEX_MASK=3072,mi.OrthConnector=(T,k,Z,ee,te)=>{const ne=scalePointArray(T.absolutePoints,T.view.scale),me=scaleCellState(k,T.view.scale),Ve=scaleCellState(Z,T.view.scale),Ye=me==null?!1:me.cell.isEdge(),et=Ve==null?!1:Ve.cell.isEdge(),tt=ne[0],it=ne[ne.length-1];let st=me!=null?me.x:tt.x,nt=me!=null?me.y:tt.y,rt=me!=null?me.width:0,lt=me!=null?me.height:0,ot=Ve!=null?Ve.x:it.x,ht=Ve!=null?Ve.y:it.y,dt=Ve!=null?Ve.width:0,ct=Ve!=null?Ve.height:0,ut=mi.getJettySize(T,!0),ft=mi.getJettySize(T,!1);me!=null&&Ve===me&&(ft=Math.max(ut,ft),ut=ft);const vt=ft+ut;let mt=!1;if(tt!=null&&it!=null){const Bt=it.x-tt.x,ai=it.y-tt.y;mt=Bt*Bt+ai*ai<vt*vt}if(mt||mi.orthPointsFallback&&ee!=null&&ee.length>0||Ye||et){mi.SegmentConnector(T,k,Z,ee,te);return}const _t=[DIRECTION_MASK.ALL,DIRECTION_MASK.ALL];let Et=0;if(me!=null&&(_t[0]=getPortConstraints(me,T,!0,DIRECTION_MASK.ALL),Et=me.style.rotation??0,Et!==0)){const Bt=getBoundingBox(new Rectangle(st,nt,rt,lt),Et);st=Bt.x,nt=Bt.y,rt=Bt.width,lt=Bt.height}if(Ve!=null&&(_t[1]=getPortConstraints(Ve,T,!1,DIRECTION_MASK.ALL),Et=Ve.style.rotation??0,Et!==0)){const Bt=getBoundingBox(new Rectangle(ot,ht,dt,ct),Et);ot=Bt.x,ht=Bt.y,dt=Bt.width,ct=Bt.height}const Tt=[0,0],xt=[[st,nt,rt,lt],[ot,ht,dt,ct]],yt=[ut,ft];for(let Bt=0;Bt<2;Bt+=1)mi.limits[Bt][1]=xt[Bt][0]-yt[Bt],mi.limits[Bt][2]=xt[Bt][1]-yt[Bt],mi.limits[Bt][4]=xt[Bt][0]+xt[Bt][2]+yt[Bt],mi.limits[Bt][8]=xt[Bt][1]+xt[Bt][3]+yt[Bt];const St=xt[0][0]+xt[0][2]/2,At=xt[0][1]+xt[0][3]/2,Ct=xt[1][0]+xt[1][2]/2,It=xt[1][1]+xt[1][3]/2,Ot=St-Ct,Dt=At-It;let Mt=0;Ot<0?Dt<0?Mt=2:Mt=1:Dt<=0&&(Mt=3,Ot===0&&(Mt=2));let $t=null;me!=null&&($t=tt);const Ht=[[.5,.5],[.5,.5]];for(let Bt=0;Bt<2;Bt+=1)$t!=null&&(Ht[Bt][0]=($t.x-xt[Bt][0])/xt[Bt][2],Math.abs($t.x-xt[Bt][0])<=1?Tt[Bt]=DIRECTION_MASK.WEST:Math.abs($t.x-xt[Bt][0]-xt[Bt][2])<=1&&(Tt[Bt]=DIRECTION_MASK.EAST),Ht[Bt][1]=($t.y-xt[Bt][1])/xt[Bt][3],Math.abs($t.y-xt[Bt][1])<=1?Tt[Bt]=DIRECTION_MASK.NORTH:Math.abs($t.y-xt[Bt][1]-xt[Bt][3])<=1&&(Tt[Bt]=DIRECTION_MASK.SOUTH)),$t=null,Ve!=null&&($t=it);const Ft=xt[0][1]-(xt[1][1]+xt[1][3]),jt=xt[0][0]-(xt[1][0]+xt[1][2]),Gt=xt[1][1]-(xt[0][1]+xt[0][3]),Kt=xt[1][0]-(xt[0][0]+xt[0][2]);mi.vertexSeperations[1]=Math.max(jt-vt,0),mi.vertexSeperations[2]=Math.max(Ft-vt,0),mi.vertexSeperations[4]=Math.max(Gt-vt,0),mi.vertexSeperations[3]=Math.max(Kt-vt,0);const Pt=[],kt=[],zt=[];kt[0]=jt>=Kt?DIRECTION_MASK.WEST:DIRECTION_MASK.EAST,zt[0]=Ft>=Gt?DIRECTION_MASK.NORTH:DIRECTION_MASK.SOUTH,kt[1]=reversePortConstraints(kt[0]),zt[1]=reversePortConstraints(zt[0]);const Wt=jt>=Kt?jt:Kt,si=Ft>=Gt?Ft:Gt,ei=[[0,0],[0,0]];let Zt=!1;for(let Bt=0;Bt<2;Bt+=1)Tt[Bt]===0&&((kt[Bt]&_t[Bt])===0&&(kt[Bt]=reversePortConstraints(kt[Bt])),(zt[Bt]&_t[Bt])===0&&(zt[Bt]=reversePortConstraints(zt[Bt])),ei[Bt][0]=zt[Bt],ei[Bt][1]=kt[Bt]);si>0&&Wt>0&&((kt[0]&_t[0])>0&&(zt[1]&_t[1])>0?(ei[0][0]=kt[0],ei[0][1]=zt[0],ei[1][0]=zt[1],ei[1][1]=kt[1],Zt=!0):(zt[0]&_t[0])>0&&(kt[1]&_t[1])>0&&(ei[0][0]=zt[0],ei[0][1]=kt[0],ei[1][0]=kt[1],ei[1][1]=zt[1],Zt=!0)),si>0&&!Zt&&(ei[0][0]=zt[0],ei[0][1]=kt[0],ei[1][0]=zt[1],ei[1][1]=kt[1],Zt=!0),Wt>0&&!Zt&&(ei[0][0]=kt[0],ei[0][1]=zt[0],ei[1][0]=kt[1],ei[1][1]=zt[1],Zt=!0);for(let Bt=0;Bt<2;Bt+=1)Tt[Bt]===0&&((ei[Bt][0]&_t[Bt])===0&&(ei[Bt][0]=ei[Bt][1]),Pt[Bt]=ei[Bt][0]&_t[Bt],Pt[Bt]|=(ei[Bt][1]&_t[Bt])<<8,Pt[Bt]|=(ei[1-Bt][Bt]&_t[Bt])<<16,Pt[Bt]|=(ei[1-Bt][1-Bt]&_t[Bt])<<24,(Pt[Bt]&15)===0&&(Pt[Bt]=Pt[Bt]<<8),(Pt[Bt]&3840)===0&&(Pt[Bt]=Pt[Bt]&15|Pt[Bt]>>8),(Pt[Bt]&983040)===0&&(Pt[Bt]=Pt[Bt]&65535|(Pt[Bt]&251658240)>>8),Tt[Bt]=Pt[Bt]&15,(_t[Bt]===DIRECTION_MASK.WEST||_t[Bt]===DIRECTION_MASK.NORTH||_t[Bt]===DIRECTION_MASK.EAST||_t[Bt]===DIRECTION_MASK.SOUTH)&&(Tt[Bt]=_t[Bt]));let Jt=Tt[0]===DIRECTION_MASK.EAST?3:Tt[0],ti=Tt[1]===DIRECTION_MASK.EAST?3:Tt[1];Jt-=Mt,ti-=Mt,Jt<1&&(Jt+=4),ti<1&&(ti+=4);const di=mi.routePatterns[Jt-1][ti-1];switch(mi.wayPoints1[0][0]=xt[0][0],mi.wayPoints1[0][1]=xt[0][1],Tt[0]){case DIRECTION_MASK.WEST:mi.wayPoints1[0][0]-=ut,mi.wayPoints1[0][1]+=Ht[0][1]*xt[0][3];break;case DIRECTION_MASK.SOUTH:mi.wayPoints1[0][0]+=Ht[0][0]*xt[0][2],mi.wayPoints1[0][1]+=xt[0][3]+ut;break;case DIRECTION_MASK.EAST:mi.wayPoints1[0][0]+=xt[0][2]+ut,mi.wayPoints1[0][1]+=Ht[0][1]*xt[0][3];break;case DIRECTION_MASK.NORTH:mi.wayPoints1[0][0]+=Ht[0][0]*xt[0][2],mi.wayPoints1[0][1]-=ut;break}let Qt=0,Si=(Tt[0]&(DIRECTION_MASK.EAST|DIRECTION_MASK.WEST))>0?0:1;const Ti=Si;let Ri=0;for(let Bt=0;Bt<di.length;Bt+=1){const ai=di[Bt]&15;let ci=ai===DIRECTION_MASK.EAST?3:ai;ci+=Mt,ci>4&&(ci-=4);const yi=mi.dirVectors[ci-1];Ri=ci%2>0?0:1,Ri!==Si&&(Qt++,mi.wayPoints1[Qt][0]=mi.wayPoints1[Qt-1][0],mi.wayPoints1[Qt][1]=mi.wayPoints1[Qt-1][1]);const Ci=(di[Bt]&mi.TARGET_MASK)>0,Vi=(di[Bt]&mi.SOURCE_MASK)>0;let ii=(di[Bt]&mi.SIDE_MASK)>>5;ii<<=Mt,ii>15&&(ii>>=4);const ui=(di[Bt]&mi.CENTER_MASK)>0;if((Vi||Ci)&&ii<9){let hi=0;const ri=Vi?0:1;if(ui&&Ri===0?hi=xt[ri][0]+Ht[ri][0]*xt[ri][2]:ui?hi=xt[ri][1]+Ht[ri][1]*xt[ri][3]:hi=mi.limits[ri][ii],Ri===0){const bi=mi.wayPoints1[Qt][0],gi=(hi-bi)*yi[0];gi>0&&(mi.wayPoints1[Qt][0]+=yi[0]*gi)}else{const bi=mi.wayPoints1[Qt][1],gi=(hi-bi)*yi[1];gi>0&&(mi.wayPoints1[Qt][1]+=yi[1]*gi)}}else ui&&(mi.wayPoints1[Qt][0]+=yi[0]*Math.abs(mi.vertexSeperations[ci]/2),mi.wayPoints1[Qt][1]+=yi[1]*Math.abs(mi.vertexSeperations[ci]/2));Qt>0&&mi.wayPoints1[Qt][Ri]===mi.wayPoints1[Qt-1][Ri]?Qt--:Si=Ri}for(let Bt=0;Bt<=Qt&&!(Bt===Qt&&(((Tt[1]&(DIRECTION_MASK.EAST|DIRECTION_MASK.WEST))>0?0:1)===Ti?0:1)!==(Qt+1)%2);Bt+=1)te.push(new Point$1(Math.round(mi.wayPoints1[Bt][0]*T.view.scale*10)/10,Math.round(mi.wayPoints1[Bt][1]*T.view.scale*10)/10));let ki=1;for(;ki<te.length;)te[ki-1]==null||te[ki]==null||te[ki-1].x!==te[ki].x||te[ki-1].y!==te[ki].y?ki++:te.splice(ki,1)},mi.MANHATTAN_STEP=12,mi.MANHATTAN_MAXIMUM_LOOPS=2e3,mi.MANHATTAN_START_DIRECTIONS=[DIRECTION.NORTH,DIRECTION.EAST,DIRECTION.SOUTH,DIRECTION.WEST],mi.MANHATTAN_END_DIRECTIONS=[DIRECTION.NORTH,DIRECTION.EAST,DIRECTION.SOUTH,DIRECTION.WEST],mi.MANHATTAN_MAX_ALLOWED_DIRECTION_CHANGE=90,mi.MANHATTAN_PADDING_BOX=new Geometry(-mi.MANHATTAN_STEP,-mi.MANHATTAN_STEP,mi.MANHATTAN_STEP*2,mi.MANHATTAN_STEP*2),mi.ManhattanConnector=(T,k,Z,ee,te)=>{function ne(Ct,It){return Ct.x+=It.x||0,Ct.y+=It.y||0,Ct.width+=It.width||0,Ct.height+=It.height||0,Ct}function me(Ct,It){return It*Math.round(Ct/It)}function Ve(Ct,It,Ot){return Ct.x=me(Ct.x,It),Ct.y=me(Ct.y,It),Ct}function Ye(Ct,It){return It.x>=Ct.x&&It.x<=Ct.x+Ct.width&&It.y>=Ct.y&&It.y<=Ct.y+Ct.height}function et(Ct){return new Point$1(Ct.x+Ct.width/2,Ct.y+Ct.height/2)}function tt(Ct,It){return new Point$1(Ct.x-It.x,Ct.y-It.y)}function it(Ct,It,Ot){return Ct.x+=It||0,Ct.y+=Ot||0,Ct}function st(Ct,It){const Ot=It.clone(),Dt=-(Ot.y-Ct.y),Mt=Ot.x-Ct.x,$t=10;return 180*(Dt.toFixed($t)=="0"&&Mt.toFixed($t)=="0"?0:Math.atan2(Dt,Mt))/Math.PI}function nt(Ct){return new Point$1(Ct.x===0?0:Math.abs(Ct.x)/Ct.x,Ct.y===0?0:Math.abs(Ct.y)/Ct.y)}function rt(Ct,It){return Math.abs(It.x-Ct.x)+Math.abs(It.y-Ct.y)}function lt(Ct){const It=Ct.split(Ct.indexOf("@")===-1?" ":"@");return new Point$1(parseInt(It[0],10),parseInt(It[1],10))}function ot(Ct){return`${Ct.x}@${Ct.y}`}function ht(Ct){var Kt;const It=Ct.view.graph,Ot=(Kt=It.getCellBounds(Ct.cell,!1,!1))==null?void 0:Kt.clone();if(!Ot)return;const Dt=It.view,{scale:Mt,translate:$t}=Dt,{x:Ht,y:Ft}=$t,jt=Pt=>Math.round(Pt*10)/10;return new Rectangle(jt(Ot.x/Mt-Ht),jt(Ot.y/Mt-Ft),jt(Ot.width/Mt),jt(Ot.height/Mt))}const dt=mi.MANHATTAN_STEP,ct={paddingBox:mi.MANHATTAN_PADDING_BOX,directions:[{offsetX:dt,offsetY:0,cost:dt,angle:_t(st(new Point$1(0,0),new Point$1(dt,0)))},{offsetX:0,offsetY:dt,cost:dt,angle:_t(st(new Point$1(0,0),new Point$1(0,dt)))},{offsetX:-dt,offsetY:0,cost:dt,angle:_t(st(new Point$1(0,0),new Point$1(-dt,0)))},{offsetX:0,offsetY:-dt,cost:dt,angle:_t(st(new Point$1(0,0),new Point$1(0,-dt)))}],directionMap:{east:{x:1,y:0},south:{x:0,y:1},west:{x:-1,y:0},north:{x:0,y:-1}},penaltiesGenerator:Ct=>Ct==45||Ct==90||Ct==180?mi.MANHATTAN_STEP/2:0,draggingRoute:null,previousDirAngle:0};class ut{constructor(It){this.options=It,this.mapGridSize=100,this.map=new Map}build(It,Ot){const Dt=(It==null?void 0:It.view.graph)||(Ot==null?void 0:Ot.view.graph);if(Dt)return Array.from(Dt.getView().getCellStates()).filter(Mt=>Mt.cell&&Mt.cell.isVertex()&&!Mt.cell.isEdge()).map(Mt=>ht(Mt)).map(Mt=>Mt?ne(Mt,this.options.paddingBox):null).forEach(Mt=>{if(!Mt)return;const $t=Ve(new Point$1(Mt.x,Mt.y),this.mapGridSize),Ht=Ve(new Point$1(Mt.x+Mt.width,Mt.y+Mt.height),this.mapGridSize);for(let Ft=$t.x;Ft<=Ht.x;Ft+=this.mapGridSize)for(let jt=$t.y;jt<=Ht.y;jt+=this.mapGridSize){const Gt=Ft+"@"+jt,Kt=this.map.get(Gt)||[];this.map.has(Gt)||this.map.set(Gt,Kt),Kt.push(Mt)}})}isPointAccessible(It){const Ot=ot(Ve(It.clone(),this.mapGridSize)),Dt=this.map.get(Ot);return Dt?Dt.every(Mt=>!Ye(Mt,It)):!0}}class ft{constructor(){this.items=[],this.hash=new Map}add(It,Ot){const Dt=this.hash.get(It);Dt?(Dt.value=Ot,this.items.splice(this.items.indexOf(It),1)):this.hash.set(It,{value:Ot,open:!0}),this.items.push(It),this.items.sort((Mt,$t)=>{const Ht=this.hash.get(Mt),Ft=this.hash.get($t);return!Ht||!Ft?0:Ht.value-Ft.value})}remove(It){const Ot=this.hash.get(It);Ot&&(Ot.open=!1)}isOpen(It){const Ot=this.hash.get(It);return Ot&&Ot.open==!0}isClose(It){const Ot=this.hash.get(It);return Ot&&Ot.open==!1}isEmpty(){return this.items.length==0}pop(){const It=this.items.shift();return It&&this.remove(It),It}}function vt(Ct,It,Ot,Dt){const Mt=[];let $t=nt(tt(Dt,It)),Ht=It,Ft;for(;Ct[ot(Ht)];){if(Ft=Ct[ot(Ht)],!Ft)continue;const Gt=nt(tt(Ht,Ft));Gt.equals($t)||(Mt.unshift(Ht),$t=Gt),Ht=Ft}return nt(tt(Ht,Ot)).equals($t)||Mt.unshift(Ht),Mt}function mt(Ct,It,Ot){const Dt=mi.MANHATTAN_STEP,Mt=et(Ct),$t=[];for(const Ht of It){const Ft=Ot.directionMap[Ht],jt=Ft.x*Ct.width/2,Gt=Ft.y*Ct.height/2,Kt=it(Mt.clone(),jt,Gt);Ye(Ct,Kt)&&it(Kt,Ft.x*Dt,Ft.y*Dt),$t.push(Ve(Kt,Dt))}return $t}function _t(Ct){return Ct%360+(Ct<0?360:0)}function Et(Ct,It,Ot){const Dt=360/Ot;return Math.floor(_t(st(Ct,It)+Dt/2)/Dt)*Dt}function Tt(Ct,It){const Ot=Math.abs(Ct-It);return Ot>180?360-Ot:Ot}function xt(Ct,It){let Ot=1/0;for(let Dt=0,Mt=It.length;Dt<Mt;Dt++){const $t=rt(Ct,It[Dt]);$t<Ot&&(Ot=$t)}return Ot}function yt(Ct,It,Ot,Dt){const Mt=ht(Ot),$t=Dt?It.style.exitY:It.style.entryY,Ht=Dt?mi.MANHATTAN_START_DIRECTIONS.every(Gt=>Gt!=DIRECTION.NORTH&&Gt!=DIRECTION.SOUTH):mi.MANHATTAN_END_DIRECTIONS.every(Gt=>Gt!=DIRECTION.NORTH&&Gt!=DIRECTION.SOUTH);if($t!=null&&Ht){const Gt=(Mt==null?void 0:Mt.height)||0;Ct.y=(Mt==null?void 0:Mt.y)!=null?(Mt==null?void 0:Mt.y)+Gt*$t:Ct.y-Gt/2+Gt*$t}const Ft=Dt?It.style.exitX:It.style.entryX,jt=Dt?mi.MANHATTAN_START_DIRECTIONS.every(Gt=>Gt!=DIRECTION.WEST&&Gt!=DIRECTION.EAST):mi.MANHATTAN_END_DIRECTIONS.every(Gt=>Gt!=DIRECTION.WEST&&Gt!=DIRECTION.EAST);if(Ft!=null&&jt){const Gt=(Mt==null?void 0:Mt.width)||0;Ct.x=(Mt==null?void 0:Mt.x)!=null?(Mt==null?void 0:Mt.x)+Gt*Ft:Ct.x-Gt/2+Gt*(Ft||0)}}function St(Ct,It,Ot,Dt){const Mt=mi.MANHATTAN_STEP,$t=mt(Ct,mi.MANHATTAN_START_DIRECTIONS,Dt).filter(Gt=>Ot.isPointAccessible(Gt)),Ht=Ve(et(Ct),Mt),Ft=mt(It,mi.MANHATTAN_END_DIRECTIONS,Dt).filter(Gt=>Ot.isPointAccessible(Gt)),jt=Ve(et(It),Mt);if($t.length>0&&Ft.length>0){const Gt=new ft,Kt={},Pt={};$t.forEach(ei=>{const Zt=ot(ei);Gt.add(Zt,xt(ei,Ft)),Pt[Zt]=0});let kt=mi.MANHATTAN_MAXIMUM_LOOPS;const zt=Ft.map(ei=>ot(ei));let Wt,si;for(;!Gt.isEmpty()&&kt>0;){const ei=Gt.pop();if(ei==null)continue;const Zt=lt(ei),Jt=Pt[ei];if(si=Wt,Wt=Kt[ei]?Et(Kt[ei],Zt,Dt.directions.length):Dt.previousDirAngle!=0?Dt.previousDirAngle:Et(Ht,Zt,Dt.directions.length),zt.indexOf(ei)>=0){const ti=Tt(Wt,Et(Zt,jt,Dt.directions.length));if(Zt.equals(jt)||ti<180)return Dt.previousDirAngle=Wt,vt(Kt,Zt,Ht,jt)}for(let ti=0;ti<Dt.directions.length;ti++){const di=Dt.directions[ti],Qt=Tt(Wt,di.angle);if(si&&Qt>mi.MANHATTAN_MAX_ALLOWED_DIRECTION_CHANGE)continue;const Si=it(Zt.clone(),di.offsetX,di.offsetY),Ti=ot(Si);if(Gt.isClose(Ti)||!Ot.isPointAccessible(Si))continue;const Ri=Jt+di.cost+Dt.penaltiesGenerator(Qt);(!Gt.isOpen(Ti)||Ri<Pt[Ti])&&(Kt[Ti]=Zt,Pt[Ti]=Ri,Gt.add(Ti,Ri+xt(Si,Ft)))}kt--}return null}return null}function At(Ct,It,Ot,Dt,Mt,$t){if(Dt!=null&&Dt.length>0||It==null||Ot==null){mi.SegmentConnector(Ct,It,Ot,Dt,Mt);return}let Ht=ht(It);Ht=Ht?ne(Ht,$t.paddingBox):void 0;let Ft=ht(Ot);Ft=Ft?ne(Ft,$t.paddingBox):void 0;const jt=new ut($t);if(jt.build(It,Ot),!Ht||!Ft)return mi.OrthConnector(Ct,It,Ot,Dt,Mt);const Gt=St(Ht,Ft,jt,$t);if(Gt==null||Gt.length==0)return mi.OrthConnector(Ct,It,Ot,Dt,Mt);Ct.style&&(Ct.visibleSourceState&&Gt.length>0&&yt(Gt[0],Ct,Ct.visibleSourceState,!0),Ct.visibleTargetState&&Gt.length>1&&yt(Gt[Gt.length-1],Ct,Ct.visibleTargetState,!1));const Kt=Ct.view.scale;Gt.forEach(Pt=>Mt.push(new Point$1(Math.round((Pt.x+Ct.view.translate.x)*Kt*10)/10,Math.round((Pt.y+Ct.view.translate.y)*Kt*10)/10)))}At(T,k,Z,ee,te,ct)};let EdgeStyle=mi;class CellMarker extends EventSource{constructor(T,k=DEFAULT_VALID_COLOR,Z=DEFAULT_INVALID_COLOR,ee=DEFAULT_HOTSPOT){super(),this.enabled=!0,this.hotspot=DEFAULT_HOTSPOT,this.hotspotEnabled=!1,this.currentColor=NONE,this.validState=null,this.markedState=null,this.graph=T,this.validColor=k,this.invalidColor=Z,this.hotspot=ee,this.highlight=new CellHighlight(T)}setEnabled(T){this.enabled=T}isEnabled(){return this.enabled}setHotspot(T){this.hotspot=T}getHotspot(){return this.hotspot}setHotspotEnabled(T){this.hotspotEnabled=T}isHotspotEnabled(){return this.hotspotEnabled}hasValidState(){return!!this.validState}getValidState(){return this.validState}getMarkedState(){return this.markedState}reset(){this.validState=null,this.markedState&&(this.markedState=null,this.unmark())}process(T){let k=null;return this.isEnabled()&&(k=this.getState(T),this.setCurrentState(k,T)),k}setCurrentState(T,k,Z){const ee=T?this.isValidState(T):!1;Z=Z??this.getMarkerColor(k.getEvent(),T,ee),ee?this.validState=T:this.validState=null,(T!==this.markedState||Z!==this.currentColor)&&(this.currentColor=Z,T&&this.currentColor!==NONE?(this.markedState=T,this.mark()):this.markedState&&(this.markedState=null,this.unmark()))}markCell(T,k){const Z=this.graph.getView().getState(T);Z&&(this.currentColor=k??this.validColor,this.markedState=Z,this.mark())}mark(){this.highlight.setHighlightColor(this.currentColor),this.highlight.highlight(this.markedState),this.fireEvent(new EventObject(InternalEvent.MARK,"state",this.markedState))}unmark(){this.mark()}isValidState(T){return!0}getMarkerColor(T,k,Z){return Z?this.validColor:this.invalidColor}getState(T){const k=this.graph.getView(),Z=this.getCell(T);if(!Z)return null;const ee=this.getStateToMark(k.getState(Z));return ee&&this.intersects(ee,T)?ee:null}getCell(T){return T.getCell()}getStateToMark(T){return T}intersects(T,k){const Z=k.getGraphX(),ee=k.getGraphY();return this.hotspotEnabled?intersectsHotspot(T,Z,ee,this.hotspot,MIN_HOTSPOT_SIZE,MAX_HOTSPOT_SIZE):!0}destroy(){this.highlight.destroy()}}class ConnectionConstraint{constructor(T,k=!0,Z=null,ee=0,te=0){this.perimeter=!0,this.name=null,this.dx=0,this.dy=0,this.point=T,this.perimeter=k,this.name=Z,this.dx=ee,this.dy=te}}class ConnectorShape extends ImageShape{constructor(T,k="#fff"){new Rectangle(T.iconBounds.x,T.iconBounds.y,T.iconBounds.width+T.textRegion.width,T.iconBounds.height),super(T.textRegion,"",k,"#000",1),this.isInput=T.isInput,this.fill=k,this.stroke="#000",this.iconBounds=T.iconBounds,this.connector=T}paintVertexShape(T,k,Z,ee,te){T.begin(),T.setFillColor(this.fill),T.setStrokeColor(this.stroke);const ne=this.connector.textRegion;T.rect(ne.x,ne.y,ne.width,ne.height),T.fill(),T.stroke()}}class ConstraintHandler{constructor(T){this.pointImage=new ImageBox(`${Client.imageBasePath}/point.gif`,5,20),this.currentFocus=null,this.currentFocusArea=null,this.focusIcons=[],this.frames=[],this.constraints=null,this.currentConstraint=null,this.focusHighlight=null,this.focusPoints=[],this.currentPoint=null,this.enabled=!0,this.highlightColor=DEFAULT_VALID_COLOR,this.mouseleaveHandler=null,this.graph=T,this.resetHandler=()=>{this.currentFocus&&!this.graph.view.getState(this.currentFocus.cell)?this.reset():this.redraw()},this.graph.model.addListener(InternalEvent.CHANGE,this.resetHandler),this.graph.view.addListener(InternalEvent.SCALE_AND_TRANSLATE,this.resetHandler),this.graph.view.addListener(InternalEvent.TRANSLATE,this.resetHandler),this.graph.view.addListener(InternalEvent.SCALE,this.resetHandler),this.graph.addListener(InternalEvent.ROOT,this.resetHandler)}isEnabled(){return this.enabled}setEnabled(T){this.enabled=T}reset(){for(let T=0;T<this.focusIcons.length;T+=1)this.focusIcons[T].destroy();this.focusIcons=[],this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null),this.currentConstraint=null,this.currentFocusArea=null,this.currentPoint=null,this.currentFocus=null,this.focusPoints=[]}getTolerance(T){return this.graph.getEventTolerance()}getImageForConstraint(T,k,Z){return this.pointImage}isEventIgnored(T,k=!1){return!1}isStateIgnored(T,k=!1){return!1}destroyIcons(){for(let T=0;T<this.focusIcons.length;T+=1)this.focusIcons[T].destroy();this.focusIcons=[],this.focusPoints=[]}destroyFocusHighlight(){this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null,this.graph.fireEvent(new EventObject("destroyConnector",null)))}isKeepFocusEvent(T){return isShiftDown(T.getEvent())}getCellForEvent(T,k){let Z=T.getCell();if(!Z&&k&&(T.getGraphX()!==k.x||T.getGraphY()!==k.y)&&(Z=this.graph.getCellAt(k.x,k.y)),Z&&!Z.isConnectable()){const ee=Z.getParent();ee&&ee.isVertex()&&ee.isConnectable()&&(Z=ee)}return Z?this.graph.isCellLocked(Z)?null:Z:null}update(T,k,Z,ee){if(this.isEnabled()&&!this.isEventIgnored(T)){!this.mouseleaveHandler&&this.graph.container&&(this.mouseleaveHandler=()=>{this.reset()},InternalEvent.addListener(this.graph.container,"mouseleave",this.resetHandler));const te=this.getTolerance(T),ne=ee?ee.x:T.getGraphX(),me=ee?ee.y:T.getGraphY(),Ve=new Rectangle(ne-te,me-te,2*te,2*te),Ye=new Rectangle(T.getGraphX()-te,T.getGraphY()-te,2*te,2*te),et=this.graph.view.getState(this.getCellForEvent(T,ee));!this.isKeepFocusEvent(T)&&(!this.currentFocusArea||!this.currentFocus||et||!this.currentFocus.cell.isVertex()||!intersects(this.currentFocusArea,Ye))&&et!==this.currentFocus&&(this.currentFocusArea=null,this.currentFocus=null,this.setFocus(T,et,k)),this.currentConstraint=null,this.currentPoint=null;let tt=null,it;if(this.focusIcons.length>0&&this.constraints&&(!et||this.currentFocus===et)){const st=Ye.getCenterX(),nt=Ye.getCenterY();for(let rt=0;rt<this.focusIcons.length;rt+=1){const lt=st-this.focusIcons[rt].bounds.getCenterX(),ot=nt-this.focusIcons[rt].bounds.getCenterY();if(it=lt*lt+ot*ot,(this.intersects(this.focusIcons[rt],Ye,k,Z)||ee&&this.intersects(this.focusIcons[rt],Ve,k,Z))&&(tt===null||it<tt)){if(this.currentConstraint=this.constraints[rt],this.currentPoint=this.focusPoints[rt],tt=it,it=this.focusIcons[rt].iconBounds.clone(),it.grow(HIGHLIGHT_SIZE+1),it.width-=1,it.height-=1,!this.focusHighlight){const ht=this.createHighlightShape();ht.dialect=DIALECT.SVG,ht.pointerEvents=!1,ht.init(this.graph.getView().getOverlayPane()),this.focusHighlight=ht;const dt=()=>this.currentFocus?this.currentFocus:et;InternalEvent.redirectMouseEvents(ht.node,this.graph,dt)}this.focusHighlight.bounds=it,this.focusHighlight.redraw()}}}this.currentConstraint||this.destroyFocusHighlight()}else this.currentConstraint=null,this.currentFocus=null,this.currentPoint=null}redraw(){if(this.currentFocus&&this.constraints&&this.focusIcons.length>0){const T=this.graph.view.getState(this.currentFocus.cell);this.currentFocus=T,this.currentFocusArea=new Rectangle(T.x,T.y,T.width,T.height);for(let k=0;k<this.constraints.length;k+=1){const Z=this.graph.getConnectionPoint(T,this.constraints[k]),ee=this.getImageForConstraint(T,this.constraints[k],Z),te=new Rectangle(Math.round(Z.x-ee.width/2),Math.round(Z.y-ee.height/2),ee.width,ee.height);this.focusIcons[k].bounds=te,this.focusIcons[k].redraw(),this.currentFocusArea.add(this.focusIcons[k].bounds),this.focusPoints[k]=Z}}}setFocus(T,k,Z){var ee;if(this.constraints=k&&!this.isStateIgnored(k,Z)&&k.cell.isConnectable()?this.isEnabled()?this.graph.getAllConnectionConstraints(k,Z)??[]:[]:null,this.constraints&&k){this.currentFocus=k,this.currentFocusArea=new Rectangle(k.x,k.y,k.width,k.height);for(let ne=0;ne<this.focusIcons.length;ne+=1)this.focusIcons[ne].destroy();this.focusIcons=[],this.focusPoints=[];const te=this.constraints;for(let ne=0;ne<this.constraints.length;ne+=1){const me=this.graph.getConnectionPoint(k,this.constraints[ne]);te[ne].isInput?me.x+=8:te[ne].isInput||(me.x-=8),me.y-=.5;const Ve=this.getImageForConstraint(k,this.constraints[ne],me),{src:Ye}=Ve;new Rectangle(Math.round(me.x-Ve.width/2),Math.round(me.y-Ve.height/2),Ve.width+20,Ve.height);const et=new ConnectorShape(te[ne]);et.dialect=this.graph.dialect!==DIALECT.SVG?DIALECT.MIXEDHTML:DIALECT.SVG,et.preserveImageAspect=!1,et.init(this.graph.getView().getDecoratorPane()),et.node.previousSibling&&((ee=et.node.parentNode)==null||ee.insertBefore(et.node,et.node.parentNode.firstChild));const tt=()=>this.currentFocus?this.currentFocus:k;et.redraw(),InternalEvent.redirectMouseEvents(et.node,this.graph,tt,it=>{console.log("click"),this.graph.fireEvent(new EventObject("showConnector",{event:it,connector:te[ne],bounds:te[ne].iconBounds}))}),this.currentFocusArea.add(et.bounds),this.focusIcons.push(et),this.focusPoints.push(me)}this.currentFocusArea.grow(this.getTolerance(T))}else this.destroyIcons(),this.destroyFocusHighlight()}createHighlightShape(){const T=new RectangleShape(new Rectangle,this.highlightColor,this.highlightColor,HIGHLIGHT_STROKEWIDTH);return T.opacity=HIGHLIGHT_OPACITY,T}intersects(T,k,Z,ee){return intersects(T.bounds,k)}onDestroy(){this.reset(),this.graph.model.removeListener(this.resetHandler),this.graph.view.removeListener(this.resetHandler),this.graph.removeListener(this.resetHandler),this.mouseleaveHandler&&this.graph.container&&(InternalEvent.removeListener(this.graph.container,"mouseleave",this.mouseleaveHandler),this.mouseleaveHandler=null)}}class EdgeHandler{constructor(T){if(this.error=null,this.bends=[],this.cloneEnabled=!0,this.addEnabled=!1,this.removeEnabled=!1,this.dblClickRemoveEnabled=!1,this.mergeRemoveEnabled=!1,this.straightRemoveEnabled=!1,this.virtualBendsEnabled=!1,this.virtualBendOpacity=20,this.parentHighlightEnabled=!1,this.preferHtml=!1,this.allowHandleBoundsCheck=!0,this.snapToTerminals=!1,this.handleImage=null,this.labelHandleImage=null,this.tolerance=0,this.outlineConnect=!1,this.manageLabelHandle=!1,this.currentPoint=null,this.parentHighlight=null,this.index=null,this.isSource=!1,this.isTarget=!1,this.isLabel=!1,this.points=[],this.snapPoint=null,this.abspoints=[],this.startX=0,this.startY=0,this.outline=!0,this.active=!0,this.state=T,this.graph=this.state.view.graph,this.marker=this.createMarker(),this.constraintHandler=new ConstraintHandler(this.graph),this.points=[],this.abspoints=this.getSelectionPoints(this.state),this.shape=this.createSelectionShape(this.abspoints),this.shape.dialect=this.graph.dialect!==DIALECT.SVG?DIALECT.MIXEDHTML:DIALECT.SVG,this.shape.init(this.graph.getView().getOverlayPane()),this.shape.pointerEvents=!1,this.shape.setCursor(CURSOR$1.MOVABLE_EDGE),InternalEvent.redirectMouseEvents(this.shape.node,this.graph,this.state),this.preferHtml=this.state.text!=null&&this.state.text.node.parentNode===this.graph.container,!this.preferHtml){const Z=this.state.getVisibleTerminalState(!0);if(Z!=null&&(this.preferHtml=Z.text!=null&&Z.text.node.parentNode===this.graph.container),!this.preferHtml){const ee=this.state.getVisibleTerminalState(!1);ee!=null&&(this.preferHtml=ee.text!=null&&ee.text.node.parentNode===this.graph.container)}}const k=this.graph.getPlugin("SelectionHandler");k&&(this.graph.getSelectionCount()<k.maxCells||k.maxCells<=0)&&(this.bends=this.createBends(),this.isVirtualBendsEnabled()&&(this.virtualBends=this.createVirtualBends())),this.label=new Point$1(this.state.absoluteOffset.x,this.state.absoluteOffset.y),this.labelShape=this.createLabelHandleShape(),this.initBend(this.labelShape),this.labelShape.setCursor(CURSOR$1.LABEL_HANDLE),this.customHandles=this.createCustomHandles(),this.updateParentHighlight(),this.redraw(),this.escapeHandler=(Z,ee)=>{const te=this.index!=null;this.reset(),te&&this.graph.cellRenderer.redraw(this.state,!1,T.view.isRendering())},this.state.view.graph.addListener(InternalEvent.ESCAPE,this.escapeHandler)}isParentHighlightVisible(){const T=this.state.cell.getParent();return T?!this.graph.isCellSelected(T):null}updateParentHighlight(){if(!this.isDestroyed()){const T=this.isParentHighlightVisible(),k=this.state.cell.getParent(),Z=k?this.graph.view.getState(k):null;if(this.parentHighlight)if(k&&k.isVertex()&&T){const ee=this.parentHighlight.bounds;Z&&ee&&(ee.x!==Z.x||ee.y!==Z.y||ee.width!==Z.width||ee.height!==Z.height)&&(this.parentHighlight.bounds=Rectangle.fromRectangle(Z),this.parentHighlight.redraw())}else Z&&Z.parentHighlight===this.parentHighlight&&(Z.parentHighlight=null),this.parentHighlight.destroy(),this.parentHighlight=null;else this.parentHighlightEnabled&&T&&k&&k.isVertex()&&Z&&!Z.parentHighlight&&(this.parentHighlight=this.createParentHighlightShape(Z),this.parentHighlight.dialect=DIALECT.SVG,this.parentHighlight.pointerEvents=!1,Z.style.rotation&&(this.parentHighlight.rotation=Z.style.rotation),this.parentHighlight.init(this.graph.getView().getOverlayPane()),this.parentHighlight.redraw(),Z.parentHighlight=this.parentHighlight)}}createCustomHandles(){return[]}isVirtualBendsEnabled(T){return this.virtualBendsEnabled&&(this.state.style.edgeStyle==null||this.state.style.edgeStyle===NONE||this.state.style.noEdgeStyle)&&this.state.style.shape!=="arrow"}isCellEnabled(T){return!0}isAddPointEvent(T){return isShiftDown(T)}isRemovePointEvent(T){return isShiftDown(T)}getSelectionPoints(T){return T.absolutePoints}createParentHighlightShape(T){const k=new RectangleShape(Rectangle.fromRectangle(T),NONE,this.getSelectionColor());return k.strokeWidth=this.getSelectionStrokeWidth(),k.isDashed=this.isSelectionDashed(),k}createSelectionShape(T){const k=this.state.shape.constructor,Z=new k;return Z.outline=!0,Z.apply(this.state),Z.isDashed=this.isSelectionDashed(),Z.stroke=this.getSelectionColor(),Z.isShadow=!1,Z}getSelectionColor(){return EDGE_SELECTION_COLOR}getSelectionStrokeWidth(){return EDGE_SELECTION_STROKEWIDTH}isSelectionDashed(){return EDGE_SELECTION_DASHED}isConnectableCell(T){return!0}getCellAt(T,k){return this.outlineConnect?null:this.graph.getCellAt(T,k)}createMarker(){return new EdgeHandlerCellMarker(this.graph,this)}validateConnection(T,k){return this.graph.getEdgeValidationError(this.state.cell,T,k)}createBends(){const{cell:T}=this.state,k=[];for(let Z=0;Z<this.abspoints.length;Z+=1)if(this.isHandleVisible(Z)){const ee=Z===0,te=Z===this.abspoints.length-1,ne=ee||te;(ne||this.graph.isCellBendable(T))&&(me=>{const Ve=this.createHandleShape(me);this.initBend(Ve,()=>{this.dblClickRemoveEnabled&&this.removePoint(this.state,me)}),this.isHandleEnabled(Z)&&Ve.setCursor(ne?CURSOR$1.TERMINAL_HANDLE:CURSOR$1.BEND_HANDLE),k.push(Ve),ne||(this.points.push(new Point$1(0,0)),Ve.node.style.visibility="hidden")})(Z)}return k}createVirtualBends(){const{cell:T}=this.state;this.abspoints[0];const k=[];if(this.graph.isCellBendable(T))for(let Z=1;Z<this.abspoints.length;Z+=1)(ee=>{this.initBend(ee),ee.setCursor(CURSOR$1.VIRTUAL_BEND_HANDLE),k.push(ee)})(this.createHandleShape());return k}isHandleEnabled(T){return!0}isHandleVisible(T){const k=this.state.getVisibleTerminalState(!0),Z=this.state.getVisibleTerminalState(!1),ee=this.state.cell.getGeometry();return(ee?this.graph.view.getEdgeStyle(this.state,ee.points||void 0,k,Z):null)!==EdgeStyle.EntityRelation||T===0||T===this.abspoints.length-1}createHandleShape(T){if(this.handleImage){const Z=new ImageShape(new Rectangle(0,0,this.handleImage.width,this.handleImage.height),this.handleImage.src);return Z.preserveImageAspect=!1,Z}let k=HANDLE_SIZE$1;return this.preferHtml&&(k-=1),new RectangleShape(new Rectangle(0,0,k,k),HANDLE_FILLCOLOR,HANDLE_STROKECOLOR)}createLabelHandleShape(){if(this.labelHandleImage){const k=new ImageShape(new Rectangle(0,0,this.labelHandleImage.width,this.labelHandleImage.height),this.labelHandleImage.src);return k.preserveImageAspect=!1,k}const T=LABEL_HANDLE_SIZE;return new RectangleShape(new Rectangle(0,0,T,T),LABEL_HANDLE_FILLCOLOR,HANDLE_STROKECOLOR)}initBend(T,k){this.preferHtml?(T.dialect=DIALECT.STRICTHTML,T.init(this.graph.container)):(T.dialect=this.graph.dialect!==DIALECT.SVG?DIALECT.MIXEDHTML:DIALECT.SVG,T.init(this.graph.getView().getOverlayPane())),InternalEvent.redirectMouseEvents(T.node,this.graph,this.state,null,null,null,k),Client.IS_TOUCH&&T.node.setAttribute("pointer-events","none")}getHandleForEvent(T){let k=null;const Z=isMouseEvent(T.getEvent())?1:this.tolerance,ee=this.allowHandleBoundsCheck&&Z>0?new Rectangle(T.getGraphX()-Z,T.getGraphY()-Z,2*Z,2*Z):null;let te=Number.POSITIVE_INFINITY;function ne(me){if(me&&me.bounds&&me.node&&me.node.style.display!=="none"&&me.node.style.visibility!=="hidden"&&(T.isSource(me)||ee&&intersects(me.bounds,ee))){const Ve=T.getGraphX()-me.bounds.getCenterX(),Ye=T.getGraphY()-me.bounds.getCenterY(),et=Ve*Ve+Ye*Ye;if(et<=te)return te=et,!0}return!1}if(this.isCustomHandleEvent(T)&&this.customHandles){for(let me=this.customHandles.length-1;me>=0;me--)if(ne(this.customHandles[me].shape))return InternalEvent.CUSTOM_HANDLE-me}(T.isSource(this.state.text)||ne(this.labelShape))&&(k=InternalEvent.LABEL_HANDLE);for(let me=0;me<this.bends.length;me+=1)ne(this.bends[me])&&(k=me);if(this.virtualBends&&this.isAddVirtualBendEvent(T))for(let me=0;me<this.virtualBends.length;me+=1)ne(this.virtualBends[me])&&(k=InternalEvent.VIRTUAL_HANDLE-me);return k}isAddVirtualBendEvent(T){return!0}isCustomHandleEvent(T){return!0}mouseDown(T,k){const Z=this.getHandleForEvent(k);if(Z!==null&&this.bends[Z]){const ee=this.bends[Z].bounds;ee&&(this.snapPoint=new Point$1(ee.getCenterX(),ee.getCenterY()))}if(this.addEnabled&&Z===null&&this.isAddPointEvent(k.getEvent()))this.addPoint(this.state,k.getEvent()),k.consume();else if(Z!==null&&!k.isConsumed()&&this.graph.isEnabled()){const ee=k.getCell();this.removeEnabled&&this.isRemovePointEvent(k.getEvent())?this.removePoint(this.state,Z):(Z!==InternalEvent.LABEL_HANDLE||ee&&this.graph.isLabelMovable(ee))&&(this.virtualBends&&Z<=InternalEvent.VIRTUAL_HANDLE&&setOpacity(this.virtualBends[InternalEvent.VIRTUAL_HANDLE-Z].node,100),this.start(k.getX(),k.getY(),Z)),k.consume()}}start(T,k,Z){if(this.startX=T,this.startY=k,this.isSource=this.bends.length===0?!1:Z===0,this.isTarget=this.bends.length===0?!1:Z===this.bends.length-1,this.isLabel=Z===InternalEvent.LABEL_HANDLE,this.isSource||this.isTarget){const{cell:ee}=this.state,te=ee.getTerminal(this.isSource);(te==null&&this.graph.isTerminalPointMovable(ee,this.isSource)||te!=null&&this.graph.isCellDisconnectable(ee,te,this.isSource))&&(this.index=Z)}else this.index=Z;if(this.index!==null&&this.index<=InternalEvent.CUSTOM_HANDLE&&this.index>InternalEvent.VIRTUAL_HANDLE&&this.customHandles!=null)for(let ee=0;ee<this.customHandles.length;ee+=1)ee!==InternalEvent.CUSTOM_HANDLE-this.index&&this.customHandles[ee].setVisible(!1)}clonePreviewState(T,k){return this.state.clone()}getSnapToTerminalTolerance(){return this.graph.getGridSize()*this.graph.getView().scale/2}updateHint(T,k){}removeHint(){}roundLength(T){return Math.round(T)}isSnapToTerminalsEvent(T){return this.snapToTerminals&&!isAltDown(T.getEvent())}getPointForEvent(T){const k=this.graph.getView(),{scale:Z}=k,ee=new Point$1(this.roundLength(T.getGraphX()/Z)*Z,this.roundLength(T.getGraphY()/Z)*Z),te=this.getSnapToTerminalTolerance();let ne=!1,me=!1;if(te>0&&this.isSnapToTerminalsEvent(T)){const Ve=et=>{if(et){const{x:tt}=et;Math.abs(ee.x-tt)<te&&(ee.x=tt,ne=!0);const{y:it}=et;Math.abs(ee.y-it)<te&&(ee.y=it,me=!0)}},Ye=et=>{et&&Ve(new Point$1(k.getRoutingCenterX(et),k.getRoutingCenterY(et)))};Ye(this.state.getVisibleTerminalState(!0)),Ye(this.state.getVisibleTerminalState(!1));for(let et=0;et<this.state.absolutePoints.length;et+=1)Ve(this.state.absolutePoints[et])}if(this.graph.isGridEnabledEvent(T.getEvent())){const Ve=k.translate;ne||(ee.x=(this.graph.snap(ee.x/Z-Ve.x)+Ve.x)*Z),me||(ee.y=(this.graph.snap(ee.y/Z-Ve.y)+Ve.y)*Z)}return ee}getPreviewTerminalState(T){if(this.constraintHandler.update(T,this.isSource,!0,T.isSource(this.marker.highlight.shape)?null:this.currentPoint),this.constraintHandler.currentFocus&&this.constraintHandler.currentConstraint){this.marker.highlight&&this.marker.highlight.shape&&this.marker.highlight.state&&this.marker.highlight.state.cell===this.constraintHandler.currentFocus.cell?this.marker.highlight.shape.stroke!=="transparent"&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent");const k=this.graph.view.getTerminalPort(this.state,this.graph.view.getState(this.state.cell.getTerminal(!this.isSource)),!this.isSource),Z=k?k.cell:null,ee=this.isSource?this.constraintHandler.currentFocus.cell:Z,te=this.isSource?Z:this.constraintHandler.currentFocus.cell;this.error=this.validateConnection(ee,te);let ne=null;return this.error===null&&(ne=this.constraintHandler.currentFocus),(this.error!==null||ne&&!this.isCellEnabled(ne.cell))&&this.constraintHandler.reset(),ne}if(!this.graph.isIgnoreTerminalEvent(T.getEvent())){this.marker.process(T);const k=this.marker.getValidState();return k&&!this.isCellEnabled(k.cell)&&(this.constraintHandler.reset(),this.marker.reset()),this.marker.getValidState()}return this.marker.reset(),null}getPreviewPoints(T,k){const Z=this.state.cell.getGeometry();if(!Z)return null;let ee=(Z.points||[]).slice();const te=new Point$1(T.x,T.y);let ne=null;if(!this.isSource&&!this.isTarget&&this.index!==null){if(this.convertPoint(te,!1),this.index<=InternalEvent.VIRTUAL_HANDLE&&ee.splice(InternalEvent.VIRTUAL_HANDLE-this.index,0,te),!this.isSource&&!this.isTarget){for(let me=0;me<this.bends.length;me+=1)if(me!==this.index){const Ve=this.bends[me];Ve&&contains(Ve.bounds,T.x,T.y)&&(this.index<=InternalEvent.VIRTUAL_HANDLE?ee.splice(InternalEvent.VIRTUAL_HANDLE-this.index,1):ee.splice(this.index-1,1),ne=ee)}if(!ne&&this.straightRemoveEnabled&&(!k||!isAltDown(k.getEvent()))){const me=this.graph.getEventTolerance()*this.graph.getEventTolerance(),Ve=this.state.absolutePoints.slice();Ve[this.index]=T;const Ye=this.state.getVisibleTerminalState(!0);if(Ye!=null){const it=this.graph.getConnectionConstraint(this.state,Ye,!0);(it==null||this.graph.getConnectionPoint(Ye,it)==null)&&(Ve[0]=new Point$1(Ye.view.getRoutingCenterX(Ye),Ye.view.getRoutingCenterY(Ye)))}const et=this.state.getVisibleTerminalState(!1);if(et!=null){const it=this.graph.getConnectionConstraint(this.state,et,!1);(it==null||this.graph.getConnectionPoint(et,it)==null)&&(Ve[Ve.length-1]=new Point$1(et.view.getRoutingCenterX(et),et.view.getRoutingCenterY(et)))}((it,st)=>{it>0&&it<Ve.length-1&&ptSegDistSq(Ve[it-1].x,Ve[it-1].y,Ve[it+1].x,Ve[it+1].y,st.x,st.y)<me&&(ee.splice(it-1,1),ne=ee)})(this.index,T)}}ne==null&&this.index>InternalEvent.VIRTUAL_HANDLE&&(ee[this.index-1]=te)}else this.graph.isResetEdgesOnConnect()&&(ee=[]);return ne??ee}isOutlineConnectEvent(T){if(!this.currentPoint)return!1;const k=getOffset(this.graph.container),Z=T.getEvent(),ee=getClientX(Z),te=getClientY(Z),ne=document.documentElement,me=(window.pageXOffset||ne.scrollLeft)-(ne.clientLeft||0),Ve=(window.pageYOffset||ne.scrollTop)-(ne.clientTop||0),Ye=this.currentPoint.x-this.graph.container.scrollLeft+k.x-me,et=this.currentPoint.y-this.graph.container.scrollTop+k.y-Ve;return this.outlineConnect&&!isShiftDown(T.getEvent())&&(T.isSource(this.marker.highlight.shape)||isAltDown(T.getEvent())&&T.getState()!=null||this.marker.highlight.isHighlightAt(ee,te)||(Ye!==ee||et!==te)&&T.getState()==null&&this.marker.highlight.isHighlightAt(Ye,et))}updatePreviewState(T,k,Z,ee,te=!1){const ne=this.isSource?Z:this.state.getVisibleTerminalState(!0),me=this.isTarget?Z:this.state.getVisibleTerminalState(!1);let Ve=this.graph.getConnectionConstraint(T,ne,!0),Ye=this.graph.getConnectionConstraint(T,me,!1),et=this.constraintHandler.currentConstraint;if(et==null&&te&&(Z!=null?(ee.isSource(this.marker.highlight.shape)&&(k=new Point$1(ee.getGraphX(),ee.getGraphY())),et=this.graph.getOutlineConstraint(k,Z,ee),this.constraintHandler.setFocus(ee,Z,this.isSource),this.constraintHandler.currentConstraint=et,this.constraintHandler.currentPoint=k):et=new ConnectionConstraint(null)),this.outlineConnect&&this.marker.highlight!=null&&this.marker.highlight.shape!=null){const tt=this.graph.view.scale;if(this.constraintHandler.currentConstraint!=null&&this.constraintHandler.currentFocus!=null)this.marker.highlight.shape.stroke=te?OUTLINE_HIGHLIGHT_COLOR:"transparent",this.marker.highlight.shape.strokeWidth=OUTLINE_HIGHLIGHT_STROKEWIDTH/tt/tt,this.marker.highlight.repaint();else if(this.marker.hasValidState()){const it=ee.getCell();this.marker.highlight.shape.stroke=it&&it.isConnectable()&&this.marker.getValidState()!==ee.getState()?"transparent":DEFAULT_VALID_COLOR,this.marker.highlight.shape.strokeWidth=HIGHLIGHT_STROKEWIDTH/tt/tt,this.marker.highlight.repaint()}}this.isSource?Ve=et:this.isTarget&&(Ye=et),(this.isSource||this.isTarget)&&(et!=null&&et.point!=null?(T.style[this.isSource?"exitX":"entryX"]=et.point.x,T.style[this.isSource?"exitY":"entryY"]=et.point.y):(delete T.style[this.isSource?"exitX":"entryX"],delete T.style[this.isSource?"exitY":"entryY"])),T.setVisibleTerminalState(ne,!0),T.setVisibleTerminalState(me,!1),(!this.isSource||ne!=null)&&T.view.updateFixedTerminalPoint(T,ne,!0,Ve),(!this.isTarget||me!=null)&&T.view.updateFixedTerminalPoint(T,me,!1,Ye),(this.isSource||this.isTarget)&&Z==null&&(T.setAbsoluteTerminalPoint(k,this.isSource),this.marker.getMarkedState()==null&&(this.error=this.graph.isAllowDanglingEdges()?null:"")),T.view.updatePoints(T,this.points,ne,me),T.view.updateFloatingTerminalPoints(T,ne,me)}mouseMove(T,k){var Z;if(this.index!=null&&this.marker!=null){if(this.currentPoint=this.getPointForEvent(k),this.error=null,!this.graph.isIgnoreTerminalEvent(k.getEvent())&&isShiftDown(k.getEvent())&&this.snapPoint!=null&&(Math.abs(this.snapPoint.x-this.currentPoint.x)<Math.abs(this.snapPoint.y-this.currentPoint.y)?this.currentPoint.x=this.snapPoint.x:this.currentPoint.y=this.snapPoint.y),this.index<=InternalEvent.CUSTOM_HANDLE&&this.index>InternalEvent.VIRTUAL_HANDLE)this.customHandles!=null&&(this.customHandles[InternalEvent.CUSTOM_HANDLE-this.index].processEvent(k),this.customHandles[InternalEvent.CUSTOM_HANDLE-this.index].positionChanged(),this.shape!=null&&this.shape.node!=null&&(this.shape.node.style.display="none"));else if(this.isLabel&&this.label)this.label.x=this.currentPoint.x,this.label.y=this.currentPoint.y;else{this.points=this.getPreviewPoints(this.currentPoint,k);let ee=this.isSource||this.isTarget?this.getPreviewTerminalState(k):null;if(this.constraintHandler.currentConstraint!=null&&this.constraintHandler.currentFocus!=null&&this.constraintHandler.currentPoint!=null?this.currentPoint=this.constraintHandler.currentPoint.clone():this.outlineConnect&&((this.isSource||this.isTarget?this.isOutlineConnectEvent(k):!1)?ee=this.marker.highlight.state:ee!=null&&ee!==k.getState()&&((Z=k.getCell())!=null&&Z.isConnectable())&&this.marker.highlight.shape!=null&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint(),ee=null)),ee!=null&&!this.isCellEnabled(ee.cell)&&(ee=null,this.marker.reset()),this.currentPoint){const te=this.clonePreviewState(this.currentPoint,ee!=null?ee.cell:null);this.updatePreviewState(te,this.currentPoint,ee,k,this.outline);const ne=this.error==null?this.marker.validColor:this.marker.invalidColor;this.setPreviewColor(ne),this.abspoints=te.absolutePoints,this.active=!0,this.updateHint(k,this.currentPoint)}}this.drawPreview(),InternalEvent.consume(k.getEvent()),k.consume()}}mouseUp(T,k){if(this.index!=null&&this.marker!=null){this.shape!=null&&this.shape.node!=null&&(this.shape.node.style.display="");let Z=this.state.cell;const{index:ee}=this;if(this.index=null,k.getX()!==this.startX||k.getY()!==this.startY){const te=!this.graph.isIgnoreTerminalEvent(k.getEvent())&&this.graph.isCloneEvent(k.getEvent())&&this.cloneEnabled&&this.graph.isCellsCloneable();if(this.error!=null)this.error.length>0&&this.graph.validationAlert(this.error);else if(ee<=InternalEvent.CUSTOM_HANDLE&&ee>InternalEvent.VIRTUAL_HANDLE){if(this.customHandles!=null){const ne=this.graph.getDataModel();ne.beginUpdate();try{this.customHandles[InternalEvent.CUSTOM_HANDLE-ee].execute(k),this.shape!=null&&this.shape.node!=null&&(this.shape.apply(this.state),this.shape.redraw())}finally{ne.endUpdate()}}}else if(this.isLabel&&this.label)this.moveLabel(this.state,this.label.x,this.label.y);else if(this.isSource||this.isTarget){let ne=null;if(this.constraintHandler.currentConstraint!=null&&this.constraintHandler.currentFocus!=null&&(ne=this.constraintHandler.currentFocus.cell),!ne&&this.marker.hasValidState()&&this.marker.highlight!=null&&this.marker.highlight.shape!=null&&this.marker.highlight.shape.stroke!=="transparent"&&this.marker.highlight.shape.stroke!=="white"&&(ne=this.marker.validState.cell),ne){const me=this.graph.getDataModel(),Ve=Z.getParent();me.beginUpdate();try{if(te){let Ye=Z.getGeometry();const et=this.graph.cloneCell(Z);me.add(Ve,et,Ve.getChildCount()),Ye!=null&&(Ye=Ye.clone(),me.setGeometry(et,Ye));const tt=Z.getTerminal(!this.isSource);this.graph.connectCell(et,tt,!this.isSource),Z=et}Z=this.connect(Z,ne,this.isSource,te,k)}finally{me.endUpdate()}}else if(this.graph.isAllowDanglingEdges()){const me=this.abspoints[this.isSource?0:this.abspoints.length-1];me.x=this.roundLength(me.x/this.graph.view.scale-this.graph.view.translate.x),me.y=this.roundLength(me.y/this.graph.view.scale-this.graph.view.translate.y);const Ve=Z.getParent(),Ye=Ve?this.graph.getView().getState(Ve):null;Ye!=null&&(me.x-=Ye.origin.x,me.y-=Ye.origin.y),me.x-=this.graph.getPanDx()/this.graph.view.scale,me.y-=this.graph.getPanDy()/this.graph.view.scale,Z=this.changeTerminalPoint(Z,me,this.isSource,te)}}else this.active?Z=this.changePoints(Z,this.points,te):(this.graph.getView().invalidate(this.state.cell),this.graph.getView().validate(this.state.cell))}else this.graph.isToggleEvent(k.getEvent())&&this.graph.selectCellForEvent(this.state.cell,k.getEvent());this.marker!=null&&(this.reset(),Z!==this.state.cell&&this.graph.setSelectionCell(Z)),k.consume()}}reset(){if(this.active&&this.refresh(),this.error=null,this.index=null,this.points=[],this.snapPoint=null,this.isLabel=!1,this.isSource=!1,this.isTarget=!1,this.active=!1,this.marker&&this.marker.reset(),this.constraintHandler.reset(),this.customHandles)for(let T=0;T<this.customHandles.length;T+=1)this.customHandles[T].reset();this.setPreviewColor(EDGE_SELECTION_COLOR),this.removeHint(),this.redraw()}setPreviewColor(T){this.shape.stroke=T}convertPoint(T,k){const Z=this.graph.getView().getScale(),ee=this.graph.getView().getTranslate();k&&(T.x=this.graph.snap(T.x),T.y=this.graph.snap(T.y)),T.x=Math.round(T.x/Z-ee.x),T.y=Math.round(T.y/Z-ee.y);const te=this.state.cell.getParent(),ne=te&&this.graph.getView().getState(te);return ne&&(T.x-=ne.origin.x,T.y-=ne.origin.y),T}moveLabel(T,k,Z){const ee=this.graph.getDataModel();let te=T.cell.getGeometry();if(te!=null){const{scale:ne}=this.graph.getView();if(te=te.clone(),te.relative){let me=this.graph.getView().getRelativePoint(T,k,Z);te.x=Math.round(me.x*1e4)/1e4,te.y=Math.round(me.y),te.offset=new Point$1(0,0),me=this.graph.view.getPoint(T,te),te.offset=new Point$1(Math.round((k-me.x)/ne),Math.round((Z-me.y)/ne))}else{const me=T.absolutePoints,Ve=me[0],Ye=me[me.length-1];if(Ve!=null&&Ye!=null){const et=Ve.x+(Ye.x-Ve.x)/2,tt=Ve.y+(Ye.y-Ve.y)/2;te.offset=new Point$1(Math.round((k-et)/ne),Math.round((Z-tt)/ne)),te.x=0,te.y=0}}ee.setGeometry(T.cell,te)}}connect(T,k,Z,ee,te){return T.getParent(),this.graph.batchUpdate(()=>{let ne=this.constraintHandler.currentConstraint;ne==null&&(ne=new ConnectionConstraint(null)),this.graph.connectCell(T,k,Z,ne)}),T}changeTerminalPoint(T,k,Z,ee){const te=this.graph.getDataModel();return te.batchUpdate(()=>{if(ee){const me=T.getParent(),Ve=T.getTerminal(!Z);T=this.graph.cloneCell(T),te.add(me,T,me.getChildCount()),te.setTerminal(T,Ve,!Z)}let ne=T.getGeometry();ne!=null&&(ne=ne.clone(),ne.setTerminalPoint(k,Z),te.setGeometry(T,ne),this.graph.connectCell(T,null,Z,new ConnectionConstraint(null)))}),T}changePoints(T,k,Z){const ee=this.graph.getDataModel();return ee.batchUpdate(()=>{if(Z){const ne=T.getParent(),me=T.getTerminal(!0),Ve=T.getTerminal(!1);T=this.graph.cloneCell(T),ee.add(ne,T,ne.getChildCount()),ee.setTerminal(T,me,!0),ee.setTerminal(T,Ve,!1)}let te=T.getGeometry();te!=null&&(te=te.clone(),te.points=k,ee.setGeometry(T,te))}),T}addPoint(T,k){const Z=convertPoint(this.graph.container,getClientX(k),getClientY(k)),ee=this.graph.isGridEnabledEvent(k);this.convertPoint(Z,ee),this.addPointAt(T,Z.x,Z.y),InternalEvent.consume(k)}addPointAt(T,k,Z){let ee=T.cell.getGeometry();const te=new Point$1(k,Z);if(ee!=null){ee=ee.clone();const ne=this.graph.view.translate,me=this.graph.view.scale;let Ve=new Point$1(ne.x*me,ne.y*me);const Ye=this.state.cell.getParent();if(Ye&&Ye.isVertex()){const tt=this.graph.view.getState(Ye);tt&&(Ve=new Point$1(tt.x,tt.y))}const et=findNearestSegment(T,te.x*me+Ve.x,te.y*me+Ve.y);ee.points==null?ee.points=[te]:ee.points.splice(et,0,te),this.graph.getDataModel().setGeometry(T.cell,ee),this.refresh(),this.redraw()}}removePoint(T,k){if(k>0&&k<this.abspoints.length-1){let Z=this.state.cell.getGeometry();Z!=null&&Z.points!=null&&(Z=Z.clone(),(Z.points||[]).splice(k-1,1),this.graph.getDataModel().setGeometry(T.cell,Z),this.refresh(),this.redraw())}}getHandleFillColor(T){const k=T===0,{cell:Z}=this.state,ee=Z.getTerminal(k);let te=HANDLE_FILLCOLOR;return ee!=null&&!this.graph.isCellDisconnectable(Z,ee,k)||ee==null&&!this.graph.isTerminalPointMovable(Z,k)?te=LOCKED_HANDLE_FILLCOLOR:ee!=null&&this.graph.isCellDisconnectable(Z,ee,k)&&(te=CONNECT_HANDLE_FILLCOLOR),te}redraw(T){this.abspoints=this.state.absolutePoints.slice();const k=this.state.cell.getGeometry();if(k){const Z=k.points;if(this.bends!=null&&this.bends.length>0&&Z!=null){this.points==null&&(this.points=[]);for(let ee=1;ee<this.bends.length-1;ee+=1)this.bends[ee]!=null&&this.abspoints[ee]!=null&&(this.points[ee-1]=Z[ee-1])}}this.drawPreview(),T||this.redrawHandles()}redrawHandles(){const{cell:T}=this.state;let k=this.labelShape.bounds;this.label=new Point$1(this.state.absoluteOffset.x,this.state.absoluteOffset.y),this.labelShape.bounds=new Rectangle(Math.round(this.label.x-k.width/2),Math.round(this.label.y-k.height/2),k.width,k.height);const Z=this.graph.getLabel(T);if(this.labelShape.visible=Z!=null&&Z.length>0&&this.graph.isLabelMovable(T),this.bends!=null&&this.bends.length>0){const ee=this.abspoints.length-1,te=this.abspoints[0],ne=te.x,me=te.y;k=this.bends[0].bounds,this.bends[0].bounds=new Rectangle(Math.floor(ne-k.width/2),Math.floor(me-k.height/2),k.width,k.height),this.bends[0].fill=this.getHandleFillColor(0),this.bends[0].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[0].bounds);const Ve=this.abspoints[ee],Ye=Ve.x,et=Ve.y,tt=this.bends.length-1;k=this.bends[tt].bounds,this.bends[tt].bounds=new Rectangle(Math.floor(Ye-k.width/2),Math.floor(et-k.height/2),k.width,k.height),this.bends[tt].fill=this.getHandleFillColor(tt),this.bends[tt].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[tt].bounds),this.redrawInnerBends(te,Ve)}if(this.virtualBends&&this.virtualBends.length>0){let ee=this.abspoints[0];for(let te=0;te<this.virtualBends.length;te+=1)if(this.virtualBends[te]!=null&&this.abspoints[te+1]!=null){const ne=this.abspoints[te+1],me=this.virtualBends[te],Ve=ee.x+(ne.x-ee.x)/2,Ye=ee.y+(ne.y-ee.y)/2;me.bounds&&(me.bounds=new Rectangle(Math.floor(Ve-me.bounds.width/2),Math.floor(Ye-me.bounds.height/2),me.bounds.width,me.bounds.height),me.redraw()),setOpacity(me.node,this.virtualBendOpacity),ee=ne,this.manageLabelHandle&&this.checkLabelHandle(me.bounds)}}if(this.labelShape.redraw(),this.customHandles)for(let ee=0;ee<this.customHandles.length;ee+=1){const te=this.customHandles[ee].shape;if(te){const ne=te.node.style.display;this.customHandles[ee].redraw(),te.node.style.display=ne,te.node.style.visibility=this.isCustomHandleVisible(this.customHandles[ee])?"":"hidden"}}}isCustomHandleVisible(T){return!this.graph.isEditing()&&this.state.view.graph.getSelectionCount()===1}setHandlesVisible(T){for(let k=0;k<this.bends.length;k+=1)this.bends[k].node.style.display=T?"":"none";if(this.virtualBends)for(let k=0;k<this.virtualBends.length;k+=1)this.virtualBends[k].node.style.display=T?"":"none";if(this.labelShape.node.style.display=T?"":"none",this.customHandles)for(let k=0;k<this.customHandles.length;k+=1)this.customHandles[k].setVisible(T)}redrawInnerBends(T,k){for(let Z=1;Z<this.bends.length-1;Z+=1)if(this.bends[Z]!=null)if(this.abspoints[Z]!=null){const{x:ee}=this.abspoints[Z],{y:te}=this.abspoints[Z],ne=this.bends[Z].bounds;if(this.bends[Z].node.style.visibility="visible",this.bends[Z].bounds=new Rectangle(Math.round(ee-ne.width/2),Math.round(te-ne.height/2),ne.width,ne.height),this.manageLabelHandle)this.checkLabelHandle(this.bends[Z].bounds);else if(this.handleImage==null&&this.labelShape.visible&&intersects(this.bends[Z].bounds,this.labelShape.bounds)){const me=HANDLE_SIZE$1+3,Ve=HANDLE_SIZE$1+3;this.bends[Z].bounds=new Rectangle(Math.round(ee-me/2),Math.round(te-Ve/2),me,Ve)}this.bends[Z].redraw()}else this.bends[Z].destroy()}checkLabelHandle(T){const k=this.labelShape.bounds;intersects(T,k)&&(T.getCenterY()<k.getCenterY()?k.y=T.y+T.height:k.y=T.y-k.height)}drawPreview(){try{if(this.isLabel){const T=this.labelShape.bounds,k=new Rectangle(Math.round(this.label.x-T.width/2),Math.round(this.label.y-T.height/2),T.width,T.height);T.equals(k)||(this.labelShape.bounds=k,this.labelShape.redraw())}this.shape!=null&&!equalPoints(this.shape.points,this.abspoints)&&(this.shape.apply(this.state),this.shape.points=this.abspoints.slice(),this.shape.scale=this.state.view.scale,this.shape.isDashed=this.isSelectionDashed(),this.shape.stroke=this.getSelectionColor(),this.shape.strokeWidth=this.getSelectionStrokeWidth()/this.shape.scale/this.shape.scale,this.shape.isShadow=!1,this.shape.redraw()),this.updateParentHighlight()}catch{}}refresh(){this.state!=null&&(this.abspoints=this.getSelectionPoints(this.state),this.points=[],this.destroyBends(this.bends),this.bends=this.createBends(),this.virtualBends&&(this.destroyBends(this.virtualBends),this.virtualBends=this.createVirtualBends()),this.customHandles&&(this.destroyBends(this.customHandles),this.customHandles=this.createCustomHandles()),this.labelShape!=null&&this.labelShape.node!=null&&this.labelShape.node.parentNode!=null&&this.labelShape.node.parentNode.appendChild(this.labelShape.node))}isDestroyed(){return this.shape==null}destroyBends(T){if(T!=null)for(let k=0;k<T.length;k+=1)T[k]!=null&&T[k].destroy()}onDestroy(){if(this.state.view.graph.removeListener(this.escapeHandler),this.marker.destroy(),this.marker=null,this.shape.destroy(),this.shape=null,this.parentHighlight){const T=this.state.cell.getParent(),k=T?this.graph.view.getState(T):null;k&&k.parentHighlight===this.parentHighlight&&(k.parentHighlight=null),this.parentHighlight.destroy(),this.parentHighlight=null}this.labelShape.destroy(),this.labelShape=null,this.constraintHandler.onDestroy(),this.constraintHandler=null,this.virtualBends&&(this.destroyBends(this.virtualBends),this.virtualBends=[]),this.customHandles&&(this.destroyBends(this.customHandles),this.customHandles=[]),this.destroyBends(this.bends),this.bends=[],this.removeHint()}}class EdgeHandlerCellMarker extends CellMarker{constructor(T,k,Z=DEFAULT_VALID_COLOR,ee=DEFAULT_INVALID_COLOR,te=DEFAULT_HOTSPOT){super(T,Z,ee,te),this.getCell=ne=>{let me=super.getCell(ne);if((me===this.edgeHandler.state.cell||!me)&&this.edgeHandler.currentPoint&&(me=this.edgeHandler.graph.getCellAt(this.edgeHandler.currentPoint.x,this.edgeHandler.currentPoint.y)),me&&!me.isConnectable()){const Ve=me.getParent();Ve&&Ve.isVertex()&&Ve.isConnectable()&&(me=Ve)}return me&&(this.graph.isSwimlane(me)&&this.edgeHandler.currentPoint&&this.graph.hitsSwimlaneContent(me,this.edgeHandler.currentPoint.x,this.edgeHandler.currentPoint.y)||!this.edgeHandler.isConnectableCell(me)||me===this.edgeHandler.state.cell||me&&!this.edgeHandler.graph.connectableEdges&&me.isEdge()||this.edgeHandler.state.cell.isAncestor(me))&&(me=null),me&&!me.isConnectable()&&(me=null),me},this.isValidState=ne=>{const me=this.edgeHandler.state.cell.getTerminal(!this.edgeHandler.isSource),Ve=this.edgeHandler.graph.view.getState(me),Ye=this.edgeHandler.graph.view.getTerminalPort(ne,Ve,!this.edgeHandler.isSource),et=Ye?Ye.cell:null,tt=this.edgeHandler.isSource?ne.cell:et,it=this.edgeHandler.isSource?et:ne.cell;return this.edgeHandler.error=this.edgeHandler.validateConnection(tt,it),!this.edgeHandler.error},this.edgeHandler=k}}class EllipseShape extends Shape$1{constructor(T,k,Z,ee=1){super(),this.bounds=T,this.fill=k,this.stroke=Z,this.strokeWidth=ee}paintVertexShape(T,k,Z,ee,te){T.ellipse(k,Z,ee,te),T.fillAndStroke()}}const VertexHandlerConfig={rotationEnabled:!1};class VertexHandler{constructor(T){this.sizers=[],this.singleSizer=!1,this.index=null,this.allowHandleBoundsCheck=!0,this.handleImage=null,this.handlesVisible=!0,this.tolerance=0,this.parentHighlightEnabled=!1,this.rotationRaster=!0,this.rotationCursor="crosshair",this.livePreview=!1,this.movePreviewToFront=!1,this.manageSizers=!1,this.constrainGroupByChildren=!1,this.rotationHandleVSpacing=-16,this.horizontalOffset=0,this.verticalOffset=0,this.minBounds=null,this.x0=0,this.y0=0,this.customHandles=[],this.inTolerance=!1,this.startX=0,this.startY=0,this.rotationShape=null,this.currentAlpha=100,this.startAngle=0,this.startDist=0,this.ghostPreview=null,this.livePreviewActive=!1,this.childOffsetX=0,this.childOffsetY=0,this.parentState=null,this.parentHighlight=null,this.unscaledBounds=null,this.preview=null,this.labelShape=null,this.edgeHandlers=[],this.EMPTY_POINT=new Point$1,this.state=T,this.graph=this.state.view.graph,this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new Rectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.selectionBorder=this.createSelectionShape(this.bounds),this.selectionBorder.dialect=DIALECT.SVG,this.selectionBorder.pointerEvents=!1,this.selectionBorder.rotation=this.state.style.rotation??0,this.selectionBorder.init(this.graph.getView().getOverlayPane()),InternalEvent.redirectMouseEvents(this.selectionBorder.node,this.graph,this.state),this.graph.isCellMovable(this.state.cell)&&this.selectionBorder.setCursor(CURSOR$1.MOVABLE_VERTEX);const k=this.graph.getPlugin("SelectionHandler");if(k&&(k.maxCells<=0||this.graph.getSelectionCount()<k.maxCells)){const Z=this.graph.isCellResizable(this.state.cell);if(this.sizers=[],Z||this.graph.isLabelMovable(this.state.cell)&&this.state.width>=2&&this.state.height>=2){let ee=0;Z&&(this.singleSizer||(this.sizers.push(this.createSizer("nw-resize",ee++)),this.sizers.push(this.createSizer("n-resize",ee++)),this.sizers.push(this.createSizer("ne-resize",ee++)),this.sizers.push(this.createSizer("w-resize",ee++)),this.sizers.push(this.createSizer("e-resize",ee++)),this.sizers.push(this.createSizer("sw-resize",ee++)),this.sizers.push(this.createSizer("s-resize",ee++))),this.sizers.push(this.createSizer("se-resize",ee++)));const te=this.state.cell.getGeometry();te!=null&&!te.relative&&this.graph.isLabelMovable(this.state.cell)&&(this.labelShape=this.createSizer(CURSOR$1.LABEL_HANDLE,InternalEvent.LABEL_HANDLE,LABEL_HANDLE_SIZE,LABEL_HANDLE_FILLCOLOR),this.sizers.push(this.labelShape))}else this.graph.isCellMovable(this.state.cell)&&!this.graph.isCellResizable(this.state.cell)&&this.state.width<2&&this.state.height<2&&(this.labelShape=this.createSizer(CURSOR$1.MOVABLE_VERTEX,InternalEvent.LABEL_HANDLE,void 0,LABEL_HANDLE_FILLCOLOR),this.sizers.push(this.labelShape))}this.isRotationHandleVisible()&&(this.rotationShape=this.createSizer(this.rotationCursor,InternalEvent.ROTATION_HANDLE,HANDLE_SIZE$1+3,HANDLE_FILLCOLOR),this.sizers.push(this.rotationShape)),this.customHandles=this.createCustomHandles(),this.redraw(),this.constrainGroupByChildren&&this.updateMinBounds(),this.escapeHandler=(Z,ee)=>{this.livePreview&&this.index!=null&&(this.state.view.graph.cellRenderer.redraw(this.state,!0),this.state.view.invalidate(this.state.cell),this.state.invalid=!1,this.state.view.validate()),this.reset()},this.state.view.graph.addListener(InternalEvent.ESCAPE,this.escapeHandler)}isRotationEnabled(){return VertexHandlerConfig.rotationEnabled}isRotationHandleVisible(){const T=this.graph.getPlugin("SelectionHandler"),k=T?T.maxCells<=0||this.graph.getSelectionCount()<T.maxCells:!0;return this.graph.isEnabled()&&this.isRotationEnabled()&&this.graph.isCellRotatable(this.state.cell)&&k}isConstrainedEvent(T){return isShiftDown(T.getEvent())||this.state.style.aspect==="fixed"}isCenteredEvent(T,k){return!1}createCustomHandles(){return[]}updateMinBounds(){const T=this.graph.getChildCells(this.state.cell);if(T.length>0&&(this.minBounds=this.graph.view.getBounds(T),this.minBounds)){const k=this.state.view.scale,Z=this.state.view.translate;this.minBounds.x-=this.state.x,this.minBounds.y-=this.state.y,this.minBounds.x/=k,this.minBounds.y/=k,this.minBounds.width/=k,this.minBounds.height/=k,this.x0=this.state.x/k-Z.x,this.y0=this.state.y/k-Z.y}}getSelectionBounds(T){return new Rectangle(Math.round(T.x),Math.round(T.y),Math.round(T.width),Math.round(T.height))}createParentHighlightShape(T){return this.createSelectionShape(T)}createSelectionShape(T){const k=new RectangleShape(Rectangle.fromRectangle(T),NONE,this.getSelectionColor());return k.strokeWidth=this.getSelectionStrokeWidth(),k.isDashed=this.isSelectionDashed(),k}getSelectionColor(){return VERTEX_SELECTION_COLOR}getSelectionStrokeWidth(){return VERTEX_SELECTION_STROKEWIDTH}isSelectionDashed(){return VERTEX_SELECTION_DASHED}createSizer(T,k,Z=HANDLE_SIZE$1,ee=HANDLE_FILLCOLOR){const te=new Rectangle(0,0,Z,Z),ne=this.createSizerShape(te,k,ee);return ne.bounds&&ne.isHtmlAllowed()&&this.state.text&&this.state.text.node.parentNode===this.graph.container?(ne.bounds.height-=1,ne.bounds.width-=1,ne.dialect=DIALECT.STRICTHTML,ne.init(this.graph.container)):(ne.dialect=this.graph.dialect!==DIALECT.SVG?DIALECT.MIXEDHTML:DIALECT.SVG,ne.init(this.graph.getView().getOverlayPane())),InternalEvent.redirectMouseEvents(ne.node,this.graph,this.state),this.graph.isEnabled()&&ne.setCursor(T),this.isSizerVisible(k)||(ne.visible=!1),ne}isSizerVisible(T){return!0}createSizerShape(T,k,Z=HANDLE_FILLCOLOR){if(this.handleImage){T=new Rectangle(T.x,T.y,this.handleImage.width,this.handleImage.height);const ee=new ImageShape(T,this.handleImage.src);return ee.preserveImageAspect=!1,ee}return k===InternalEvent.ROTATION_HANDLE?new EllipseShape(T,Z,HANDLE_STROKECOLOR):new RectangleShape(T,Z,HANDLE_STROKECOLOR)}moveSizerTo(T,k,Z){T&&T.bounds&&(T.bounds.x=Math.floor(k-T.bounds.width/2),T.bounds.y=Math.floor(Z-T.bounds.height/2),T.node&&T.node.style.display!=="none"&&T.redraw())}getHandleForEvent(T){const k=isMouseEvent(T.getEvent())?1:this.tolerance,Z=this.allowHandleBoundsCheck&&k>0?new Rectangle(T.getGraphX()-k,T.getGraphY()-k,2*k,2*k):null,ee=te=>{const ne=te&&te.constructor!==ImageShape&&this.allowHandleBoundsCheck?te.strokeWidth+te.svgStrokeTolerance:null,me=ne?new Rectangle(T.getGraphX()-Math.floor(ne/2),T.getGraphY()-Math.floor(ne/2),ne,ne):Z;return te&&te.bounds&&(T.isSource(te)||me&&intersects(te.bounds,me)&&te.node.style.display!=="none"&&te.node.style.visibility!=="hidden")};if(ee(this.rotationShape))return InternalEvent.ROTATION_HANDLE;if(ee(this.labelShape))return InternalEvent.LABEL_HANDLE;for(let te=0;te<this.sizers.length;te+=1)if(ee(this.sizers[te]))return te;if(this.customHandles!=null&&this.isCustomHandleEvent(T)){for(let te=this.customHandles.length-1;te>=0;te--)if(ee(this.customHandles[te].shape))return InternalEvent.CUSTOM_HANDLE-te}return null}isCustomHandleEvent(T){return!0}mouseDown(T,k){if(!k.isConsumed()&&this.graph.isEnabled()){const Z=this.getHandleForEvent(k);Z&&(this.start(k.getGraphX(),k.getGraphY(),Z),k.consume())}}isLivePreviewBorder(){return this.state.shape&&this.state.shape.fill===NONE&&this.state.shape.stroke===NONE}start(T,k,Z){if(this.livePreviewActive=this.livePreview&&this.state.cell.getChildCount()===0,this.inTolerance=!0,this.childOffsetX=0,this.childOffsetY=0,this.index=Z,this.startX=T,this.startY=k,this.index<=InternalEvent.CUSTOM_HANDLE&&this.isGhostPreview())this.ghostPreview=this.createGhostPreview();else{const{model:ee}=this.state.view.graph,te=this.state.cell.getParent();if(this.state.view.currentRoot!==te&&te&&(te.isVertex()||te.isEdge())&&(this.parentState=this.state.view.graph.view.getState(te)),this.selectionBorder.node.style.display=Z===InternalEvent.ROTATION_HANDLE?"inline":"none",(!this.livePreviewActive||this.isLivePreviewBorder())&&(this.preview=this.createSelectionShape(this.bounds),!(Client.IS_SVG&&Number(this.state.style.rotation||"0")!==0)&&this.state.text!=null&&this.state.text.node.parentNode===this.graph.container?(this.preview.dialect=DIALECT.STRICTHTML,this.preview.init(this.graph.container)):(this.preview.dialect=DIALECT.SVG,this.preview.init(this.graph.view.getOverlayPane()))),Z===InternalEvent.ROTATION_HANDLE){const ne=this.getRotationHandlePosition(),me=ne.x-this.state.getCenterX(),Ve=ne.y-this.state.getCenterY();this.startAngle=me!==0?Math.atan(Ve/me)*180/Math.PI+90:0,this.startDist=Math.sqrt(me*me+Ve*Ve)}if(this.livePreviewActive){this.hideSizers(),Z===InternalEvent.ROTATION_HANDLE&&this.rotationShape?this.rotationShape.node.style.display="":Z===InternalEvent.LABEL_HANDLE&&this.labelShape?this.labelShape.node.style.display="":this.sizers[Z]?this.sizers[Z].node.style.display="":Z<=InternalEvent.CUSTOM_HANDLE&&this.customHandles[InternalEvent.CUSTOM_HANDLE-Z].setVisible(!0);const ne=this.state.cell.getEdges();this.edgeHandlers=[];const me=this.graph.getPlugin("SelectionCellsHandler");for(let Ve=0;Ve<ne.length;Ve+=1){const Ye=me==null?void 0:me.getHandler(ne[Ve]);Ye&&this.edgeHandlers.push(Ye)}}}}createGhostPreview(){const T=this.graph.cellRenderer.createShape(this.state);return T.init(this.graph.view.getOverlayPane()),T.scale=this.state.view.scale,T.bounds=this.bounds,T.outline=!0,T}setHandlesVisible(T){this.handlesVisible=T;for(let k=0;k<this.sizers.length;k+=1)this.sizers[k].node.style.display=T?"":"none";for(let k=0;k<this.customHandles.length;k+=1)this.customHandles[k].setVisible(T)}hideSizers(){this.setHandlesVisible(!1)}checkTolerance(T){this.inTolerance&&this.startX!==null&&this.startY!==null&&(isMouseEvent(T.getEvent())||Math.abs(T.getGraphX()-this.startX)>this.graph.getEventTolerance()||Math.abs(T.getGraphY()-this.startY)>this.graph.getEventTolerance())&&(this.inTolerance=!1)}updateHint(T){}removeHint(){}roundAngle(T){return Math.round(T*10)/10}roundLength(T){return Math.round(T*100)/100}mouseMove(T,k){!k.isConsumed()&&this.index!=null?(this.checkTolerance(k),this.inTolerance||(this.index<=InternalEvent.CUSTOM_HANDLE?this.customHandles!=null&&(this.customHandles[InternalEvent.CUSTOM_HANDLE-this.index].processEvent(k),this.customHandles[InternalEvent.CUSTOM_HANDLE-this.index].active=!0,this.ghostPreview!=null?(this.ghostPreview.apply(this.state),this.ghostPreview.strokeWidth=this.getSelectionStrokeWidth()/this.ghostPreview.scale/this.ghostPreview.scale,this.ghostPreview.isDashed=this.isSelectionDashed(),this.ghostPreview.stroke=this.getSelectionColor(),this.ghostPreview.redraw(),this.selectionBounds!=null&&(this.selectionBorder.node.style.display="none")):(this.movePreviewToFront&&this.moveToFront(),this.customHandles[InternalEvent.CUSTOM_HANDLE-this.index].positionChanged())):this.index===InternalEvent.LABEL_HANDLE?this.moveLabel(k):(this.index===InternalEvent.ROTATION_HANDLE?this.rotateVertex(k):this.resizeVertex(k),this.updateHint(k))),k.consume()):!this.graph.isMouseDown&&this.getHandleForEvent(k)&&k.consume(!1)}isGhostPreview(){return this.state.cell.getChildCount()>0}moveLabel(T){const k=new Point$1(T.getGraphX(),T.getGraphY()),Z=this.graph.view.translate,{scale:ee}=this.graph.view;this.graph.isGridEnabledEvent(T.getEvent())&&(k.x=(this.graph.snap(k.x/ee-Z.x)+Z.x)*ee,k.y=(this.graph.snap(k.y/ee-Z.y)+Z.y)*ee);const te=this.rotationShape?this.sizers.length-2:this.sizers.length-1;this.moveSizerTo(this.sizers[te],k.x,k.y)}rotateVertex(T){const k=new Point$1(T.getGraphX(),T.getGraphY());let Z=this.state.x+this.state.width/2-k.x,ee=this.state.y+this.state.height/2-k.y;if(this.currentAlpha=Z!==0?Math.atan(ee/Z)*180/Math.PI+90:ee<0?180:0,Z>0&&(this.currentAlpha-=180),this.currentAlpha-=this.startAngle,this.rotationRaster&&this.graph.isGridEnabledEvent(T.getEvent())){let te;Z=k.x-this.state.getCenterX(),ee=k.y-this.state.getCenterY();const ne=Math.sqrt(Z*Z+ee*ee);ne-this.startDist<2?te=15:ne-this.startDist<25?te=5:te=1,this.currentAlpha=Math.round(this.currentAlpha/te)*te}else this.currentAlpha=this.roundAngle(this.currentAlpha);this.selectionBorder.rotation=this.currentAlpha,this.selectionBorder.redraw(),this.livePreviewActive&&this.redrawHandles()}resizeVertex(T){const k=new Point$1(this.state.getCenterX(),this.state.getCenterY()),Z=toRadians(this.state.style.rotation??0),ee=new Point$1(T.getGraphX(),T.getGraphY()),te=this.graph.view.translate,{scale:ne}=this.graph.view;let me=Math.cos(-Z),Ve=Math.sin(-Z),Ye=ee.x-this.startX,et=ee.y-this.startY;const tt=me*Ye-Ve*et,it=Ve*Ye+me*et;Ye=tt,et=it;const st=this.state.cell.getGeometry();if(st&&this.index!==null&&(this.unscaledBounds=this.union(st,Ye/ne,et/ne,this.index,this.graph.isGridEnabledEvent(T.getEvent()),1,new Point$1(0,0),this.isConstrainedEvent(T),this.isCenteredEvent(this.state,T))),st&&!st.relative){let nt=this.graph.getMaximumGraphBounds();if(nt!=null&&this.parentState!=null&&(nt=Rectangle.fromRectangle(nt),nt.x-=(this.parentState.x-te.x*ne)/ne,nt.y-=(this.parentState.y-te.y*ne)/ne),this.graph.isConstrainChild(this.state.cell)){let rt=this.graph.getCellContainmentArea(this.state.cell);if(rt!=null){const lt=this.graph.getOverlap(this.state.cell);lt>0&&(rt=Rectangle.fromRectangle(rt),rt.x-=rt.width*lt,rt.y-=rt.height*lt,rt.width+=2*rt.width*lt,rt.height+=2*rt.height*lt),nt?(nt=Rectangle.fromRectangle(nt),nt.intersect(rt)):nt=rt}}nt&&this.unscaledBounds&&(this.unscaledBounds.x<nt.x&&(this.unscaledBounds.width-=nt.x-this.unscaledBounds.x,this.unscaledBounds.x=nt.x),this.unscaledBounds.y<nt.y&&(this.unscaledBounds.height-=nt.y-this.unscaledBounds.y,this.unscaledBounds.y=nt.y),this.unscaledBounds.x+this.unscaledBounds.width>nt.x+nt.width&&(this.unscaledBounds.width-=this.unscaledBounds.x+this.unscaledBounds.width-nt.x-nt.width),this.unscaledBounds.y+this.unscaledBounds.height>nt.y+nt.height&&(this.unscaledBounds.height-=this.unscaledBounds.y+this.unscaledBounds.height-nt.y-nt.height))}if(this.unscaledBounds){const nt=this.bounds;let lt=this.graph.getChildOffsetForCell(this.state.cell);lt==null&&(lt=new Point$1(0,0)),this.bounds=new Rectangle((this.parentState?this.parentState.x:te.x*ne)+lt.x*ne+this.unscaledBounds.x*ne,(this.parentState?this.parentState.y:te.y*ne)+lt.y*ne+this.unscaledBounds.y*ne,this.unscaledBounds.width*ne,this.unscaledBounds.height*ne),st&&st.relative&&this.parentState&&(this.bounds.x+=this.state.x-this.parentState.x,this.bounds.y+=this.state.y-this.parentState.y),me=Math.cos(Z),Ve=Math.sin(Z);const ot=new Point$1(this.bounds.getCenterX(),this.bounds.getCenterY());Ye=ot.x-k.x,et=ot.y-k.y;const ht=me*Ye-Ve*et,dt=Ve*Ye+me*et,ct=ht-Ye,ut=dt-et,ft=this.bounds.x-this.state.x,vt=this.bounds.y-this.state.y,mt=me*ft-Ve*vt,_t=Ve*ft+me*vt;this.bounds.x+=ct,this.bounds.y+=ut,this.unscaledBounds.x=this.roundLength(this.unscaledBounds.x+ct/ne),this.unscaledBounds.y=this.roundLength(this.unscaledBounds.y+ut/ne),this.unscaledBounds.width=this.roundLength(this.unscaledBounds.width),this.unscaledBounds.height=this.roundLength(this.unscaledBounds.height),!this.state.cell.isCollapsed()&&(ct!==0||ut!==0)?(this.childOffsetX=this.state.x-this.bounds.x+mt,this.childOffsetY=this.state.y-this.bounds.y+_t):(this.childOffsetX=0,this.childOffsetY=0),nt.equals(this.bounds)||(this.livePreviewActive&&this.updateLivePreview(T),this.preview!=null?this.drawPreview():this.updateParentHighlight())}}updateLivePreview(T){const{scale:k}=this.graph.view,Z=this.graph.view.translate,ee=this.state.clone();this.state.x=this.bounds.x,this.state.y=this.bounds.y,this.state.origin=new Point$1(this.state.x/k-Z.x,this.state.y/k-Z.y),this.state.width=this.bounds.width,this.state.height=this.bounds.height;let te=this.state.absoluteOffset;te=new Point$1(te.x,te.y),this.state.absoluteOffset.x=0,this.state.absoluteOffset.y=0;const ne=this.state.cell.getGeometry();if(ne!=null){const me=ne.offset||this.EMPTY_POINT;me!=null&&!ne.relative&&(this.state.absoluteOffset.x=this.state.view.scale*me.x,this.state.absoluteOffset.y=this.state.view.scale*me.y),this.state.view.updateVertexLabelOffset(this.state)}this.state.view.graph.cellRenderer.redraw(this.state,!0),this.state.view.invalidate(this.state.cell),this.state.invalid=!1,this.state.view.validate(),this.redrawHandles(),this.movePreviewToFront&&this.moveToFront(),this.state.control!=null&&this.state.control.node!=null&&(this.state.control.node.style.visibility="hidden"),this.state.setState(ee)}moveToFront(){(this.state.text&&this.state.text.node&&this.state.text.node.nextSibling||this.state.shape&&this.state.shape.node&&this.state.shape.node.nextSibling&&(!this.state.text||this.state.shape.node.nextSibling!==this.state.text.node))&&(this.state.shape&&this.state.shape.node&&this.state.shape.node.parentNode&&this.state.shape.node.parentNode.appendChild(this.state.shape.node),this.state.text&&this.state.text.node&&this.state.text.node.parentNode&&this.state.text.node.parentNode.appendChild(this.state.text.node))}mouseUp(T,k){if(this.index!=null&&this.state!=null){const Z=new Point$1(k.getGraphX(),k.getGraphY()),{index:ee}=this;this.index=null,this.ghostPreview==null&&(this.state.view.invalidate(this.state.cell,!1,!1),this.state.view.validate()),this.graph.batchUpdate(()=>{if(ee<=InternalEvent.CUSTOM_HANDLE){if(this.customHandles!=null){const te=this.state.view.graph.getCellStyle(this.state.cell);this.customHandles[InternalEvent.CUSTOM_HANDLE-ee].active=!1,this.customHandles[InternalEvent.CUSTOM_HANDLE-ee].execute(k),this.customHandles!=null&&this.customHandles[InternalEvent.CUSTOM_HANDLE-ee]!=null&&(this.state.style=te,this.customHandles[InternalEvent.CUSTOM_HANDLE-ee].positionChanged())}}else if(ee===InternalEvent.ROTATION_HANDLE)if(this.currentAlpha!=null){const te=this.currentAlpha-(this.state.style.rotation??0);te!==0&&this.rotateCell(this.state.cell,te)}else this.rotateClick();else{const te=this.graph.isGridEnabledEvent(k.getEvent()),ne=toRadians(this.state.style.rotation??0),me=Math.cos(-ne),Ve=Math.sin(-ne);let Ye=Z.x-this.startX,et=Z.y-this.startY;const tt=me*Ye-Ve*et,it=Ve*Ye+me*et;Ye=tt,et=it;const st=this.graph.view.scale,nt=this.isRecursiveResize(this.state,k);this.resizeCell(this.state.cell,this.roundLength(Ye/st),this.roundLength(et/st),ee,te,this.isConstrainedEvent(k),nt)}}),k.consume(),this.reset(),this.redrawHandles()}}isRecursiveResize(T,k){return this.graph.isRecursiveResize(this.state)}rotateClick(){}rotateCell(T,k,Z){if(k!==0){const ee=this.graph.getDataModel();if(T.isVertex()||T.isEdge()){if(!T.isEdge()){const me=(this.graph.getCurrentCellStyle(T).rotation||0)+k;this.graph.setCellStyles("rotation",me,[T])}let te=T.getGeometry();if(te&&Z){const ne=Z.getGeometry();if(ne!=null&&!Z.isEdge()&&(te=te.clone(),te.rotate(k,new Point$1(ne.width/2,ne.height/2)),ee.setGeometry(T,te)),T.isVertex()&&!te.relative||T.isEdge()){const me=T.getChildCount();for(let Ve=0;Ve<me;Ve+=1)this.rotateCell(T.getChildAt(Ve),k,T)}}}}}reset(){if(this.index!==null&&this.sizers[this.index].node.style.display==="none"&&(this.sizers[this.index].node.style.display=""),this.index=null,this.preview&&(this.preview.destroy(),this.preview=null),this.ghostPreview&&(this.ghostPreview.destroy(),this.ghostPreview=null),this.livePreviewActive){for(let T=0;T<this.sizers.length;T+=1)this.sizers[T].node.style.display="";this.state.control&&this.state.control.node&&(this.state.control.node.style.visibility="")}for(let T=0;T<this.customHandles.length;T+=1)this.customHandles[T].active?(this.customHandles[T].active=!1,this.customHandles[T].reset()):this.customHandles[T].setVisible(!0);this.selectionBorder.node.style.display="inline",this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new Rectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.drawPreview(),this.removeHint(),this.redrawHandles(),this.edgeHandlers=[],this.handlesVisible=!0,this.unscaledBounds=null}resizeCell(T,k,Z,ee,te,ne,me){let Ve=T.getGeometry();if(Ve){if(ee===InternalEvent.LABEL_HANDLE&&this.labelShape&&this.labelShape.bounds){const Ye=-toRadians(this.state.style.rotation??0),et=Math.cos(Ye),tt=Math.sin(Ye),{scale:it}=this.graph.view,st=getRotatedPoint(new Point$1(Math.round((this.labelShape.bounds.getCenterX()-this.startX)/it),Math.round((this.labelShape.bounds.getCenterY()-this.startY)/it)),et,tt);Ve=Ve.clone(),Ve.offset==null?Ve.offset=st:(Ve.offset.x+=st.x,Ve.offset.y+=st.y),this.graph.model.setGeometry(T,Ve)}else if(this.unscaledBounds){const{scale:Ye}=this.graph.view;(this.childOffsetX!==0||this.childOffsetY!==0)&&this.moveChildren(T,Math.round(this.childOffsetX/Ye),Math.round(this.childOffsetY/Ye)),this.graph.resizeCell(T,this.unscaledBounds,me)}}}moveChildren(T,k,Z){const ee=this.graph.getDataModel(),te=T.getChildCount();for(let ne=0;ne<te;ne+=1){const me=T.getChildAt(ne);let Ve=me.getGeometry();Ve!=null&&(Ve=Ve.clone(),Ve.translate(k,Z),ee.setGeometry(me,Ve))}}union(T,k,Z,ee,te,ne,me,Ve,Ye){if(te=te&&this.graph.isGridEnabled(),this.singleSizer){let ut=T.x+T.width+k,ft=T.y+T.height+Z;te&&(ut=this.graph.snap(ut/ne)*ne,ft=this.graph.snap(ft/ne)*ne);const vt=new Rectangle(T.x,T.y,0,0);return vt.add(new Rectangle(ut,ft,0,0)),vt}const et=T.width,tt=T.height;let it=T.x-me.x*ne,st=it+et,nt=T.y-me.y*ne,rt=nt+tt;const lt=it+et/2,ot=nt+tt/2;ee>4?(rt+=Z,te?rt=this.graph.snap(rt/ne)*ne:rt=Math.round(rt/ne)*ne):ee<3&&(nt+=Z,te?nt=this.graph.snap(nt/ne)*ne:nt=Math.round(nt/ne)*ne),ee===0||ee===3||ee===5?(it+=k,te?it=this.graph.snap(it/ne)*ne:it=Math.round(it/ne)*ne):(ee===2||ee===4||ee===7)&&(st+=k,te?st=this.graph.snap(st/ne)*ne:st=Math.round(st/ne)*ne);let ht=st-it,dt=rt-nt;if(Ve){const ut=this.state.cell.getGeometry();if(ut!=null){const ft=ut.width/ut.height;ee===1||ee===2||ee===7||ee===6?ht=dt*ft:dt=ht/ft,ee===0&&(it=st-ht,nt=rt-dt)}}if(Ye){ht+=ht-et,dt+=dt-tt;const ut=lt-(it+ht/2),ft=ot-(nt+dt/2);it+=ut,nt+=ft,st+=ut,rt+=ft}ht<0&&(it+=ht,ht=Math.abs(ht)),dt<0&&(nt+=dt,dt=Math.abs(dt));const ct=new Rectangle(it+me.x*ne,nt+me.y*ne,ht,dt);return this.minBounds!=null&&(ct.width=Math.max(ct.width,this.minBounds.x*ne+this.minBounds.width*ne+Math.max(0,this.x0*ne-ct.x)),ct.height=Math.max(ct.height,this.minBounds.y*ne+this.minBounds.height*ne+Math.max(0,this.y0*ne-ct.y))),ct}redraw(T){this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new Rectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.drawPreview(),T||this.redrawHandles()}getHandlePadding(){const T=new Point$1(0,0);let k=this.tolerance;return this.sizers.length>0&&this.sizers[0].bounds&&(this.bounds.width<2*this.sizers[0].bounds.width+2*k||this.bounds.height<2*this.sizers[0].bounds.height+2*k)&&(k/=2,T.x=this.sizers[0].bounds.width+k,T.y=this.sizers[0].bounds.height+k),T}getSizerBounds(){return this.bounds}redrawHandles(){let T=this.getSizerBounds();const k=this.tolerance;this.horizontalOffset=0,this.verticalOffset=0;for(let Z=0;Z<this.customHandles.length;Z+=1){const ee=this.customHandles[Z].shape;if(ee){const te=ee.node.style.display;this.customHandles[Z].redraw(),ee.node.style.display=te,ee.node.style.visibility=this.handlesVisible&&this.isCustomHandleVisible(this.customHandles[Z])?"":"hidden"}}if(this.sizers.length>0&&this.sizers[0]){if(this.index===null&&this.manageSizers&&this.sizers.length>=8){const te=this.getHandlePadding();this.horizontalOffset=te.x,this.verticalOffset=te.y,(this.horizontalOffset!==0||this.verticalOffset!==0)&&(T=new Rectangle(T.x,T.y,T.width,T.height),T.x-=this.horizontalOffset/2,T.width+=this.horizontalOffset,T.y-=this.verticalOffset/2,T.height+=this.verticalOffset),this.sizers.length>=8&&(this.sizers[0].bounds&&(T.width<2*this.sizers[0].bounds.width+2*k||T.height<2*this.sizers[0].bounds.height+2*k)?(this.sizers[0].node.style.display="none",this.sizers[2].node.style.display="none",this.sizers[5].node.style.display="none",this.sizers[7].node.style.display="none"):this.handlesVisible&&(this.sizers[0].node.style.display="",this.sizers[2].node.style.display="",this.sizers[5].node.style.display="",this.sizers[7].node.style.display=""))}const Z=T.x+T.width,ee=T.y+T.height;if(this.singleSizer)this.moveSizerTo(this.sizers[0],Z,ee);else{const te=T.x+T.width/2,ne=T.y+T.height/2;if(this.sizers.length>=8){const me=["nw-resize","n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize"],Ve=toRadians(this.state.style.rotation??0),Ye=Math.cos(Ve),et=Math.sin(Ve),tt=Math.round(Ve*4/Math.PI),it=new Point$1(T.getCenterX(),T.getCenterY());let st=getRotatedPoint(new Point$1(T.x,T.y),Ye,et,it);this.moveSizerTo(this.sizers[0],st.x,st.y),this.sizers[0].setCursor(me[mod(0+tt,me.length)]),st.x=te,st.y=T.y,st=getRotatedPoint(st,Ye,et,it),this.moveSizerTo(this.sizers[1],st.x,st.y),this.sizers[1].setCursor(me[mod(1+tt,me.length)]),st.x=Z,st.y=T.y,st=getRotatedPoint(st,Ye,et,it),this.moveSizerTo(this.sizers[2],st.x,st.y),this.sizers[2].setCursor(me[mod(2+tt,me.length)]),st.x=T.x,st.y=ne,st=getRotatedPoint(st,Ye,et,it),this.moveSizerTo(this.sizers[3],st.x,st.y),this.sizers[3].setCursor(me[mod(7+tt,me.length)]),st.x=Z,st.y=ne,st=getRotatedPoint(st,Ye,et,it),this.moveSizerTo(this.sizers[4],st.x,st.y),this.sizers[4].setCursor(me[mod(3+tt,me.length)]),st.x=T.x,st.y=ee,st=getRotatedPoint(st,Ye,et,it),this.moveSizerTo(this.sizers[5],st.x,st.y),this.sizers[5].setCursor(me[mod(6+tt,me.length)]),st.x=te,st.y=ee,st=getRotatedPoint(st,Ye,et,it),this.moveSizerTo(this.sizers[6],st.x,st.y),this.sizers[6].setCursor(me[mod(5+tt,me.length)]),st.x=Z,st.y=ee,st=getRotatedPoint(st,Ye,et,it),this.moveSizerTo(this.sizers[7],st.x,st.y),this.sizers[7].setCursor(me[mod(4+tt,me.length)]),st.x=te+this.state.absoluteOffset.x,st.y=ne+this.state.absoluteOffset.y,st=getRotatedPoint(st,Ye,et,it),this.moveSizerTo(this.sizers[8],st.x,st.y)}else this.state.width>=2&&this.state.height>=2?this.moveSizerTo(this.sizers[0],te+this.state.absoluteOffset.x,ne+this.state.absoluteOffset.y):this.moveSizerTo(this.sizers[0],this.state.x,this.state.y)}}if(this.rotationShape){const Z=toRadians(this.currentAlpha),ee=Math.cos(Z),te=Math.sin(Z),ne=new Point$1(this.state.getCenterX(),this.state.getCenterY()),me=getRotatedPoint(this.getRotationHandlePosition(),ee,te,ne);this.rotationShape.node!=null&&(this.moveSizerTo(this.rotationShape,me.x,me.y),this.rotationShape.node.style.visibility=this.state.view.graph.isEditing()||!this.handlesVisible?"hidden":"")}if(this.selectionBorder!=null&&(this.selectionBorder.rotation=this.state.style.rotation??0),this.edgeHandlers!=null)for(let Z=0;Z<this.edgeHandlers.length;Z+=1)this.edgeHandlers[Z].redraw()}isCustomHandleVisible(T){return!this.graph.isEditing()&&this.state.view.graph.getSelectionCount()===1}getRotationHandlePosition(){return new Point$1(this.bounds.x+this.bounds.width/2,this.bounds.y+this.rotationHandleVSpacing)}isParentHighlightVisible(){const T=this.state.cell.getParent();return T?!this.graph.isCellSelected(T):!1}updateParentHighlight(){if(!this.isDestroyed()){const T=this.isParentHighlightVisible(),k=this.state.cell.getParent(),Z=k?this.graph.view.getState(k):null;if(this.parentHighlight)if(k&&k.isVertex()&&T){const ee=this.parentHighlight.bounds;Z&&ee&&(ee.x!==Z.x||ee.y!==Z.y||ee.width!==Z.width||ee.height!==Z.height)&&(this.parentHighlight.bounds=Rectangle.fromRectangle(Z),this.parentHighlight.redraw())}else Z!=null&&Z.parentHighlight===this.parentHighlight&&(Z.parentHighlight=null),this.parentHighlight.destroy(),this.parentHighlight=null;else this.parentHighlightEnabled&&T&&k&&k.isVertex()&&Z!=null&&Z.parentHighlight==null&&(this.parentHighlight=this.createParentHighlightShape(Z),this.parentHighlight.dialect=DIALECT.SVG,this.parentHighlight.pointerEvents=!1,this.parentHighlight.rotation=Z.style.rotation??0,this.parentHighlight.init(this.graph.getView().getOverlayPane()),this.parentHighlight.redraw(),Z.parentHighlight=this.parentHighlight)}}drawPreview(){this.preview!=null&&(this.graph.fireEvent(new EventObject("CELL_RESIZING",{width:this.bounds.width/this.graph.view.scale,height:this.bounds.height/this.graph.view.scale})),this.preview.bounds=this.bounds,this.preview.node.parentNode===this.graph.container&&(this.preview.bounds.width=Math.max(0,this.preview.bounds.width-1),this.preview.bounds.height=Math.max(0,this.preview.bounds.height-1)),this.preview.rotation=this.state.style.rotation??0,this.preview.redraw()),this.selectionBorder.bounds=this.getSelectionBorderBounds(),this.selectionBorder.redraw(),this.updateParentHighlight()}getSelectionBorderBounds(){return this.bounds}isDestroyed(){return this.selectionBorder==null}onDestroy(){if(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=()=>{},this.preview&&(this.preview.destroy(),this.preview=null),this.parentHighlight){const T=this.state.cell.getParent(),k=T?this.graph.view.getState(T):null;k&&k.parentHighlight===this.parentHighlight&&(k.parentHighlight=null),this.parentHighlight.destroy(),this.parentHighlight=null}this.ghostPreview&&(this.ghostPreview.destroy(),this.ghostPreview=null),this.selectionBorder&&this.selectionBorder.destroy(),this.labelShape=null,this.removeHint();for(let T=0;T<this.sizers.length;T+=1)this.sizers[T].destroy();this.sizers=[];for(let T=0;T<this.customHandles.length;T+=1)this.customHandles[T].destroy();this.customHandles=[]}}const Qi=class Qi{};Qi.resources={},Qi.extension=".txt",Qi.resourcesEncoded=!1,Qi.loadDefaultBundle=!0,Qi.loadSpecialBundle=!0,Qi.isLanguageSupported=T=>Client.languages!=null?Client.languages.indexOf(T)>=0:!0,Qi.getDefaultBundle=(T,k)=>Qi.loadDefaultBundle||!Qi.isLanguageSupported(k)?T+Qi.extension:null,Qi.getSpecialBundle=(T,k)=>{if(Client.languages==null||!Qi.isLanguageSupported(k)){const Z=k.indexOf("-");Z>0&&(k=k.substring(0,Z))}return Qi.loadSpecialBundle&&Qi.isLanguageSupported(k)&&k!=Client.defaultLanguage?`${T}_${k}${Qi.extension}`:null},Qi.add=(T,k=null,Z=null)=>{if(k=k??(Client.language!=null?Client.language.toLowerCase():NONE),k!==NONE){const ee=Qi.getDefaultBundle(T,k),te=Qi.getSpecialBundle(T,k),ne=()=>{if(te!=null)if(Z)get(te,me=>{Qi.parse(me.getText()),Z()},()=>{Z()});else try{const me=load(te);me.isReady()&&Qi.parse(me.getText())}catch{}else Z!=null&&Z()};if(ee!=null)if(Z)get(ee,me=>{Qi.parse(me.getText()),ne()},()=>{ne()});else try{const me=load(ee);me.isReady()&&Qi.parse(me.getText()),ne()}catch{}else ne()}},Qi.parse=T=>{if(T!=null){const k=T.split(`
`);for(let Z=0;Z<k.length;Z+=1)if(k[Z].charAt(0)!=="#"){const ee=k[Z].indexOf("=");if(ee>0){const te=k[Z].substring(0,ee);let ne=k[Z].length;k[Z].charCodeAt(ne-1)===13&&ne--;let me=k[Z].substring(ee+1,ne);Qi.resourcesEncoded?(me=me.replace(/\\(?=u[a-fA-F\d]{4})/g,"%"),Qi.resources[te]=unescape(me)):Qi.resources[te]=me}}}},Qi.get=(T,k=null,Z=null)=>{let ee=Qi.resources[T];return ee==null&&(ee=Z),ee!=null&&k!=null&&(ee=Qi.replacePlaceholders(ee,k)),ee},Qi.replacePlaceholders=(T,k)=>{const Z=[];let ee=null;for(let te=0;te<T.length;te+=1){const ne=T.charAt(te);ne==="{"?ee="":ee!=null&&ne==="}"?(ee=parseInt(ee)-1,ee>=0&&ee<k.length&&Z.push(k[ee]),ee=null):ee!=null?ee+=ne:Z.push(ne)}return Z.join("")},Qi.loadResources=T=>{Qi.add(`${Client.basePath}/resources/editor`,null,()=>{Qi.add(`${Client.basePath}/resources/graph`,null,T)})};let Translations=Qi;class ElbowEdgeHandler extends EdgeHandler{constructor(T){super(T),this.flipEnabled=!0,this.doubleClickOrientationResource=Client.language!=="none"?"doubleClickOrientation":""}createBends(){const T=[];let k=this.createHandleShape(0);return this.initBend(k),k.setCursor(CURSOR$1.TERMINAL_HANDLE),T.push(k),T.push(this.createVirtualBend(Z=>{!isConsumed(Z)&&this.flipEnabled&&(this.graph.flipEdge(this.state.cell),InternalEvent.consume(Z))})),this.points.push(new Point$1(0,0)),k=this.createHandleShape(2),this.initBend(k),k.setCursor(CURSOR$1.TERMINAL_HANDLE),T.push(k),T}createVirtualBend(T){const k=this.createHandleShape();return this.initBend(k,T),k.setCursor(this.getCursorForBend()),this.graph.isCellBendable(this.state.cell)||(k.node.style.display="none"),k}getCursorForBend(){return this.state.style.edgeStyle===EDGESTYLE.TOPTOBOTTOM||this.state.style.edgeStyle===EDGESTYLE.ELBOW&&this.state.style.elbow===ELBOW.VERTICAL?"row-resize":"col-resize"}getTooltipForNode(T){let k=null;return this.bends!=null&&this.bends[1]!=null&&(T===this.bends[1].node||T.parentNode===this.bends[1].node)&&(k=this.doubleClickOrientationResource,k=Translations.get(k)||k),k}convertPoint(T,k){const Z=this.graph.getView().getScale(),ee=this.graph.getView().getTranslate(),{origin:te}=this.state;return k&&(T.x=this.graph.snap(T.x),T.y=this.graph.snap(T.y)),T.x=Math.round(T.x/Z-ee.x-te.x),T.y=Math.round(T.y/Z-ee.y-te.y),T}redrawInnerBends(T,k){const Z=this.state.cell.getGeometry(),ee=this.state.absolutePoints;let te=null;ee.length>1?(T=ee[1],k=ee[ee.length-2]):Z.points!=null&&Z.points.length>0&&(te=ee[0]),te==null?te=new Point$1(T.x+(k.x-T.x)/2,T.y+(k.y-T.y)/2):te=new Point$1(this.graph.getView().scale*(te.x+this.graph.getView().translate.x+this.state.origin.x),this.graph.getView().scale*(te.y+this.graph.getView().translate.y+this.state.origin.y));const ne=this.bends[1].bounds;let me=ne.width,Ve=ne.height,Ye=new Rectangle(Math.round(te.x-me/2),Math.round(te.y-Ve/2),me,Ve);this.manageLabelHandle?this.checkLabelHandle(Ye):this.handleImage==null&&this.labelShape.visible&&this.labelShape.bounds&&intersects(Ye,this.labelShape.bounds)&&(me=HANDLE_SIZE$1+3,Ve=HANDLE_SIZE$1+3,Ye=new Rectangle(Math.floor(te.x-me/2),Math.floor(te.y-Ve/2),me,Ve)),this.bends[1].bounds=Ye,this.bends[1].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[1].bounds)}}class EdgeSegmentHandler extends ElbowEdgeHandler{constructor(T){super(T),this.points=[]}getCurrentPoints(){let T=this.state.absolutePoints;const k=Math.max(1,this.graph.view.scale);if(T.length===2&&T[0]&&T[1]||T.length===3&&T[0]&&T[1]&&T[2]&&(Math.abs(T[0].x-T[1].x)<k&&Math.abs(T[1].x-T[2].x)<k||Math.abs(T[0].y-T[1].y)<k&&Math.abs(T[1].y-T[2].y)<k)){const Z=T[0].x+(T[T.length-1].x-T[0].x)/2,ee=T[0].y+(T[T.length-1].y-T[0].y)/2;T=[T[0],new Point$1(Z,ee),new Point$1(Z,ee),T[T.length-1]]}return T}getPreviewPoints(T){if(this.isSource||this.isTarget)return super.getPreviewPoints(T);const k=this.getCurrentPoints();let Z=this.convertPoint(k[0].clone(),!1);T=this.convertPoint(T.clone(),!1);let ee=[];for(let te=1;te<k.length;te+=1){const ne=this.convertPoint(k[te].clone(),!1);te===this.index&&(Math.round(Z.x-ne.x)===0&&(Z.x=T.x,ne.x=T.x),Math.round(Z.y-ne.y)===0&&(Z.y=T.y,ne.y=T.y)),te<k.length-1&&ee.push(ne),Z=ne}if(ee.length===1){const te=this.state.getVisibleTerminalState(!0),ne=this.state.getVisibleTerminalState(!1),me=this.state.view.getScale(),Ve=this.state.view.getTranslate(),Ye=ee[0].x*me+Ve.x,et=ee[0].y*me+Ve.y;(te!=null&&contains(te,Ye,et)||ne!=null&&contains(ne,Ye,et))&&(ee=[T,T])}return ee}updatePreviewState(T,k,Z,ee){if(super.updatePreviewState(T,k,Z,ee),!this.isSource&&!this.isTarget){k=this.convertPoint(k.clone(),!1);const te=T.absolutePoints;let ne=te[0],me=te[1],Ve=[];for(let st=2;st<te.length;st+=1){const nt=te[st];(Math.round(ne.x-me.x)!==0||Math.round(me.x-nt.x)!==0)&&(Math.round(ne.y-me.y)!==0||Math.round(me.y-nt.y)!==0)&&Ve.push(this.convertPoint(me.clone(),!1)),ne=me,me=nt}const Ye=this.state.getVisibleTerminalState(!0),et=this.state.getVisibleTerminalState(!1),tt=this.state.absolutePoints,it=te[te.length-1];if(Ve.length===0&&te[0]&&it&&(Math.round(te[0].x-it.x)===0||Math.round(te[0].y-it.y)===0))Ve=[k,k];else if(te.length===5&&Ve.length===2&&Ye!=null&&et!=null&&tt!=null&&Math.round(tt[0].x-tt[tt.length-1].x)===0){const st=this.graph.getView(),nt=st.getScale(),rt=st.getTranslate();let lt=st.getRoutingCenterY(Ye)/nt-rt.y;const ot=this.graph.getConnectionConstraint(T,Ye,!0);if(ot!=null){const ct=this.graph.getConnectionPoint(Ye,ot);ct!=null&&(this.convertPoint(ct,!1),lt=ct.y)}let ht=st.getRoutingCenterY(et)/nt-rt.y;const dt=this.graph.getConnectionConstraint(T,et,!1);if(dt){const ct=this.graph.getConnectionPoint(et,dt);ct!=null&&(this.convertPoint(ct,!1),ht=ct.y)}Ve=[new Point$1(k.x,lt),new Point$1(k.x,ht)]}this.points=Ve,T.view.updateFixedTerminalPoints(T,Ye,et),T.view.updatePoints(T,this.points,Ye,et),T.view.updateFloatingTerminalPoints(T,Ye,et)}}connect(T,k,Z,ee,te){const ne=this.graph.getDataModel();let me=T.getGeometry(),Ve=null;if(me!=null&&me.points!=null&&me.points.length>0){const Ye=this.abspoints;let et=Ye[0],tt=Ye[1];Ve=[];for(let it=2;it<Ye.length;it+=1){const st=Ye[it];et&&tt&&st&&(Math.round(et.x-tt.x)!==0||Math.round(tt.x-st.x)!==0)&&(Math.round(et.y-tt.y)!==0||Math.round(tt.y-st.y)!==0)&&Ve.push(this.convertPoint(tt.clone(),!1)),et=tt,tt=st}}return this.graph.batchUpdate(()=>{Ve!=null&&(me=T.getGeometry(),me!=null&&(me=me.clone(),me.points=Ve,ne.setGeometry(T,me))),T=super.connect(T,k,Z,ee,te)}),T}getTooltipForNode(T){return null}start(T,k,Z){super.start(T,k,Z),this.bends!=null&&this.bends[Z]!=null&&!this.isSource&&!this.isTarget&&setOpacity(this.bends[Z].node,100)}createBends(){const T=[];let k=this.createHandleShape(0);this.initBend(k),k.setCursor(CURSOR$1.TERMINAL_HANDLE),T.push(k);const Z=this.getCurrentPoints();if(this.graph.isCellBendable(this.state.cell)){this.points==null&&(this.points=[]);for(let ee=0;ee<Z.length-1;ee+=1){k=this.createVirtualBend(),T.push(k);let te=Math.round(Z[ee].x-Z[ee+1].x)===0;Math.round(Z[ee].y-Z[ee+1].y)===0&&ee<Z.length-2&&(te=Math.round(Z[ee].x-Z[ee+2].x)===0),k.setCursor(te?"col-resize":"row-resize"),this.points.push(new Point$1(0,0))}}return k=this.createHandleShape(Z.length),this.initBend(k),k.setCursor(CURSOR$1.TERMINAL_HANDLE),T.push(k),T}redraw(){this.refresh(),super.redraw()}redrawInnerBends(T,k){if(this.graph.isCellBendable(this.state.cell)){const Z=this.getCurrentPoints();if(Z!=null&&Z.length>1){let ee=!1;if(Z.length===4&&Z[0]&&Z[1]&&Z[2]&&Z[3]&&Math.round(Z[1].x-Z[2].x)===0&&Math.round(Z[1].y-Z[2].y)===0)if(ee=!0,Math.round(Z[0].y-Z[Z.length-1].y)===0){const te=Z[0].x+(Z[Z.length-1].x-Z[0].x)/2;Z[1]=new Point$1(te,Z[1].y),Z[2]=new Point$1(te,Z[2].y)}else{const te=Z[0].y+(Z[Z.length-1].y-Z[0].y)/2;Z[1]=new Point$1(Z[1].x,te),Z[2]=new Point$1(Z[2].x,te)}for(let te=0;te<Z.length-1;te+=1)if(this.bends[te+1]!=null){T=Z[te],k=Z[te+1];const ne=new Point$1(T.x+(k.x-T.x)/2,T.y+(k.y-T.y)/2),me=this.bends[te+1].bounds;this.bends[te+1].bounds=new Rectangle(Math.floor(ne.x-me.width/2),Math.floor(ne.y-me.height/2),me.width,me.height),this.bends[te+1].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[te+1].bounds)}ee&&(setOpacity(this.bends[1].node,this.virtualBendOpacity),setOpacity(this.bends[3].node,this.virtualBendOpacity))}}}}class SelectionChange{constructor(T,k=[],Z=[]){this.graph=T,this.added=k.slice(),this.removed=Z.slice()}execute(){const T=this.graph.getSelectionModel();for(const k of this.removed)T.cellRemoved(k);for(const k of this.added)T.cellAdded(k);[this.added,this.removed]=[this.removed,this.added],T.fireEvent(new EventObject(InternalEvent.CHANGE,{added:this.added,removed:this.removed}))}}class GraphSelectionModel extends EventSource{constructor(T){super(),this.doneResource=Client.language!=="none"?"done":"",this.updatingSelectionResource=Client.language!=="none"?"updatingSelection":"",this.singleSelection=!1,this.graph=T,this.cells=[]}isSingleSelection(){return this.singleSelection}setSingleSelection(T){this.singleSelection=T}isSelected(T){return this.cells.indexOf(T)>=0}isEmpty(){return this.cells.length===0}clear(){this.changeSelection(null,this.cells)}setCell(T){this.setCells(T?[T]:[])}setCells(T){this.singleSelection&&(T=[this.getFirstSelectableCell(T)]);const k=[];for(let Z=0;Z<T.length;Z+=1)this.graph.isCellSelectable(T[Z])&&k.push(T[Z]);this.changeSelection(k,this.cells)}getFirstSelectableCell(T){for(let k=0;k<T.length;k+=1)if(this.graph.isCellSelectable(T[k]))return T[k];return null}addCell(T){this.addCells([T])}addCells(T){let k=null;if(this.singleSelection){k=this.cells;const ee=this.getFirstSelectableCell(T);T=ee?[ee]:[]}const Z=[];for(let ee=0;ee<T.length;ee+=1)!this.isSelected(T[ee])&&this.graph.isCellSelectable(T[ee])&&Z.push(T[ee]);this.changeSelection(Z,k)}removeCell(T){this.removeCells([T])}removeCells(T){const k=[];for(let Z=0;Z<T.length;Z+=1)this.isSelected(T[Z])&&k.push(T[Z]);this.changeSelection(null,k)}changeSelection(T=null,k=null){if(T&&T.length>0&&T[0]||k&&k.length>0&&k[0]){const Z=new SelectionChange(this.graph,T||[],k||[]);Z.execute();const ee=new UndoableEdit(this.graph,!1);ee.add(Z),this.fireEvent(new EventObject(InternalEvent.UNDO,{edit:ee}))}}cellAdded(T){this.isSelected(T)||this.cells.push(T)}cellRemoved(T){const k=this.cells.indexOf(T);k>=0&&this.cells.splice(k,1)}}class RhombusShape extends Shape$1{constructor(T,k,Z,ee=1){super(),this.bounds=T,this.fill=k,this.stroke=Z,this.strokeWidth=ee}isRoundable(){return!0}paintVertexShape(T,k,Z,ee,te){var Ye;const ne=ee/2,me=te/2,Ve=(((Ye=this.style)==null?void 0:Ye.arcSize)??LINE_ARCSIZE)/2;T.begin(),this.addPoints(T,[new Point$1(k+ne,Z),new Point$1(k+ee,Z+me),new Point$1(k+ne,Z+te),new Point$1(k,Z+me)],this.isRounded,Ve,!0),T.fillAndStroke()}}class CylinderShape extends Shape$1{constructor(T,k,Z,ee=1){super(),this.maxHeight=40,this.svgStrokeTolerance=0,this.bounds=T,this.fill=k,this.stroke=Z,this.strokeWidth=ee}paintVertexShape(T,k,Z,ee,te){T.translate(k,Z),T.begin(),this.redrawPath(T,k,Z,ee,te,!1),T.fillAndStroke(),(!this.outline||!this.style||!(this.style.backgroundOutline??!1))&&(T.setShadow(!1),T.begin(),this.redrawPath(T,k,Z,ee,te,!0),T.stroke())}getCylinderSize(T,k,Z,ee){return Math.min(this.maxHeight,Math.round(ee/5))}redrawPath(T,k,Z,ee,te,ne=!1){const me=this.getCylinderSize(k,Z,ee,te);(ne&&this.fill!==NONE||!ne&&this.fill===NONE)&&(T.moveTo(0,me),T.curveTo(0,2*me,ee,2*me,ee,me),ne||(T.stroke(),T.begin())),ne||(T.moveTo(0,me),T.curveTo(0,-me/3,ee,-me/3,ee,me),T.lineTo(ee,te-me),T.curveTo(ee,te+me/3,0,te+me/3,0,te-me),T.close())}}class ActorShape extends Shape$1{constructor(T=null,k=NONE,Z=NONE,ee=1){super(),this.bounds=T,this.fill=k,this.stroke=Z,this.strokeWidth=ee}paintVertexShape(T,k,Z,ee,te){T.translate(k,Z),T.begin(),this.redrawPath(T,k,Z,ee,te),T.fillAndStroke()}redrawPath(T,k,Z,ee,te){const ne=ee/3;T.moveTo(0,te),T.curveTo(0,3*te/5,0,2*te/5,ee/2,2*te/5),T.curveTo(ee/2-ne,2*te/5,ee/2-ne,0,ee/2,0),T.curveTo(ee/2+ne,0,ee/2+ne,2*te/5,ee/2,2*te/5),T.curveTo(ee,2*te/5,ee,3*te/5,ee,te),T.close()}}class TriangleShape extends ActorShape{constructor(){super()}isRoundable(){return!0}redrawPath(T,k,Z,ee,te){var me;const ne=(((me=this.style)==null?void 0:me.arcSize)??LINE_ARCSIZE)/2;this.addPoints(T,[new Point$1(0,0),new Point$1(ee,.5*te),new Point$1(0,te)],this.isRounded,ne,!0)}}class HexagonShape extends ActorShape{constructor(){super()}redrawPath(T,k,Z,ee,te){var me;const ne=(((me=this.style)==null?void 0:me.arcSize)??LINE_ARCSIZE)/2;this.addPoints(T,[new Point$1(.25*ee,0),new Point$1(.75*ee,0),new Point$1(ee,.5*te),new Point$1(.75*ee,te),new Point$1(.25*ee,te),new Point$1(0,.5*te)],this.isRounded,ne,!0)}}class CloudShape extends ActorShape{constructor(T,k,Z,ee=1){super(),this.bounds=T,this.fill=k,this.stroke=Z,this.strokeWidth=ee}redrawPath(T,k,Z,ee,te){T.moveTo(.25*ee,.25*te),T.curveTo(.05*ee,.25*te,0,.5*te,.16*ee,.55*te),T.curveTo(0,.66*te,.18*ee,.9*te,.31*ee,.8*te),T.curveTo(.4*ee,te,.7*ee,te,.8*ee,.8*te),T.curveTo(ee,.8*te,ee,.6*te,.875*ee,.5*te),T.curveTo(ee,.3*te,.8*ee,.1*te,.625*ee,.2*te),T.curveTo(.5*ee,.05*te,.3*ee,.05*te,.25*ee,.25*te),T.close()}}class LineShape extends Shape$1{constructor(T,k,Z=1,ee=!1){super(),this.bounds=T,this.stroke=k,this.strokeWidth=Z,this.vertical=ee}paintVertexShape(T,k,Z,ee,te){if(T.begin(),this.vertical){const ne=k+ee/2;T.moveTo(ne,Z),T.lineTo(ne,Z+te)}else{const ne=Z+te/2;T.moveTo(k,ne),T.lineTo(k+ee,ne)}T.stroke()}}class ArrowShape extends Shape$1{constructor(T,k,Z,ee=1,te=ARROW_WIDTH,ne=ARROW_SPACING,me=ARROW_SIZE){super(),this.points=T,this.fill=k,this.stroke=Z,this.strokeWidth=ee,this.arrowWidth=te,this.spacing=ne,this.endSize=me}augmentBoundingBox(T){super.augmentBoundingBox(T);const k=Math.max(this.arrowWidth,this.endSize);T.grow((k/2+this.strokeWidth)*this.scale)}paintEdgeShape(T,k){const Z=ARROW_SPACING,ee=ARROW_WIDTH,te=ARROW_SIZE,ne=k[0],me=k[k.length-1],Ve=me.x-ne.x,Ye=me.y-ne.y,et=Math.sqrt(Ve*Ve+Ye*Ye),tt=et-2*Z-te,it=Ve/et,st=Ye/et,nt=tt*it,rt=tt*st,lt=ee*st/3,ot=-30*it/3,ht=ne.x-lt/2+Z*it,dt=ne.y-ot/2+Z*st,ct=ht+lt,ut=dt+ot,ft=ct+nt,vt=ut+rt,mt=ft+lt,_t=vt+ot,Et=mt-3*lt,Tt=_t-3*ot;T.begin(),T.moveTo(ht,dt),T.lineTo(ct,ut),T.lineTo(ft,vt),T.lineTo(mt,_t),T.lineTo(me.x-Z*it,me.y-Z*st),T.lineTo(Et,Tt),T.lineTo(Et+lt,Tt+ot),T.close(),T.fillAndStroke()}}class ArrowConnectorShape extends Shape$1{constructor(T,k,Z,ee=1,te=ARROW_WIDTH,ne=ARROW_SPACING,me=ARROW_SIZE/5){super(),this.useSvgBoundingBox=!0,this.points=T,this.fill=k,this.stroke=Z,this.strokeWidth=ee,this.arrowWidth=te,this.arrowSpacing=ne,this.startSize=ARROW_SIZE/5,this.endSize=me}isRoundable(){return!0}resetStyles(){super.resetStyles(),this.arrowSpacing=ARROW_SPACING}apply(T){super.apply(T),this.style&&this.style.startSize!=null&&this.style.endSize!=null&&(this.startSize=this.style.startSize*3,this.endSize=this.style.endSize*3)}augmentBoundingBox(T){super.augmentBoundingBox(T);let k=this.getEdgeWidth();this.isMarkerStart()&&(k=Math.max(k,this.getStartArrowWidth())),this.isMarkerEnd()&&(k=Math.max(k,this.getEndArrowWidth())),T.grow((k/2+this.strokeWidth)*this.scale)}paintEdgeShape(T,k){var It;let Z=this.strokeWidth;this.outline&&(Z=Math.max(1,((It=this.style)==null?void 0:It.strokeWidth)??0));const ee=this.getStartArrowWidth()+Z,te=this.getEndArrowWidth()+Z,ne=this.outline?this.getEdgeWidth()+Z:this.getEdgeWidth(),me=this.isOpenEnded(),Ve=this.isMarkerStart(),Ye=this.isMarkerEnd(),et=me?0:this.arrowSpacing+Z/2,tt=this.startSize+Z,it=this.endSize+Z,st=this.isArrowRounded(),nt=k[k.length-1];let rt=1;for(;rt<k.length-1&&k[rt].x===k[0].x&&k[rt].y===k[0].y;)rt++;const lt=k[rt].x-k[0].x,ot=k[rt].y-k[0].y,ht=Math.sqrt(lt*lt+ot*ot);if(ht===0)return;let dt=lt/ht,ct,ut=dt,ft=ot/ht,vt,mt=ft,_t=ne*ft,Et=-ne*dt;const Tt=[];st?T.setLineJoin("round"):k.length>2&&T.setMiterLimit(1.42),T.begin();const xt=dt,yt=ft;if(Ve&&!me)this.paintMarker(T,k[0].x,k[0].y,dt,ft,tt,ee,ne,et,!0);else{const Ot=k[0].x+_t/2+et*dt,Dt=k[0].y+Et/2+et*ft,Mt=k[0].x-_t/2+et*dt,$t=k[0].y-Et/2+et*ft;me?(T.moveTo(Ot,Dt),Tt.push(()=>{T.lineTo(Mt,$t)})):(T.moveTo(Mt,$t),T.lineTo(Ot,Dt))}let St=0,At=0,Ct=0;for(let Ot=0;Ot<k.length-2;Ot+=1){const Dt=relativeCcw(k[Ot].x,k[Ot].y,k[Ot+1].x,k[Ot+1].y,k[Ot+2].x,k[Ot+2].y);if(St=k[Ot+2].x-k[Ot+1].x,At=k[Ot+2].y-k[Ot+1].y,Ct=Math.sqrt(St*St+At*At),Ct!==0){ut=St/Ct,mt=At/Ct;const Mt=dt*ut+ft*mt,$t=Math.max(Math.sqrt((Mt+1)/2),.04);ct=dt+ut,vt=ft+mt;const Ht=Math.sqrt(ct*ct+vt*vt);if(Ht!==0){ct/=Ht,vt/=Ht;const Ft=Math.max($t,Math.min(this.strokeWidth/200+.04,.35)),jt=Dt!==0&&st?Math.max(.1,Ft):Math.max($t,.06),Gt=k[Ot+1].x+vt*ne/2/jt,Kt=k[Ot+1].y-ct*ne/2/jt,Pt=k[Ot+1].x-vt*ne/2/jt,kt=k[Ot+1].y+ct*ne/2/jt;if(Dt===0||!st)T.lineTo(Gt,Kt),((zt,Wt)=>{Tt.push(()=>{T.lineTo(zt,Wt)})})(Pt,kt);else if(Dt===-1){const zt=Pt+ft*ne,Wt=kt-dt*ne,si=Pt+mt*ne,ei=kt-ut*ne;T.lineTo(zt,Wt),T.quadTo(Gt,Kt,si,ei),((Zt,Jt)=>{Tt.push(()=>{T.lineTo(Zt,Jt)})})(Pt,kt)}else T.lineTo(Gt,Kt),((zt,Wt)=>{const si=Gt-ft*ne,ei=Kt+dt*ne,Zt=Gt-mt*ne,Jt=Kt+ut*ne;Tt.push(()=>{T.quadTo(zt,Wt,si,ei)}),Tt.push(()=>{T.lineTo(Zt,Jt)})})(Pt,kt);dt=ut,ft=mt}}}if(_t=ne*mt,Et=-ne*ut,Ye&&!me)this.paintMarker(T,nt.x,nt.y,-dt,-ft,it,te,ne,et,!1);else{T.lineTo(nt.x-et*ut+_t/2,nt.y-et*mt+Et/2);const Ot=nt.x-et*ut-_t/2,Dt=nt.y-et*mt-Et/2;me?(T.moveTo(Ot,Dt),Tt.splice(0,0,()=>{T.moveTo(Ot,Dt)})):T.lineTo(Ot,Dt)}for(let Ot=Tt.length-1;Ot>=0;Ot--)Tt[Ot]();me?(T.end(),T.stroke()):(T.close(),T.fillAndStroke()),T.setShadow(!1),T.setMiterLimit(4),st&&T.setLineJoin("flat"),k.length>2&&(T.setMiterLimit(4),Ve&&!me&&(T.begin(),this.paintMarker(T,k[0].x,k[0].y,xt,yt,tt,ee,ne,et,!0),T.stroke(),T.end()),Ye&&!me&&(T.begin(),this.paintMarker(T,nt.x,nt.y,-dt,-ft,it,te,ne,et,!0),T.stroke(),T.end()))}paintMarker(T,k,Z,ee,te,ne,me,Ve,Ye,et){const tt=Ve/me,it=Ve*te/2,st=-Ve*ee/2,nt=(Ye+ne)*ee,rt=(Ye+ne)*te;et?T.moveTo(k-it+nt,Z-st+rt):T.lineTo(k-it+nt,Z-st+rt),T.lineTo(k-it/tt+nt,Z-st/tt+rt),T.lineTo(k+Ye*ee,Z+Ye*te),T.lineTo(k+it/tt+nt,Z+st/tt+rt),T.lineTo(k+it+nt,Z+st+rt)}isArrowRounded(){return this.isRounded}getStartArrowWidth(){return ARROW_WIDTH}getEndArrowWidth(){return ARROW_WIDTH}getEdgeWidth(){return ARROW_WIDTH/3}isOpenEnded(){return!1}isMarkerStart(){var T;return(((T=this.style)==null?void 0:T.startArrow)??NONE)!==NONE}isMarkerEnd(){var T;return(((T=this.style)==null?void 0:T.endArrow)??NONE)!==NONE}}class DoubleEllipseShape extends Shape$1{constructor(T,k,Z,ee=1){super(),this.bounds=T,this.fill=k,this.stroke=Z,this.strokeWidth=ee}paintBackground(T,k,Z,ee,te){T.ellipse(k,Z,ee,te),T.fillAndStroke()}paintForeground(T,k,Z,ee,te){var ne;if(!this.outline){const me=((ne=this.style)==null?void 0:ne.margin)??Math.min(3+this.strokeWidth,Math.min(ee/5,te/5));k+=me,Z+=me,ee-=2*me,te-=2*me,ee>0&&te>0&&T.ellipse(k,Z,ee,te),T.stroke()}}getLabelBounds(T){var Z;const k=((Z=this.style)==null?void 0:Z.margin)??Math.min(3+this.strokeWidth,Math.min(T.width/5/this.scale,T.height/5/this.scale))*this.scale;return new Rectangle(T.x+k,T.y+k,T.width-2*k,T.height-2*k)}}class SwimlaneShape extends Shape$1{constructor(T,k,Z,ee=1){super(),this.imageSize=16,this.imageSrc=null,this.bounds=T,this.fill=k,this.stroke=Z,this.strokeWidth=ee}isRoundable(T,k,Z,ee,te){return!0}getTitleSize(){var T;return Math.max(0,((T=this.style)==null?void 0:T.startSize)??DEFAULT_STARTSIZE)}getLabelBounds(T){var tt,it;const k=this.getTitleSize(),Z=new Rectangle(T.x,T.y,T.width,T.height),ee=this.isHorizontal(),te=((tt=this.style)==null?void 0:tt.flipH)??!1,ne=((it=this.style)==null?void 0:it.flipV)??!1,me=this.direction===DIRECTION.NORTH||this.direction===DIRECTION.SOUTH,Ve=ee==!me,Ye=!Ve&&te!==(this.direction===DIRECTION.SOUTH||this.direction===DIRECTION.WEST),et=Ve&&ne!==(this.direction===DIRECTION.SOUTH||this.direction===DIRECTION.WEST);if(me){const st=Math.min(Z.width,k*this.scale);(Ye||et)&&(Z.x+=Z.width-st),Z.width=st}else{const st=Math.min(Z.height,k*this.scale);(Ye||et)&&(Z.y+=Z.height-st),Z.height=st}return Z}getGradientBounds(T,k,Z,ee,te){let ne=this.getTitleSize();return this.isHorizontal()?(ne=Math.min(ne,te),new Rectangle(k,Z,ee,ne)):(ne=Math.min(ne,ee),new Rectangle(k,Z,ne,te))}getSwimlaneArcSize(T,k,Z){var te,ne,me;if(((te=this.style)==null?void 0:te.absoluteArcSize)??!1)return Math.min(T/2,Math.min(k/2,((ne=this.style)==null?void 0:ne.arcSize)??LINE_ARCSIZE/2));const ee=(((me=this.style)==null?void 0:me.arcSize)??RECTANGLE_ROUNDING_FACTOR*100)/100;return Z*ee*3}isHorizontal(){var T;return((T=this.style)==null?void 0:T.horizontal)??!0}paintVertexShape(T,k,Z,ee,te){var tt,it,st;let ne=this.getTitleSize();const me=((tt=this.style)==null?void 0:tt.swimlaneFillColor)??NONE,Ve=((it=this.style)==null?void 0:it.swimlaneLine)??!0;let Ye=0;this.isHorizontal()?ne=Math.min(ne,te):ne=Math.min(ne,ee),T.translate(k,Z),this.isRounded?(Ye=this.getSwimlaneArcSize(ee,te,ne),Ye=Math.min((this.isHorizontal()?te:ee)-ne,Math.min(ne,Ye)),this.paintRoundedSwimlane(T,k,Z,ee,te,ne,Ye,me,Ve)):this.paintSwimlane(T,k,Z,ee,te,ne,me,Ve);const et=((st=this.style)==null?void 0:st.separatorColor)??NONE;if(this.paintSeparator(T,k,Z,ee,te,ne,et),this.imageSrc){const nt=this.getImageBounds(k,Z,ee,te);T.image(nt.x-k,nt.y-Z,nt.width,nt.height,this.imageSrc,!1,!1,!1)}this.glass&&(T.setShadow(!1),this.paintGlassEffect(T,0,0,ee,ne,Ye))}paintSwimlane(T,k,Z,ee,te,ne,me,Ve){T.begin();let Ye=!0;this.style&&this.style.pointerEvents!=null&&(Ye=this.style.pointerEvents),!Ye&&this.fill===NONE&&(T.pointerEvents=!1),this.isHorizontal()?(T.moveTo(0,ne),T.lineTo(0,0),T.lineTo(ee,0),T.lineTo(ee,ne),T.fillAndStroke(),ne<te&&((me===NONE||!Ye)&&(T.pointerEvents=!1),me!==NONE&&T.setFillColor(me),T.begin(),T.moveTo(0,ne),T.lineTo(0,te),T.lineTo(ee,te),T.lineTo(ee,ne),me===NONE?T.stroke():T.fillAndStroke())):(T.moveTo(ne,0),T.lineTo(0,0),T.lineTo(0,te),T.lineTo(ne,te),T.fillAndStroke(),ne<ee&&((me===NONE||!Ye)&&(T.pointerEvents=!1),me!==NONE&&T.setFillColor(me),T.begin(),T.moveTo(ne,0),T.lineTo(ee,0),T.lineTo(ee,te),T.lineTo(ne,te),me===NONE?T.stroke():T.fillAndStroke())),Ve&&this.paintDivider(T,k,Z,ee,te,ne,me===NONE)}paintRoundedSwimlane(T,k,Z,ee,te,ne,me,Ve,Ye){T.begin();let et=!0;this.style&&this.style.pointerEvents!=null&&(et=this.style.pointerEvents),!et&&this.fill===NONE&&(T.pointerEvents=!1),this.isHorizontal()?(T.moveTo(ee,ne),T.lineTo(ee,me),T.quadTo(ee,0,ee-Math.min(ee/2,me),0),T.lineTo(Math.min(ee/2,me),0),T.quadTo(0,0,0,me),T.lineTo(0,ne),T.fillAndStroke(),ne<te&&((Ve===NONE||!et)&&(T.pointerEvents=!1),Ve!==NONE&&T.setFillColor(Ve),T.begin(),T.moveTo(0,ne),T.lineTo(0,te-me),T.quadTo(0,te,Math.min(ee/2,me),te),T.lineTo(ee-Math.min(ee/2,me),te),T.quadTo(ee,te,ee,te-me),T.lineTo(ee,ne),Ve===NONE?T.stroke():T.fillAndStroke())):(T.moveTo(ne,0),T.lineTo(me,0),T.quadTo(0,0,0,Math.min(te/2,me)),T.lineTo(0,te-Math.min(te/2,me)),T.quadTo(0,te,me,te),T.lineTo(ne,te),T.fillAndStroke(),ne<ee&&((Ve===NONE||!et)&&(T.pointerEvents=!1),Ve!==NONE&&T.setFillColor(Ve),T.begin(),T.moveTo(ne,te),T.lineTo(ee-me,te),T.quadTo(ee,te,ee,te-Math.min(te/2,me)),T.lineTo(ee,Math.min(te/2,me)),T.quadTo(ee,0,ee-me,0),T.lineTo(ne,0),Ve===NONE?T.stroke():T.fillAndStroke())),Ye&&this.paintDivider(T,k,Z,ee,te,ne,Ve===NONE)}paintDivider(T,k,Z,ee,te,ne,me){me||T.setShadow(!1),T.begin(),this.isHorizontal()?(T.moveTo(0,ne),T.lineTo(ee,ne)):(T.moveTo(ne,0),T.lineTo(ne,te)),T.stroke()}paintSeparator(T,k,Z,ee,te,ne,me){me!==NONE&&(T.setStrokeColor(me),T.setDashed(!0),T.begin(),this.isHorizontal()?(T.moveTo(ee,ne),T.lineTo(ee,te)):(T.moveTo(ne,0),T.lineTo(ee,0)),T.stroke(),T.setDashed(!1))}getImageBounds(T,k,Z,ee){return this.isHorizontal()?new Rectangle(T+Z-this.imageSize,k,this.imageSize,this.imageSize):new Rectangle(T,k,this.imageSize,this.imageSize)}}class LabelShape extends RectangleShape{constructor(T,k,Z,ee){super(T,k,Z,ee),this.imageSize=DEFAULT_IMAGESIZE,this.imageSrc=null,this.spacing=2,this.indicatorSize=10,this.indicatorSpacing=2,this.indicatorImageSrc=null}init(T){super.init(T),this.indicatorShape&&(this.indicator=new this.indicatorShape,this.indicator.dialect=this.dialect,this.indicator.init(this.node))}redraw(){this.indicator&&(this.indicator.fill=this.indicatorColor,this.indicator.stroke=this.indicatorStrokeColor,this.indicator.gradient=this.indicatorGradientColor,this.indicator.direction=this.indicatorDirection,this.indicator.redraw()),super.redraw()}isHtmlAllowed(){return super.isHtmlAllowed()&&this.indicatorColor===NONE&&!!this.indicatorShape}paintForeground(T,k,Z,ee,te){this.paintImage(T,k,Z,ee,te),this.paintIndicator(T,k,Z,ee,te),super.paintForeground(T,k,Z,ee,te)}paintImage(T,k,Z,ee,te){if(this.imageSrc){const ne=this.getImageBounds(k,Z,ee,te);T.image(ne.x,ne.y,ne.width,ne.height,this.imageSrc,!1,!1,!1)}}getImageBounds(T,k,Z,ee){var et,tt,it,st,nt;const te=((et=this.style)==null?void 0:et.imageAlign)??ALIGN.LEFT,ne=((tt=this.style)==null?void 0:tt.verticalAlign)??ALIGN.MIDDLE,me=((it=this.style)==null?void 0:it.imageWidth)??DEFAULT_IMAGESIZE,Ve=((st=this.style)==null?void 0:st.imageHeight)??DEFAULT_IMAGESIZE,Ye=((nt=this.style)==null?void 0:nt.spacing)??this.spacing+5;return te===ALIGN.CENTER?T+=(Z-me)/2:te===ALIGN.RIGHT?T+=Z-me-Ye:T+=Ye,ne===ALIGN.TOP?k+=Ye:ne===ALIGN.BOTTOM?k+=ee-Ve-Ye:k+=(ee-Ve)/2,new Rectangle(T,k,me,Ve)}paintIndicator(T,k,Z,ee,te){if(this.indicator)this.indicator.bounds=this.getIndicatorBounds(k,Z,ee,te),this.indicator.paint(T);else if(this.indicatorImageSrc){const ne=this.getIndicatorBounds(k,Z,ee,te);T.image(ne.x,ne.y,ne.width,ne.height,this.indicatorImageSrc,!1,!1,!1)}}getIndicatorBounds(T,k,Z,ee){var et,tt,it,st;const te=((et=this.style)==null?void 0:et.imageAlign)??ALIGN.LEFT,ne=((tt=this.style)==null?void 0:tt.verticalAlign)??ALIGN.MIDDLE,me=((it=this.style)==null?void 0:it.indicatorWidth)??this.indicatorSize,Ve=((st=this.style)==null?void 0:st.indicatorHeight)??this.indicatorSize,Ye=this.spacing+5;return te===ALIGN.RIGHT?T+=Z-me-Ye:te===ALIGN.CENTER?T+=(Z-me)/2:T+=Ye,ne===ALIGN.BOTTOM?k+=ee-Ve-Ye:ne===ALIGN.TOP?k+=Ye:k+=(ee-Ve)/2,new Rectangle(T,k,me,Ve)}redrawHtmlShape(){for(super.redrawHtmlShape();this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);if(this.imageSrc&&this.bounds){const T=document.createElement("img");T.style.position="relative",T.setAttribute("border","0");const k=this.getImageBounds(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height);k.x-=this.bounds.x,k.y-=this.bounds.y,T.style.left=`${Math.round(k.x)}px`,T.style.top=`${Math.round(k.y)}px`,T.style.width=`${Math.round(k.width)}px`,T.style.height=`${Math.round(k.height)}px`,T.src=this.imageSrc,this.node.appendChild(T)}}}let isDefaultElementsRegistered=!1;function registerDefaultShapes(){if(!isDefaultElementsRegistered){const Y=[[SHAPE.ACTOR,ActorShape],[SHAPE.ARROW,ArrowShape],[SHAPE.ARROW_CONNECTOR,ArrowConnectorShape],[SHAPE.CONNECTOR,ConnectorShape$1],[SHAPE.CLOUD,CloudShape],[SHAPE.CYLINDER,CylinderShape],[SHAPE.DOUBLE_ELLIPSE,DoubleEllipseShape],[SHAPE.ELLIPSE,EllipseShape],[SHAPE.HEXAGON,HexagonShape],[SHAPE.IMAGE,ImageShape],[SHAPE.LABEL,LabelShape],[SHAPE.LINE,LineShape],[SHAPE.RECTANGLE,RectangleShape],[SHAPE.RHOMBUS,RhombusShape],[SHAPE.SWIMLANE,SwimlaneShape],[SHAPE.TRIANGLE,TriangleShape]];for(const[T,k]of Y)CellRenderer.registerShape(T,k);isDefaultElementsRegistered=!0}}const EllipsePerimeter=(Y,T,k,Z=!1)=>{const{x:ee}=Y,{y:te}=Y,ne=Y.width/2,me=Y.height/2,Ve=ee+ne,Ye=te+me,et=k.x,tt=k.y,it=parseInt(String(et-Ve)),st=parseInt(String(tt-Ye));if(it===0&&st!==0)return new Point$1(Ve,Ye+me*st/Math.abs(st));if(it===0&&st===0)return new Point$1(et,tt);if(Z){if(tt>=te&&tt<=te+Y.height){const xt=tt-Ye;let yt=Math.sqrt(ne*ne*(1-xt*xt/(me*me)))||0;return et<=ee&&(yt=-yt),new Point$1(Ve+yt,tt)}if(et>=ee&&et<=ee+Y.width){const xt=et-Ve;let yt=Math.sqrt(me*me*(1-xt*xt/(ne*ne)))||0;return tt<=te&&(yt=-yt),new Point$1(et,Ye+yt)}}const nt=st/it,rt=Ye-nt*Ve,lt=ne*ne*nt*nt+me*me,ot=-2*Ve*lt,ht=ne*ne*nt*nt*Ve*Ve+me*me*Ve*Ve-ne*ne*me*me,dt=Math.sqrt(ot*ot-4*lt*ht),ct=(-ot+dt)/(2*lt),ut=(-ot-dt)/(2*lt),ft=nt*ct+rt,vt=nt*ut+rt,mt=Math.sqrt(Math.pow(ct-et,2)+Math.pow(ft-tt,2)),_t=Math.sqrt(Math.pow(ut-et,2)+Math.pow(vt-tt,2));let Et=0,Tt=0;return mt<_t?(Et=ct,Tt=ft):(Et=ut,Tt=vt),new Point$1(Et,Tt)},HexagonPerimeter=(Y,T,k,Z=!1)=>{var ft;const{x:ee}=Y,{y:te}=Y,ne=Y.width,me=Y.height,Ve=Y.getCenterX(),Ye=Y.getCenterY(),et=k.x,tt=k.y,it=et-Ve,st=tt-Ye,nt=-Math.atan2(st,it),rt=Math.PI,lt=Math.PI/2;let ot=new Point$1(Ve,Ye);const ht=((ft=T==null?void 0:T.style)==null?void 0:ft.direction)??DIRECTION.EAST,dt=ht===DIRECTION.NORTH||ht===DIRECTION.SOUTH;let ct=new Point$1,ut=new Point$1;if((et<ee&&tt<te||et<ee&&tt>te+me||et>ee+ne&&tt<te||et>ee+ne&&tt>te+me)&&(Z=!1),Z){if(dt){if(et===Ve){if(tt<=te)return new Point$1(Ve,te);if(tt>=te+me)return new Point$1(Ve,te+me)}else if(et<ee){if(tt===te+me/4)return new Point$1(ee,te+me/4);if(tt===te+3*me/4)return new Point$1(ee,te+3*me/4)}else if(et>ee+ne){if(tt===te+me/4)return new Point$1(ee+ne,te+me/4);if(tt===te+3*me/4)return new Point$1(ee+ne,te+3*me/4)}else if(et===ee){if(tt<Ye)return new Point$1(ee,te+me/4);if(tt>Ye)return new Point$1(ee,te+3*me/4)}else if(et===ee+ne){if(tt<Ye)return new Point$1(ee+ne,te+me/4);if(tt>Ye)return new Point$1(ee+ne,te+3*me/4)}if(tt===te)return new Point$1(Ve,te);if(tt===te+me)return new Point$1(Ve,te+me);et<Ve?tt>te+me/4&&tt<te+3*me/4?(ct=new Point$1(ee,te),ut=new Point$1(ee,te+me)):tt<te+me/4?(ct=new Point$1(ee-Math.floor(.5*ne),te+Math.floor(.5*me)),ut=new Point$1(ee+ne,te-Math.floor(.25*me))):tt>te+3*me/4&&(ct=new Point$1(ee-Math.floor(.5*ne),te+Math.floor(.5*me)),ut=new Point$1(ee+ne,te+Math.floor(1.25*me))):et>Ve&&(tt>te+me/4&&tt<te+3*me/4?(ct=new Point$1(ee+ne,te),ut=new Point$1(ee+ne,te+me)):tt<te+me/4?(ct=new Point$1(ee,te-Math.floor(.25*me)),ut=new Point$1(ee+Math.floor(1.5*ne),te+Math.floor(.5*me))):tt>te+3*me/4&&(ct=new Point$1(ee+Math.floor(1.5*ne),te+Math.floor(.5*me)),ut=new Point$1(ee,te+Math.floor(1.25*me))))}else{if(tt===Ye){if(et<=ee)return new Point$1(ee,te+me/2);if(et>=ee+ne)return new Point$1(ee+ne,te+me/2)}else if(tt<te){if(et===ee+ne/4)return new Point$1(ee+ne/4,te);if(et===ee+3*ne/4)return new Point$1(ee+3*ne/4,te)}else if(tt>te+me){if(et===ee+ne/4)return new Point$1(ee+ne/4,te+me);if(et===ee+3*ne/4)return new Point$1(ee+3*ne/4,te+me)}else if(tt===te){if(et<Ve)return new Point$1(ee+ne/4,te);if(et>Ve)return new Point$1(ee+3*ne/4,te)}else if(tt===te+me){if(et<Ve)return new Point$1(ee+ne/4,te+me);if(tt>Ye)return new Point$1(ee+3*ne/4,te+me)}if(et===ee)return new Point$1(ee,Ye);if(et===ee+ne)return new Point$1(ee+ne,Ye);tt<Ye?et>ee+ne/4&&et<ee+3*ne/4?(ct=new Point$1(ee,te),ut=new Point$1(ee+ne,te)):et<ee+ne/4?(ct=new Point$1(ee-Math.floor(.25*ne),te+me),ut=new Point$1(ee+Math.floor(.5*ne),te-Math.floor(.5*me))):et>ee+3*ne/4&&(ct=new Point$1(ee+Math.floor(.5*ne),te-Math.floor(.5*me)),ut=new Point$1(ee+Math.floor(1.25*ne),te+me)):tt>Ye&&(et>ee+ne/4&&et<ee+3*ne/4?(ct=new Point$1(ee,te+me),ut=new Point$1(ee+ne,te+me)):et<ee+ne/4?(ct=new Point$1(ee-Math.floor(.25*ne),te),ut=new Point$1(ee+Math.floor(.5*ne),te+Math.floor(1.5*me))):et>ee+3*ne/4&&(ct=new Point$1(ee+Math.floor(.5*ne),te+Math.floor(1.5*me)),ut=new Point$1(ee+Math.floor(1.25*ne),te)))}let vt=Ve,mt=Ye;et>=ee&&et<=ee+ne?(vt=et,tt<Ye?mt=te+me:mt=te):tt>=te&&tt<=te+me&&(mt=tt,et<Ve?vt=ee+ne:vt=ee),ot=intersection(vt,mt,k.x,k.y,ct.x,ct.y,ut.x,ut.y)}else{if(dt){const vt=Math.atan2(me/4,ne/2);if(nt===vt)return new Point$1(ee+ne,te+Math.floor(.25*me));if(nt===lt)return new Point$1(ee+Math.floor(.5*ne),te);if(nt===rt-vt)return new Point$1(ee,te+Math.floor(.25*me));if(nt===-vt)return new Point$1(ee+ne,te+Math.floor(.75*me));if(nt===-lt)return new Point$1(ee+Math.floor(.5*ne),te+me);if(nt===-rt+vt)return new Point$1(ee,te+Math.floor(.75*me));nt<vt&&nt>-vt?(ct=new Point$1(ee+ne,te),ut=new Point$1(ee+ne,te+me)):nt>vt&&nt<lt?(ct=new Point$1(ee,te-Math.floor(.25*me)),ut=new Point$1(ee+Math.floor(1.5*ne),te+Math.floor(.5*me))):nt>lt&&nt<rt-vt?(ct=new Point$1(ee-Math.floor(.5*ne),te+Math.floor(.5*me)),ut=new Point$1(ee+ne,te-Math.floor(.25*me))):nt>rt-vt&&nt<=rt||nt<-rt+vt&&nt>=-rt?(ct=new Point$1(ee,te),ut=new Point$1(ee,te+me)):nt<-vt&&nt>-lt?(ct=new Point$1(ee+Math.floor(1.5*ne),te+Math.floor(.5*me)),ut=new Point$1(ee,te+Math.floor(1.25*me))):nt<-lt&&nt>-rt+vt&&(ct=new Point$1(ee-Math.floor(.5*ne),te+Math.floor(.5*me)),ut=new Point$1(ee+ne,te+Math.floor(1.25*me)))}else{const vt=Math.atan2(me/2,ne/4);if(nt===vt)return new Point$1(ee+Math.floor(.75*ne),te);if(nt===rt-vt)return new Point$1(ee+Math.floor(.25*ne),te);if(nt===rt||nt===-rt)return new Point$1(ee,te+Math.floor(.5*me));if(nt===0)return new Point$1(ee+ne,te+Math.floor(.5*me));if(nt===-vt)return new Point$1(ee+Math.floor(.75*ne),te+me);if(nt===-rt+vt)return new Point$1(ee+Math.floor(.25*ne),te+me);nt>0&&nt<vt?(ct=new Point$1(ee+Math.floor(.5*ne),te-Math.floor(.5*me)),ut=new Point$1(ee+Math.floor(1.25*ne),te+me)):nt>vt&&nt<rt-vt?(ct=new Point$1(ee,te),ut=new Point$1(ee+ne,te)):nt>rt-vt&&nt<rt?(ct=new Point$1(ee-Math.floor(.25*ne),te+me),ut=new Point$1(ee+Math.floor(.5*ne),te-Math.floor(.5*me))):nt<0&&nt>-vt?(ct=new Point$1(ee+Math.floor(.5*ne),te+Math.floor(1.5*me)),ut=new Point$1(ee+Math.floor(1.25*ne),te)):nt<-vt&&nt>-rt+vt?(ct=new Point$1(ee,te+me),ut=new Point$1(ee+ne,te+me)):nt<-rt+vt&&nt>-rt&&(ct=new Point$1(ee-Math.floor(.25*ne),te),ut=new Point$1(ee+Math.floor(.5*ne),te+Math.floor(1.5*me)))}ot=intersection(Ve,Ye,k.x,k.y,ct.x,ct.y,ut.x,ut.y)}return ot??new Point$1(Ve,Ye)},RectanglePerimeter=(Y,T,k,Z=!1)=>{const ee=Y.getCenterX(),te=Y.getCenterY(),ne=k.x-ee,me=k.y-te,Ve=Math.atan2(me,ne),Ye=new Point$1(0,0),et=Math.PI,it=Math.PI/2-Ve,st=Math.atan2(Y.height,Y.width);return Ve<-et+st||Ve>et-st?(Ye.x=Y.x,Ye.y=te-Y.width*Math.tan(Ve)/2):Ve<-st?(Ye.y=Y.y,Ye.x=ee-Y.height*Math.tan(it)/2):Ve<st?(Ye.x=Y.x+Y.width,Ye.y=te+Y.width*Math.tan(Ve)/2):(Ye.y=Y.y+Y.height,Ye.x=ee+Y.height*Math.tan(it)/2),Z&&(k.x>=Y.x&&k.x<=Y.x+Y.width?Ye.x=k.x:k.y>=Y.y&&k.y<=Y.y+Y.height&&(Ye.y=k.y),k.x<Y.x?Ye.x=Y.x:k.x>Y.x+Y.width&&(Ye.x=Y.x+Y.width),k.y<Y.y?Ye.y=Y.y:k.y>Y.y+Y.height&&(Ye.y=Y.y+Y.height)),Ye},RhombusPerimeter=(Y,T,k,Z=!1)=>{const{x:ee}=Y,{y:te}=Y,ne=Y.width,me=Y.height,Ve=ee+ne/2,Ye=te+me/2,et=k.x,tt=k.y;if(Ve===et)return Ye>tt?new Point$1(Ve,te):new Point$1(Ve,te+me);if(Ye===tt)return Ve>et?new Point$1(ee,Ye):new Point$1(ee+ne,Ye);let it=Ve,st=Ye;return Z&&(et>=ee&&et<=ee+ne?it=et:tt>=te&&tt<=te+me&&(st=tt)),et<Ve?tt<Ye?intersection(et,tt,it,st,Ve,te,ee,Ye):intersection(et,tt,it,st,Ve,te+me,ee,Ye):tt<Ye?intersection(et,tt,it,st,Ve,te,ee+ne,Ye):intersection(et,tt,it,st,Ve,te+me,ee+ne,Ye)},TrianglePerimeter=(Y,T,k,Z=!1)=>{const ee=T!=null?T.style.direction:null,te=ee===DIRECTION.NORTH||ee===DIRECTION.SOUTH,{x:ne}=Y,{y:me}=Y,Ve=Y.width,Ye=Y.height;let et=ne+Ve/2,tt=me+Ye/2,it=new Point$1(ne,me),st=new Point$1(ne+Ve,tt),nt=new Point$1(ne,me+Ye);ee===DIRECTION.NORTH?(it=nt,st=new Point$1(et,me),nt=new Point$1(ne+Ve,me+Ye)):ee===DIRECTION.SOUTH?(st=new Point$1(et,me+Ye),nt=new Point$1(ne+Ve,me)):ee===DIRECTION.WEST&&(it=new Point$1(ne+Ve,me),st=new Point$1(ne,tt),nt=new Point$1(ne+Ve,me+Ye));let rt=k.x-et,lt=k.y-tt;const ot=te?Math.atan2(rt,lt):Math.atan2(lt,rt),ht=te?Math.atan2(Ve,Ye):Math.atan2(Ye,Ve);let dt=!1;ee===DIRECTION.NORTH||ee===DIRECTION.WEST?dt=ot>-ht&&ot<ht:dt=ot<-Math.PI+ht||ot>Math.PI-ht;let ct=null;if(dt)Z&&(te&&k.x>=it.x&&k.x<=nt.x||!te&&k.y>=it.y&&k.y<=nt.y)?te?ct=new Point$1(k.x,it.y):ct=new Point$1(it.x,k.y):ee===DIRECTION.NORTH?ct=new Point$1(ne+Ve/2+Ye*Math.tan(ot)/2,me+Ye):ee===DIRECTION.SOUTH?ct=new Point$1(ne+Ve/2-Ye*Math.tan(ot)/2,me):ee===DIRECTION.WEST?ct=new Point$1(ne+Ve,me+Ye/2+Ve*Math.tan(ot)/2):ct=new Point$1(ne,me+Ye/2-Ve*Math.tan(ot)/2);else{if(Z){const ut=new Point$1(et,tt);k.y>=me&&k.y<=me+Ye?(ut.x=te?et:ee===DIRECTION.WEST?ne+Ve:ne,ut.y=k.y):k.x>=ne&&k.x<=ne+Ve&&(ut.x=k.x,ut.y=te?ee===DIRECTION.NORTH?me+Ye:me:tt),rt=k.x-ut.x,lt=k.y-ut.y,et=ut.x,tt=ut.y}te&&k.x<=ne+Ve/2||!te&&k.y<=me+Ye/2?ct=intersection(k.x,k.y,et,tt,it.x,it.y,st.x,st.y):ct=intersection(k.x,k.y,et,tt,st.x,st.y,nt.x,nt.y)}return ct==null&&(ct=new Point$1(et,tt)),ct},Perimeter={RectanglePerimeter,EllipsePerimeter,RhombusPerimeter,TrianglePerimeter,HexagonPerimeter};let isDefaultsRegistered=!1;const registerDefaultStyleElements=()=>{isDefaultsRegistered||(StyleRegistry.putValue(EDGESTYLE.ELBOW,EdgeStyle.ElbowConnector),StyleRegistry.putValue(EDGESTYLE.ENTITY_RELATION,EdgeStyle.EntityRelation),StyleRegistry.putValue(EDGESTYLE.LOOP,EdgeStyle.Loop),StyleRegistry.putValue(EDGESTYLE.MANHATTAN,EdgeStyle.ManhattanConnector),StyleRegistry.putValue(EDGESTYLE.ORTHOGONAL,EdgeStyle.OrthConnector),StyleRegistry.putValue(EDGESTYLE.SEGMENT,EdgeStyle.SegmentConnector),StyleRegistry.putValue(EDGESTYLE.SIDETOSIDE,EdgeStyle.SideToSide),StyleRegistry.putValue(EDGESTYLE.TOPTOBOTTOM,EdgeStyle.TopToBottom),StyleRegistry.putValue(PERIMETER.ELLIPSE,Perimeter.EllipsePerimeter),StyleRegistry.putValue(PERIMETER.HEXAGON,Perimeter.HexagonPerimeter),StyleRegistry.putValue(PERIMETER.RECTANGLE,Perimeter.RectanglePerimeter),StyleRegistry.putValue(PERIMETER.RHOMBUS,Perimeter.RhombusPerimeter),StyleRegistry.putValue(PERIMETER.TRIANGLE,Perimeter.TrianglePerimeter),isDefaultsRegistered=!0)},CellsMixin={cellsResizable:!0,cellsBendable:!0,cellsSelectable:!0,cellsDisconnectable:!0,autoSizeCells:!1,autoSizeCellsOnAdd:!1,cellsLocked:!1,cellsCloneable:!0,cellsDeletable:!0,cellsMovable:!0,extendParents:!0,extendParentsOnAdd:!0,extendParentsOnMove:!1,getBoundingBox(Y){let T=null;if(Y.length>0){for(const k of Y)if(k.isVertex()||k.isEdge()){const Z=this.getView().getBoundingBox(this.getView().getState(k),!0);Z&&(T?T.add(Z):T=Rectangle.fromRectangle(Z))}}return T},removeStateForCell(Y){for(const T of Y.getChildren())this.removeStateForCell(T);this.getView().invalidate(Y,!1,!0),this.getView().removeState(Y)},getCurrentCellStyle(Y,T=!1){const k=T?null:this.getView().getState(Y);return k?k.style:this.getCellStyle(Y)},getCellStyle(Y){const T=Y.getStyle(),k=this.getStylesheet(),Z=Y.isEdge()?k.getDefaultEdgeStyle():k.getDefaultVertexStyle();return this.postProcessCellStyle(k.getCellStyle(T,Z??{}))},postProcessCellStyle(Y){if(!Y.image)return Y;const T=Y.image;let k=this.getImageFromBundles(T);if(k?Y.image=k:k=T,k&&k.substring(0,11)==="data:image/"){if(k.substring(0,20)==="data:image/svg+xml,<")k=k.substring(0,19)+encodeURIComponent(k.substring(19));else if(k.substring(0,22)!=="data:image/svg+xml,%3C"){const Z=k.indexOf(",");Z>0&&k.substring(Z-7,Z+1)!==";base64,"&&(k=`${k.substring(0,Z)};base64,${k.substring(Z+1)}`)}Y.image=k}return Y},setCellStyle(Y,T){T=T??this.getSelectionCells(),this.batchUpdate(()=>{for(const k of T)this.getDataModel().setStyle(k,Y)})},toggleCellStyle(Y,T=!1,k){return k=k??this.getSelectionCell(),this.toggleCellStyles(Y,T,[k])},toggleCellStyles(Y,T=!1,k){let Z=!1;return k=k??this.getSelectionCells(),k.length>0&&(Z=!(this.getCurrentCellStyle(k[0])[Y]??T),this.setCellStyles(Y,Z,k)),Z},setCellStyles(Y,T,k){k=k??this.getSelectionCells(),setCellStyles(this.getDataModel(),k,Y,T)},toggleCellStyleFlags(Y,T,k){k=k??this.getSelectionCells(),this.setCellStyleFlags(Y,T,null,k)},setCellStyleFlags(Y,T,k=null,Z){Z=Z??this.getSelectionCells(),Z.length>0&&(k===null&&(k=((this.getCurrentCellStyle(Z[0])[Y]||0)&T)!==T),setCellStyleFlags(this.getDataModel(),Z,Y,T,k))},alignCells(Y,T,k=null){if(T=T??this.getSelectionCells(),T.length>1){if(k===null)for(const Z of T){const ee=this.getView().getState(Z);if(ee&&!Z.isEdge())if(k===null)if(Y===ALIGN.CENTER){k=ee.x+ee.width/2;break}else if(Y===ALIGN.RIGHT)k=ee.x+ee.width;else if(Y===ALIGN.TOP)k=ee.y;else if(Y===ALIGN.MIDDLE){k=ee.y+ee.height/2;break}else Y===ALIGN.BOTTOM?k=ee.y+ee.height:k=ee.x;else Y===ALIGN.RIGHT?k=Math.max(k,ee.x+ee.width):Y===ALIGN.TOP?k=Math.min(k,ee.y):Y===ALIGN.BOTTOM?k=Math.max(k,ee.y+ee.height):k=Math.min(k,ee.x)}if(k!==null){const Z=this.getView().scale;this.batchUpdate(()=>{const ee=k;for(const te of T){const ne=this.getView().getState(te);if(ne!=null){let me=te.getGeometry();me!=null&&!te.isEdge()&&(me=me.clone(),Y===ALIGN.CENTER?me.x+=(ee-ne.x-ne.width/2)/Z:Y===ALIGN.RIGHT?me.x+=(ee-ne.x-ne.width)/Z:Y===ALIGN.TOP?me.y+=(ee-ne.y)/Z:Y===ALIGN.MIDDLE?me.y+=(ee-ne.y-ne.height/2)/Z:Y===ALIGN.BOTTOM?me.y+=(ee-ne.y-ne.height)/Z:me.x+=(ee-ne.x)/Z,this.resizeCell(te,me))}}this.fireEvent(new EventObject(InternalEvent.ALIGN_CELLS,{align:Y,cells:T}))})}}return T},cloneCell(Y,T=!1,k={},Z=!1){return this.cloneCells([Y],T,k,Z)[0]},cloneCells(Y,T=!0,k={},Z=!1){let ee;const te=new Dictionary,ne=[];for(const me of Y)te.put(me,!0),ne.push(me);if(ne.length>0){const{scale:me}=this.getView(),Ve=this.getView().translate,Ye=[];ee=cloneCells(Y,!0,k);for(let et=0;et<Y.length;et+=1){const tt=Y[et],it=ee[et];if(!(!T&&it.isEdge()&&this.getEdgeValidationError(it,it.getTerminal(!0),it.getTerminal(!1))!==null)){Ye.push(it);const st=it.getGeometry();if(st){const nt=this.getView().getState(tt),rt=tt.getParent(),lt=rt?this.getView().getState(rt):null;if(nt&&lt){const ot=Z?0:lt.origin.x,ht=Z?0:lt.origin.y;if(it.isEdge()){const dt=nt.absolutePoints;let ct=tt.getTerminal(!0);for(;ct&&!te.get(ct);)ct=ct.getParent();!ct&&dt[0]&&st.setTerminalPoint(new Point$1(dt[0].x/me-Ve.x,dt[0].y/me-Ve.y),!0);let ut=tt.getTerminal(!1);for(;ut&&!te.get(ut);)ut=ut.getParent();const ft=dt.length-1,vt=dt[ft];!ut&&vt&&st.setTerminalPoint(new Point$1(vt.x/me-Ve.x,vt.y/me-Ve.y),!1);const{points:mt}=st;if(mt)for(const _t of mt)_t.x+=ot,_t.y+=ht}else st.translate(ot,ht)}}}}ee=Ye}else ee=[];return ee},addCell(Y,T=null,k=null,Z=null,ee=null){return this.addCells([Y],T,k,Z,ee)[0]},addCells(Y,T=null,k=null,Z=null,ee=null,te=!1){const ne=T??this.getDefaultParent(),me=k??ne.getChildCount();return this.batchUpdate(()=>{this.cellsAdded(Y,ne,me,Z,ee,te,!0),this.fireEvent(new EventObject(InternalEvent.ADD_CELLS,{cells:Y,p:ne,i:me,source:Z,target:ee}))}),Y},cellsAdded(Y,T,k,Z=null,ee=null,te=!1,ne=!1,me=!0){this.batchUpdate(()=>{const Ve=te?this.getView().getState(T):null,Ye=Ve?Ve.origin:null,et=new Point$1(0,0);Y.forEach((tt,it)=>{const st=tt.getParent();if(Ye&&tt!==T&&T!==st){const nt=st?this.getView().getState(st):null,rt=nt?nt.origin:et;let lt=tt.getGeometry();if(lt){const ot=rt.x-Ye.x,ht=rt.y-Ye.y;lt=lt.clone(),lt.translate(ot,ht),!lt.relative&&tt.isVertex()&&!this.isAllowNegativeCoordinates()&&(lt.x=Math.max(0,lt.x),lt.y=Math.max(0,lt.y)),this.getDataModel().setGeometry(tt,lt)}}T===st&&k+it>T.getChildCount()&&k--,this.getDataModel().add(T,tt,k+it),this.autoSizeCellsOnAdd&&this.autoSizeCell(tt,!0),(!me||me)&&this.isExtendParentsOnAdd(tt)&&this.isExtendParent(tt)&&this.extendParent(tt),(!ne||ne)&&this.constrainChild(tt),Z&&this.cellConnected(tt,Z,!0),ee&&this.cellConnected(tt,ee,!1)}),this.fireEvent(new EventObject(InternalEvent.CELLS_ADDED,{cells:Y,parent:T,index:k,source:Z,target:ee,absolute:te}))})},autoSizeCell(Y,T=!0){if(T)for(const k of Y.getChildren())this.autoSizeCell(k);Y.isVertex()&&this.isAutoSizeCell(Y)&&this.updateCellSize(Y)},removeCells(Y=null,T=!0){if(Y||(Y=this.getDeletableCells(this.getSelectionCells())),T)Y=this.getDeletableCells(this.addAllEdges(Y));else{Y=Y.slice();const k=this.getDeletableCells(this.getAllEdges(Y)),Z=new Dictionary;for(const ee of Y)Z.put(ee,!0);for(const ee of k)!this.getView().getState(ee)&&!Z.get(ee)&&(Z.put(ee,!0),Y.push(ee))}return this.batchUpdate(()=>{this.cellsRemoved(Y),this.fireEvent(new EventObject(InternalEvent.REMOVE_CELLS,{cells:Y,includeEdges:T}))}),Y??[]},cellsRemoved(Y){if(Y.length>0){const{scale:T}=this.getView(),k=this.getView().translate;this.batchUpdate(()=>{const Z=new Dictionary;for(const ee of Y)Z.put(ee,!0);for(const ee of Y){const te=this.getAllEdges([ee]),ne=(me,Ve)=>{let Ye=me.getGeometry();if(Ye){const et=me.getTerminal(Ve);let tt=!1,it=et;for(;it;){if(ee===it){tt=!0;break}it=it.getParent()}if(tt){Ye=Ye.clone();const st=this.getView().getState(me);if(st){const nt=st.absolutePoints,rt=Ve?0:nt.length-1,lt=nt[rt];Ye.setTerminalPoint(new Point$1(lt.x/T-k.x-st.origin.x,lt.y/T-k.y-st.origin.y),Ve)}else if(et){const nt=this.getView().getState(et);nt&&Ye.setTerminalPoint(new Point$1(nt.getCenterX()/T-k.x,nt.getCenterY()/T-k.y),Ve)}this.getDataModel().setGeometry(me,Ye),this.getDataModel().setTerminal(me,null,Ve)}}};for(const me of te)Z.get(me)||(Z.put(me,!0),ne(me,!0),ne(me,!1));this.getDataModel().remove(ee)}this.fireEvent(new EventObject(InternalEvent.CELLS_REMOVED,{cells:Y}))})}},toggleCells(Y=!1,T,k=!0){return T=T??this.getSelectionCells(),k&&(T=this.addAllEdges(T)),this.batchUpdate(()=>{this.cellsToggled(T,Y),this.fireEvent(new EventObject(InternalEvent.TOGGLE_CELLS,{show:Y,cells:T,includeEdges:k}))}),T},cellsToggled(Y,T=!1){Y.length>0&&this.batchUpdate(()=>{for(const k of Y)this.getDataModel().setVisible(k,T)})},updateCellSize(Y,T=!1){return this.batchUpdate(()=>{this.cellSizeUpdated(Y,T),this.fireEvent(new EventObject(InternalEvent.UPDATE_CELL_SIZE,{cell:Y,ignoreChildren:T}))}),Y},cellSizeUpdated(Y,T=!1){this.batchUpdate(()=>{const k=this.getPreferredSizeForCell(Y);let Z=Y.getGeometry();if(k&&Z){const ee=Y.isCollapsed();if(Z=Z.clone(),this.isSwimlane(Y)){const te=this.getCellStyle(Y),ne=Y.getStyle();te.horizontal??!0?(ne.startSize=k.height+8,ee&&(Z.height=k.height+8),Z.width=k.width):(ne.startSize=k.width+8,ee&&(Z.width=k.width+8),Z.height=k.height),this.getDataModel().setStyle(Y,ne)}else{const te=this.getView().createState(Y),ne=te.style.align??ALIGN.CENTER;ne===ALIGN.RIGHT?Z.x+=Z.width-k.width:ne===ALIGN.CENTER&&(Z.x+=Math.round((Z.width-k.width)/2));const me=te.getVerticalAlign();me===ALIGN.BOTTOM?Z.y+=Z.height-k.height:me===ALIGN.MIDDLE&&(Z.y+=Math.round((Z.height-k.height)/2)),Z.width=k.width,Z.height=k.height}if(!T&&!ee){const te=this.getView().getBounds(Y.getChildren());if(te!=null){const ne=this.getView().translate,{scale:me}=this.getView(),Ve=(te.x+te.width)/me-Z.x-ne.x,Ye=(te.y+te.height)/me-Z.y-ne.y;Z.width=Math.max(Z.width,Ve),Z.height=Math.max(Z.height,Ye)}}this.cellsResized([Y],[Z],!1)}})},getPreferredSizeForCell(Y,T=null){let k=null;const Z=this.getView().createState(Y),{style:ee}=Z;if(!Y.isEdge()){const te=ee.fontSize||DEFAULT_FONTSIZE;let ne=0,me=0;(Z.getImageSrc()||ee.image)&&ee.shape===SHAPE.LABEL&&(ee.verticalAlign===ALIGN.MIDDLE&&(ne+=ee.imageWidth||DEFAULT_IMAGESIZE),ee.align!==ALIGN.CENTER&&(me+=ee.imageHeight||DEFAULT_IMAGESIZE)),ne+=2*(ee.spacing||0),ne+=ee.spacingLeft||0,ne+=ee.spacingRight||0,me+=2*(ee.spacing||0),me+=ee.spacingTop||0,me+=ee.spacingBottom||0;const Ve=this.getFoldingImage(Z);Ve&&(ne+=Ve.width+8);let Ye=this.getCellRenderer().getLabelValue(Z);if(Ye&&Ye.length>0){this.isHtmlLabel(Z.cell)||(Ye=htmlEntities(Ye,!1)),Ye=Ye.replace(/\n/g,"<br>");const et=getSizeForString(Ye,te,ee.fontFamily,T,ee.fontStyle);let tt=et.width+ne,it=et.height+me;if(!(ee.horizontal??!0)){const st=it;it=tt,tt=st}this.isGridEnabled()&&(tt=this.snap(tt+this.getGridSize()/2),it=this.snap(it+this.getGridSize()/2)),k=new Rectangle(0,0,tt,it)}else{const et=4*this.getGridSize();k=new Rectangle(0,0,et,et)}}return k},resizeCell(Y,T,k=!1){return this.resizeCells([Y],[T],k)[0]},resizeCells(Y,T,k){return k=k??this.isRecursiveResize(),this.batchUpdate(()=>{const Z=this.cellsResized(Y,T,k);this.fireEvent(new EventObject(InternalEvent.RESIZE_CELLS,{cells:Y,bounds:T,prev:Z}))}),Y},cellsResized(Y,T,k=!1){const Z=[];return Y.length===T.length&&this.batchUpdate(()=>{Y.forEach((ee,te)=>{Z.push(this.cellResized(ee,T[te],!1,k)),this.isExtendParent(ee)&&this.extendParent(ee),this.constrainChild(ee)}),this.isResetEdgesOnResize()&&this.resetEdges(Y),this.fireEvent(new EventObject(InternalEvent.CELLS_RESIZED,{cells:Y,bounds:T,prev:Z}))}),Z},cellResized(Y,T,k=!1,Z=!1){const ee=Y.getGeometry();if(ee&&(ee.x!==T.x||ee.y!==T.y||ee.width!==T.width||ee.height!==T.height)){const te=ee.clone();if(!k&&te.relative){const{offset:ne}=te;ne&&(ne.x+=T.x-te.x,ne.y+=T.y-te.y)}else te.x=T.x,te.y=T.y;te.width=T.width,te.height=T.height,!te.relative&&Y.isVertex()&&!this.isAllowNegativeCoordinates()&&(te.x=Math.max(0,te.x),te.y=Math.max(0,te.y)),this.batchUpdate(()=>{Z&&this.resizeChildCells(Y,te),this.getDataModel().setGeometry(Y,te),this.constrainChildCells(Y)})}return ee},resizeChildCells(Y,T){const k=Y.getGeometry();if(k){const Z=k.width!==0?T.width/k.width:1,ee=k.height!==0?T.height/k.height:1;for(const te of Y.getChildren())this.scaleCell(te,Z,ee,!0)}},constrainChildCells(Y){for(const T of Y.getChildren())this.constrainChild(T)},scaleCell(Y,T,k,Z=!1){let ee=Y.getGeometry();if(ee){const te=this.getCurrentCellStyle(Y);ee=ee.clone();const{x:ne}=ee,{y:me}=ee,Ve=ee.width,Ye=ee.height;ee.scale(T,k,te.aspect==="fixed"),te.resizeWidth?ee.width=Ve*T:te.resizeWidth||(ee.width=Ve),te.resizeHeight?ee.height=Ye*k:te.resizeHeight||(ee.height=Ye),this.isCellMovable(Y)||(ee.x=ne,ee.y=me),this.isCellResizable(Y)||(ee.width=Ve,ee.height=Ye),Y.isVertex()?this.cellResized(Y,ee,!0,Z):this.getDataModel().setGeometry(Y,ee)}},extendParent(Y){const T=Y.getParent();let k=T?T.getGeometry():null;if(T&&k&&!T.isCollapsed()){const Z=Y.getGeometry();Z&&!Z.relative&&(k.width<Z.x+Z.width||k.height<Z.y+Z.height)&&(k=k.clone(),k.width=Math.max(k.width,Z.x+Z.width),k.height=Math.max(k.height,Z.y+Z.height),this.cellsResized([T],[k],!1))}},importCells(Y,T,k,Z=null,ee=null,te={}){return this.moveCells(Y,T,k,!0,Z,ee,te)},moveCells(Y,T=0,k=0,Z=!1,ee=null,te=null,ne={}){if(T!==0||k!==0||Z||ee){Y=getTopmostCells(Y);const me=Y;this.batchUpdate(()=>{const Ve=new Dictionary;for(const it of Y)Ve.put(it,!0);const Ye=it=>{for(;it;){if(Ve.get(it))return!0;it=it.getParent()}return!1},et=[];for(const it of Y){const st=it.getGeometry(),nt=it.getParent();(!st||!st.relative||nt&&!nt.isEdge()||nt&&!Ye(nt.getTerminal(!0))&&!Ye(nt.getTerminal(!1)))&&et.push(it)}Y=et,Z&&(Y=this.cloneCells(Y,this.isCloneInvalidEdges(),ne),ee||(ee=this.getDefaultParent()));const tt=this.isAllowNegativeCoordinates();if(ee&&this.setAllowNegativeCoordinates(!0),this.cellsMoved(Y,T,k,!Z&&this.isDisconnectOnMove()&&this.isAllowDanglingEdges(),!ee,this.isExtendParentsOnMove()&&!ee),this.setAllowNegativeCoordinates(tt),ee){const it=ee.getChildCount();this.cellsAdded(Y,ee,it,null,null,!0),Z&&Y.forEach((st,nt)=>{const rt=st.getGeometry(),lt=me[nt].getParent();rt&&rt.relative&&lt&&lt.isEdge()&&this.getDataModel().contains(lt)&&this.getDataModel().add(lt,st)})}this.fireEvent(new EventObject(InternalEvent.MOVE_CELLS,{cells:Y,dx:T,dy:k,clone:Z,target:ee,event:te}))})}return Y},cellsMoved(Y,T,k,Z=!1,ee=!1,te=!1){(T!==0||k!==0)&&this.batchUpdate(()=>{Z&&this.disconnectGraph(Y);for(const ne of Y)this.translateCell(ne,T,k),te&&this.isExtendParent(ne)?this.extendParent(ne):ee&&this.constrainChild(ne);this.isResetEdgesOnMove()&&this.resetEdges(Y),this.fireEvent(new EventObject(InternalEvent.CELLS_MOVED,{cells:Y,dx:T,dy:k,disconnect:Z}))})},translateCell(Y,T,k){let Z=Y.getGeometry();if(Z){if(Z=Z.clone(),Z.translate(T,k),!Z.relative&&Y.isVertex()&&!this.isAllowNegativeCoordinates()&&(Z.x=Math.max(0,Z.x),Z.y=Math.max(0,Z.y)),Z.relative&&!Y.isEdge()){const ee=Y.getParent();let te=0;if(ee.isVertex()&&(te=this.getCurrentCellStyle(ee).rotation??0),te!==0){const ne=toRadians(-te),me=Math.cos(ne),Ve=Math.sin(ne),Ye=getRotatedPoint(new Point$1(T,k),me,Ve,new Point$1(0,0));T=Ye.x,k=Ye.y}Z.offset?(Z.offset.x=Z.offset.x+T,Z.offset.y=Z.offset.y+k):Z.offset=new Point$1(T,k)}this.getDataModel().setGeometry(Y,Z)}},getCellContainmentArea(Y){if(!Y.isEdge()){const T=Y.getParent();if(T&&T!==this.getDefaultParent()){const k=T.getGeometry();if(k){let Z=0,ee=0,te=k.width,ne=k.height;if(this.isSwimlane(T)){const me=this.getStartSize(T),Ve=this.getCurrentCellStyle(T),Ye=Ve.direction??DIRECTION.EAST,et=Ve.flipH??!1,tt=Ve.flipV??!1;if(Ye===DIRECTION.SOUTH||Ye===DIRECTION.NORTH){const it=me.width;me.width=me.height,me.height=it}(Ye===DIRECTION.EAST&&!tt||Ye===DIRECTION.NORTH&&!et||Ye===DIRECTION.WEST&&tt||Ye===DIRECTION.SOUTH&&et)&&(Z=me.width,ee=me.height),te-=me.width,ne-=me.height}return new Rectangle(Z,ee,te,ne)}}}return null},constrainChild(Y,T=!0){let k=Y.getGeometry();if(k&&(this.isConstrainRelativeChildren()||!k.relative)){const Z=Y.getParent();let ee=this.getMaximumGraphBounds();if(ee&&Z){const te=this.getBoundingBoxFromGeometry([Z],!1);te&&(ee=Rectangle.fromRectangle(ee),ee.x-=te.x,ee.y-=te.y)}if(this.isConstrainChild(Y)){let te=this.getCellContainmentArea(Y);if(te){const ne=this.getOverlap(Y);ne>0&&(te=Rectangle.fromRectangle(te),te.x-=te.width*ne,te.y-=te.height*ne,te.width+=2*te.width*ne,te.height+=2*te.height*ne),ee?(ee=Rectangle.fromRectangle(ee),ee.intersect(te)):ee=te}}if(ee){const te=[Y];if(!Y.isCollapsed()){const me=Y.getDescendants();for(const Ve of me)Ve.isVisible()&&te.push(Ve)}const ne=this.getBoundingBoxFromGeometry(te,!1);if(ne){k=k.clone();let me=0;k.width>ee.width&&(me=k.width-ee.width,k.width-=me),ne.x+ne.width>ee.x+ee.width&&(me-=ne.x+ne.width-ee.x-ee.width-me);let Ve=0;k.height>ee.height&&(Ve=k.height-ee.height,k.height-=Ve),ne.y+ne.height>ee.y+ee.height&&(Ve-=ne.y+ne.height-ee.y-ee.height-Ve),ne.x<ee.x&&(me-=ne.x-ee.x),ne.y<ee.y&&(Ve-=ne.y-ee.y),(me!==0||Ve!==0)&&(k.relative?(k.offset||(k.offset=new Point$1),k.offset.x+=me,k.offset.y+=Ve):(k.x+=me,k.y+=Ve)),this.getDataModel().setGeometry(Y,k)}}}},getChildCells(Y,T=!1,k=!1){Y=Y??this.getDefaultParent();const Z=Y.getChildCells(T,k),ee=[];for(const te of Z)te.isVisible()&&ee.push(te);return ee},getCellAt(Y,T,k=null,Z=!0,ee=!0,te=null){if(k||(k=this.getCurrentRoot(),k||(k=this.getDataModel().getRoot())),k){const ne=k.getChildCount();for(let me=ne-1;me>=0;me--){const Ve=k.getChildAt(me),Ye=this.getCellAt(Y,T,Ve,Z,ee,te);if(Ye)return Ye;if(Ve.isVisible()&&(ee&&Ve.isEdge()||Z&&Ve.isVertex())){const et=this.getView().getState(Ve);if(et&&(!te||!te(et,Y,T))&&this.intersects(et,Y,T))return Ve}}}return null},getCells(Y,T,k,Z,ee=null,te=[],ne=null,me=null,Ve=!1){var Ye,et,tt;if(k>0||Z>0||ne){const it=this.getDataModel(),st=Y+k,nt=T+Z;if(ee||(ee=this.getCurrentRoot(),ee||(ee=it.getRoot())),ee)for(const rt of ee.getChildren()){const lt=this.getView().getState(rt);if(lt&&rt.isVisible()&&(!me||!me(lt))){const ot=lt.style.rotation??0;let ht=lt;ot!==0&&(ht=getBoundingBox(ht,ot));const dt=ne&&rt.isVertex()&&intersects(ne,ht)||!ne&&(rt.isEdge()||rt.isVertex())&&(((Ye=lt.shape)==null?void 0:Ye.isVisible)||((et=lt.shape)==null?void 0:et.isVisible)===void 0&&((tt=lt.shape)==null?void 0:tt.visible))&&ht.x>=Y&&ht.y+ht.height<=nt&&ht.y>=T&&ht.x+ht.width<=st;dt&&te.push(rt),(!dt||Ve)&&this.getCells(Y,T,k,Z,rt,te,ne,me,Ve)}}}return te},getCellsBeyond(Y,T,k=null,Z=!1,ee=!1){const te=[];if((Z||ee)&&(k||(k=this.getDefaultParent()),k))for(const ne of k.getChildren()){const me=this.getView().getState(ne);ne.isVisible()&&me&&(!Z||me.x>=Y)&&(!ee||me.y>=T)&&te.push(ne)}return te},intersects(Y,T,k){const Z=Y.absolutePoints;if(Z.length>0){const ee=this.getEventTolerance()*this.getEventTolerance();let te=Z[0];for(let ne=1;ne<Z.length;ne+=1){const me=Z[ne];if(te&&me&&ptSegDistSq(te.x,te.y,me.x,me.y,T,k)<=ee)return!0;te=me}}else{const ee=toRadians(Y.style.rotation??0);if(ee!==0){const te=Math.cos(-ee),ne=Math.sin(-ee),me=new Point$1(Y.getCenterX(),Y.getCenterY()),Ve=getRotatedPoint(new Point$1(T,k),te,ne,me);T=Ve.x,k=Ve.y}if(contains(Y,T,k))return!0}return!1},isValidAncestor(Y,T,k=!1){return k?T.isAncestor(Y):Y.getParent()===T},isCellLocked(Y){const T=Y.getGeometry();return this.isCellsLocked()||!!T&&Y.isVertex()&&T.relative},isCellsLocked(){return this.cellsLocked},setCellsLocked(Y){this.cellsLocked=Y},getCloneableCells(Y){return this.getDataModel().filterCells(Y,T=>this.isCellCloneable(T))},isCellCloneable(Y){const T=this.getCurrentCellStyle(Y),k=T.cloneable==null?!0:T.cloneable;return this.isCellsCloneable()&&k},isCellsCloneable(){return this.cellsCloneable},setCellsCloneable(Y){this.cellsCloneable=Y},getExportableCells(Y){return this.getDataModel().filterCells(Y,T=>this.canExportCell(T))},canExportCell(Y=null){return this.isExportEnabled()},getImportableCells(Y){return this.getDataModel().filterCells(Y,T=>this.canImportCell(T))},canImportCell(Y=null){return this.isImportEnabled()},isCellSelectable(Y){return this.isCellsSelectable()},isCellsSelectable(){return this.cellsSelectable},setCellsSelectable(Y){this.cellsSelectable=Y},getDeletableCells(Y){return this.getDataModel().filterCells(Y,T=>this.isCellDeletable(T))},isCellDeletable(Y){const T=this.getCurrentCellStyle(Y),k=T.deletable==null?!0:T.deletable;return this.isCellsDeletable()&&k},isCellsDeletable(){return this.cellsDeletable},setCellsDeletable(Y){this.cellsDeletable=Y},isCellRotatable(Y){const T=this.getCurrentCellStyle(Y);return T.rotatable==null?!0:T.rotatable},getMovableCells(Y){return this.getDataModel().filterCells(Y,T=>this.isCellMovable(T))},isCellMovable(Y){const T=this.getCurrentCellStyle(Y);return this.isCellsMovable()&&!this.isCellLocked(Y)&&(T.movable??!0)},isCellsMovable(){return this.cellsMovable},setCellsMovable(Y){this.cellsMovable=Y},isCellResizable(Y){const T=this.getCurrentCellStyle(Y);return this.isCellsResizable()&&!this.isCellLocked(Y)&&(T.resizable??!0)},isCellsResizable(){return this.cellsResizable},setCellsResizable(Y){this.cellsResizable=Y},isCellBendable(Y){const T=this.getCurrentCellStyle(Y);return this.isCellsBendable()&&!this.isCellLocked(Y)&&T.bendable!=!1},isCellsBendable(){return this.cellsBendable},setCellsBendable(Y){this.cellsBendable=Y},isAutoSizeCell(Y){const T=this.getCurrentCellStyle(Y);return this.isAutoSizeCells()||(T.autoSize??!1)},isAutoSizeCells(){return this.autoSizeCells},setAutoSizeCells(Y){this.autoSizeCells=Y},isExtendParent(Y){return!Y.isEdge()&&this.isExtendParents()},isExtendParents(){return this.extendParents},setExtendParents(Y){this.extendParents=Y},isExtendParentsOnAdd(Y){return this.extendParentsOnAdd},setExtendParentsOnAdd(Y){this.extendParentsOnAdd=Y},isExtendParentsOnMove(){return this.extendParentsOnMove},setExtendParentsOnMove(Y){this.extendParentsOnMove=Y},getCursorForCell(Y){return null},getCellBounds(Y,T=!1,k=!1){let Z=[Y];T&&(Z=Z.concat(Y.getEdges()));let ee=this.getView().getBounds(Z);if(k)for(const te of Y.getChildren()){const ne=this.getCellBounds(te,T,!0);ee&&ne?ee.add(ne):ee=ne}return ee},getBoundingBoxFromGeometry(Y,T=!1){let k=null,Z=null;for(const ee of Y)if(T||ee.isVertex()){const te=ee.getGeometry();if(te){let ne=null;if(ee.isEdge()){const me=Ye=>{Ye&&(Z?Z.add(new Rectangle(Ye.x,Ye.y,0,0)):Z=new Rectangle(Ye.x,Ye.y,0,0))};ee.getTerminal(!0)||me(te.getTerminalPoint(!0)),ee.getTerminal(!1)||me(te.getTerminalPoint(!1));const Ve=te.points;if(Ve&&Ve.length>0){Z=new Rectangle(Ve[0].x,Ve[0].y,0,0);for(let Ye=1;Ye<Ve.length;Ye++)me(Ve[Ye])}ne=Z}else{const me=ee.getParent();te.relative&&me?me.isVertex()&&me!==this.getView().currentRoot&&(Z=this.getBoundingBoxFromGeometry([me],!1),Z&&(ne=new Rectangle(te.x*Z.width,te.y*Z.height,te.width,te.height),Y.indexOf(me)>=0&&(ne.x+=Z.x,ne.y+=Z.y))):(ne=Rectangle.fromRectangle(te),me&&me.isVertex()&&Y.indexOf(me)>=0&&(Z=this.getBoundingBoxFromGeometry([me],!1),Z&&(ne.x+=Z.x,ne.y+=Z.y))),ne&&te.offset&&(ne.x+=te.offset.x,ne.y+=te.offset.y);const Ve=this.getCurrentCellStyle(ee);if(ne){const Ye=Ve.rotation??0;Ye!==0&&(ne=getBoundingBox(ne,Ye))}}ne&&(k?k.add(ne):k=Rectangle.fromRectangle(ne))}}return k}},ConnectionsMixin={constrainChildren:!0,constrainRelativeChildren:!1,disconnectOnMove:!0,cellsDisconnectable:!0,getOutlineConstraint(Y,T,k){if(T.shape){const Z=this.getView().getPerimeterBounds(T),ee=T.style.direction;if(ee===DIRECTION.NORTH||ee===DIRECTION.SOUTH){Z.x+=Z.width/2-Z.height/2,Z.y+=Z.height/2-Z.width/2;const it=Z.width;Z.width=Z.height,Z.height=it}const te=toRadians(T.shape.getShapeRotation());if(te!==0){const it=Math.cos(-te),st=Math.sin(-te),nt=new Point$1(Z.getCenterX(),Z.getCenterY());Y=getRotatedPoint(Y,it,st,nt)}let ne=1,me=1,Ve=0,Ye=0;if(T.cell.isVertex()){let it=T.style.flipH,st=T.style.flipV;if(ee===DIRECTION.NORTH||ee===DIRECTION.SOUTH){const nt=it;it=st,st=nt}it&&(ne=-1,Ve=-Z.width),st&&(me=-1,Ye=-Z.height)}Y=new Point$1((Y.x-Z.x)*ne-Ve+Z.x,(Y.y-Z.y)*me-Ye+Z.y);const et=Z.width===0?0:Math.round((Y.x-Z.x)*1e3/Z.width)/1e3,tt=Z.height===0?0:Math.round((Y.y-Z.y)*1e3/Z.height)/1e3;return new ConnectionConstraint(new Point$1(et,tt),!1)}return null},getAllConnectionConstraints(Y,T){var k,Z;return((Z=(k=Y==null?void 0:Y.shape)==null?void 0:k.stencil)==null?void 0:Z.constraints)??null},getConnectionConstraint(Y,T,k=!1){let Z=null;const ee=Y.style[k?"exitX":"entryX"];if(ee!==void 0){const Ve=Y.style[k?"exitY":"entryY"];Ve!==void 0&&(Z=new Point$1(ee,Ve))}let te=!1,ne=0,me=0;return Z&&(te=Y.style[k?"exitPerimeter":"entryPerimeter"]||!1,ne=Y.style[k?"exitDx":"entryDx"],me=Y.style[k?"exitDy":"entryDy"],ne=Number.isFinite(ne)?ne:0,me=Number.isFinite(me)?me:0),new ConnectionConstraint(Z,te,null,ne,me)},setConnectionConstraint(Y,T,k=!1,Z=null){Z&&this.batchUpdate(()=>{!Z||!Z.point?(this.setCellStyles(k?"exitX":"entryX",null,[Y]),this.setCellStyles(k?"exitY":"entryY",null,[Y]),this.setCellStyles(k?"exitDx":"entryDx",null,[Y]),this.setCellStyles(k?"exitDy":"entryDy",null,[Y]),this.setCellStyles(k?"exitPerimeter":"entryPerimeter",null,[Y])):Z.point&&(this.setCellStyles(k?"exitX":"entryX",Z.point.x,[Y]),this.setCellStyles(k?"exitY":"entryY",Z.point.y,[Y]),this.setCellStyles(k?"exitDx":"entryDx",Z.dx,[Y]),this.setCellStyles(k?"exitDy":"entryDy",Z.dy,[Y]),Z.perimeter?this.setCellStyles(k?"exitPerimeter":"entryPerimeter",null,[Y]):this.setCellStyles(k?"exitPerimeter":"entryPerimeter","0",[Y]))})},getConnectionPoint(Y,T,k=!0){let Z=null;if(T.point){const ee=this.getView().getPerimeterBounds(Y),te=new Point$1(ee.getCenterX(),ee.getCenterY()),ne=Y.style.direction;let me=0;Y.style.anchorPointDirection&&(ne===DIRECTION.NORTH?me+=270:ne===DIRECTION.WEST?me+=180:ne===DIRECTION.SOUTH&&(me+=90),(ne===DIRECTION.NORTH||ne===DIRECTION.SOUTH)&&ee.rotate90());const{scale:Ve}=this.getView();Z=new Point$1(ee.x+T.point.x*ee.width+T.dx*Ve,ee.y+T.point.y*ee.height+T.dy*Ve);let Ye=Y.style.rotation||0;if(T.perimeter){if(me!==0){let et=0,tt=0;me===90?tt=1:me===180?et=-1:me===270&&(tt=-1),Z=getRotatedPoint(Z,et,tt,te)}Z=this.getView().getPerimeterPoint(Y,Z,!1)}else if(Ye+=me,Y.cell.isVertex()){let et=Y.style.flipH,tt=Y.style.flipV;if(ne===DIRECTION.NORTH||ne===DIRECTION.SOUTH){const it=et;et=tt,tt=it}et&&(Z.x=2*ee.getCenterX()-Z.x),tt&&(Z.y=2*ee.getCenterY()-Z.y)}if(Ye!==0&&Z){const et=toRadians(Ye),tt=Math.cos(et),it=Math.sin(et);Z=getRotatedPoint(Z,tt,it,te)}}return k&&Z&&(Z.x=Math.round(Z.x),Z.y=Math.round(Z.y)),Z},connectCell(Y,T=null,k=!1,Z=null){return this.batchUpdate(()=>{const ee=Y.getTerminal(k);this.cellConnected(Y,T,k,Z),this.fireEvent(new EventObject(InternalEvent.CONNECT_CELL,"edge",Y,"terminal",T,"source",k,"previous",ee))}),Y},cellConnected(Y,T,k=!1,Z=null){this.batchUpdate(()=>{const ee=Y.getTerminal(k);if(this.setConnectionConstraint(Y,T,k,Z),this.isPortsEnabled()){let te=null;T&&this.isPort(T)&&(te=T.getId(),T=this.getTerminalForPort(T,k));const ne=k?"sourcePort":"targetPort";this.setCellStyles(ne,te,[Y])}this.getDataModel().setTerminal(Y,T,k),this.isResetEdgesOnConnect()&&this.resetEdge(Y),this.fireEvent(new EventObject(InternalEvent.CELL_CONNECTED,"edge",Y,"terminal",T,"source",k,"previous",ee))})},disconnectGraph(Y){this.batchUpdate(()=>{const{scale:T,translate:k}=this.getView(),Z=new Dictionary;for(let ee=0;ee<Y.length;ee+=1)Z.put(Y[ee],!0);for(const ee of Y)if(ee.isEdge()){let te=ee.getGeometry();if(te){const ne=this.getView().getState(ee),me=ee.getParent(),Ve=me?this.getView().getState(me):null;if(ne&&Ve){te=te.clone();const Ye=-Ve.origin.x,et=-Ve.origin.y,tt=ne.absolutePoints;let it=ee.getTerminal(!0);if(it&&this.isCellDisconnectable(ee,it,!0)){for(;it&&!Z.get(it);)it=it.getParent();!it&&tt[0]&&(te.setTerminalPoint(new Point$1(tt[0].x/T-k.x+Ye,tt[0].y/T-k.y+et),!0),this.getDataModel().setTerminal(ee,null,!0))}let st=ee.getTerminal(!1);if(st&&this.isCellDisconnectable(ee,st,!1)){for(;st&&!Z.get(st);)st=st.getParent();if(!st){const nt=tt.length-1,rt=tt[nt];rt&&(te.setTerminalPoint(new Point$1(rt.x/T-k.x+Ye,rt.y/T-k.y+et),!1),this.getDataModel().setTerminal(ee,null,!1))}}this.getDataModel().setGeometry(ee,te)}}}})},getConnections(Y,T=null){return this.getEdges(Y,T,!0,!0,!1)},isConstrainChild(Y){return this.isConstrainChildren()&&!!Y.getParent()&&!Y.getParent().isEdge()},isConstrainChildren(){return this.constrainChildren},setConstrainChildren(Y){this.constrainChildren=Y},isConstrainRelativeChildren(){return this.constrainRelativeChildren},setConstrainRelativeChildren(Y){this.constrainRelativeChildren=Y},isDisconnectOnMove(){return this.disconnectOnMove},setDisconnectOnMove(Y){this.disconnectOnMove=Y},isCellDisconnectable(Y,T=null,k=!1){return this.isCellsDisconnectable()&&!this.isCellLocked(Y)},isCellsDisconnectable(){return this.cellsDisconnectable},setCellsDisconnectable(Y){this.cellsDisconnectable=Y},isValidSource(Y){return Y==null&&this.isAllowDanglingEdges()||Y!=null&&(!Y.isEdge()||this.isConnectableEdges())&&Y.isConnectable()},isValidTarget(Y){return this.isValidSource(Y)},isValidConnection(Y,T){return this.isValidSource(Y)&&this.isValidTarget(T)},setConnectable(Y){const T=this.getPlugin("ConnectionHandler");T==null||T.setEnabled(Y)},isConnectable(){const Y=this.getPlugin("ConnectionHandler");return(Y==null?void 0:Y.isEnabled())??!1}},DragDropMixin={dropEnabled:!1,splitEnabled:!0,autoScroll:!0,isAutoScroll(){return this.autoScroll},autoExtend:!0,isAutoExtend(){return this.autoExtend},isDropEnabled(){return this.dropEnabled},setDropEnabled(Y){this.dropEnabled=Y},isSplitEnabled(){return this.splitEnabled},setSplitEnabled(Y){this.splitEnabled=Y},isSplitTarget(Y,T=[],k){if(Y.isEdge()&&T.length===1&&T[0].isConnectable()&&!this.getEdgeValidationError(Y,Y.getTerminal(!0),T[0])){const Z=Y.getTerminal(!0),ee=Y.getTerminal(!1);return!T[0].isAncestor(Z)&&!T[0].isAncestor(ee)}return!1}},EdgeMixin={resetEdgesOnResize:!1,isResetEdgesOnResize(){return this.resetEdgesOnResize},resetEdgesOnMove:!1,isResetEdgesOnMove(){return this.resetEdgesOnMove},resetEdgesOnConnect:!0,isResetEdgesOnConnect(){return this.resetEdgesOnConnect},connectableEdges:!1,allowDanglingEdges:!0,cloneInvalidEdges:!1,alternateEdgeStyle:{},edgeLabelsMovable:!0,isEdgeLabelsMovable(){return this.edgeLabelsMovable},setEdgeLabelsMovable(Y){this.edgeLabelsMovable=Y},setAllowDanglingEdges(Y){this.allowDanglingEdges=Y},isAllowDanglingEdges(){return this.allowDanglingEdges},setConnectableEdges(Y){this.connectableEdges=Y},isConnectableEdges(){return this.connectableEdges},setCloneInvalidEdges(Y){this.cloneInvalidEdges=Y},isCloneInvalidEdges(){return this.cloneInvalidEdges},flipEdge(Y){return this.alternateEdgeStyle&&this.batchUpdate(()=>{const T=Y.getStyle();Object.keys(T).length?this.getDataModel().setStyle(Y,this.alternateEdgeStyle):this.getDataModel().setStyle(Y,{}),this.resetEdge(Y),this.fireEvent(new EventObject(InternalEvent.FLIP_EDGE,{edge:Y}))}),Y},splitEdge(Y,T,k,Z=0,ee=0,te,ne,me=null){me=me??Y.getParent();const Ve=Y.getTerminal(!0);return this.batchUpdate(()=>{if(!k){k=this.cloneCell(Y);const Ye=this.getView().getState(Y);let et=k.getGeometry();if(et&&Ye){const tt=this.getView().translate,it=this.getView().scale,st=findNearestSegment(Ye,(Z+tt.x)*it,(ee+tt.y)*it);et.points=et.points.slice(0,st),et=Y.getGeometry(),et&&(et=et.clone(),et.points=et.points.slice(st),this.getDataModel().setGeometry(Y,et))}}this.cellsMoved(T,Z,ee,!1,!1),this.cellsAdded(T,me,me?me.getChildCount():0,null,null,!0),this.cellsAdded([k],me,me?me.getChildCount():0,Ve,T[0],!1),this.cellConnected(Y,T[0],!0),this.fireEvent(new EventObject(InternalEvent.SPLIT_EDGE,{edge:Y,cells:T,newEdge:k,dx:Z,dy:ee}))}),k},insertEdge(...Y){let T,k,Z,ee,te,ne;if(Y.length===1&&typeof Y[0]=="object"){const Ve=Y[0];T=Ve.parent,k=Ve.id,Z=Ve.value,ee=Ve.source,te=Ve.target,ne=Ve.style}else[T,k,Z,ee,te,ne]=Y;const me=this.createEdge(T,k,Z,ee,te,ne);return this.addEdge(me,T,ee,te)},createEdge(Y=null,T,k,Z=null,ee=null,te={}){const ne=new Cell(k,new Geometry,te);return ne.setId(T),ne.setEdge(!0),ne.geometry.relative=!0,ne},addEdge(Y,T=null,k=null,Z=null,ee=null){return this.addCell(Y,T,ee,k,Z)},addAllEdges(Y){const T=Y.slice();return removeDuplicates(T.concat(this.getAllEdges(Y)))},getAllEdges(Y){let T=[];if(Y)for(let k=0;k<Y.length;k+=1){const Z=Y[k].getEdgeCount();for(let te=0;te<Z;te++)T.push(Y[k].getEdgeAt(te));const ee=Y[k].getChildren();T=T.concat(this.getAllEdges(ee))}return T},getIncomingEdges(Y,T=null){return this.getEdges(Y,T,!0,!1,!1)},getOutgoingEdges(Y,T=null){return this.getEdges(Y,T,!1,!0,!1)},getEdges(Y,T=null,k=!0,Z=!0,ee=!0,te=!1){let ne=[];const me=Y.isCollapsed(),Ve=Y.getChildCount();for(let et=0;et<Ve;et+=1){const tt=Y.getChildAt(et);(me||!tt.isVisible())&&(ne=ne.concat(tt.getEdges(k,Z)))}ne=ne.concat(Y.getEdges(k,Z));const Ye=[];for(let et=0;et<ne.length;et+=1){const tt=this.getView().getState(ne[et]),it=tt?tt.getVisibleTerminal(!0):this.getView().getVisibleTerminal(ne[et],!0),st=tt?tt.getVisibleTerminal(!1):this.getView().getVisibleTerminal(ne[et],!1);(ee&&it===st||it!==st&&(k&&st===Y&&(!T||this.isValidAncestor(it,T,te))||Z&&it===Y&&(!T||this.isValidAncestor(st,T,te))))&&Ye.push(ne[et])}return Ye},getChildEdges(Y){return this.getChildCells(Y,!1,!0)},getEdgesBetween(Y,T,k=!1){const Z=this.getEdges(Y),ee=[];for(let te=0;te<Z.length;te+=1){const ne=this.getView().getState(Z[te]),me=ne?ne.getVisibleTerminal(!0):this.getView().getVisibleTerminal(Z[te],!0),Ve=ne?ne.getVisibleTerminal(!1):this.getView().getVisibleTerminal(Z[te],!1);(me===Y&&Ve===T||!k&&me===T&&Ve===Y)&&ee.push(Z[te])}return ee},resetEdges(Y){const T=new Dictionary;for(let k=0;k<Y.length;k+=1)T.put(Y[k],!0);this.batchUpdate(()=>{for(let k=0;k<Y.length;k+=1){const Z=Y[k].getEdges();for(let ee=0;ee<Z.length;ee++){const te=this.getView().getState(Z[ee]),ne=te?te.getVisibleTerminal(!0):this.getView().getVisibleTerminal(Z[ee],!0),me=te?te.getVisibleTerminal(!1):this.getView().getVisibleTerminal(Z[ee],!1);(!T.get(ne)||!T.get(me))&&this.resetEdge(Z[ee])}this.resetEdges(Y[k].getChildren())}})},resetEdge(Y){let T=Y.getGeometry();return T&&T.points&&T.points.length>0&&(T=T.clone(),T.points=[],this.getDataModel().setGeometry(Y,T)),Y}},EditingMixin={cellsEditable:!0,startEditing(Y){this.startEditingAtCell(null,Y)},startEditingAtCell(Y=null,T){if(!T||!isMultiTouchEvent(T))if(!Y)Y=this.getSelectionCell(),Y&&!this.isCellEditable(Y)&&(Y=null);else{this.fireEvent(new EventObject(InternalEvent.START_EDITING,{cell:Y,event:T}));const k=this.getPlugin("CellEditorHandler");k==null||k.startEditing(Y,T),this.fireEvent(new EventObject(InternalEvent.EDITING_STARTED,{cell:Y,event:T}))}},getEditingValue(Y,T){return this.convertValueToString(Y)},stopEditing(Y=!1){const T=this.getPlugin("CellEditorHandler");T==null||T.stopEditing(Y),this.fireEvent(new EventObject(InternalEvent.EDITING_STOPPED,{cancel:Y}))},labelChanged(Y,T,k){return this.batchUpdate(()=>{const Z=Y.value;this.cellLabelChanged(Y,T,this.isAutoSizeCell(Y)),this.fireEvent(new EventObject(InternalEvent.LABEL_CHANGED,{cell:Y,value:T,old:Z,event:k}))}),Y},cellLabelChanged(Y,T,k=!1){this.batchUpdate(()=>{this.getDataModel().setValue(Y,T),k&&this.cellSizeUpdated(Y,!1)})},isEditing(Y=null){const T=this.getPlugin("CellEditorHandler"),k=T==null?void 0:T.getEditingCell();return Y?Y===k:!!k},isCellEditable(Y){const T=this.getCurrentCellStyle(Y);return this.isCellsEditable()&&!this.isCellLocked(Y)&&(T.editable||!1)},isCellsEditable(){return this.cellsEditable},setCellsEditable(Y){this.cellsEditable=Y}},EventsMixin={lastTouchEvent:null,doubleClickCounter:0,lastTouchCell:null,fireDoubleClick:null,tapAndHoldThread:null,lastMouseX:null,lastMouseY:null,isMouseTrigger:null,ignoreMouseEvents:null,mouseMoveRedirect:null,mouseUpRedirect:null,lastEvent:null,escapeEnabled:!0,invokesStopCellEditing:!0,enterStopsCellEditing:!1,isMouseDown:!1,nativeDblClickEnabled:!0,doubleTapEnabled:!0,doubleTapTimeout:500,doubleTapTolerance:25,lastTouchX:0,lastTouchY:0,lastTouchTime:0,tapAndHoldEnabled:!0,tapAndHoldDelay:500,tapAndHoldInProgress:!1,tapAndHoldValid:!1,initialTouchX:0,initialTouchY:0,tolerance:4,isNativeDblClickEnabled(){return this.nativeDblClickEnabled},getEventTolerance(){return this.tolerance},setEventTolerance(Y){this.tolerance=Y},escape(Y){this.fireEvent(new EventObject(InternalEvent.ESCAPE,{event:Y}))},click(Y){const T=Y.getEvent();let k=Y.getCell();const Z=new EventObject(InternalEvent.CLICK,{event:T,cell:k});if(Y.isConsumed()&&Z.consume(),this.fireEvent(Z),this.isEnabled()&&!isConsumed(T)&&!Z.isConsumed()){if(k){if(this.isTransparentClickEvent(T)){let ee=!1;const te=this.getCellAt(Y.graphX,Y.graphY,null,!1,!1,ne=>{const me=this.isCellSelected(ne.cell);return ee=ee||me,!ee||me||ne.cell!==k&&ne.cell.isAncestor(k)});te&&(k=te)}}else if(this.isSwimlaneSelectionEnabled()&&(k=this.getSwimlaneAt(Y.getGraphX(),Y.getGraphY()),k!=null&&(!this.isToggleEvent(T)||!isAltDown(T)))){let ee=k,te=[];for(;ee!=null;){ee=ee.getParent();const ne=this.getView().getState(ee);this.isSwimlane(ee)&&ne!=null&&te.push(ee)}if(te.length>0){te=te.reverse(),te.splice(0,0,k),te.push(k);for(let ne=0;ne<te.length-1;ne+=1)this.isCellSelected(te[ne])&&(k=te[this.isToggleEvent(T)?ne:ne+1])}}k?this.selectCellForEvent(k,T):this.isToggleEvent(T)||this.clearSelection()}return!1},dblClick(Y,T=null){const k=new EventObject(InternalEvent.DOUBLE_CLICK,{event:Y,cell:T});this.fireEvent(k),this.isEnabled()&&!isConsumed(Y)&&!k.isConsumed()&&T&&this.isCellEditable(T)&&!this.isEditing(T)&&(this.startEditingAtCell(T,Y),InternalEvent.consume(Y))},tapAndHold(Y){const T=Y.getEvent(),k=new EventObject(InternalEvent.TAP_AND_HOLD,{event:T,cell:Y.getCell()}),Z=this.getPlugin("PanningHandler"),ee=this.getPlugin("ConnectionHandler");if(this.fireEvent(k),k.isConsumed()&&Z&&(Z.panningTrigger=!1),this.isEnabled()&&!isConsumed(T)&&!k.isConsumed()&&ee&&ee.isEnabled()){const te=ee.marker.getCell(Y);if(te){const ne=this.getView().getState(te);ne&&(ee.marker.currentColor=ee.marker.validColor,ee.marker.markedState=ne,ee.marker.mark(),ee.first=new Point$1(Y.getGraphX(),Y.getGraphY()),ee.edgeState=ee.createEdgeState(Y),ee.previous=ne,ee.fireEvent(new EventObject(InternalEvent.START,{state:ee.previous})))}}},addMouseListener(Y){this.mouseListeners.push(Y)},removeMouseListener(Y){for(let T=0;T<this.mouseListeners.length;T+=1)if(this.mouseListeners[T]===Y){this.mouseListeners.splice(T,1);break}},updateMouseEvent(Y,T){const k=convertPoint(this.getContainer(),Y.getX(),Y.getY());if(Y.graphX=k.x-this.getPanDx(),Y.graphY=k.y-this.getPanDy(),!Y.getCell()&&this.isMouseDown&&T===InternalEvent.MOUSE_MOVE){const Z=this.getCellAt(k.x,k.y,null,!0,!0,ee=>!ee.shape||ee.shape.paintBackground!==this.paintBackground||ee.style.pointerEvents||ee.shape.fill!==NONE);Y.state=Z?this.getView().getState(Z):null}return Y},getStateForTouchEvent(Y){const T=getClientX(Y),k=getClientY(Y),Z=convertPoint(this.getContainer(),T,k),ee=this.getCellAt(Z.x,Z.y);return ee?this.getView().getState(ee):null},isEventIgnored(Y,T,k){const Z=isMouseEvent(T.getEvent());let ee=!1;T.getEvent()===this.lastEvent?ee=!0:this.lastEvent=T.getEvent();const te=this.getEventSource();return te&&Y!==InternalEvent.MOUSE_MOVE?(InternalEvent.removeGestureListeners(te,null,this.mouseMoveRedirect,this.mouseUpRedirect),this.mouseMoveRedirect=null,this.mouseUpRedirect=null,this.setEventSource(null)):!Client.IS_GC&&te&&T.getSource()!==te?ee=!0:te&&Client.IS_TOUCH&&Y===InternalEvent.MOUSE_DOWN&&!Z&&!isPenEvent(T.getEvent())&&(this.setEventSource(T.getSource()),this.mouseMoveRedirect=ne=>{this.fireMouseEvent(InternalEvent.MOUSE_MOVE,new InternalMouseEvent(ne,this.getStateForTouchEvent(ne)))},this.mouseUpRedirect=ne=>{this.fireMouseEvent(InternalEvent.MOUSE_UP,new InternalMouseEvent(ne,this.getStateForTouchEvent(ne)))},InternalEvent.addGestureListeners(te,null,this.mouseMoveRedirect,this.mouseUpRedirect)),this.isSyntheticEventIgnored(Y,T,k)&&(ee=!0),!isPopupTrigger(this.lastEvent)&&Y!==InternalEvent.MOUSE_MOVE&&this.lastEvent.detail===2?!0:(Y===InternalEvent.MOUSE_UP&&this.isMouseDown?this.isMouseDown=!1:Y===InternalEvent.MOUSE_DOWN&&!this.isMouseDown?(this.isMouseDown=!0,this.isMouseTrigger=Z):!ee&&((!Client.IS_FF||Y!==InternalEvent.MOUSE_MOVE)&&this.isMouseDown&&this.isMouseTrigger!==Z||Y===InternalEvent.MOUSE_DOWN&&this.isMouseDown||Y===InternalEvent.MOUSE_UP&&!this.isMouseDown)&&(ee=!0),!ee&&Y===InternalEvent.MOUSE_DOWN&&(this.lastMouseX=T.getX(),this.lastMouseY=T.getY()),ee)},isSyntheticEventIgnored(Y,T,k){let Z=!1;const ee=isMouseEvent(T.getEvent());return this.ignoreMouseEvents&&ee&&Y!==InternalEvent.MOUSE_MOVE?(this.ignoreMouseEvents=Y!==InternalEvent.MOUSE_UP,Z=!0):Client.IS_FF&&!ee&&Y===InternalEvent.MOUSE_UP&&(this.ignoreMouseEvents=!0),Z},isEventSourceIgnored(Y,T){const k=T.getSource();if(!k)return!0;const Z=k.nodeName?k.nodeName.toLowerCase():"",ee=!isMouseEvent(T.getEvent())||isLeftMouseButton(T.getEvent());return Y===InternalEvent.MOUSE_DOWN&&ee&&(Z==="select"||Z==="option"||Z==="input"&&k.type!=="checkbox"&&k.type!=="radio"&&k.type!=="button"&&k.type!=="submit"&&k.type!=="file")},getEventState(Y){return Y},fireMouseEvent(Y,T,k){if(k=k??this,this.isEventSourceIgnored(Y,T)){const Z=this.getPlugin("TooltipHandler");Z&&Z.hide();return}if(T=this.updateMouseEvent(T,Y),!this.nativeDblClickEnabled&&!isPopupTrigger(T.getEvent())||this.doubleTapEnabled&&Client.IS_TOUCH&&(isTouchEvent(T.getEvent())||isPenEvent(T.getEvent()))){const Z=new Date().getTime();if(Y===InternalEvent.MOUSE_DOWN)if(this.lastTouchEvent&&this.lastTouchEvent!==T.getEvent()&&Z-this.lastTouchTime<this.doubleTapTimeout&&Math.abs(this.lastTouchX-T.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-T.getY())<this.doubleTapTolerance&&this.doubleClickCounter<2){this.doubleClickCounter+=1;let ee=!1;if(Y===InternalEvent.MOUSE_UP){if(T.getCell()===this.lastTouchCell&&this.lastTouchCell){this.lastTouchTime=0;const te=this.lastTouchCell;this.lastTouchCell=null,this.dblClick(T.getEvent(),te),ee=!0}}else this.fireDoubleClick=!0,this.lastTouchTime=0;if(ee){InternalEvent.consume(T.getEvent());return}}else(!this.lastTouchEvent||this.lastTouchEvent!==T.getEvent())&&(this.lastTouchCell=T.getCell(),this.lastTouchX=T.getX(),this.lastTouchY=T.getY(),this.lastTouchTime=Z,this.lastTouchEvent=T.getEvent(),this.doubleClickCounter=0);else if((this.isMouseDown||Y===InternalEvent.MOUSE_UP)&&this.fireDoubleClick){this.fireDoubleClick=!1;const ee=this.lastTouchCell;this.lastTouchCell=null,this.isMouseDown=!1,(ee||(isTouchEvent(T.getEvent())||isPenEvent(T.getEvent()))&&(Client.IS_GC||Client.IS_SF))&&Math.abs(this.lastTouchX-T.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-T.getY())<this.doubleTapTolerance?this.dblClick(T.getEvent(),ee):InternalEvent.consume(T.getEvent());return}}if(!this.isEventIgnored(Y,T,k)){const Z=T.getState();if(T.state=Z?this.getEventState(Z):null,this.fireEvent(new EventObject(InternalEvent.FIRE_MOUSE_EVENT,{eventName:Y,event:T})),Client.IS_SF||Client.IS_GC||T.getEvent().target!==this.getContainer()){const te=this.getContainer();if(Y===InternalEvent.MOUSE_MOVE&&this.isMouseDown&&this.isAutoScroll()&&!isMultiTouchEvent(T.getEvent()))this.scrollPointToVisible(T.getGraphX(),T.getGraphY(),this.isAutoExtend());else if(Y===InternalEvent.MOUSE_UP&&this.isIgnoreScrollbars()&&this.isTranslateToScrollPosition()&&(te.scrollLeft!==0||te.scrollTop!==0)){const me=this.getView().scale,Ve=this.getView().translate;this.getView().setTranslate(Ve.x-te.scrollLeft/me,Ve.y-te.scrollTop/me),te.scrollLeft=0,te.scrollTop=0}const ne=this.mouseListeners;T.getEvent().preventDefault||(T.getEvent().returnValue=!0);for(const me of ne)Y===InternalEvent.MOUSE_DOWN?me.mouseDown(k,T):Y===InternalEvent.MOUSE_MOVE?me.mouseMove(k,T):Y===InternalEvent.MOUSE_UP&&me.mouseUp(k,T);Y===InternalEvent.MOUSE_UP&&this.click(T)}if((isTouchEvent(T.getEvent())||isPenEvent(T.getEvent()))&&Y===InternalEvent.MOUSE_DOWN&&this.tapAndHoldEnabled&&!this.tapAndHoldInProgress){this.tapAndHoldInProgress=!0,this.initialTouchX=T.getGraphX(),this.initialTouchY=T.getGraphY();const te=()=>{this.tapAndHoldValid&&this.tapAndHold(T),this.tapAndHoldInProgress=!1,this.tapAndHoldValid=!1};this.tapAndHoldThread&&window.clearTimeout(this.tapAndHoldThread),this.tapAndHoldThread=window.setTimeout(te,this.tapAndHoldDelay),this.tapAndHoldValid=!0}else Y===InternalEvent.MOUSE_UP?(this.tapAndHoldInProgress=!1,this.tapAndHoldValid=!1):this.tapAndHoldValid&&(this.tapAndHoldValid=Math.abs(this.initialTouchX-T.getGraphX())<this.tolerance&&Math.abs(this.initialTouchY-T.getGraphY())<this.tolerance);const ee=this.getPlugin("CellEditorHandler");Y===InternalEvent.MOUSE_DOWN&&this.isEditing()&&!(ee!=null&&ee.isEventSource(T.getEvent()))&&this.stopEditing(!this.isInvokesStopCellEditing()),this.consumeMouseEvent(Y,T,k)}},consumeMouseEvent(Y,T,k){Y===InternalEvent.MOUSE_DOWN&&isTouchEvent(T.getEvent())&&T.consume(!1)},fireGestureEvent(Y,T=null){this.lastTouchTime=0,this.fireEvent(new EventObject(InternalEvent.GESTURE,{event:Y,cell:T}))},sizeDidChange(){const Y=this.getGraphBounds(),T=this.getBorder();let k=Math.max(0,Y.x)+Y.width+2*T,Z=Math.max(0,Y.y)+Y.height+2*T;const ee=this.getMinimumContainerSize();if(ee&&(k=Math.max(k,ee.width),Z=Math.max(Z,ee.height)),this.isResizeContainer()&&this.doResizeContainer(k,Z),this.isPreferPageSize()||this.isPageVisible()){const me=this.getPreferredPageSize(Y,Math.max(1,k),Math.max(1,Z));k=me.width*this.getView().scale,Z=me.height*this.getView().scale}const te=this.getMinimumGraphSize();te&&(k=Math.max(k,te.width*this.getView().scale),Z=Math.max(Z,te.height*this.getView().scale)),k=Math.ceil(k),Z=Math.ceil(Z);const ne=this.getView().getDrawPane().ownerSVGElement;ne&&(ne.style.minWidth=`${Math.max(1,k)}px`,ne.style.minHeight=`${Math.max(1,Z)}px`,ne.style.width="100%",ne.style.height="100%"),this.updatePageBreaks(this.isPageBreaksVisible(),k,Z),this.fireEvent(new EventObject(InternalEvent.SIZE,{bounds:Y}))},isCloneEvent(Y){return isControlDown(Y)},isTransparentClickEvent(Y){return!1},isToggleEvent(Y){return Client.IS_MAC?isMetaDown(Y):isControlDown(Y)},isGridEnabledEvent(Y){return!isAltDown(Y)},isConstrainedEvent(Y){return isShiftDown(Y)},isIgnoreTerminalEvent(Y){return!1},getPointForEvent(Y,T=!0){const k=convertPoint(this.getContainer(),getClientX(Y),getClientY(Y)),Z=this.getView().scale,ee=this.getView().translate,te=T?this.getGridSize()/2:0;return k.x=this.snap(k.x/Z-ee.x-te),k.y=this.snap(k.y/Z-ee.y-te),k},isEscapeEnabled(){return this.escapeEnabled},setEscapeEnabled(Y){this.escapeEnabled=Y},isInvokesStopCellEditing(){return this.invokesStopCellEditing},setInvokesStopCellEditing(Y){this.invokesStopCellEditing=Y},isEnterStopsCellEditing(){return this.enterStopsCellEditing},setEnterStopsCellEditing(Y){this.enterStopsCellEditing=Y},getCursorForMouseEvent(Y){const T=Y.getCell();return T?this.getCursorForCell(T):null}},FoldingMixin={options:{foldingEnabled:!0,collapsedImage:new ImageBox(`${Client.imageBasePath}/collapsed.gif`,9,9),expandedImage:new ImageBox(`${Client.imageBasePath}/expanded.gif`,9,9),collapseToPreferredSize:!0},collapseExpandResource:Client.language!="none"?"collapse-expand":"",getCollapseExpandResource(){return this.collapseExpandResource},isFoldingEnabled(){return this.options.foldingEnabled},getFoldableCells(Y,T=!1){return this.getDataModel().filterCells(Y,k=>this.isCellFoldable(k,T))},isCellFoldable(Y,T){const k=this.getCurrentCellStyle(Y);return Y.getChildCount()>0&&(k.foldable??!0)},getFoldingImage(Y){if(Y!=null&&this.isFoldingEnabled()&&!Y.cell.isEdge()){const T=Y.cell.isCollapsed();if(this.isCellFoldable(Y.cell,!T))return T?this.options.collapsedImage:this.options.expandedImage}return null},foldCells(Y=!1,T=!1,k=null,Z=!1,ee=null){return k==null&&(k=this.getFoldableCells(this.getSelectionCells(),Y)),this.stopEditing(!1),this.batchUpdate(()=>{this.cellsFolded(k,Y,T,Z),this.fireEvent(new EventObject(InternalEvent.FOLD_CELLS,"collapse",Y,"recurse",T,"cells",k))}),k},cellsFolded(Y=null,T=!1,k=!1,Z=!1){Y!=null&&Y.length>0&&this.batchUpdate(()=>{for(let ee=0;ee<Y.length;ee+=1)if((!Z||this.isCellFoldable(Y[ee],T))&&T!==Y[ee].isCollapsed()){if(this.getDataModel().setCollapsed(Y[ee],T),this.swapBounds(Y[ee],T),this.isExtendParent(Y[ee])&&this.extendParent(Y[ee]),k){const te=Y[ee].getChildren();this.cellsFolded(te,T,k)}this.constrainChild(Y[ee])}this.fireEvent(new EventObject(InternalEvent.CELLS_FOLDED,{cells:Y,collapse:T,recurse:k}))})},swapBounds(Y,T=!1){let k=Y.getGeometry();k!=null&&(k=k.clone(),this.updateAlternateBounds(Y,k,T),k.swap(),this.getDataModel().setGeometry(Y,k))},updateAlternateBounds(Y=null,T=null,k=!1){if(Y!=null&&T!=null){const Z=this.getCurrentCellStyle(Y);if(T.alternateBounds==null){let ee=T;if(this.options.collapseToPreferredSize){const te=this.getPreferredSizeForCell(Y);if(te!=null){ee=te;const ne=getValue(Z,"startSize");ne>0&&(ee.height=Math.max(ee.height,ne))}}T.alternateBounds=new Rectangle(0,0,ee.width,ee.height)}if(T.alternateBounds!=null){T.alternateBounds.x=T.x,T.alternateBounds.y=T.y;const ee=toRadians(Z.rotation||0);if(ee!==0){const te=T.alternateBounds.getCenterX()-T.getCenterX(),ne=T.alternateBounds.getCenterY()-T.getCenterY(),me=Math.cos(ee),Ve=Math.sin(ee),Ye=me*te-Ve*ne,et=Ve*te+me*ne;T.alternateBounds.x+=Ye-te,T.alternateBounds.y+=et-ne}}}}},GroupingMixin={groupCells(Y,T=0,k){k||(k=sortCells(this.getSelectionCells(),!0)),k||(k=this.getCellsForGroup(k)),Y==null&&(Y=this.createGroupCell(k));const Z=this.getBoundsForGroup(Y,k,T);if(k.length>1&&Z!=null){let ee=Y.getParent();ee==null&&(ee=k[0].getParent()),this.batchUpdate(()=>{Y.getGeometry()==null&&this.getDataModel().setGeometry(Y,new Geometry);let te=ee.getChildCount();this.cellsAdded([Y],ee,te,null,null,!1,!1,!1),te=Y.getChildCount(),this.cellsAdded(k,Y,te,null,null,!1,!1,!1),this.cellsMoved(k,-Z.x,-Z.y,!1,!1,!1),this.cellsResized([Y],[Z],!1),this.fireEvent(new EventObject(InternalEvent.GROUP_CELLS,{group:Y,border:T,cells:k}))})}return Y},getCellsForGroup(Y){const T=[];if(Y!=null&&Y.length>0){const k=Y[0].getParent();T.push(Y[0]);for(let Z=1;Z<Y.length;Z+=1)Y[Z].getParent()===k&&T.push(Y[Z])}return T},getBoundsForGroup(Y,T,k){const Z=this.getBoundingBoxFromGeometry(T,!0);if(Z!=null){if(this.isSwimlane(Y)){const ee=this.getStartSize(Y);Z.x-=ee.width,Z.y-=ee.height,Z.width+=ee.width,Z.height+=ee.height}k!=null&&(Z.x-=k,Z.y-=k,Z.width+=2*k,Z.height+=2*k)}return Z},createGroupCell(Y){const T=new Cell("");return T.setVertex(!0),T.setConnectable(!1),T},ungroupCells(Y){let T=[];return Y==null&&(Y=this.getCellsForUngroup()),Y!=null&&Y.length>0&&this.batchUpdate(()=>{const k=Y;for(let Z=0;Z<k.length;Z+=1){let ee=k[Z].getChildren();if(ee!=null&&ee.length>0){ee=ee.slice();const te=k[Z].getParent(),ne=te.getChildCount();this.cellsAdded(ee,te,ne,null,null,!0),T=T.concat(ee);for(const me of ee){const Ve=this.getView().getState(me);let Ye=me.getGeometry();Ve!=null&&Ye!=null&&Ye.relative&&(Ye=Ye.clone(),Ye.x=Ve.origin.x,Ye.y=Ve.origin.y,Ye.relative=!1,this.getDataModel().setGeometry(me,Ye))}}}this.removeCellsAfterUngroup(k),this.fireEvent(new EventObject(InternalEvent.UNGROUP_CELLS,{cells:Y}))}),T},getCellsForUngroup(){const Y=this.getSelectionCells(),T=[];for(let k=0;k<Y.length;k+=1)Y[k].isVertex()&&Y[k].getChildCount()>0&&T.push(Y[k]);return T},removeCellsAfterUngroup(Y){this.cellsRemoved(this.addAllEdges(Y))},removeCellsFromParent(Y){return Y==null&&(Y=this.getSelectionCells()),this.batchUpdate(()=>{const T=this.getDefaultParent(),k=T.getChildCount();this.cellsAdded(Y,T,k,null,null,!0),this.fireEvent(new EventObject(InternalEvent.REMOVE_CELLS_FROM_PARENT,{cells:Y}))}),Y},updateGroupBounds(Y,T=0,k=!1,Z=0,ee=0,te=0,ne=0){return Y==null&&(Y=this.getSelectionCells()),T=T??0,k=k??!1,Z=Z??0,ee=ee??0,te=te??0,ne=ne??0,this.batchUpdate(()=>{for(let me=Y.length-1;me>=0;me--){let Ve=Y[me].getGeometry();if(Ve==null)continue;const Ye=this.getChildCells(Y[me]);if(Ye!=null&&Ye.length>0){const et=this.getBoundingBoxFromGeometry(Ye,!0);if(et!=null&&et.width>0&&et.height>0){const tt=this.isSwimlane(Y[me])?this.getActualStartSize(Y[me],!0):new Rectangle;Ve=Ve.clone(),k&&(Ve.x=Math.round(Ve.x+et.x-T-tt.x-ne),Ve.y=Math.round(Ve.y+et.y-T-tt.y-Z)),Ve.width=Math.round(et.width+2*T+tt.x+ne+ee+tt.width),Ve.height=Math.round(et.height+2*T+tt.y+Z+te+tt.height),this.getDataModel().setGeometry(Y[me],Ve),this.moveCells(Ye,T+tt.x-et.x+ne,T+tt.y-et.y+Z)}}}}),Y},enterGroup(Y){Y=Y||this.getSelectionCell(),Y!=null&&this.isValidRoot(Y)&&(this.getView().setCurrentRoot(Y),this.clearSelection())},exitGroup(){const Y=this.getDataModel().getRoot(),T=this.getCurrentRoot();if(T!=null){let k=T.getParent();for(;k!==Y&&!this.isValidRoot(k)&&k.getParent()!==Y;)k=k.getParent();k===Y||k.getParent()===Y?this.getView().setCurrentRoot(null):this.getView().setCurrentRoot(k),this.getView().getState(T)!=null&&this.setSelectionCell(T)}}},ImageMixin={addImageBundle(Y){this.imageBundles.push(Y)},removeImageBundle(Y){const T=[];for(let k=0;k<this.imageBundles.length;k+=1)this.imageBundles[k]!==Y&&T.push(this.imageBundles[k]);this.imageBundles=T},getImageFromBundles(Y){if(Y)for(let T=0;T<this.imageBundles.length;T+=1){const k=this.imageBundles[T].getImage(Y);if(k)return k}return null}},LabelMixin={getLabel(Y){let T="";return this.isLabelsVisible()&&Y!=null&&((this.getCurrentCellStyle(Y).noLabel??!1)||(T=this.convertValueToString(Y))),T},isHtmlLabel(Y){return this.isHtmlLabels()},labelsVisible:!0,isLabelsVisible(){return this.labelsVisible},htmlLabels:!1,isHtmlLabels(){return this.htmlLabels},setHtmlLabels(Y){this.htmlLabels=Y},isWrapping(Y){return this.getCurrentCellStyle(Y).whiteSpace==="wrap"},isLabelClipped(Y){return this.getCurrentCellStyle(Y).overflow==="hidden"},isLabelMovable(Y){return!this.isCellLocked(Y)&&(Y.isEdge()&&this.isEdgeLabelsMovable()||Y.isVertex()&&this.isVertexLabelsMovable())}},OrderMixin={orderCells(Y=!1,T){return T||(T=this.getSelectionCells()),T||(T=sortCells(this.getSelectionCells(),!0)),this.batchUpdate(()=>{this.cellsOrdered(T,Y);const k=new EventObject(InternalEvent.ORDER_CELLS,"back",Y,"cells",T);this.fireEvent(k)}),T},cellsOrdered(Y,T=!1){this.batchUpdate(()=>{for(let k=0;k<Y.length;k+=1){const Z=Y[k].getParent();T?this.getDataModel().add(Z,Y[k],k):this.getDataModel().add(Z,Y[k],Z?Z.getChildCount()-1:0)}this.fireEvent(new EventObject(InternalEvent.CELLS_ORDERED,{back:T,cells:Y}))})}};class CellOverlay extends EventSource{constructor(T,k=null,Z="right",ee="bottom",te=new Point$1,ne="help"){super(),this.align="right",this.verticalAlign="bottom",this.offset=new Point$1,this.cursor="help",this.defaultOverlap=.5,this.image=T,this.tooltip=k,this.align=Z,this.verticalAlign=ee,this.offset=te,this.cursor=ne}getBounds(T){const k=T.cell.isEdge(),Z=T.view.scale;let ee=null;const te=this.image,ne=te.width,me=te.height;if(k){const Ve=T.absolutePoints;if(Ve.length%2===1)ee=Ve[Math.floor(Ve.length/2)];else{const Ye=Ve.length/2,et=Ve[Ye-1],tt=Ve[Ye];ee=new Point$1(et.x+(tt.x-et.x)/2,et.y+(tt.y-et.y)/2)}}else{if(ee=new Point$1,this.align==="left")ee.x=T.x;else if(this.align==="center")ee.x=T.x+T.width/2;else if(this.align==="right")ee.x=T.x+T.width;else throw new Error;if(this.verticalAlign==="top")ee.y=T.y;else if(this.verticalAlign==="middle")ee.y=T.y+T.height/2;else if(this.verticalAlign==="bottom")ee.y=T.y+T.height;else throw new Error}return new Rectangle(Math.round(ee.x-(ne*this.defaultOverlap-this.offset.x)*Z),Math.round(ee.y-(me*this.defaultOverlap-this.offset.y)*Z),ne*Z,me*Z)}toString(){return this.tooltip}}const OverlaysMixin={addCellOverlay(Y,T){Y.overlays.push(T);const k=this.getView().getState(Y);return k&&this.getCellRenderer().redraw(k),this.fireEvent(new EventObject(InternalEvent.ADD_OVERLAY,{cell:Y,overlay:T})),T},getCellOverlays(Y){return Y.overlays},removeCellOverlay(Y,T=null){if(!T)this.removeCellOverlays(Y);else{const k=Y.overlays.indexOf(T);if(k>=0){Y.overlays.splice(k,1);const Z=this.getView().getState(Y);Z&&this.getCellRenderer().redraw(Z),this.fireEvent(new EventObject(InternalEvent.REMOVE_OVERLAY,{cell:Y,overlay:T}))}else T=null}return T},removeCellOverlays(Y){const{overlays:T}=Y;Y.overlays=[];const k=this.getView().getState(Y);k&&this.getCellRenderer().redraw(k);for(let Z=0;Z<T.length;Z+=1)this.fireEvent(new EventObject(InternalEvent.REMOVE_OVERLAY,"cell",Y,"overlay",T[Z]));return T},clearCellOverlays(Y=null){if(Y=Y??this.getDataModel().getRoot(),!Y)return;this.removeCellOverlays(Y);const T=Y.getChildCount();for(let k=0;k<T;k+=1){const Z=Y.getChildAt(k);this.clearCellOverlays(Z)}},setCellWarning(Y,T=null,k,Z=!1){if(k=k??this.getWarningImage(),T&&T.length>0){const ee=new CellOverlay(k,`<font color=red>${T}</font>`);return Z&&ee.addListener(InternalEvent.CLICK,(te,ne)=>{this.isEnabled()&&this.setSelectionCell(Y)}),this.addCellOverlay(Y,ee)}return this.removeCellOverlays(Y),null}},PageBreaksMixin={horizontalPageBreaks:null,verticalPageBreaks:null,updatePageBreaks(Y,T,k){const{scale:Z,translate:ee}=this.getView(),te=this.getPageFormat(),ne=Z*this.getPageScale(),me=new Rectangle(0,0,te.width*ne,te.height*ne),Ve=Rectangle.fromRectangle(this.getGraphBounds());Ve.width=Math.max(1,Ve.width),Ve.height=Math.max(1,Ve.height),me.x=Math.floor((Ve.x-ee.x*Z)/me.width)*me.width+ee.x*Z,me.y=Math.floor((Ve.y-ee.y*Z)/me.height)*me.height+ee.y*Z,Ve.width=Math.ceil((Ve.width+(Ve.x-me.x))/me.width)*me.width,Ve.height=Math.ceil((Ve.height+(Ve.y-me.y))/me.height)*me.height,Y=Y&&Math.min(me.width,me.height)>this.getMinPageBreakDist();const Ye=Y?Math.ceil(Ve.height/me.height)+1:0,et=Y?Math.ceil(Ve.width/me.width)+1:0,tt=(et-1)*me.width,it=(Ye-1)*me.height;this.horizontalPageBreaks==null&&Ye>0&&(this.horizontalPageBreaks=[]),this.verticalPageBreaks==null&&et>0&&(this.verticalPageBreaks=[]);const st=nt=>{if(nt!=null){const rt=nt===this.horizontalPageBreaks?Ye:et;for(let lt=0;lt<=rt;lt+=1){const ot=nt===this.horizontalPageBreaks?[new Point$1(Math.round(me.x),Math.round(me.y+lt*me.height)),new Point$1(Math.round(me.x+tt),Math.round(me.y+lt*me.height))]:[new Point$1(Math.round(me.x+lt*me.width),Math.round(me.y)),new Point$1(Math.round(me.x+lt*me.width),Math.round(me.y+it))];if(nt[lt]!=null)nt[lt].points=ot,nt[lt].redraw();else{const ht=new PolylineShape(ot,this.getPageBreakColor());ht.dialect=this.getDialect(),ht.pointerEvents=!1,ht.isDashed=this.isPageBreakDashed(),ht.init(this.getView().backgroundPane),ht.redraw(),nt[lt]=ht}}for(let lt=rt;lt<nt.length;lt+=1)nt[lt].destroy();nt.splice(rt,nt.length-rt)}};st(this.horizontalPageBreaks),st(this.verticalPageBreaks)}},PanningMixin={shiftPreview1:null,shiftPreview2:null,useScrollbarsForPanning:!0,isUseScrollbarsForPanning(){return this.useScrollbarsForPanning},timerAutoScroll:!1,isTimerAutoScroll(){return this.timerAutoScroll},allowAutoPanning:!1,isAllowAutoPanning(){return this.allowAutoPanning},panDx:0,getPanDx(){return this.panDx},setPanDx(Y){this.panDx=Y},panDy:0,getPanDy(){return this.panDy},setPanDy(Y){this.panDy=Y},panGraph(Y,T){const k=this.getContainer();if(this.useScrollbarsForPanning&&hasScrollbars(k))k.scrollLeft=-Y,k.scrollTop=-T;else{const Z=this.getView().getCanvas();if(Y===0&&T===0){if(Z.removeAttribute("transform"),this.shiftPreview1){let ee=this.shiftPreview1.firstChild;for(;ee;){const ne=ee.nextSibling;k.appendChild(ee),ee=ne}this.shiftPreview1.parentNode&&this.shiftPreview1.parentNode.removeChild(this.shiftPreview1),this.shiftPreview1=null,k.appendChild(Z.parentNode);const te=this.shiftPreview2;for(ee=te.firstChild;ee;){const ne=ee.nextSibling;k.appendChild(ee),ee=ne}te.parentNode&&te.parentNode.removeChild(te),this.shiftPreview2=null}}else{if(Z.setAttribute("transform",`translate(${Y},${T})`),!this.shiftPreview1){this.shiftPreview1=document.createElement("div"),this.shiftPreview1.style.position="absolute",this.shiftPreview1.style.overflow="visible",this.shiftPreview2=document.createElement("div"),this.shiftPreview2.style.position="absolute",this.shiftPreview2.style.overflow="visible";let ee=this.shiftPreview1,te=k.firstChild;for(;te;){const ne=te.nextSibling;te!==Z.parentNode?ee.appendChild(te):ee=this.shiftPreview2,te=ne}this.shiftPreview1.firstChild&&k.insertBefore(this.shiftPreview1,Z.parentNode),this.shiftPreview2.firstChild&&k.appendChild(this.shiftPreview2)}this.shiftPreview1.style.left=`${Y}px`,this.shiftPreview1.style.top=`${T}px`,this.shiftPreview2&&(this.shiftPreview2.style.left=`${Y}px`,this.shiftPreview2.style.top=`${T}px`)}this.panDx=Y,this.panDy=T,this.fireEvent(new EventObject(InternalEvent.PAN))}},scrollCellToVisible(Y,T=!1){const k=-this.getView().translate.x,Z=-this.getView().translate.y,ee=this.getView().getState(Y);if(ee){const te=new Rectangle(k+ee.x,Z+ee.y,ee.width,ee.height);if(T&&this.getContainer()){const me=this.getContainer().clientWidth,Ve=this.getContainer().clientHeight;te.x=te.getCenterX()-me/2,te.width=me,te.y=te.getCenterY()-Ve/2,te.height=Ve}const ne=new Point$1(this.getView().translate.x,this.getView().translate.y);if(this.scrollRectToVisible(te)){const me=new Point$1(this.getView().translate.x,this.getView().translate.y);this.getView().translate.x=ne.x,this.getView().translate.y=ne.y,this.getView().setTranslate(me.x,me.y)}}},scrollRectToVisible(Y){let T=!1;const k=this.getContainer(),Z=k.offsetWidth,ee=k.offsetHeight,te=Math.min(Z,Y.width),ne=Math.min(ee,Y.height);if(hasScrollbars(k)){Y.x+=this.getView().translate.x,Y.y+=this.getView().translate.y;let me=k.scrollLeft-Y.x;const Ve=Math.max(me-k.scrollLeft,0);me>0?k.scrollLeft-=me+2:(me=Y.x+te-k.scrollLeft-k.clientWidth,me>0&&(k.scrollLeft+=me+2));let Ye=k.scrollTop-Y.y;const et=Math.max(0,Ye-k.scrollTop);Ye>0?k.scrollTop-=Ye+2:(Ye=Y.y+ne-k.scrollTop-k.clientHeight,Ye>0&&(k.scrollTop+=Ye+2)),!this.useScrollbarsForPanning&&(Ve!=0||et!=0)&&this.getView().setTranslate(Ve,et)}else{const me=-this.getView().translate.x,Ve=-this.getView().translate.y,Ye=this.getView().scale;if(Y.x+te>me+Z&&(this.getView().translate.x-=(Y.x+te-Z-me)/Ye,T=!0),Y.y+ne>Ve+ee&&(this.getView().translate.y-=(Y.y+ne-ee-Ve)/Ye,T=!0),Y.x<me&&(this.getView().translate.x+=(me-Y.x)/Ye,T=!0),Y.y<Ve&&(this.getView().translate.y+=(Ve-Y.y)/Ye,T=!0),T){this.getView().refresh();const et=this.getPlugin("SelectionCellsHandler");et&&et.refresh()}}return T},setPanning(Y){const T=this.getPlugin("PanningHandler");T&&(T.panningEnabled=Y)}},PortsMixin={portsEnabled:!0,isPort(Y){return!1},getTerminalForPort(Y,T=!1){return Y.getParent()},isPortsEnabled(){return this.portsEnabled},setPortsEnabled(Y){this.portsEnabled=Y}},SelectionMixin={selectionModel:null,getSelectionModel(){return this.selectionModel},setSelectionModel(Y){this.selectionModel=Y},isCellSelected(Y){return this.selectionModel.isSelected(Y)},isSelectionEmpty(){return this.selectionModel.isEmpty()},clearSelection(){this.selectionModel.clear()},getSelectionCount(){return this.selectionModel.cells.length},getSelectionCell(){return this.selectionModel.cells[0]},getSelectionCells(){return this.selectionModel.cells.slice()},setSelectionCell(Y){this.selectionModel.setCell(Y)},setSelectionCells(Y){this.selectionModel.setCells(Y)},addSelectionCell(Y){this.selectionModel.addCell(Y)},addSelectionCells(Y){this.selectionModel.addCells(Y)},removeSelectionCell(Y){this.selectionModel.removeCell(Y)},removeSelectionCells(Y){this.selectionModel.removeCells(Y)},selectRegion(Y,T){const k=this.getCells(Y.x,Y.y,Y.width,Y.height);return this.selectCellsForEvent(k,T),k},selectNextCell(){this.selectCell(!0)},selectPreviousCell(){this.selectCell()},selectParentCell(){this.selectCell(!1,!0)},selectChildCell(){this.selectCell(!1,!1,!0)},selectCell(Y=!1,T=!1,k=!1){const Z=this.selectionModel.cells.length>0?this.selectionModel.cells[0]:null;this.selectionModel.cells.length>1&&this.selectionModel.clear();const ee=Z?Z.getParent():this.getDefaultParent(),te=ee.getChildCount();if(!Z&&te>0){const ne=ee.getChildAt(0);this.setSelectionCell(ne)}else if(ee&&(!Z||T)&&this.getView().getState(ee)&&ee.getGeometry())this.getCurrentRoot()!==ee&&this.setSelectionCell(ee);else if(Z&&k){if(Z.getChildCount()>0){const me=Z.getChildAt(0);this.setSelectionCell(me)}}else if(te>0){let ne=ee.getIndex(Z);if(Y){ne++;const me=ee.getChildAt(ne%te);this.setSelectionCell(me)}else{ne--;const me=ne<0?te-1:ne,Ve=ee.getChildAt(me);this.setSelectionCell(Ve)}}},selectAll(Y,T=!1){Y=Y??this.getDefaultParent();const k=T?Y.filterDescendants(Z=>Z!==Y&&!!this.getView().getState(Z)):Y.getChildren();this.setSelectionCells(k)},selectVertices(Y,T=!1){this.selectCells(!0,!1,Y,T)},selectEdges(Y){this.selectCells(!1,!0,Y)},selectCells(Y=!1,T=!1,k,Z=!1){k=k??this.getDefaultParent();const ee=ne=>{const me=ne.getParent();return!!this.getView().getState(ne)&&((Z||ne.getChildCount()===0)&&ne.isVertex()&&Y&&me&&!me.isEdge()||ne.isEdge()&&T)},te=k.filterDescendants(ee);this.setSelectionCells(te)},selectCellForEvent(Y,T){const k=this.isCellSelected(Y);this.isToggleEvent(T)?k?this.removeSelectionCell(Y):this.addSelectionCell(Y):(!k||this.getSelectionCount()!==1)&&this.setSelectionCell(Y)},selectCellsForEvent(Y,T){this.isToggleEvent(T)?this.addSelectionCells(Y):this.setSelectionCells(Y)},isSiblingSelected(Y){const T=Y.getParent(),k=T.getChildCount();for(let Z=0;Z<k;Z+=1){const ee=T.getChildAt(Z);if(Y!==ee&&this.isCellSelected(ee))return!0}return!1},getSelectionCellsForChanges(Y,T=null){const k=new Dictionary,Z=[],ee=te=>{if(!k.get(te)&&this.getDataModel().contains(te))if(te.isEdge()||te.isVertex())k.put(te,!0),Z.push(te);else{const ne=te.getChildCount();for(let me=0;me<ne;me+=1)ee(te.getChildAt(me))}};for(let te=0;te<Y.length;te+=1){const ne=Y[te];if(ne.constructor!==RootChange&&(!T||!T(ne))){let me=null;ne instanceof ChildChange?me=ne.child:ne.cell&&ne.cell instanceof Cell&&(me=ne.cell),me&&ee(me)}}return Z},updateSelection(){const Y=this.getSelectionCells(),T=[];for(const k of Y)if(!this.getDataModel().contains(k)||!k.isVisible())T.push(k);else{let Z=k.getParent();for(;Z&&Z!==this.getView().currentRoot;){if(Z.isCollapsed()||!Z.isVisible()){T.push(k);break}Z=Z.getParent()}}this.removeSelectionCells(T)}},SnapMixin={snapTolerance:0,getSnapTolerance(){return this.snapTolerance},gridSize:10,gridEnabled:!0,snap(Y){return this.gridEnabled&&(Y=Math.round(Y/this.gridSize)*this.gridSize),Y},snapDelta(Y,T,k=!1,Z=!1,ee=!1){const te=this.getView().translate,ne=this.getView().scale;if(!k&&this.gridEnabled){const me=this.gridSize*ne*.5;if(!Z){const Ve=T.x-(this.snap(T.x/ne-te.x)+te.x)*ne;Math.abs(Y.x-Ve)<me?Y.x=0:Y.x=this.snap(Y.x/ne)*ne-Ve}if(!ee){const Ve=T.y-(this.snap(T.y/ne-te.y)+te.y)*ne;Math.abs(Y.y-Ve)<me?Y.y=0:Y.y=this.snap(Y.y/ne)*ne-Ve}}else{const me=.5*ne;if(!Z){const Ve=T.x-(Math.round(T.x/ne-te.x)+te.x)*ne;Math.abs(Y.x-Ve)<me?Y.x=0:Y.x=Math.round(Y.x/ne)*ne-Ve}if(!ee){const Ve=T.y-(Math.round(T.y/ne-te.y)+te.y)*ne;Math.abs(Y.y-Ve)<me?Y.y=0:Y.y=Math.round(Y.y/ne)*ne-Ve}}return Y},isGridEnabled(){return this.gridEnabled},setGridEnabled(Y){this.gridEnabled=Y},getGridSize(){return this.gridSize},setGridSize(Y){this.gridSize=Y}},SwimlaneMixin={swimlaneSelectionEnabled:!0,swimlaneNesting:!0,swimlaneIndicatorColorAttribute:"fillColor",getSwimlane(Y=null){for(;Y&&!this.isSwimlane(Y);)Y=Y.getParent();return Y},getSwimlaneAt(Y,T,k){if(k||(k=this.getCurrentRoot(),k||(k=this.getDataModel().getRoot())),k){const Z=k.getChildCount();for(let ee=0;ee<Z;ee+=1){const te=k.getChildAt(ee);if(te){const ne=this.getSwimlaneAt(Y,T,te);if(ne!=null)return ne;if(te.isVisible()&&this.isSwimlane(te)){const me=this.getView().getState(te);if(me&&this.intersects(me,Y,T))return te}}}}return null},hitsSwimlaneContent(Y,T,k){const Z=this.getView().getState(Y),ee=this.getStartSize(Y);if(Z){const te=this.getView().getScale();if(T-=Z.x,k-=Z.y,ee.width>0&&T>0&&T>ee.width*te||ee.height>0&&k>0&&k>ee.height*te)return!0}return!1},getStartSize(Y,T=!1){const k=new Rectangle,Z=this.getCurrentCellStyle(Y,T),ee=Z.startSize??DEFAULT_STARTSIZE;return Z.horizontal??!0?k.height=ee:k.width=ee,k},getSwimlaneDirection(Y){const T=Y.direction??DIRECTION.EAST,k=Y.flipH,Z=Y.flipV;let te=Y.horizontal??!0?0:3;T===DIRECTION.NORTH?te--:T===DIRECTION.WEST?te+=2:T===DIRECTION.SOUTH&&(te+=1);const ne=mod(te,2);return k&&ne===1&&(te+=2),Z&&ne===0&&(te+=2),[DIRECTION.NORTH,DIRECTION.EAST,DIRECTION.SOUTH,DIRECTION.WEST][mod(te,4)]},getActualStartSize(Y,T=!1){const k=new Rectangle;if(this.isSwimlane(Y,T)){const Z=this.getCurrentCellStyle(Y,T),ee=Z.startSize??DEFAULT_STARTSIZE,te=this.getSwimlaneDirection(Z);te===DIRECTION.NORTH?k.y=ee:te===DIRECTION.WEST?k.x=ee:te===DIRECTION.SOUTH?k.height=ee:k.width=ee}return k},isSwimlane(Y,T=!1){return Y&&Y.getParent()!==this.getDataModel().getRoot()&&!Y.isEdge()?this.getCurrentCellStyle(Y,T).shape===SHAPE.SWIMLANE:!1},isValidDropTarget(Y,T,k){return Y&&(this.isSplitEnabled()&&this.isSplitTarget(Y,T,k)||!Y.isEdge()&&(this.isSwimlane(Y)||Y.getChildCount()>0&&!Y.isCollapsed()))},getDropTarget(Y,T,k=null,Z=!1){if(!this.isSwimlaneNesting()){for(let me=0;me<Y.length;me+=1)if(this.isSwimlane(Y[me]))return null}const ee=convertPoint(this.getContainer(),getClientX(T),getClientY(T));ee.x-=this.getPanDx(),ee.y-=this.getPanDy();const te=this.getSwimlaneAt(ee.x,ee.y);if(!k)k=te;else if(te){let me=te.getParent();for(;me&&this.isSwimlane(me)&&me!==k;)me=me.getParent();me===k&&(k=te)}for(;k&&!this.isValidDropTarget(k,Y,T)&&!this.getDataModel().isLayer(k);)k=k.getParent();let ne=k;if(!Z)for(;ne&&Y.indexOf(ne)<0;)ne=ne.getParent();return!this.getDataModel().isLayer(k)&&!ne?k:null},isSwimlaneNesting(){return this.swimlaneNesting},setSwimlaneNesting(Y){this.swimlaneNesting=Y},isSwimlaneSelectionEnabled(){return this.swimlaneSelectionEnabled},setSwimlaneSelectionEnabled(Y){this.swimlaneSelectionEnabled=Y}},TerminalMixin={isTerminalPointMovable(Y,T){return!0},getOpposites(Y,T=null,k=!0,Z=!0){const ee=[],te=new Dictionary;for(let ne=0;ne<Y.length;ne+=1){const me=this.getView().getState(Y[ne]),Ve=me?me.getVisibleTerminal(!0):this.getView().getVisibleTerminal(Y[ne],!0),Ye=me?me.getVisibleTerminal(!1):this.getView().getVisibleTerminal(Y[ne],!1);Ve===T&&Ye&&Ye!==T&&Z?te.get(Ye)||(te.put(Ye,!0),ee.push(Ye)):Ye===T&&Ve&&Ve!==T&&k&&(te.get(Ve)||(te.put(Ve,!0),ee.push(Ve)))}return ee}},TooltipMixin={getTooltip(Y,T,k,Z){let ee=null;if(Y.control&&(T===Y.control.node||T.parentNode===Y.control.node)&&(ee=this.getCollapseExpandResource(),ee=htmlEntities(Translations.get(ee)||ee,!0).replace(/\\n/g,"<br>")),!ee&&Y.overlays&&Y.overlays.visit((te,ne)=>{!ee&&(T===ne.node||T.parentNode===ne.node)&&(ee=ne.overlay?ne.overlay.toString()??null:null)}),!ee){const te=this.getPlugin("SelectionCellsHandler"),ne=te==null?void 0:te.getHandler(Y.cell);ne&&"getTooltipForNode"in ne&&typeof ne.getTooltipForNode=="function"&&(ee=ne.getTooltipForNode(T))}return ee||(ee=this.getTooltipForCell(Y.cell)),ee},getTooltipForCell(Y){let T=null;return Y&&"getTooltip"in Y?T=Y.getTooltip():T=this.convertValueToString(Y),T},setTooltips(Y){const T=this.getPlugin("TooltipHandler");T==null||T.setEnabled(Y)}},ValidationMixin={validationAlert(Y){alert(Y)},isEdgeValid(Y,T,k){return!this.getEdgeValidationError(Y,T,k)},getEdgeValidationError(Y=null,T=null,k=null){if(Y&&!this.isAllowDanglingEdges()&&(!T||!k))return"";if(Y&&!Y.getTerminal(!0)&&!Y.getTerminal(!1))return null;if(!this.isAllowLoops()&&T===k&&T||!this.isValidConnection(T,k))return"";if(T&&k){let Z="";if(!this.isMultigraph()){const me=this.getDataModel().getEdgesBetween(T,k,!0);(me.length>1||me.length===1&&me[0]!==Y)&&(Z+=`${Translations.get(this.getAlreadyConnectedResource())||this.getAlreadyConnectedResource()}
`)}const ee=T.getDirectedEdgeCount(!0,Y),te=k.getDirectedEdgeCount(!1,Y);for(const me of this.multiplicities){const Ve=me.check(this,Y,T,k,ee,te);Ve!=null&&(Z+=Ve)}const ne=this.validateEdge(Y,T,k);return ne!=null&&(Z+=ne),Z.length>0?Z:null}return this.isAllowDanglingEdges()?null:""},validateEdge(Y=null,T=null,k=null){return null},validateGraph(Y=null,T){if(Y=Y??this.getDataModel().getRoot(),!Y)return"The root does not exist!";T=T??{};let k=!0;const Z=Y.getChildCount();for(let ne=0;ne<Z;ne+=1){const me=Y.getChildAt(ne);let Ve=T;this.isValidRoot(me)&&(Ve={});const Ye=this.validateGraph(me,Ve);Ye?this.setCellWarning(me,Ye.replace(/\n/g,"<br>")):this.setCellWarning(me,null),k=k&&Ye==null}let ee="";Y&&Y.isCollapsed()&&!k&&(ee+=`${Translations.get(this.getContainsValidationErrorsResource())||this.getContainsValidationErrorsResource()}
`),Y&&Y.isEdge()?ee+=this.getEdgeValidationError(Y,Y.getTerminal(!0),Y.getTerminal(!1))||"":ee+=this.getCellValidationError(Y)||"";const te=this.validateCell(Y,T);return te!=null&&(ee+=te),Y.getParent()==null&&this.getView().validate(),ee.length>0||!k?ee:null},getCellValidationError(Y){const T=Y.getDirectedEdgeCount(!0),k=Y.getDirectedEdgeCount(!1),Z=Y.getValue();let ee="";for(let te=0;te<this.multiplicities.length;te+=1){const ne=this.multiplicities[te];ne.source&&isNode(Z,ne.type,ne.attr,ne.value)&&(T>ne.max||T<ne.min)?ee+=`${ne.countError}
`:!ne.source&&isNode(Z,ne.type,ne.attr,ne.value)&&(k>ne.max||k<ne.min)&&(ee+=`${ne.countError}
`)}return ee.length>0?ee:null},validateCell(Y,T){return null}},VertexMixin={vertexLabelsMovable:!1,allowNegativeCoordinates:!0,isAllowNegativeCoordinates(){return this.allowNegativeCoordinates},setAllowNegativeCoordinates(Y){this.allowNegativeCoordinates=Y},insertVertex(...Y){let T,k,Z,ee,te,ne,me,Ve,Ye,et;if(Y.length===1&&typeof Y[0]=="object"){const it=Y[0];T=it.parent,k=it.id,Z=it.value,ee="x"in it?it.x:it.position[0],te="y"in it?it.y:it.position[1],ne="width"in it?it.width:it.size[0],me="height"in it?it.height:it.size[1],Ve=it.style,Ye=it.relative,et=it.geometryClass}else[T,k,Z,ee,te,ne,me,Ve,Ye,et]=Y;const tt=this.createVertex(T,k,Z,ee,te,ne,me,Ve,Ye,et);return this.addCell(tt,T)},createVertex(Y,T,k,Z,ee,te,ne,me,Ve=!1,Ye=Geometry){const et=new Ye(Z,ee,te,ne);et.relative=Ve;const tt=new Cell(k,et,me);return tt.setId(T),tt.setVertex(!0),tt.setConnectable(!0),tt},getChildVertices(Y){return this.getChildCells(Y,!0,!1)},isVertexLabelsMovable(){return this.vertexLabelsMovable},setVertexLabelsMovable(Y){this.vertexLabelsMovable=Y}},ZoomMixin={zoomFactor:1.2,keepSelectionVisibleOnZoom:!1,centerZoom:!0,zoomIn(){this.zoom(this.zoomFactor)},zoomOut(){this.zoom(1/this.zoomFactor)},zoomActual(){this.getView().scale===1?this.getView().setTranslate(0,0):(this.getView().translate.x=0,this.getView().translate.y=0,this.getView().setScale(1))},zoomTo(Y,T=!1){this.zoom(Y/this.getView().scale,T)},zoom(Y,T){T=T??this.centerZoom;const k=Math.round(this.getView().scale*Y*100)/100,Z=this.getView().getState(this.getSelectionCell()),ee=this.getContainer();if(Y=k/this.getView().scale,this.keepSelectionVisibleOnZoom&&Z!=null){const te=new Rectangle(Z.x*Y,Z.y*Y,Z.width*Y,Z.height*Y);this.getView().scale=k,this.scrollRectToVisible(te)||(this.getView().revalidate(),this.getView().setScale(k))}else{const te=hasScrollbars(this.getContainer());if(T&&!te){let ne=ee.offsetWidth,me=ee.offsetHeight;if(Y>1){const Ve=(Y-1)/(k*2);ne*=-Ve,me*=-Ve}else{const Ve=(1/Y-1)/(this.getView().scale*2);ne*=Ve,me*=Ve}this.getView().scaleAndTranslate(k,this.getView().translate.x+ne,this.getView().translate.y+me)}else{const ne=this.getView().translate.x,me=this.getView().translate.y,Ve=ee.scrollLeft,Ye=ee.scrollTop;if(this.getView().setScale(k),te){let et=0,tt=0;T&&(et=ee.offsetWidth*(Y-1)/2,tt=ee.offsetHeight*(Y-1)/2),ee.scrollLeft=(this.getView().translate.x-ne)*this.getView().scale+Math.round(Ve*Y+et),ee.scrollTop=(this.getView().translate.y-me)*this.getView().scale+Math.round(Ye*Y+tt)}}}},zoomToRect(Y){const T=this.getContainer(),k=T.clientWidth/Y.width,Z=T.clientHeight/Y.height,ee=k/Z;Y.x=Math.max(0,Y.x),Y.y=Math.max(0,Y.y);let te=Math.min(T.scrollWidth,Y.x+Y.width),ne=Math.min(T.scrollHeight,Y.y+Y.height);if(Y.width=te-Y.x,Y.height=ne-Y.y,ee<1){const Ye=Y.height/ee,et=(Ye-Y.height)/2;Y.height=Ye;const tt=Math.min(Y.y,et);Y.y-=tt,ne=Math.min(T.scrollHeight,Y.y+Y.height),Y.height=ne-Y.y}else{const Ye=Y.width*ee,et=(Ye-Y.width)/2;Y.width=Ye;const tt=Math.min(Y.x,et);Y.x-=tt,te=Math.min(T.scrollWidth,Y.x+Y.width),Y.width=te-Y.x}const me=T.clientWidth/Y.width,Ve=this.getView().scale*me;hasScrollbars(this.getContainer())?(this.getView().setScale(Ve),T.scrollLeft=Math.round(Y.x*me),T.scrollTop=Math.round(Y.y*me)):this.getView().scaleAndTranslate(Ve,this.getView().translate.x-Y.x/this.getView().scale,this.getView().translate.y-Y.y/this.getView().scale)}},applyGraphMixins=()=>{const Y=mixInto(Graph);for(const T of[CellsMixin,ConnectionsMixin,DragDropMixin,EdgeMixin,EditingMixin,EventsMixin,FoldingMixin,GroupingMixin,ImageMixin,LabelMixin,OrderMixin,PageBreaksMixin,OverlaysMixin,PanningMixin,PortsMixin,SelectionMixin,SnapMixin,SwimlaneMixin,TerminalMixin,TooltipMixin,ValidationMixin,VertexMixin,ZoomMixin])Y(T)},aa=class aa{constructor(T){this.clearOnChange=!1,this.bounds=null,this.resizeThread=null,this.textDirection=null,this.textarea=null,this.editingCell=null,this.trigger=null,this.modified=!1,this.autoSize=!0,this.selectText=!0,this.emptyLabelText=Client.IS_FF?"<br>":"",this.escapeCancelsEditing=!0,this.textNode=null,this.zIndex=5,this.minResize=new Rectangle(0,20),this.wordWrapPadding=0,this.blurEnabled=!1,this.initialValue=null,this.align=null,this.graph=T,this.zoomHandler=()=>{this.graph.isEditing()&&this.resize()},this.changeHandler=k=>{this.editingCell&&!this.graph.getView().getState(this.editingCell,!1)&&this.stopEditing(!0)},this.graph.getView().addListener(InternalEvent.SCALE,this.zoomHandler),this.graph.getView().addListener(InternalEvent.SCALE_AND_TRANSLATE,this.zoomHandler),this.graph.getDataModel().addListener(InternalEvent.CHANGE,this.changeHandler)}init(){this.textarea=document.createElement("div"),this.textarea.className="mxCellEditor mxPlainTextEditor",this.textarea.contentEditable=String(!0),Client.IS_GC&&(this.textarea.style.minHeight="1em"),this.textarea.style.position="relative",this.installListeners(this.textarea)}applyValue(T,k){this.graph.labelChanged(T.cell,k,this.trigger)}setAlign(T){this.textarea&&(this.textarea.style.textAlign=T),this.align=T,this.resize()}getInitialValue(T,k){let Z=htmlEntities(this.graph.getEditingValue(T.cell,k),!1);return Z=replaceTrailingNewlines(Z,"<div><br></div>"),Z.replace(/\n/g,"<br>")}getCurrentValue(T){return this.textarea?extractTextWithWhitespace(Array.from(this.textarea.childNodes)):null}isCancelEditingKeyEvent(T){return this.escapeCancelsEditing||isShiftDown(T)||isControlDown(T)||isMetaDown(T)}installListeners(T){InternalEvent.addListener(T,"dragstart",ne=>{this.graph.stopEditing(!1),InternalEvent.consume(ne)}),InternalEvent.addListener(T,"blur",ne=>{this.blurEnabled&&this.focusLost()}),InternalEvent.addListener(T,"keydown",ne=>{isConsumed(ne)||(this.isStopEditingEvent(ne)?(this.graph.stopEditing(!1),InternalEvent.consume(ne)):ne.keyCode===27&&(this.graph.stopEditing(this.isCancelEditingKeyEvent(ne)),InternalEvent.consume(ne)))});const k=ne=>{this.editingCell!=null&&this.clearOnChange&&T.innerHTML===this.getEmptyLabelText()&&(!Client.IS_FF||ne.keyCode!==8&&ne.keyCode!==46)&&(this.clearOnChange=!1,T.innerHTML="")};InternalEvent.addListener(T,"keypress",k),InternalEvent.addListener(T,"paste",k);const Z=ne=>{if(this.editingCell!=null){const me=this.textarea;me.innerHTML.length===0||me.innerHTML==="<br>"?(me.innerHTML=this.getEmptyLabelText(),this.clearOnChange=me.innerHTML.length>0):this.clearOnChange=!1}};InternalEvent.addListener(T,"input",Z),InternalEvent.addListener(T,"cut",Z),InternalEvent.addListener(T,"paste",Z);const ee="input",te=ne=>{this.editingCell!=null&&this.autoSize&&!isConsumed(ne)&&(this.resizeThread!=null&&window.clearTimeout(this.resizeThread),this.resizeThread=window.setTimeout(()=>{this.resizeThread=null,this.resize()},0))};InternalEvent.addListener(T,ee,te),InternalEvent.addListener(window,"resize",te),InternalEvent.addListener(T,"cut",te),InternalEvent.addListener(T,"paste",te)}isStopEditingEvent(T){return T.keyCode===113||this.graph.isEnterStopsCellEditing()&&T.keyCode===13&&!isControlDown(T)&&!isShiftDown(T)}isEventSource(T){return getSource(T)===this.textarea}resize(){const T=this.editingCell?this.graph.getView().getState(this.editingCell):null;if(!T)this.stopEditing(!0);else if(this.textarea!=null){const k=T.cell.isEdge(),{scale:Z}=this.graph.getView();let ee=null;if(!this.autoSize||T.style.overflow==="fill")this.bounds=this.getEditorBounds(T),this.textarea.style.width=`${Math.round(this.bounds.width/Z)}px`,this.textarea.style.height=`${Math.round(this.bounds.height/Z)}px`,this.textarea.style.left=`${Math.max(0,Math.round(this.bounds.x+1))}px`,this.textarea.style.top=`${Math.max(0,Math.round(this.bounds.y+1))}px`,this.graph.isWrapping(T.cell)&&(this.bounds.width>=2||this.bounds.height>=2)&&this.textarea.innerHTML!==this.getEmptyLabelText()?(this.textarea.style.wordWrap=WORD_WRAP,this.textarea.style.whiteSpace="normal",T.style.overflow!=="fill"&&(this.textarea.style.width=`${Math.round(this.bounds.width/Z)+this.wordWrapPadding}px`)):(this.textarea.style.whiteSpace="nowrap",T.style.overflow!=="fill"&&(this.textarea.style.width=""));else{const te=getValue(T.style,"labelWidth",null);if(ee=T.text!=null&&this.align==null?T.text.margin:null,ee==null&&(ee=getAlignmentAsPoint(this.align||getValue(T.style,"align",ALIGN.CENTER),getValue(T.style,"verticalAlign",ALIGN.MIDDLE))),k){if(this.bounds=new Rectangle(T.absoluteOffset.x,T.absoluteOffset.y,0,0),te!=null){const ne=(parseFloat(te)+2)*Z;this.bounds.width=ne,this.bounds.x+=ee.x*ne}}else{let ne=Rectangle.fromRectangle(T),me=getValue(T.style,"labelPosition",ALIGN.CENTER),Ve=getValue(T.style,"verticalLabelPosition",ALIGN.MIDDLE);if(ne=T.shape!=null&&me==="center"&&Ve==="middle"?T.shape.getLabelBounds(ne):ne,te!=null&&(ne.width=parseFloat(te)*Z),!T.view.graph.cellRenderer.legacySpacing||T.style.overflow!=="width"){const Ye=new TextShape,et=(T.style.spacing??2)*Z,tt=((T.style.spacingTop??0)+Ye.baseSpacingTop)*Z+et,it=((T.style.spacingRight??0)+Ye.baseSpacingRight)*Z+et,st=((T.style.spacingBottom??0)+Ye.baseSpacingBottom)*Z+et,nt=((T.style.spacingLeft??0)+Ye.baseSpacingLeft)*Z+et;me=T.style.labelPosition!=null?T.style.labelPosition:"center",Ve=T.style.verticalLabelPosition!=null?T.style.verticalLabelPosition:"middle",ne=new Rectangle(ne.x+nt,ne.y+tt,ne.width-(me===ALIGN.CENTER&&te==null?nt+it:0),ne.height-(Ve===ALIGN.MIDDLE?tt+st:0))}this.bounds=new Rectangle(ne.x+T.absoluteOffset.x,ne.y+T.absoluteOffset.y,ne.width,ne.height)}if(this.graph.isWrapping(T.cell)&&(this.bounds.width>=2||this.bounds.height>=2)&&this.textarea.innerHTML!==this.getEmptyLabelText()){this.textarea.style.wordWrap=WORD_WRAP,this.textarea.style.whiteSpace="normal";const ne=Math.round(this.bounds.width/Z)+this.wordWrapPadding;this.textarea.style.position!=="relative"?(this.textarea.style.width=`${ne}px`,this.textarea.scrollWidth>ne&&(this.textarea.style.width=`${this.textarea.scrollWidth}px`)):this.textarea.style.maxWidth=`${ne}px`}else this.textarea.style.whiteSpace="nowrap",this.textarea.style.width="";this.textarea.scrollWidth,this.textarea.scrollHeight,this.textarea.style.left=`${Math.max(0,Math.round(this.bounds.x-ee.x*(this.bounds.width-2))+1)}px`,this.textarea.style.top=`${Math.max(0,Math.round(this.bounds.y-ee.y*(this.bounds.height-4)+(ee.y===-1?3:0))+1)}px`}setPrefixedStyle(this.textarea.style,"transformOrigin","0px 0px"),setPrefixedStyle(this.textarea.style,"transform",`scale(${Z},${Z})${ee==null?"":` translate(${ee.x*100}%,${ee.y*100}%)`}`)}}focusLost(){this.stopEditing(!this.graph.isInvokesStopCellEditing())}getBackgroundColor(T){return NONE}startEditing(T,k=null){this.stopEditing(!0),this.align=null,this.textarea==null&&this.init();const Z=this.graph.getPlugin("TooltipHandler");Z==null||Z.hideTooltip();const ee=this.graph.getView().getState(T);if(ee){const{scale:te}=this.graph.getView(),ne=ee.style.fontSize??DEFAULT_FONTSIZE,me=ee.style.fontFamily??DEFAULT_FONTFAMILY,Ve=ee.style.fontColor??"black",Ye=ee.style.align??ALIGN.LEFT,et=(ee.style.fontStyle||0)&FONT.BOLD,tt=(ee.style.fontStyle||0)&FONT.ITALIC,it=[];(ee.style.fontStyle||0)&FONT.UNDERLINE&&it.push("underline"),(ee.style.fontStyle||0)&FONT.STRIKETHROUGH&&it.push("line-through");const st=this.textarea;st.style.lineHeight=String(LINE_HEIGHT),st.style.backgroundColor=this.getBackgroundColor(ee)||"transparent",st.style.textDecoration=it.join(" "),st.style.fontWeight=et?"bold":"normal",st.style.fontStyle=tt?"italic":"",st.style.fontSize=`${Math.round(ne)}px`,st.style.zIndex=String(this.zIndex),st.style.fontFamily=me,st.style.textAlign=Ye,st.style.outline="none",st.style.color=Ve;let nt=this.textDirection=ee.style.textDirection??DEFAULT_TEXT_DIRECTION;nt==="auto"&&ee.text!==null&&ee.text.dialect!==DIALECT.STRICTHTML&&!isNode(ee.text.value)&&(nt=ee.text.getAutoDirection()),nt==="ltr"||nt==="rtl"?st.setAttribute("dir",nt):st.removeAttribute("dir"),st.innerHTML=this.getInitialValue(ee,k)||"",this.initialValue=st.innerHTML,st.innerHTML.length===0||st.innerHTML==="<br>"?(st.innerHTML=this.getEmptyLabelText(),this.clearOnChange=!0):this.clearOnChange=st.innerHTML===this.getEmptyLabelText(),this.graph.container.appendChild(st),this.editingCell=T,this.trigger=k,this.textNode=null,ee.text!==null&&this.isHideLabel(ee)&&(this.textNode=ee.text.node,this.textNode.style.visibility="hidden"),this.autoSize&&(ee.cell.isEdge()||ee.style.overflow!=="fill")&&window.setTimeout(()=>{this.resize()},0),this.resize();try{st.focus(),this.isSelectText()&&st.innerHTML.length>0&&(st.innerHTML!==this.getEmptyLabelText()||!this.clearOnChange)&&document.execCommand("selectAll",!1)}catch{}}}isSelectText(){return this.selectText}stopEditing(T=!1){if(this.editingCell){this.textNode&&(this.textNode.style.visibility="visible",this.textNode=null);const k=T?null:this.graph.view.getState(this.editingCell),Z=this.textarea,ee=this.initialValue;if(this.initialValue=null,this.editingCell=null,this.trigger=null,this.bounds=null,Z.blur(),clearSelection(),Z.parentNode&&Z.parentNode.removeChild(Z),this.clearOnChange&&Z.innerHTML===this.getEmptyLabelText()&&(Z.innerHTML="",this.clearOnChange=!1),k&&(Z.innerHTML!==ee||this.align!==null)){this.prepareTextarea();const te=this.getCurrentValue(k);this.graph.batchUpdate(()=>{te!==null&&this.applyValue(k,te),this.align!==null&&this.graph.setCellStyles("align",this.align,[k.cell])})}this.textarea&&InternalEvent.release(this.textarea),this.textarea=null,this.align=null}}prepareTextarea(){const T=this.textarea;T.lastChild&&T.lastChild.nodeName==="BR"&&T.removeChild(T.lastChild)}isHideLabel(T=null){return!0}getMinimumSize(T){const{scale:k}=this.graph.getView(),Z=this.textarea;return new Rectangle(0,0,T.text===null?30:T.text.size*k+20,Z.style.textAlign==="left"?120:40)}getEditorBounds(T){const k=T.cell.isEdge(),{scale:Z}=this.graph.getView(),ee=this.getMinimumSize(T),te=ee.width,ne=ee.height;let me=null;if(!k&&T.view.graph.cellRenderer.legacySpacing&&T.style.overflow==="fill")me=T.shape.getLabelBounds(Rectangle.fromRectangle(T));else{const Ve=new TextShape,Ye=(T.style.spacing??0)*Z,et=((T.style.spacingTop??0)+Ve.baseSpacingTop)*Z+Ye,tt=((T.style.spacingRight??0)+Ve.baseSpacingRight)*Z+Ye,it=((T.style.spacingBottom??0)+Ve.baseSpacingBottom)*Z+Ye,st=((T.style.spacingLeft??0)+Ve.baseSpacingLeft)*Z+Ye;me=new Rectangle(T.x,T.y,Math.max(te,T.width-st-tt),Math.max(ne,T.height-et-it));const nt=T.style.labelPosition!=null?T.style.labelPosition:"center",rt=T.style.verticalLabelPosition!=null?T.style.verticalLabelPosition:"middle";if(me=T.shape!=null&&nt==="center"&&rt==="middle"?T.shape.getLabelBounds(me):me,k?(me.x=T.absoluteOffset.x,me.y=T.absoluteOffset.y,T.text!=null&&T.text.boundingBox!=null&&(T.text.boundingBox.x>0&&(me.x=T.text.boundingBox.x),T.text.boundingBox.y>0&&(me.y=T.text.boundingBox.y))):T.text!=null&&T.text.boundingBox!=null&&(me.x=Math.min(me.x,T.text.boundingBox.x),me.y=Math.min(me.y,T.text.boundingBox.y)),me.x+=st,me.y+=et,T.text!=null&&T.text.boundingBox!=null&&(k?(me.width=Math.max(te,T.text.boundingBox.width),me.height=Math.max(ne,T.text.boundingBox.height)):(me.width=Math.max(me.width,T.text.boundingBox.width),me.height=Math.max(me.height,T.text.boundingBox.height))),T.cell.isVertex()){const lt=getStringValue(T.style,"labelPosition",ALIGN.CENTER);lt==="left"?me.x-=T.width:lt==="right"&&(me.x+=T.width);const ot=T.style.verticalLabelPosition!=null?T.style.verticalLabelPosition:"middle";ot==="top"?me.y-=T.height:ot==="bottom"&&(me.y+=T.height)}}return new Rectangle(Math.round(me.x),Math.round(me.y),Math.round(me.width),Math.round(me.height))}getEmptyLabelText(T=null){return this.emptyLabelText??""}getEditingCell(){return this.editingCell}onDestroy(){this.textarea&&(InternalEvent.release(this.textarea),this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea),this.textarea=null),this.graph.getDataModel().removeListener(this.changeHandler),this.graph.getView().removeListener(this.zoomHandler)}};aa.pluginId="CellEditorHandler";let CellEditorHandler=aa;const oa=class oa{constructor(T){this.zIndex=10005,this.delay=500,this.ignoreTouchEvents=!0,this.hideOnHover=!1,this.destroyed=!1,this.lastX=0,this.lastY=0,this.state=null,this.stateSource=!1,this.thread=null,this.enabled=!1,this.graph=T,this.graph.addMouseListener(this),this.div=document.createElement("div"),this.div.className="mxTooltip",this.div.id="Tooltip",this.div.style.visibility="hidden",document.body.appendChild(this.div),InternalEvent.addGestureListeners(this.div,k=>{const Z=getSource(k);Z&&Z.nodeName!=="A"&&this.hideTooltip()}),InternalEvent.addListener(this.graph.getContainer(),"mouseleave",k=>{this.div!==k.relatedTarget&&this.hide()})}isEnabled(){return this.enabled}setEnabled(T){this.enabled=T}isHideOnHover(){return this.hideOnHover}setHideOnHover(T){this.hideOnHover=T}getStateForEvent(T){return T.getState()}mouseDown(T,k){this.reset(k,!1),this.hideTooltip()}mouseMove(T,k){if(k.getX()!==this.lastX||k.getY()!==this.lastY){this.reset(k,!0);const Z=this.getStateForEvent(k);(this.isHideOnHover()||Z!==this.state||k.getSource()!==this.node&&(!this.stateSource||Z!=null&&this.stateSource===(k.isSource(Z.shape)||!k.isSource(Z.text))))&&this.hideTooltip()}this.lastX=k.getX(),this.lastY=k.getY()}mouseUp(T,k){this.reset(k,!0),this.hideTooltip()}resetTimer(){this.thread&&(window.clearTimeout(this.thread),this.thread=null)}reset(T,k,Z=null){if((!this.ignoreTouchEvents||isMouseEvent(T.getEvent()))&&(this.resetTimer(),Z=Z??this.getStateForEvent(T),k&&this.isEnabled()&&Z&&this.div.style.visibility==="hidden")){const ee=T.getSource(),te=T.getX(),ne=T.getY(),me=T.isSource(Z.shape)||T.isSource(Z.text),Ve=this.graph.getPlugin("PopupMenuHandler");this.thread=window.setTimeout(()=>{if(Z&&ee&&!this.graph.isEditing()&&Ve&&!Ve.isMenuShowing()&&!this.graph.isMouseDown){const Ye=this.graph.getTooltip(Z,ee,te,ne);this.show(Ye,te,ne),this.state=Z,this.node=ee,this.stateSource=me}},this.delay)}}hide(){this.resetTimer(),this.hideTooltip()}hideTooltip(){this.div.style.visibility="hidden",this.div.innerHTML=""}show(T,k,Z){if(!this.destroyed&&T&&T!==""){const ee=getScrollOrigin();this.div.style.zIndex=String(this.zIndex),this.div.style.left=`${k+ee.x}px`,this.div.style.top=`${Z+TOOLTIP_VERTICAL_OFFSET+ee.y}px`,isNode(T)?(this.div.innerHTML="",this.div.appendChild(T)):this.div.innerHTML=T.replace(/\n/g,"<br>"),this.div.style.visibility="",fit(this.div)}}onDestroy(){this.destroyed||(this.graph.removeMouseListener(this),InternalEvent.release(this.div),this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.destroyed=!0)}};oa.pluginId="TooltipHandler";let TooltipHandler=oa;const la=class la extends EventSource{constructor(T){super(),this.enabled=!0,this.maxHandlers=100,this.graph=T,this.handlers=new Dictionary,this.graph.addMouseListener(this),this.refreshHandler=(k,Z)=>{this.isEnabled()&&this.refresh()},this.graph.getSelectionModel().addListener(InternalEvent.CHANGE,this.refreshHandler),this.graph.getDataModel().addListener(InternalEvent.CHANGE,this.refreshHandler),this.graph.getView().addListener(InternalEvent.SCALE,this.refreshHandler),this.graph.getView().addListener(InternalEvent.TRANSLATE,this.refreshHandler),this.graph.getView().addListener(InternalEvent.SCALE_AND_TRANSLATE,this.refreshHandler),this.graph.getView().addListener(InternalEvent.DOWN,this.refreshHandler),this.graph.getView().addListener(InternalEvent.UP,this.refreshHandler)}isEnabled(){return this.enabled}setEnabled(T){this.enabled=T}getHandler(T){return this.handlers.get(T)}isHandled(T){return!!this.getHandler(T)}reset(){this.handlers.visit((T,k)=>{k.reset.apply(k)})}getHandledSelectionCells(){return this.graph.getSelectionCells()}refresh(){const T=this.handlers;this.handlers=new Dictionary;const k=sortCells(this.getHandledSelectionCells(),!1);for(let Z=0;Z<k.length;Z+=1){const ee=this.graph.view.getState(k[Z]);if(ee){let te=T.remove(k[Z]);te&&(te.state!==ee?(te.onDestroy(),te=null):this.isHandlerActive(te)||(te.refresh&&te.refresh(),te.redraw())),te&&this.handlers.put(k[Z],te)}}T.visit((Z,ee)=>{this.fireEvent(new EventObject(InternalEvent.REMOVE,{state:ee.state})),ee.onDestroy()});for(let Z=0;Z<k.length;Z+=1){const ee=this.graph.view.getState(k[Z]);if(ee){let te=this.handlers.get(k[Z]);te?te.updateParentHighlight():(te=this.graph.createHandler(ee),this.fireEvent(new EventObject(InternalEvent.ADD,{state:ee})),this.handlers.put(k[Z],te))}}}isHandlerActive(T){return T.index!==null}updateHandler(T){let k=this.handlers.remove(T.cell);if(k){const{index:Z}=k,ee=k.startX,te=k.startY;k.onDestroy(),k=this.graph.createHandler(T),k&&(this.handlers.put(T.cell,k),Z!==null&&k.start(ee,te,Z))}}mouseDown(T,k){this.graph.isEnabled()&&this.isEnabled()&&this.handlers.visit((Z,ee)=>{ee.mouseDown(T,k)})}mouseMove(T,k){this.graph.isEnabled()&&this.isEnabled()&&this.handlers.visit((Z,ee)=>{ee.mouseMove(T,k)})}mouseUp(T,k){this.graph.isEnabled()&&this.isEnabled()&&this.handlers.visit((Z,ee)=>{ee.mouseUp(T,k)})}onDestroy(){this.graph.removeMouseListener(this),this.graph.removeListener(this.refreshHandler),this.graph.getDataModel().removeListener(this.refreshHandler),this.graph.getView().removeListener(this.refreshHandler)}};la.pluginId="SelectionCellsHandler";let SelectionCellsHandler=la;class MaxPopupMenu extends EventSource{constructor(T){super(),this.activeRow=null,this.eventReceiver=null,this.submenuImage=`${Client.imageBasePath}/submenu.gif`,this.zIndex=10006,this.useLeftButtonForPopup=!1,this.enabled=!0,this.itemCount=0,this.autoExpand=!1,this.smartSeparators=!1,this.labels=!0,this.willAddSeparator=!1,this.containsItems=!1,T&&(this.factoryMethod=T),this.table=document.createElement("table"),this.table.className="mxPopupMenu",this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.div=document.createElement("div"),this.div.className="mxPopupMenu",this.div.style.display="inline",this.div.style.zIndex=String(this.zIndex),this.div.appendChild(this.table),InternalEvent.disableContextMenu(this.div)}isEnabled(){return this.enabled}setEnabled(T){this.enabled=T}isPopupTrigger(T){return T.isPopupTrigger()||this.useLeftButtonForPopup&&isLeftMouseButton(T.getEvent())}addItem(T,k,Z,ee=null,te=null,ne=!0,me=!0,Ve=!1){var tt;ee=ee??this,this.itemCount++,ee.willAddSeparator&&(ee.containsItems&&this.addSeparator(ee,!0),ee.willAddSeparator=!1),ee.containsItems=!0;const Ye=document.createElement("tr");Ye.className="mxPopupMenuItem";const et=document.createElement("td");if(et.className="mxPopupMenuIcon",k){const it=document.createElement("img");it.src=k,et.appendChild(it)}else if(te){const it=document.createElement("div");it.className=te,et.appendChild(it)}if(Ye.appendChild(et),this.labels){const it=document.createElement("td");it.className=`mxPopupMenuItem${ne?"":" mxDisabled"}`,write(it,T),it.align="left",Ye.appendChild(it);const st=document.createElement("td");st.className=`mxPopupMenuItem${ne?"":" mxDisabled"}`,st.style.paddingRight="6px",st.style.textAlign="right",Ye.appendChild(st),ee.div==null&&this.createSubmenu(ee)}return(tt=ee.tbody)==null||tt.appendChild(Ye),me&&ne&&(InternalEvent.addGestureListeners(Ye,it=>{this.eventReceiver=Ye,ee&&ee.activeRow!=Ye&&ee.activeRow!=ee&&(ee.activeRow!=null&&ee.activeRow.div.parentNode!=null&&this.hideSubmenu(ee),Ye.div!=null&&(this.showSubmenu(ee,Ye),ee.activeRow=Ye)),InternalEvent.consume(it)},it=>{ee&&ee.activeRow!=Ye&&ee.activeRow!=ee&&(ee.activeRow!=null&&ee.activeRow.div.parentNode!=null&&this.hideSubmenu(ee),this.autoExpand&&Ye.div!=null&&(this.showSubmenu(ee,Ye),ee.activeRow=Ye)),Ve||(Ye.className="mxPopupMenuItemHover")},it=>{this.eventReceiver==Ye&&(ee&&ee.activeRow!=Ye&&this.hideMenu(),Z!=null&&Z(it)),this.eventReceiver=null,InternalEvent.consume(it)}),Ve||InternalEvent.addListener(Ye,"mouseout",it=>{Ye.className="mxPopupMenuItem"})),Ye}addCheckmark(T,k){if(T.firstChild){const Z=T.firstChild.nextSibling;Z.style.backgroundImage=`url('${k}')`,Z.style.backgroundRepeat="no-repeat",Z.style.backgroundPosition="2px 50%"}}createSubmenu(T){var Z,ee;T.table=document.createElement("table"),T.table.className="mxPopupMenu",T.tbody=document.createElement("tbody"),T.table.appendChild(T.tbody),T.div=document.createElement("div"),T.div.className="mxPopupMenu",T.div.style.position="absolute",T.div.style.display="inline",T.div.style.zIndex=String(this.zIndex),T.div.appendChild(T.table);const k=document.createElement("img");k.setAttribute("src",this.submenuImage),(ee=(Z=T.firstChild)==null?void 0:Z.nextSibling)!=null&&ee.nextSibling&&T.firstChild.nextSibling.nextSibling.appendChild(k)}showSubmenu(T,k){if(k.div!=null){k.div.style.left=`${T.div.offsetLeft+k.offsetLeft+k.offsetWidth-1}px`,k.div.style.top=`${T.div.offsetTop+k.offsetTop}px`,document.body.appendChild(k.div);const Z=k.div.offsetLeft,ee=k.div.offsetWidth,te=getDocumentScrollOrigin(document),ne=document.body,me=document.documentElement,Ve=te.x+(ne.clientWidth||me.clientWidth);Z+ee>Ve&&(k.div.style.left=`${Math.max(0,T.div.offsetLeft-ee-6)}px`),fit(k.div)}}addSeparator(T=null,k=!1){if(T=T||this,this.smartSeparators&&!k)T.willAddSeparator=!0;else if(T.tbody){T.willAddSeparator=!1;const Z=document.createElement("tr"),ee=document.createElement("td");ee.className="mxPopupMenuIcon",ee.style.padding="0 0 0 0px",Z.appendChild(ee);const te=document.createElement("td");te.style.padding="0 0 0 0px",te.setAttribute("colSpan","2");const ne=document.createElement("hr");ne.setAttribute("size","1"),te.appendChild(ne),Z.appendChild(te),T.tbody.appendChild(Z)}}popup(T,k,Z,ee){if(this.div!=null&&this.tbody!=null&&this.factoryMethod!=null){for(this.div.style.left=`${T}px`,this.div.style.top=`${k}px`;this.tbody.firstChild!=null;)InternalEvent.release(this.tbody.firstChild),this.tbody.removeChild(this.tbody.firstChild);this.itemCount=0,this.factoryMethod(this,Z,ee),this.itemCount>0&&(this.showMenu(),this.fireEvent(new EventObject(InternalEvent.SHOW)))}}isMenuShowing(){return this.div!=null&&this.div.parentNode==document.body}showMenu(){document.body.appendChild(this.div),fit(this.div)}hideMenu(){this.div!=null&&(this.div.parentNode!=null&&this.div.parentNode.removeChild(this.div),this.hideSubmenu(this),this.containsItems=!1,this.fireEvent(new EventObject(InternalEvent.HIDE)))}hideSubmenu(T){T.activeRow!=null&&(this.hideSubmenu(T.activeRow),T.activeRow.div.parentNode!=null&&T.activeRow.div.parentNode.removeChild(T.activeRow.div),T.activeRow=null)}destroy(){this.div!=null&&(InternalEvent.release(this.div),this.div.parentNode!=null&&this.div.parentNode.removeChild(this.div))}}const da=class da extends MaxPopupMenu{constructor(T){super(),this.inTolerance=!1,this.popupTrigger=!1,this.selectOnPopup=!0,this.clearSelectionOnBackground=!0,this.triggerX=null,this.triggerY=null,this.screenX=null,this.screenY=null,this.graph=T,this.graph.addMouseListener(this),this.gestureHandler=(k,Z)=>{this.inTolerance=!1},this.graph.addListener(InternalEvent.GESTURE,this.gestureHandler),this.init()}init(){InternalEvent.addGestureListeners(this.div,T=>{const k=this.graph.getPlugin("TooltipHandler");k==null||k.hide()})}isSelectOnPopup(T){return this.selectOnPopup}mouseDown(T,k){this.isEnabled()&&!isMultiTouchEvent(k.getEvent())&&(this.hideMenu(),this.triggerX=k.getGraphX(),this.triggerY=k.getGraphY(),this.screenX=getMainEvent(k.getEvent()).screenX,this.screenY=getMainEvent(k.getEvent()).screenY,this.popupTrigger=this.isPopupTrigger(k),this.inTolerance=!0)}mouseMove(T,k){this.inTolerance&&this.screenX!=null&&this.screenY!=null&&(Math.abs(getMainEvent(k.getEvent()).screenX-this.screenX)>this.graph.getEventTolerance()||Math.abs(getMainEvent(k.getEvent()).screenY-this.screenY)>this.graph.getEventTolerance())&&(this.inTolerance=!1)}mouseUp(T,k){if(this.popupTrigger&&this.inTolerance&&this.triggerX!=null&&this.triggerY!=null){const Z=this.getCellForPopupEvent(k);this.graph.isEnabled()&&this.isSelectOnPopup(k)&&Z!=null&&!this.graph.isCellSelected(Z)?this.graph.setSelectionCell(Z):this.clearSelectionOnBackground&&Z==null&&this.graph.clearSelection();const ee=this.graph.getPlugin("TooltipHandler");ee==null||ee.hide();const te=getScrollOrigin();this.popup(k.getX()+te.x+1,k.getY()+te.y+1,Z,k.getEvent()),k.consume()}this.popupTrigger=!1,this.inTolerance=!1}getCellForPopupEvent(T){return T.getCell()}onDestroy(){this.graph.removeMouseListener(this),this.graph.removeListener(this.gestureHandler),super.destroy()}};da.pluginId="PopupMenuHandler";let PopupMenuHandler=da;const ca=class ca extends EventSource{constructor(T,k=null){super(),this.previous=null,this.iconState=null,this.icons=[],this.cell=null,this.currentPoint=null,this.sourceConstraint=null,this.shape=null,this.icon=null,this.originalPoint=null,this.currentState=null,this.selectedIcon=null,this.waypoints=[],this.factoryMethod=null,this.moveIconFront=!1,this.moveIconBack=!1,this.connectImage=null,this.targetConnectImage=!1,this.enabled=!1,this.select=!0,this.createTarget=!1,this.error=null,this.waypointsEnabled=!1,this.ignoreMouseDown=!1,this.first=null,this.connectIconOffset=new Point$1(0,TOOLTIP_VERTICAL_OFFSET),this.edgeState=null,this.mouseDownCounter=0,this.movePreviewAway=!1,this.outlineConnect=!1,this.livePreview=!1,this.cursor=null,this.insertBeforeSource=!1,this.graph=T,this.factoryMethod=k,this.graph.addMouseListener(this),this.marker=this.createMarker(),this.constraintHandler=new ConstraintHandler(this.graph),this.changeHandler=Z=>{this.iconState&&(this.iconState=this.graph.getView().getState(this.iconState.cell)),this.iconState?(this.redrawIcons(this.icons,this.iconState),this.constraintHandler.reset()):this.previous&&!this.graph.view.getState(this.previous.cell)&&this.reset()},this.graph.getDataModel().addListener(InternalEvent.CHANGE,this.changeHandler),this.graph.getView().addListener(InternalEvent.SCALE,this.changeHandler),this.graph.getView().addListener(InternalEvent.TRANSLATE,this.changeHandler),this.graph.getView().addListener(InternalEvent.SCALE_AND_TRANSLATE,this.changeHandler),this.drillHandler=Z=>{this.reset()},this.graph.addListener(InternalEvent.START_EDITING,this.drillHandler),this.graph.getView().addListener(InternalEvent.DOWN,this.drillHandler),this.graph.getView().addListener(InternalEvent.UP,this.drillHandler),this.escapeHandler=()=>{this.reset()},this.graph.addListener(InternalEvent.ESCAPE,this.escapeHandler)}isEnabled(){return this.enabled}setEnabled(T){this.enabled=T}isInsertBefore(T,k,Z,ee,te){return this.insertBeforeSource&&k!==Z}isCreateTarget(T){return this.createTarget}setCreateTarget(T){this.createTarget=T}createShape(){const T=this.livePreview&&this.edgeState?this.graph.cellRenderer.createShape(this.edgeState):new PolylineShape([],INVALID_COLOR);return T&&T.node&&(T.dialect=DIALECT.SVG,T.scale=this.graph.view.scale,T.pointerEvents=!1,T.isDashed=!0,T.init(this.graph.getView().getOverlayPane()),InternalEvent.redirectMouseEvents(T.node,this.graph,null)),T}isConnectableCell(T){return!0}createMarker(){return new ConnectionHandlerCellMarker(this.graph,this)}start(T,k,Z,ee){this.previous=T,this.first=new Point$1(k,Z),this.edgeState=ee??this.createEdgeState(),this.marker.currentColor=this.marker.validColor,this.marker.markedState=T,this.marker.mark(),this.fireEvent(new EventObject(InternalEvent.START,{state:this.previous}))}isConnecting(){return!!this.first&&!!this.shape}isValidSource(T,k){return this.graph.isValidSource(T)}isValidTarget(T){return!0}validateConnection(T,k){return this.isValidTarget(k)?this.graph.getEdgeValidationError(null,T,k):""}getConnectImage(T){return this.connectImage}isMoveIconToFrontForState(T){return T.text&&T.text.node.parentNode===this.graph.container?!0:this.moveIconFront}createIcons(T){const k=this.getConnectImage(T);if(k){this.iconState=T;const Z=[],ee=new Rectangle(0,0,k.width,k.height),te=new ImageShape(ee,k.src,void 0,void 0,0);te.preserveImageAspect=!1,this.isMoveIconToFrontForState(T)?(te.dialect=DIALECT.STRICTHTML,te.init(this.graph.container)):(te.dialect=DIALECT.SVG,te.init(this.graph.getView().getOverlayPane()),this.moveIconBack&&te.node.parentNode&&te.node.previousSibling&&te.node.parentNode.insertBefore(te.node,te.node.parentNode.firstChild)),te.node.style.cursor=CURSOR$1.CONNECT;const ne=()=>this.currentState??T,me=Ve=>{isConsumed(Ve)||(this.icon=te,this.graph.fireMouseEvent(InternalEvent.MOUSE_DOWN,new InternalMouseEvent(Ve,ne())))};return InternalEvent.redirectMouseEvents(te.node,this.graph,ne,me),Z.push(te),this.redrawIcons(Z,this.iconState),Z}return[]}redrawIcons(T,k){if(T[0]&&T[0].bounds){const Z=this.getIconPosition(T[0],k);T[0].bounds.x=Z.x,T[0].bounds.y=Z.y,T[0].redraw()}}getIconPosition(T,k){const{scale:Z}=this.graph.getView();let ee=k.getCenterX(),te=k.getCenterY();if(this.graph.isSwimlane(k.cell)){const ne=this.graph.getStartSize(k.cell);ee=ne.width!==0?k.x+ne.width*Z/2:ee,te=ne.height!==0?k.y+ne.height*Z/2:te;const me=toRadians(k.style.rotation??0);if(me!==0){const Ve=Math.cos(me),Ye=Math.sin(me),et=new Point$1(k.getCenterX(),k.getCenterY()),tt=getRotatedPoint(new Point$1(ee,te),Ve,Ye,et);ee=tt.x,te=tt.y}}return new Point$1(ee-T.bounds.width/2,te-T.bounds.height/2)}destroyIcons(){for(let T=0;T<this.icons.length;T+=1)this.icons[T].destroy();this.icons=[],this.icon=null,this.selectedIcon=null,this.iconState=null}isStartEvent(T){return this.constraintHandler.currentFocus!==null&&this.constraintHandler.currentConstraint!==null||this.previous!==null&&this.error===null&&(this.icons.length===0||this.icon!==null)}mouseDown(T,k){if(this.mouseDownCounter+=1,this.isEnabled()&&this.graph.isEnabled()&&!k.isConsumed()&&!this.isConnecting()&&this.isStartEvent(k)){if(this.constraintHandler.currentConstraint&&this.constraintHandler.currentFocus&&this.constraintHandler.currentPoint?(this.sourceConstraint=this.constraintHandler.currentConstraint,this.previous=this.constraintHandler.currentFocus,this.first=this.constraintHandler.currentPoint.clone()):this.first=new Point$1(k.getGraphX(),k.getGraphY()),this.edgeState=this.createEdgeState(k),this.mouseDownCounter=1,this.waypointsEnabled&&!this.shape&&(this.waypoints=[],this.shape=this.createShape(),this.edgeState&&this.shape.apply(this.edgeState)),!this.previous&&this.edgeState&&this.edgeState.cell.geometry){const Z=this.graph.getPointForEvent(k.getEvent());this.edgeState.cell.geometry.setTerminalPoint(Z,!0)}this.fireEvent(new EventObject(InternalEvent.START,{state:this.previous})),k.consume()}this.selectedIcon=this.icon,this.icon=null}isImmediateConnectSource(T){return!this.graph.isCellMovable(T.cell)}createEdgeState(T){return null}isOutlineConnectEvent(T){if(!this.currentPoint)return!1;const k=getOffset(this.graph.container),Z=T.getEvent(),ee=getClientX(Z),te=getClientY(Z),ne=document.documentElement,me=(window.pageXOffset||ne.scrollLeft)-(ne.clientLeft||0),Ve=(window.pageYOffset||ne.scrollTop)-(ne.clientTop||0),Ye=this.currentPoint.x-this.graph.container.scrollLeft+k.x-me,et=this.currentPoint.y-this.graph.container.scrollTop+k.y-Ve;return this.outlineConnect&&!isShiftDown(T.getEvent())&&(T.isSource(this.marker.highlight.shape)||isAltDown(T.getEvent())&&T.getState()!=null||this.marker.highlight.isHighlightAt(ee,te)||(Ye!==ee||et!==te)&&T.getState()==null&&this.marker.highlight.isHighlightAt(Ye,et))}updateCurrentState(T,k){if(this.constraintHandler.update(T,!this.first,!1,!this.first||T.isSource(this.marker.highlight.shape)?null:k),this.constraintHandler.currentFocus!=null&&this.constraintHandler.currentConstraint!=null)this.marker.highlight&&this.marker.highlight.state&&this.marker.highlight.state.cell===this.constraintHandler.currentFocus.cell&&this.marker.highlight.shape?this.marker.highlight.shape.stroke!=="transparent"&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent"),this.previous&&(this.error=this.validateConnection(this.previous.cell,this.constraintHandler.currentFocus.cell),this.error||(this.currentState=this.constraintHandler.currentFocus),(this.error||this.currentState&&!this.isCellEnabled(this.currentState.cell))&&this.constraintHandler.reset());else{this.graph.isIgnoreTerminalEvent(T.getEvent())?(this.marker.reset(),this.currentState=null):(this.marker.process(T),this.currentState=this.marker.getValidState()),this.currentState!=null&&!this.isCellEnabled(this.currentState.cell)&&(this.constraintHandler.reset(),this.marker.reset(),this.currentState=null);const Z=this.isOutlineConnectEvent(T);if(this.currentState!=null&&Z){T.isSource(this.marker.highlight.shape)&&(k=new Point$1(T.getGraphX(),T.getGraphY()));const ee=this.graph.getOutlineConstraint(k,this.currentState,T);this.constraintHandler.setFocus(T,this.currentState,!1),this.constraintHandler.currentConstraint=ee,this.constraintHandler.currentPoint=k}if(this.outlineConnect&&this.marker.highlight!=null&&this.marker.highlight.shape!=null){const ee=this.graph.view.scale;if(this.constraintHandler.currentConstraint!=null&&this.constraintHandler.currentFocus!=null)this.marker.highlight.shape.stroke=OUTLINE_HIGHLIGHT_COLOR,this.marker.highlight.shape.strokeWidth=OUTLINE_HIGHLIGHT_STROKEWIDTH/ee/ee,this.marker.highlight.repaint();else if(this.marker.hasValidState()){const te=T.getCell();te&&te.isConnectable()&&this.marker.getValidState()!==T.getState()?(this.marker.highlight.shape.stroke="transparent",this.currentState=null):this.marker.highlight.shape.stroke=DEFAULT_VALID_COLOR,this.marker.highlight.shape.strokeWidth=HIGHLIGHT_STROKEWIDTH/ee/ee,this.marker.highlight.repaint()}}}}isCellEnabled(T){return!0}convertWaypoint(T){const k=this.graph.getView().getScale(),Z=this.graph.getView().getTranslate();T.x=T.x/k-Z.x,T.y=T.y/k-Z.y}snapToPreview(T,k){if(!isAltDown(T.getEvent())&&this.previous){const Z=this.graph.getGridSize()*this.graph.view.scale/2,ee=this.sourceConstraint&&this.first?this.first:new Point$1(this.previous.getCenterX(),this.previous.getCenterY());Math.abs(ee.x-T.getGraphX())<Z&&(k.x=ee.x),Math.abs(ee.y-T.getGraphY())<Z&&(k.y=ee.y)}}mouseMove(T,k){if(!k.isConsumed()&&(this.ignoreMouseDown||this.first||!this.graph.isMouseDown)){!this.isEnabled()&&this.currentState&&(this.destroyIcons(),this.currentState=null);const Z=this.graph.getView(),{scale:ee}=Z,te=Z.translate;let ne=new Point$1(k.getGraphX(),k.getGraphY());if(this.error=null,this.graph.isGridEnabledEvent(k.getEvent())&&(ne=new Point$1((this.graph.snap(ne.x/ee-te.x)+te.x)*ee,(this.graph.snap(ne.y/ee-te.y)+te.y)*ee)),this.snapToPreview(k,ne),this.currentPoint=ne,(this.first||this.isEnabled()&&this.graph.isEnabled())&&(this.shape||!this.first||Math.abs(k.getGraphX()-this.first.x)>this.graph.getEventTolerance()||Math.abs(k.getGraphY()-this.first.y)>this.graph.getEventTolerance())&&this.updateCurrentState(k,ne),this.first){let me=null,Ve=ne;this.constraintHandler.currentConstraint&&this.constraintHandler.currentFocus&&this.constraintHandler.currentPoint?(me=this.constraintHandler.currentConstraint,Ve=this.constraintHandler.currentPoint.clone()):this.previous&&!this.graph.isIgnoreTerminalEvent(k.getEvent())&&isShiftDown(k.getEvent())&&(Math.abs(this.previous.getCenterX()-ne.x)<Math.abs(this.previous.getCenterY()-ne.y)?ne.x=this.previous.getCenterX():ne.y=this.previous.getCenterY());let Ye=this.first;if(this.selectedIcon&&this.selectedIcon.bounds){const et=this.selectedIcon.bounds.width,tt=this.selectedIcon.bounds.height;if(this.currentState&&this.targetConnectImage){const it=this.getIconPosition(this.selectedIcon,this.currentState);this.selectedIcon.bounds.x=it.x,this.selectedIcon.bounds.y=it.y}else{const it=new Rectangle(k.getGraphX()+this.connectIconOffset.x,k.getGraphY()+this.connectIconOffset.y,et,tt);this.selectedIcon.bounds=it}this.selectedIcon.redraw()}if(this.edgeState)this.updateEdgeState(Ve,me),Ve=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-1],Ye=this.edgeState.absolutePoints[0];else{if(this.currentState&&!this.constraintHandler.currentConstraint){const et=this.getTargetPerimeterPoint(this.currentState,k);et!=null&&(Ve=et)}if(!this.sourceConstraint&&this.previous){const et=this.waypoints.length>0?this.waypoints[0]:Ve,tt=this.getSourcePerimeterPoint(this.previous,et,k);tt&&(Ye=tt)}}if(!this.currentState&&this.movePreviewAway&&Ve){let et=Ye;if(this.edgeState&&this.edgeState.absolutePoints.length>=2){const tt=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-2];tt&&(et=tt)}if(et){const tt=Ve.x-et.x,it=Ve.y-et.y,st=Math.sqrt(tt*tt+it*it);if(st===0)return;this.originalPoint=Ve.clone(),Ve.x-=tt*4/st,Ve.y-=it*4/st}}else this.originalPoint=null;if(!this.shape){const et=Math.abs(k.getGraphX()-this.first.x),tt=Math.abs(k.getGraphY()-this.first.y);(et>this.graph.getEventTolerance()||tt>this.graph.getEventTolerance())&&(this.shape=this.createShape(),this.edgeState&&this.shape.apply(this.edgeState),this.updateCurrentState(k,ne))}if(this.shape){if(this.edgeState)this.shape.points=this.edgeState.absolutePoints;else{let et=[Ye];this.waypoints.length>0&&(et=et.concat(this.waypoints)),et.push(Ve),this.shape.points=et}this.drawPreview()}this.cursor&&(this.graph.container.style.cursor=this.cursor),InternalEvent.consume(k.getEvent()),k.consume()}else!this.isEnabled()||!this.graph.isEnabled()?this.constraintHandler.reset():this.previous!==this.currentState&&!this.edgeState?(this.destroyIcons(),this.currentState&&!this.error&&!this.constraintHandler.currentConstraint&&(this.icons=this.createIcons(this.currentState),this.icons.length===0&&(this.currentState.setCursor(CURSOR$1.CONNECT),k.consume())),this.previous=this.currentState):this.previous===this.currentState&&this.currentState!=null&&this.icons.length===0&&!this.graph.isMouseDown&&k.consume();if(!this.graph.isMouseDown&&this.currentState!=null&&this.icons!=null){let me=!1;const Ve=k.getSource();for(let Ye=0;Ye<this.icons.length&&!me;Ye+=1)me=Ve===this.icons[Ye].node||!!Ve&&Ve.parentNode===this.icons[Ye].node;me||this.updateIcons(this.currentState,this.icons,k)}}else this.constraintHandler.reset()}updateEdgeState(T,k){if(!this.edgeState)return;this.sourceConstraint&&this.sourceConstraint.point&&(this.edgeState.style.exitX=this.sourceConstraint.point.x,this.edgeState.style.exitY=this.sourceConstraint.point.y),k&&k.point?(this.edgeState.style.entryX=k.point.x,this.edgeState.style.entryY=k.point.y):(this.edgeState.style.entryX=0,this.edgeState.style.entryY=0),this.edgeState.absolutePoints=[null,this.currentState!=null?null:T],this.sourceConstraint&&this.graph.view.updateFixedTerminalPoint(this.edgeState,this.previous,!0,this.sourceConstraint),this.currentState!=null&&(k==null&&(k=this.graph.getConnectionConstraint(this.edgeState,this.previous,!1)),this.edgeState.setAbsoluteTerminalPoint(null,!1),this.graph.view.updateFixedTerminalPoint(this.edgeState,this.currentState,!1,k));const Z=[];for(let ee=0;ee<this.waypoints.length;ee+=1){const te=this.waypoints[ee].clone();this.convertWaypoint(te),Z[ee]=te}this.graph.view.updatePoints(this.edgeState,Z,this.previous,this.currentState),this.graph.view.updateFloatingTerminalPoints(this.edgeState,this.previous,this.currentState)}getTargetPerimeterPoint(T,k){let Z=null;const{view:ee}=T,te=ee.getPerimeterFunction(T);if(te&&this.previous&&this.edgeState){const ne=this.waypoints.length>0?this.waypoints[this.waypoints.length-1]:new Point$1(this.previous.getCenterX(),this.previous.getCenterY()),me=te(ee.getPerimeterBounds(T),this.edgeState,ne,!1);me&&(Z=me)}else Z=new Point$1(T.getCenterX(),T.getCenterY());return Z}getSourcePerimeterPoint(T,k,Z){let ee=null;const{view:te}=T,ne=te.getPerimeterFunction(T),me=new Point$1(T.getCenterX(),T.getCenterY());if(ne){const Ve=T.style.rotation??0,Ye=-Ve*(Math.PI/180);Ve!==0&&(k=getRotatedPoint(new Point$1(k.x,k.y),Math.cos(Ye),Math.sin(Ye),me));let et=ne(te.getPerimeterBounds(T),T,k,!1);et&&(Ve!==0&&(et=getRotatedPoint(new Point$1(et.x,et.y),Math.cos(-Ye),Math.sin(-Ye),me)),ee=et)}else ee=me;return ee}updateIcons(T,k,Z){}isStopEvent(T){return!!T.getState()}addWaypointForEvent(T){if(!this.first)return;let k=convertPoint(this.graph.container,T.getX(),T.getY());const Z=Math.abs(k.x-this.first.x),ee=Math.abs(k.y-this.first.y);if(this.waypoints.length>0||this.mouseDownCounter>1&&(Z>this.graph.getEventTolerance()||ee>this.graph.getEventTolerance())){const{scale:ne}=this.graph.view;k=new Point$1(this.graph.snap(T.getGraphX()/ne)*ne,this.graph.snap(T.getGraphY()/ne)*ne),this.waypoints.push(k)}}checkConstraints(T,k){return!T||!k||!T.point||!k.point||!T.point.equals(k.point)||T.dx!==k.dx||T.dy!==k.dy||T.perimeter!==k.perimeter}mouseUp(T,k){if(!k.isConsumed()&&this.isConnecting()){if(this.waypointsEnabled&&!this.isStopEvent(k)){this.addWaypointForEvent(k),k.consume();return}const Z=this.sourceConstraint,ee=this.constraintHandler.currentConstraint,te=this.previous?this.previous.cell:null;let ne=null;this.constraintHandler.currentConstraint&&this.constraintHandler.currentFocus&&(ne=this.constraintHandler.currentFocus.cell),!ne&&this.currentState&&(ne=this.currentState.cell),!this.error&&(!te||!ne||te!==ne||this.checkConstraints(Z,ee))?this.connect(te,ne,k.getEvent(),k.getCell()):(this.previous!=null&&this.marker.validState!=null&&this.previous.cell===this.marker.validState.cell&&this.graph.selectCellForEvent(this.marker.validState.cell,k.getEvent()),this.error!=null&&this.error.length>0&&this.graph.validationAlert(this.error)),this.destroyIcons(),k.consume()}this.first!=null&&this.reset()}reset(){this.shape!=null&&(this.shape.destroy(),this.shape=null),this.cursor!=null&&this.graph.container!=null&&(this.graph.container.style.cursor=""),this.destroyIcons(),this.marker.reset(),this.constraintHandler.reset(),this.originalPoint=null,this.currentPoint=null,this.edgeState=null,this.previous=null,this.error=null,this.sourceConstraint=null,this.mouseDownCounter=0,this.first=null,this.fireEvent(new EventObject(InternalEvent.RESET))}drawPreview(){this.updatePreview(this.error===null),this.shape&&this.shape.redraw()}updatePreview(T){this.shape&&(this.shape.strokeWidth=this.getEdgeWidth(T),this.shape.stroke=this.getEdgeColor(T))}getEdgeColor(T){return T?VALID_COLOR:INVALID_COLOR}getEdgeWidth(T){return T?3:1}connect(T,k,Z,ee=null){var te,ne,me,Ve;if(k||this.isCreateTarget(Z)||this.graph.isAllowDanglingEdges()){const Ye=this.graph.getDataModel();let et=!1,tt=null;Ye.beginUpdate();try{if(T&&!k&&!this.graph.isIgnoreTerminalEvent(Z)&&this.isCreateTarget(Z)&&(k=this.createTargetVertex(Z,T),k)){if(ee=this.graph.getDropTarget([k],Z,ee),et=!0,ee==null||!ee.isEdge()){const rt=ee?this.graph.getView().getState(ee):null;if(rt){const lt=k.getGeometry();lt&&(lt.x-=rt.origin.x,lt.y-=rt.origin.y)}}else ee=this.graph.getDefaultParent();this.graph.addCell(k,ee)}let it=this.graph.getDefaultParent();T&&k&&T.getParent()===k.getParent()&&((te=T.getParent())==null?void 0:te.getParent())!==Ye.getRoot()&&(it=T.getParent(),T.geometry&&T.geometry.relative&&k.geometry&&k.geometry.relative&&(it=it.getParent()));let st=null,nt={};if((ne=this.edgeState)!=null&&ne.cell&&(st=this.edgeState.cell.value,nt=this.edgeState.cell.style??{}),tt=this.insertEdge(it,"",st,T,k,nt),tt&&T){if(this.graph.setConnectionConstraint(tt,T,!0,this.sourceConstraint),this.graph.setConnectionConstraint(tt,k,!1,this.constraintHandler.currentConstraint),(Ve=(me=this.edgeState)==null?void 0:me.cell)!=null&&Ve.geometry&&Ye.setGeometry(tt,this.edgeState.cell.geometry),it=T.getParent(),this.isInsertBefore(tt,T,k,Z,ee)){let ot=T;for(;ot&&ot.parent!=null&&ot.geometry!=null&&ot.geometry.relative&&ot.parent!==tt.parent;)ot=ot.getParent();ot!=null&&ot.parent!=null&&ot.parent===tt.parent&&Ye.add(it,tt,ot.parent.getIndex(ot))}let rt=tt.getGeometry();if(rt==null&&(rt=new Geometry,rt.relative=!0,Ye.setGeometry(tt,rt)),this.waypoints.length>0){const lt=this.graph.view.scale,ot=this.graph.view.translate;rt.points=[];for(let ht=0;ht<this.waypoints.length;ht+=1){const dt=this.waypoints[ht];rt.points.push(new Point$1(dt.x/lt-ot.x,dt.y/lt-ot.y))}}if(!k&&this.currentPoint){const lt=this.graph.view.translate,ot=this.graph.view.scale,ht=this.originalPoint!=null?new Point$1(this.originalPoint.x/ot-lt.x,this.originalPoint.y/ot-lt.y):new Point$1(this.currentPoint.x/ot-lt.x,this.currentPoint.y/ot-lt.y);ht.x-=this.graph.getPanDx()/this.graph.view.scale,ht.y-=this.graph.getPanDy()/this.graph.view.scale,rt.setTerminalPoint(ht,!1)}this.fireEvent(new EventObject(InternalEvent.CONNECT,"cell",tt,"terminal",k,"event",Z,"target",ee,"terminalInserted",et))}}catch(it){GlobalConfig.logger.show();const st=`Error in ConnectionHandler: ${it instanceof Error?it.message+`
`+it.stack:"unknown cause"}`;GlobalConfig.logger.debug(st)}finally{Ye.endUpdate()}this.select&&this.selectCells(tt,et?k:null)}}selectCells(T,k){this.graph.setSelectionCell(T)}insertEdge(T,k,Z,ee,te,ne){if(!this.factoryMethod)return this.graph.insertEdge(T,k,Z,ee,te,ne);let me=this.createEdge(Z,ee,te,ne);return me=this.graph.addEdge(me,T,ee,te),me}createTargetVertex(T,k){let Z=k.getGeometry();for(;Z&&Z.relative;)k=k.getParent(),Z=k.getGeometry();const ee=this.graph.cloneCell(k);if(Z=ee.getGeometry(),Z&&this.currentPoint){const te=this.graph.view.translate,ne=this.graph.view.scale,me=new Point$1(this.currentPoint.x/ne-te.x,this.currentPoint.y/ne-te.y);Z.x=Math.round(me.x-Z.width/2-this.graph.getPanDx()/ne),Z.y=Math.round(me.y-Z.height/2-this.graph.getPanDy()/ne);const Ve=this.getAlignmentTolerance();if(Ve>0){const Ye=this.graph.view.getState(k);if(Ye!=null){const et=Ye.x/ne-te.x,tt=Ye.y/ne-te.y;Math.abs(et-Z.x)<=Ve&&(Z.x=Math.round(et)),Math.abs(tt-Z.y)<=Ve&&(Z.y=Math.round(tt))}}}return ee}getAlignmentTolerance(T){return this.graph.isGridEnabled()?this.graph.getGridSize()/2:this.graph.getSnapTolerance()}createEdge(T,k,Z,ee={}){let te=null;if(this.factoryMethod!=null&&(te=this.factoryMethod(k,Z,ee)),te==null){te=new Cell(T||""),te.setEdge(!0),te.setStyle(ee);const ne=new Geometry;ne.relative=!0,te.setGeometry(ne)}return te}onDestroy(){this.graph.removeMouseListener(this),this.shape&&(this.shape.destroy(),this.shape=null),this.marker&&(this.marker.destroy(),this.marker=null),this.constraintHandler&&this.constraintHandler.onDestroy(),this.changeHandler&&(this.graph.getDataModel().removeListener(this.changeHandler),this.graph.getView().removeListener(this.changeHandler)),this.drillHandler&&(this.graph.removeListener(this.drillHandler),this.graph.getView().removeListener(this.drillHandler)),this.escapeHandler&&this.graph.removeListener(this.escapeHandler)}};ca.pluginId="ConnectionHandler";let ConnectionHandler=ca;class ConnectionHandlerCellMarker extends CellMarker{constructor(T,k,Z=DEFAULT_VALID_COLOR,ee=DEFAULT_INVALID_COLOR,te=DEFAULT_HOTSPOT){super(T,Z,ee,te),this.hotspotEnabled=!0,this.connectionHandler=k}getCell(T){let k=super.getCell(T);if(this.connectionHandler.error=null,!k&&this.connectionHandler.currentPoint&&(k=this.connectionHandler.graph.getCellAt(this.connectionHandler.currentPoint.x,this.connectionHandler.currentPoint.y)),k&&!k.isConnectable()&&this.connectionHandler.cell){const Z=this.connectionHandler.cell.getParent();Z&&Z.isVertex()&&Z.isConnectable()&&(k=Z)}return k&&(this.connectionHandler.graph.isSwimlane(k)&&this.connectionHandler.currentPoint!=null&&this.connectionHandler.graph.hitsSwimlaneContent(k,this.connectionHandler.currentPoint.x,this.connectionHandler.currentPoint.y)||!this.connectionHandler.isConnectableCell(k))&&(k=null),k?this.connectionHandler.isConnecting()?this.connectionHandler.previous&&(this.connectionHandler.error=this.connectionHandler.validateConnection(this.connectionHandler.previous.cell,k),this.connectionHandler.error!==null&&this.connectionHandler.error.length===0&&(k=null,this.connectionHandler.isCreateTarget(T.getEvent())&&(this.connectionHandler.error=null))):this.connectionHandler.isValidSource(k,T)||(k=null):this.connectionHandler.isConnecting()&&!this.connectionHandler.isCreateTarget(T.getEvent())&&!this.connectionHandler.graph.isAllowDanglingEdges()&&(this.connectionHandler.error=""),k}isValidState(T){return this.connectionHandler.isConnecting()?!this.connectionHandler.error:super.isValidState(T)}getMarkerColor(T,k,Z){return!this.connectionHandler.connectImage||this.connectionHandler.isConnecting()?super.getMarkerColor(T,k,Z):NONE}intersects(T,k){return this.connectionHandler.connectImage||this.connectionHandler.isConnecting()?!0:super.intersects(T,k)}}const ha=class ha{constructor(T){this.refreshThread=null,this.maxCells=50,this.enabled=!0,this.highlightEnabled=!0,this.cloneEnabled=!0,this.moveEnabled=!0,this.guidesEnabled=!1,this.handlesVisible=!0,this.guide=null,this.currentDx=0,this.currentDy=0,this.updateCursor=!0,this.selectEnabled=!0,this.removeCellsFromParent=!0,this.removeEmptyParents=!1,this.connectOnDrop=!1,this.scrollOnMove=!0,this.minimumSize=6,this.previewColor="black",this.htmlPreview=!1,this.shape=null,this.scaleGrid=!1,this.rotationEnabled=!0,this.maxLivePreview=0,this.allowLivePreview=Client.IS_SVG,this.cell=null,this.delayedSelection=!1,this.first=null,this.cells=null,this.bounds=null,this.pBounds=null,this.allCells=new Dictionary,this.cellWasClicked=!1,this.cloning=!1,this.cellCount=0,this.target=null,this.suspended=!1,this.livePreviewActive=!1,this.livePreviewUsed=!1,this.highlight=null,this.graph=T,this.graph.addMouseListener(this),this.panHandler=()=>{this.suspended||(this.updatePreview(),this.updateHint())},this.graph.addListener(InternalEvent.PAN,this.panHandler),this.escapeHandler=(k,Z)=>{this.reset()},this.graph.addListener(InternalEvent.ESCAPE,this.escapeHandler),this.refreshHandler=(k,Z)=>{this.refreshThread&&window.clearTimeout(this.refreshThread),this.refreshThread=window.setTimeout(()=>{if(this.refreshThread=null,this.first&&!this.suspended&&this.cells){const ee=this.currentDx,te=this.currentDy;if(this.currentDx=0,this.currentDy=0,this.updatePreview(),this.bounds=this.graph.getView().getBounds(this.cells),this.pBounds=this.getPreviewBounds(this.cells),this.pBounds==null&&!this.livePreviewUsed)this.reset();else if(this.currentDx=ee,this.currentDy=te,this.updatePreview(),this.updateHint(),this.livePreviewUsed){const ne=this.graph.getPlugin("SelectionCellsHandler");this.setHandlesVisibleForCells((ne==null?void 0:ne.getHandledSelectionCells())??[],!1,!0),this.updatePreview()}}},0)},this.graph.getDataModel().addListener(InternalEvent.CHANGE,this.refreshHandler),this.graph.addListener(InternalEvent.REFRESH,this.refreshHandler),this.keyHandler=k=>{if(this.graph.container!=null&&this.graph.container.style.visibility!=="hidden"&&this.first!=null&&!this.suspended){const Z=this.graph.isCloneEvent(k)&&this.graph.isCellsCloneable()&&this.isCloneEnabled();Z!==this.cloning&&(this.cloning=Z,this.checkPreview(),this.updatePreview())}},typeof document<"u"&&(InternalEvent.addListener(document,"keydown",this.keyHandler),InternalEvent.addListener(document,"keyup",this.keyHandler))}isEnabled(){return this.enabled}setEnabled(T){this.enabled=T}isCloneEnabled(){return this.cloneEnabled}setCloneEnabled(T){this.cloneEnabled=T}isMoveEnabled(){return this.moveEnabled}setMoveEnabled(T){this.moveEnabled=T}isSelectEnabled(){return this.selectEnabled}setSelectEnabled(T){this.selectEnabled=T}isRemoveCellsFromParent(){return this.removeCellsFromParent}setRemoveCellsFromParent(T){this.removeCellsFromParent=T}isPropagateSelectionCell(T,k,Z){const ee=T.getParent();if(k){const te=T.isEdge()?null:T.getGeometry();return!this.graph.isSiblingSelected(T)&&te&&te.relative||!this.graph.isSwimlane(ee)}return(!this.graph.isToggleEvent(Z.getEvent())||!this.graph.isSiblingSelected(T)&&!this.graph.isCellSelected(T)&&!this.graph.isSwimlane(ee)||this.graph.isCellSelected(ee))&&(this.graph.isToggleEvent(Z.getEvent())||!this.graph.isCellSelected(ee))}getInitialCellForEvent(T){let k=T.getState();if((!this.graph.isToggleEvent(T.getEvent())||!isAltDown(T.getEvent()))&&k&&!this.graph.isCellSelected(k.cell)){let Z=k.cell.getParent(),ee=Z?this.graph.view.getState(Z):null;for(;ee&&!this.graph.isCellSelected(ee.cell)&&(ee.cell.isVertex()||ee.cell.isEdge())&&this.isPropagateSelectionCell(k.cell,!0,T);)k=ee,Z=k.cell.getParent(),ee=Z?this.graph.view.getState(Z):null}return k?k.cell:null}isDelayedSelection(T,k){let Z=T;const ee=this.graph.getPlugin("SelectionCellsHandler");if(!this.graph.isToggleEvent(k.getEvent())||!isAltDown(k.getEvent()))for(;Z;){if(ee!=null&&ee.isHandled(Z)){const te=this.graph.getPlugin("CellEditorHandler");return(te==null?void 0:te.getEditingCell())!==Z}Z=Z.getParent()}return this.graph.isToggleEvent(k.getEvent())&&!isAltDown(k.getEvent())}selectDelayed(T){const k=this.graph.getPlugin("PopupMenuHandler");if(!k||!k.isPopupTrigger(T)){let Z=T.getCell();Z===null&&(Z=this.cell),Z&&this.selectCellForEvent(Z,T)}}selectCellForEvent(T,k){const Z=this.graph.view.getState(T);if(Z)if(k.isSource(Z.control))this.graph.selectCellForEvent(T,k.getEvent());else{if(!this.graph.isToggleEvent(k.getEvent())||!isAltDown(k.getEvent())){let ee=T.getParent();for(;ee&&this.graph.view.getState(ee)&&(ee.isVertex()||ee.isEdge())&&this.isPropagateSelectionCell(T,!1,k);)T=ee,ee=T.getParent()}this.graph.selectCellForEvent(T,k.getEvent())}return T}consumeMouseEvent(T,k){k.consume()}mouseDown(T,k){if(!k.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&k.getState()&&!isMultiTouchEvent(k.getEvent())){const Z=this.getInitialCellForEvent(k);if(Z&&(this.delayedSelection=this.isDelayedSelection(Z,k),this.cell=null,this.isSelectEnabled()&&!this.delayedSelection&&this.graph.selectCellForEvent(Z,k.getEvent()),this.isMoveEnabled())){const ee=Z.getGeometry();ee&&this.graph.isCellMovable(Z)&&(!Z.isEdge()||this.graph.getSelectionCount()>1||ee.points&&ee.points.length>0||!Z.getTerminal(!0)||!Z.getTerminal(!1)||this.graph.isAllowDanglingEdges()||this.graph.isCloneEvent(k.getEvent())&&this.graph.isCellsCloneable())?this.start(Z,k.getX(),k.getY()):this.delayedSelection&&(this.cell=Z),this.cellWasClicked=!0,this.consumeMouseEvent(InternalEvent.MOUSE_DOWN,k)}}}getGuideStates(){const T=this.graph.getDefaultParent(),k=Z=>{const ee=Z.getGeometry();return!!this.graph.view.getState(Z)&&Z.isVertex()&&!!ee&&!ee.relative};return this.graph.view.getCellStates(T.filterDescendants(k))}getCells(T){return!this.delayedSelection&&this.graph.isCellMovable(T)?[T]:this.graph.getMovableCells(this.graph.getSelectionCells())}getPreviewBounds(T){const k=this.getBoundingBox(T);if(k){if(k.width=Math.max(0,k.width-1),k.height=Math.max(0,k.height-1),k.width<this.minimumSize){const Z=this.minimumSize-k.width;k.x-=Z/2,k.width=this.minimumSize}else k.x=Math.round(k.x),k.width=Math.ceil(k.width);if(k.height<this.minimumSize){const Z=this.minimumSize-k.height;k.y-=Z/2,k.height=this.minimumSize}else k.y=Math.round(k.y),k.height=Math.ceil(k.height)}return k}getBoundingBox(T){let k=null;if(T.length>0){for(let Z=0;Z<T.length;Z+=1)if(T[Z].isVertex()||T[Z].isEdge()){const ee=this.graph.view.getState(T[Z]);if(ee){let te=null;T[Z].isVertex()&&ee.shape&&ee.shape.boundingBox&&(te=ee.shape.boundingBox),te&&(k?k.add(te):k=Rectangle.fromRectangle(te))}}}return k}createPreviewShape(T){const k=new RectangleShape(T,NONE,this.previewColor);return k.isDashed=!0,this.htmlPreview?(k.dialect=DIALECT.STRICTHTML,k.init(this.graph.container)):(k.dialect=DIALECT.SVG,k.init(this.graph.getView().getOverlayPane()),k.pointerEvents=!1,Client.IS_IOS&&(k.getSvgScreenOffset=()=>0)),k}createGuide(){return new Guide(this.graph,this.getGuideStates())}start(T,k,Z,ee){this.cell=T,this.first=convertPoint(this.graph.container,k,Z),this.cells=ee||this.getCells(this.cell),this.bounds=this.graph.getView().getBounds(this.cells),this.pBounds=this.getPreviewBounds(this.cells),this.cloning=!1,this.cellCount=0;for(let te=0;te<this.cells.length;te+=1)this.cellCount+=this.addStates(this.cells[te],this.allCells);if(this.guidesEnabled){this.guide=this.createGuide();const te=T.getParent(),ne=te.getChildCount()<2,me=new Dictionary,Ve=this.graph.getOpposites(this.graph.getEdges(this.cell),this.cell);for(let Ye=0;Ye<Ve.length;Ye+=1){const et=this.graph.view.getState(Ve[Ye]);et&&!me.get(et)&&me.put(et,!0)}this.guide.isStateIgnored=Ye=>{const et=Ye.cell.getParent();return!!Ye.cell&&(!this.cloning&&!!this.isCellMoving(Ye.cell)||Ye.cell!==(this.target||te)&&!ne&&!me.get(Ye)&&(!this.target||this.target.getChildCount()>=2)&&et!==(this.target||te))}}}addStates(T,k){const Z=this.graph.view.getState(T);let ee=0;if(Z&&!k.get(T)){k.put(T,Z),ee++;const te=T.getChildCount();for(let ne=0;ne<te;ne+=1)ee+=this.addStates(T.getChildAt(ne),k)}return ee}isCellMoving(T){return this.allCells.get(T)}useGuidesForEvent(T){return this.guide?this.guide.isEnabledForEvent(T.getEvent())&&!this.graph.isConstrainedEvent(T.getEvent()):!0}snap(T){const k=this.scaleGrid?this.graph.view.scale:1;return T.x=this.graph.snap(T.x/k)*k,T.y=this.graph.snap(T.y/k)*k,T}getDelta(T){const k=convertPoint(this.graph.container,T.getX(),T.getY());return this.first?new Point$1(k.x-this.first.x-this.graph.getPanDx(),k.y-this.first.y-this.graph.getPanDy()):new Point$1}updateHint(T){}removeHint(){}roundLength(T){return Math.round(T*100)/100}isValidDropTarget(T,k){return this.cell?this.cell.getParent()!==T:!1}checkPreview(){this.livePreviewActive&&this.cloning?(this.resetLivePreview(),this.livePreviewActive=!1):this.maxLivePreview>=this.cellCount&&!this.livePreviewActive&&this.allowLivePreview?(!this.cloning||!this.livePreviewActive)&&(this.livePreviewActive=!0,this.livePreviewUsed=!0):!this.livePreviewUsed&&!this.shape&&this.bounds&&(this.shape=this.createPreviewShape(this.bounds))}mouseMove(T,k){const{graph:Z}=this;if(!k.isConsumed()&&Z.isMouseDown&&this.cell&&this.first&&this.bounds&&!this.suspended){if(isMultiTouchEvent(k.getEvent())){this.reset();return}let ee=this.getDelta(k);const te=Z.getEventTolerance();if(this.shape||this.livePreviewActive||Math.abs(ee.x)>te||Math.abs(ee.y)>te){this.highlight||(this.highlight=new CellHighlight(this.graph,DROP_TARGET_COLOR,3));const ne=Z.isCloneEvent(k.getEvent())&&Z.isCellsCloneable()&&this.isCloneEnabled(),me=Z.isGridEnabledEvent(k.getEvent()),Ve=k.getCell();let Ye=!0,et=null;this.cloning=ne,Z.isDropEnabled()&&this.highlightEnabled&&this.cells&&(et=Z.getDropTarget(this.cells,k.getEvent(),Ve,ne));let tt=et?Z.getView().getState(et):null,it=!1;if(tt&&(ne||et&&this.isValidDropTarget(et,k)))this.target!==et&&(this.target=et,this.setHighlightColor(DROP_TARGET_COLOR)),it=!0;else if(this.target=null,this.connectOnDrop&&Ve&&this.cells&&this.cells.length===1&&Ve.isVertex()&&Ve.isConnectable()&&(tt=Z.getView().getState(Ve),tt)){const nt=Z.getEdgeValidationError(null,this.cell,Ve)===null?VALID_COLOR:INVALID_CONNECT_TARGET_COLOR;this.setHighlightColor(nt),it=!0}tt&&it?this.highlight.highlight(tt):this.highlight.hide(),this.guide&&this.useGuidesForEvent(k)?(ee=this.guide.move(this.bounds,ee,me,ne),Ye=!1):ee=this.graph.snapDelta(ee,this.bounds,!me,!1,!1),this.guide&&Ye&&this.guide.hide(),Z.isConstrainedEvent(k.getEvent())&&(Math.abs(ee.x)>Math.abs(ee.y)?ee.y=0:ee.x=0),this.checkPreview(),(this.currentDx!==ee.x||this.currentDy!==ee.y)&&(this.currentDx=ee.x,this.currentDy=ee.y,this.updatePreview())}this.updateHint(k),this.consumeMouseEvent(InternalEvent.MOUSE_MOVE,k),InternalEvent.consume(k.getEvent())}else if((this.isMoveEnabled()||this.isCloneEnabled())&&this.updateCursor&&!k.isConsumed()&&(k.getState()||k.sourceState)&&!Z.isMouseDown){let ee=Z.getCursorForMouseEvent(k);const te=k.getCell();!ee&&te&&Z.isEnabled()&&Z.isCellMovable(te)&&(te.isEdge()?ee=CURSOR$1.MOVABLE_EDGE:ee=CURSOR$1.MOVABLE_VERTEX),ee&&k.sourceState&&k.sourceState.setCursor(ee)}}updatePreview(T=!1){if(this.livePreviewUsed&&!T){if(this.cells){const k=this.graph.getPlugin("SelectionCellsHandler");this.setHandlesVisibleForCells((k==null?void 0:k.getHandledSelectionCells())??[],!1),this.updateLivePreview(this.currentDx,this.currentDy)}}else this.updatePreviewShape()}updatePreviewShape(){this.shape&&this.pBounds&&(this.graph.fireEvent(new EventObject("CELL_MOVING",{cell:this.cell,dx:this.currentDx/this.graph.view.scale,dy:this.currentDy/this.graph.view.scale})),this.shape.bounds=new Rectangle(Math.round(this.pBounds.x+this.currentDx),Math.round(this.pBounds.y+this.currentDy),this.pBounds.width,this.pBounds.height),this.shape.redraw())}updateLivePreview(T,k){if(!this.suspended){const Z=[];if(this.allCells&&this.allCells.visit((ee,te)=>{const ne=te?this.graph.view.getState(te.cell):null;if(ne!==te&&te&&(te.destroy(),ne?this.allCells.put(te.cell,ne):this.allCells.remove(te.cell),te=ne),te){const me=te.clone();Z.push([te,me]),te.shape&&(te.shape.originalPointerEvents===null&&(te.shape.originalPointerEvents=te.shape.pointerEvents),te.shape.pointerEvents=!1,te.text&&(te.text.originalPointerEvents===null&&(te.text.originalPointerEvents=te.text.pointerEvents),te.text.pointerEvents=!1)),te.cell.isVertex()&&(te.x+=T,te.y+=k,this.cloning?te.text&&(te.text.updateBoundingBox(),te.text.boundingBox&&(te.text.boundingBox.x+=T,te.text.boundingBox.y+=k),te.text.unrotatedBoundingBox&&(te.text.unrotatedBoundingBox.x+=T,te.text.unrotatedBoundingBox.y+=k)):(te.view.graph.cellRenderer.redraw(te,!0),te.view.invalidate(te.cell),te.invalid=!1,te.control&&te.control.node&&(te.control.node.style.visibility="hidden")))}}),Z.length===0)this.reset();else{const ee=this.graph.view.scale;for(let te=0;te<Z.length;te+=1){const ne=Z[te][0];if(ne.cell.isEdge()){const me=ne.cell.getGeometry(),Ve=[];if(me&&me.points)for(let it=0;it<me.points.length;it++)me.points[it]&&Ve.push(new Point$1(me.points[it].x+T/ee,me.points[it].y+k/ee));let Ye=ne.visibleSourceState,et=ne.visibleTargetState;const tt=Z[te][1].absolutePoints;if(Ye==null||!this.isCellMoving(Ye.cell)){const it=tt[0];it&&(ne.setAbsoluteTerminalPoint(new Point$1(it.x+T,it.y+k),!0),Ye=null)}else ne.view.updateFixedTerminalPoint(ne,Ye,!0,this.graph.getConnectionConstraint(ne,Ye,!0));if(et==null||!this.isCellMoving(et.cell)){const it=tt[tt.length-1];it&&(ne.setAbsoluteTerminalPoint(new Point$1(it.x+T,it.y+k),!1),et=null)}else ne.view.updateFixedTerminalPoint(ne,et,!1,this.graph.getConnectionConstraint(ne,et,!1));ne.view.updatePoints(ne,Ve,Ye,et),ne.view.updateFloatingTerminalPoints(ne,Ye,et),ne.view.updateEdgeLabelOffset(ne),ne.invalid=!1,this.cloning||ne.view.graph.cellRenderer.redraw(ne,!0)}}this.graph.view.validate(),this.redrawHandles(Z),this.resetPreviewStates(Z)}}}redrawHandles(T){const k=this.graph.getPlugin("SelectionCellsHandler");for(let Z=0;Z<T.length;Z+=1){const ee=k==null?void 0:k.getHandler(T[Z][0].cell);ee==null||ee.redraw(!0)}}resetPreviewStates(T){for(let k=0;k<T.length;k+=1)T[k][0].setState(T[k][1])}suspend(){this.suspended||(this.livePreviewUsed&&this.updateLivePreview(0,0),this.shape&&(this.shape.node.style.visibility="hidden"),this.guide&&this.guide.setVisible(!1),this.suspended=!0)}resume(){this.suspended&&(this.suspended=!1,this.livePreviewUsed&&(this.livePreviewActive=!0),this.shape&&(this.shape.node.style.visibility="visible"),this.guide&&this.guide.setVisible(!0))}resetLivePreview(){this.allCells.visit((T,k)=>{k.shape&&k.shape.originalPointerEvents!==null&&(k.shape.pointerEvents=k.shape.originalPointerEvents,k.shape.originalPointerEvents=null,k.shape.bounds=null,k.text&&k.text.originalPointerEvents!==null&&(k.text.pointerEvents=k.text.originalPointerEvents,k.text.originalPointerEvents=null)),k.control&&k.control.node&&k.control.node.style.visibility==="hidden"&&(k.control.node.style.visibility=""),this.cloning||k.text&&k.text.updateBoundingBox(),k.view.invalidate(k.cell)}),this.graph.view.validate()}setHandlesVisibleForCells(T,k,Z=!1){if(Z||this.handlesVisible!==k){this.handlesVisible=k;const ee=this.graph.getPlugin("SelectionCellsHandler");for(let te=0;te<T.length;te+=1){const ne=ee==null?void 0:ee.getHandler(T[te]);ne&&(ne.setHandlesVisible(k),k&&ne.redraw())}}}setHighlightColor(T){this.highlight&&this.highlight.setHighlightColor(T)}mouseUp(T,k){if(!k.isConsumed())if(this.livePreviewUsed&&this.resetLivePreview(),this.cell&&this.first&&(this.shape||this.livePreviewUsed)&&isNumeric(this.currentDx)&&isNumeric(this.currentDy)){const{graph:Z}=this,ee=k.getCell();if(this.connectOnDrop&&!this.target&&ee&&ee.isVertex()&&ee.isConnectable()&&Z.isEdgeValid(null,this.cell,ee)){const te=Z.getPlugin("ConnectionHandler");te==null||te.connect(this.cell,ee,k.getEvent())}else{const te=Z.isCloneEvent(k.getEvent())&&Z.isCellsCloneable()&&this.isCloneEnabled(),{scale:ne}=Z.getView(),me=this.roundLength(this.currentDx/ne),Ve=this.roundLength(this.currentDy/ne),Ye=this.target;Ye&&Z.isSplitEnabled()&&this.cells&&Z.isSplitTarget(Ye,this.cells,k.getEvent())?Z.splitEdge(Ye,this.cells,null,me,Ve,k.getGraphX(),k.getGraphY()):this.cells&&this.moveCells(this.cells,me,Ve,te,this.target,k.getEvent())}}else this.isSelectEnabled()&&this.delayedSelection&&this.cell!=null&&this.selectDelayed(k);this.cellWasClicked&&this.consumeMouseEvent(InternalEvent.MOUSE_UP,k),this.reset()}reset(){if(this.livePreviewUsed){this.resetLivePreview();const T=this.graph.getPlugin("SelectionCellsHandler");this.setHandlesVisibleForCells((T==null?void 0:T.getHandledSelectionCells())??[],!0)}this.destroyShapes(),this.removeHint(),this.delayedSelection=!1,this.livePreviewActive=!1,this.livePreviewUsed=!1,this.cellWasClicked=!1,this.suspended=!1,this.currentDx=0,this.currentDy=0,this.cellCount=0,this.cloning=!1,this.allCells.clear(),this.pBounds=null,this.target=null,this.first=null,this.cells=null,this.cell=null}shouldRemoveCellsFromParent(T,k,Z){if(T.isVertex()){const ee=this.graph.getView().getState(T);if(ee){let te=convertPoint(this.graph.container,getClientX(Z),getClientY(Z));const ne=toRadians(ee.style.rotation??0);if(ne!==0){const me=Math.cos(-ne),Ve=Math.sin(-ne),Ye=new Point$1(ee.getCenterX(),ee.getCenterY());te=getRotatedPoint(te,me,Ve,Ye)}return!contains(ee,te.x,te.y)}}return!1}moveCells(T,k,Z,ee,te,ne){if(!this.cell)return;ee&&(T=this.graph.getCloneableCells(T));const me=this.cell.getParent();!te&&me&&this.isRemoveCellsFromParent()&&this.shouldRemoveCellsFromParent(me,T,ne)&&(te=this.graph.getDefaultParent()),ee=!!ee&&!this.graph.isCellLocked(te||this.graph.getDefaultParent()),this.graph.batchUpdate(()=>{const Ve=[];if(!ee&&te&&this.removeEmptyParents){const et=new Dictionary;for(let tt=0;tt<T.length;tt+=1)et.put(T[tt],!0);for(let tt=0;tt<T.length;tt+=1){const it=T[tt].getParent();it&&!et.get(it)&&(et.put(it,!0),Ve.push(it))}}T=this.graph.moveCells(T,k,Z,ee,te,ne);const Ye=[];for(let et=0;et<Ve.length;et+=1)this.shouldRemoveParent(Ve[et])&&Ye.push(Ve[et]);this.graph.removeCells(Ye,!1)}),ee&&this.graph.setSelectionCells(T),this.isSelectEnabled()&&this.scrollOnMove&&this.graph.scrollCellToVisible(T[0])}shouldRemoveParent(T){const k=this.graph.view.getState(T);return k!=null&&(k.cell.isEdge()||k.cell.isVertex())&&this.graph.isCellDeletable(k.cell)&&k.cell.getChildCount()===0&&k.isTransparentState()}destroyShapes(){this.shape&&(this.shape.destroy(),this.shape=null),this.guide&&(this.guide.destroy(),this.guide=null),this.highlight&&(this.highlight.destroy(),this.highlight=null)}onDestroy(){this.graph.removeMouseListener(this),this.graph.removeListener(this.panHandler),this.graph.removeListener(this.escapeHandler),this.graph.getDataModel().removeListener(this.refreshHandler),this.graph.removeListener(this.refreshHandler),InternalEvent.removeListener(document,"keydown",this.keyHandler),InternalEvent.removeListener(document,"keyup",this.keyHandler),this.destroyShapes(),this.removeHint()}};ha.pluginId="SelectionHandler";let SelectionHandler=ha;class PanningManager{constructor(T){this.damper=1/6,this.delay=10,this.handleMouseOut=!0,this.border=0,this.thread=null,this.active=!1,this.tdx=0,this.tdy=0,this.t0x=0,this.t0y=0,this.dx=0,this.dy=0,this.scrollbars=!1,this.scrollLeft=0,this.scrollTop=0,this.thread=null,this.active=!1,this.tdx=0,this.tdy=0,this.t0x=0,this.t0y=0,this.dx=0,this.dy=0,this.scrollbars=!1,this.scrollLeft=0,this.scrollTop=0,this.mouseListener={mouseDown:(Z,ee)=>{},mouseMove:(Z,ee)=>{},mouseUp:(Z,ee)=>{this.active&&this.stop()}},T.addMouseListener(this.mouseListener),this.mouseUpListener=()=>{this.active&&this.stop()},InternalEvent.addListener(document,"mouseup",this.mouseUpListener);const k=()=>(this.scrollbars=hasScrollbars(T.container),this.scrollLeft=T.container.scrollLeft,this.scrollTop=T.container.scrollTop,window.setInterval(()=>{if(this.tdx-=this.dx,this.tdy-=this.dy,this.scrollbars){const Z=-T.container.scrollLeft-Math.ceil(this.dx),ee=-T.container.scrollTop-Math.ceil(this.dy);T.panGraph(Z,ee),T.setPanDx(this.scrollLeft-T.container.scrollLeft),T.setPanDy(this.scrollTop-T.container.scrollTop),T.fireEvent(new EventObject(InternalEvent.PAN))}else T.panGraph(this.getDx(),this.getDy())},this.delay));this.isActive=()=>this.active,this.getDx=()=>Math.round(this.tdx),this.getDy=()=>Math.round(this.tdy),this.start=()=>{this.t0x=T.view.translate.x,this.t0y=T.view.translate.y,this.active=!0},this.panTo=(Z,ee,te=0,ne=0)=>{this.active||this.start(),this.scrollLeft=T.container.scrollLeft,this.scrollTop=T.container.scrollTop;const me=T.container;this.dx=Z+te-me.scrollLeft-me.clientWidth,this.dx<0&&Math.abs(this.dx)<this.border?this.dx=this.border+this.dx:this.handleMouseOut?this.dx=Math.max(this.dx,0):this.dx=0,this.dx==0&&(this.dx=Z-me.scrollLeft,this.dx>0&&this.dx<this.border?this.dx-=this.border:this.handleMouseOut?this.dx=Math.min(0,this.dx):this.dx=0),this.dy=ee+ne-me.scrollTop-me.clientHeight,this.dy<0&&Math.abs(this.dy)<this.border?this.dy=this.border+this.dy:this.handleMouseOut?this.dy=Math.max(this.dy,0):this.dy=0,this.dy==0&&(this.dy=ee-me.scrollTop,this.dy>0&&this.dy<this.border?this.dy-=this.border:this.handleMouseOut?this.dy=Math.min(0,this.dy):this.dy=0),this.dx!=0||this.dy!=0?(this.dx*=this.damper,this.dy*=this.damper,this.thread==null&&(this.thread=k())):this.thread!=null&&(window.clearInterval(this.thread),this.thread=null)},this.stop=()=>{if(this.active)if(this.active=!1,this.thread!=null&&(window.clearInterval(this.thread),this.thread=null),this.tdx=0,this.tdy=0,this.scrollbars)T.setPanDx(0),T.setPanDy(0),T.fireEvent(new EventObject(InternalEvent.PAN));else{const Z=T.getPanDx(),ee=T.getPanDy();(Z!=0||ee!=0)&&(T.panGraph(0,0),T.view.setTranslate(this.t0x+Z/T.view.scale,this.t0y+ee/T.view.scale))}},this.destroy=()=>{T.removeMouseListener(this.mouseListener),InternalEvent.removeListener(document,"mouseup",this.mouseUpListener)}}}const ga=class ga extends EventSource{constructor(T){super(),this.getPanningManager=()=>this.panningManager,this.useLeftButtonForPanning=!1,this.usePopupTrigger=!0,this.ignoreCell=!1,this.previewEnabled=!0,this.useGrid=!1,this.panningEnabled=!1,this.pinchEnabled=!0,this.initialScale=0,this.maxScale=8,this.minScale=.01,this.dx=0,this.dy=0,this.startX=0,this.startY=0,this.dx0=0,this.dy0=0,this.panningTrigger=!1,this.active=!1,this.mouseDownEvent=null,this.graph=T,this.graph.addMouseListener(this),this.forcePanningHandler=(k,Z)=>{const ee=Z.getProperty("eventName"),te=Z.getProperty("event");ee===InternalEvent.MOUSE_DOWN&&this.isForcePanningEvent(te)&&(this.start(te),this.active=!0,this.fireEvent(new EventObject(InternalEvent.PAN_START,{event:te})),te.consume())},this.graph.addListener(InternalEvent.FIRE_MOUSE_EVENT,this.forcePanningHandler),this.gestureHandler=(k,Z)=>{if(this.isPinchEnabled()){const ee=Z.getProperty("event");!isConsumed(ee)&&ee.type==="gesturestart"?(this.initialScale=this.graph.view.scale,!this.active&&this.mouseDownEvent&&(this.start(this.mouseDownEvent),this.mouseDownEvent=null)):ee.type==="gestureend"&&this.initialScale!==0&&(this.initialScale=0),this.initialScale!==0&&this.zoomGraph(ee)}},this.graph.addListener(InternalEvent.GESTURE,this.gestureHandler),this.mouseUpListener=()=>{this.active&&this.reset()},InternalEvent.addListener(document,"mouseup",this.mouseUpListener),this.panningManager=new PanningManager(T)}isActive(){return this.active||this.initialScale!==null}isPanningEnabled(){return this.panningEnabled}setPanningEnabled(T){this.panningEnabled=T}isPinchEnabled(){return this.pinchEnabled}setPinchEnabled(T){this.pinchEnabled=T}isPanningTrigger(T){const k=T.getEvent();return this.useLeftButtonForPanning&&!T.getState()&&isLeftMouseButton(k)||isControlDown(k)&&isShiftDown(k)||this.usePopupTrigger&&isPopupTrigger(k)}isForcePanningEvent(T){return this.ignoreCell||isMultiTouchEvent(T.getEvent())}mouseDown(T,k){this.mouseDownEvent=k,!k.isConsumed()&&this.isPanningEnabled()&&!this.active&&this.isPanningTrigger(k)&&(this.start(k),this.consumePanningTrigger(k))}start(T){this.dx0=-this.graph.container.scrollLeft,this.dy0=-this.graph.container.scrollTop,this.startX=T.getX(),this.startY=T.getY(),this.dx=0,this.dy=0,this.panningTrigger=!0}consumePanningTrigger(T){T.consume()}mouseMove(T,k){if(this.dx=k.getX()-this.startX,this.dy=k.getY()-this.startY,this.active)this.previewEnabled&&(this.useGrid&&(this.dx=this.graph.snap(this.dx),this.dy=this.graph.snap(this.dy)),this.graph.panGraph(this.dx+this.dx0,this.dy+this.dy0)),this.fireEvent(new EventObject(InternalEvent.PAN,{event:k}));else if(this.panningTrigger){const Z=this.active;this.active=Math.abs(this.dx)>this.graph.getSnapTolerance()||Math.abs(this.dy)>this.graph.getSnapTolerance(),!Z&&this.active&&this.fireEvent(new EventObject(InternalEvent.PAN_START,{event:k}))}(this.active||this.panningTrigger)&&k.consume()}mouseUp(T,k){if(this.active){if(this.dx!==0&&this.dy!==0){if(!this.graph.isUseScrollbarsForPanning()||!hasScrollbars(this.graph.container)){const{scale:Z}=this.graph.getView(),ee=this.graph.getView().translate;this.graph.panGraph(0,0),this.panGraph(ee.x+this.dx/Z,ee.y+this.dy/Z)}k.consume()}this.fireEvent(new EventObject(InternalEvent.PAN_END,{event:k}))}this.reset()}zoomGraph(T){let k=Math.round(this.initialScale*T.scale*100)/100;k=Math.max(this.minScale,k),k=Math.min(this.maxScale,k),this.graph.view.scale!==k&&(this.graph.zoomTo(k),InternalEvent.consume(T))}reset(){this.panningTrigger=!1,this.mouseDownEvent=null,this.active=!1,this.dx=0,this.dy=0}panGraph(T,k){this.graph.getView().setTranslate(T,k)}onDestroy(){this.graph.removeMouseListener(this),this.graph.removeListener(this.forcePanningHandler),this.graph.removeListener(this.gestureHandler),InternalEvent.removeListener(document,"mouseup",this.mouseUpListener)}};ga.pluginId="PanningHandler";let PanningHandler=ga;const getDefaultPlugins=()=>[CellEditorHandler,TooltipHandler,SelectionCellsHandler,PopupMenuHandler,ConnectionHandler,SelectionHandler,PanningHandler];class Graph extends EventSource{constructor(T,k,Z=getDefaultPlugins(),ee=null){super(),this.destroyed=!1,this.graphModelChangeListener=null,this.paintBackground=null,this.isConstrainedMoving=!1,this.cells=[],this.imageBundles=[],this.mouseListeners=[],this.multiplicities=[],this.plugins={},this.renderHint=null,this.dialect="svg",this.defaultOverlap=.5,this.defaultParent=null,this.backgroundImage=null,this.pageVisible=!1,this.pageBreaksVisible=!1,this.pageBreakColor="gray",this.pageBreakDashed=!0,this.minPageBreakDist=20,this.preferPageSize=!1,this.pageFormat=new Rectangle(...PAGE_FORMAT_A4_PORTRAIT),this.pageScale=1.5,this.enabled=!0,this.exportEnabled=!0,this.importEnabled=!0,this.ignoreScrollbars=!1,this.translateToScrollPosition=!1,this.maximumGraphBounds=null,this.minimumGraphSize=null,this.minimumContainerSize=null,this.maximumContainerSize=null,this.resizeContainer=!1,this.border=0,this.keepEdgesInForeground=!1,this.keepEdgesInBackground=!1,this.recursiveResize=!1,this.resetViewOnRootChange=!0,this.allowLoops=!1,this.defaultLoopStyle=EdgeStyle.Loop,this.multigraph=!0,this.minFitScale=.1,this.maxFitScale=8,this.warningImage=new ImageBox(`${Client.imageBasePath}/warning${Client.IS_MAC?".png":".gif"}`,16,16),this.alreadyConnectedResource=Client.language!="none"?"alreadyConnected":"",this.containsValidationErrorsResource=Client.language!="none"?"containsValidationErrors":"",this.getContainer=()=>this.container,this.getPlugin=te=>this.plugins[te],this.getCellRenderer=()=>this.cellRenderer,this.getDialect=()=>this.dialect,this.isPageVisible=()=>this.pageVisible,this.isPageBreaksVisible=()=>this.pageBreaksVisible,this.getPageBreakColor=()=>this.pageBreakColor,this.isPageBreakDashed=()=>this.pageBreakDashed,this.getMinPageBreakDist=()=>this.minPageBreakDist,this.isPreferPageSize=()=>this.preferPageSize,this.getPageFormat=()=>this.pageFormat,this.getPageScale=()=>this.pageScale,this.isExportEnabled=()=>this.exportEnabled,this.isImportEnabled=()=>this.importEnabled,this.isIgnoreScrollbars=()=>this.ignoreScrollbars,this.isTranslateToScrollPosition=()=>this.translateToScrollPosition,this.getMinimumGraphSize=()=>this.minimumGraphSize,this.setMinimumGraphSize=te=>this.minimumGraphSize=te,this.getMinimumContainerSize=()=>this.minimumContainerSize,this.setMinimumContainerSize=te=>this.minimumContainerSize=te,this.getAlreadyConnectedResource=()=>this.alreadyConnectedResource,this.getContainsValidationErrorsResource=()=>this.containsValidationErrorsResource,this.registerDefaults(),this.container=T??document.createElement("div"),this.model=k??this.createGraphDataModel(),this.cellRenderer=this.createCellRenderer(),this.setStylesheet(ee??this.createStylesheet()),this.view=this.createGraphView(),this.graphModelChangeListener=(te,ne)=>{this.graphModelChanged(ne.getProperty("edit").changes)},this.getDataModel().addListener(InternalEvent.CHANGE,this.graphModelChangeListener),this.view.init(),this.sizeDidChange(),this.setSelectionModel(this.createSelectionModel()),Z.forEach(te=>this.plugins[te.pluginId]=new te(this)),this.view.revalidate()}createCellRenderer(){return new CellRenderer}createEdgeHandlerInstance(T){return new EdgeHandler(T)}createEdgeSegmentHandler(T){return new EdgeSegmentHandler(T)}createElbowEdgeHandler(T){return new ElbowEdgeHandler(T)}createGraphDataModel(){return new GraphDataModel}createGraphView(){return new GraphView(this)}createSelectionModel(){return new GraphSelectionModel(this)}createStylesheet(){return new Stylesheet}createVertexHandler(T){return new VertexHandler(T)}registerDefaults(){registerDefaultShapes(),registerDefaultStyleElements(),registerDefaultEdgeMarkers()}getWarningImage(){return this.warningImage}batchUpdate(T){this.getDataModel().batchUpdate(T)}getDataModel(){return this.model}getView(){return this.view}getStylesheet(){return this.stylesheet}setStylesheet(T){this.stylesheet=T}graphModelChanged(T){for(const k of T)this.processChange(k);this.updateSelection(),this.view.validate(),this.sizeDidChange()}processChange(T){if(T instanceof RootChange)this.clearSelection(),this.setDefaultParent(null),T.previous&&this.removeStateForCell(T.previous),this.resetViewOnRootChange&&(this.view.scale=1,this.view.translate.x=0,this.view.translate.y=0),this.fireEvent(new EventObject(InternalEvent.ROOT));else if(T instanceof ChildChange){const k=T.child.getParent();this.view.invalidate(T.child,!0,!0),(!k||!this.getDataModel().contains(k)||k.isCollapsed())&&(this.view.invalidate(T.child,!0,!0),this.removeStateForCell(T.child),this.view.currentRoot==T.child&&this.home()),k!=T.previous&&(k!=null&&this.view.invalidate(k,!1,!1),T.previous!=null&&this.view.invalidate(T.previous,!1,!1))}else if(T instanceof TerminalChange||T instanceof GeometryChange)(T instanceof TerminalChange||T.previous==null&&T.geometry!=null||T.previous!=null&&!T.previous.equals(T.geometry))&&this.view.invalidate(T.cell);else if(T instanceof ValueChange)this.view.invalidate(T.cell,!1,!1);else if(T instanceof StyleChange){this.view.invalidate(T.cell,!0,!0);const k=this.view.getState(T.cell);k!=null&&(k.invalidStyle=!0)}else T.cell!=null&&T.cell instanceof Cell&&this.removeStateForCell(T.cell)}scrollPointToVisible(T,k,Z=!1,ee=20){const te=this.getPlugin("PanningHandler");if(!this.isTimerAutoScroll()&&(this.ignoreScrollbars||hasScrollbars(this.container))){const ne=this.container;if(T>=ne.scrollLeft&&k>=ne.scrollTop&&T<=ne.scrollLeft+ne.clientWidth&&k<=ne.scrollTop+ne.clientHeight){let me=ne.scrollLeft+ne.clientWidth-T;if(me<ee){const Ye=ne.scrollLeft;if(ne.scrollLeft+=ee-me,Z&&Ye===ne.scrollLeft){const et=this.view.getDrawPane().ownerSVGElement,tt=ne.scrollWidth+ee-me;et.style.width=`${tt}px`,ne.scrollLeft+=ee-me}}else me=T-ne.scrollLeft,me<ee&&(ne.scrollLeft-=ee-me);let Ve=ne.scrollTop+ne.clientHeight-k;if(Ve<ee){const Ye=ne.scrollTop;if(ne.scrollTop+=ee-Ve,Ye==ne.scrollTop&&Z){const et=this.view.getDrawPane().ownerSVGElement,tt=ne.scrollHeight+ee-Ve;et.style.height=`${tt}px`,ne.scrollTop+=ee-Ve}}else Ve=k-ne.scrollTop,Ve<ee&&(ne.scrollTop-=ee-Ve)}}else this.isAllowAutoPanning()&&te&&!te.isActive()&&te.getPanningManager().panTo(T+this.getPanDx(),k+this.getPanDy())}getBorderSizes(){const T=getCurrentStyle(this.container);return new Rectangle(parseCssNumber(T.paddingLeft)+(T.borderLeftStyle!="none"?parseCssNumber(T.borderLeftWidth):0),parseCssNumber(T.paddingTop)+(T.borderTopStyle!="none"?parseCssNumber(T.borderTopWidth):0),parseCssNumber(T.paddingRight)+(T.borderRightStyle!="none"?parseCssNumber(T.borderRightWidth):0),parseCssNumber(T.paddingBottom)+(T.borderBottomStyle!="none"?parseCssNumber(T.borderBottomWidth):0))}getPreferredPageSize(T,k,Z){const ee=this.view.translate,te=this.pageFormat,ne=this.pageScale,me=new Rectangle(0,0,Math.ceil(te.width*ne),Math.ceil(te.height*ne)),Ve=this.pageBreaksVisible?Math.ceil(k/me.width):1,Ye=this.pageBreaksVisible?Math.ceil(Z/me.height):1;return new Rectangle(0,0,Ve*me.width+2+ee.x,Ye*me.height+2+ee.y)}fit(T=this.getBorder(),k=!1,Z=0,ee=!0,te=!1,ne=!1,me=null){if(this.container!=null){const Ve=this.getBorderSizes();let Ye=this.container.offsetWidth-Ve.x-Ve.width-1,et=me??this.container.offsetHeight-Ve.y-Ve.height-1,tt=this.view.getGraphBounds();if(tt.width>0&&tt.height>0){k&&tt.x!=null&&tt.y!=null&&(tt=tt.clone(),tt.width+=tt.x,tt.height+=tt.y,tt.x=0,tt.y=0);const it=this.view.scale;let st=tt.width/it,nt=tt.height/it;this.backgroundImage!=null&&(st=Math.max(st,this.backgroundImage.width-tt.x/it),nt=Math.max(nt,this.backgroundImage.height-tt.y/it));const rt=(k?T:2*T)+Z+1;Ye-=rt,et-=rt;let lt=te?et/nt:ne?Ye/st:Math.min(Ye/st,et/nt);if(this.minFitScale!=null&&(lt=Math.max(lt,this.minFitScale)),this.maxFitScale!=null&&(lt=Math.min(lt,this.maxFitScale)),ee)if(k)this.view.scale!=lt&&this.view.setScale(lt);else if(hasScrollbars(this.container)){this.view.setScale(lt);const ot=this.getGraphBounds();ot.x!=null&&(this.container.scrollLeft=ot.x),ot.y!=null&&(this.container.scrollTop=ot.y)}else{const ot=tt.x!=null?Math.floor(this.view.translate.x-tt.x/it+T/lt+Z/2):T,ht=tt.y!=null?Math.floor(this.view.translate.y-tt.y/it+T/lt+Z/2):T;this.view.scaleAndTranslate(lt,ot,ht)}else return lt}}return this.view.scale}doResizeContainer(T,k){this.maximumContainerSize!=null&&(T=Math.min(this.maximumContainerSize.width,T),k=Math.min(this.maximumContainerSize.height,k));const Z=this.container;Z.style.width=`${Math.ceil(T)}px`,Z.style.height=`${Math.ceil(k)}px`}createHandler(T){let k=null;if(T.cell.isEdge()){const Z=T.getVisibleTerminalState(!0),ee=T.getVisibleTerminalState(!1),te=T.cell.getGeometry(),ne=this.getView().getEdgeStyle(T,te&&te.points||void 0,Z,ee);k=this.createEdgeHandler(T,ne)}else k=this.createVertexHandler(T);return k}createEdgeHandler(T,k){let Z=null;return k==EdgeStyle.Loop||k==EdgeStyle.ElbowConnector||k==EdgeStyle.SideToSide||k==EdgeStyle.TopToBottom?Z=this.createElbowEdgeHandler(T):k==EdgeStyle.SegmentConnector||k==EdgeStyle.OrthConnector?Z=this.createEdgeSegmentHandler(T):Z=this.createEdgeHandlerInstance(T),Z}getCurrentRoot(){return this.view.currentRoot}getTranslateForRoot(T){return null}getChildOffsetForCell(T){return null}home(){const T=this.getCurrentRoot();T!=null&&(this.view.setCurrentRoot(null),this.view.getState(T)!=null&&this.setSelectionCell(T))}isValidRoot(T){return!!T}getGraphBounds(){return this.view.getGraphBounds()}getMaximumGraphBounds(){return this.maximumGraphBounds}refresh(T=null){T?this.view.clear(T,!1):this.view.clear(void 0,!0),this.view.validate(),this.sizeDidChange(),this.fireEvent(new EventObject(InternalEvent.REFRESH))}center(T=!0,k=!0,Z=.5,ee=.5){const te=this.container,ne=hasScrollbars(this.container),me=2*this.getBorder(),Ve=te.clientWidth-me,Ye=te.clientHeight-me,et=this.getGraphBounds(),tt=this.view.translate,it=this.view.scale;let st=T?Ve-et.width:0,nt=k?Ye-et.height:0;if(!ne)this.view.setTranslate(T?Math.floor(tt.x-et.x/it+st*Z/it):tt.x,k?Math.floor(tt.y-et.y/it+nt*ee/it):tt.y);else{et.x-=tt.x,et.y-=tt.y;const rt=te.scrollWidth,lt=te.scrollHeight;rt>Ve&&(st=0),lt>Ye&&(nt=0),this.view.setTranslate(Math.floor(st/2-et.x),Math.floor(nt/2-et.y)),te.scrollLeft=(rt-Ve)/2,te.scrollTop=(lt-Ye)/2}}isOrthogonal(T){const k=T.style.orthogonal;if(k!=null)return k;const Z=this.view.getEdgeStyle(T);return Z===EdgeStyle.SegmentConnector||Z===EdgeStyle.ElbowConnector||Z===EdgeStyle.SideToSide||Z===EdgeStyle.TopToBottom||Z===EdgeStyle.EntityRelation||Z===EdgeStyle.OrthConnector}getBackgroundImage(){return this.backgroundImage}setBackgroundImage(T){this.backgroundImage=T}convertValueToString(T){const k=T.getValue();if(k!=null){if(isNode(k))return k.nodeName;if(typeof k.toString=="function")return k.toString()}return""}getLinkForCell(T){return null}getBorder(){return this.border}setBorder(T){this.border=T}isResizeContainer(){return this.resizeContainer}setResizeContainer(T){this.resizeContainer=T}isEnabled(){return this.enabled}setEnabled(T){this.enabled=T}isMultigraph(){return this.multigraph}setMultigraph(T){this.multigraph=T}isAllowLoops(){return this.allowLoops}setAllowLoops(T){this.allowLoops=T}isRecursiveResize(T=null){return this.recursiveResize}setRecursiveResize(T){this.recursiveResize=T}getOverlap(T){return this.isAllowOverlapParent(T)?this.defaultOverlap:0}isAllowOverlapParent(T){return!1}getDefaultParent(){let T=this.getCurrentRoot();return T||(T=this.defaultParent,T||(T=this.getDataModel().getRoot().getChildAt(0))),T}setDefaultParent(T){this.defaultParent=T}destroy(){this.destroyed||(this.destroyed=!0,Object.values(this.plugins).forEach(T=>T.onDestroy()),this.view.destroy(),this.model&&this.graphModelChangeListener&&(this.getDataModel().removeListener(this.graphModelChangeListener),this.graphModelChangeListener=null))}}applyGraphMixins();class UndoManager extends EventSource{constructor(T=100){super(),this.size=100,this.history=[],this.indexOfNextAdd=0,this.size=T,this.clear()}isEmpty(){return this.history.length==0}clear(){this.history=[],this.indexOfNextAdd=0,this.fireEvent(new EventObject(InternalEvent.CLEAR))}canUndo(){return this.indexOfNextAdd>0}undo(){for(;this.indexOfNextAdd>0;){const T=this.history[--this.indexOfNextAdd];if(T.undo(),T.isSignificant()){this.fireEvent(new EventObject(InternalEvent.UNDO,{edit:T}));break}}}canRedo(){return this.indexOfNextAdd<this.history.length}redo(){const T=this.history.length;for(;this.indexOfNextAdd<T;){const k=this.history[this.indexOfNextAdd++];if(k.redo(),k.isSignificant()){this.fireEvent(new EventObject(InternalEvent.REDO,{edit:k}));break}}}undoableEditHappened(T){this.trim(),this.size>0&&this.size==this.history.length&&this.history.shift(),this.history.push(T),this.indexOfNextAdd=this.history.length,this.fireEvent(new EventObject(InternalEvent.ADD,{edit:T}))}trim(){if(this.history.length>this.indexOfNextAdd){const T=this.history.splice(this.indexOfNextAdd,this.history.length-this.indexOfNextAdd);for(let k=0;k<T.length;k+=1)T[k].die()}}}const gs=class gs{static setCells(T){gs.cells=T}static getCells(){return gs.cells}static isEmpty(){return!gs.getCells()}static cut(T,k=[]){return k=gs.copy(T,k),gs.insertCount=0,gs.removeCells(T,k),k}static removeCells(T,k){T.removeCells(k)}static copy(T,k){k=k||T.getSelectionCells();const Z=getTopmostCells(T.getExportableCells(k));return gs.insertCount=1,gs.setCells(T.cloneCells(Z)),Z}static paste(T){let k=null;if(!gs.isEmpty()&&gs.getCells()){k=T.getImportableCells(gs.getCells());const Z=gs.insertCount*gs.STEPSIZE,ee=T.getDefaultParent();k=T.importCells(k,Z,Z,ee),gs.insertCount++,T.setSelectionCells(k)}return k}};gs.STEPSIZE=10,gs.insertCount=1;let Clipboard=gs;const pa=class pa{constructor(T){this.first=null,this.destroyed=!1,this.dragHandler=null,this.dropHandler=null,this.x=0,this.y=0,this.width=0,this.height=0,this.defaultOpacity=20,this.enabled=!0,this.div=null,this.sharedDiv=null,this.currentX=0,this.currentY=0,this.fadeOut=!1,this.graph=T,this.graph.addMouseListener(this),this.forceRubberbandHandler=(k,Z)=>{const ee=Z.getProperty("eventName"),te=Z.getProperty("event");if(ee===InternalEvent.MOUSE_DOWN&&this.isForceRubberbandEvent(te)){const ne=getOffset(this.graph.container),me=getScrollOrigin(this.graph.container);me.x-=ne.x,me.y-=ne.y,this.start(te.getX()+me.x,te.getY()+me.y),te.consume(!1)}},this.graph.addListener(InternalEvent.FIRE_MOUSE_EVENT,this.forceRubberbandHandler),this.panHandler=()=>{this.repaint()},this.graph.addListener(InternalEvent.PAN,this.panHandler),this.gestureHandler=(k,Z)=>{this.first&&this.reset()},this.graph.addListener(InternalEvent.GESTURE,this.gestureHandler)}isEnabled(){return this.enabled}setEnabled(T){this.enabled=T}isForceRubberbandEvent(T){return isAltDown(T.getEvent())}mouseDown(T,k){if(!k.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&!k.getState()&&!isMultiTouchEvent(k.getEvent())){const Z=getOffset(this.graph.container),ee=getScrollOrigin(this.graph.container);ee.x-=Z.x,ee.y-=Z.y,this.start(k.getX()+ee.x,k.getY()+ee.y),k.consume(!1)}}start(T,k){this.first=new Point$1(T,k);const{container:Z}=this.graph;function ee(te){const ne=new InternalMouseEvent(te),me=convertPoint(Z,ne.getX(),ne.getY());return ne.graphX=me.x,ne.graphY=me.y,ne}this.dragHandler=te=>{this.mouseMove(this.graph,ee(te))},this.dropHandler=te=>{this.mouseUp(this.graph,ee(te))},Client.IS_FF&&InternalEvent.addGestureListeners(document,null,this.dragHandler,this.dropHandler)}mouseMove(T,k){if(!k.isConsumed()&&this.first){const Z=getScrollOrigin(this.graph.container),ee=getOffset(this.graph.container);Z.x-=ee.x,Z.y-=ee.y;const te=k.getX()+Z.x,ne=k.getY()+Z.y,me=this.first.x-te,Ve=this.first.y-ne,Ye=this.graph.getEventTolerance();(this.div||Math.abs(me)>Ye||Math.abs(Ve)>Ye)&&(this.div||(this.div=this.createShape()),clearSelection(),this.update(te,ne),k.consume())}}createShape(){this.sharedDiv||(this.sharedDiv=document.createElement("div"),this.sharedDiv.className="mxRubberband",setOpacity(this.sharedDiv,this.defaultOpacity)),this.graph.container.appendChild(this.sharedDiv);const T=this.sharedDiv;return Client.IS_SVG&&this.fadeOut&&(this.sharedDiv=null),T}isActive(T,k){return this.div&&this.div.style.display!=="none"}mouseUp(T,k){const Z=this.isActive();this.reset(),Z&&(this.execute(k.getEvent()),k.consume())}execute(T){const k=new Rectangle(this.x,this.y,this.width,this.height);this.graph.selectRegion(k,T)}reset(){if(this.div)if(Client.IS_SVG&&this.fadeOut){const T=this.div;setPrefixedStyle(T.style,"transition","all 0.2s linear"),T.style.pointerEvents="none",T.style.opacity=String(0),window.setTimeout(()=>{T.parentNode&&T.parentNode.removeChild(T)},200)}else this.div.parentNode&&this.div.parentNode.removeChild(this.div);InternalEvent.removeGestureListeners(document,null,this.dragHandler,this.dropHandler),this.dragHandler=null,this.dropHandler=null,this.currentX=0,this.currentY=0,this.first=null,this.div=null}update(T,k){this.currentX=T,this.currentY=k,this.repaint()}repaint(){if(this.div&&this.first){const T=this.currentX-this.graph.getPanDx(),k=this.currentY-this.graph.getPanDy();this.x=Math.min(this.first.x,T),this.y=Math.min(this.first.y,k),this.width=Math.max(this.first.x,T)-this.x,this.height=Math.max(this.first.y,k)-this.y;const Z=0,ee=0;this.div.style.left=`${this.x+Z}px`,this.div.style.top=`${this.y+ee}px`,this.div.style.width=`${Math.max(1,this.width)}px`,this.div.style.height=`${Math.max(1,this.height)}px`}}onDestroy(){this.destroyed||(this.destroyed=!0,this.graph.removeMouseListener(this),this.graph.removeListener(this.forceRubberbandHandler),this.graph.removeListener(this.panHandler),this.reset(),this.sharedDiv&&(this.sharedDiv=null))}};pa.pluginId="RubberBandHandler";let RubberBandHandler=pa;class BezierShape extends Shape$1{constructor(T=null){super(T),this.cellState=null,this.stroke="#ff0000",this.strokeWidth=2}paintEdgeShape(T,k){const Z=T.pointerEventsValue;T.pointerEventsValue="stroke",this.drawBezier(T,k),T.pointerEventsValue=Z}drawBezier(T,k){if(!this.cellState)return;const Z=k[0],ee=k[k.length-1],te=ee.x-Z.x,ne=new Point$1(te*.8+Z.x,Z.y),me=new Point$1(te*.2+Z.x,ee.y);T.begin(),T.setStrokeColor(this.stroke),T.setStrokeWidth(this.strokeWidth),T.moveTo(Z.x,Z.y),T.curveTo(ne.x,ne.y,me.x,me.y,ee.x,ee.y),T.stroke()}apply(T){super.apply(T),this.cellState=T}}const screenStore=proxy({curScreen:null,curGraph:null,screens:{},graphs:{}});var lv_align_t=(Y=>(Y[Y.LV_ALIGN_DEFAULT=0]="LV_ALIGN_DEFAULT",Y[Y.LV_ALIGN_TOP_LEFT=1]="LV_ALIGN_TOP_LEFT",Y[Y.LV_ALIGN_TOP_MID=2]="LV_ALIGN_TOP_MID",Y[Y.LV_ALIGN_TOP_RIGHT=3]="LV_ALIGN_TOP_RIGHT",Y[Y.LV_ALIGN_BOTTOM_LEFT=4]="LV_ALIGN_BOTTOM_LEFT",Y[Y.LV_ALIGN_BOTTOM_MID=5]="LV_ALIGN_BOTTOM_MID",Y[Y.LV_ALIGN_BOTTOM_RIGHT=6]="LV_ALIGN_BOTTOM_RIGHT",Y[Y.LV_ALIGN_LEFT_MID=7]="LV_ALIGN_LEFT_MID",Y[Y.LV_ALIGN_RIGHT_MID=8]="LV_ALIGN_RIGHT_MID",Y[Y.LV_ALIGN_CENTER=9]="LV_ALIGN_CENTER",Y[Y.LV_ALIGN_OUT_TOP_LEFT=10]="LV_ALIGN_OUT_TOP_LEFT",Y[Y.LV_ALIGN_OUT_TOP_MID=11]="LV_ALIGN_OUT_TOP_MID",Y[Y.LV_ALIGN_OUT_TOP_RIGHT=12]="LV_ALIGN_OUT_TOP_RIGHT",Y[Y.LV_ALIGN_OUT_BOTTOM_LEFT=13]="LV_ALIGN_OUT_BOTTOM_LEFT",Y[Y.LV_ALIGN_OUT_BOTTOM_MID=14]="LV_ALIGN_OUT_BOTTOM_MID",Y[Y.LV_ALIGN_OUT_BOTTOM_RIGHT=15]="LV_ALIGN_OUT_BOTTOM_RIGHT",Y[Y.LV_ALIGN_OUT_LEFT_TOP=16]="LV_ALIGN_OUT_LEFT_TOP",Y[Y.LV_ALIGN_OUT_LEFT_MID=17]="LV_ALIGN_OUT_LEFT_MID",Y[Y.LV_ALIGN_OUT_LEFT_BOTTOM=18]="LV_ALIGN_OUT_LEFT_BOTTOM",Y[Y.LV_ALIGN_OUT_RIGHT_TOP=19]="LV_ALIGN_OUT_RIGHT_TOP",Y[Y.LV_ALIGN_OUT_RIGHT_MID=20]="LV_ALIGN_OUT_RIGHT_MID",Y[Y.LV_ALIGN_OUT_RIGHT_BOTTOM=21]="LV_ALIGN_OUT_RIGHT_BOTTOM",Y))(lv_align_t||{}),lv_part_t=(Y=>(Y[Y.LV_PART_MAIN=0]="LV_PART_MAIN",Y[Y.LV_PART_SCROLLBAR=65536]="LV_PART_SCROLLBAR",Y[Y.LV_PART_INDICATOR=131072]="LV_PART_INDICATOR",Y[Y.LV_PART_KNOB=196608]="LV_PART_KNOB",Y[Y.LV_PART_SELECTED=262144]="LV_PART_SELECTED",Y[Y.LV_PART_ITEMS=327680]="LV_PART_ITEMS",Y[Y.LV_PART_TICKS=393216]="LV_PART_TICKS",Y[Y.LV_PART_CURSOR=458752]="LV_PART_CURSOR",Y[Y.LV_PART_CUSTOM_FIRST=524288]="LV_PART_CUSTOM_FIRST",Y[Y.LV_PART_ANY=983040]="LV_PART_ANY",Y))(lv_part_t||{}),lv_obj_flag_t=(Y=>(Y[Y.LV_OBJ_FLAG_HIDDEN=1]="LV_OBJ_FLAG_HIDDEN",Y[Y.LV_OBJ_FLAG_CLICKABLE=2]="LV_OBJ_FLAG_CLICKABLE",Y[Y.LV_OBJ_FLAG_CLICK_FOCUSABLE=4]="LV_OBJ_FLAG_CLICK_FOCUSABLE",Y[Y.LV_OBJ_FLAG_CHECKABLE=8]="LV_OBJ_FLAG_CHECKABLE",Y[Y.LV_OBJ_FLAG_SCROLLABLE=16]="LV_OBJ_FLAG_SCROLLABLE",Y[Y.LV_OBJ_FLAG_SCROLL_ELASTIC=32]="LV_OBJ_FLAG_SCROLL_ELASTIC",Y[Y.LV_OBJ_FLAG_SCROLL_MOMENTUM=64]="LV_OBJ_FLAG_SCROLL_MOMENTUM",Y[Y.LV_OBJ_FLAG_SCROLL_ONE=128]="LV_OBJ_FLAG_SCROLL_ONE",Y[Y.LV_OBJ_FLAG_SCROLL_CHAIN_HOR=256]="LV_OBJ_FLAG_SCROLL_CHAIN_HOR",Y[Y.LV_OBJ_FLAG_SCROLL_CHAIN_VER=512]="LV_OBJ_FLAG_SCROLL_CHAIN_VER",Y[Y.LV_OBJ_FLAG_SCROLL_CHAIN=768]="LV_OBJ_FLAG_SCROLL_CHAIN",Y[Y.LV_OBJ_FLAG_SCROLL_ON_FOCUS=1024]="LV_OBJ_FLAG_SCROLL_ON_FOCUS",Y[Y.LV_OBJ_FLAG_SCROLL_WITH_ARROW=2048]="LV_OBJ_FLAG_SCROLL_WITH_ARROW",Y[Y.LV_OBJ_FLAG_SNAPPABLE=4096]="LV_OBJ_FLAG_SNAPPABLE",Y[Y.LV_OBJ_FLAG_PRESS_LOCK=8192]="LV_OBJ_FLAG_PRESS_LOCK",Y[Y.LV_OBJ_FLAG_EVENT_BUBBLE=16384]="LV_OBJ_FLAG_EVENT_BUBBLE",Y[Y.LV_OBJ_FLAG_GESTURE_BUBBLE=32768]="LV_OBJ_FLAG_GESTURE_BUBBLE",Y[Y.LV_OBJ_FLAG_ADV_HITTEST=65536]="LV_OBJ_FLAG_ADV_HITTEST",Y[Y.LV_OBJ_FLAG_IGNORE_LAYOUT=131072]="LV_OBJ_FLAG_IGNORE_LAYOUT",Y[Y.LV_OBJ_FLAG_FLOATING=262144]="LV_OBJ_FLAG_FLOATING",Y[Y.LV_OBJ_FLAG_SEND_DRAW_TASK_EVENTS=524288]="LV_OBJ_FLAG_SEND_DRAW_TASK_EVENTS",Y[Y.LV_OBJ_FLAG_OVERFLOW_VISIBLE=1048576]="LV_OBJ_FLAG_OVERFLOW_VISIBLE",Y[Y.LV_OBJ_FLAG_LAYOUT_1=8388608]="LV_OBJ_FLAG_LAYOUT_1",Y[Y.LV_OBJ_FLAG_LAYOUT_2=16777216]="LV_OBJ_FLAG_LAYOUT_2",Y[Y.LV_OBJ_FLAG_WIDGET_1=33554432]="LV_OBJ_FLAG_WIDGET_1",Y[Y.LV_OBJ_FLAG_WIDGET_2=67108864]="LV_OBJ_FLAG_WIDGET_2",Y[Y.LV_OBJ_FLAG_USER_1=134217728]="LV_OBJ_FLAG_USER_1",Y[Y.LV_OBJ_FLAG_USER_2=268435456]="LV_OBJ_FLAG_USER_2",Y[Y.LV_OBJ_FLAG_USER_3=536870912]="LV_OBJ_FLAG_USER_3",Y[Y.LV_OBJ_FLAG_USER_4=1073741824]="LV_OBJ_FLAG_USER_4",Y))(lv_obj_flag_t||{}),lv_scrollbar_mode_t=(Y=>(Y[Y.LV_SCROLLBAR_MODE_OFF=0]="LV_SCROLLBAR_MODE_OFF",Y[Y.LV_SCROLLBAR_MODE_ON=1]="LV_SCROLLBAR_MODE_ON",Y[Y.LV_SCROLLBAR_MODE_ACTIVE=2]="LV_SCROLLBAR_MODE_ACTIVE",Y[Y.LV_SCROLLBAR_MODE_AUTO=3]="LV_SCROLLBAR_MODE_AUTO",Y))(lv_scrollbar_mode_t||{}),lv_scroll_snap_t=(Y=>(Y[Y.LV_SCROLL_SNAP_NONE=0]="LV_SCROLL_SNAP_NONE",Y[Y.LV_SCROLL_SNAP_START=1]="LV_SCROLL_SNAP_START",Y[Y.LV_SCROLL_SNAP_END=2]="LV_SCROLL_SNAP_END",Y[Y.LV_SCROLL_SNAP_CENTER=3]="LV_SCROLL_SNAP_CENTER",Y))(lv_scroll_snap_t||{}),lv_border_side_t=(Y=>(Y[Y.LV_BORDER_SIDE_NONE=0]="LV_BORDER_SIDE_NONE",Y[Y.LV_BORDER_SIDE_BOTTOM=1]="LV_BORDER_SIDE_BOTTOM",Y[Y.LV_BORDER_SIDE_TOP=2]="LV_BORDER_SIDE_TOP",Y[Y.LV_BORDER_SIDE_LEFT=4]="LV_BORDER_SIDE_LEFT",Y[Y.LV_BORDER_SIDE_RIGHT=8]="LV_BORDER_SIDE_RIGHT",Y[Y.LV_BORDER_SIDE_FULL=15]="LV_BORDER_SIDE_FULL",Y[Y.LV_BORDER_SIDE_INTERNAL=16]="LV_BORDER_SIDE_INTERNAL",Y))(lv_border_side_t||{}),lv_text_align_t=(Y=>(Y[Y.LV_TEXT_ALIGN_AUTO=0]="LV_TEXT_ALIGN_AUTO",Y[Y.LV_TEXT_ALIGN_LEFT=1]="LV_TEXT_ALIGN_LEFT",Y[Y.LV_TEXT_ALIGN_CENTER=2]="LV_TEXT_ALIGN_CENTER",Y[Y.LV_TEXT_ALIGN_RIGHT=3]="LV_TEXT_ALIGN_RIGHT",Y))(lv_text_align_t||{}),lv_state_t=(Y=>(Y[Y.LV_STATE_CHECKED=1]="LV_STATE_CHECKED",Y[Y.LV_STATE_FOCUSED=2]="LV_STATE_FOCUSED",Y[Y.LV_STATE_FOCUS_KEY=4]="LV_STATE_FOCUS_KEY",Y[Y.LV_STATE_EDITED=8]="LV_STATE_EDITED",Y[Y.LV_STATE_HOVERED=16]="LV_STATE_HOVERED",Y[Y.LV_STATE_PRESSED=32]="LV_STATE_PRESSED",Y[Y.LV_STATE_SCROLLED=64]="LV_STATE_SCROLLED",Y[Y.LV_STATE_DISABLED=128]="LV_STATE_DISABLED",Y[Y.LV_STATE_USER_1=4096]="LV_STATE_USER_1",Y[Y.LV_STATE_USER_2=8192]="LV_STATE_USER_2",Y[Y.LV_STATE_USER_3=16384]="LV_STATE_USER_3",Y[Y.LV_STATE_USER_4=32768]="LV_STATE_USER_4",Y[Y.LV_STATE_ANY=65535]="LV_STATE_ANY",Y))(lv_state_t||{}),lv_grad_dir_t=(Y=>(Y[Y.LV_GRAD_DIR_NONE=0]="LV_GRAD_DIR_NONE",Y[Y.LV_GRAD_DIR_VER=1]="LV_GRAD_DIR_VER",Y[Y.LV_GRAD_DIR_HOR=2]="LV_GRAD_DIR_HOR",Y))(lv_grad_dir_t||{}),lv_anim_enable_t=(Y=>(Y[Y.LV_ANIM_OFF=0]="LV_ANIM_OFF",Y[Y.LV_ANIM_ON=1]="LV_ANIM_ON",Y))(lv_anim_enable_t||{}),lv_roller_mode_t=(Y=>(Y[Y.LV_ROLLER_MODE_NORMAL=0]="LV_ROLLER_MODE_NORMAL",Y[Y.LV_ROLLER_MODE_INFINITE=1]="LV_ROLLER_MODE_INFINITE",Y))(lv_roller_mode_t||{}),lv_chart_type_t=(Y=>(Y[Y.LV_CHART_TYPE_NONE=0]="LV_CHART_TYPE_NONE",Y[Y.LV_CHART_TYPE_LINE=1]="LV_CHART_TYPE_LINE",Y[Y.LV_CHART_TYPE_BAR=2]="LV_CHART_TYPE_BAR",Y[Y.LV_CHART_TYPE_SCATTER=3]="LV_CHART_TYPE_SCATTER",Y))(lv_chart_type_t||{}),lv_chart_update_mode_t=(Y=>(Y[Y.LV_CHART_UPDATE_MODE_SHIFT=0]="LV_CHART_UPDATE_MODE_SHIFT",Y[Y.LV_CHART_UPDATE_MODE_CIRCULAR=1]="LV_CHART_UPDATE_MODE_CIRCULAR",Y))(lv_chart_update_mode_t||{}),lv_chart_axis_t=(Y=>(Y[Y.LV_CHART_AXIS_PRIMARY_Y=0]="LV_CHART_AXIS_PRIMARY_Y",Y[Y.LV_CHART_AXIS_SECONDARY_Y=1]="LV_CHART_AXIS_SECONDARY_Y",Y[Y.LV_CHART_AXIS_PRIMARY_X=2]="LV_CHART_AXIS_PRIMARY_X",Y[Y.LV_CHART_AXIS_SECONDARY_X=4]="LV_CHART_AXIS_SECONDARY_X",Y[Y._LV_CHART_AXIS_LAST=5]="_LV_CHART_AXIS_LAST",Y))(lv_chart_axis_t||{}),lv_bar_mode_t=(Y=>(Y[Y.LV_BAR_MODE_NORMAL=0]="LV_BAR_MODE_NORMAL",Y[Y.LV_BAR_MODE_SYMMETRICAL=1]="LV_BAR_MODE_SYMMETRICAL",Y[Y.LV_BAR_MODE_RANGE=2]="LV_BAR_MODE_RANGE",Y))(lv_bar_mode_t||{}),lv_slider_mode_t=(Y=>(Y[Y.LV_SLIDER_MODE_NORMAL=0]="LV_SLIDER_MODE_NORMAL",Y[Y.LV_SLIDER_MODE_SYMMETRICAL=1]="LV_SLIDER_MODE_SYMMETRICAL",Y[Y.LV_SLIDER_MODE_RANGE=2]="LV_SLIDER_MODE_RANGE",Y))(lv_slider_mode_t||{}),lv_arc_mode_t=(Y=>(Y[Y.LV_ARC_MODE_NORMAL=0]="LV_ARC_MODE_NORMAL",Y[Y.LV_ARC_MODE_SYMMETRICAL=1]="LV_ARC_MODE_SYMMETRICAL",Y[Y.LV_ARC_MODE_REVERSE=2]="LV_ARC_MODE_REVERSE",Y))(lv_arc_mode_t||{}),lv_label_long_mode_t=(Y=>(Y[Y.LV_LABEL_LONG_WRAP=0]="LV_LABEL_LONG_WRAP",Y[Y.LV_LABEL_LONG_SCROLL=1]="LV_LABEL_LONG_SCROLL",Y[Y.LV_LABEL_LONG_SCROLL_CIRCULAR=2]="LV_LABEL_LONG_SCROLL_CIRCULAR",Y[Y.LV_LABEL_LONG_CLIP=3]="LV_LABEL_LONG_CLIP",Y))(lv_label_long_mode_t||{}),lv_dir_t=(Y=>(Y[Y.LV_DIR_NONE=0]="LV_DIR_NONE",Y[Y.LV_DIR_LEFT=1]="LV_DIR_LEFT",Y[Y.LV_DIR_RIGHT=2]="LV_DIR_RIGHT",Y[Y.LV_DIR_TOP=4]="LV_DIR_TOP",Y[Y.LV_DIR_BOTTOM=8]="LV_DIR_BOTTOM",Y[Y.LV_DIR_HOR=3]="LV_DIR_HOR",Y[Y.LV_DIR_VER=12]="LV_DIR_VER",Y[Y.LV_DIR_ALL=15]="LV_DIR_ALL",Y))(lv_dir_t||{}),lv_text_decor_t=(Y=>(Y[Y.LV_TEXT_DECOR_NONE=0]="LV_TEXT_DECOR_NONE",Y[Y.LV_TEXT_DECOR_UNDERLINE=1]="LV_TEXT_DECOR_UNDERLINE",Y[Y.LV_TEXT_DECOR_STRIKETHROUGH=2]="LV_TEXT_DECOR_STRIKETHROUGH",Y))(lv_text_decor_t||{}),lv_event_code_t=(Y=>(Y[Y.LV_EVENT_ALL=0]="LV_EVENT_ALL",Y[Y.LV_EVENT_PRESSED=1]="LV_EVENT_PRESSED",Y[Y.LV_EVENT_PRESSING=2]="LV_EVENT_PRESSING",Y[Y.LV_EVENT_PRESS_LOST=3]="LV_EVENT_PRESS_LOST",Y[Y.LV_EVENT_SHORT_CLICKED=4]="LV_EVENT_SHORT_CLICKED",Y[Y.LV_EVENT_LONG_PRESSED=5]="LV_EVENT_LONG_PRESSED",Y[Y.LV_EVENT_LONG_PRESSED_REPEAT=6]="LV_EVENT_LONG_PRESSED_REPEAT",Y[Y.LV_EVENT_CLICKED=7]="LV_EVENT_CLICKED",Y[Y.LV_EVENT_RELEASED=8]="LV_EVENT_RELEASED",Y[Y.LV_EVENT_SCROLL_BEGIN=9]="LV_EVENT_SCROLL_BEGIN",Y[Y.LV_EVENT_SCROLL_THROW_BEGIN=10]="LV_EVENT_SCROLL_THROW_BEGIN",Y[Y.LV_EVENT_SCROLL_END=11]="LV_EVENT_SCROLL_END",Y[Y.LV_EVENT_SCROLL=12]="LV_EVENT_SCROLL",Y[Y.LV_EVENT_GESTURE=13]="LV_EVENT_GESTURE",Y[Y.LV_EVENT_KEY=14]="LV_EVENT_KEY",Y[Y.LV_EVENT_FOCUSED=15]="LV_EVENT_FOCUSED",Y[Y.LV_EVENT_DEFOCUSED=16]="LV_EVENT_DEFOCUSED",Y[Y.LV_EVENT_LEAVE=17]="LV_EVENT_LEAVE",Y[Y.LV_EVENT_HIT_TEST=18]="LV_EVENT_HIT_TEST",Y[Y.LV_EVENT_INDEV_RESET=19]="LV_EVENT_INDEV_RESET",Y[Y.LV_EVENT_COVER_CHECK=20]="LV_EVENT_COVER_CHECK",Y[Y.LV_EVENT_REFR_EXT_DRAW_SIZE=21]="LV_EVENT_REFR_EXT_DRAW_SIZE",Y[Y.LV_EVENT_DRAW_MAIN_BEGIN=22]="LV_EVENT_DRAW_MAIN_BEGIN",Y[Y.LV_EVENT_DRAW_MAIN=23]="LV_EVENT_DRAW_MAIN",Y[Y.LV_EVENT_DRAW_MAIN_END=24]="LV_EVENT_DRAW_MAIN_END",Y[Y.LV_EVENT_DRAW_POST_BEGIN=25]="LV_EVENT_DRAW_POST_BEGIN",Y[Y.LV_EVENT_DRAW_POST=26]="LV_EVENT_DRAW_POST",Y[Y.LV_EVENT_DRAW_POST_END=27]="LV_EVENT_DRAW_POST_END",Y[Y.LV_EVENT_DRAW_TASK_ADDED=28]="LV_EVENT_DRAW_TASK_ADDED",Y[Y.LV_EVENT_VALUE_CHANGED=29]="LV_EVENT_VALUE_CHANGED",Y[Y.LV_EVENT_INSERT=30]="LV_EVENT_INSERT",Y[Y.LV_EVENT_REFRESH=31]="LV_EVENT_REFRESH",Y[Y.LV_EVENT_READY=32]="LV_EVENT_READY",Y[Y.LV_EVENT_CANCEL=33]="LV_EVENT_CANCEL",Y[Y.LV_EVENT_CREATE=34]="LV_EVENT_CREATE",Y[Y.LV_EVENT_DELETE=35]="LV_EVENT_DELETE",Y[Y.LV_EVENT_CHILD_CHANGED=36]="LV_EVENT_CHILD_CHANGED",Y[Y.LV_EVENT_CHILD_CREATED=37]="LV_EVENT_CHILD_CREATED",Y[Y.LV_EVENT_CHILD_DELETED=38]="LV_EVENT_CHILD_DELETED",Y[Y.LV_EVENT_SCREEN_UNLOAD_START=39]="LV_EVENT_SCREEN_UNLOAD_START",Y[Y.LV_EVENT_SCREEN_LOAD_START=40]="LV_EVENT_SCREEN_LOAD_START",Y[Y.LV_EVENT_SCREEN_LOADED=41]="LV_EVENT_SCREEN_LOADED",Y[Y.LV_EVENT_SCREEN_UNLOADED=42]="LV_EVENT_SCREEN_UNLOADED",Y[Y.LV_EVENT_SIZE_CHANGED=43]="LV_EVENT_SIZE_CHANGED",Y[Y.LV_EVENT_STYLE_CHANGED=44]="LV_EVENT_STYLE_CHANGED",Y[Y.LV_EVENT_LAYOUT_CHANGED=45]="LV_EVENT_LAYOUT_CHANGED",Y[Y.LV_EVENT_GET_SELF_SIZE=46]="LV_EVENT_GET_SELF_SIZE",Y[Y.LV_EVENT_INVALIDATE_AREA=47]="LV_EVENT_INVALIDATE_AREA",Y[Y.LV_EVENT_RESOLUTION_CHANGED=48]="LV_EVENT_RESOLUTION_CHANGED",Y[Y.LV_EVENT_COLOR_FORMAT_CHANGED=49]="LV_EVENT_COLOR_FORMAT_CHANGED",Y[Y.LV_EVENT_REFR_REQUEST=50]="LV_EVENT_REFR_REQUEST",Y[Y.LV_EVENT_REFR_START=51]="LV_EVENT_REFR_START",Y[Y.LV_EVENT_REFR_READY=52]="LV_EVENT_REFR_READY",Y[Y.LV_EVENT_RENDER_START=53]="LV_EVENT_RENDER_START",Y[Y.LV_EVENT_RENDER_READY=54]="LV_EVENT_RENDER_READY",Y[Y.LV_EVENT_FLUSH_START=55]="LV_EVENT_FLUSH_START",Y[Y.LV_EVENT_FLUSH_FINISH=56]="LV_EVENT_FLUSH_FINISH",Y[Y.LV_EVENT_VSYNC=57]="LV_EVENT_VSYNC",Y[Y._LV_EVENT_LAST=58]="_LV_EVENT_LAST",Y[Y.LV_EVENT_PREPROCESS=32768]="LV_EVENT_PREPROCESS",Y))(lv_event_code_t||{}),lv_menu_mode_header_t=(Y=>(Y[Y.LV_MENU_HEADER_TOP_FIXED=0]="LV_MENU_HEADER_TOP_FIXED",Y[Y.LV_MENU_HEADER_TOP_UNFIXED=1]="LV_MENU_HEADER_TOP_UNFIXED",Y[Y.LV_MENU_HEADER_BOTTOM_FIXED=2]="LV_MENU_HEADER_BOTTOM_FIXED",Y))(lv_menu_mode_header_t||{}),lv_menu_mode_root_back_button_t=(Y=>(Y[Y.LV_MENU_ROOT_BACK_BUTTON_DISABLED=0]="LV_MENU_ROOT_BACK_BUTTON_DISABLED",Y[Y.LV_MENU_ROOT_BACK_BUTTON_ENABLED=1]="LV_MENU_ROOT_BACK_BUTTON_ENABLED",Y))(lv_menu_mode_root_back_button_t||{}),lv_scale_mode_t=(Y=>(Y[Y.LV_SCALE_MODE_HORIZONTAL_TOP=0]="LV_SCALE_MODE_HORIZONTAL_TOP",Y[Y.LV_SCALE_MODE_HORIZONTAL_BOTTOM=1]="LV_SCALE_MODE_HORIZONTAL_BOTTOM",Y[Y.LV_SCALE_MODE_VERTICAL_LEFT=2]="LV_SCALE_MODE_VERTICAL_LEFT",Y[Y.LV_SCALE_MODE_VERTICAL_RIGHT=4]="LV_SCALE_MODE_VERTICAL_RIGHT",Y[Y.LV_SCALE_MODE_ROUND_INNER=8]="LV_SCALE_MODE_ROUND_INNER",Y[Y.LV_SCALE_MODE_ROUND_OUTER=16]="LV_SCALE_MODE_ROUND_OUTER",Y[Y._LV_SCALE_MODE_LAST=17]="_LV_SCALE_MODE_LAST",Y))(lv_scale_mode_t||{}),lv_blend_mode_t=(Y=>(Y[Y.LV_BLEND_MODE_NORMAL=0]="LV_BLEND_MODE_NORMAL",Y[Y.LV_BLEND_MODE_ADDITIVE=1]="LV_BLEND_MODE_ADDITIVE",Y[Y.LV_BLEND_MODE_SUBTRACTIVE=2]="LV_BLEND_MODE_SUBTRACTIVE",Y[Y.LV_BLEND_MODE_MULTIPLY=3]="LV_BLEND_MODE_MULTIPLY",Y))(lv_blend_mode_t||{}),lv_image_align_t=(Y=>(Y[Y.LV_IMAGE_ALIGN_DEFAULT=0]="LV_IMAGE_ALIGN_DEFAULT",Y[Y.LV_IMAGE_ALIGN_TOP_LEFT=1]="LV_IMAGE_ALIGN_TOP_LEFT",Y[Y.LV_IMAGE_ALIGN_TOP_MID=2]="LV_IMAGE_ALIGN_TOP_MID",Y[Y.LV_IMAGE_ALIGN_TOP_RIGHT=3]="LV_IMAGE_ALIGN_TOP_RIGHT",Y[Y.LV_IMAGE_ALIGN_BOTTOM_LEFT=4]="LV_IMAGE_ALIGN_BOTTOM_LEFT",Y[Y.LV_IMAGE_ALIGN_BOTTOM_MID=5]="LV_IMAGE_ALIGN_BOTTOM_MID",Y[Y.LV_IMAGE_ALIGN_BOTTOM_RIGHT=6]="LV_IMAGE_ALIGN_BOTTOM_RIGHT",Y[Y.LV_IMAGE_ALIGN_LEFT_MID=7]="LV_IMAGE_ALIGN_LEFT_MID",Y[Y.LV_IMAGE_ALIGN_RIGHT_MID=8]="LV_IMAGE_ALIGN_RIGHT_MID",Y[Y.LV_IMAGE_ALIGN_CENTER=9]="LV_IMAGE_ALIGN_CENTER",Y[Y._LV_IMAGE_ALIGN_AUTO_TRANSFORM=10]="_LV_IMAGE_ALIGN_AUTO_TRANSFORM",Y[Y.LV_IMAGE_ALIGN_STRETCH=11]="LV_IMAGE_ALIGN_STRETCH",Y[Y.LV_IMAGE_ALIGN_TILE=12]="LV_IMAGE_ALIGN_TILE",Y))(lv_image_align_t||{}),lv_pipe_shape_t=(Y=>(Y[Y.LV_PIPE_SHAPE_LINE=0]="LV_PIPE_SHAPE_LINE",Y[Y.LV_PIPE_SHAPE_ROUND=1]="LV_PIPE_SHAPE_ROUND",Y[Y.LV_PIPE_SHAPE_T_SHAPE=2]="LV_PIPE_SHAPE_T_SHAPE",Y[Y.LV_PIPE_SHAPE_CROSS=3]="LV_PIPE_SHAPE_CROSS",Y))(lv_pipe_shape_t||{});function format(Y,T=2,k=!1){const Z=Y.split("_").slice(T);if(Z){let ee="";return Z.forEach(te=>{ee+=te+" "}),ee=ee.trimEnd(),k&&(ee=ee.toLowerCase().replace("flag ","")),ee}return" "}function enumToOpts(Y,T=2,k=!1){const Z=[];for(const ee in Y)if(Object.prototype.hasOwnProperty.call(Y,ee)){if(isNaN(Number(Y[ee])))continue;const te=format(ee,T,k),ne=Y[ee];Z.push({label:te,value:ne})}return Z}enumToOpts(lv_align_t);enumToOpts(lv_dir_t);const _lvFlags=enumToOpts(lv_obj_flag_t,3,!0),LvFlags=_lvFlags;enumToOpts(lv_scrollbar_mode_t,3);enumToOpts(lv_scroll_snap_t);enumToOpts(lv_border_side_t);const _lvTextAlign=enumToOpts(lv_text_align_t,3),LvTextAlignOpts=_lvTextAlign,_lvState=enumToOpts(lv_state_t,2,!0),LvStateOpts=_lvState;enumToOpts(lv_grad_dir_t,3,!0);const StateOpts=[{label:"DEFAULT",value:0},{label:"CHECKED",value:lv_state_t.LV_STATE_CHECKED},{label:"FOCUSED",value:lv_state_t.LV_STATE_FOCUSED},{label:"FOCUS_KEY",value:lv_state_t.LV_STATE_FOCUS_KEY},{label:"PRESSED",value:lv_state_t.LV_STATE_PRESSED},{label:"DISABLE",value:lv_state_t.LV_STATE_DISABLED},{label:"SCROLLED",value:lv_state_t.LV_STATE_SCROLLED},{label:"CHECKED | FOCUSED",value:lv_state_t.LV_STATE_CHECKED|lv_state_t.LV_STATE_FOCUSED},{label:"CHECKED | PRESSED",value:lv_state_t.LV_STATE_CHECKED|lv_state_t.LV_STATE_PRESSED},{label:"CHECKED | FOCUS_KEY",value:lv_state_t.LV_STATE_CHECKED|lv_state_t.LV_STATE_FOCUS_KEY},{label:"USER_1",value:lv_state_t.LV_STATE_USER_1},{label:"USER_2",value:lv_state_t.LV_STATE_USER_2},{label:"USER_3",value:lv_state_t.LV_STATE_USER_3},{label:"USER_4",value:lv_state_t.LV_STATE_USER_4}];StateOpts.map(Y=>({label:Y.label,value:Y.label}));new Map(StateOpts.map(Y=>[Y.label,Y.value]));enumToOpts(lv_slider_mode_t,3,!0);enumToOpts(lv_arc_mode_t,3,!0);var lv_common_flags=(Y=>(Y[Y.LV_OBJ_FLAG_HIDDEN=1]="LV_OBJ_FLAG_HIDDEN",Y[Y.LV_OBJ_FLAG_CLICKABLE=2]="LV_OBJ_FLAG_CLICKABLE",Y[Y.LV_OBJ_FLAG_CLICK_FOCUSABLE=4]="LV_OBJ_FLAG_CLICK_FOCUSABLE",Y[Y.LV_OBJ_FLAG_CHECKABLE=8]="LV_OBJ_FLAG_CHECKABLE",Y[Y.LV_OBJ_FLAG_PRESS_LOCK=2048]="LV_OBJ_FLAG_PRESS_LOCK",Y[Y.LV_OBJ_FLAG_EVENT_BUBBLE=4096]="LV_OBJ_FLAG_EVENT_BUBBLE",Y[Y.LV_OBJ_FLAG_GESTURE_BUBBLE=8192]="LV_OBJ_FLAG_GESTURE_BUBBLE",Y[Y.LV_OBJ_FLAG_ADV_HITTEST=16384]="LV_OBJ_FLAG_ADV_HITTEST",Y[Y.LV_OBJ_FLAG_IGNORE_LAYOUT=32768]="LV_OBJ_FLAG_IGNORE_LAYOUT",Y[Y.LV_OBJ_FLAG_FLOATING=65536]="LV_OBJ_FLAG_FLOATING",Y[Y.LV_OBJ_FLAG_SNAPABLE=1024]="LV_OBJ_FLAG_SNAPABLE",Y[Y.LV_OBJ_FLAG_SCROLLABLE=16]="LV_OBJ_FLAG_SCROLLABLE",Y[Y.LV_OBJ_FLAG_SCROLL_ELASTIC=32]="LV_OBJ_FLAG_SCROLL_ELASTIC",Y[Y.LV_OBJ_FLAG_SCROLL_MOMENTUM=64]="LV_OBJ_FLAG_SCROLL_MOMENTUM",Y[Y.LV_OBJ_FLAG_SCROLL_ONE=128]="LV_OBJ_FLAG_SCROLL_ONE",Y[Y.LV_OBJ_FLAG_SCROLL_CHAIN=256]="LV_OBJ_FLAG_SCROLL_CHAIN",Y[Y.LV_OBJ_FLAG_SCROLL_ON_FOCUS=512]="LV_OBJ_FLAG_SCROLL_ON_FOCUS",Y))(lv_common_flags||{});enumToOpts(lv_common_flags,3,!0);enumToOpts(lv_label_long_mode_t);enumToOpts(lv_bar_mode_t,3,!0);const _lvChartType=enumToOpts(lv_chart_type_t,3,!0),LvChartTypeOpts=_lvChartType,_lvTextDecor=enumToOpts(lv_text_decor_t,3,!0),LvTextDecorOpts=_lvTextDecor;enumToOpts(lv_event_code_t,2,!0);const _inputEventCode=enumToOpts(lv_event_code_t,0,!0),LvInputEventCodeOpts=_inputEventCode;function LvglModule(T){var Ra,Na,$a,Va;var T=typeof T<"u"?T:{},k=typeof window=="object",Z=typeof WorkerGlobalScope<"u",ee=typeof process=="object"&&((Ra=process.versions)==null?void 0:Ra.node)&&process.type!="renderer",te=!k&&!ee&&!Z,ne=[],me="./this.program",Ve=(at,gt)=>{throw gt},Ye=typeof document<"u"?(Na=document.currentScript)==null?void 0:Na.src:void 0;typeof __filename<"u"?Ye=__filename:Z&&(Ye=self.location.href);var et="";function tt(at){return T.locateFile?T.locateFile(at,et):et+at}var it,st;if(ee){if(!(typeof process=="object"&&(($a=process.versions)==null?void 0:$a.node)&&process.type!="renderer"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var nt=process.versions.node,rt=nt.split(".").slice(0,3);if(rt=rt[0]*1e4+rt[1]*100+rt[2].split("-")[0]*1,rt<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+nt+")");var lt=require("fs");et=__dirname+"/",st=gt=>{gt=vt(gt)?new URL(gt):gt;var wt=lt.readFileSync(gt);return ft(Buffer.isBuffer(wt)),wt},it=async(gt,wt=!0)=>{gt=vt(gt)?new URL(gt):gt;var Lt=lt.readFileSync(gt,wt?void 0:"utf8");return ft(wt?Buffer.isBuffer(Lt):typeof Lt=="string"),Lt},process.argv.length>1&&(me=process.argv[1].replace(/\\/g,"/")),ne=process.argv.slice(2),typeof module<"u"&&(module.exports=T),Ve=(gt,wt)=>{throw process.exitCode=gt,wt}}else if(te){if(typeof process=="object"&&((Va=process.versions)==null?void 0:Va.node)&&process.type!="renderer"||typeof window=="object"||typeof WorkerGlobalScope<"u")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(k||Z){try{et=new URL(".",Ye).href}catch{}if(!(typeof window=="object"||typeof WorkerGlobalScope<"u"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");Z&&(st=at=>{var gt=new XMLHttpRequest;return gt.open("GET",at,!1),gt.responseType="arraybuffer",gt.send(null),new Uint8Array(gt.response)}),it=async at=>{if(vt(at))return new Promise((wt,Lt)=>{var Rt=new XMLHttpRequest;Rt.open("GET",at,!0),Rt.responseType="arraybuffer",Rt.onload=()=>{if(Rt.status==200||Rt.status==0&&Rt.response){wt(Rt.response);return}Lt(Rt.status)},Rt.onerror=Lt,Rt.send(null)});var gt=await fetch(at,{credentials:"same-origin"});if(gt.ok)return gt.arrayBuffer();throw new Error(gt.status+" : "+gt.url)}}else throw new Error("environment detection error");var ot=console.log.bind(console),ht=console.error.bind(console);ft(!te,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var dt;typeof WebAssembly!="object"&&ht("no native wasm support detected");var ct=!1,ut;function ft(at,gt){at||ki("Assertion failed"+(gt?": "+gt:""))}var vt=at=>at.startsWith("file://");function mt(){var at=Zr();ft((at&3)==0),at==0&&(at+=4),jt[at>>2]=34821223,jt[at+4>>2]=2310721022,jt[0]=1668509029}function _t(){if(!ct){var at=Zr();at==0&&(at+=4);var gt=jt[at>>2],wt=jt[at+4>>2];(gt!=34821223||wt!=2310721022)&&ki(`Stack overflow! Stack cookie has been overwritten at ${Mi(at)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Mi(wt)} ${Mi(gt)}`),jt[0]!=1668509029&&ki("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(()=>{var at=new Int16Array(1),gt=new Int8Array(at.buffer);if(at[0]=25459,gt[0]!==115||gt[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();function Et(at){Object.getOwnPropertyDescriptor(T,at)||Object.defineProperty(T,at,{configurable:!0,set(){ki(`Attempt to set \`Module.${at}\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`)}})}function Tt(at){return()=>ft(!1,`call to '${at}' via reference taken before Wasm module initialization`)}function xt(at){Object.getOwnPropertyDescriptor(T,at)&&ki(`\`Module.${at}\` was supplied but \`${at}\` not included in INCOMING_MODULE_JS_API`)}function yt(at){return at==="FS_createPath"||at==="FS_createDataFile"||at==="FS_createPreloadedFile"||at==="FS_unlink"||at==="addRunDependency"||at==="FS_createLazyFile"||at==="FS_createDevice"||at==="removeRunDependency"}function St(at,gt){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,at)&&Object.defineProperty(globalThis,at,{configurable:!0,get(){gt()}})}function At(at,gt){St(at,()=>{Oi(`\`${at}\` is not longer defined by emscripten. ${gt}`)})}At("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),At("asm","Please use wasmExports instead");function Ct(at){St(at,()=>{var gt=`\`${at}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,wt=at;wt.startsWith("_")||(wt="$"+at),gt+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${wt}')`,yt(at)&&(gt+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Oi(gt)}),It(at)}function It(at){Object.getOwnPropertyDescriptor(T,at)||Object.defineProperty(T,at,{configurable:!0,get(){var gt=`'${at}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;yt(at)&&(gt+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),ki(gt)}})}var Ot,Dt,Mt,$t,Ht,Ft,jt,Gt,Kt,Pt,kt,zt=!1;function Wt(){var at=Ot.buffer;Dt=new Int8Array(at),$t=new Int16Array(at),Mt=new Uint8Array(at),Ht=new Uint16Array(at),Ft=new Int32Array(at),jt=new Uint32Array(at),Gt=new Float32Array(at),Kt=new Float64Array(at),Pt=new BigInt64Array(at),kt=new BigUint64Array(at)}ft(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support");function si(){if(T.preRun)for(typeof T.preRun=="function"&&(T.preRun=[T.preRun]);T.preRun.length;)Hi(T.preRun.shift());Et("preRun"),bi(Li)}function ei(){ft(!zt),zt=!0,_t(),!T.noFSInit&&!Nt.initialized&&Nt.init(),vn.__wasm_call_ctors(),Nt.ignorePermissions=!1}function Zt(){_t()}function Jt(){if(_t(),T.postRun)for(typeof T.postRun=="function"&&(T.postRun=[T.postRun]);T.postRun.length;)fi(T.postRun.shift());Et("postRun"),bi(gi)}var ti=0,di=null,Qt={},Si=null;function Ti(at){var gt;ti++,(gt=T.monitorRunDependencies)==null||gt.call(T,ti),at?(ft(!Qt[at]),Qt[at]=1,Si===null&&typeof setInterval<"u"&&(Si=setInterval(()=>{if(ct){clearInterval(Si),Si=null;return}var wt=!1;for(var Lt in Qt)wt||(wt=!0,ht("still waiting on run dependencies:")),ht(`dependency: ${Lt}`);wt&&ht("(end of list)")},1e4))):ht("warning: run dependency added without ID")}function Ri(at){var wt;if(ti--,(wt=T.monitorRunDependencies)==null||wt.call(T,ti),at?(ft(Qt[at]),delete Qt[at]):ht("warning: run dependency removed without ID"),ti==0&&(Si!==null&&(clearInterval(Si),Si=null),di)){var gt=di;di=null,gt()}}function ki(at){var wt;(wt=T.onAbort)==null||wt.call(T,at),at="Aborted("+at+")",ht(at),ct=!0;var gt=new WebAssembly.RuntimeError(at);throw gt}function Bt(at,gt){return(...wt)=>{ft(zt,`native function \`${at}\` called before runtime initialization`);var Lt=vn[at];return ft(Lt,`exported native function \`${at}\` not found`),ft(wt.length<=gt,`native function \`${at}\` called with ${wt.length} args but expects ${gt}`),Lt(...wt)}}var ai;function ci(){return tt("lvgl_ems.wasm")}function yi(at){if(at==ai&&dt)return new Uint8Array(dt);if(st)return st(at);throw"both async and sync fetching of the wasm failed"}async function Ci(at){if(!dt)try{var gt=await it(at);return new Uint8Array(gt)}catch{}return yi(at)}async function Vi(at,gt){try{var wt=await Ci(at),Lt=await WebAssembly.instantiate(wt,gt);return Lt}catch(Rt){ht(`failed to asynchronously prepare wasm: ${Rt}`),vt(ai)&&ht(`warning: Loading from a file URI (${ai}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),ki(Rt)}}async function ii(at,gt,wt){if(!at&&typeof WebAssembly.instantiateStreaming=="function"&&!vt(gt)&&!ee)try{var Lt=fetch(gt,{credentials:"same-origin"}),Rt=await WebAssembly.instantiateStreaming(Lt,wt);return Rt}catch(Vt){ht(`wasm streaming compile failed: ${Vt}`),ht("falling back to ArrayBuffer instantiation")}return Vi(gt,wt)}function ui(){return{env:Pa,wasi_snapshot_preview1:Pa}}async function hi(){function at(Ut,Yt){return vn=Ut.exports,Ot=vn.memory,ft(Ot,"memory not found in wasm exports"),Wt(),ws=vn.__indirect_function_table,ft(ws,"table not found in wasm exports"),Qo(vn),Ri("wasm-instantiate"),vn}Ti("wasm-instantiate");var gt=T;function wt(Ut){return ft(T===gt,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),gt=null,at(Ut.instance)}var Lt=ui();if(T.instantiateWasm)return new Promise((Ut,Yt)=>{try{T.instantiateWasm(Lt,(Xt,ni)=>{Ut(at(Xt,ni))})}catch(Xt){ht(`Module.instantiateWasm callback failed with error: ${Xt}`),Yt(Xt)}});ai??(ai=ci());var Rt=await ii(dt,ai,Lt),Vt=wt(Rt);return Vt}class ri{constructor(gt){bt(this,"name","ExitStatus");this.message=`Program terminated with exit(${gt})`,this.status=gt}}var bi=at=>{for(;at.length>0;)at.shift()(T)},gi=[],fi=at=>gi.push(at),Li=[],Hi=at=>Li.push(at),ji=!0,Mi=at=>(ft(typeof at=="number"),at>>>=0,"0x"+at.toString(16).padStart(8,"0")),zi=at=>Oa(at),$i=()=>Qr(),Oi=at=>{Oi.shown||(Oi.shown={}),Oi.shown[at]||(Oi.shown[at]=1,ee&&(at="warning: "+at),ht(at))},Pi=typeof TextDecoder<"u"?new TextDecoder:void 0,Wi=(at,gt=0,wt=NaN)=>{for(var Lt=gt+wt,Rt=gt;at[Rt]&&!(Rt>=Lt);)++Rt;if(Rt-gt>16&&at.buffer&&Pi)return Pi.decode(at.subarray(gt,Rt));for(var Vt="";gt<Rt;){var Ut=at[gt++];if(!(Ut&128)){Vt+=String.fromCharCode(Ut);continue}var Yt=at[gt++]&63;if((Ut&224)==192){Vt+=String.fromCharCode((Ut&31)<<6|Yt);continue}var Xt=at[gt++]&63;if((Ut&240)==224?Ut=(Ut&15)<<12|Yt<<6|Xt:((Ut&248)!=240&&Oi("Invalid UTF-8 leading byte "+Mi(Ut)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),Ut=(Ut&7)<<18|Yt<<12|Xt<<6|at[gt++]&63),Ut<65536)Vt+=String.fromCharCode(Ut);else{var ni=Ut-65536;Vt+=String.fromCharCode(55296|ni>>10,56320|ni&1023)}}return Vt},qi=(at,gt)=>(ft(typeof at=="number",`UTF8ToString expects a number (got ${typeof at})`),at?Wi(Mt,at,gt):""),Ui=(at,gt,wt,Lt)=>ki(`Assertion failed: ${qi(at)}, at: `+[gt?qi(gt):"unknown filename",wt,Lt?qi(Lt):"unknown function"]);class hs{constructor(gt){this.excPtr=gt,this.ptr=gt-24}set_type(gt){jt[this.ptr+4>>2]=gt}get_type(){return jt[this.ptr+4>>2]}set_destructor(gt){jt[this.ptr+8>>2]=gt}get_destructor(){return jt[this.ptr+8>>2]}set_caught(gt){gt=gt?1:0,Dt[this.ptr+12]=gt}get_caught(){return Dt[this.ptr+12]!=0}set_rethrown(gt){gt=gt?1:0,Dt[this.ptr+13]=gt}get_rethrown(){return Dt[this.ptr+13]!=0}init(gt,wt){this.set_adjusted_ptr(0),this.set_type(gt),this.set_destructor(wt)}set_adjusted_ptr(gt){jt[this.ptr+16>>2]=gt}get_adjusted_ptr(){return jt[this.ptr+16>>2]}}var xs=(at,gt,wt)=>{var Lt=new hs(at);Lt.init(gt,wt),ft(!1,"Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.")},fs=()=>{ft(ts.varargs!=null);var at=Ft[+ts.varargs>>2];return ts.varargs+=4,at},vs=fs,Zi={isAbs:at=>at.charAt(0)==="/",splitPath:at=>{var gt=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return gt.exec(at).slice(1)},normalizeArray:(at,gt)=>{for(var wt=0,Lt=at.length-1;Lt>=0;Lt--){var Rt=at[Lt];Rt==="."?at.splice(Lt,1):Rt===".."?(at.splice(Lt,1),wt++):wt&&(at.splice(Lt,1),wt--)}if(gt)for(;wt;wt--)at.unshift("..");return at},normalize:at=>{var gt=Zi.isAbs(at),wt=at.slice(-1)==="/";return at=Zi.normalizeArray(at.split("/").filter(Lt=>!!Lt),!gt).join("/"),!at&&!gt&&(at="."),at&&wt&&(at+="/"),(gt?"/":"")+at},dirname:at=>{var gt=Zi.splitPath(at),wt=gt[0],Lt=gt[1];return!wt&&!Lt?".":(Lt&&(Lt=Lt.slice(0,-1)),wt+Lt)},basename:at=>at&&at.match(/([^\/]+|\/)\/*$/)[1],join:(...at)=>Zi.normalize(at.join("/")),join2:(at,gt)=>Zi.normalize(at+"/"+gt)},Qs=()=>{if(ee){var at=require("crypto");return gt=>at.randomFillSync(gt)}return gt=>crypto.getRandomValues(gt)},$s=at=>{($s=Qs())(at)},cs={resolve:(...at)=>{for(var gt="",wt=!1,Lt=at.length-1;Lt>=-1&&!wt;Lt--){var Rt=Lt>=0?at[Lt]:Nt.cwd();if(typeof Rt!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!Rt)return"";gt=Rt+"/"+gt,wt=Zi.isAbs(Rt)}return gt=Zi.normalizeArray(gt.split("/").filter(Vt=>!!Vt),!wt).join("/"),(wt?"/":"")+gt||"."},relative:(at,gt)=>{at=cs.resolve(at).slice(1),gt=cs.resolve(gt).slice(1);function wt(ni){for(var li=0;li<ni.length&&ni[li]==="";li++);for(var wi=ni.length-1;wi>=0&&ni[wi]==="";wi--);return li>wi?[]:ni.slice(li,wi-li+1)}for(var Lt=wt(at.split("/")),Rt=wt(gt.split("/")),Vt=Math.min(Lt.length,Rt.length),Ut=Vt,Yt=0;Yt<Vt;Yt++)if(Lt[Yt]!==Rt[Yt]){Ut=Yt;break}for(var Xt=[],Yt=Ut;Yt<Lt.length;Yt++)Xt.push("..");return Xt=Xt.concat(Rt.slice(Ut)),Xt.join("/")}},bs=[],Ts=at=>{for(var gt=0,wt=0;wt<at.length;++wt){var Lt=at.charCodeAt(wt);Lt<=127?gt++:Lt<=2047?gt+=2:Lt>=55296&&Lt<=57343?(gt+=4,++wt):gt+=3}return gt},Ps=(at,gt,wt,Lt)=>{if(ft(typeof at=="string",`stringToUTF8Array expects a string (got ${typeof at})`),!(Lt>0))return 0;for(var Rt=wt,Vt=wt+Lt-1,Ut=0;Ut<at.length;++Ut){var Yt=at.codePointAt(Ut);if(Yt<=127){if(wt>=Vt)break;gt[wt++]=Yt}else if(Yt<=2047){if(wt+1>=Vt)break;gt[wt++]=192|Yt>>6,gt[wt++]=128|Yt&63}else if(Yt<=65535){if(wt+2>=Vt)break;gt[wt++]=224|Yt>>12,gt[wt++]=128|Yt>>6&63,gt[wt++]=128|Yt&63}else{if(wt+3>=Vt)break;Yt>1114111&&Oi("Invalid Unicode code point "+Mi(Yt)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),gt[wt++]=240|Yt>>18,gt[wt++]=128|Yt>>12&63,gt[wt++]=128|Yt>>6&63,gt[wt++]=128|Yt&63,Ut++}}return gt[wt]=0,wt-Rt},Ds=(at,gt,wt)=>{var Lt=Ts(at)+1,Rt=new Array(Lt),Vt=Ps(at,Rt,0,Rt.length);return Rt.length=Vt,Rt},Us=()=>{if(!bs.length){var at=null;if(ee){var gt=256,wt=Buffer.alloc(gt),Lt=0,Rt=process.stdin.fd;try{Lt=lt.readSync(Rt,wt,0,gt)}catch(Vt){if(Vt.toString().includes("EOF"))Lt=0;else throw Vt}Lt>0&&(at=wt.slice(0,Lt).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(at=window.prompt("Input: "),at!==null&&(at+=`
`));if(!at)return null;bs=Ds(at)}return bs.shift()},ds={ttys:[],init(){},shutdown(){},register(at,gt){ds.ttys[at]={input:[],output:[],ops:gt},Nt.registerDevice(at,ds.stream_ops)},stream_ops:{open(at){var gt=ds.ttys[at.node.rdev];if(!gt)throw new Nt.ErrnoError(43);at.tty=gt,at.seekable=!1},close(at){at.tty.ops.fsync(at.tty)},fsync(at){at.tty.ops.fsync(at.tty)},read(at,gt,wt,Lt,Rt){if(!at.tty||!at.tty.ops.get_char)throw new Nt.ErrnoError(60);for(var Vt=0,Ut=0;Ut<Lt;Ut++){var Yt;try{Yt=at.tty.ops.get_char(at.tty)}catch{throw new Nt.ErrnoError(29)}if(Yt===void 0&&Vt===0)throw new Nt.ErrnoError(6);if(Yt==null)break;Vt++,gt[wt+Ut]=Yt}return Vt&&(at.node.atime=Date.now()),Vt},write(at,gt,wt,Lt,Rt){if(!at.tty||!at.tty.ops.put_char)throw new Nt.ErrnoError(60);try{for(var Vt=0;Vt<Lt;Vt++)at.tty.ops.put_char(at.tty,gt[wt+Vt])}catch{throw new Nt.ErrnoError(29)}return Lt&&(at.node.mtime=at.node.ctime=Date.now()),Vt}},default_tty_ops:{get_char(at){return Us()},put_char(at,gt){gt===null||gt===10?(ot(Wi(at.output)),at.output=[]):gt!=0&&at.output.push(gt)},fsync(at){var gt;((gt=at.output)==null?void 0:gt.length)>0&&(ot(Wi(at.output)),at.output=[])},ioctl_tcgets(at){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(at,gt,wt){return 0},ioctl_tiocgwinsz(at){return[24,80]}},default_tty1_ops:{put_char(at,gt){gt===null||gt===10?(ht(Wi(at.output)),at.output=[]):gt!=0&&at.output.push(gt)},fsync(at){var gt;((gt=at.output)==null?void 0:gt.length)>0&&(ht(Wi(at.output)),at.output=[])}}},Vs=at=>{ki("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")},Gi={ops_table:null,mount(at){return Gi.createNode(null,"/",16895,0)},createNode(at,gt,wt,Lt){if(Nt.isBlkdev(wt)||Nt.isFIFO(wt))throw new Nt.ErrnoError(63);Gi.ops_table||(Gi.ops_table={dir:{node:{getattr:Gi.node_ops.getattr,setattr:Gi.node_ops.setattr,lookup:Gi.node_ops.lookup,mknod:Gi.node_ops.mknod,rename:Gi.node_ops.rename,unlink:Gi.node_ops.unlink,rmdir:Gi.node_ops.rmdir,readdir:Gi.node_ops.readdir,symlink:Gi.node_ops.symlink},stream:{llseek:Gi.stream_ops.llseek}},file:{node:{getattr:Gi.node_ops.getattr,setattr:Gi.node_ops.setattr},stream:{llseek:Gi.stream_ops.llseek,read:Gi.stream_ops.read,write:Gi.stream_ops.write,mmap:Gi.stream_ops.mmap,msync:Gi.stream_ops.msync}},link:{node:{getattr:Gi.node_ops.getattr,setattr:Gi.node_ops.setattr,readlink:Gi.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Gi.node_ops.getattr,setattr:Gi.node_ops.setattr},stream:Nt.chrdev_stream_ops}});var Rt=Nt.createNode(at,gt,wt,Lt);return Nt.isDir(Rt.mode)?(Rt.node_ops=Gi.ops_table.dir.node,Rt.stream_ops=Gi.ops_table.dir.stream,Rt.contents={}):Nt.isFile(Rt.mode)?(Rt.node_ops=Gi.ops_table.file.node,Rt.stream_ops=Gi.ops_table.file.stream,Rt.usedBytes=0,Rt.contents=null):Nt.isLink(Rt.mode)?(Rt.node_ops=Gi.ops_table.link.node,Rt.stream_ops=Gi.ops_table.link.stream):Nt.isChrdev(Rt.mode)&&(Rt.node_ops=Gi.ops_table.chrdev.node,Rt.stream_ops=Gi.ops_table.chrdev.stream),Rt.atime=Rt.mtime=Rt.ctime=Date.now(),at&&(at.contents[gt]=Rt,at.atime=at.mtime=at.ctime=Rt.atime),Rt},getFileDataAsTypedArray(at){return at.contents?at.contents.subarray?at.contents.subarray(0,at.usedBytes):new Uint8Array(at.contents):new Uint8Array(0)},expandFileStorage(at,gt){var wt=at.contents?at.contents.length:0;if(!(wt>=gt)){var Lt=1024*1024;gt=Math.max(gt,wt*(wt<Lt?2:1.125)>>>0),wt!=0&&(gt=Math.max(gt,256));var Rt=at.contents;at.contents=new Uint8Array(gt),at.usedBytes>0&&at.contents.set(Rt.subarray(0,at.usedBytes),0)}},resizeFileStorage(at,gt){if(at.usedBytes!=gt)if(gt==0)at.contents=null,at.usedBytes=0;else{var wt=at.contents;at.contents=new Uint8Array(gt),wt&&at.contents.set(wt.subarray(0,Math.min(gt,at.usedBytes))),at.usedBytes=gt}},node_ops:{getattr(at){var gt={};return gt.dev=Nt.isChrdev(at.mode)?at.id:1,gt.ino=at.id,gt.mode=at.mode,gt.nlink=1,gt.uid=0,gt.gid=0,gt.rdev=at.rdev,Nt.isDir(at.mode)?gt.size=4096:Nt.isFile(at.mode)?gt.size=at.usedBytes:Nt.isLink(at.mode)?gt.size=at.link.length:gt.size=0,gt.atime=new Date(at.atime),gt.mtime=new Date(at.mtime),gt.ctime=new Date(at.ctime),gt.blksize=4096,gt.blocks=Math.ceil(gt.size/gt.blksize),gt},setattr(at,gt){for(const wt of["mode","atime","mtime","ctime"])gt[wt]!=null&&(at[wt]=gt[wt]);gt.size!==void 0&&Gi.resizeFileStorage(at,gt.size)},lookup(at,gt){throw new Nt.ErrnoError(44)},mknod(at,gt,wt,Lt){return Gi.createNode(at,gt,wt,Lt)},rename(at,gt,wt){var Lt;try{Lt=Nt.lookupNode(gt,wt)}catch{}if(Lt){if(Nt.isDir(at.mode))for(var Rt in Lt.contents)throw new Nt.ErrnoError(55);Nt.hashRemoveNode(Lt)}delete at.parent.contents[at.name],gt.contents[wt]=at,at.name=wt,gt.ctime=gt.mtime=at.parent.ctime=at.parent.mtime=Date.now()},unlink(at,gt){delete at.contents[gt],at.ctime=at.mtime=Date.now()},rmdir(at,gt){var wt=Nt.lookupNode(at,gt);for(var Lt in wt.contents)throw new Nt.ErrnoError(55);delete at.contents[gt],at.ctime=at.mtime=Date.now()},readdir(at){return[".","..",...Object.keys(at.contents)]},symlink(at,gt,wt){var Lt=Gi.createNode(at,gt,41471,0);return Lt.link=wt,Lt},readlink(at){if(!Nt.isLink(at.mode))throw new Nt.ErrnoError(28);return at.link}},stream_ops:{read(at,gt,wt,Lt,Rt){var Vt=at.node.contents;if(Rt>=at.node.usedBytes)return 0;var Ut=Math.min(at.node.usedBytes-Rt,Lt);if(ft(Ut>=0),Ut>8&&Vt.subarray)gt.set(Vt.subarray(Rt,Rt+Ut),wt);else for(var Yt=0;Yt<Ut;Yt++)gt[wt+Yt]=Vt[Rt+Yt];return Ut},write(at,gt,wt,Lt,Rt,Vt){if(ft(!(gt instanceof ArrayBuffer)),!Lt)return 0;var Ut=at.node;if(Ut.mtime=Ut.ctime=Date.now(),gt.subarray&&(!Ut.contents||Ut.contents.subarray)){if(Vt)return ft(Rt===0,"canOwn must imply no weird position inside the file"),Ut.contents=gt.subarray(wt,wt+Lt),Ut.usedBytes=Lt,Lt;if(Ut.usedBytes===0&&Rt===0)return Ut.contents=gt.slice(wt,wt+Lt),Ut.usedBytes=Lt,Lt;if(Rt+Lt<=Ut.usedBytes)return Ut.contents.set(gt.subarray(wt,wt+Lt),Rt),Lt}if(Gi.expandFileStorage(Ut,Rt+Lt),Ut.contents.subarray&&gt.subarray)Ut.contents.set(gt.subarray(wt,wt+Lt),Rt);else for(var Yt=0;Yt<Lt;Yt++)Ut.contents[Rt+Yt]=gt[wt+Yt];return Ut.usedBytes=Math.max(Ut.usedBytes,Rt+Lt),Lt},llseek(at,gt,wt){var Lt=gt;if(wt===1?Lt+=at.position:wt===2&&Nt.isFile(at.node.mode)&&(Lt+=at.node.usedBytes),Lt<0)throw new Nt.ErrnoError(28);return Lt},mmap(at,gt,wt,Lt,Rt){if(!Nt.isFile(at.node.mode))throw new Nt.ErrnoError(43);var Vt,Ut,Yt=at.node.contents;if(!(Rt&2)&&Yt&&Yt.buffer===Dt.buffer)Ut=!1,Vt=Yt.byteOffset;else{if(Ut=!0,Vt=Vs(),!Vt)throw new Nt.ErrnoError(48);Yt&&((wt>0||wt+gt<Yt.length)&&(Yt.subarray?Yt=Yt.subarray(wt,wt+gt):Yt=Array.prototype.slice.call(Yt,wt,wt+gt)),Dt.set(Yt,Vt))}return{ptr:Vt,allocated:Ut}},msync(at,gt,wt,Lt,Rt){return Gi.stream_ops.write(at,gt,0,Lt,wt,!1),0}}},en=async at=>{var gt=await it(at);return ft(gt,`Loading data file "${at}" failed (no arrayBuffer).`),new Uint8Array(gt)},tn=(...at)=>Nt.createDataFile(...at),sn=at=>{for(var gt=at;;){if(!Qt[at])return at;at=gt+Math.random()}},Ni=[],qt=(at,gt,wt,Lt)=>{typeof Browser<"u"&&Browser.init();var Rt=!1;return Ni.forEach(Vt=>{Rt||Vt.canHandle(gt)&&(Vt.handle(at,gt,wt,Lt),Rt=!0)}),Rt},Ei=(at,gt,wt,Lt,Rt,Vt,Ut,Yt,Xt,ni)=>{var li=gt?cs.resolve(Zi.join2(at,gt)):at,wi=sn(`cp ${li}`);function xi(_i){function pi(Ai){ni==null||ni(),Yt||tn(at,gt,Ai,Lt,Rt,Xt),Vt==null||Vt(),Ri(wi)}qt(_i,li,pi,()=>{Ut==null||Ut(),Ri(wi)})||pi(_i)}Ti(wi),typeof wt=="string"?en(wt).then(xi,Ut):xi(wt)},Di=at=>{var gt={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},wt=gt[at];if(typeof wt>"u")throw new Error(`Unknown file open mode: ${at}`);return wt},es=(at,gt)=>{var wt=0;return at&&(wt|=365),gt&&(wt|=146),wt},as=at=>qi(La(at)),ss={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},Nt={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class extends Error{constructor(gt){super(zt?as(gt):"");bt(this,"name","ErrnoError");this.errno=gt;for(var wt in ss)if(ss[wt]===gt){this.code=wt;break}}},FSStream:class{constructor(){bt(this,"shared",{})}get object(){return this.node}set object(at){this.node=at}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(at){this.shared.flags=at}get position(){return this.shared.position}set position(at){this.shared.position=at}},FSNode:class{constructor(at,gt,wt,Lt){bt(this,"node_ops",{});bt(this,"stream_ops",{});bt(this,"readMode",365);bt(this,"writeMode",146);bt(this,"mounted",null);at||(at=this),this.parent=at,this.mount=at.mount,this.id=Nt.nextInode++,this.name=gt,this.mode=wt,this.rdev=Lt,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(at){at?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(at){at?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return Nt.isDir(this.mode)}get isDevice(){return Nt.isChrdev(this.mode)}},lookupPath(at,gt={}){if(!at)throw new Nt.ErrnoError(44);gt.follow_mount??(gt.follow_mount=!0),Zi.isAbs(at)||(at=Nt.cwd()+"/"+at);e:for(var wt=0;wt<40;wt++){for(var Lt=at.split("/").filter(ni=>!!ni),Rt=Nt.root,Vt="/",Ut=0;Ut<Lt.length;Ut++){var Yt=Ut===Lt.length-1;if(Yt&&gt.parent)break;if(Lt[Ut]!=="."){if(Lt[Ut]===".."){if(Vt=Zi.dirname(Vt),Nt.isRoot(Rt)){at=Vt+"/"+Lt.slice(Ut+1).join("/");continue e}else Rt=Rt.parent;continue}Vt=Zi.join2(Vt,Lt[Ut]);try{Rt=Nt.lookupNode(Rt,Lt[Ut])}catch(ni){if((ni==null?void 0:ni.errno)===44&&Yt&&gt.noent_okay)return{path:Vt};throw ni}if(Nt.isMountpoint(Rt)&&(!Yt||gt.follow_mount)&&(Rt=Rt.mounted.root),Nt.isLink(Rt.mode)&&(!Yt||gt.follow)){if(!Rt.node_ops.readlink)throw new Nt.ErrnoError(52);var Xt=Rt.node_ops.readlink(Rt);Zi.isAbs(Xt)||(Xt=Zi.dirname(Vt)+"/"+Xt),at=Xt+"/"+Lt.slice(Ut+1).join("/");continue e}}}return{path:Vt,node:Rt}}throw new Nt.ErrnoError(32)},getPath(at){for(var gt;;){if(Nt.isRoot(at)){var wt=at.mount.mountpoint;return gt?wt[wt.length-1]!=="/"?`${wt}/${gt}`:wt+gt:wt}gt=gt?`${at.name}/${gt}`:at.name,at=at.parent}},hashName(at,gt){for(var wt=0,Lt=0;Lt<gt.length;Lt++)wt=(wt<<5)-wt+gt.charCodeAt(Lt)|0;return(at+wt>>>0)%Nt.nameTable.length},hashAddNode(at){var gt=Nt.hashName(at.parent.id,at.name);at.name_next=Nt.nameTable[gt],Nt.nameTable[gt]=at},hashRemoveNode(at){var gt=Nt.hashName(at.parent.id,at.name);if(Nt.nameTable[gt]===at)Nt.nameTable[gt]=at.name_next;else for(var wt=Nt.nameTable[gt];wt;){if(wt.name_next===at){wt.name_next=at.name_next;break}wt=wt.name_next}},lookupNode(at,gt){var wt=Nt.mayLookup(at);if(wt)throw new Nt.ErrnoError(wt);for(var Lt=Nt.hashName(at.id,gt),Rt=Nt.nameTable[Lt];Rt;Rt=Rt.name_next){var Vt=Rt.name;if(Rt.parent.id===at.id&&Vt===gt)return Rt}return Nt.lookup(at,gt)},createNode(at,gt,wt,Lt){ft(typeof at=="object");var Rt=new Nt.FSNode(at,gt,wt,Lt);return Nt.hashAddNode(Rt),Rt},destroyNode(at){Nt.hashRemoveNode(at)},isRoot(at){return at===at.parent},isMountpoint(at){return!!at.mounted},isFile(at){return(at&61440)===32768},isDir(at){return(at&61440)===16384},isLink(at){return(at&61440)===40960},isChrdev(at){return(at&61440)===8192},isBlkdev(at){return(at&61440)===24576},isFIFO(at){return(at&61440)===4096},isSocket(at){return(at&49152)===49152},flagsToPermissionString(at){var gt=["r","w","rw"][at&3];return at&512&&(gt+="w"),gt},nodePermissions(at,gt){return Nt.ignorePermissions?0:gt.includes("r")&&!(at.mode&292)||gt.includes("w")&&!(at.mode&146)||gt.includes("x")&&!(at.mode&73)?2:0},mayLookup(at){if(!Nt.isDir(at.mode))return 54;var gt=Nt.nodePermissions(at,"x");return gt||(at.node_ops.lookup?0:2)},mayCreate(at,gt){if(!Nt.isDir(at.mode))return 54;try{var wt=Nt.lookupNode(at,gt);return 20}catch{}return Nt.nodePermissions(at,"wx")},mayDelete(at,gt,wt){var Lt;try{Lt=Nt.lookupNode(at,gt)}catch(Vt){return Vt.errno}var Rt=Nt.nodePermissions(at,"wx");if(Rt)return Rt;if(wt){if(!Nt.isDir(Lt.mode))return 54;if(Nt.isRoot(Lt)||Nt.getPath(Lt)===Nt.cwd())return 10}else if(Nt.isDir(Lt.mode))return 31;return 0},mayOpen(at,gt){return at?Nt.isLink(at.mode)?32:Nt.isDir(at.mode)&&(Nt.flagsToPermissionString(gt)!=="r"||gt&576)?31:Nt.nodePermissions(at,Nt.flagsToPermissionString(gt)):44},checkOpExists(at,gt){if(!at)throw new Nt.ErrnoError(gt);return at},MAX_OPEN_FDS:4096,nextfd(){for(var at=0;at<=Nt.MAX_OPEN_FDS;at++)if(!Nt.streams[at])return at;throw new Nt.ErrnoError(33)},getStreamChecked(at){var gt=Nt.getStream(at);if(!gt)throw new Nt.ErrnoError(8);return gt},getStream:at=>Nt.streams[at],createStream(at,gt=-1){return ft(gt>=-1),at=Object.assign(new Nt.FSStream,at),gt==-1&&(gt=Nt.nextfd()),at.fd=gt,Nt.streams[gt]=at,at},closeStream(at){Nt.streams[at]=null},dupStream(at,gt=-1){var Lt,Rt;var wt=Nt.createStream(at,gt);return(Rt=(Lt=wt.stream_ops)==null?void 0:Lt.dup)==null||Rt.call(Lt,wt),wt},doSetAttr(at,gt,wt){var Lt=at==null?void 0:at.stream_ops.setattr,Rt=Lt?at:gt;Lt??(Lt=gt.node_ops.setattr),Nt.checkOpExists(Lt,63),Lt(Rt,wt)},chrdev_stream_ops:{open(at){var wt,Lt;var gt=Nt.getDevice(at.node.rdev);at.stream_ops=gt.stream_ops,(Lt=(wt=at.stream_ops).open)==null||Lt.call(wt,at)},llseek(){throw new Nt.ErrnoError(70)}},major:at=>at>>8,minor:at=>at&255,makedev:(at,gt)=>at<<8|gt,registerDevice(at,gt){Nt.devices[at]={stream_ops:gt}},getDevice:at=>Nt.devices[at],getMounts(at){for(var gt=[],wt=[at];wt.length;){var Lt=wt.pop();gt.push(Lt),wt.push(...Lt.mounts)}return gt},syncfs(at,gt){typeof at=="function"&&(gt=at,at=!1),Nt.syncFSRequests++,Nt.syncFSRequests>1&&ht(`warning: ${Nt.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var wt=Nt.getMounts(Nt.root.mount),Lt=0;function Rt(Ut){return ft(Nt.syncFSRequests>0),Nt.syncFSRequests--,gt(Ut)}function Vt(Ut){if(Ut)return Vt.errored?void 0:(Vt.errored=!0,Rt(Ut));++Lt>=wt.length&&Rt(null)}wt.forEach(Ut=>{if(!Ut.type.syncfs)return Vt(null);Ut.type.syncfs(Ut,at,Vt)})},mount(at,gt,wt){if(typeof at=="string")throw at;var Lt=wt==="/",Rt=!wt,Vt;if(Lt&&Nt.root)throw new Nt.ErrnoError(10);if(!Lt&&!Rt){var Ut=Nt.lookupPath(wt,{follow_mount:!1});if(wt=Ut.path,Vt=Ut.node,Nt.isMountpoint(Vt))throw new Nt.ErrnoError(10);if(!Nt.isDir(Vt.mode))throw new Nt.ErrnoError(54)}var Yt={type:at,opts:gt,mountpoint:wt,mounts:[]},Xt=at.mount(Yt);return Xt.mount=Yt,Yt.root=Xt,Lt?Nt.root=Xt:Vt&&(Vt.mounted=Yt,Vt.mount&&Vt.mount.mounts.push(Yt)),Xt},unmount(at){var gt=Nt.lookupPath(at,{follow_mount:!1});if(!Nt.isMountpoint(gt.node))throw new Nt.ErrnoError(28);var wt=gt.node,Lt=wt.mounted,Rt=Nt.getMounts(Lt);Object.keys(Nt.nameTable).forEach(Ut=>{for(var Yt=Nt.nameTable[Ut];Yt;){var Xt=Yt.name_next;Rt.includes(Yt.mount)&&Nt.destroyNode(Yt),Yt=Xt}}),wt.mounted=null;var Vt=wt.mount.mounts.indexOf(Lt);ft(Vt!==-1),wt.mount.mounts.splice(Vt,1)},lookup(at,gt){return at.node_ops.lookup(at,gt)},mknod(at,gt,wt){var Lt=Nt.lookupPath(at,{parent:!0}),Rt=Lt.node,Vt=Zi.basename(at);if(!Vt)throw new Nt.ErrnoError(28);if(Vt==="."||Vt==="..")throw new Nt.ErrnoError(20);var Ut=Nt.mayCreate(Rt,Vt);if(Ut)throw new Nt.ErrnoError(Ut);if(!Rt.node_ops.mknod)throw new Nt.ErrnoError(63);return Rt.node_ops.mknod(Rt,Vt,gt,wt)},statfs(at){return Nt.statfsNode(Nt.lookupPath(at,{follow:!0}).node)},statfsStream(at){return Nt.statfsNode(at.node)},statfsNode(at){var gt={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:Nt.nextInode,ffree:Nt.nextInode-1,fsid:42,flags:2,namelen:255};return at.node_ops.statfs&&Object.assign(gt,at.node_ops.statfs(at.mount.opts.root)),gt},create(at,gt=438){return gt&=4095,gt|=32768,Nt.mknod(at,gt,0)},mkdir(at,gt=511){return gt&=1023,gt|=16384,Nt.mknod(at,gt,0)},mkdirTree(at,gt){var wt=at.split("/"),Lt="";for(var Rt of wt)if(Rt){(Lt||Zi.isAbs(at))&&(Lt+="/"),Lt+=Rt;try{Nt.mkdir(Lt,gt)}catch(Vt){if(Vt.errno!=20)throw Vt}}},mkdev(at,gt,wt){return typeof wt>"u"&&(wt=gt,gt=438),gt|=8192,Nt.mknod(at,gt,wt)},symlink(at,gt){if(!cs.resolve(at))throw new Nt.ErrnoError(44);var wt=Nt.lookupPath(gt,{parent:!0}),Lt=wt.node;if(!Lt)throw new Nt.ErrnoError(44);var Rt=Zi.basename(gt),Vt=Nt.mayCreate(Lt,Rt);if(Vt)throw new Nt.ErrnoError(Vt);if(!Lt.node_ops.symlink)throw new Nt.ErrnoError(63);return Lt.node_ops.symlink(Lt,Rt,at)},rename(at,gt){var wt=Zi.dirname(at),Lt=Zi.dirname(gt),Rt=Zi.basename(at),Vt=Zi.basename(gt),Ut,Yt,Xt;if(Ut=Nt.lookupPath(at,{parent:!0}),Yt=Ut.node,Ut=Nt.lookupPath(gt,{parent:!0}),Xt=Ut.node,!Yt||!Xt)throw new Nt.ErrnoError(44);if(Yt.mount!==Xt.mount)throw new Nt.ErrnoError(75);var ni=Nt.lookupNode(Yt,Rt),li=cs.relative(at,Lt);if(li.charAt(0)!==".")throw new Nt.ErrnoError(28);if(li=cs.relative(gt,wt),li.charAt(0)!==".")throw new Nt.ErrnoError(55);var wi;try{wi=Nt.lookupNode(Xt,Vt)}catch{}if(ni!==wi){var xi=Nt.isDir(ni.mode),_i=Nt.mayDelete(Yt,Rt,xi);if(_i)throw new Nt.ErrnoError(_i);if(_i=wi?Nt.mayDelete(Xt,Vt,xi):Nt.mayCreate(Xt,Vt),_i)throw new Nt.ErrnoError(_i);if(!Yt.node_ops.rename)throw new Nt.ErrnoError(63);if(Nt.isMountpoint(ni)||wi&&Nt.isMountpoint(wi))throw new Nt.ErrnoError(10);if(Xt!==Yt&&(_i=Nt.nodePermissions(Yt,"w"),_i))throw new Nt.ErrnoError(_i);Nt.hashRemoveNode(ni);try{Yt.node_ops.rename(ni,Xt,Vt),ni.parent=Xt}catch(pi){throw pi}finally{Nt.hashAddNode(ni)}}},rmdir(at){var gt=Nt.lookupPath(at,{parent:!0}),wt=gt.node,Lt=Zi.basename(at),Rt=Nt.lookupNode(wt,Lt),Vt=Nt.mayDelete(wt,Lt,!0);if(Vt)throw new Nt.ErrnoError(Vt);if(!wt.node_ops.rmdir)throw new Nt.ErrnoError(63);if(Nt.isMountpoint(Rt))throw new Nt.ErrnoError(10);wt.node_ops.rmdir(wt,Lt),Nt.destroyNode(Rt)},readdir(at){var gt=Nt.lookupPath(at,{follow:!0}),wt=gt.node,Lt=Nt.checkOpExists(wt.node_ops.readdir,54);return Lt(wt)},unlink(at){var gt=Nt.lookupPath(at,{parent:!0}),wt=gt.node;if(!wt)throw new Nt.ErrnoError(44);var Lt=Zi.basename(at),Rt=Nt.lookupNode(wt,Lt),Vt=Nt.mayDelete(wt,Lt,!1);if(Vt)throw new Nt.ErrnoError(Vt);if(!wt.node_ops.unlink)throw new Nt.ErrnoError(63);if(Nt.isMountpoint(Rt))throw new Nt.ErrnoError(10);wt.node_ops.unlink(wt,Lt),Nt.destroyNode(Rt)},readlink(at){var gt=Nt.lookupPath(at),wt=gt.node;if(!wt)throw new Nt.ErrnoError(44);if(!wt.node_ops.readlink)throw new Nt.ErrnoError(28);return wt.node_ops.readlink(wt)},stat(at,gt){var wt=Nt.lookupPath(at,{follow:!gt}),Lt=wt.node,Rt=Nt.checkOpExists(Lt.node_ops.getattr,63);return Rt(Lt)},fstat(at){var gt=Nt.getStreamChecked(at),wt=gt.node,Lt=gt.stream_ops.getattr,Rt=Lt?gt:wt;return Lt??(Lt=wt.node_ops.getattr),Nt.checkOpExists(Lt,63),Lt(Rt)},lstat(at){return Nt.stat(at,!0)},doChmod(at,gt,wt,Lt){Nt.doSetAttr(at,gt,{mode:wt&4095|gt.mode&-4096,ctime:Date.now(),dontFollow:Lt})},chmod(at,gt,wt){var Lt;if(typeof at=="string"){var Rt=Nt.lookupPath(at,{follow:!wt});Lt=Rt.node}else Lt=at;Nt.doChmod(null,Lt,gt,wt)},lchmod(at,gt){Nt.chmod(at,gt,!0)},fchmod(at,gt){var wt=Nt.getStreamChecked(at);Nt.doChmod(wt,wt.node,gt,!1)},doChown(at,gt,wt){Nt.doSetAttr(at,gt,{timestamp:Date.now(),dontFollow:wt})},chown(at,gt,wt,Lt){var Rt;if(typeof at=="string"){var Vt=Nt.lookupPath(at,{follow:!Lt});Rt=Vt.node}else Rt=at;Nt.doChown(null,Rt,Lt)},lchown(at,gt,wt){Nt.chown(at,gt,wt,!0)},fchown(at,gt,wt){var Lt=Nt.getStreamChecked(at);Nt.doChown(Lt,Lt.node,!1)},doTruncate(at,gt,wt){if(Nt.isDir(gt.mode))throw new Nt.ErrnoError(31);if(!Nt.isFile(gt.mode))throw new Nt.ErrnoError(28);var Lt=Nt.nodePermissions(gt,"w");if(Lt)throw new Nt.ErrnoError(Lt);Nt.doSetAttr(at,gt,{size:wt,timestamp:Date.now()})},truncate(at,gt){if(gt<0)throw new Nt.ErrnoError(28);var wt;if(typeof at=="string"){var Lt=Nt.lookupPath(at,{follow:!0});wt=Lt.node}else wt=at;Nt.doTruncate(null,wt,gt)},ftruncate(at,gt){var wt=Nt.getStreamChecked(at);if(gt<0||(wt.flags&2097155)===0)throw new Nt.ErrnoError(28);Nt.doTruncate(wt,wt.node,gt)},utime(at,gt,wt){var Lt=Nt.lookupPath(at,{follow:!0}),Rt=Lt.node,Vt=Nt.checkOpExists(Rt.node_ops.setattr,63);Vt(Rt,{atime:gt,mtime:wt})},open(at,gt,wt=438){if(at==="")throw new Nt.ErrnoError(44);gt=typeof gt=="string"?Di(gt):gt,gt&64?wt=wt&4095|32768:wt=0;var Lt,Rt;if(typeof at=="object")Lt=at;else{Rt=at.endsWith("/");var Vt=Nt.lookupPath(at,{follow:!(gt&131072),noent_okay:!0});Lt=Vt.node,at=Vt.path}var Ut=!1;if(gt&64)if(Lt){if(gt&128)throw new Nt.ErrnoError(20)}else{if(Rt)throw new Nt.ErrnoError(31);Lt=Nt.mknod(at,wt|511,0),Ut=!0}if(!Lt)throw new Nt.ErrnoError(44);if(Nt.isChrdev(Lt.mode)&&(gt&=-513),gt&65536&&!Nt.isDir(Lt.mode))throw new Nt.ErrnoError(54);if(!Ut){var Yt=Nt.mayOpen(Lt,gt);if(Yt)throw new Nt.ErrnoError(Yt)}gt&512&&!Ut&&Nt.truncate(Lt,0),gt&=-131713;var Xt=Nt.createStream({node:Lt,path:Nt.getPath(Lt),flags:gt,seekable:!0,position:0,stream_ops:Lt.stream_ops,ungotten:[],error:!1});return Xt.stream_ops.open&&Xt.stream_ops.open(Xt),Ut&&Nt.chmod(Lt,wt&511),T.logReadFiles&&!(gt&1)&&(at in Nt.readFiles||(Nt.readFiles[at]=1)),Xt},close(at){if(Nt.isClosed(at))throw new Nt.ErrnoError(8);at.getdents&&(at.getdents=null);try{at.stream_ops.close&&at.stream_ops.close(at)}catch(gt){throw gt}finally{Nt.closeStream(at.fd)}at.fd=null},isClosed(at){return at.fd===null},llseek(at,gt,wt){if(Nt.isClosed(at))throw new Nt.ErrnoError(8);if(!at.seekable||!at.stream_ops.llseek)throw new Nt.ErrnoError(70);if(wt!=0&&wt!=1&&wt!=2)throw new Nt.ErrnoError(28);return at.position=at.stream_ops.llseek(at,gt,wt),at.ungotten=[],at.position},read(at,gt,wt,Lt,Rt){if(ft(wt>=0),Lt<0||Rt<0)throw new Nt.ErrnoError(28);if(Nt.isClosed(at))throw new Nt.ErrnoError(8);if((at.flags&2097155)===1)throw new Nt.ErrnoError(8);if(Nt.isDir(at.node.mode))throw new Nt.ErrnoError(31);if(!at.stream_ops.read)throw new Nt.ErrnoError(28);var Vt=typeof Rt<"u";if(!Vt)Rt=at.position;else if(!at.seekable)throw new Nt.ErrnoError(70);var Ut=at.stream_ops.read(at,gt,wt,Lt,Rt);return Vt||(at.position+=Ut),Ut},write(at,gt,wt,Lt,Rt,Vt){if(ft(wt>=0),Lt<0||Rt<0)throw new Nt.ErrnoError(28);if(Nt.isClosed(at))throw new Nt.ErrnoError(8);if((at.flags&2097155)===0)throw new Nt.ErrnoError(8);if(Nt.isDir(at.node.mode))throw new Nt.ErrnoError(31);if(!at.stream_ops.write)throw new Nt.ErrnoError(28);at.seekable&&at.flags&1024&&Nt.llseek(at,0,2);var Ut=typeof Rt<"u";if(!Ut)Rt=at.position;else if(!at.seekable)throw new Nt.ErrnoError(70);var Yt=at.stream_ops.write(at,gt,wt,Lt,Rt,Vt);return Ut||(at.position+=Yt),Yt},mmap(at,gt,wt,Lt,Rt){if((Lt&2)!==0&&(Rt&2)===0&&(at.flags&2097155)!==2)throw new Nt.ErrnoError(2);if((at.flags&2097155)===1)throw new Nt.ErrnoError(2);if(!at.stream_ops.mmap)throw new Nt.ErrnoError(43);if(!gt)throw new Nt.ErrnoError(28);return at.stream_ops.mmap(at,gt,wt,Lt,Rt)},msync(at,gt,wt,Lt,Rt){return ft(wt>=0),at.stream_ops.msync?at.stream_ops.msync(at,gt,wt,Lt,Rt):0},ioctl(at,gt,wt){if(!at.stream_ops.ioctl)throw new Nt.ErrnoError(59);return at.stream_ops.ioctl(at,gt,wt)},readFile(at,gt={}){if(gt.flags=gt.flags||0,gt.encoding=gt.encoding||"binary",gt.encoding!=="utf8"&&gt.encoding!=="binary")throw new Error(`Invalid encoding type "${gt.encoding}"`);var wt=Nt.open(at,gt.flags),Lt=Nt.stat(at),Rt=Lt.size,Vt=new Uint8Array(Rt);return Nt.read(wt,Vt,0,Rt,0),gt.encoding==="utf8"&&(Vt=Wi(Vt)),Nt.close(wt),Vt},writeFile(at,gt,wt={}){wt.flags=wt.flags||577;var Lt=Nt.open(at,wt.flags,wt.mode);if(typeof gt=="string"&&(gt=new Uint8Array(Ds(gt))),ArrayBuffer.isView(gt))Nt.write(Lt,gt,0,gt.byteLength,void 0,wt.canOwn);else throw new Error("Unsupported data type");Nt.close(Lt)},cwd:()=>Nt.currentPath,chdir(at){var gt=Nt.lookupPath(at,{follow:!0});if(gt.node===null)throw new Nt.ErrnoError(44);if(!Nt.isDir(gt.node.mode))throw new Nt.ErrnoError(54);var wt=Nt.nodePermissions(gt.node,"x");if(wt)throw new Nt.ErrnoError(wt);Nt.currentPath=gt.path},createDefaultDirectories(){Nt.mkdir("/tmp"),Nt.mkdir("/home"),Nt.mkdir("/home/web_user")},createDefaultDevices(){Nt.mkdir("/dev"),Nt.registerDevice(Nt.makedev(1,3),{read:()=>0,write:(Lt,Rt,Vt,Ut,Yt)=>Ut,llseek:()=>0}),Nt.mkdev("/dev/null",Nt.makedev(1,3)),ds.register(Nt.makedev(5,0),ds.default_tty_ops),ds.register(Nt.makedev(6,0),ds.default_tty1_ops),Nt.mkdev("/dev/tty",Nt.makedev(5,0)),Nt.mkdev("/dev/tty1",Nt.makedev(6,0));var at=new Uint8Array(1024),gt=0,wt=()=>(gt===0&&($s(at),gt=at.byteLength),at[--gt]);Nt.createDevice("/dev","random",wt),Nt.createDevice("/dev","urandom",wt),Nt.mkdir("/dev/shm"),Nt.mkdir("/dev/shm/tmp")},createSpecialDirectories(){Nt.mkdir("/proc");var at=Nt.mkdir("/proc/self");Nt.mkdir("/proc/self/fd"),Nt.mount({mount(){var gt=Nt.createNode(at,"fd",16895,73);return gt.stream_ops={llseek:Gi.stream_ops.llseek},gt.node_ops={lookup(wt,Lt){var Rt=+Lt,Vt=Nt.getStreamChecked(Rt),Ut={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Vt.path},id:Rt+1};return Ut.parent=Ut,Ut},readdir(){return Array.from(Nt.streams.entries()).filter(([wt,Lt])=>Lt).map(([wt,Lt])=>wt.toString())}},gt}},{},"/proc/self/fd")},createStandardStreams(at,gt,wt){at?Nt.createDevice("/dev","stdin",at):Nt.symlink("/dev/tty","/dev/stdin"),gt?Nt.createDevice("/dev","stdout",null,gt):Nt.symlink("/dev/tty","/dev/stdout"),wt?Nt.createDevice("/dev","stderr",null,wt):Nt.symlink("/dev/tty1","/dev/stderr");var Lt=Nt.open("/dev/stdin",0),Rt=Nt.open("/dev/stdout",1),Vt=Nt.open("/dev/stderr",1);ft(Lt.fd===0,`invalid handle for stdin (${Lt.fd})`),ft(Rt.fd===1,`invalid handle for stdout (${Rt.fd})`),ft(Vt.fd===2,`invalid handle for stderr (${Vt.fd})`)},staticInit(){Nt.nameTable=new Array(4096),Nt.mount(Gi,{},"/"),Nt.createDefaultDirectories(),Nt.createDefaultDevices(),Nt.createSpecialDirectories(),Nt.filesystems={MEMFS:Gi}},init(at,gt,wt){ft(!Nt.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),Nt.initialized=!0,at??(at=T.stdin),gt??(gt=T.stdout),wt??(wt=T.stderr),Nt.createStandardStreams(at,gt,wt)},quit(){Nt.initialized=!1,Jr(0);for(var at of Nt.streams)at&&Nt.close(at)},findObject(at,gt){var wt=Nt.analyzePath(at,gt);return wt.exists?wt.object:null},analyzePath(at,gt){try{var wt=Nt.lookupPath(at,{follow:!gt});at=wt.path}catch{}var Lt={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var wt=Nt.lookupPath(at,{parent:!0});Lt.parentExists=!0,Lt.parentPath=wt.path,Lt.parentObject=wt.node,Lt.name=Zi.basename(at),wt=Nt.lookupPath(at,{follow:!gt}),Lt.exists=!0,Lt.path=wt.path,Lt.object=wt.node,Lt.name=wt.node.name,Lt.isRoot=wt.path==="/"}catch(Rt){Lt.error=Rt.errno}return Lt},createPath(at,gt,wt,Lt){at=typeof at=="string"?at:Nt.getPath(at);for(var Rt=gt.split("/").reverse();Rt.length;){var Vt=Rt.pop();if(Vt){var Ut=Zi.join2(at,Vt);try{Nt.mkdir(Ut)}catch(Yt){if(Yt.errno!=20)throw Yt}at=Ut}}return Ut},createFile(at,gt,wt,Lt,Rt){var Vt=Zi.join2(typeof at=="string"?at:Nt.getPath(at),gt),Ut=es(Lt,Rt);return Nt.create(Vt,Ut)},createDataFile(at,gt,wt,Lt,Rt,Vt){var Ut=gt;at&&(at=typeof at=="string"?at:Nt.getPath(at),Ut=gt?Zi.join2(at,gt):at);var Yt=es(Lt,Rt),Xt=Nt.create(Ut,Yt);if(wt){if(typeof wt=="string"){for(var ni=new Array(wt.length),li=0,wi=wt.length;li<wi;++li)ni[li]=wt.charCodeAt(li);wt=ni}Nt.chmod(Xt,Yt|146);var xi=Nt.open(Xt,577);Nt.write(xi,wt,0,wt.length,0,Vt),Nt.close(xi),Nt.chmod(Xt,Yt)}},createDevice(at,gt,wt,Lt){var Yt;var Rt=Zi.join2(typeof at=="string"?at:Nt.getPath(at),gt),Vt=es(!!wt,!!Lt);(Yt=Nt.createDevice).major??(Yt.major=64);var Ut=Nt.makedev(Nt.createDevice.major++,0);return Nt.registerDevice(Ut,{open(Xt){Xt.seekable=!1},close(Xt){var ni;(ni=Lt==null?void 0:Lt.buffer)!=null&&ni.length&&Lt(10)},read(Xt,ni,li,wi,xi){for(var _i=0,pi=0;pi<wi;pi++){var Ai;try{Ai=wt()}catch{throw new Nt.ErrnoError(29)}if(Ai===void 0&&_i===0)throw new Nt.ErrnoError(6);if(Ai==null)break;_i++,ni[li+pi]=Ai}return _i&&(Xt.node.atime=Date.now()),_i},write(Xt,ni,li,wi,xi){for(var _i=0;_i<wi;_i++)try{Lt(ni[li+_i])}catch{throw new Nt.ErrnoError(29)}return wi&&(Xt.node.mtime=Xt.node.ctime=Date.now()),_i}}),Nt.mkdev(Rt,Vt,Ut)},forceLoadFile(at){if(at.isDevice||at.isFolder||at.link||at.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{at.contents=st(at.url),at.usedBytes=at.contents.length}catch{throw new Nt.ErrnoError(29)}},createLazyFile(at,gt,wt,Lt,Rt){class Vt{constructor(){bt(this,"lengthKnown",!1);bt(this,"chunks",[])}get(_i){if(!(_i>this.length-1||_i<0)){var pi=_i%this.chunkSize,Ai=_i/this.chunkSize|0;return this.getter(Ai)[pi]}}setDataGetter(_i){this.getter=_i}cacheLength(){var _i=new XMLHttpRequest;if(_i.open("HEAD",wt,!1),_i.send(null),!(_i.status>=200&&_i.status<300||_i.status===304))throw new Error("Couldn't load "+wt+". Status: "+_i.status);var pi=Number(_i.getResponseHeader("Content-length")),Ai,Fi=(Ai=_i.getResponseHeader("Accept-Ranges"))&&Ai==="bytes",Bi=(Ai=_i.getResponseHeader("Content-Encoding"))&&Ai==="gzip",Ki=1024*1024;Fi||(Ki=pi);var Yi=(us,Ss)=>{if(us>Ss)throw new Error("invalid range ("+us+", "+Ss+") or no bytes requested!");if(Ss>pi-1)throw new Error("only "+pi+" bytes available! programmer error!");var rs=new XMLHttpRequest;if(rs.open("GET",wt,!1),pi!==Ki&&rs.setRequestHeader("Range","bytes="+us+"-"+Ss),rs.responseType="arraybuffer",rs.overrideMimeType&&rs.overrideMimeType("text/plain; charset=x-user-defined"),rs.send(null),!(rs.status>=200&&rs.status<300||rs.status===304))throw new Error("Couldn't load "+wt+". Status: "+rs.status);return rs.response!==void 0?new Uint8Array(rs.response||[]):Ds(rs.responseText||"")},ns=this;ns.setDataGetter(us=>{var Ss=us*Ki,rs=(us+1)*Ki-1;if(rs=Math.min(rs,pi-1),typeof ns.chunks[us]>"u"&&(ns.chunks[us]=Yi(Ss,rs)),typeof ns.chunks[us]>"u")throw new Error("doXHR failed!");return ns.chunks[us]}),(Bi||!pi)&&(Ki=pi=1,pi=this.getter(0).length,Ki=pi,ot("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=pi,this._chunkSize=Ki,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ut=new Vt,Yt={isDevice:!1,contents:Ut}}else var Yt={isDevice:!1,url:wt};var Xt=Nt.createFile(at,gt,Yt,Lt,Rt);Yt.contents?Xt.contents=Yt.contents:Yt.url&&(Xt.contents=null,Xt.url=Yt.url),Object.defineProperties(Xt,{usedBytes:{get:function(){return this.contents.length}}});var ni={},li=Object.keys(Xt.stream_ops);li.forEach(xi=>{var _i=Xt.stream_ops[xi];ni[xi]=(...pi)=>(Nt.forceLoadFile(Xt),_i(...pi))});function wi(xi,_i,pi,Ai,Fi){var Bi=xi.node.contents;if(Fi>=Bi.length)return 0;var Ki=Math.min(Bi.length-Fi,Ai);if(ft(Ki>=0),Bi.slice)for(var Yi=0;Yi<Ki;Yi++)_i[pi+Yi]=Bi[Fi+Yi];else for(var Yi=0;Yi<Ki;Yi++)_i[pi+Yi]=Bi.get(Fi+Yi);return Ki}return ni.read=(xi,_i,pi,Ai,Fi)=>(Nt.forceLoadFile(Xt),wi(xi,_i,pi,Ai,Fi)),ni.mmap=(xi,_i,pi,Ai,Fi)=>{Nt.forceLoadFile(Xt);var Bi=Vs();if(!Bi)throw new Nt.ErrnoError(48);return wi(xi,Dt,Bi,_i,pi),{ptr:Bi,allocated:!0}},Xt.stream_ops=ni,Xt},absolutePath(){ki("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder(){ki("FS.createFolder has been removed; use FS.mkdir instead")},createLink(){ki("FS.createLink has been removed; use FS.symlink instead")},joinPath(){ki("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc(){ki("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath(){ki("FS.standardizePath has been removed; use PATH.normalize instead")}},ts={DEFAULT_POLLMASK:5,calculateAt(at,gt,wt){if(Zi.isAbs(gt))return gt;var Lt;if(at===-100)Lt=Nt.cwd();else{var Rt=ts.getStreamFromFD(at);Lt=Rt.path}if(gt.length==0){if(!wt)throw new Nt.ErrnoError(44);return Lt}return Lt+"/"+gt},writeStat(at,gt){Ft[at>>2]=gt.dev,Ft[at+4>>2]=gt.mode,jt[at+8>>2]=gt.nlink,Ft[at+12>>2]=gt.uid,Ft[at+16>>2]=gt.gid,Ft[at+20>>2]=gt.rdev,Pt[at+24>>3]=BigInt(gt.size),Ft[at+32>>2]=4096,Ft[at+36>>2]=gt.blocks;var wt=gt.atime.getTime(),Lt=gt.mtime.getTime(),Rt=gt.ctime.getTime();return Pt[at+40>>3]=BigInt(Math.floor(wt/1e3)),jt[at+48>>2]=wt%1e3*1e3*1e3,Pt[at+56>>3]=BigInt(Math.floor(Lt/1e3)),jt[at+64>>2]=Lt%1e3*1e3*1e3,Pt[at+72>>3]=BigInt(Math.floor(Rt/1e3)),jt[at+80>>2]=Rt%1e3*1e3*1e3,Pt[at+88>>3]=BigInt(gt.ino),0},writeStatFs(at,gt){Ft[at+4>>2]=gt.bsize,Ft[at+40>>2]=gt.bsize,Ft[at+8>>2]=gt.blocks,Ft[at+12>>2]=gt.bfree,Ft[at+16>>2]=gt.bavail,Ft[at+20>>2]=gt.files,Ft[at+24>>2]=gt.ffree,Ft[at+28>>2]=gt.fsid,Ft[at+44>>2]=gt.flags,Ft[at+36>>2]=gt.namelen},doMsync(at,gt,wt,Lt,Rt){if(!Nt.isFile(gt.node.mode))throw new Nt.ErrnoError(43);if(Lt&2)return 0;var Vt=Mt.slice(at,at+wt);Nt.msync(gt,Vt,Rt,wt,Lt)},getStreamFromFD(at){var gt=Nt.getStreamChecked(at);return gt},varargs:void 0,getStr(at){var gt=qi(at);return gt}};function Is(at,gt,wt){ts.varargs=wt;try{var Lt=ts.getStreamFromFD(at);switch(gt){case 0:{var Rt=fs();if(Rt<0)return-28;for(;Nt.streams[Rt];)Rt++;var Vt;return Vt=Nt.dupStream(Lt,Rt),Vt.fd}case 1:case 2:return 0;case 3:return Lt.flags;case 4:{var Rt=fs();return Lt.flags|=Rt,0}case 12:{var Rt=vs(),Ut=0;return $t[Rt+Ut>>1]=2,0}case 13:case 14:return 0}return-28}catch(Yt){if(typeof Nt>"u"||Yt.name!=="ErrnoError")throw Yt;return-Yt.errno}}var _s=(at,gt,wt)=>(ft(typeof wt=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Ps(at,Mt,gt,wt));function os(at,gt,wt){try{var Lt=ts.getStreamFromFD(at);Lt.getdents||(Lt.getdents=Nt.readdir(Lt.path));for(var Rt=280,Vt=0,Ut=Nt.llseek(Lt,0,1),Yt=Math.floor(Ut/Rt),Xt=Math.min(Lt.getdents.length,Yt+Math.floor(wt/Rt)),ni=Yt;ni<Xt;ni++){var li,wi,xi=Lt.getdents[ni];if(xi===".")li=Lt.node.id,wi=4;else if(xi===".."){var _i=Nt.lookupPath(Lt.path,{parent:!0});li=_i.node.id,wi=4}else{var pi;try{pi=Nt.lookupNode(Lt.node,xi)}catch(Ai){if((Ai==null?void 0:Ai.errno)===28)continue;throw Ai}li=pi.id,wi=Nt.isChrdev(pi.mode)?2:Nt.isDir(pi.mode)?4:Nt.isLink(pi.mode)?10:8}ft(li),Pt[gt+Vt>>3]=BigInt(li),Pt[gt+Vt+8>>3]=BigInt((ni+1)*Rt),$t[gt+Vt+16>>1]=280,Dt[gt+Vt+18]=wi,_s(xi,gt+Vt+19,256),Vt+=Rt}return Nt.llseek(Lt,ni*Rt,0),Vt}catch(Ai){if(typeof Nt>"u"||Ai.name!=="ErrnoError")throw Ai;return-Ai.errno}}function nn(at,gt,wt){ts.varargs=wt;try{var Lt=ts.getStreamFromFD(at);switch(gt){case 21509:return Lt.tty?0:-59;case 21505:{if(!Lt.tty)return-59;if(Lt.tty.ops.ioctl_tcgets){var Rt=Lt.tty.ops.ioctl_tcgets(Lt),Vt=vs();Ft[Vt>>2]=Rt.c_iflag||0,Ft[Vt+4>>2]=Rt.c_oflag||0,Ft[Vt+8>>2]=Rt.c_cflag||0,Ft[Vt+12>>2]=Rt.c_lflag||0;for(var Ut=0;Ut<32;Ut++)Dt[Vt+Ut+17]=Rt.c_cc[Ut]||0;return 0}return 0}case 21510:case 21511:case 21512:return Lt.tty?0:-59;case 21506:case 21507:case 21508:{if(!Lt.tty)return-59;if(Lt.tty.ops.ioctl_tcsets){for(var Vt=vs(),Yt=Ft[Vt>>2],Xt=Ft[Vt+4>>2],ni=Ft[Vt+8>>2],li=Ft[Vt+12>>2],wi=[],Ut=0;Ut<32;Ut++)wi.push(Dt[Vt+Ut+17]);return Lt.tty.ops.ioctl_tcsets(Lt.tty,gt,{c_iflag:Yt,c_oflag:Xt,c_cflag:ni,c_lflag:li,c_cc:wi})}return 0}case 21519:{if(!Lt.tty)return-59;var Vt=vs();return Ft[Vt>>2]=0,0}case 21520:return Lt.tty?-28:-59;case 21531:{var Vt=vs();return Nt.ioctl(Lt,gt,Vt)}case 21523:{if(!Lt.tty)return-59;if(Lt.tty.ops.ioctl_tiocgwinsz){var xi=Lt.tty.ops.ioctl_tiocgwinsz(Lt.tty),Vt=vs();$t[Vt>>1]=xi[0],$t[Vt+2>>1]=xi[1]}return 0}case 21524:return Lt.tty?0:-59;case 21515:return Lt.tty?0:-59;default:return-28}}catch(_i){if(typeof Nt>"u"||_i.name!=="ErrnoError")throw _i;return-_i.errno}}function js(at,gt,wt,Lt){ts.varargs=Lt;try{gt=ts.getStr(gt),gt=ts.calculateAt(at,gt);var Rt=Lt?fs():0;return Nt.open(gt,wt,Rt).fd}catch(Vt){if(typeof Nt>"u"||Vt.name!=="ErrnoError")throw Vt;return-Vt.errno}}var cr=()=>ki("native code called abort()"),ls=at=>{for(var gt="";;){var wt=Mt[at++];if(!wt)return gt;gt+=String.fromCharCode(wt)}},Bs={},ks={},rn={},Ws=class extends Error{constructor(gt){super(gt),this.name="BindingError"}},Ji=at=>{throw new Ws(at)};function Fn(at,gt,wt={}){var Lt=gt.name;if(at||Ji(`type "${Lt}" must have a positive integer typeid pointer`),ks.hasOwnProperty(at)){if(wt.ignoreDuplicateRegistrations)return;Ji(`Cannot register type '${Lt}' twice`)}if(ks[at]=gt,delete rn[at],Bs.hasOwnProperty(at)){var Rt=Bs[at];delete Bs[at],Rt.forEach(Vt=>Vt())}}function ms(at,gt,wt={}){if(gt.argPackAdvance===void 0)throw new TypeError("registerType registeredInstance requires argPackAdvance");return Fn(at,gt,wt)}var an=(at,gt,wt)=>{switch(gt){case 1:return wt?Lt=>Dt[Lt]:Lt=>Mt[Lt];case 2:return wt?Lt=>$t[Lt>>1]:Lt=>Ht[Lt>>1];case 4:return wt?Lt=>Ft[Lt>>2]:Lt=>jt[Lt>>2];case 8:return wt?Lt=>Pt[Lt>>3]:Lt=>kt[Lt>>3];default:throw new TypeError(`invalid integer width (${gt}): ${at}`)}},Rs=at=>{if(at===null)return"null";var gt=typeof at;return gt==="object"||gt==="array"||gt==="function"?at.toString():""+at},wn=(at,gt,wt,Lt)=>{if(gt<wt||gt>Lt)throw new TypeError(`Passing a number "${Rs(gt)}" from JS side to C/C++ side to an argument of type "${at}", which is outside the valid range [${wt}, ${Lt}]!`)},ur=(at,gt,wt,Lt,Rt)=>{gt=ls(gt);const Vt=Lt===0n;let Ut=Yt=>Yt;if(Vt){const Yt=wt*8;Ut=Xt=>BigInt.asUintN(Yt,Xt),Rt=Ut(Rt)}ms(at,{name:gt,fromWireType:Ut,toWireType:(Yt,Xt)=>{if(typeof Xt=="number")Xt=BigInt(Xt);else if(typeof Xt!="bigint")throw new TypeError(`Cannot convert "${Rs(Xt)}" to ${this.name}`);return wn(gt,Xt,Lt,Rt),Xt},argPackAdvance:ys,readValueFromPointer:an(gt,wt,!Vt),destructorFunction:null})},ys=8,hr=(at,gt,wt,Lt)=>{gt=ls(gt),ms(at,{name:gt,fromWireType:function(Rt){return!!Rt},toWireType:function(Rt,Vt){return Vt?wt:Lt},argPackAdvance:ys,readValueFromPointer:function(Rt){return this.fromWireType(Mt[Rt])},destructorFunction:null})},Hn=at=>({count:at.count,deleteScheduled:at.deleteScheduled,preservePointerOnDelete:at.preservePointerOnDelete,ptr:at.ptr,ptrType:at.ptrType,smartPtr:at.smartPtr,smartPtrType:at.smartPtrType}),xn=at=>{function gt(wt){return wt.$$.ptrType.registeredClass.name}Ji(gt(at)+" instance already deleted")},ln=!1,Gn=at=>{},En=at=>{at.smartPtr?at.smartPtrType.rawDestructor(at.smartPtr):at.ptrType.registeredClass.rawDestructor(at.ptr)},zn=at=>{at.count.value-=1;var gt=at.count.value===0;gt&&En(at)},Sn=(at,gt,wt)=>{if(gt===wt)return at;if(wt.baseClass===void 0)return null;var Lt=Sn(at,gt,wt.baseClass);return Lt===null?null:wt.downcast(Lt)},Un={},jn={},gr=(at,gt)=>{for(gt===void 0&&Ji("ptr should not be undefined");at.baseClass;)gt=at.upcast(gt),at=at.baseClass;return gt},pr=(at,gt)=>(gt=gr(at,gt),jn[gt]),fr=class extends Error{constructor(gt){super(gt),this.name="InternalError"}},Ys=at=>{throw new fr(at)},dn=(at,gt)=>{(!gt.ptrType||!gt.ptr)&&Ys("makeClassHandle requires ptr and ptrType");var wt=!!gt.smartPtrType,Lt=!!gt.smartPtr;return wt!==Lt&&Ys("Both smartPtrType and smartPtr must be specified"),gt.count={value:1},Xs(Object.create(at,{$$:{value:gt,writable:!0}}))};function cn(at){var gt=this.getPointee(at);if(!gt)return this.destructor(at),null;var wt=pr(this.registeredClass,gt);if(wt!==void 0){if(wt.$$.count.value===0)return wt.$$.ptr=gt,wt.$$.smartPtr=at,wt.clone();var Lt=wt.clone();return this.destructor(at),Lt}function Rt(){return this.isSmartPointer?dn(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:gt,smartPtrType:this,smartPtr:at}):dn(this.registeredClass.instancePrototype,{ptrType:this,ptr:at})}var Vt=this.registeredClass.getActualType(gt),Ut=Un[Vt];if(!Ut)return Rt.call(this);var Yt;this.isConst?Yt=Ut.constPointerType:Yt=Ut.pointerType;var Xt=Sn(gt,this.registeredClass,Yt.registeredClass);return Xt===null?Rt.call(this):this.isSmartPointer?dn(Yt.registeredClass.instancePrototype,{ptrType:Yt,ptr:Xt,smartPtrType:this,smartPtr:at}):dn(Yt.registeredClass.instancePrototype,{ptrType:Yt,ptr:Xt})}var Xs=at=>typeof FinalizationRegistry>"u"?(Xs=gt=>gt,at):(ln=new FinalizationRegistry(gt=>{console.warn(gt.leakWarning),zn(gt.$$)}),Xs=gt=>{var wt=gt.$$,Lt=!!wt.smartPtr;if(Lt){var Rt={$$:wt},Vt=wt.ptrType.registeredClass,Ut=new Error(`Embind found a leaked C++ instance ${Vt.name} <${Mi(wt.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`);"captureStackTrace"in Error&&Error.captureStackTrace(Ut,cn),Rt.leakWarning=Ut.stack.replace(/^Error: /,""),ln.register(gt,Rt,gt)}return gt},Gn=gt=>ln.unregister(gt),Xs(at)),kr=()=>{let at=Tn.prototype;Object.assign(at,{isAliasOf(wt){if(!(this instanceof Tn)||!(wt instanceof Tn))return!1;var Lt=this.$$.ptrType.registeredClass,Rt=this.$$.ptr;wt.$$=wt.$$;for(var Vt=wt.$$.ptrType.registeredClass,Ut=wt.$$.ptr;Lt.baseClass;)Rt=Lt.upcast(Rt),Lt=Lt.baseClass;for(;Vt.baseClass;)Ut=Vt.upcast(Ut),Vt=Vt.baseClass;return Lt===Vt&&Rt===Ut},clone(){if(this.$$.ptr||xn(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var wt=Xs(Object.create(Object.getPrototypeOf(this),{$$:{value:Hn(this.$$)}}));return wt.$$.count.value+=1,wt.$$.deleteScheduled=!1,wt},delete(){this.$$.ptr||xn(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ji("Object already scheduled for deletion"),Gn(this),zn(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||xn(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ji("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const gt=Symbol.dispose;gt&&(at[gt]=at.delete)};function Tn(){}var Cn=(at,gt)=>Object.defineProperty(gt,"name",{value:at}),An=(at,gt,wt)=>{if(at[gt].overloadTable===void 0){var Lt=at[gt];at[gt]=function(...Rt){return at[gt].overloadTable.hasOwnProperty(Rt.length)||Ji(`Function '${wt}' called with an invalid number of arguments (${Rt.length}) - expects one of (${at[gt].overloadTable})!`),at[gt].overloadTable[Rt.length].apply(this,Rt)},at[gt].overloadTable=[],at[gt].overloadTable[Lt.argCount]=Lt}},Ln=(at,gt,wt)=>{T.hasOwnProperty(at)?((wt===void 0||T[at].overloadTable!==void 0&&T[at].overloadTable[wt]!==void 0)&&Ji(`Cannot register public name '${at}' twice`),An(T,at,at),T[at].overloadTable.hasOwnProperty(wt)&&Ji(`Cannot register multiple overloads of a function with the same number of arguments (${wt})!`),T[at].overloadTable[wt]=gt):(T[at]=gt,T[at].argCount=wt)},Or=48,Mr=57,Pr=at=>{ft(typeof at=="string"),at=at.replace(/[^a-zA-Z0-9_]/g,"$");var gt=at.charCodeAt(0);return gt>=Or&&gt<=Mr?`_${at}`:at};function Wn(at,gt,wt,Lt,Rt,Vt,Ut,Yt){this.name=at,this.constructor=gt,this.instancePrototype=wt,this.rawDestructor=Lt,this.baseClass=Rt,this.getActualType=Vt,this.upcast=Ut,this.downcast=Yt,this.pureVirtualFunctions=[]}var un=(at,gt,wt)=>{for(;gt!==wt;)gt.upcast||Ji(`Expected null or instance of ${wt.name}, got an instance of ${gt.name}`),at=gt.upcast(at),gt=gt.baseClass;return at};function In(at,gt){if(gt===null)return this.isReference&&Ji(`null is not a valid ${this.name}`),0;gt.$$||Ji(`Cannot pass "${Rs(gt)}" as a ${this.name}`),gt.$$.ptr||Ji(`Cannot pass deleted object as a pointer of type ${this.name}`);var wt=gt.$$.ptrType.registeredClass,Lt=un(gt.$$.ptr,wt,this.registeredClass);return Lt}function vr(at,gt){var wt;if(gt===null)return this.isReference&&Ji(`null is not a valid ${this.name}`),this.isSmartPointer?(wt=this.rawConstructor(),at!==null&&at.push(this.rawDestructor,wt),wt):0;(!gt||!gt.$$)&&Ji(`Cannot pass "${Rs(gt)}" as a ${this.name}`),gt.$$.ptr||Ji(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&gt.$$.ptrType.isConst&&Ji(`Cannot convert argument of type ${gt.$$.smartPtrType?gt.$$.smartPtrType.name:gt.$$.ptrType.name} to parameter type ${this.name}`);var Lt=gt.$$.ptrType.registeredClass;if(wt=un(gt.$$.ptr,Lt,this.registeredClass),this.isSmartPointer)switch(gt.$$.smartPtr===void 0&&Ji("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:gt.$$.smartPtrType===this?wt=gt.$$.smartPtr:Ji(`Cannot convert argument of type ${gt.$$.smartPtrType?gt.$$.smartPtrType.name:gt.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:wt=gt.$$.smartPtr;break;case 2:if(gt.$$.smartPtrType===this)wt=gt.$$.smartPtr;else{var Rt=gt.clone();wt=this.rawShare(wt,ps.toHandle(()=>Rt.delete())),at!==null&&at.push(this.rawDestructor,wt)}break;default:Ji("Unsupporting sharing policy")}return wt}function Yn(at,gt){if(gt===null)return this.isReference&&Ji(`null is not a valid ${this.name}`),0;gt.$$||Ji(`Cannot pass "${Rs(gt)}" as a ${this.name}`),gt.$$.ptr||Ji(`Cannot pass deleted object as a pointer of type ${this.name}`),gt.$$.ptrType.isConst&&Ji(`Cannot convert argument of type ${gt.$$.ptrType.name} to parameter type ${this.name}`);var wt=gt.$$.ptrType.registeredClass,Lt=un(gt.$$.ptr,wt,this.registeredClass);return Lt}function hn(at){return this.fromWireType(jt[at>>2])}var Xn=()=>{Object.assign(gn.prototype,{getPointee(at){return this.rawGetPointee&&(at=this.rawGetPointee(at)),at},destructor(at){var gt;(gt=this.rawDestructor)==null||gt.call(this,at)},argPackAdvance:ys,readValueFromPointer:hn,fromWireType:cn})};function gn(at,gt,wt,Lt,Rt,Vt,Ut,Yt,Xt,ni,li){this.name=at,this.registeredClass=gt,this.isReference=wt,this.isConst=Lt,this.isSmartPointer=Rt,this.pointeeType=Vt,this.sharingPolicy=Ut,this.rawGetPointee=Yt,this.rawConstructor=Xt,this.rawShare=ni,this.rawDestructor=li,!Rt&&gt.baseClass===void 0?Lt?(this.toWireType=In,this.destructorFunction=null):(this.toWireType=Yn,this.destructorFunction=null):this.toWireType=vr}var kn=(at,gt,wt)=>{T.hasOwnProperty(at)||Ys("Replacing nonexistent public symbol"),T[at].overloadTable!==void 0&&wt!==void 0?T[at].overloadTable[wt]=gt:(T[at]=gt,T[at].argCount=wt)},On=[],ws,qs=at=>{var gt=On[at];return gt||(On[at]=gt=ws.get(at)),ft(ws.get(at)==gt,"JavaScript-side Wasm function table mirror is out of date!"),gt},Os=(at,gt,wt=!1)=>{ft(!wt,"Async bindings are only supported with JSPI."),at=ls(at);function Lt(){var Vt=qs(gt);return Vt}var Rt=Lt();return typeof Rt!="function"&&Ji(`unknown function pointer with signature ${at}: ${gt}`),Rt};class Dr extends Error{}var _r=at=>{var gt=Ca(at),wt=ls(gt);return Ks(gt),wt},Ns=(at,gt)=>{var wt=[],Lt={};function Rt(Vt){if(!Lt[Vt]&&!ks[Vt]){if(rn[Vt]){rn[Vt].forEach(Rt);return}wt.push(Vt),Lt[Vt]=!0}}throw gt.forEach(Rt),new Dr(`${at}: `+wt.map(_r).join([", "]))},Cs=(at,gt,wt)=>{at.forEach(Yt=>rn[Yt]=gt);function Lt(Yt){var Xt=wt(Yt);Xt.length!==at.length&&Ys("Mismatched type converter count");for(var ni=0;ni<at.length;++ni)ms(at[ni],Xt[ni])}var Rt=new Array(gt.length),Vt=[],Ut=0;gt.forEach((Yt,Xt)=>{ks.hasOwnProperty(Yt)?Rt[Xt]=ks[Yt]:(Vt.push(Yt),Bs.hasOwnProperty(Yt)||(Bs[Yt]=[]),Bs[Yt].push(()=>{Rt[Xt]=ks[Yt],++Ut,Ut===Vt.length&&Lt(Rt)}))}),Vt.length===0&&Lt(Rt)},Mn=(at,gt,wt,Lt,Rt,Vt,Ut,Yt,Xt,ni,li,wi,xi)=>{li=ls(li),Vt=Os(Rt,Vt),Yt&&(Yt=Os(Ut,Yt)),ni&&(ni=Os(Xt,ni)),xi=Os(wi,xi);var _i=Pr(li);Ln(_i,function(){Ns(`Cannot construct ${li} due to unbound types`,[Lt])}),Cs([at,gt,wt],Lt?[Lt]:[],pi=>{var rs;pi=pi[0];var Ai,Fi;Lt?(Ai=pi.registeredClass,Fi=Ai.instancePrototype):Fi=Tn.prototype;var Bi=Cn(li,function(...Gs){if(Object.getPrototypeOf(this)!==Ki)throw new Ws(`Use 'new' to construct ${li}`);if(Yi.constructor_body===void 0)throw new Ws(`${li} has no accessible constructor`);var _n=Yi.constructor_body[Gs.length];if(_n===void 0)throw new Ws(`Tried to invoke ctor of ${li} with invalid number of parameters (${Gs.length}) - expected (${Object.keys(Yi.constructor_body).toString()}) parameters instead!`);return _n.apply(this,Gs)}),Ki=Object.create(Fi,{constructor:{value:Bi}});Bi.prototype=Ki;var Yi=new Wn(li,Bi,Ki,xi,Ai,Vt,Yt,ni);Yi.baseClass&&((rs=Yi.baseClass).__derivedClasses??(rs.__derivedClasses=[]),Yi.baseClass.__derivedClasses.push(Yi));var ns=new gn(li,Yi,!0,!1,!1),us=new gn(li+"*",Yi,!1,!1,!1),Ss=new gn(li+" const*",Yi,!1,!0,!1);return Un[at]={pointerType:us,constPointerType:Ss},kn(_i,Bi),[ns,us,Ss]})},Pn=(at,gt)=>{for(var wt=[],Lt=0;Lt<at;Lt++)wt.push(jt[gt+Lt*4>>2]);return wt},qn=at=>{for(;at.length;){var gt=at.pop(),wt=at.pop();wt(gt)}};function mr(at){for(var gt=1;gt<at.length;++gt)if(at[gt]!==null&&at[gt].destructorFunction===void 0)return!0;return!1}function Rr(at,gt,wt,Lt,Rt){if(at<gt||at>wt){var Vt=gt==wt?gt:`${gt} to ${wt}`;Rt(`function ${Lt} called with ${at} arguments, expected ${Vt}`)}}function Kn(at,gt,wt,Lt){var Rt=mr(at),Vt=at.length-2,Ut=[],Yt=["fn"];gt&&Yt.push("thisWired");for(var Xt=0;Xt<Vt;++Xt)Ut.push(`arg${Xt}`),Yt.push(`arg${Xt}Wired`);Ut=Ut.join(","),Yt=Yt.join(",");var ni=`return function (${Ut}) {
`;ni+=`checkArgCount(arguments.length, minArgs, maxArgs, humanName, throwBindingError);
`,Rt&&(ni+=`var destructors = [];
`);var li=Rt?"destructors":"null",wi=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];gt&&(ni+=`var thisWired = classParam['toWireType'](${li}, this);
`);for(var Xt=0;Xt<Vt;++Xt)ni+=`var arg${Xt}Wired = argType${Xt}['toWireType'](${li}, arg${Xt});
`,wi.push(`argType${Xt}`);if(ni+=(wt||Lt?"var rv = ":"")+`invoker(${Yt});
`,Rt)ni+=`runDestructors(destructors);
`;else for(var Xt=gt?1:2;Xt<at.length;++Xt){var xi=Xt===1?"thisWired":"arg"+(Xt-2)+"Wired";at[Xt].destructorFunction!==null&&(ni+=`${xi}_dtor(${xi});
`,wi.push(`${xi}_dtor`))}return wt&&(ni+=`var ret = retType['fromWireType'](rv);
return ret;
`),ni+=`}
`,wi.push("checkArgCount","minArgs","maxArgs"),ni=`if (arguments.length !== ${wi.length}){ throw new Error(humanName + "Expected ${wi.length} closure arguments " + arguments.length + " given."); }
${ni}`,[wi,ni]}function br(at){for(var gt=at.length-2,wt=at.length-1;wt>=2&&at[wt].optional;--wt)gt--;return gt}function pn(at,gt,wt,Lt,Rt,Vt){var Ut=gt.length;Ut<2&&Ji("argTypes array size mismatch! Must at least get return value and 'this' types!"),ft(!Vt,"Async bindings are only supported with JSPI.");for(var Yt=gt[1]!==null&&wt!==null,Xt=mr(gt),ni=gt[0].name!=="void",li=Ut-2,wi=br(gt),xi=[at,Ji,Lt,Rt,qn,gt[0],gt[1]],_i=0;_i<Ut-2;++_i)xi.push(gt[_i+2]);if(!Xt)for(var _i=Yt?1:2;_i<gt.length;++_i)gt[_i].destructorFunction!==null&&xi.push(gt[_i].destructorFunction);xi.push(Rr,wi,li);let[pi,Ai]=Kn(gt,Yt,ni,Vt);var Fi=new Function(...pi,Ai)(...xi);return Cn(at,Fi)}var yr=(at,gt,wt,Lt,Rt,Vt)=>{ft(gt>0);var Ut=Pn(gt,wt);Rt=Os(Lt,Rt),Cs([],[at],Yt=>{Yt=Yt[0];var Xt=`constructor ${Yt.name}`;if(Yt.registeredClass.constructor_body===void 0&&(Yt.registeredClass.constructor_body=[]),Yt.registeredClass.constructor_body[gt-1]!==void 0)throw new Ws(`Cannot register multiple constructors with identical number of parameters (${gt-1}) for class '${Yt.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Yt.registeredClass.constructor_body[gt-1]=()=>{Ns(`Cannot construct ${Yt.name} due to unbound types`,Ut)},Cs([],Ut,ni=>(ni.splice(1,0,null),Yt.registeredClass.constructor_body[gt-1]=pn(Xt,ni,null,Rt,Vt),[])),[]})},Jn=at=>{at=at.trim();const gt=at.indexOf("(");return gt===-1?at:(ft(at.endsWith(")"),"Parentheses for argument names should match."),at.slice(0,gt))},wr=(at,gt,wt,Lt,Rt,Vt,Ut,Yt,Xt,ni)=>{var li=Pn(wt,Lt);gt=ls(gt),gt=Jn(gt),Vt=Os(Rt,Vt,Xt),Cs([],[at],wi=>{wi=wi[0];var xi=`${wi.name}.${gt}`;gt.startsWith("@@")&&(gt=Symbol[gt.substring(2)]),Yt&&wi.registeredClass.pureVirtualFunctions.push(gt);function _i(){Ns(`Cannot call ${xi} due to unbound types`,li)}var pi=wi.registeredClass.instancePrototype,Ai=pi[gt];return Ai===void 0||Ai.overloadTable===void 0&&Ai.className!==wi.name&&Ai.argCount===wt-2?(_i.argCount=wt-2,_i.className=wi.name,pi[gt]=_i):(An(pi,gt,xi),pi[gt].overloadTable[wt-2]=_i),Cs([],li,Fi=>{var Bi=pn(xi,Fi,wi,Vt,Ut,Xt);return pi[gt].overloadTable===void 0?(Bi.argCount=wt-2,pi[gt]=Bi):pi[gt].overloadTable[wt-2]=Bi,[]}),[]})},Zn=(at,gt,wt)=>(at instanceof Object||Ji(`${wt} with invalid "this": ${at}`),at instanceof gt.registeredClass.constructor||Ji(`${wt} incompatible with "this" of type ${at.constructor.name}`),at.$$.ptr||Ji(`cannot call emscripten binding method ${wt} on deleted object`),un(at.$$.ptr,at.$$.ptrType.registeredClass,gt.registeredClass)),xr=(at,gt,wt,Lt,Rt,Vt,Ut,Yt,Xt,ni)=>{gt=ls(gt),Rt=Os(Lt,Rt),Cs([],[at],li=>{li=li[0];var wi=`${li.name}.${gt}`,xi={get(){Ns(`Cannot access ${wi} due to unbound types`,[wt,Ut])},enumerable:!0,configurable:!0};return Xt?xi.set=()=>Ns(`Cannot access ${wi} due to unbound types`,[wt,Ut]):xi.set=_i=>Ji(wi+" is a read-only property"),Object.defineProperty(li.registeredClass.instancePrototype,gt,xi),Cs([],Xt?[wt,Ut]:[wt],_i=>{var pi=_i[0],Ai={get(){var Bi=Zn(this,li,wi+" getter");return pi.fromWireType(Rt(Vt,Bi))},enumerable:!0};if(Xt){Xt=Os(Yt,Xt);var Fi=_i[1];Ai.set=function(Bi){var Ki=Zn(this,li,wi+" setter"),Yi=[];Xt(ni,Ki,Fi.toWireType(Yi,Bi)),qn(Yi)}}return Object.defineProperty(li.registeredClass.instancePrototype,gt,Ai),[]}),[]})},Er=(at,gt,wt)=>{at=ls(at),Cs([],[gt],Lt=>(Lt=Lt[0],T[at]=Lt.fromWireType(wt),[]))},Qn=[],Es=[0,1,,1,null,1,!0,1,!1,1],Dn=at=>{at>9&&--Es[at+1]===0&&(ft(Es[at]!==void 0,"Decref for unallocated handle."),Es[at]=void 0,Qn.push(at))},ps={toValue:at=>(at||Ji(`Cannot use deleted val. handle = ${at}`),ft(at===2||Es[at]!==void 0&&at%2===0,`invalid handle: ${at}`),Es[at]),toHandle:at=>{switch(at){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const gt=Qn.pop()||Es.length;return Es[gt]=at,Es[gt+1]=1,gt}}}},Sr={name:"emscripten::val",fromWireType:at=>{var gt=ps.toValue(at);return Dn(at),gt},toWireType:(at,gt)=>ps.toHandle(gt),argPackAdvance:ys,readValueFromPointer:hn,destructorFunction:null},Nr=at=>ms(at,Sr),vi=(at,gt,wt)=>{switch(gt){case 1:return wt?function(Lt){return this.fromWireType(Dt[Lt])}:function(Lt){return this.fromWireType(Mt[Lt])};case 2:return wt?function(Lt){return this.fromWireType($t[Lt>>1])}:function(Lt){return this.fromWireType(Ht[Lt>>1])};case 4:return wt?function(Lt){return this.fromWireType(Ft[Lt>>2])}:function(Lt){return this.fromWireType(jt[Lt>>2])};default:throw new TypeError(`invalid integer width (${gt}): ${at}`)}},Rn=(at,gt,wt,Lt)=>{gt=ls(gt);function Rt(){}Rt.values={},ms(at,{name:gt,constructor:Rt,fromWireType:function(Vt){return this.constructor.values[Vt]},toWireType:(Vt,Ut)=>Ut.value,argPackAdvance:ys,readValueFromPointer:vi(gt,wt,Lt),destructorFunction:null}),Ln(gt,Rt)},Fs=(at,gt)=>{var wt=ks[at];return wt===void 0&&Ji(`${gt} has unknown type ${_r(at)}`),wt},Tr=(at,gt,wt)=>{var Lt=Fs(at,"enum");gt=ls(gt);var Rt=Lt.constructor,Vt=Object.create(Lt.constructor.prototype,{value:{value:wt},constructor:{value:Cn(`${Lt.name}_${gt}`,function(){})}});Rt.values[wt]=Vt,Rt[gt]=Vt},Cr=(at,gt)=>{switch(gt){case 4:return function(wt){return this.fromWireType(Gt[wt>>2])};case 8:return function(wt){return this.fromWireType(Kt[wt>>3])};default:throw new TypeError(`invalid float width (${gt}): ${at}`)}},$r=(at,gt,wt)=>{gt=ls(gt),ms(at,{name:gt,fromWireType:Lt=>Lt,toWireType:(Lt,Rt)=>{if(typeof Rt!="number"&&typeof Rt!="boolean")throw new TypeError(`Cannot convert ${Rs(Rt)} to ${this.name}`);return Rt},argPackAdvance:ys,readValueFromPointer:Cr(gt,wt),destructorFunction:null})},Vr=(at,gt,wt,Lt,Rt,Vt,Ut,Yt)=>{var Xt=Pn(gt,wt);at=ls(at),at=Jn(at),Rt=Os(Lt,Rt,Ut),Ln(at,function(){Ns(`Cannot call ${at} due to unbound types`,Xt)},gt-1),Cs([],Xt,ni=>{var li=[ni[0],null].concat(ni.slice(1));return kn(at,pn(at,li,null,Rt,Vt,Ut),gt-1),[]})},Br=(at,gt,wt,Lt,Rt)=>{gt=ls(gt);const Vt=Lt===0;let Ut=Xt=>Xt;if(Vt){var Yt=32-8*wt;Ut=Xt=>Xt<<Yt>>>Yt,Rt=Ut(Rt)}ms(at,{name:gt,fromWireType:Ut,toWireType:(Xt,ni)=>{if(typeof ni!="number"&&typeof ni!="boolean")throw new TypeError(`Cannot convert "${Rs(ni)}" to ${gt}`);return wn(gt,ni,Lt,Rt),ni},argPackAdvance:ys,readValueFromPointer:an(gt,wt,Lt!==0),destructorFunction:null})},Hs=(at,gt,wt)=>{var Lt=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],Rt=Lt[gt];function Vt(Ut){var Yt=jt[Ut>>2],Xt=jt[Ut+4>>2];return new Rt(Dt.buffer,Xt,Yt)}wt=ls(wt),ms(at,{name:wt,fromWireType:Vt,argPackAdvance:ys,readValueFromPointer:Vt},{ignoreDuplicateRegistrations:!0})},Fr=Object.assign({optional:!0},Sr),ja=(at,gt)=>{ms(at,Fr)},Wa=(at,gt)=>{gt=ls(gt),ms(at,{name:gt,fromWireType(wt){for(var Lt=jt[wt>>2],Rt=wt+4,Vt,Ut,Yt=Rt,Ut=0;Ut<=Lt;++Ut){var Xt=Rt+Ut;if(Ut==Lt||Mt[Xt]==0){var ni=Xt-Yt,li=qi(Yt,ni);Vt===void 0?Vt=li:(Vt+="\0",Vt+=li),Yt=Xt+1}}return Ks(wt),Vt},toWireType(wt,Lt){Lt instanceof ArrayBuffer&&(Lt=new Uint8Array(Lt));var Rt,Vt=typeof Lt=="string";Vt||ArrayBuffer.isView(Lt)&&Lt.BYTES_PER_ELEMENT==1||Ji("Cannot pass non-string to std::string"),Vt?Rt=Ts(Lt):Rt=Lt.length;var Ut=Kr(4+Rt+1),Yt=Ut+4;return jt[Ut>>2]=Rt,Vt?_s(Lt,Yt,Rt+1):Mt.set(Lt,Yt),wt!==null&&wt.push(Ks,Ut),Ut},argPackAdvance:ys,readValueFromPointer:hn,destructorFunction(wt){Ks(wt)}})},fa=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ya=(at,gt)=>{ft(at%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var wt=at>>1,Lt=wt+gt/2,Rt=wt;!(Rt>=Lt)&&Ht[Rt];)++Rt;if(Rt-wt>16&&fa)return fa.decode(Ht.subarray(wt,Rt));for(var Vt="",Ut=wt;!(Ut>=Lt);++Ut){var Yt=Ht[Ut];if(Yt==0)break;Vt+=String.fromCharCode(Yt)}return Vt},Xa=(at,gt,wt)=>{if(ft(gt%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),ft(typeof wt=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),wt??(wt=2147483647),wt<2)return 0;wt-=2;for(var Lt=gt,Rt=wt<at.length*2?wt/2:at.length,Vt=0;Vt<Rt;++Vt){var Ut=at.charCodeAt(Vt);$t[gt>>1]=Ut,gt+=2}return $t[gt>>1]=0,gt-Lt},qa=at=>at.length*2,Ka=(at,gt)=>{ft(at%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var wt="",Lt=0;!(Lt>=gt/4);Lt++){var Rt=Ft[at+Lt*4>>2];if(!Rt)break;wt+=String.fromCodePoint(Rt)}return wt},Ja=(at,gt,wt)=>{if(ft(gt%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),ft(typeof wt=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),wt??(wt=2147483647),wt<4)return 0;for(var Lt=gt,Rt=Lt+wt-4,Vt=0;Vt<at.length;++Vt){var Ut=at.codePointAt(Vt);if(Ut>65535&&Vt++,Ft[gt>>2]=Ut,gt+=4,gt+4>Rt)break}return Ft[gt>>2]=0,gt-Lt},Za=at=>{for(var gt=0,wt=0;wt<at.length;++wt){var Lt=at.codePointAt(wt);Lt>65535&&wt++,gt+=4}return gt},Qa=(at,gt,wt)=>{wt=ls(wt);var Lt,Rt,Vt,Ut;gt===2?(Lt=Ya,Rt=Xa,Ut=qa,Vt=Yt=>Ht[Yt>>1]):gt===4&&(Lt=Ka,Rt=Ja,Ut=Za,Vt=Yt=>jt[Yt>>2]),ms(at,{name:wt,fromWireType:Yt=>{for(var Xt=jt[Yt>>2],ni,li=Yt+4,wi=0;wi<=Xt;++wi){var xi=Yt+4+wi*gt;if(wi==Xt||Vt(xi)==0){var _i=xi-li,pi=Lt(li,_i);ni===void 0?ni=pi:(ni+="\0",ni+=pi),li=xi+gt}}return Ks(Yt),ni},toWireType:(Yt,Xt)=>{typeof Xt!="string"&&Ji(`Cannot pass non-string to C++ string type ${wt}`);var ni=Ut(Xt),li=Kr(4+ni+gt);return jt[li>>2]=ni/gt,Rt(Xt,li+4,ni+gt),Yt!==null&&Yt.push(Ks,li),li},argPackAdvance:ys,readValueFromPointer:hn,destructorFunction(Yt){Ks(Yt)}})},eo=(at,gt)=>{gt=ls(gt),ms(at,{isVoid:!0,name:gt,argPackAdvance:0,fromWireType:()=>{},toWireType:(wt,Lt)=>{}})},io=()=>{throw 1/0},va=(at,gt,wt)=>{var Lt=[],Rt=at.toWireType(Lt,wt);return Lt.length&&(jt[gt>>2]=ps.toHandle(Lt)),Rt},so=(at,gt,wt)=>(at=ps.toValue(at),gt=Fs(gt,"emval::as"),va(gt,wt,at)),no={},_a=at=>{var gt=no[at];return gt===void 0?ls(at):gt},Hr=[],ro=(at,gt,wt,Lt,Rt)=>(at=Hr[at],gt=ps.toValue(gt),wt=_a(wt),at(gt,gt[wt],Lt,Rt)),ao=at=>{var gt=Hr.length;return Hr.push(at),gt},oo=(at,gt)=>{for(var wt=new Array(at),Lt=0;Lt<at;++Lt)wt[Lt]=Fs(jt[gt+Lt*4>>2],`parameter ${Lt}`);return wt},lo=(at,gt,wt)=>{var Lt=oo(at,gt),Rt=Lt.shift();at--;var Vt=`return function (obj, func, destructorsRef, args) {
`,Ut=0,Yt=[];wt===0&&Yt.push("obj");for(var Xt=["retType"],ni=[Rt],li=0;li<at;++li)Yt.push(`arg${li}`),Xt.push(`argType${li}`),ni.push(Lt[li]),Vt+=`  var arg${li} = argType${li}.readValueFromPointer(args${Ut?"+"+Ut:""});
`,Ut+=Lt[li].argPackAdvance;var wi=wt===1?"new func":"func.call";Vt+=`  var rv = ${wi}(${Yt.join(", ")});
`,Rt.isVoid||(Xt.push("emval_returnValue"),ni.push(va),Vt+=`  return emval_returnValue(retType, destructorsRef, rv);
`),Vt+=`};
`;var xi=new Function(...Xt,Vt)(...ni),_i=`methodCaller<(${Lt.map(pi=>pi.name).join(", ")}) => ${Rt.name}>`;return ao(Cn(_i,xi))},co=(at,gt)=>(at=ps.toValue(at),gt=ps.toValue(gt),ps.toHandle(at[gt])),uo=at=>{at>9&&(Es[at+1]+=1)},ho=at=>ps.toHandle(_a(at)),go=at=>{var gt=ps.toValue(at);qn(gt),Dn(at)},po=(at,gt)=>{at=Fs(at,"_emval_take_value");var wt=at.readValueFromPointer(gt);return ps.toHandle(wt)},fo=at=>(at=ps.toValue(at),ps.toHandle(typeof at)),vo=(at,gt,wt,Lt)=>{var Rt=new Date().getFullYear(),Vt=new Date(Rt,0,1),Ut=new Date(Rt,6,1),Yt=Vt.getTimezoneOffset(),Xt=Ut.getTimezoneOffset(),ni=Math.max(Yt,Xt);jt[at>>2]=ni*60,Ft[gt>>2]=+(Yt!=Xt);var li=_i=>{var pi=_i>=0?"-":"+",Ai=Math.abs(_i),Fi=String(Math.floor(Ai/60)).padStart(2,"0"),Bi=String(Ai%60).padStart(2,"0");return`UTC${pi}${Fi}${Bi}`},wi=li(Yt),xi=li(Xt);ft(wi),ft(xi),ft(Ts(wi)<=16,`timezone name truncated to fit in TZNAME_MAX (${wi})`),ft(Ts(xi)<=16,`timezone name truncated to fit in TZNAME_MAX (${xi})`),Xt<Yt?(_s(wi,wt,17),_s(xi,Lt,17)):(_s(wi,Lt,17),_s(xi,wt,17))},Ar=[],_o=(at,gt)=>{ft(Array.isArray(Ar)),ft(gt%16==0),Ar.length=0;for(var wt;wt=Mt[at++];){var Lt=String.fromCharCode(wt),Rt=["d","f","i","p"];Rt.push("j"),ft(Rt.includes(Lt),`Invalid character ${wt}("${Lt}") in readEmAsmArgs! Use only [${Rt}], and do not specify "v" for void return argument.`);var Vt=wt!=105;Vt&=wt!=112,gt+=Vt&&gt%8?4:0,Ar.push(wt==112?jt[gt>>2]:wt==106?Pt[gt>>3]:wt==105?Ft[gt>>2]:Kt[gt>>3]),gt+=Vt?8:4}return Ar},mo=(at,gt,wt)=>{var Lt=_o(gt,wt);return ft(Ta.hasOwnProperty(at),`No EM_ASM constant found at address ${at}.  The loaded WebAssembly file is likely out of sync with the generated JavaScript.`),Ta[at](...Lt)},bo=(at,gt,wt)=>mo(at,gt,wt),Gr=()=>performance.now(),yo=at=>{ki(`Cannot enlarge memory arrays to size ${at} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${Dt.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},wo=at=>{Mt.length,at>>>=0,yo(at)},zr=at=>{if(at instanceof ri||at=="unwind")return ut;_t(),at instanceof WebAssembly.RuntimeError&&Qr()<=0&&ht("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 65536)"),Ve(1,at)},ma=0,Ur=()=>ji||ma>0,xo=at=>{var gt;ut=at,Ur()||((gt=T.onExit)==null||gt.call(T,at),ct=!0),Ve(at,new ri(at))},ba=(at,gt)=>{if(ut=at,sl(),Ur()&&!gt){var wt=`program exited (with status: ${at}), but keepRuntimeAlive() is set (counter=${ma}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;ht(wt)}xo(at)},Eo=ba,ya=()=>{if(!Ur())try{Eo(ut)}catch(at){zr(at)}},So=at=>{if(ct){ht("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{at(),ya()}catch(gt){zr(gt)}},jr=(at,gt)=>{if(Ii.timingMode=at,Ii.timingValue=gt,!Ii.func)return ht("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up."),1;if(Ii.running||(Ii.running=!0),at==0)Ii.scheduler=function(){var Ut=Math.max(0,Ii.tickStartTime+gt-Gr())|0;setTimeout(Ii.runner,Ut)},Ii.method="timeout";else if(at==1)Ii.scheduler=function(){Ii.requestAnimationFrame(Ii.runner)},Ii.method="rAF";else if(at==2){if(typeof Ii.setImmediate>"u")if(typeof setImmediate>"u"){var wt=[],Lt="setimmediate",Rt=Vt=>{(Vt.data===Lt||Vt.data.target===Lt)&&(Vt.stopPropagation(),wt.shift()())};addEventListener("message",Rt,!0),Ii.setImmediate=Vt=>{wt.push(Vt),Z?(T.setImmediates??(T.setImmediates=[]),T.setImmediates.push(Vt),postMessage({target:Lt})):postMessage(Lt,"*")}}else Ii.setImmediate=setImmediate;Ii.scheduler=function(){Ii.setImmediate(Ii.runner)},Ii.method="immediate"}return 0},Ii={running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],preMainLoop:[],postMainLoop:[],pause(){Ii.scheduler=null,Ii.currentlyRunningMainloop++},resume(){Ii.currentlyRunningMainloop++;var at=Ii.timingMode,gt=Ii.timingValue,wt=Ii.func;Ii.func=null,wa(wt,0,!1,Ii.arg,!0),jr(at,gt),Ii.scheduler()},updateStatus(){if(T.setStatus){var at=T.statusMessage||"Please wait...",gt=Ii.remainingBlockers??0,wt=Ii.expectedBlockers??0;gt?gt<wt?T.setStatus("{message} ({expected - remaining}/{expected})"):T.setStatus(at):T.setStatus("")}},init(){T.preMainLoop&&Ii.preMainLoop.push(T.preMainLoop),T.postMainLoop&&Ii.postMainLoop.push(T.postMainLoop)},runIter(at){if(!ct){for(var gt of Ii.preMainLoop)if(gt()===!1)return;So(at);for(var wt of Ii.postMainLoop)wt();_t()}},nextRAF:0,fakeRequestAnimationFrame(at){var gt=Date.now();if(Ii.nextRAF===0)Ii.nextRAF=gt+1e3/60;else for(;gt+2>=Ii.nextRAF;)Ii.nextRAF+=1e3/60;var wt=Math.max(Ii.nextRAF-gt,0);setTimeout(at,wt)},requestAnimationFrame(at){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(at);return}var gt=Ii.fakeRequestAnimationFrame;gt(at)}},wa=(at,gt,wt,Lt,Rt)=>{ft(!Ii.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Ii.func=at,Ii.arg=Lt;var Vt=Ii.currentlyRunningMainloop;function Ut(){return Vt<Ii.currentlyRunningMainloop?(ya(),!1):!0}if(Ii.running=!1,Ii.runner=function(){if(!ct){if(Ii.queue.length>0){var Xt=Ii.queue.shift();if(Xt.func(Xt.arg),Ii.remainingBlockers){var ni=Ii.remainingBlockers,li=ni%1==0?ni-1:Math.floor(ni);Xt.counted?Ii.remainingBlockers=li:(li=li+.5,Ii.remainingBlockers=(8*ni+li)/9)}if(Ii.updateStatus(),!Ut())return;setTimeout(Ii.runner,0);return}if(Ut()){if(Ii.currentFrameNumber=Ii.currentFrameNumber+1|0,Ii.timingMode==1&&Ii.timingValue>1&&Ii.currentFrameNumber%Ii.timingValue!=0){Ii.scheduler();return}else Ii.timingMode==0&&(Ii.tickStartTime=Gr());Ii.method==="timeout"&&T.ctx&&(Oi("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Ii.method=""),Ii.runIter(at),Ut()&&Ii.scheduler()}}},Rt||(gt>0?jr(0,1e3/gt):jr(1,1),Ii.scheduler()),wt)throw"unwind"},To=(at,gt,wt,Lt)=>{var Rt=()=>qs(at)(gt);wa(Rt,wt,Lt,gt)},Wr={},Co=()=>me||"./this.program",er=()=>{if(!er.strings){var at=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8",gt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:at,_:Co()};for(var wt in Wr)Wr[wt]===void 0?delete gt[wt]:gt[wt]=Wr[wt];var Lt=[];for(var wt in gt)Lt.push(`${wt}=${gt[wt]}`);er.strings=Lt}return er.strings},Ao=(at,gt)=>{var wt=0,Lt=0;for(var Rt of er()){var Vt=gt+wt;jt[at+Lt>>2]=Vt,wt+=_s(Rt,Vt,1/0)+1,Lt+=4}return 0},Lo=(at,gt)=>{var wt=er();jt[at>>2]=wt.length;var Lt=0;for(var Rt of wt)Lt+=Ts(Rt)+1;return jt[gt>>2]=Lt,0};function Io(at){try{var gt=ts.getStreamFromFD(at);return Nt.close(gt),0}catch(wt){if(typeof Nt>"u"||wt.name!=="ErrnoError")throw wt;return wt.errno}}var ko=(at,gt,wt,Lt)=>{for(var Rt=0,Vt=0;Vt<wt;Vt++){var Ut=jt[gt>>2],Yt=jt[gt+4>>2];gt+=8;var Xt=Nt.read(at,Dt,Ut,Yt,Lt);if(Xt<0)return-1;if(Rt+=Xt,Xt<Yt)break}return Rt};function Oo(at,gt,wt,Lt){try{var Rt=ts.getStreamFromFD(at),Vt=ko(Rt,gt,wt);return jt[Lt>>2]=Vt,0}catch(Ut){if(typeof Nt>"u"||Ut.name!=="ErrnoError")throw Ut;return Ut.errno}}var Mo=9007199254740992,Po=-9007199254740992,Do=at=>at<Po||at>Mo?NaN:Number(at);function Ro(at,gt,wt,Lt){gt=Do(gt);try{if(isNaN(gt))return 61;var Rt=ts.getStreamFromFD(at);return Nt.llseek(Rt,gt,wt),Pt[Lt>>3]=BigInt(Rt.position),Rt.getdents&&gt===0&&wt===0&&(Rt.getdents=null),0}catch(Vt){if(typeof Nt>"u"||Vt.name!=="ErrnoError")throw Vt;return Vt.errno}}var No=(at,gt,wt,Lt)=>{for(var Rt=0,Vt=0;Vt<wt;Vt++){var Ut=jt[gt>>2],Yt=jt[gt+4>>2];gt+=8;var Xt=Nt.write(at,Dt,Ut,Yt,Lt);if(Xt<0)return-1;if(Rt+=Xt,Xt<Yt)break}return Rt};function $o(at,gt,wt,Lt){try{var Rt=ts.getStreamFromFD(at),Vt=No(Rt,gt,wt);return jt[Lt>>2]=Vt,0}catch(Ut){if(typeof Nt>"u"||Ut.name!=="ErrnoError")throw Ut;return Ut.errno}}function Vo(at,gt){try{return $s(Mt.subarray(at,at+gt)),0}catch(wt){if(typeof Nt>"u"||wt.name!=="ErrnoError")throw wt;return wt.errno}}var Yr=at=>Ma(at),xa=at=>{var gt=Ts(at)+1,wt=Yr(gt);return _s(at,wt,gt),wt},Bo=at=>{var gt=T["_"+at];return ft(gt,"Cannot call unknown function "+at+", make sure it is exported"),gt},Fo=(at,gt)=>{ft(at.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),Dt.set(at,gt)},Ea=(at,gt,wt,Lt,Rt)=>{var Vt={string:pi=>{var Ai=0;return pi!=null&&pi!==0&&(Ai=xa(pi)),Ai},array:pi=>{var Ai=Yr(pi.length);return Fo(pi,Ai),Ai}};function Ut(pi){return gt==="string"?qi(pi):gt==="boolean"?!!pi:pi}var Yt=Bo(at),Xt=[],ni=0;if(ft(gt!=="array",'Return type should not be "array".'),Lt)for(var li=0;li<Lt.length;li++){var wi=Vt[wt[li]];wi?(ni===0&&(ni=$i()),Xt[li]=wi(Lt[li])):Xt[li]=Lt[li]}var xi=Yt(...Xt);function _i(pi){return ni!==0&&zi(ni),Ut(pi)}return xi=_i(xi),xi},Ho=(at,gt,wt,Lt)=>(...Rt)=>Ea(at,gt,wt,Rt),Sa=(at,gt)=>{ft(at<16384),at<128?gt.push(at):gt.push(at%128|128,at>>7)},Go=at=>{for(var gt={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},wt={parameters:[],results:at[0]=="v"?[]:[gt[at[0]]]},Lt=1;Lt<at.length;++Lt)ft(at[Lt]in gt,"invalid signature char: "+at[Lt]),wt.parameters.push(gt[at[Lt]]);return wt},zo=(at,gt)=>{var wt=at.slice(0,1),Lt=at.slice(1),Rt={i:127,p:127,j:126,f:125,d:124,e:111};gt.push(96),Sa(Lt.length,gt);for(var Vt of Lt)ft(Vt in Rt,`invalid signature char: ${Vt}`),gt.push(Rt[Vt]);wt=="v"?gt.push(0):gt.push(1,Rt[wt])},Uo=(at,gt)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(Go(gt),at);var wt=[1];zo(gt,wt);var Lt=[0,97,115,109,1,0,0,0,1];Sa(wt.length,Lt),Lt.push(...wt),Lt.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Rt=new WebAssembly.Module(new Uint8Array(Lt)),Vt=new WebAssembly.Instance(Rt,{e:{f:at}}),Ut=Vt.exports.f;return Ut},jo=(at,gt)=>{if(fn)for(var wt=at;wt<at+gt;wt++){var Lt=qs(wt);Lt&&fn.set(Lt,wt)}},fn,Wo=at=>(fn||(fn=new WeakMap,jo(0,ws.length)),fn.get(at)||0),Xr=[],Yo=()=>{if(Xr.length)return Xr.pop();try{ws.grow(1)}catch(at){throw at instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":at}return ws.length-1},qr=(at,gt)=>{ws.set(at,gt),On[at]=ws.get(at)},Xo=(at,gt)=>{ft(typeof at<"u");var wt=Wo(at);if(wt)return wt;var Lt=Yo();try{qr(Lt,at)}catch(Vt){if(!(Vt instanceof TypeError))throw Vt;ft(typeof gt<"u","Missing signature argument to addFunction: "+at);var Rt=Uo(at,gt);qr(Lt,Rt)}return fn.set(at,Lt),Lt},qo=at=>{fn.delete(qs(at)),qr(at,null),Xr.push(at)};Nt.createPreloadedFile=Ei,Nt.staticInit(),kr(),Xn(),ft(Es.length===5*2),T.requestAnimationFrame=Ii.requestAnimationFrame,T.pauseMainLoop=Ii.pause,T.resumeMainLoop=Ii.resume,Ii.init(),T.noExitRuntime&&(ji=T.noExitRuntime),T.preloadPlugins&&(Ni=T.preloadPlugins),T.print&&(ot=T.print),T.printErr&&(ht=T.printErr),T.wasmBinary&&(dt=T.wasmBinary),Zo(),T.arguments&&(ne=T.arguments),T.thisProgram&&(me=T.thisProgram),ft(typeof T.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),ft(typeof T.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),ft(typeof T.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),ft(typeof T.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),ft(typeof T.read>"u","Module.read option was removed"),ft(typeof T.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),ft(typeof T.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),ft(typeof T.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),ft(typeof T.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),ft(typeof T.ENVIRONMENT>"u","Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)"),ft(typeof T.STACK_SIZE>"u","STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),ft(typeof T.wasmMemory>"u","Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),ft(typeof T.INITIAL_MEMORY>"u","Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically"),T.ccall=Ea,T.cwrap=Ho,T.addFunction=Xo,T.removeFunction=qo;var Ko=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","getTempRet0","setTempRet0","zeroMemory","getHeapMax","growMemory","withStackSave","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","runMainThreadEmAsm","jstoi_q","autoResumeAudioContext","getDynCaller","dynCall","runtimeKeepalivePush","runtimeKeepalivePop","asmjsMangle","alignMemory","HandleAllocator","getNativeTypeSize","addOnInit","addOnPostCtor","addOnPreMain","addOnExit","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","stringToAscii","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","findMatchingCatch","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","demangle","stackTrace","getFunctionArgsName","createJsInvokerSignature","PureVirtualError","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","setDelayFunction","count_emval_handles","emval_get_global"];Ko.forEach(Ct);var Jo=["run","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","HEAPF32","HEAPF64","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAP64","HEAPU64","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","stackAlloc","ptrToString","exitJS","abortOnCannotGrowMemory","ENV","ERRNO_CODES","strError","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getExecutableName","handleException","keepRuntimeAlive","callUserCallback","maybeExit","asyncLoad","mmapAlloc","wasmTable","getUniqueRunDependency","noExitRuntime","addOnPreRun","addOnPostRun","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","freeTableIndexes","functionsInTableMap","getEmptyTableSlot","updateTableMap","getFunctionAddress","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","AsciiToString","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","doReadv","doWritev","initRandomFill","randomFill","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","Browser","requestFullscreen","requestFullScreen","setCanvasSize","getUserMedia","createContext","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar_buffer","FS_stdin_getChar","FS_unlink","FS_createPath","FS_createDevice","FS_readFile","FS","FS_root","FS_mounts","FS_devices","FS_streams","FS_nextInode","FS_nameTable","FS_currentPath","FS_initialized","FS_ignorePermissions","FS_filesystems","FS_syncFSRequests","FS_readFiles","FS_lookupPath","FS_getPath","FS_hashName","FS_hashAddNode","FS_hashRemoveNode","FS_lookupNode","FS_createNode","FS_destroyNode","FS_isRoot","FS_isMountpoint","FS_isFile","FS_isDir","FS_isLink","FS_isChrdev","FS_isBlkdev","FS_isFIFO","FS_isSocket","FS_flagsToPermissionString","FS_nodePermissions","FS_mayLookup","FS_mayCreate","FS_mayDelete","FS_mayOpen","FS_checkOpExists","FS_nextfd","FS_getStreamChecked","FS_getStream","FS_createStream","FS_closeStream","FS_dupStream","FS_doSetAttr","FS_chrdev_stream_ops","FS_major","FS_minor","FS_makedev","FS_registerDevice","FS_getDevice","FS_getMounts","FS_syncfs","FS_mount","FS_unmount","FS_lookup","FS_mknod","FS_statfs","FS_statfsStream","FS_statfsNode","FS_create","FS_mkdir","FS_mkdev","FS_symlink","FS_rename","FS_rmdir","FS_readdir","FS_readlink","FS_stat","FS_fstat","FS_lstat","FS_doChmod","FS_chmod","FS_lchmod","FS_fchmod","FS_doChown","FS_chown","FS_lchown","FS_fchown","FS_doTruncate","FS_truncate","FS_ftruncate","FS_utime","FS_open","FS_close","FS_isClosed","FS_llseek","FS_read","FS_write","FS_mmap","FS_msync","FS_ioctl","FS_writeFile","FS_cwd","FS_chdir","FS_createDefaultDirectories","FS_createDefaultDevices","FS_createSpecialDirectories","FS_createStandardStreams","FS_staticInit","FS_init","FS_quit","FS_findObject","FS_analyzePath","FS_createFile","FS_createDataFile","FS_forceLoadFile","FS_createLazyFile","FS_absolutePath","FS_createFolder","FS_createLink","FS_joinPath","FS_mmapAlloc","FS_standardizePath","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","jstoi_s","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","checkArgCount","getRequiredArgCount","createJsInvoker","UnboundTypeError","GenericWireTypeSize","EmValType","EmValOptionalType","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","registeredPointers","registerType","integerReadValueFromPointer","enumReadValueFromPointer","floatReadValueFromPointer","assertIntegerRange","readPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","getStringOrSymbol","Emval","emval_returnValue","emval_lookupTypes","emval_methodCallers","emval_addMethodCaller"];Jo.forEach(It);function Zo(){xt("fetchSettings")}var Ta={1408056:(at,gt,wt,Lt)=>{var Rt=at,Vt=gt,Ut=wt,Yt=Lt,Xt=String.fromCharCode(Vt),ni=T.lv_f_glyph_dsc_fmt_data(Ut),li=T.OffScreenCanvas,wi=li.getContext("2d"),xi=T.Fonts[Rt];wi.font=xi.font_style+" "+xi.font_variant+" "+xi.font_weight+" "+xi.line_height+"px "+xi.font_family,wi.textBaseline="top",wi.textAlign="left";var _i=wi.measureText(Xt),pi=Math.ceil(_i.width),Ai=_i.actualBoundingBoxLeft,Fi=_i.fontBoundingBoxAscent,Bi=_i.actualBoundingBoxRight-_i.actualBoundingBoxLeft,Ki=_i.fontBoundingBoxDescent-_i.fontBoundingBoxAscent;Yt&&(pi*=2),Yt&&(d_box_w=d_box_w*2),T.set_lv_f_glyph_dsc(ni,pi+1,Bi,Ki+4,Ai,Fi,xi.bpp)},1408885:(at,gt)=>{var wt=at,Lt=gt,Rt=T.OffScreenCanvas,Vt=Rt.getContext("2d"),Ut=T.Fonts[wt];Vt.font=Ut.font_style+" "+Ut.font_variant+" "+Ut.font_weight+" "+Ut.line_height+"px "+Ut.font_family;var Yt=Vt.measureText(Lt).width;return Yt},1409190:at=>{var gt=at,wt=T.OffScreenCanvas;wt.getContext("2d");var Lt=T.Fonts[gt];return Lt.bpp},1409322:(at,gt,wt)=>{var Lt=at,Rt=gt,Vt=canvas.getContext("2d"),Ut=wt,Yt=String.fromCharCode(Rt),Xt=T.Fonts[Lt];Vt.font=""+Xt.font_style+" "+Xt.font_variant+" "+Xt.font_weight+" "+Xt.line_height+"px "+Xt.font_family,Vt.textBaseline="top",Vt.textAlign="left";var ni=Vt.measureText(Yt),li=Math.ceil(ni.width),wi=ni.actualBoundingBoxLeft,xi=ni.fontBoundingBoxAscent,_i=ni.actualBoundingBoxRight-ni.actualBoundingBoxLeft,pi=ni.fontBoundingBoxDescent-ni.fontBoundingBoxAscent;console.log("js_font_get_bitmap_fmt_txt=>",Yt,li,_i,pi,wi,xi),Vt.fillStyle="#000000",Vt.fillRect(0,0,li*2+2,Xt.line_height*2+2),Vt.fillStyle="#FFFFFF",Vt.fillText(Yt,li,Xt.line_height);var Ai=Xt.bpp;Vt.textAlign="center";var Fi=Vt.getImageData(li+wi,Xt.line_height+xi-4,_i,pi+4),Bi=Fi.data;Vt.putImageData(Fi,100,20);for(var Ki=0;Ki<pi+4;Ki++)for(var Yi=0;Yi<_i;Yi++){var ns=(Yi+Ki*_i)*4,us=Bi[ns+0],Ss=Bi[ns+1],rs=Bi[ns+2],Gs=.299*us+.587*Ss+.114*rs,_n=Ki*_i*Ai+Yi*Ai,mn=_n/8>>0,As=_n%8,tr=Gs&~(255>>Ai);Mt[Ut+mn]|=tr>>As}},1410777:at=>{var gt=at;return T.Fonts[gt].line_height},1410829:(at,gt,wt,Lt,Rt,Vt,Ut,Yt)=>{var Xt=qi(at),ni=Lt,li=gt,wi=wt,xi=Rt,_i=Vt,pi=Ut,Ai=Yt;const Fi=xi,Bi=_i;let Ki=0,Yi=0,ns=0,us=0;var Ss=T.OffScreenCanvas,rs=T.Images[Xt],Gs=Ss.getContext("2d");if(pi==1){const tr=Fi/li;_i=wi*tr,Ai&&_i<Bi&&(us=(Bi-_i)/2),Ai&&_i>Bi&&(Yi=(_i-Bi)/2)}else if(pi==2){const tr=Bi/wi;xi=li*tr,Ai&&xi<Fi&&(ns=(Fi-xi)/2),Ai&&xi>Fi&&(Ki=(xi-Fi)/2)}else pi==3?(Ki=0,Yi=0,ns=0,us=0,xi=Fi,_i=Bi):pi==4&&(xi=li,_i=wi,Ai&&(Bi<wi&&(Yi=(wi-Bi)/2),Fi<li&&(Ki=(li-Fi)/2),Fi>li&&(ns=(Fi-li)/2),Bi>wi&&(us=(Bi-wi)/2)));Gs.clearRect(0,0,Fi,Bi),Gs.drawImage(rs,Ki,Yi,li,wi,ns,us,xi,_i);for(var _n=Gs.getImageData(0,0,Fi,Bi),mn=_n.data,As=0;As<mn.length;As+=4)Mt[ni+As]=mn[As+2],Mt[ni+As+1]=mn[As+1],Mt[ni+As+2]=mn[As],Mt[ni+As+3]=mn[As+3]},1412361:(at,gt,wt,Lt,Rt,Vt,Ut)=>{var Yt=at,Xt=gt,ni=wt,li=Lt,wi=Rt,xi=Vt,_i=Ut;const pi=new ImageData(Yt,Xt);xi>=Xt&&(xi=Xt-1),li>=Yt&&(li=Yt-1);for(var Ai=pi.data,Fi=0,Bi=_i,Ki=wi;Ki<=xi;Ki++)for(var Yi=ni;Yi<=li;Yi++)Fi=(Ki*Yt+Yi)*4,Ai[Fi]=Mt[Bi+2],Ai[Fi+1]=Mt[Bi+1],Ai[Fi+2]=Mt[Bi],Ai[Fi+3]=255,Bi+=4;const ns=T.ctx;ns&&(ns.clearRect(0,0,Yt,Xt),ns.putImageData(pi,0,0))},1412944:(at,gt,wt,Lt,Rt,Vt,Ut)=>{var Yt=at,Xt=gt,ni=wt,li=Lt,wi=Rt,xi=Vt,_i=Ut,pi=T.pixbuf2;pi||(pi={},T.pixbuf2=pi);var Ai=pi.imageData;Ai||(Ai=new ImageData(Yt,Xt),pi.imageData=Ai,pi.update=!1,pi.x1=0,pi.x2=0,pi.y1=0,pi.y2=0),(Ai.width!=Yt||Ai.height!=Xt)&&(Ai=new ImageData(Yt,Xt),pi.imageData=Ai),xi>=Xt&&(xi=Xt-1),li>=Yt&&(li=Yt-1);for(var Fi=Ai.data,Bi=0,Ki=_i,Yi=wi;Yi<=xi;Yi++)for(var ns=ni;ns<=li;ns++)Bi=(Yi*Yt+ns)*4,Fi[Bi]=Mt[Ki+2],Fi[Bi+1]=Mt[Ki+1],Fi[Bi+2]=Mt[Ki],Fi[Bi+3]=255,Ki+=4;return pi.update?(pi.x1=Math.min(pi.x1,ni),pi.y1=Math.min(pi.y1,wi),pi.x2=Math.max(pi.x2,li),pi.y2=Math.max(pi.y2,xi)):(pi.update=!0,pi.x1=ni,pi.y1=wi,pi.x2=li,pi.y2=xi),pi.update}},Ca=Tt("___getTypeName"),Kr=Tt("_malloc"),Ks=Tt("_free");T._Get_LV_SYMBOL_AUDIO=Tt("_Get_LV_SYMBOL_AUDIO"),T._Get_LV_SYMBOL_VIDEO=Tt("_Get_LV_SYMBOL_VIDEO"),T._Get_LV_SYMBOL_LIST=Tt("_Get_LV_SYMBOL_LIST"),T._Get_LV_SYMBOL_OK=Tt("_Get_LV_SYMBOL_OK"),T._Get_LV_SYMBOL_CLOSE=Tt("_Get_LV_SYMBOL_CLOSE"),T._Get_LV_SYMBOL_POWER=Tt("_Get_LV_SYMBOL_POWER"),T._Get_LV_SYMBOL_SETTINGS=Tt("_Get_LV_SYMBOL_SETTINGS"),T._Get_LV_SYMBOL_HOME=Tt("_Get_LV_SYMBOL_HOME"),T._Get_LV_SYMBOL_DOWNLOAD=Tt("_Get_LV_SYMBOL_DOWNLOAD"),T._Get_LV_SYMBOL_DRIVE=Tt("_Get_LV_SYMBOL_DRIVE"),T._Get_LV_SYMBOL_REFRESH=Tt("_Get_LV_SYMBOL_REFRESH"),T._Get_LV_SYMBOL_MUTE=Tt("_Get_LV_SYMBOL_MUTE"),T._Get_LV_SYMBOL_VOLUME_MID=Tt("_Get_LV_SYMBOL_VOLUME_MID"),T._Get_LV_SYMBOL_VOLUME_MAX=Tt("_Get_LV_SYMBOL_VOLUME_MAX"),T._Get_LV_SYMBOL_IMAGE=Tt("_Get_LV_SYMBOL_IMAGE"),T._Get_LV_SYMBOL_ENVELOPE=Tt("_Get_LV_SYMBOL_ENVELOPE"),T._Get_LV_SYMBOL_EDIT=Tt("_Get_LV_SYMBOL_EDIT"),T._Get_LV_SYMBOL_TINT=Tt("_Get_LV_SYMBOL_TINT"),T._Get_LV_SYMBOL_PREV=Tt("_Get_LV_SYMBOL_PREV"),T._Get_LV_SYMBOL_PLAY=Tt("_Get_LV_SYMBOL_PLAY"),T._Get_LV_SYMBOL_PAUSE=Tt("_Get_LV_SYMBOL_PAUSE"),T._Get_LV_SYMBOL_STOP=Tt("_Get_LV_SYMBOL_STOP"),T._Get_LV_SYMBOL_NEXT=Tt("_Get_LV_SYMBOL_NEXT"),T._Get_LV_SYMBOL_EJECT=Tt("_Get_LV_SYMBOL_EJECT"),T._Get_LV_SYMBOL_LEFT=Tt("_Get_LV_SYMBOL_LEFT"),T._Get_LV_SYMBOL_RIGHT=Tt("_Get_LV_SYMBOL_RIGHT"),T._Get_LV_SYMBOL_PLUS=Tt("_Get_LV_SYMBOL_PLUS"),T._Get_LV_SYMBOL_MINUS=Tt("_Get_LV_SYMBOL_MINUS"),T._Get_LV_SYMBOL_EYE_OPEN=Tt("_Get_LV_SYMBOL_EYE_OPEN"),T._Get_LV_SYMBOL_EYE_CLOSE=Tt("_Get_LV_SYMBOL_EYE_CLOSE"),T._Get_LV_SYMBOL_WARNING=Tt("_Get_LV_SYMBOL_WARNING"),T._Get_LV_SYMBOL_SHUFFLE=Tt("_Get_LV_SYMBOL_SHUFFLE"),T._Get_LV_SYMBOL_UP=Tt("_Get_LV_SYMBOL_UP"),T._Get_LV_SYMBOL_DOWN=Tt("_Get_LV_SYMBOL_DOWN"),T._Get_LV_SYMBOL_LOOP=Tt("_Get_LV_SYMBOL_LOOP"),T._Get_LV_SYMBOL_DIRECTORY=Tt("_Get_LV_SYMBOL_DIRECTORY"),T._Get_LV_SYMBOL_UPLOAD=Tt("_Get_LV_SYMBOL_UPLOAD"),T._Get_LV_SYMBOL_CALL=Tt("_Get_LV_SYMBOL_CALL"),T._Get_LV_SYMBOL_CUT=Tt("_Get_LV_SYMBOL_CUT"),T._Get_LV_SYMBOL_COPY=Tt("_Get_LV_SYMBOL_COPY"),T._Get_LV_SYMBOL_SAVE=Tt("_Get_LV_SYMBOL_SAVE"),T._Get_LV_SYMBOL_BARS=Tt("_Get_LV_SYMBOL_BARS"),T._Get_LV_SYMBOL_CHARGE=Tt("_Get_LV_SYMBOL_CHARGE"),T._Get_LV_SYMBOL_PASTE=Tt("_Get_LV_SYMBOL_PASTE"),T._Get_LV_SYMBOL_BELL=Tt("_Get_LV_SYMBOL_BELL"),T._Get_LV_SYMBOL_KEYBOARD=Tt("_Get_LV_SYMBOL_KEYBOARD"),T._Get_LV_SYMBOL_GPS=Tt("_Get_LV_SYMBOL_GPS"),T._Get_LV_SYMBOL_FILE=Tt("_Get_LV_SYMBOL_FILE"),T._Get_LV_SYMBOL_WIFI=Tt("_Get_LV_SYMBOL_WIFI"),T._Get_LV_SYMBOL_BATTERY_FULL=Tt("_Get_LV_SYMBOL_BATTERY_FULL"),T._Get_LV_SYMBOL_BATTERY_3=Tt("_Get_LV_SYMBOL_BATTERY_3"),T._Get_LV_SYMBOL_BATTERY_2=Tt("_Get_LV_SYMBOL_BATTERY_2"),T._Get_LV_SYMBOL_BATTERY_1=Tt("_Get_LV_SYMBOL_BATTERY_1"),T._Get_LV_SYMBOL_BATTERY_EMPTY=Tt("_Get_LV_SYMBOL_BATTERY_EMPTY"),T._Get_LV_SYMBOL_USB=Tt("_Get_LV_SYMBOL_USB"),T._Get_LV_SYMBOL_BLUETOOTH=Tt("_Get_LV_SYMBOL_BLUETOOTH"),T._Get_LV_SYMBOL_TRASH=Tt("_Get_LV_SYMBOL_TRASH"),T._Get_LV_SYMBOL_BACKSPACE=Tt("_Get_LV_SYMBOL_BACKSPACE"),T._Get_LV_SYMBOL_SD_CARD=Tt("_Get_LV_SYMBOL_SD_CARD"),T._Get_LV_SYMBOL_NEW_LINE=Tt("_Get_LV_SYMBOL_NEW_LINE");var Aa=T._main=Tt("_main"),Jr=Tt("_fflush"),Zr=Tt("_emscripten_stack_get_end"),La=Tt("_strerror"),Ia=Tt("_setThrew"),ka=Tt("_emscripten_stack_init"),Oa=Tt("__emscripten_stack_restore"),Ma=Tt("__emscripten_stack_alloc"),Qr=Tt("_emscripten_stack_get_current");function Qo(at){Ca=Bt("__getTypeName",1),Kr=Bt("malloc",1),Ks=Bt("free",1),T._Get_LV_SYMBOL_AUDIO=Bt("Get_LV_SYMBOL_AUDIO",0),T._Get_LV_SYMBOL_VIDEO=Bt("Get_LV_SYMBOL_VIDEO",0),T._Get_LV_SYMBOL_LIST=Bt("Get_LV_SYMBOL_LIST",0),T._Get_LV_SYMBOL_OK=Bt("Get_LV_SYMBOL_OK",0),T._Get_LV_SYMBOL_CLOSE=Bt("Get_LV_SYMBOL_CLOSE",0),T._Get_LV_SYMBOL_POWER=Bt("Get_LV_SYMBOL_POWER",0),T._Get_LV_SYMBOL_SETTINGS=Bt("Get_LV_SYMBOL_SETTINGS",0),T._Get_LV_SYMBOL_HOME=Bt("Get_LV_SYMBOL_HOME",0),T._Get_LV_SYMBOL_DOWNLOAD=Bt("Get_LV_SYMBOL_DOWNLOAD",0),T._Get_LV_SYMBOL_DRIVE=Bt("Get_LV_SYMBOL_DRIVE",0),T._Get_LV_SYMBOL_REFRESH=Bt("Get_LV_SYMBOL_REFRESH",0),T._Get_LV_SYMBOL_MUTE=Bt("Get_LV_SYMBOL_MUTE",0),T._Get_LV_SYMBOL_VOLUME_MID=Bt("Get_LV_SYMBOL_VOLUME_MID",0),T._Get_LV_SYMBOL_VOLUME_MAX=Bt("Get_LV_SYMBOL_VOLUME_MAX",0),T._Get_LV_SYMBOL_IMAGE=Bt("Get_LV_SYMBOL_IMAGE",0),T._Get_LV_SYMBOL_ENVELOPE=Bt("Get_LV_SYMBOL_ENVELOPE",0),T._Get_LV_SYMBOL_EDIT=Bt("Get_LV_SYMBOL_EDIT",0),T._Get_LV_SYMBOL_TINT=Bt("Get_LV_SYMBOL_TINT",0),T._Get_LV_SYMBOL_PREV=Bt("Get_LV_SYMBOL_PREV",0),T._Get_LV_SYMBOL_PLAY=Bt("Get_LV_SYMBOL_PLAY",0),T._Get_LV_SYMBOL_PAUSE=Bt("Get_LV_SYMBOL_PAUSE",0),T._Get_LV_SYMBOL_STOP=Bt("Get_LV_SYMBOL_STOP",0),T._Get_LV_SYMBOL_NEXT=Bt("Get_LV_SYMBOL_NEXT",0),T._Get_LV_SYMBOL_EJECT=Bt("Get_LV_SYMBOL_EJECT",0),T._Get_LV_SYMBOL_LEFT=Bt("Get_LV_SYMBOL_LEFT",0),T._Get_LV_SYMBOL_RIGHT=Bt("Get_LV_SYMBOL_RIGHT",0),T._Get_LV_SYMBOL_PLUS=Bt("Get_LV_SYMBOL_PLUS",0),T._Get_LV_SYMBOL_MINUS=Bt("Get_LV_SYMBOL_MINUS",0),T._Get_LV_SYMBOL_EYE_OPEN=Bt("Get_LV_SYMBOL_EYE_OPEN",0),T._Get_LV_SYMBOL_EYE_CLOSE=Bt("Get_LV_SYMBOL_EYE_CLOSE",0),T._Get_LV_SYMBOL_WARNING=Bt("Get_LV_SYMBOL_WARNING",0),T._Get_LV_SYMBOL_SHUFFLE=Bt("Get_LV_SYMBOL_SHUFFLE",0),T._Get_LV_SYMBOL_UP=Bt("Get_LV_SYMBOL_UP",0),T._Get_LV_SYMBOL_DOWN=Bt("Get_LV_SYMBOL_DOWN",0),T._Get_LV_SYMBOL_LOOP=Bt("Get_LV_SYMBOL_LOOP",0),T._Get_LV_SYMBOL_DIRECTORY=Bt("Get_LV_SYMBOL_DIRECTORY",0),T._Get_LV_SYMBOL_UPLOAD=Bt("Get_LV_SYMBOL_UPLOAD",0),T._Get_LV_SYMBOL_CALL=Bt("Get_LV_SYMBOL_CALL",0),T._Get_LV_SYMBOL_CUT=Bt("Get_LV_SYMBOL_CUT",0),T._Get_LV_SYMBOL_COPY=Bt("Get_LV_SYMBOL_COPY",0),T._Get_LV_SYMBOL_SAVE=Bt("Get_LV_SYMBOL_SAVE",0),T._Get_LV_SYMBOL_BARS=Bt("Get_LV_SYMBOL_BARS",0),T._Get_LV_SYMBOL_CHARGE=Bt("Get_LV_SYMBOL_CHARGE",0),T._Get_LV_SYMBOL_PASTE=Bt("Get_LV_SYMBOL_PASTE",0),T._Get_LV_SYMBOL_BELL=Bt("Get_LV_SYMBOL_BELL",0),T._Get_LV_SYMBOL_KEYBOARD=Bt("Get_LV_SYMBOL_KEYBOARD",0),T._Get_LV_SYMBOL_GPS=Bt("Get_LV_SYMBOL_GPS",0),T._Get_LV_SYMBOL_FILE=Bt("Get_LV_SYMBOL_FILE",0),T._Get_LV_SYMBOL_WIFI=Bt("Get_LV_SYMBOL_WIFI",0),T._Get_LV_SYMBOL_BATTERY_FULL=Bt("Get_LV_SYMBOL_BATTERY_FULL",0),T._Get_LV_SYMBOL_BATTERY_3=Bt("Get_LV_SYMBOL_BATTERY_3",0),T._Get_LV_SYMBOL_BATTERY_2=Bt("Get_LV_SYMBOL_BATTERY_2",0),T._Get_LV_SYMBOL_BATTERY_1=Bt("Get_LV_SYMBOL_BATTERY_1",0),T._Get_LV_SYMBOL_BATTERY_EMPTY=Bt("Get_LV_SYMBOL_BATTERY_EMPTY",0),T._Get_LV_SYMBOL_USB=Bt("Get_LV_SYMBOL_USB",0),T._Get_LV_SYMBOL_BLUETOOTH=Bt("Get_LV_SYMBOL_BLUETOOTH",0),T._Get_LV_SYMBOL_TRASH=Bt("Get_LV_SYMBOL_TRASH",0),T._Get_LV_SYMBOL_BACKSPACE=Bt("Get_LV_SYMBOL_BACKSPACE",0),T._Get_LV_SYMBOL_SD_CARD=Bt("Get_LV_SYMBOL_SD_CARD",0),T._Get_LV_SYMBOL_NEW_LINE=Bt("Get_LV_SYMBOL_NEW_LINE",0),T._main=Aa=Bt("__main_argc_argv",2),Jr=Bt("fflush",1),Zr=at.emscripten_stack_get_end,at.emscripten_stack_get_base,La=Bt("strerror",1),Ia=Bt("setThrew",2),ka=at.emscripten_stack_init,at.emscripten_stack_get_free,Oa=at._emscripten_stack_restore,Ma=at._emscripten_stack_alloc,Qr=at.emscripten_stack_get_current}var Pa={__assert_fail:Ui,__cxa_throw:xs,__syscall_fcntl64:Is,__syscall_getdents64:os,__syscall_ioctl:nn,__syscall_openat:js,_abort_js:cr,_embind_register_bigint:ur,_embind_register_bool:hr,_embind_register_class:Mn,_embind_register_class_constructor:yr,_embind_register_class_function:wr,_embind_register_class_property:xr,_embind_register_constant:Er,_embind_register_emval:Nr,_embind_register_enum:Rn,_embind_register_enum_value:Tr,_embind_register_float:$r,_embind_register_function:Vr,_embind_register_integer:Br,_embind_register_memory_view:Hs,_embind_register_optional:ja,_embind_register_std_string:Wa,_embind_register_std_wstring:Qa,_embind_register_void:eo,_emscripten_throw_longjmp:io,_emval_as:so,_emval_call_method:ro,_emval_decref:Dn,_emval_get_method_caller:lo,_emval_get_property:co,_emval_incref:uo,_emval_new_cstring:ho,_emval_run_destructors:go,_emval_take_value:po,_emval_typeof:fo,_tzset_js:vo,emscripten_asm_const_int:bo,emscripten_get_now:Gr,emscripten_resize_heap:wo,emscripten_set_main_loop_arg:To,environ_get:Ao,environ_sizes_get:Lo,fd_close:Io,fd_read:Oo,fd_seek:Ro,fd_write:$o,invoke_vi:el,random_get:Vo},vn;hi();function el(at,gt){var wt=$i();try{qs(at)(gt)}catch(Lt){if(zi(wt),Lt!==Lt+0)throw Lt;Ia(1,0)}}var Da;function tl(at=[]){ft(ti==0,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),ft(typeof Li>"u"||Li.length==0,"cannot call main when preRun functions remain to be called");var gt=Aa;at.unshift(me);var wt=at.length,Lt=Yr((wt+1)*4),Rt=Lt;at.forEach(Ut=>{jt[Rt>>2]=xa(Ut),Rt+=4}),jt[Rt>>2]=0;try{var Vt=gt(wt,Lt);return ba(Vt,!0),Vt}catch(Ut){return zr(Ut)}}function il(){ka(),mt()}function ea(at=ne){if(ti>0){di=ea;return}if(il(),si(),ti>0){di=ea;return}function gt(){var Lt;if(ft(!Da),Da=!0,T.calledRun=!0,!ct){ei(),Zt(),(Lt=T.onRuntimeInitialized)==null||Lt.call(T),Et("onRuntimeInitialized");var wt=T.noInitialRun||!1;wt||tl(at),Jt()}}T.setStatus?(T.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>T.setStatus(""),1),gt()},1)):gt(),_t()}function sl(){var at=ot,gt=ht,wt=!1;ot=ht=Lt=>{wt=!0};try{Jr(0),["stdout","stderr"].forEach(Lt=>{var Xt;var Rt=Nt.analyzePath("/dev/"+Lt);if(Rt){var Vt=Rt.object,Ut=Vt.rdev,Yt=ds.ttys[Ut];(Xt=Yt==null?void 0:Yt.output)!=null&&Xt.length&&(wt=!0)}})}catch{}ot=at,ht=gt,wt&&Oi("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc.")}function nl(){if(T.preInit)for(typeof T.preInit=="function"&&(T.preInit=[T.preInit]);T.preInit.length>0;)T.preInit.shift()();Et("preInit")}nl(),ea()}const cached=new Set,charset="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function genRandomStr(Y){const T=[],k=charset.length;for(let ee=0;ee<Y;ee++)T.push(charset[Math.floor(Math.random()*k)]);const Z=T.join("");return cached.has(Z)?genRandomStr(Y):(cached.add(Z),Z)}const siteURL=new URL(window.location.href);let Module={print:function(Y){console.log(Y)},printErr:function(Y){console.error(Y)},arguments:[siteURL.searchParams.get("w")||"1024",siteURL.searchParams.get("h")||"600"]};function initLvglModule(Y){return Module.OffScreenCanvas=new OffscreenCanvas(800,600),Module.Images={},LvglModule(Module),Module}function coordinateTrans(Y,T,k,Z=1){var ee=Y.getBoundingClientRect(),te=Math.round(T-ee.left)/Z,ne=Math.round(k-ee.top)/Z;return{X:te,Y:ne}}function initLvglCanvas(Y,T){const k=T.width,Z=T.height;Y.style.position="absolute",Y.width=k,Y.height=Z,Y.style.top="0px",Y.style.left="0px",Y.style.zIndex="0",Y.style.border="1px solid transparent";const ee=T.display.mouse;Y.addEventListener("mousemove",function(te){var ne=coordinateTrans(Y,te.clientX,te.clientY,T.scale);ne.X=Math.min(ne.X,k-1),ne.Y=Math.min(ne.Y,Z-1),ee.lv_set_mouse_pos(ne.X<0?0:ne.X,ne.Y<0?0:ne.Y)},!1),Y.addEventListener("mousedown",function(te){var ne=coordinateTrans(Y,te.clientX,te.clientY,T.scale);ee.lv_set_mouse_pos_state(ne.X,ne.Y,1)},!1),Y.addEventListener("mouseup",function(te){ee.lv_set_mouse_state(0)},!1),Module.ctx=Y.getContext("2d")}function createNewScreen(Y,T,k){const Z=genRandomStr(8),ee=document.createElement("canvas");ee.style.position="absolute",ee.width=T,ee.height=k,ee.style.top="0px",ee.style.left="0px",ee.style.zIndex="0",ee.style.border="1px solid transparent";const te=Module.createNewScreen("lxq",T,k),ne={id:Z,name:Y,screenObj:te.get_screen(),canvas:ee,scale:1,width:T,height:k,display:te};return screenStore.screens[Z]=ne,screenStore.curScreen=ne,ne}function switchScreen(Y,T){Module.ctx=null,Module.changeScreen(Y.screenObj,T.screenObj);const k=T.canvas.getContext("2d");k?Module.ctx=k:console.warn("Failed to get canvas context for new screen")}function hexToRgb(Y){if(Y=Y.replace(/^#/,""),Y.length===3&&(Y=Y.split("").map(ee=>ee+ee).join("")),Y.length!==6)throw new Error("Invalid hex color format");const T=parseInt(Y.substring(0,2),16),k=parseInt(Y.substring(2,4),16),Z=parseInt(Y.substring(4,6),16);return[T,k,Z]}function hexStrToLvColor(Y){Y.length<7&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]);const T=hexToRgb(Y);return Module.lv_color_make(T[0],T[1],T[2])}function LvColorToHexStr(Y){return Module.lv_color_to_string(Y)}function hexWithAlpha(Y,T){if(!Y)return"#000000ff";T=Math.max(0,Math.min(255,T));let k=Y.replace(/^#/,"");if(k.length===3&&(k=k.split("").map(ee=>ee+ee).join("")),k.length!==6)throw new Error("Invalid hex color format");const Z=T.toString(16).padStart(2,"0");return`#${k}${Z}`}function lv_fmt_img_data(Y,T,k,Z,ee=!0){if(!Y||!Module.Images[Y])return console.error(`Image "${Y}" not found in Module.Images`),null;const te=Module.Images[Y].width,ne=Module.Images[Y].height;return Module.lv_fmt_img_data(Y,te,ne,T,k,Z,ee)}function getDefaultWgtByName(Y){return Y=Y.toLowerCase(),Y==="arc"?Module.lv_arc_create(Module.lv_screen_active()):Y==="obj"?Module.lv_obj_create(Module.lv_screen_active()):Y==="bar"?Module.lv_bar_create(Module.lv_screen_active()):Y==="chart"?Module.lv_chart_create(Module.lv_screen_active()):Y==="image"?Module.lv_image_create(Module.lv_screen_active()):Y==="line"?Module.lv_line_create(Module.lv_screen_active()):Y==="label"?Module.lv_label_create(Module.lv_screen_active()):Y==="button"||Y==="btn"?Module.lv_button_create(Module.lv_screen_active()):Y==="textarea"?Module.lv_textarea_create(Module.lv_screen_active()):Y==="tabview"?Module.lv_tabview_create(Module.lv_screen_active()):Y==="panel"||Y==="container"?null:Y==="calendar"?Module.lv_calendar_create(Module.lv_screen_active()):Y==="checkbox"?Module.lv_checkbox_create(Module.lv_screen_active()):Y==="colorwheel"?null:Y==="dropdown"?Module.lv_dropdown_create(Module.lv_screen_active()):Y==="imagebutton"?null:Y==="keyboard"?Module.lv_keyboard_create(Module.lv_screen_active()):Y==="roller"?Module.lv_roller_create(Module.lv_screen_active()):Y==="slider"?Module.lv_slider_create(Module.lv_screen_active()):Y==="spinbox"?Module.lv_spinbox_create(Module.lv_screen_active()):Y==="switch"?Module.lv_switch_create(Module.lv_screen_active()):Y==="led"?Module.lv_led_create(Module.lv_screen_active()):Y==="scale"?Module.lv_scale_create(Module.lv_screen_active()):Y==="list"?Module.lv_list_create(Module.lv_screen_active()):Y==="table"?Module.lv_table_create(Module.lv_screen_active()):Y==="win"?Module.lv_win_create(Module.lv_screen_active()):Y==="spinner"?Module.lv_spinner_create(Module.lv_screen_active()):Y==="msgbox"?Module.lv_msgbox_create(Module.lv_screen_active()):Y==="span"?null:Y==="spangroup"?Module.lv_spangroup_create(Module.lv_screen_active()):Y==="multistatenum"?Module.lv_multistatenum_create(Module.lv_screen_active()):Y==="multistatetext"?Module.lv_multistatetext_create(Module.lv_screen_active()):Y==="multistateimage"?Module.lv_multistateimage_create(Module.lv_screen_active()):Y==="circle"?Module.lv_circle_create(Module.lv_screen_active()):Y==="ellipse"?Module.lv_ellipse_create(Module.lv_screen_active()):Y==="partellipse"?Module.lv_partellipse_create(Module.lv_screen_active()):Y==="partcircle"?Module.lv_partcircle_create(Module.lv_screen_active()):Y==="polygon"?Module.lv_polygon_create(Module.lv_screen_active()):Y==="pipe"?Module.lv_pipe_create(Module.lv_screen_active()):(console.warn(`Widget with name "${Y}" not found.`),Module.lv_obj_create(Module.lv_screen_active()))}const fontsData=proxy([]),lvglBinFont=proxy({});function moveChildren(Y,T,k,Z){const ee=Y.getChildCells(T,!0,!1);for(const te of ee){const ne=getShapeByCell(Y,te);if(!ne||!(ne instanceof LvglBase))continue;const me=ne.State;moveMySelf(Y,me,k,Z),Y.getChildCells(te,!0,!1).length>0&&moveChildren(Y,te,k,Z)}}function moveMySelf(Y,T,k,Z){const ee=T.shape;!ee||!(ee instanceof LvglBase)||(T.x+=k*Y.view.scale,T.y+=Z*Y.view.scale)}const Bn=class Bn{constructor(T,k,Z,ee=Bn.stateCnt){bt(this,"widget");bt(this,"name","base");bt(this,"state");bt(this,"_part");bt(this,"_curStateIdx",0);this._part=k,this.widget=T,this.state=Z}get curStateIdx(){return this._curStateIdx}set curStateIdx(T){if(T<0||T>=Bn.stateCnt)throw new Error("Invalid state index");this._curStateIdx=T}setState(T){this.curStateIdx=T,this._part=this._part|StateOpts[T].value}createDefault(){const T=Module.lv_obj_get_class_name(this.widget),k=getDefaultWgtByName(T);if(!k)return this;const Z=this.constructor;return new Z(k,this._part,this.state)}pickAttributes(){const T={};for(const k of Object.keys(this))if(k.startsWith("_")&&this[k]instanceof Array){const Z=this[k];T[k.slice(1)]=Z[this._curStateIdx]}return T}toXML(T){let k=0,Z=0;const ee=this.constructor.name.split("_")[1],te=T.createElement(ee),ne=this.createDefault();for(const me of Object.keys(this)){if(!me.startsWith("_")||me==="_part"||me==="_curStateIdx")continue;const Ve=this[me];let Ye="";if(Ve.forEach((tt,it)=>{const st=ne[me][it];tt!==st&&(k++,typeof tt=="string"?Ye+=tt:typeof tt=="number"||typeof tt=="boolean"?Ye+=tt.toString():console.warn(`Unsupported type for attribute ${me}:`,tt)),Ye+=","}),k!==0){Z++;const tt=me.substring(1);te.setAttribute(tt,Ye.substring(0,Ye.length-1)),k=0}}return Module.lv_obj_delete(ne.widget),Z===0?null:te}fromXML(T){const k=T.getAttributeNames();for(const Z of k)T.getAttribute(Z).split(",").forEach((ne,me)=>{if(ne!==""){this._curStateIdx=me;const Ve=this.getAttributeType(Z);let Ye=ne;Ve==="number"&&(Ye=parseInt(ne)),this[Z]=Ye}})}getAttributeType(T){return"string"}setAttribute(T,k){}};bt(Bn,"stateCnt",7),bt(Bn,"ignoreProps",["lvglObj","name","_part"]);let LV_BaseStyle=Bn;class LV_Background extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_enableFlag",[]);bt(this,"_bgRadius",[]);bt(this,"_bgColor",[]);bt(this,"_bgOpa",[]);bt(this,"_bgThemeColor",[]);bt(this,"_bgGradientColor",[]);bt(this,"_bgGradientColorOpa",[]);bt(this,"_bgGradientTheme",[]);bt(this,"_bgMainStop",[]);bt(this,"_bgGradientStop",[]);bt(this,"_gradientDir",[]);bt(this,"_clipCorner",[]);for(let ne=0;ne<te;ne++){const me=Z|StateOpts[ne].value;this._enableFlag.push(0),this._bgRadius.push(Module.lv_obj_get_style_radius(this.widget,me)),this._bgColor.push(LvColorToHexStr(Module.lv_obj_get_style_bg_color(this.widget,me))),this._bgOpa.push(Module.lv_obj_get_style_bg_opa(this.widget,me)),this._bgGradientColor.push(LvColorToHexStr(Module.lv_obj_get_style_bg_grad_color(this.widget,me))),this._bgMainStop.push(Module.lv_obj_get_style_bg_main_stop(this.widget,me)),this._bgGradientStop.push(Module.lv_obj_get_style_bg_grad_stop(this.widget,me)),this._gradientDir.push(Module.lv_obj_get_style_bg_grad_dir(this.widget,me)),this._clipCorner.push(Module.lv_obj_get_style_clip_corner(this.widget,me))}}get enableFlag(){return this._enableFlag[this._curStateIdx]}set enableFlag(k){this._enableFlag[this._curStateIdx]=k}get bgRadius(){return this._bgRadius[this._curStateIdx]}set bgRadius(k){this._bgRadius[this._curStateIdx]=k,Module.lv_obj_set_style_radius(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get bgColor(){return this._bgColor[this._curStateIdx]}set bgColor(k){this._bgColor[this._curStateIdx]=k;const Z=hexStrToLvColor(k);Module.lv_obj_set_style_bg_color(this.widget,Z,this._part|StateOpts[this._curStateIdx].value)}get bgOpa(){return this._bgOpa[this._curStateIdx]}set bgOpa(k){this._bgOpa[this._curStateIdx]=k,Module.lv_obj_set_style_bg_opa(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get bgThemeColor(){return this._bgThemeColor[this._curStateIdx]}set bgThemeColor(k){this._bgThemeColor[this._curStateIdx]=k}get bgGradientColor(){return this._bgGradientColor[this._curStateIdx]}set bgGradientColor(k){this._bgGradientColor[this._curStateIdx]=k;const Z=hexToRgb(k),ee=Module.lv_color_make(Z[0],Z[1],Z[2]);Module.lv_obj_set_style_bg_grad_color(this.widget,ee,this._part|StateOpts[this._curStateIdx].value)}get bgGradientColorOpa(){return this._bgGradientColorOpa[this._curStateIdx]}set bgGradientColorOpa(k){this._bgGradientColorOpa[this._curStateIdx]=k,Module.lv_obj_set_style_bg_grad_opa(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get bgGradientTheme(){return this._bgGradientTheme[this._curStateIdx]}set bgGradientTheme(k){this._bgGradientTheme[this._curStateIdx]=k}get bgMainStop(){return this._bgMainStop[this._curStateIdx]}set bgMainStop(k){this._bgMainStop[this._curStateIdx]=k,Module.lv_obj_set_style_bg_main_stop(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get bgGradientStop(){return this._bgGradientStop[this._curStateIdx]}set bgGradientStop(k){this._bgGradientStop[this._curStateIdx]=k,Module.lv_obj_set_style_bg_grad_stop(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get gradientDir(){return this._gradientDir[this._curStateIdx]}set gradientDir(k){this._gradientDir[this._curStateIdx]=k,Module.lv_obj_set_style_bg_grad_dir(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get clipCorner(){return this._clipCorner[this._curStateIdx]}set clipCorner(k){this._clipCorner[this._curStateIdx]=k,Module.lv_obj_set_style_clip_corner(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}getAttributeType(k){return k==="bgRadius"||k==="bgOpa"||k==="bgMainStop"||k==="bgGradientStop"||k==="gradientDir"||k==="clipCorner"?"number":"string"}}class LV_BackgroundImage extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_imageDecT",[]);bt(this,"_enableFlag",[]);bt(this,"_bgImage",[]);bt(this,"_bgImageOpa",[]);bt(this,"_bgImageRecolor",[]);bt(this,"_bgImageRecolorAlpha",[]);bt(this,"_bgImageRecolorTheme",[]);bt(this,"_bgImageTiled",[]);for(let ne=0;ne<te;ne++){this._enableFlag.push(0),this._bgImage.push("");const me=Z|StateOpts[ne].value;this._bgImageOpa.push(Module.lv_obj_get_style_bg_image_opa(this.widget,me)),this._bgImageRecolor.push(LvColorToHexStr(Module.lv_obj_get_style_bg_image_recolor(this.widget,me))),this._bgImageRecolorAlpha.push(Module.lv_obj_get_style_bg_image_recolor_opa(this.widget,me)),this._bgImageTiled.push(Module.lv_obj_get_style_bg_image_tiled(this.widget,me)),this._bgImageRecolorTheme.push("#000")}}get imageDecT(){return this._imageDecT[this._curStateIdx]}set imageDecT(k){this._imageDecT[this._curStateIdx]=k}get enableFlag(){return this._enableFlag[this._curStateIdx]}set enableFlag(k){this._enableFlag[this._curStateIdx]=k}get bgImage(){return this._bgImage[this._curStateIdx]}set bgImage(k){if(this.imageDecT&&(Module.lv_image_buf_free(this.imageDecT),this.imageDecT=null),!k){Module.lv_obj_set_style_bg_image_src(this.widget,null,this._part|StateOpts[this._curStateIdx].value);return}Module.lv_obj_update_layout(this.widget);const Z=Module.lv_obj_get_width(this.widget),ee=Module.lv_obj_get_height(this.widget);if(!Z||!ee)return;const te=lv_fmt_img_data(k,Z,ee,3,!0);if(!te){console.warn(`Image "${k}" not found or invalid.`);return}this.imageDecT=te,this._bgImage[this._curStateIdx]=k,Module.lv_obj_set_style_bg_image_src(this.widget,te,this._part|StateOpts[this._curStateIdx].value)}get bgImageOpa(){return this._bgImageOpa[this._curStateIdx]}set bgImageOpa(k){this._bgImageOpa[this._curStateIdx]=k,Module.lv_obj_set_style_bg_image_opa(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get bgImageRecolor(){return this._bgImageRecolor[this._curStateIdx]}set bgImageRecolor(k){this._bgImageRecolor[this._curStateIdx]=k;const Z=hexStrToLvColor(k);Module.lv_obj_set_style_bg_image_recolor(this.widget,Z,this._part|StateOpts[this._curStateIdx].value)}get bgImageRecolorAlpha(){return this._bgImageRecolorAlpha[this._curStateIdx]}set bgImageRecolorAlpha(k){this._bgImageRecolorAlpha[this._curStateIdx]=k,Module.lv_obj_set_style_bg_image_recolor_opa(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get bgImageRecolorTheme(){return this._bgImageRecolorTheme[this._curStateIdx]}set bgImageRecolorTheme(k){this._bgImageRecolorTheme[this._curStateIdx]=k}get bgImageTiled(){return this._bgImageTiled[this._curStateIdx]}set bgImageTiled(k){this._bgImageTiled[this._curStateIdx]=k,Module.lv_obj_set_style_bg_image_tiled(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}getAttributeType(k){return k==="bgImageOpa"||k==="bgImageRecolorAlpha"||k==="bgImageTiled"?"number":"string"}}class LV_Border extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_enableFlag",[]);bt(this,"_borderColor",[]);bt(this,"_borderColorOpa",[]);bt(this,"_borderTheme",[]);bt(this,"_borderWidth",[]);bt(this,"_borderSide",[]);bt(this,"_post",[]);for(let ne=0;ne<te;ne++){this._enableFlag.push(0);const me=Z|StateOpts[ne].value;this._borderColor.push(LvColorToHexStr(Module.lv_obj_get_style_border_color(this.widget,me))),this._borderColorOpa.push(Module.lv_obj_get_style_border_opa(this.widget,me)),this._borderTheme.push("#000"),this._borderWidth.push(Module.lv_obj_get_style_border_width(this.widget,me)),this._borderSide.push(Module.lv_obj_get_style_border_side(this.widget,me)),this._post.push(Module.lv_obj_get_style_border_post(this.widget,me))}}get enableFlag(){return this._enableFlag[this._curStateIdx]}set enableFlag(k){this._enableFlag[this._curStateIdx]=k}get borderColor(){return this._borderColor[this._curStateIdx]}set borderColor(k){this._borderColor[this._curStateIdx]=k;const Z=hexToRgb(k),ee=Module.lv_color_make(Z[0],Z[1],Z[2]);Module.lv_obj_set_style_border_color(this.widget,ee,this._part)}get borderColorOpa(){return this._borderColorOpa[this._curStateIdx]}set borderColorOpa(k){this._borderColorOpa[this._curStateIdx]=k,Module.lv_obj_set_style_border_opa(this.widget,k,this._part)}get borderTheme(){return this._borderTheme[this._curStateIdx]}set borderTheme(k){this._borderTheme[this._curStateIdx]=k}get borderWidth(){return this._borderWidth[this._curStateIdx]}set borderWidth(k){let Z=0,ee=0;const te=this._borderSide[this.curStateIdx];(te===lv_border_side_t.LV_BORDER_SIDE_LEFT||te===lv_border_side_t.LV_BORDER_SIDE_FULL)&&(Z=k-this._borderWidth[this.curStateIdx]),(ee===lv_border_side_t.LV_BORDER_SIDE_TOP||te===lv_border_side_t.LV_BORDER_SIDE_FULL)&&(ee=k-this._borderWidth[this.curStateIdx]),(Z!=0||ee!=0)&&moveChildren(this.state.view.graph,this.state.cell,Z,ee),this._borderWidth[this._curStateIdx]=k,Module.lv_obj_set_style_border_width(this.widget,k,this._part)}get borderSide(){return this._borderSide[this._curStateIdx]}set borderSide(k){this._borderSide[this._curStateIdx]=k,Module.lv_obj_set_style_border_side(this.widget,k,this._part)}get post(){return this._post[this._curStateIdx]}set post(k){this._post[this._curStateIdx]=k,Module.lv_obj_set_style_border_post(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}getAttributeType(k){return k==="borderWidth"||k==="borderColorAlpha"?"number":"string"}}class LV_Outline extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_enableFlag",[]);bt(this,"_outlineColor",[]);bt(this,"_outlineColorAlpha",[]);bt(this,"_outlineTheme",[]);bt(this,"_outlineWidth",[]);bt(this,"_outlinePad",[]);for(let ne=0;ne<te;ne++){this._enableFlag.push(0);const me=Z|StateOpts[ne].value;this._outlineColor.push(LvColorToHexStr(Module.lv_obj_get_style_outline_color(this.widget,me))),this._outlineColorAlpha.push(Module.lv_obj_get_style_outline_opa(this.widget,me)),this._outlineTheme.push("#000"),this._outlineWidth.push(Module.lv_obj_get_style_outline_width(this.widget,me)),this._outlinePad.push(Module.lv_obj_get_style_outline_pad(this.widget,me))}}get enableFlag(){return this._enableFlag[this._curStateIdx]}set enableFlag(k){this._enableFlag[this._curStateIdx]=k}get outlineColor(){return this._outlineColor[this._curStateIdx]}set outlineColor(k){this._outlineColor[this._curStateIdx]=k;const Z=this._part|StateOpts[this._curStateIdx].value,ee=hexToRgb(k),te=Module.lv_color_make(ee[0],ee[1],ee[2]);Module.lv_obj_set_style_outline_color(this.widget,te,Z)}get outlineColorAlpha(){return this._outlineColorAlpha[this._curStateIdx]}set outlineColorAlpha(k){this._outlineColorAlpha[this._curStateIdx]=k;const Z=this._part|StateOpts[this._curStateIdx].value;Module.lv_obj_set_style_outline_opa(this.widget,k,Z)}get outlineTheme(){return this._outlineTheme[this._curStateIdx]}set outlineTheme(k){this._outlineTheme[this._curStateIdx]=k,this._part|StateOpts[this._curStateIdx].value}get outlineWidth(){return this._outlineWidth[this._curStateIdx]}set outlineWidth(k){this._outlineWidth[this._curStateIdx]=k;const Z=this._part|StateOpts[this._curStateIdx].value;Module.lv_obj_set_style_outline_width(this.widget,k,Z)}get outlinePad(){return this._outlinePad[this._curStateIdx]}set outlinePad(k){this._outlinePad[this._curStateIdx]=k;const Z=this._part|StateOpts[this._curStateIdx].value;Module.lv_obj_set_style_outline_pad(this.widget,k,Z)}getAttributeType(k){return k==="outlineWidth"||k==="outlinePad"||k==="outlineColorAlpha"?"number":"string"}}class LV_Shadow extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_enableFlag",[]);bt(this,"_shadowColor",[]);bt(this,"_shadowColorAlpha",[]);bt(this,"_shadowTheme",[]);bt(this,"_shadowWidth",[]);bt(this,"_shadowSpread",[]);bt(this,"_shadowOX",[]);bt(this,"_shadowOY",[]);for(let ne=0;ne<te;ne++){this._enableFlag.push(0);const me=Z|StateOpts[ne].value;this._shadowColor.push(LvColorToHexStr(Module.lv_obj_get_style_shadow_color(this.widget,me))),this._shadowColorAlpha.push(Module.lv_obj_get_style_shadow_opa(this.widget,me)),this._shadowTheme.push("#000"),this._shadowWidth.push(Module.lv_obj_get_style_shadow_width(this.widget,me)),this._shadowSpread.push(Module.lv_obj_get_style_shadow_spread(this.widget,me)),this._shadowOX.push(Module.lv_obj_get_style_shadow_offset_x(this.widget,me)),this._shadowOY.push(Module.lv_obj_get_style_shadow_offset_y(this.widget,me))}}get enableFlag(){return this._enableFlag[this._curStateIdx]}set enableFlag(k){this._enableFlag[this._curStateIdx]=k}get shadowColor(){return this._shadowColor[this._curStateIdx]}set shadowColor(k){this._shadowColor[this._curStateIdx]=k;const Z=hexToRgb(k),ee=Module.lv_color_make(Z[0],Z[1],Z[2]);Module.lv_obj_set_style_shadow_color(this.widget,ee,this._part|StateOpts[this._curStateIdx].value)}get shadowColorAlpha(){return this._shadowColorAlpha[this._curStateIdx]}set shadowColorAlpha(k){this._shadowColorAlpha[this._curStateIdx]=k,Module.lv_obj_set_style_shadow_opa(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get shadowTheme(){return this._shadowTheme[this._curStateIdx]}set shadowTheme(k){this._shadowTheme[this._curStateIdx]=k}get shadowWidth(){return this._shadowWidth[this._curStateIdx]}set shadowWidth(k){this._shadowWidth[this._curStateIdx]=k,Module.lv_obj_set_style_shadow_width(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get shadowSpread(){return this._shadowSpread[this._curStateIdx]}set shadowSpread(k){this._shadowSpread[this._curStateIdx]=k,Module.lv_obj_set_style_shadow_spread(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get shadowOX(){return this._shadowOX[this._curStateIdx]}set shadowOX(k){this._shadowOX[this._curStateIdx]=k,Module.lv_obj_set_style_shadow_offset_x(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get shadowOY(){return this._shadowOY[this._curStateIdx]}set shadowOY(k){this._shadowOY[this._curStateIdx]=k,Module.lv_obj_set_style_shadow_offset_y(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}getAttributeType(k){return k==="shadowWidth"||k==="shadowSpread"||k==="shadowOX"||k==="shadowOY"||k==="shadowColorAlpha"?"number":"string"}}class LV_Blend extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_enableFlag",[]);bt(this,"_blendMode",[]);for(let ne=0;ne<te;ne++){this._enableFlag.push(0);const me=Z|StateOpts[ne].value;this._blendMode.push(Module.lv_obj_get_style_blend_mode(this.widget,me))}}get enableFlag(){return this._enableFlag[this._curStateIdx]}set enableFlag(k){this._enableFlag[this._curStateIdx]=k}get blendMode(){return this._blendMode[this._curStateIdx]}set blendMode(k){this._blendMode[this._curStateIdx]=k,Module.lv_obj_set_style_blend_mode(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}getAttributeType(k){return k==="blendMode"?"number":"string"}}class LV_Paddings extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_enableFlag",[]);bt(this,"_padLeft",[]);bt(this,"_padRight",[]);bt(this,"_padTop",[]);bt(this,"_padBottom",[]);bt(this,"_padRow",[]);bt(this,"_padColumn",[]);for(let ne=0;ne<te;ne++){this._enableFlag.push(0);const me=Z|StateOpts[ne].value;this._padLeft.push(Module.lv_obj_get_style_pad_left(this.widget,me)),this._padRight.push(Module.lv_obj_get_style_pad_right(this.widget,me)),this._padTop.push(Module.lv_obj_get_style_pad_top(this.widget,me)),this._padBottom.push(Module.lv_obj_get_style_pad_bottom(this.widget,me)),this._padRow.push(Module.lv_obj_get_style_pad_row(this.widget,me)),this._padColumn.push(Module.lv_obj_get_style_pad_column(this.widget,me))}}get enableFlag(){return this._enableFlag[this._curStateIdx]}set enableFlag(k){this._enableFlag[this._curStateIdx]=k}get padLeft(){return this._padLeft[this._curStateIdx]}set padLeft(k){const Z=k-this._padLeft[this._curStateIdx];moveChildren(this.state.view.graph,this.state.cell,Z,0),this._padLeft[this._curStateIdx]=k,Module.lv_obj_set_style_pad_left(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get padRight(){return this._padRight[this._curStateIdx]}set padRight(k){const Z=k-this._padRight[this._curStateIdx];moveChildren(this.state.view.graph,this.state.cell,0,Z),this._padRight[this._curStateIdx]=k,Module.lv_obj_set_style_pad_right(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get padTop(){return this._padTop[this._curStateIdx]}set padTop(k){this._padTop[this._curStateIdx]=k,Module.lv_obj_set_style_pad_top(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get padBottom(){return this._padBottom[this._curStateIdx]}set padBottom(k){this._padBottom[this._curStateIdx]=k,Module.lv_obj_set_style_pad_bottom(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get padRow(){return this._padRow[this._curStateIdx]}set padRow(k){this._padRow[this._curStateIdx]=k,this.padLeft=k,this.padRight=k}get padColumn(){return this._padColumn[this._curStateIdx]}set padColumn(k){this._padColumn[this._curStateIdx]=k,this.padTop=k,this.padBottom=k}getAttributeType(k){return k==="padLeft"||k==="padRight"||k==="padTop"||k==="padBottom"||k==="padRow"||k==="padColumn"?"number":"string"}}class LV_Margin extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_left",[]);bt(this,"_right",[]);bt(this,"_top",[]);bt(this,"_bottom",[]);for(let ne=0;ne<te;ne++){const me=Z|StateOpts[ne].value;this._left.push(Module.lv_obj_get_style_margin_left(this.widget,me)),this._right.push(Module.lv_obj_get_style_margin_right(this.widget,me)),this._top.push(Module.lv_obj_get_style_margin_top(this.widget,me)),this._bottom.push(Module.lv_obj_get_style_margin_bottom(this.widget,me))}}get left(){return this._left[this._curStateIdx]}set left(k){const Z=k-this._left[this._curStateIdx];moveMySelf(this.state.view.graph,this.state,Z,0),this._left[this._curStateIdx]=k,Module.lv_obj_set_style_margin_left(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get right(){return this._right[this._curStateIdx]}set right(k){this._right[this._curStateIdx]=k,Module.lv_obj_set_style_margin_right(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get top(){return this._top[this._curStateIdx]}set top(k){const Z=k-this._top[this._curStateIdx];moveMySelf(this.state.view.graph,this.state,0,Z),this._top[this._curStateIdx]=k,Module.lv_obj_set_style_margin_top(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get bottom(){return this._bottom[this._curStateIdx]}set bottom(k){this._bottom[this._curStateIdx]=k,Module.lv_obj_set_style_margin_bottom(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}getAttributeType(k){return"number"}}class LV_Transform extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_minWidth",[]);bt(this,"_maxWidth",[]);bt(this,"_minHeight",[]);bt(this,"_maxHeight",[]);bt(this,"_rotation",[]);bt(this,"_scaleX",[]);bt(this,"_scaleY",[]);bt(this,"_translateX",[]);bt(this,"_translateY",[]);for(let ne=0;ne<te;ne++){const me=Z|StateOpts[ne].value;this._maxWidth.push(Module.lv_obj_get_style_max_width(this.widget,me)),this._minHeight.push(Module.lv_obj_get_style_min_height(this.widget,me)),this._maxHeight.push(Module.lv_obj_get_style_max_height(this.widget,me)),this._minWidth.push(Module.lv_obj_get_style_min_width(this.widget,me)),this._rotation.push(Module.lv_obj_get_style_transform_rotation(this.widget,me)),this._scaleX.push(Module.lv_obj_get_style_transform_scale_x(this.widget,me)),this._scaleY.push(Module.lv_obj_get_style_transform_scale_y(this.widget,me)),this._translateX.push(Module.lv_obj_get_style_translate_x(this.widget,me)),this._translateY.push(Module.lv_obj_get_style_translate_y(this.widget,me))}}get minWidth(){return this._minWidth[this._curStateIdx]}set minWidth(k){this._minWidth[this._curStateIdx]=k,Module.lv_obj_set_style_transform_width(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get maxWidth(){return this._maxWidth[this._curStateIdx]}set maxWidth(k){this._maxWidth[this._curStateIdx]=k,Module.lv_obj_set_style_transform_width(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get minHeight(){return this._minHeight[this._curStateIdx]}set minHeight(k){this._minHeight[this._curStateIdx]=k,Module.lv_obj_set_style_transform_height(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get maxHeight(){return this._maxHeight[this._curStateIdx]}set maxHeight(k){this._maxHeight[this._curStateIdx]=k,Module.lv_obj_set_style_transform_height(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get rotation(){return this._rotation[this._curStateIdx]}set rotation(k){this._rotation[this._curStateIdx]=k,Module.lv_obj_set_style_transform_rotation(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get scaleX(){return this._scaleX[this._curStateIdx]}set scaleX(k){this._scaleX[this._curStateIdx]=k,Module.lv_obj_set_style_transform_scale_x(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get scaleY(){return this._scaleY[this._curStateIdx]}set scaleY(k){this._scaleY[this._curStateIdx]=k,Module.lv_obj_set_style_transform_scale_y(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get translateX(){return this._translateX[this._curStateIdx]}set translateX(k){this._translateX[this._curStateIdx]=k,Module.lv_obj_set_style_translate_x(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get translateY(){return this._translateY[this._curStateIdx]}set translateY(k){this._translateY[this._curStateIdx]=k,Module.lv_obj_set_style_translate_y(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}getAttributeType(k){return k==="minWidth"||k==="maxWidth"||k==="minHeight"||k==="maxHeight"||k==="transformRotation"||k==="transformScale"||k==="pivotX"?"number":"string"}}class LV_Text extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"lvFontStyle_",[]);bt(this,"_textColor",[]);bt(this,"_opa",[]);bt(this,"_themeColor",[]);bt(this,"_letterSpace",[]);bt(this,"_lineSpace",[]);bt(this,"_textAlign",[]);bt(this,"_textDector",[]);bt(this,"_textFont",[]);for(let ne=0;ne<te;ne++){const me=Z|StateOpts[ne].value;this._textColor.push(LvColorToHexStr(Module.lv_obj_get_style_text_color(this.widget,me))),this._opa.push(Module.lv_obj_get_style_text_opa(this.widget,me)),this._themeColor.push("#000"),this._letterSpace.push(Module.lv_obj_get_style_text_letter_space(this.widget,me)),this._lineSpace.push(Module.lv_obj_get_style_text_line_space(this.widget,me)),this._textAlign.push(Module.lv_obj_get_style_text_align(this.widget,me)),this._textDector.push(Module.lv_obj_get_style_text_decor(this.widget,me)),this._textFont.push("")}}get lvFontStyle(){return this.lvFontStyle_[this._curStateIdx]}set lvFontStyle(k){this.lvFontStyle_[this._curStateIdx]=k}get textColor(){return this._textColor[this._curStateIdx]}set textColor(k){this._textColor[this._curStateIdx]=k;const Z=hexToRgb(k),ee=Module.lv_color_make(Z[0],Z[1],Z[2]);Module.lv_obj_set_style_text_color(this.widget,ee,this._part)}get opa(){return this._opa[this._curStateIdx]}set opa(k){this._opa[this._curStateIdx]=k,Module.lv_obj_set_style_text_opa(this.widget,k,this._part)}get themeColor(){return this._themeColor[this._curStateIdx]}set themeColor(k){this._themeColor[this._curStateIdx]=k}get letterSpace(){return this._letterSpace[this._curStateIdx]}set letterSpace(k){this._letterSpace[this._curStateIdx]=k,Module.lv_obj_set_style_text_letter_space(this.widget,k,this._part)}get lineSpace(){return this._lineSpace[this._curStateIdx]}set lineSpace(k){this._lineSpace[this._curStateIdx]=k,Module.lv_obj_set_style_text_line_space(this.widget,k,this._part)}get textAlign(){return this._textAlign[this._curStateIdx]}set textAlign(k){this._textAlign[this._curStateIdx]=k,Module.lv_obj_set_style_text_align(this.widget,k,this._part)}get textDector(){return this._textDector[this._curStateIdx]}set textDector(k){this._textDector[this._curStateIdx]=k,Module.lv_obj_set_style_text_decor(this.widget,k,this._part)}get textFont(){return this._textFont[this._curStateIdx]}set textFont(k){if(this._textFont[this._curStateIdx]===k)return;const Z=this._part|StateOpts[this._curStateIdx].value;if(this.lvFontStyle&&(Module.lv_obj_remove_style(this.widget,this.lvFontStyle,Z),this.lvFontStyle=null),this.lvFontStyle=lvglBinFont[k],!this.lvFontStyle&&(this.lvFontStyle=Module.getDefaultFontByName(k),!this.lvFontStyle)){console.warn(`Font "${k}" not found.`),this.lvFontStyle=null;return}Module.lv_obj_add_style(this.widget,this.lvFontStyle,Z),this._textFont[this._curStateIdx]=k}getAttributeType(k){return k==="letterSpace"||k==="lineSpace"||k==="textAlign"||k==="textDector"?"number":"string"}}class LV_Animation extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_time",[]);for(let ne=0;ne<te;ne++)this._time.push(0)}get time(){return this._time[this._curStateIdx]}set time(k){this._time[this._curStateIdx]=k}getAttributeType(k){return"string"}}class LV_ARC_Background extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_arcWidth",[]);bt(this,"_arcColor",[]);bt(this,"_opa",[]);bt(this,"_themeColor",[]);bt(this,"_arcRounded",[]);bt(this,"_arcImage",[]);bt(this,"imageDecT",null);for(let ne=0;ne<te;ne++){const me=Z|StateOpts[ne].value,Ve=LvColorToHexStr(Module.lv_obj_get_style_arc_color(this.widget,me));this._arcColor.push(Ve),this._opa.push(Module.lv_obj_get_style_arc_opa(this.widget,me)),this._themeColor.push(""),this._arcWidth.push(Module.lv_obj_get_style_arc_width(this.widget,me)),this._arcRounded.push(Module.lv_obj_get_style_arc_rounded(this.widget,me)),this._arcImage.push("")}}get arcColor(){return this._arcColor[this._curStateIdx]}set arcColor(k){this._arcColor[this._curStateIdx]=k;const Z=hexStrToLvColor(k);Module.lv_obj_set_style_arc_color(this.widget,Z,this._part|StateOpts[this._curStateIdx].value)}get opa(){return this._opa[this._curStateIdx]}set opa(k){this._opa[this._curStateIdx]=k,Module.lv_obj_set_style_arc_opa(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get themeColor(){return this._themeColor[this._curStateIdx]}set themeColor(k){this._themeColor[this._curStateIdx]=k}get arcWidth(){return this._arcWidth[this._curStateIdx]}set arcWidth(k){this._arcWidth[this._curStateIdx]=k,Module.lv_obj_set_style_arc_width(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get arcRounded(){return this._arcRounded[this._curStateIdx]}set arcRounded(k){this._arcRounded[this._curStateIdx]=k,Module.lv_obj_set_style_arc_rounded(this.widget,k,this._part|StateOpts[this._curStateIdx].value)}get arcImage(){return this._arcImage[this._curStateIdx]}set arcImage(k){this.imageDecT&&(Module.lv_image_buf_free(this.imageDecT),this.imageDecT=null);const Z=Module.lv_obj_get_width(this.widget),ee=Module.lv_obj_get_height(this.widget),te=lv_fmt_img_data(k,Z,ee,3,!0);if(!te){console.warn(`Image "${k}" not found or invalid.`);return}this.imageDecT=te,Module.lv_obj_set_style_arc_image_src(this.widget,te,this._part|StateOpts[this._curStateIdx].value),this._arcImage[this._curStateIdx]=k}getAttributeType(k){return k==="arcWidth"?"number":"string"}}class LV_IMG_Background extends LV_BaseStyle{constructor(k,Z,ee,te=LV_BaseStyle.stateCnt){super(k,Z,ee);bt(this,"_color",[]);bt(this,"_themeColor",[]);for(let ne=0;ne<te;ne++)this._color.push("#fff"),this._themeColor.push("")}get color(){return this._color[this._curStateIdx]}set color(k){this._color[this._curStateIdx]=k}get themeColor(){return this._themeColor[this._curStateIdx]}set themeColor(k){this._themeColor[this._curStateIdx]=k}getAttributeType(k){return"string"}}class CreateBaseStyle{static createStyles(T,k,Z,ee){return[["Background",new LV_Background(Z,T,ee,k)],["BackgroundImage",new LV_BackgroundImage(Z,T,ee,k)],["Border",new LV_Border(Z,T,ee,k)],["Outline",new LV_Outline(Z,T,ee,k)],["Shadow",new LV_Shadow(Z,T,ee,k)],["Blend",new LV_Blend(Z,T,ee,k)],["Paddings",new LV_Paddings(Z,T,ee,k)],["Margin",new LV_Margin(Z,T,ee,k)]]}}function variableIdToName(Y){let T="";const k=Y.split("."),Z=structAndVarRelationIntegrateModuleObj.getTreeFlattener();return k.forEach(ee=>{var ne;const te=(ne=Z.getNodeBySourceId(ee))==null?void 0:ne.source;te&&(T+=te.name+".")}),T.slice(0,-1)}function VariablesToNode(Y,T){let k=0;const Z=Y.createElement("Variables");for(const ee in T){if(!T[ee].bindVar)continue;k++;const te=Y.createElement("Variable");te.setAttribute("name",ee),te.setAttribute("type",T[ee].type),T[ee].isDynamic&&te.setAttribute("isDynamic","true");const ne=T[ee].bindVar;if(te.setAttribute("bindVar",variableIdToName(ne)),te.setAttribute("bindVarId",ne),T[ee].expression){const me=Y.createElement("Expressions");T[ee].expression.forEach(Ve=>{const Ye=Y.createElement("Expression");Ye.setAttribute("condition",Ve.condition),Ve.condition==="btwn"?Ye.setAttribute("value",Ve.value.join(",")):Ve.value.length>0&&Ye.setAttribute("value",Ve.value[0].toString()),Ye.setAttribute("result",Ve.result.toString()),me.setAttribute("valueType",Ve.valueType),me.appendChild(Ye)}),te.appendChild(me)}Z.appendChild(te)}return k===0?null:Z}function nodeToVariables(Y,T){const k={};return((T==null?void 0:T.querySelectorAll("Variable"))||[]).forEach(ee=>{const te=ee.getAttribute("name");if(!te)return;const ne=ee.getAttribute("bindVarId"),me=ee.getAttribute("isDynamic")==="true",Ve=Y.variables[te].type;if(ne&&te&&Y.variables[te]){Y.variables[te].bindVar=ne,Y.variables[te].isDynamic=me;const Ye=ee.querySelector("Expressions");if(!Ye)return;const et=[];(Ye==null?void 0:Ye.querySelectorAll("Expression")).forEach(it=>{const st=it.getAttribute("condition"),nt=it.getAttribute("value"),rt=Ye.getAttribute("valueType");let lt=[];st==="btwn"&&!nt.includes(",")?lt=nt.split(",").map(ht=>rt==="number"?Number(ht):ht):lt=[rt==="number"?Number(nt):nt,rt==="number"?Number(nt):nt];const ot=Ve!=="string"?Number(it.getAttribute("result")):it.getAttribute("result");et.push({key:genRandomStr(6),condition:st,value:lt,valueType:rt,result:ot})}),et.length>0&&(Y.variables[te].expression=et)}}),k}function writeVariablesToNode(Y,T){Y.setAttribute("variableId",T),Y.setAttribute("variable",variableIdToName(T))}class LvglEventAction{constructor(T,k){bt(this,"id",genRandomStr(8));bt(this,"type",0);bt(this,"actionName",0);bt(this,"value","");bt(this,"variable","");bt(this,"varOperator","set");bt(this,"functionName","");bt(this,"trigger",1);bt(this,"lvglObj");bt(this,"targetId","");bt(this,"target",null);bt(this,"isDelete",!1);bt(this,"func",null);this.lvglObj=T,this.actionName=k,console.log("LvglEventAction created",this.id,this.actionName)}genFunc(T){if(!this.target)return Z=>{};let k=Z=>{};if(this.actionName===0){const Z=Number(T);this.type===0?k=ee=>{this.target._layout.width=Z,console.log("set width")}:this.type===1?k=()=>{this.target._layout.height=Z,console.log("set hight")}:this.type===2?k=()=>{this.target._layout.x=Z}:this.type===3?k=()=>{this.target._layout.y=Z}:this.type===4&&(k=()=>{this.target.setValue(T)})}else this.actionName===1||this.actionName===2||this.actionName;return k}pickAttributes(){return{id:this.id,type:this.type,actionName:this.actionName,value:this.value,variable:this.variable,varOperator:this.varOperator,functionName:this.functionName,trigger:this.trigger,targetId:this.targetId,isDelete:this.isDelete}}setTarget(T){this.target=T,this.targetId=T.getId()}apply(T,k){T!==void 0&&(this.type=T),k!==void 0&&(this.value=k),this.func=this.genFunc(this.value),console.log(this.id,this.value,this.type);const Z=Module.addFunction(this.func,"vp");Module.lv_obj_add_event_cb(this.lvglObj.lvglObj,Z,this.trigger,this.value)}toXML(T){const k=T.createElement("action");return k.setAttribute("id",this.id),k.setAttribute("actionName",this.actionName.toString()),this.actionName===0&&this.targetId?(k.setAttribute("type",this.type.toString()),k.setAttribute("targetId",this.targetId)):this.actionName===1&&this.functionName!=""?k.setAttribute("functionName",this.functionName):this.actionName===2?(k.setAttribute("varOperator",this.varOperator),writeVariablesToNode(k,this.variable)):this.actionName===3&&k.setAttribute("isDelete",this.isDelete.toString()),this.value!==""&&k.setAttribute("value",this.value.toString()),k}static fromXML(T,k){const Z=new LvglEventAction(k,parseInt(T.getAttribute("actionName")||"0"));return Z.id=T.getAttribute("id")||"",Z.functionName=T.getAttribute("functionName")||"",Z.value=T.getAttribute("value")||"",Z.targetId=T.getAttribute("targetId")||"",Z.type=parseInt(T.getAttribute("type")||"0"),Z.varOperator=T.getAttribute("varOperator"),Z.variable=T.getAttribute("variableId")||"",Z.isDelete=T.getAttribute("isDelete")==="true",Z}destroy(){if(this.lvglObj&&this.func){const T=Module.addFunction(this.func,"vp");Module.lv_obj_remove_event_cb(this.lvglObj.lvglObj,T)}}}class LvglEvent{constructor(T,k,Z){bt(this,"name");bt(this,"_trigger");bt(this,"actions",[]);this.name=T,this._trigger=k}get trigger(){return this._trigger}set trigger(T){console.log("set trigger",T),this._trigger=T}pickAttributes(){return{name:this.name,trigger:this._trigger,actions:this.actions.map(T=>T.pickAttributes())}}initEventAction(T){for(let k=0;k<this.actions.length;k++){const Z=this.actions[k];Z.trigger=this._trigger;const ee=T(Z.targetId);ee&&(Z.setTarget(ee),Z.apply())}}addAction(T,k){const Z=new LvglEventAction(k,T.actionName);this.actions.push(Z)}removeAction(T){if(T<0||T>=this.actions.length)return;this.actions[T].destroy(),this.actions.splice(T,1)}applyAction(T,k,Z){if(T<0||T>=this.actions.length)return;const ee=this.actions[T];ee.setTarget(k),ee.apply()}destroy(){for(const T of this.actions)T.destroy();this.actions=[]}toXML(T){const k=T.createElement("event");k.setAttribute("name",this.name),k.setAttribute("trigger",this._trigger.toString());for(const Z of this.actions)k.appendChild(Z.toXML(T));return k}static fromXML(T,k){const Z=T.getAttribute("name")||"",ee=parseInt(T.getAttribute("trigger")||"0"),te=parseInt(T.getAttribute("actionType")||"0"),ne=new LvglEvent(Z,ee,te);for(const me of T.children){if(me.tagName!=="action")continue;const Ve=LvglEventAction.fromXML(me,k);ne.actions.push(Ve)}return ne}}class LvglParentChange{constructor(T,k){bt(this,"curParent");bt(this,"preParent");bt(this,"shape");this.shape=T,this.curParent=k,this.preParent=k}execute(){this.curParent=this.preParent,this.preParent=this.shape.setParent(this.curParent)}}class LvglVisibleChange{constructor(T,k){bt(this,"visible");bt(this,"shape");this.shape=T,this.visible=k}execute(){this.shape.isVisible!==this.visible&&(this.shape.isVisible=this.visible,this.visible=!this.visible)}}function toCamelCase(Y){return Y.replace(/\s+([a-zA-Z])/g,(T,k)=>k.toUpperCase()).replace(/^\w/,T=>T.toLowerCase())}function extractNumbers(Y){const T=Y.match(/\d+$/);return T?T[0]:null}function moveAndRedraw(Y,T,k=!1){const Z=Y.cell.getGeometry(),{x:ee,y:te}=Z;Module.lv_obj_update_layout(T);let ne=Module.lv_obj_get_x(T),me=Module.lv_obj_get_y(T);if(ne!==ee||me!==te){Z.x=ne,Z.y=me;const Ve=Y.view.scale;Y.x=ne*Ve,Y.y=me*Ve;const Ye=Y.view.graph;Ye.getCellRenderer().redraw(Y,!0),Ye.getPlugin(SelectionCellsHandler.pluginId).handlers.visit((it,st)=>{st.redraw()})}}class LvLayout{constructor(T,k){bt(this,"isValid",!0);bt(this,"cell");bt(this,"state",null);bt(this,"lvglObj");bt(this,"_flow",0);bt(this,"_align",lv_align_t.LV_ALIGN_DEFAULT);bt(this,"_x",0);bt(this,"_y",0);bt(this,"_width",0);bt(this,"_height",0);bt(this,"variables",{});this.lvglObj=k,this.cell=T,this.variables={align:{type:"number"},x:{type:"number"},y:{type:"number"},width:{type:"number"},height:{type:"number"}}}get align(){return this._align}set align(T){this._align=T,Module.lv_obj_set_align(this.lvglObj,T),Module.lv_obj_set_pos(this.lvglObj,0,0),Module.lv_obj_update_layout(this.lvglObj);const k=Module.lv_obj_get_x(this.lvglObj),Z=Module.lv_obj_get_y(this.lvglObj),ee=this.cell,{x:te,y:ne}=ee.getGeometry(),me=k-te,Ve=Z-ne;if(!this.state)return;this.state.view.graph.translateCell(ee,me,Ve);const et=ee.getStyle();et.movable=this._align===lv_align_t.LV_ALIGN_DEFAULT,this.state.style.movable=et.movable}get x(){const T=this.cell.getGeometry();if(this._align!==lv_align_t.LV_ALIGN_DEFAULT||!T){const k=Module.lv_obj_get_x_aligned(this.lvglObj);return parseInt(k.toString())}return parseInt(T.x.toString())}set x(T){const k=this.cell.getGeometry();let Z=T-k.x;if(Z){if(this._align!==lv_align_t.LV_ALIGN_DEFAULT){const ee=Module.lv_obj_get_x_aligned(this.lvglObj);Z=T-ee,Module.lv_obj_set_x(this.lvglObj,T)}this.state&&this.state.view.graph.translateCell(this.state.cell,Z,0)}}get y(){const T=this.cell.getGeometry();if(this._align!==lv_align_t.LV_ALIGN_DEFAULT||!T){const k=Module.lv_obj_get_y_aligned(this.lvglObj);return parseInt(k.toString())}return parseInt(T.y.toString())}set y(T){var ee;const k=this.cell.getGeometry();let Z=T-k.y;if(Z){if(this._align!==lv_align_t.LV_ALIGN_DEFAULT){const te=Module.lv_obj_get_y_aligned(this.lvglObj);Z=T-te,Module.lv_obj_set_y(this.lvglObj,T)}this.state&&((ee=this.state.view)==null||ee.graph.translateCell(this.state.cell,0,Z))}}get width(){var T;return parseInt((((T=this.cell.getGeometry())==null?void 0:T.width.toString())||Module.lv_obj_get_width(this.lvglObj)).toString())}set width(T){var ee,te;if(this._width===T)return;const k=this.cell.getGeometry();this._width=T;const Z=new Rectangle(k.x,k.y,T,k.height);(te=(ee=this.state)==null?void 0:ee.view)==null||te.graph.resizeCell(this.cell,Z,!0),this._align!==lv_align_t.LV_ALIGN_DEFAULT&&this.state&&moveAndRedraw(this.state,this.lvglObj,!0)}get height(){var T;return parseInt((((T=this.cell.getGeometry())==null?void 0:T.height.toString())||Module.lv_obj_get_height(this.lvglObj)).toString())}set height(T){var ee,te;if(this._height===T)return;const k=this.cell.getGeometry();this._height=T;const Z=new Rectangle(k.x,k.y,k.width,T);(te=(ee=this.state)==null?void 0:ee.view)==null||te.graph.resizeCell(this.cell,Z,!0),this._align!==lv_align_t.LV_ALIGN_DEFAULT&&this.state&&moveAndRedraw(this.state,this.lvglObj,!0)}pickAttributes(){return this.isValid?{isValid:!0,align:this._align,x:this._x,y:this._y,width:this._width,height:this._height,variables:this.variables}:{}}update(T,k,Z,ee,te){this.state=T,this._x=k,this._y=Z,this._width=ee,this._height=te,Module.lv_obj_set_size(this.lvglObj,ee+2,te+2),this.align===lv_align_t.LV_ALIGN_DEFAULT?Module.lv_obj_set_pos(this.lvglObj,k-1,Z-1):this.state&&moveAndRedraw(this.state,this.lvglObj,!0);const ne=this.cell;if(ne.children.length<=0||!this.state)return;ne.children.forEach(Ve=>{const Ye=getShapeByCell(T.view.graph,Ve);if(!ne.isVertex||!Ye||!Ye._layout||Ye._layout.align===lv_align_t.LV_ALIGN_DEFAULT)return;const et=Ye.lvglObj;Module.lv_obj_update_layout(et);const{x:tt,y:it}=Ve.getGeometry(),st=Module.lv_obj_get_x(et),nt=Module.lv_obj_get_y(et),rt=st-tt,lt=nt-it;(rt||lt)&&this.state&&this.state.view.graph.translateCell(Ve,rt,lt)})}toXML(T){const k=T.createElement("Layout");k.setAttribute("x",this.x.toString()),k.setAttribute("y",this.y.toString()),k.setAttribute("width",this.width.toString()),k.setAttribute("height",this.height.toString()),k.setAttribute("align",this.align.toString());const Z=VariablesToNode(T,this.variables);return Z&&k.appendChild(Z),k}fromXML(T){this.align=Number(T.getAttribute("align"))??lv_align_t.LV_ALIGN_DEFAULT,this.x=T.getAttribute("x")?parseInt(T.getAttribute("x")||"0"):this.x,this.y=T.getAttribute("y")?parseInt(T.getAttribute("y")||"0"):this.y,this.width=T.getAttribute("width")?parseInt(T.getAttribute("width")||"0"):this.width,this.height=T.getAttribute("height")?parseInt(T.getAttribute("height")||"0"):this.height;const k=T.querySelector("Variables");k&&k.parentNode===T&&nodeToVariables(this,k)}}class LV_Obj{constructor(T,k){bt(this,"name","Obj");bt(this,"lvObj");bt(this,"variables",{});this.name=T,this.lvObj=k}init(){for(const T in this){if(!T.startsWith("_"))continue;const k=T.split("_")[1];let Z=typeof this[T];Z!=="undefined"&&(Z==="number"&&(Z=Number.isInteger(this[T])?"number":"float"),this.variables[k]={type:Z})}}pickAttributes(){const T={};for(const k of Object.keys(this))k.startsWith("_")&&(T[k.slice(1)]=this[k]);return T.variables=this.variables,T}updateWidget(T){}createDefault(){const T=Module.lv_obj_get_class_name(this.lvObj),k=getDefaultWgtByName(T);if(!k){debugger;return this}const Z=this.constructor;return new Z("",k)}toXML(T){const k=T.createElement(this.name),Z=this.createDefault();let ee=0;for(const ne of Object.keys(this)){if(!ne.startsWith("_"))continue;const me=ne.split("_")[1],Ve=this[me],Ye=Z[me];Ve!==void 0&&Ve!==Ye&&(ee++,k.setAttribute(me,this[me].toString()))}Module.lv_obj_delete(Z.lvObj);const te=VariablesToNode(T,this.variables);return te&&(k.appendChild(te),ee++),ee===0?null:k}fromXML(T){const k=T.getAttributeNames();for(const ee of k){const te=T.getAttribute(ee),ne=parseInt(te);isNaN(ne)?this[ee]=te:this[ee]=ne}const Z=T.querySelector("Variables");Z&&Z.parentNode===T&&nodeToVariables(this,Z)}}const Js=class Js extends Shape$1{constructor(k="Obj",Z){super();bt(this,"Type");bt(this,"name","");bt(this,"id","");bt(this,"lvglId","");bt(this,"_widget",null);bt(this,"_lvglObj",null);bt(this,"_layout",null);bt(this,"_styles",[]);bt(this,"events",[]);bt(this,"screen",Module.lv_screen_active());bt(this,"parent",null);bt(this,"_flags",0);bt(this,"_state",0);bt(this,"_props",[]);bt(this,"isVisible",!0);bt(this,"curStyleState",0);this.Type=k,this.isRounded=!0}get lvglObj(){return this._lvglObj}get flags(){return this._flags}set flags(k){let Z=k^this._flags,ee=k&Z,te=~k&Z;this._flags=k,ee&&Module.lv_obj_add_flag(this._lvglObj,ee),te&&Module.lv_obj_remove_flag(this._lvglObj,te)}get state(){return this._state}set state(k){let Z=k^this._state,ee=k&Z,te=~k&Z;this._state=k,ee&&Module.lv_obj_add_state(this._lvglObj,ee),te&&Module.lv_obj_remove_state(this._lvglObj,te)}get Props(){const k=this;return[["Widgets",[["Id",{get name(){return k.name},set name(ee){k.name=ee},type:k.Type}],["Layout",this._layout],["Flags",{get value(){return k.flags},set value(ee){k.flags=ee},type:k.Type}],["States",{get value(){return k.state},set value(ee){k.state=ee},type:k.Type}],[this.Type,this._widget]]],["Styles",this._styles,{get curStyleState(){return k.curStyleState},set curStyleState(ee){k.changeStyleState(ee)}}],["Events",this.events]]}getPropsData(){var ee;const k=[["Widgets",[["Id",{name:this.name,type:this.Type}],["Layout",this._layout.pickAttributes()],["Flags",{value:this.flags,type:this.Type}],["States",{value:this.state,type:this.Type}],[this.Type,((ee=this._widget)==null?void 0:ee.pickAttributes())||{}]]]],Z=[];for(const[te,ne]of this._styles){const me=[];for(const[Ve,Ye]of ne){const et=Ye.pickAttributes();Object.keys(et).length>0&&me.push([Ve,et])}Z.push([te,me])}return k.push(["Styles",Z,{curStyleState:this.curStyleState}]),k.push(["Events",this.events.map(te=>te.pickAttributes())]),k}Update(){var Z;const k=this.State;k.invalid=!0,(Z=k.view)==null||Z.validateCellState(k.cell,!1)}setVisible(k,Z){k.execute(new LvglVisibleChange(this,Z))}paintVertexShape(k,Z,ee,te,ne){var Ve;this.isVisible&&(k.setStrokeColor("transparent"),k.setStrokeWidth(1),k.rect(Z,ee,te,ne),k.stroke());const me=(Ve=this.State)==null?void 0:Ve.cell.getGeometry();me&&this.setLvglGeo(me)}setLvglGeo(k){var me;if(!this._lvglObj||!this.State||!this._layout)return;let{x:Z,y:ee,width:te,height:ne}=k;this.updateStyle(k),this._layout.update(this.State,Z,ee,te,ne),(me=this._widget)==null||me.updateWidget(k)}updateStyle(k){if(!this._lvglObj||!this.State||!this._layout)return;let{width:Z,height:ee}=k;const{_width:te,_height:ne}=this._layout;(ne!==ee||te!==Z)&&this._styles.forEach(([me,Ve])=>{Ve.forEach(Ye=>{if(Ye[0]==="BackgroundImage"){const tt=Ye[1];tt.bgImage&&(tt.bgImage=tt.bgImage)}})})}isRoot(k){return k?k.getId()=="0"||k.getId()=="1":!0}getId(){return this.id}rename(k){return Js.nameSet.has(k)?!1:(Js.nameSet.delete(this.name),this.name=k,Js.nameSet.add(k),!0)}apply(k){var et,tt;super.apply(k),this.State=k;const Z=k.cell,ee=Z.getParent(),te=Z.getStyle();if(this.Type=te.type??this.Type,ee&&!this.isRoot(ee)){const it=k.view.getState(ee);it&&(this.parent=it.shape)}const ne=Z.getGeometry();ne&&(this.bounds=ne);const me=7;if(!this._lvglObj){this._Events={};const it=te.screen;it&&(this.screen=it);let st=((et=this.parent)==null?void 0:et._lvglObj)||this.screen;const nt=te.lvglObjT;nt?this._lvglObj=nt:(this.lvglCreate(st),(tt=this._widget)==null||tt.init()),this.id=Z.getId();let rt=this.State.style.name;if(rt)this.State.style.name="";else{const ot=Module.lv_obj_get_string_id(this._lvglObj)||"";rt=this.Type.toLowerCase()+extractNumbers(ot)}let lt=0;for(;Js.nameSet.has(rt);)rt+="_"+ ++lt;Js.nameSet.add(rt),this.name=rt,this.createBaseStyle(me),this.createStyle(me),this._layout=new LvLayout(Z,this._lvglObj),this.Type==="screen"&&(this._layout.isValid=!1)}let Ve=Z.getStyle();const Ye=Ve.node;Ye&&(this.fromXML(Ye),delete Ve.node)}lvglCreate(k){this._lvglObj=Module.lv_obj_create(k),this._widget=new LV_Obj(this.Type,this._lvglObj)}createStyle(k){}setValue(k){}setParent(k){const Z=this.parent;return this.parent=k,this.State&&k&&this._lvglObj?Module.lv_obj_set_parent(this._lvglObj,k.lvglObj):this.State&&this._lvglObj&&Module.lv_obj_set_parent(this._lvglObj,this.screen),Z}setParent2(k,Z){k.execute(new LvglParentChange(this,Z))}moveToIdx(k){Module.lv_obj_move_to_index(this._lvglObj,k)}addEvent(k){this.events.push(new LvglEvent(k.name,k.trigger,k.actionType))}addAction(k){const Z=k.idx;if(Z<0||Z>=this.events.length)return;const ee=this.events[Z],te=k.actionData;ee.addAction(te,this)}createBaseStyle(k){const Z=CreateBaseStyle.createStyles(lv_part_t.LV_PART_MAIN,k,this.lvglObj,this.State);this._styles.push(["Main",Z])}changeStyleState(k){this.curStyleState=k;for(const[Z,ee]of this._styles)for(const te of ee){const ne=te[1];ne&&ne.setState(k)}}styleToXML(k){const Z=k.createElement("Styles");for(const[ee,te]of this._styles){const ne=k.createElement(ee);te.forEach(me=>{const Ve=me[1].toXML(k);Ve&&ne.appendChild(Ve)}),Z.appendChild(ne)}return Z}toXML(k){var te;const Z=k.createElement("Widget");for(const[ne,me]of this.Props)if(ne=="Widgets"){if(!Array.isArray(me))continue;for(const[Ve,Ye]of me)if(Ve=="Id")Z.setAttribute("id",this.getId()),Z.setAttribute("type",this.Type.toString()),Z.setAttribute("name",this.name);else if(Ve=="Layout")Ye&&Z.appendChild(Ye.toXML(k));else if(Ve=="Flags"){const et=k.createElement(Ve);et.setAttribute("value",Ye.value.toString()),Z.appendChild(et)}else if(Ve=="States"){const et=k.createElement(Ve);et.setAttribute("value",Ye.value.toString()),Z.appendChild(et)}}else if(ne=="Styles")Z.appendChild(this.styleToXML(k));else if(ne=="Events"){const Ve=k.createElement("Events");for(const Ye of this.events)Ve.appendChild(Ye.toXML(k));Z.appendChild(Ve)}const ee=(te=this._widget)==null?void 0:te.toXML(k);return this._widget&&ee&&Z.appendChild(ee),Z}fromXML(k){var Z,ee,te;this.id=k.getAttribute("id")||this.id,this.Type=k.getAttribute("type")||this.Type;for(const ne of k.children)if(ne.nodeName=="Layout")(Z=this._layout)==null||Z.fromXML(ne);else if(ne.nodeName=="Flags")this.flags=parseInt(ne.getAttribute("value")||"0");else if(ne.nodeName=="States")this.state=parseInt(ne.getAttribute("value")||"0");else if(ne.nodeName=="Styles"){const Ve=ne.children;for(let Ye=0;Ye<Ve.length;Ye++){const et=Ve[Ye],tt=et.tagName,it=et.children;let st=(ee=this._styles.find(nt=>nt[0]===tt))==null?void 0:ee[1];if(st)for(let nt=0;nt<it.length;nt++)st[nt][1].fromXML(it[nt])}}else if(ne.nodeName=="Events")for(const me of ne.children){const Ve=LvglEvent.fromXML(me,this);this.events.push(Ve)}else(te=this._widget)==null||te.fromXML(ne)}getGraph(){var k;return((k=this.State)==null?void 0:k.view.graph)||null}destroy(){var Z;super.destroy(),!((Z=this.State)!=null&&Z.cell.getStyle().lvglObjT)&&this._lvglObj&&(Module.lv_obj_remove_style_all(this._lvglObj),Module.lv_obj_delete(this._lvglObj),this._lvglObj=null)}};bt(Js,"nameSet",new Set);let LvglBase=Js,Layout$2=class{constructor(T,k){bt(this,"lvObj");bt(this,"state",null);bt(this,"cell");bt(this,"_x",0);bt(this,"_y",0);bt(this,"_width",0);bt(this,"_height",0);this.lvObj=k,this.cell=T;const Z=T.getGeometry();Z&&(this._x=Z.x,this._y=Z.y,this._width=Z.width,this._height=Z.height)}get x(){const T=this.cell.getGeometry();return T&&(this._x=T.x),this._x}set x(T){let k=T-this._x;this._x=T,this.state&&this.state.view.graph.translateCell(this.cell,k,0)}get y(){const T=this.cell.getGeometry();return T&&(this._y=T.y),this._y}set y(T){let k=T-this._y;this._y=T,this.state&&this.state.view.graph.translateCell(this.cell,0,k)}get width(){const T=this.cell.getGeometry();return T&&(this._width=T.width),this._width}set width(T){this._width=T,this.state&&this.state.view.graph.resizeCell(this.cell,new Rectangle(this._x,this._y,this._width,this._height))}get height(){const T=this.cell.getGeometry();return T&&(this._height=T.height),this._height}set height(T){this._height=T,this.state&&this.state.view.graph.resizeCell(this.cell,new Rectangle(this._x,this._y,this._width,this._height))}update(T,k,Z,ee,te){this.state=T,Module.lv_obj_set_pos(this.lvObj,k,Z),Module.lv_obj_set_size(this.lvObj,ee,te)}pickAttributes(){return{x:this._x,y:this._y,width:this._width,height:this._height}}toXML(T){const k=T.createElement("Layout");return k.setAttribute("x",String(this._x)),k.setAttribute("y",String(this._y)),k.setAttribute("width",String(this._width)),k.setAttribute("height",String(this._height)),k}fromXML(T){this._x=parseInt(T.getAttribute("x")||"0",10),this._y=parseInt(T.getAttribute("y")||"0",10),this._width=parseInt(T.getAttribute("width")||"0",10),this._height=parseInt(T.getAttribute("height")||"0",10)}};class PureData{constructor(T){bt(this,"lvObj");this.lvObj=T}}class BaseProperty extends PureData{toXML(T){return T.createElement("Property")}fromXML(T){}}class BaseDisplay extends PureData{toXML(T){return T.createElement("Display")}fromXML(T){}}class HMiBase extends Cell{constructor(k,Z){super(null,Z,{shape:"hmi",foldable:!1});bt(this,"type","HMiBase");bt(this,"_layout");bt(this,"_property",null);bt(this,"_display",null);bt(this,"_authorities",[]);bt(this,"_lvObj");bt(this,"other",null);if(this.vertex=!0,this.type=k,this._lvObj=Module.lv_label_create(Module.lv_screen_active()),Module.lv_label_set_text(this._lvObj,k),!this._lvObj)throw new Error(`Cannot create lvgl object of type ${k}`);this._layout=new Layout$2(this,this._lvObj)}createAuthority(){return[]}updateLayout(k,Z){if(this._layout){const{x:ee,y:te,width:ne,height:me}=Z;this._layout.update(k,ee,te,ne,me)}}get Props(){return[["General",[["Layout",this._layout??{}],[this.type,this._property??{}]]],["Display",[[this.type,this._display||{}]]],["Authority",this._authorities]]}getPropsData(){var Z,ee,te;return[["General",[["Layout",((Z=this._layout)==null?void 0:Z.pickAttributes())??{}],[this.type,((ee=this._property)==null?void 0:ee.pickAttributes())??{}]]],["Display",[[this.type,((te=this._display)==null?void 0:te.pickAttributes())||{}]]],["Authority",this._authorities.map(ne=>ne.pickAttributes())]]}toXML(k){return k.createElement("Widget")}fromXML(k){}}function isRoot(Y){return!!Y&&(Y.id==="0"||Y.id==="1")}function getShapeById(Y,T){const k=Y.getDataModel().getCell(T);return k instanceof HMiBase?k:getShapeByCell(Y,k)}function getShapeByCell(Y,T){if(!T)return null;if(T instanceof HMiBase)return T;const k=Y.getView().getState(T,!0);if(!k)return null;const Z=k.shape;return Z instanceof LvglBase?Z:null}function isValidDropTarget(Y,T){return Y=Y.toLowerCase(),T=T.toLowerCase(),T==="screen"?!0:!(T!=="obj"&&T!=="button"&&T!=="tabitem"||T==="button"&&Y!=="label")}function genRegularPolygonPoints(Y){if(Y<3)throw new Error("Polygon must have at least 3 sides");const T=[],k=2*Math.PI/Y;for(let et=0;et<Y;et++){const tt=-Math.PI/2+et*k,it=Math.cos(tt),st=Math.sin(tt);T.push(new Point$1(it,st))}const Z=Math.min(...T.map(et=>et.x)),ee=Math.max(...T.map(et=>et.x)),te=Math.min(...T.map(et=>et.y)),ne=Math.max(...T.map(et=>et.y)),me=ee-Z,Ve=ne-te;return T.map(et=>new Point$1(+((et.x-Z)/me).toFixed(2),+((et.y-te)/Ve).toFixed(2)))}var browser={exports:{}},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser.exports;hasRequiredBrowser=1;var Y=browser.exports={},T,k;function Z(){throw new Error("setTimeout has not been defined")}function ee(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?T=setTimeout:T=Z}catch{T=Z}try{typeof clearTimeout=="function"?k=clearTimeout:k=ee}catch{k=ee}})();function te(rt){if(T===setTimeout)return setTimeout(rt,0);if((T===Z||!T)&&setTimeout)return T=setTimeout,setTimeout(rt,0);try{return T(rt,0)}catch{try{return T.call(null,rt,0)}catch{return T.call(this,rt,0)}}}function ne(rt){if(k===clearTimeout)return clearTimeout(rt);if((k===ee||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(rt);try{return k(rt)}catch{try{return k.call(null,rt)}catch{return k.call(this,rt)}}}var me=[],Ve=!1,Ye,et=-1;function tt(){!Ve||!Ye||(Ve=!1,Ye.length?me=Ye.concat(me):et=-1,me.length&&it())}function it(){if(!Ve){var rt=te(tt);Ve=!0;for(var lt=me.length;lt;){for(Ye=me,me=[];++et<lt;)Ye&&Ye[et].run();et=-1,lt=me.length}Ye=null,Ve=!1,ne(rt)}}Y.nextTick=function(rt){var lt=new Array(arguments.length-1);if(arguments.length>1)for(var ot=1;ot<arguments.length;ot++)lt[ot-1]=arguments[ot];me.push(new st(rt,lt)),me.length===1&&!Ve&&te(it)};function st(rt,lt){this.fun=rt,this.array=lt}st.prototype.run=function(){this.fun.apply(null,this.array)},Y.title="browser",Y.browser=!0,Y.env={},Y.argv=[],Y.version="",Y.versions={};function nt(){}return Y.on=nt,Y.addListener=nt,Y.once=nt,Y.off=nt,Y.removeListener=nt,Y.removeAllListeners=nt,Y.emit=nt,Y.prependListener=nt,Y.prependOnceListener=nt,Y.listeners=function(rt){return[]},Y.binding=function(rt){throw new Error("process.binding is not supported")},Y.cwd=function(){return"/"},Y.chdir=function(rt){throw new Error("process.chdir is not supported")},Y.umask=function(){return 0},browser.exports}requireBrowser();const w$2=100,h$2=100,hmi_group=[{title:"basics",widgets:[{imgSrc:"",name:"BitButton",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"WordButton",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"IndicatorLight",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"FunctionButton",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"ScreenButton",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"PolymorphicButton",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"NumeriDisplay",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"ASCIIDisplayer",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"DataDisplayer",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"MultiFunctionButton",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"GIFMonitor",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"ImageMonitor",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"StaticText",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"MessageDisplay",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"XYCurve",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"TrendChart",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"DataGroup",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"BarChart",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"InstrumentChart",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"RingChart",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"DropdownMenu",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"FlowBlock",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"SlideSwitch",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"MoveTrail",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"Roller",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"QRcode",defaultSize:{w:w$2,h:h$2}},{imgSrc:"",name:"Scale",defaultSize:{w:w$2,h:h$2}}]}];class ButtonDisplay extends BaseDisplay{constructor(){super(...arguments);bt(this,"_label","ON");bt(this,"_textFlicker",!1);bt(this,"_textStyle","");bt(this,"_textColor","#000000");bt(this,"_fontName","Arial");bt(this,"_textAlign","center");bt(this,"_fontSize",16);bt(this,"_bgImg","");bt(this,"_bgColor","#FFFFFF");bt(this,"_bgOpa",255);bt(this,"_effect3d",!1);bt(this,"_opaEffect",!1)}pickAttributes(){return{label:this._label,textStyle:this._textStyle,bgImg:this._bgImg,bgColor:this._bgColor,bgOpa:this._bgOpa}}get textFlicker(){return this._textFlicker}set textFlicker(k){this._textFlicker=k}get textColor(){return this._textColor}set textColor(k){this._textColor=k}get fontName(){return this._fontName}set fontName(k){this._fontName=k}get textAlign(){return this._textAlign}set textAlign(k){this._textAlign=k}get fontSize(){return this._fontSize}set fontSize(k){this._fontSize=k}get effect3d(){return this._effect3d}set effect3d(k){this._effect3d=k}get opaEffect(){return this._opaEffect}set opaEffect(k){this._opaEffect=k}}class BitButtonProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"_address","");bt(this,"_operation","")}pickAttributes(){return{address:this._address,operation:this._operation}}}let BitButton$4=class extends HMiBase{constructor(T){super("BitButton",T),this._property=new BitButtonProperty(this._lvOb),this._display=new ButtonDisplay(this._lvObj)}};class WordButtonProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"address","");bt(this,"operation","");bt(this,"dataType","");bt(this,"value","")}pickAttributes(){return{address:this.address,dataType:this.dataType,operation:this.operation,value:this.value}}}let WordButton$4=class extends HMiBase{constructor(T){super("WordButton",T),this._property=new WordButtonProperty(this._lvOb),this._display=new ButtonDisplay(this._lvObj)}};class MoveTrailProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"address","");bt(this,"moveDistance",100);bt(this,"direction","right");bt(this,"image","");bt(this,"min",0);bt(this,"max",100)}pickAttributes(){return{address:this.address,moveDistance:this.moveDistance,direction:this.direction,image:this.image,min:this.min,max:this.max}}}class MoveTrai extends HMiBase{constructor(T){super("MoveTrail",T),this._property=new MoveTrailProperty(this._lvOb)}}class ScaleDisplay extends BaseDisplay{constructor(){super(...arguments);bt(this,"fontSize",16);bt(this,"moveDistance",100);bt(this,"direction","right");bt(this,"position","left");bt(this,"min",0);bt(this,"max",100);bt(this,"digitCount",0);bt(this,"textColor","#000000");bt(this,"scaleColor","#000000");bt(this,"showScale",!0);bt(this,"mainScaleInterval",10);bt(this,"viceScaleInterval",5)}pickAttributes(){return{fontSize:this.fontSize,moveDistance:this.moveDistance,direction:this.direction,position:this.position,min:this.min,max:this.max,digitCount:this.digitCount,textColor:this.textColor,scaleColor:this.scaleColor,showScale:this.showScale,mainScaleInterval:this.mainScaleInterval,viceScaleInterval:this.viceScaleInterval}}}let Scale$2=class extends HMiBase{constructor(T){super("Scale",T),this._display=new ScaleDisplay(this._lvObj)}};class QRCodeProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"address","");bt(this,"encodeMode","ASCII");bt(this,"stringLength",25);bt(this,"description","")}pickAttributes(){return{address:this.address,encodeMode:this.encodeMode,stringLength:this.stringLength,description:this.description}}}class QRCode extends HMiBase{constructor(T){super("QRCode",T),this._property=new QRCodeProperty(this._lvObj)}}class RollerDisplay extends BaseDisplay{constructor(){super(...arguments);bt(this,"address","");bt(this,"sensitivity",20);bt(this,"min",0);bt(this,"max",100);bt(this,"step",1);bt(this,"bgColor","#00f0fff");bt(this,"bgOpa",255);bt(this,"lowLightColor","#000000");bt(this,"lowLight",16);bt(this,"highLightColor","#ffffff");bt(this,"highLight",24);bt(this,"image","")}pickAttributes(){return{address:this.address,sensitivity:this.sensitivity,min:this.min,max:this.max,step:this.step,bgColor:this.bgColor,bgOpa:this.bgOpa,lowLightColor:this.lowLightColor,lowLight:this.lowLight,highLightColor:this.highLightColor,highLight:this.highLight,image:this.image}}}let Roller$3=class extends HMiBase{constructor(T){super("Roller",T),this._display=new RollerDisplay(this._lvObj)}};class DisplayerDisplay extends BaseDisplay{constructor(){super(...arguments);bt(this,"fontName","normal");bt(this,"fontSize",16);bt(this,"places",5);bt(this,"digitCount",0);bt(this,"align","center");bt(this,"style","remove prefix zeros");bt(this,"isCustom",!1);bt(this,"text","");bt(this,"numberColor","#000000");bt(this,"numberBgColor","#FF00FF");bt(this,"opa",255);bt(this,"lowPosColor","#000000");bt(this,"highPosColor","#000000");bt(this,"effect3d",!1);bt(this,"effectOpa",!1);bt(this,"bgImg","")}pickAttributes(){return{fontName:this.fontName,fontSize:this.fontSize,places:this.places,digitCount:this.digitCount,align:this.align,style:this.style,isCustom:this.isCustom,text:this.text,numberColor:this.numberColor,numberBgColor:this.numberBgColor,opa:this.opa,lowPosColor:this.lowPosColor,highPosColor:this.highPosColor,effect3d:this.effect3d,effectOpa:this.effectOpa,bgImg:this.bgImg}}}class NumberDisplayerProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"dataType","INT16");bt(this,"monitorAddress","");bt(this,"offsetAddress",!1);bt(this,"showMonitorAddress",!0);bt(this,"allowInput",!0);bt(this,"sameMonitorAddress",!0);bt(this,"passwordMode",!1);bt(this,"showInputSymbol",!1);bt(this,"inputAddress","LV0");bt(this,"min",-32768);bt(this,"max",32767);bt(this,"isScale",!1);bt(this,"buff",1);bt(this,"offset",0)}pickAttributes(){return{dataType:this.dataType,monitorAddress:this.monitorAddress,offsetAddress:this.offsetAddress,showMonitorAddress:this.showMonitorAddress,allowInput:this.allowInput,sameMonitorAddress:this.sameMonitorAddress,passwordMode:this.passwordMode,showInputSymbol:this.showInputSymbol,inputAddress:this.inputAddress,min:this.min,max:this.max,isScale:this.isScale,buff:this.buff,offset:this.offset}}}class NumberDisplayer extends HMiBase{constructor(T){super("NumberDisplayer",T),this._property=new NumberDisplayerProperty(this._lvOb),this._display=new DisplayerDisplay(this._lvObj)}}class ASCIIDisplayerProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"dataType","INT16");bt(this,"monitorAddress","");bt(this,"autoWrap",!1);bt(this,"highLowExchange",!1);bt(this,"offsetAddress",!1);bt(this,"showMonitorAddress",!0);bt(this,"allowInput",!0);bt(this,"sameMonitorAddress",!0);bt(this,"passwordMode",!1);bt(this,"showInputSymbol",!1);bt(this,"inputAddress","LV0")}pickAttributes(){return{dataType:this.dataType,monitorAddress:this.monitorAddress,offsetAddress:this.offsetAddress,autoWrap:this.autoWrap,highLowExchange:this.highLowExchange,showMonitorAddress:this.showMonitorAddress,allowInput:this.allowInput,sameMonitorAddress:this.sameMonitorAddress,passwordMode:this.passwordMode,showInputSymbol:this.showInputSymbol,inputAddress:this.inputAddress}}}class ASCIIDisplayer extends HMiBase{constructor(T){super("ASCIIDisplayer",T),this._property=new ASCIIDisplayerProperty(this._lvOb),this._display=new DisplayerDisplay(this._lvObj)}}class FlowBlockDisplay extends BaseDisplay{constructor(){super(...arguments);bt(this,"flowBlockForeColor","#ffffff");bt(this,"flowBlockBackColor","#ff0000");bt(this,"pipeForeColor","#ffffff");bt(this,"pipeBackColor","#ffffff");bt(this,"borderColro","#000000");bt(this,"borderStyle","solid");bt(this,"monitorAddress","");bt(this,"flowBlockCount",3);bt(this,"flowDirection","right");bt(this,"flowSpeed",5);bt(this,"displayMode","normal");bt(this,"haveBorder",!0)}pickAttributes(){return{flowBlockForeColor:this.flowBlockForeColor,flowBlockBackColor:this.flowBlockBackColor,pipeForeColor:this.pipeForeColor,pipeBackColor:this.pipeBackColor,borderColro:this.borderColro,borderStyle:this.borderStyle,monitorAddress:this.monitorAddress,flowBlockCount:this.flowBlockCount,flowDirection:this.flowDirection,flowSpeed:this.flowSpeed,displayMode:this.displayMode,haveBorder:this.haveBorder}}}let FlowBlock$2=class extends HMiBase{constructor(T){super("FlowBlock",T),this._display=new FlowBlockDisplay(this._lvObj)}};class XYCurveProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"triggerAddress","");bt(this,"readAddress","");bt(this,"clearAddress","");bt(this,"dataType","INT16");bt(this,"samplingCount",60);bt(this,"samplingInterval",100);bt(this,"fillColor","#0000ff");bt(this,"borderColor","#000000");bt(this,"bgColor","#ffffff");bt(this,"channelCount",1);bt(this,"min",0);bt(this,"max",1e3);bt(this,"lineStyle","line");bt(this,"lineColor","#ff0000")}pickAttributes(){return{triggerAddress:this.triggerAddress,readAddress:this.readAddress,clearAddress:this.clearAddress,dataType:this.dataType,samplingCount:this.samplingCount,samplingInterval:this.samplingInterval,fillColor:this.fillColor,borderColor:this.borderColor,bgColor:this.bgColor,channelCount:this.channelCount,min:this.min,max:this.max,lineStyle:this.lineStyle,lineColor:this.lineColor}}}class XYCurveDisplay extends BaseDisplay{constructor(){super(...arguments);bt(this,"axises",[{name:"Xè½´",showScale:!0,axisColor:"#000000",color:"#00ff00",mainScaleInterval:4,viceScaleInterval:2,showScaleText:!0,fontSize:16,min:0,max:100,places:4,digitCount:0},{name:"Yè½´",showScale:!0,axisColor:"#000000",color:"#00ff00",mainScaleInterval:4,viceScaleInterval:2,showScaleText:!0,fontSize:16,min:0,max:100,places:4,digitCount:0}])}pickAttributes(){return{axises:this.axises}}}let XYCurve$3=class extends HMiBase{constructor(T){super("XYCurve",T),this._property=new XYCurveProperty(this._lvObj),this._display=new XYCurveDisplay(this._lvObj)}};class DataGroupProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"triggerAddress","");bt(this,"readAddress","");bt(this,"dataType","INT16");bt(this,"samplingCount",60);bt(this,"samplingAddress",100);bt(this,"fillColor","#0000ff");bt(this,"borderColor","#000000");bt(this,"bgColor","#ffffff");bt(this,"channelCount",1);bt(this,"lineStyle","line");bt(this,"lineColor","#ff0000")}pickAttributes(){return{triggerAddress:this.triggerAddress,readAddress:this.readAddress,dataType:this.dataType,samplingCount:this.samplingCount,samplingAddress:this.samplingAddress,fillColor:this.fillColor,borderColor:this.borderColor,bgColor:this.bgColor,channelCount:this.channelCount,lineStyle:this.lineStyle,lineColor:this.lineColor}}}class DataGroupDisplay extends BaseDisplay{constructor(){super(...arguments);bt(this,"axises",[{name:"Xè½´",showScale:!0,axisColor:"#000000",color:"#00ff00",mainScaleInterval:4,viceScaleInterval:2,showScaleText:!0,fontSize:16,min:0,max:100,places:4,digitCount:0},{name:"Yè½´",showScale:!0,axisColor:"#000000",color:"#00ff00",mainScaleInterval:4,viceScaleInterval:2,showScaleText:!0,fontSize:16,min:0,max:100,places:4,digitCount:0}])}pickAttributes(){return{axises:this.axises}}}let DataGroup$3=class extends HMiBase{constructor(T){super("DataGroup",T),this._property=new DataGroupProperty(this._lvObj),this._display=new DataGroupDisplay(this._lvObj)}};class RingChartProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"dataType","");bt(this,"wordAddress","");bt(this,"showMin",0);bt(this,"showMax",100);bt(this,"twoPoleColumn",!1);bt(this,"midValue",50);bt(this,"rangeMin",0);bt(this,"rangeMax",100)}pickAttributes(){return{wordAddress:this.wordAddress,dataType:this.dataType,showMin:this.showMin,showMax:this.showMax,twoPoleColumn:this.twoPoleColumn,midValue:this.midValue,rangeMin:this.rangeMin,rangeMax:this.rangeMax}}}class RingChartDisplay extends BaseDisplay{constructor(){super(...arguments);bt(this,"poleFillColor","#ff0000");bt(this,"poleBgColor","#cccccc");bt(this,"graphic","circle");bt(this,"graphicColor","#000000");bt(this,"direction","up")}pickAttributes(){return{poleFillColor:this.poleFillColor,poleBgColor:this.poleBgColor,graphic:this.graphic,graphicColor:this.graphicColor,direction:this.direction}}}let RingChart$2=class extends HMiBase{constructor(T){super("RingChart",T),this._property=new RingChartProperty(this._lvObj),this._display=new RingChartDisplay(this._lvObj)}};class SlideSwitchDisplay extends BaseDisplay{constructor(){super(...arguments);bt(this,"dataType","INT16");bt(this,"address","");bt(this,"sliderPointer",0);bt(this,"sliderDirection","right");bt(this,"bgColor","#00ff00");bt(this,"borderColor","#00ffff");bt(this,"fillColor","#0000ff");bt(this,"slidewayHeight",10);bt(this,"slideBlockBgColor","#e5e5e5");bt(this,"slideBlockBorderColor","#000000");bt(this,"slideBlockStyle","rectangle");bt(this,"slideBlockWidth",10);bt(this,"slideBlockHeight",50);bt(this,"min",0);bt(this,"max",100)}pickAttributes(){return{}}}let SlideSwitch$2=class extends HMiBase{constructor(T){super("SlideSwitch",T),this._display=new SlideSwitchDisplay(this._lvObj)}};class DateDisplayerProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"showDate",!0);bt(this,"dateFormat","YYYY/MM/DD");bt(this,"showDayOfWeek",!1);bt(this,"showTime",!1);bt(this,"timeFormat","HH:mm:ss")}pickAttributes(){return{showDate:this.showDate,dateFormat:this.dateFormat,showDayOfWeek:this.showDayOfWeek,showTime:this.showTime,timeFormat:this.timeFormat}}}class DateDisplayer extends HMiBase{constructor(T){super("DateDisplayer",T),this._property=new DateDisplayerProperty(this._lvOb),this._display=new DisplayerDisplay(this._lvObj)}}class FuntioButtonProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"btnFunction","");bt(this,"mode","")}pickAttributes(){return{btnFunction:this.btnFunction,mode:this.mode}}}let FunctionButton$3=class extends HMiBase{constructor(T){super("FunctionButton",T),this._property=new FuntioButtonProperty(this._lvOb),this._display=new ButtonDisplay(this._lvObj)}};class PolymorphicButtonProperty extends BaseProperty{constructor(){super(...arguments);bt(this,"dataType","int16");bt(this,"monitorAddress","LW0");bt(this,"same",!1);bt(this,"writeAddress","LW0");bt(this,"functional","")}pickAttributes(){return{}}}let PolymorphicButton$3=class extends HMiBase{constructor(T){super("PolymorphicButton",T),this._property=new PolymorphicButtonProperty(this._lvOb),this._display=new ButtonDisplay(this._lvObj)}};class TrendChartProperty extends XYCurveProperty{constructor(){super(...arguments);bt(this,"direction","rightToLeft")}pickAttributes(){return{...super.pickAttributes(),direction:this.direction}}}let TrendChart$3=class extends HMiBase{constructor(T){super("TrendChart",T),this._property=new TrendChartProperty(this._lvObj),this._display=new XYCurveDisplay(this._lvObj)}};function createHMIWidget$1(Y,T,k,Z,ee){if(!Y)return null;const te=new Geometry(T,k,Z,ee);return Y==="BitButton"?new BitButton$4(te):Y==="WordButton"?new WordButton$4(te):Y==="MoveTrail"?new MoveTrai(te):Y==="Scale"?new Scale$2(te):Y==="QRcode"?new QRCode(te):Y==="Roller"?new Roller$3(te):Y==="NumberDisplayer"?new NumberDisplayer(te):Y==="ASCIIDisplayer"?new ASCIIDisplayer(te):Y==="FlowBlock"?new FlowBlock$2(te):Y==="XYCurve"?new XYCurve$3(te):Y==="DataGroup"?new DataGroup$3(te):Y==="RingChart"?new RingChart$2(te):Y==="SlideSwitch"?new SlideSwitch$2(te):Y==="DateDisplayer"?new DateDisplayer(te):Y==="FunctionButton"?new FunctionButton$3(te):Y==="PolymorphicButton"?new PolymorphicButton$3(te):Y==="TrendChart"?new TrendChart$3(te):null}let curSelectedWidget="";function selectedEnd(){curSelectedWidget=""}var root_7$9=template('<div class="flex flex-col hover:bg-gray-400 cursor-pointer rounded-lg justify-center" draggable="true"><img class="mx-2 mt-2 p-px w-12 h-12"> <p class="text-sm text-center"> </p></div>'),root_6$d=template('<div class="flex flex-row flex-wrap mr-2 justify-between pb-6"></div>');function LvglLefttab(Y,T){push(T,!0);let k=prop(T,"isHmi",3,!1),Z={width:0,height:0,type:""};function ee(Ve,Ye,et,tt){var lt,ot;let it=Ve.getCellAt(Ye,et);const st=Ve.getDefaultParent();if(!it||it.visible===!1)return st;let nt=(ot=(lt=it.style)==null?void 0:lt.shape)==null?void 0:ot.toLowerCase();const rt=Z.type.toLowerCase();return!nt||nt&&!nt.startsWith("lvgl_")||(nt=nt.replace("lvgl_",""),!isValidDropTarget(rt,nt))?st:it}const te=(Ve,Ye,et,tt,it)=>{var ct;if(tt===void 0||it===void 0)return;let st=tt??0,nt=it??0;const rt=Ve.getDataModel(),{width:lt,height:ot,type:ht}=Z;if(et||(et=Ve.getDefaultParent()),!isRoot(et)){let ut=et.geometry;st-=ut.x,nt-=ut.y}const dt={shape:k()?"hmi":"lvgl_"+ht,screen:(ct=screenStore.curScreen)==null?void 0:ct.screenObj,foldable:!1,polyCoords:genRegularPolygonPoints(5)};rt.batchUpdate(()=>{let ut=null;k()?(ut=createHMIWidget$1(ht,st,nt,lt,ot),ut&&Ve.addCell(ut,et)):ut=Ve.insertVertex(et,null,null,st,nt,lt,ot,dt),ut&&Ve.setSelectionCell(ut),setTimeout(()=>{var mt;if(k()||!ut)return;const ft=Ve.getView().getState(ut),vt=et?((mt=Ve.getView().getState(et))==null?void 0:mt.shape)??null:null;ft&&(ft.shape.setParent(vt),widgetProps.props=ft.shape.getPropsData(),Ve.getPlugin(SelectionCellsHandler.pluginId).reset())},500)})};function ne(Ve){return screenStore.curGraph}const me=(Ve,Ye)=>{const et=document.createElement("div"),tt=Ye.defaultSize.w,it=Ye.defaultSize.h;et.style.width=tt+"px",et.style.height=it+"px",et.style.border="1px dashed #000";const st=tt/2,nt=it/2;return makeDraggable(Ve,ne,te,et,-st,-nt,!0,!0,!0,ee),Ve.addEventListener("mousedown",()=>{Z.width=tt,Z.height=it,Z.type=Ye.name,curSelectedWidget=Ye.name}),{destroy(){}}};Scrollbar(Y,{height:"95vh",children:(Ve,Ye)=>{Accordion(Ve,{children:(et,tt)=>{var it=comment(),st=first_child(it);each(st,17,()=>k()?hmi_group:lvgl_widget_group,index,(nt,rt)=>{AccordionItem(nt,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",arrowColor:"text-gray-300",header:ot=>{var ht=text$1();template_effect(()=>set_text(ht,get$2(rt).title)),append(ot,ht)},children:(ot,ht)=>{var dt=root_6$d();each(dt,21,()=>get$2(rt).widgets,index,(ct,ut)=>{var ft=root_7$9(),vt=child(ft),mt=sibling(vt,2),_t=child(mt);action(ft,(Et,Tt)=>me==null?void 0:me(Et,Tt),()=>get$2(ut)),template_effect(()=>{set_attribute(ft,"data-default-w",get$2(ut).defaultSize.w),set_attribute(ft,"data-default-h",get$2(ut).defaultSize.h),set_attribute(ft,"data-widget-name",get$2(ut).name),set_attribute(vt,"src",get$2(ut).imgSrc),set_attribute(vt,"alt",get$2(ut).name),set_text(_t,get$2(ut).name)}),append(ct,ft)}),append(ot,dt)},$$slots:{header:!0,default:!0}})}),append(et,it)},$$slots:{default:!0}})},$$slots:{default:!0}}),pop()}class DecodeTypes{ruleString(T){const k=/<!\[CDATA\[(.*?)]]>/s,Z=T.match(k),ee=Z?Z[1]:"";return ee||""}decode(T){if(!T)return[];const Z=T.querySelector("pous").querySelectorAll("pou"),ee=[];return Z.forEach(te=>{const ne=this.decodePou(te);ee.push(ne)}),ee}decodePou(T){const k=T.getAttribute("name")??"",Z=T.getAttribute("pouType")??"",ee=T.querySelector("interface"),te=this.decodePutVariable(ee,"in"),ne=this.decodePutVariable(ee,"out"),me=T.querySelector("body"),Ve=this.ruleString((me==null?void 0:me.children[0].children[0].innerHTML)??""),Ye=T.querySelector("documentation"),et=this.ruleString((Ye==null?void 0:Ye.children[0].innerHTML)??"");return{name:k,pouType:Z,st:Ve,documentation:et,inputs:te??[],outputs:ne??[]}}decodePutVariable(T,k){if(!T)return;const Z=k+"putVars",ee=T.querySelector(Z),te=[],ne=ee==null?void 0:ee.querySelectorAll("variable");return ne==null||ne.forEach(me=>{te.push(this.decodeVariable(me))}),te}decodeVariable(T){var me;const k=T.getAttribute("name")??"",Z=T.children[0].children[0].nodeName;let ee={name:k,type:Z};const te=(me=T.children[1])==null?void 0:me.children[0];if(!te)return ee;const ne={value:te.getAttribute("value"),type:te.nodeName};return{...ee,initialValue:ne}}}function decodeXml(Y){const k=load(Y).getDocumentElement();return new DecodeTypes().decode(k)}const Ls=class Ls{constructor(){bt(this,"blockList",{})}static getBlockList(){return Ls.instance||(Ls.instance=new Ls,Ls.instance.blockList.length||(Ls.instance.blockList.æ ååè½ç±»å=decodeXml("Standard_Function_Blocks.xml"),Ls.instance.blockList.éå åè½ç±»å=decodeXml("Additional_Function_Blocks.xml"))),Ls.instance.blockList}static setBlockList(T,k){Ls.instance&&(Ls.instance.blockList[T]=k)}};bt(Ls,"instance",null);let PLcBlockList=Ls;var root_1$1H=ns_template('<path d="M12 16l6-6H6z"></path>'),root_2$H=ns_template('<path d="M8 4l8 8-8 8z"></path>'),root$2n=ns_template("<svg><!></svg>");function ArrowToggle(Y,T){const k=legacy_rest_props(T,["children","$$slots","$$events","$$legacy"]);let Z=prop(T,"expanded",8,!1),ee=prop(T,"size",8,20),te=prop(T,"color",8,"#ffffff");var ne=root$2n();let me;var Ve=child(ne);{var Ye=tt=>{var it=root_1$1H();append(tt,it)},et=tt=>{var it=root_2$H();append(tt,it)};if_block(Ve,tt=>{Z()?tt(Ye):tt(et,!1)})}template_effect(()=>me=set_attributes(ne,me,{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:ee(),height:ee(),fill:te(),...k})),append(Y,ne)}var on_mouseover=(Y,T,k,Z)=>{T()!=="folder"&&k.onItemMouseHover&&k.onItemMouseHover(Y,Z())},root_5$h=template("<ul><!></ul>"),root_1$1G=template('<li draggable="true"><button><!> <span class="select-none"> </span></button> <!></li>');function Tree(Y,T){push(T,!0);const[k,Z]=setup_stores(),ee=()=>store_get(Ye,"$item",k),te=()=>store_get(nt,"$isSelected",k),ne=()=>store_get(st,"$isExpanded",k),me=()=>store_get(et,"$group",k),Ve=prop(T,"level",3,1),{elements:{item:Ye,group:et},states:{selectedItem:tt,expanded:it},helpers:{isExpanded:st,isSelected:nt}}=getContext("tree");var rt=comment(),lt=first_child(rt);each(lt,17,()=>T.treeItems,index,(ot,ht,dt)=>{let ct=()=>get$2(ht).title,ut=()=>get$2(ht).icon,ft=()=>get$2(ht).children;var vt=root_1$1G();const mt=derived$1(()=>`${ct()}-${dt}`),_t=derived$1(()=>{var Mt;return!!((Mt=ft())!=null&&Mt.length)});vt.__mouseover=[on_mouseover,ut,T,ct];var Et=child(vt),Tt=Mt=>{Mt&&ut()!=="folder"&&te()(get$2(mt))&&Mt.target.parentNode};let xt;var yt=child(Et);{var St=Mt=>{ArrowToggle(Mt,{expanded:!0})},At=(Mt,$t)=>{{var Ht=Ft=>{ArrowToggle(Ft,{expanded:!1})};if_block(Mt,Ft=>{ut()=="folder"&&(!get$2(_t)||!ne()(get$2(mt)))&&Ft(Ht)},$t)}};if_block(yt,Mt=>{ut()==="folder"&&get$2(_t)&&ne()(get$2(mt))?Mt(St):Mt(At,!1)})}var Ct=sibling(yt,2),It=child(Ct);action(Et,Mt=>Ye==null?void 0:Ye(Mt));var Ot=sibling(Et,2);{var Dt=Mt=>{var $t=root_5$h();let Ht;var Ft=child($t);const jt=derived$1(()=>Ve()+1);Tree(Ft,{get treeItems(){return ft()},get level(){return get$2(jt)},get onItemMouseHover(){return T.onItemMouseHover},get onItemMouseLeave(){return T.onItemMouseLeave},get onItemDrag(){return T.onItemDrag}}),action($t,Gt=>et==null?void 0:et(Gt)),template_effect(Gt=>Ht=set_attributes($t,Ht,{...Gt}),[()=>me()({id:get$2(mt)})]),append(Mt,$t)};if_block(Ot,Mt=>{ft()&&Mt(Dt)})}template_effect(Mt=>{set_class(vt,1,`${(Ve()!==1?"pl-4":"")??""}  text-white`,"svelte-oo1p5s"),xt=set_attributes(Et,xt,{class:"flex items-center gap-1 rounded-md p-1 cursor-pointer hover:bg-blue-500 w-full",...Mt,onclick:Tt}),set_text(It,ct())},[()=>ee()({id:get$2(mt),hasChildren:get$2(_t)})]),event("focus",vt,()=>{}),event("mouseleave",vt,()=>{ut()!=="folder"&&T.onItemMouseLeave&&T.onItemMouseLeave()}),event("dragstart",vt,Mt=>{ut()!=="folder"&&T.onItemDrag&&T.onItemDrag(Mt,ct())}),append(ot,vt)}),append(Y,rt),pop(),Z()}delegate(["mouseover"]);var root$2m=template('<div class="flex h-full w-full flex-col rounded-xl text-white bg-[#181818]"><div class="flex flex-col gap-1 px-4 pt-4"><h3 class="text-lg font-bold"> </h3> <hr></div> <ul><!></ul></div>');function Treeview(Y,T){push(T,!0);const[k,Z]=setup_stores(),ee=()=>store_get(ne,"$tree",k),te=createTreeView({defaultExpanded:["lib-0","tree-0"]});setContext("tree",te);const{elements:{tree:ne},states:{selectedItem:me,expanded:Ve}}=te;prop(T,"fontClass",3,"text-white"),prop(T,"bgClass",3,"bg-[#181818]"),me.subscribe(lt=>{lt&&lt.classList.add("bg-blue-500")});var Ye=root$2m(),et=child(Ye),tt=child(et),it=child(tt),st=sibling(et,2);let nt;var rt=child(st);Tree(rt,{get treeItems(){return T.treeItems},get onItemMouseHover(){return T.onItemMouseHover},get onItemMouseLeave(){return T.onItemMouseLeave},get onItemDrag(){return T.onItemDrag}}),template_effect(()=>{set_text(it,T.title),nt=set_attributes(st,nt,{class:"overflow-auto px-4 pb-4 pt-2",...ee()})}),append(Y,Ye),pop(),Z()}function drawPreview(Y,T,k,Z,ee){Y.clear();const te=Y,ne=Math.max(k.length,Z.length),me=Math.max(Math.floor(100/ne),20);te.rect(130,200).move(0,0).attr({fill:"white"}),te.rect(100,120).move(15,5).attr({fill:"transparent"}).stroke({color:"black",width:2}),te.text(T).move(0,6).cx(65).fill({color:"black"});let Ve=20+me/2;ne==1&&(Ve=60);for(let Ye=0;Ye<ne;++Ye){const et=Ve+Ye*me;if(Ye<k.length&&(te.line(0,et,15,et).stroke({color:"black",width:2}),te.text(k[Ye].name).move(20,et).fill({color:"black"}).font({size:14}).cy(et)),Ye<Z.length){const tt=Z[Ye].name.length*11;te.line(115,et,130,et).stroke({color:"black",width:2}),te.text(Z[Ye].name).move(115-tt-5,et).fill({color:"black"}).font({size:14}).cy(et)}}}const methods$1={},names=[];function registerMethods(Y,T){if(Array.isArray(Y)){for(const k of Y)registerMethods(k,T);return}if(typeof Y=="object"){for(const k in Y)registerMethods(k,Y[k]);return}addMethodNames(Object.getOwnPropertyNames(T)),methods$1[Y]=Object.assign(methods$1[Y]||{},T)}function getMethodsFor(Y){return methods$1[Y]||{}}function getMethodNames(){return[...new Set(names)]}function addMethodNames(Y){names.push(...Y)}function map(Y,T){let k;const Z=Y.length,ee=[];for(k=0;k<Z;k++)ee.push(T(Y[k]));return ee}function filter(Y,T){let k;const Z=Y.length,ee=[];for(k=0;k<Z;k++)T(Y[k])&&ee.push(Y[k]);return ee}function radians(Y){return Y%360*Math.PI/180}function unCamelCase(Y){return Y.replace(/([A-Z])/g,function(T,k){return"-"+k.toLowerCase()})}function capitalize(Y){return Y.charAt(0).toUpperCase()+Y.slice(1)}function proportionalSize(Y,T,k,Z){return(T==null||k==null)&&(Z=Z||Y.bbox(),T==null?T=Z.width/Z.height*k:k==null&&(k=Z.height/Z.width*T)),{width:T,height:k}}function getOrigin(Y,T){const k=Y.origin;let Z=Y.ox!=null?Y.ox:Y.originX!=null?Y.originX:"center",ee=Y.oy!=null?Y.oy:Y.originY!=null?Y.originY:"center";k!=null&&([Z,ee]=Array.isArray(k)?k:typeof k=="object"?[k.x,k.y]:[k,k]);const te=typeof Z=="string",ne=typeof ee=="string";if(te||ne){const{height:me,width:Ve,x:Ye,y:et}=T.bbox();te&&(Z=Z.includes("left")?Ye:Z.includes("right")?Ye+Ve:Ye+Ve/2),ne&&(ee=ee.includes("top")?et:ee.includes("bottom")?et+me:et+me/2)}return[Z,ee]}const descriptiveElements=new Set(["desc","metadata","title"]),isDescriptive=Y=>descriptiveElements.has(Y.nodeName),writeDataToDom=(Y,T,k={})=>{const Z={...T};for(const ee in Z)Z[ee].valueOf()===k[ee]&&delete Z[ee];Object.keys(Z).length?Y.node.setAttribute("data-svgjs",JSON.stringify(Z)):(Y.node.removeAttribute("data-svgjs"),Y.node.removeAttribute("svgjs:data"))},svg$2="http://www.w3.org/2000/svg",html$2="http://www.w3.org/1999/xhtml",xmlns="http://www.w3.org/2000/xmlns/",xlink="http://www.w3.org/1999/xlink",globals={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function getWindow(){return globals.window}class Base{}const elements={},root$2l="___SYMBOL___ROOT___";function create$1(Y,T=svg$2){return globals.document.createElementNS(T,Y)}function makeInstance(Y,T=!1){if(Y instanceof Base)return Y;if(typeof Y=="object")return adopter(Y);if(Y==null)return new elements[root$2l];if(typeof Y=="string"&&Y.charAt(0)!=="<")return adopter(globals.document.querySelector(Y));const k=T?globals.document.createElement("div"):create$1("svg");return k.innerHTML=Y,Y=adopter(k.firstChild),k.removeChild(k.firstChild),Y}function nodeOrNew(Y,T){return T&&(T instanceof globals.window.Node||T.ownerDocument&&T instanceof T.ownerDocument.defaultView.Node)?T:create$1(Y)}function adopt(Y){if(!Y)return null;if(Y.instance instanceof Base)return Y.instance;if(Y.nodeName==="#document-fragment")return new elements.Fragment(Y);let T=capitalize(Y.nodeName||"Dom");return T==="LinearGradient"||T==="RadialGradient"?T="Gradient":elements[T]||(T="Dom"),new elements[T](Y)}let adopter=adopt;function register(Y,T=Y.name,k=!1){return elements[T]=Y,k&&(elements[root$2l]=Y),addMethodNames(Object.getOwnPropertyNames(Y.prototype)),Y}function getClass(Y){return elements[Y]}let did=1e3;function eid(Y){return"Svgjs"+capitalize(Y)+did++}function assignNewId(Y){for(let T=Y.children.length-1;T>=0;T--)assignNewId(Y.children[T]);return Y.id&&(Y.id=eid(Y.nodeName)),Y}function extend(Y,T){let k,Z;for(Y=Array.isArray(Y)?Y:[Y],Z=Y.length-1;Z>=0;Z--)for(k in T)Y[Z].prototype[k]=T[k]}function wrapWithAttrCheck(Y){return function(...T){const k=T[T.length-1];return k&&k.constructor===Object&&!(k instanceof Array)?Y.apply(this,T.slice(0,-1)).attr(k):Y.apply(this,T)}}function siblings(){return this.parent().children()}function position(){return this.parent().index(this)}function next(){return this.siblings()[this.position()+1]}function prev(){return this.siblings()[this.position()-1]}function forward(){const Y=this.position();return this.parent().add(this.remove(),Y+1),this}function backward(){const Y=this.position();return this.parent().add(this.remove(),Y?Y-1:0),this}function front(){return this.parent().add(this.remove()),this}function back(){return this.parent().add(this.remove(),0),this}function before(Y){Y=makeInstance(Y),Y.remove();const T=this.position();return this.parent().add(Y,T),this}function after(Y){Y=makeInstance(Y),Y.remove();const T=this.position();return this.parent().add(Y,T+1),this}function insertBefore(Y){return Y=makeInstance(Y),Y.before(this),this}function insertAfter(Y){return Y=makeInstance(Y),Y.after(this),this}registerMethods("Dom",{siblings,position,next,prev,forward,backward,front,back,before,after,insertBefore,insertAfter});const numberAndUnit=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb=/rgb\((\d+),(\d+),(\d+)\)/,reference=/(#[a-z_][a-z0-9\-_]*)/i,transforms=/\)\s*,?\s*/,whitespace=/\s/g,isHex=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,isRgb=/^rgb\(/,isBlank=/^(\s+)?$/,isNumber=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isImage=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter=/[\s,]+/,isPathLetter=/[MLHVCSQTAZ]/i;function classes(){const Y=this.attr("class");return Y==null?[]:Y.trim().split(delimiter)}function hasClass(Y){return this.classes().indexOf(Y)!==-1}function addClass(Y){if(!this.hasClass(Y)){const T=this.classes();T.push(Y),this.attr("class",T.join(" "))}return this}function removeClass(Y){return this.hasClass(Y)&&this.attr("class",this.classes().filter(function(T){return T!==Y}).join(" ")),this}function toggleClass(Y){return this.hasClass(Y)?this.removeClass(Y):this.addClass(Y)}registerMethods("Dom",{classes,hasClass,addClass,removeClass,toggleClass});function css(Y,T){const k={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(Z){return!!Z.length}).forEach(function(Z){const ee=Z.split(/\s*:\s*/);k[ee[0]]=ee[1]}),k;if(arguments.length<2){if(Array.isArray(Y)){for(const Z of Y){const ee=Z;k[Z]=this.node.style.getPropertyValue(ee)}return k}if(typeof Y=="string")return this.node.style.getPropertyValue(Y);if(typeof Y=="object")for(const Z in Y)this.node.style.setProperty(Z,Y[Z]==null||isBlank.test(Y[Z])?"":Y[Z])}return arguments.length===2&&this.node.style.setProperty(Y,T==null||isBlank.test(T)?"":T),this}function show(){return this.css("display","")}function hide(){return this.css("display","none")}function visible(){return this.css("display")!=="none"}registerMethods("Dom",{css,show,hide,visible});function data(Y,T,k){if(Y==null)return this.data(map(filter(this.node.attributes,Z=>Z.nodeName.indexOf("data-")===0),Z=>Z.nodeName.slice(5)));if(Y instanceof Array){const Z={};for(const ee of Y)Z[ee]=this.data(ee);return Z}else if(typeof Y=="object")for(T in Y)this.data(T,Y[T]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+Y))}catch{return this.attr("data-"+Y)}else this.attr("data-"+Y,T===null?null:k===!0||typeof T=="string"||typeof T=="number"?T:JSON.stringify(T));return this}registerMethods("Dom",{data});function remember(Y,T){if(typeof arguments[0]=="object")for(const k in Y)this.remember(k,Y[k]);else{if(arguments.length===1)return this.memory()[Y];this.memory()[Y]=T}return this}function forget(){if(arguments.length===0)this._memory={};else for(let Y=arguments.length-1;Y>=0;Y--)delete this.memory()[arguments[Y]];return this}function memory(){return this._memory=this._memory||{}}registerMethods("Dom",{remember,forget,memory});function sixDigitHex(Y){return Y.length===4?["#",Y.substring(1,2),Y.substring(1,2),Y.substring(2,3),Y.substring(2,3),Y.substring(3,4),Y.substring(3,4)].join(""):Y}function componentHex(Y){const T=Math.round(Y),Z=Math.max(0,Math.min(255,T)).toString(16);return Z.length===1?"0"+Z:Z}function is(Y,T){for(let k=T.length;k--;)if(Y[T[k]]==null)return!1;return!0}function getParameters(Y,T){const k=is(Y,"rgb")?{_a:Y.r,_b:Y.g,_c:Y.b,_d:0,space:"rgb"}:is(Y,"xyz")?{_a:Y.x,_b:Y.y,_c:Y.z,_d:0,space:"xyz"}:is(Y,"hsl")?{_a:Y.h,_b:Y.s,_c:Y.l,_d:0,space:"hsl"}:is(Y,"lab")?{_a:Y.l,_b:Y.a,_c:Y.b,_d:0,space:"lab"}:is(Y,"lch")?{_a:Y.l,_b:Y.c,_c:Y.h,_d:0,space:"lch"}:is(Y,"cmyk")?{_a:Y.c,_b:Y.m,_c:Y.y,_d:Y.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return k.space=T||k.space,k}function cieSpace(Y){return Y==="lab"||Y==="xyz"||Y==="lch"}function hueToRgb(Y,T,k){return k<0&&(k+=1),k>1&&(k-=1),k<1/6?Y+(T-Y)*6*k:k<1/2?T:k<2/3?Y+(T-Y)*(2/3-k)*6:Y}class Color{constructor(...T){this.init(...T)}static isColor(T){return T&&(T instanceof Color||this.isRgb(T)||this.test(T))}static isRgb(T){return T&&typeof T.r=="number"&&typeof T.g=="number"&&typeof T.b=="number"}static random(T="vibrant",k){const{random:Z,round:ee,sin:te,PI:ne}=Math;if(T==="vibrant"){const me=24*Z()+57,Ve=38*Z()+45,Ye=360*Z();return new Color(me,Ve,Ye,"lch")}else if(T==="sine"){k=k??Z();const me=ee(80*te(2*ne*k/.5+.01)+150),Ve=ee(50*te(2*ne*k/.5+4.6)+200),Ye=ee(100*te(2*ne*k/.5+2.3)+150);return new Color(me,Ve,Ye)}else if(T==="pastel"){const me=8*Z()+86,Ve=17*Z()+9,Ye=360*Z();return new Color(me,Ve,Ye,"lch")}else if(T==="dark"){const me=10+10*Z(),Ve=50*Z()+86,Ye=360*Z();return new Color(me,Ve,Ye,"lch")}else if(T==="rgb"){const me=255*Z(),Ve=255*Z(),Ye=255*Z();return new Color(me,Ve,Ye)}else if(T==="lab"){const me=100*Z(),Ve=256*Z()-128,Ye=256*Z()-128;return new Color(me,Ve,Ye,"lab")}else if(T==="grey"){const me=255*Z();return new Color(me,me,me)}else throw new Error("Unsupported random color mode")}static test(T){return typeof T=="string"&&(isHex.test(T)||isRgb.test(T))}cmyk(){const{_a:T,_b:k,_c:Z}=this.rgb(),[ee,te,ne]=[T,k,Z].map(it=>it/255),me=Math.min(1-ee,1-te,1-ne);if(me===1)return new Color(0,0,0,1,"cmyk");const Ve=(1-ee-me)/(1-me),Ye=(1-te-me)/(1-me),et=(1-ne-me)/(1-me);return new Color(Ve,Ye,et,me,"cmyk")}hsl(){const{_a:T,_b:k,_c:Z}=this.rgb(),[ee,te,ne]=[T,k,Z].map(rt=>rt/255),me=Math.max(ee,te,ne),Ve=Math.min(ee,te,ne),Ye=(me+Ve)/2,et=me===Ve,tt=me-Ve,it=et?0:Ye>.5?tt/(2-me-Ve):tt/(me+Ve),st=et?0:me===ee?((te-ne)/tt+(te<ne?6:0))/6:me===te?((ne-ee)/tt+2)/6:me===ne?((ee-te)/tt+4)/6:0;return new Color(360*st,100*it,100*Ye,"hsl")}init(T=0,k=0,Z=0,ee=0,te="rgb"){if(T=T||0,this.space)for(const tt in this.space)delete this[this.space[tt]];if(typeof T=="number")te=typeof ee=="string"?ee:te,ee=typeof ee=="string"?0:ee,Object.assign(this,{_a:T,_b:k,_c:Z,_d:ee,space:te});else if(T instanceof Array)this.space=k||(typeof T[3]=="string"?T[3]:T[4])||"rgb",Object.assign(this,{_a:T[0],_b:T[1],_c:T[2],_d:T[3]||0});else if(T instanceof Object){const tt=getParameters(T,k);Object.assign(this,tt)}else if(typeof T=="string")if(isRgb.test(T)){const tt=T.replace(whitespace,""),[it,st,nt]=rgb.exec(tt).slice(1,4).map(rt=>parseInt(rt));Object.assign(this,{_a:it,_b:st,_c:nt,_d:0,space:"rgb"})}else if(isHex.test(T)){const tt=rt=>parseInt(rt,16),[,it,st,nt]=hex.exec(sixDigitHex(T)).map(tt);Object.assign(this,{_a:it,_b:st,_c:nt,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:ne,_b:me,_c:Ve,_d:Ye}=this,et=this.space==="rgb"?{r:ne,g:me,b:Ve}:this.space==="xyz"?{x:ne,y:me,z:Ve}:this.space==="hsl"?{h:ne,s:me,l:Ve}:this.space==="lab"?{l:ne,a:me,b:Ve}:this.space==="lch"?{l:ne,c:me,h:Ve}:this.space==="cmyk"?{c:ne,m:me,y:Ve,k:Ye}:{};Object.assign(this,et)}lab(){const{x:T,y:k,z:Z}=this.xyz(),ee=116*k-16,te=500*(T-k),ne=200*(k-Z);return new Color(ee,te,ne,"lab")}lch(){const{l:T,a:k,b:Z}=this.lab(),ee=Math.sqrt(k**2+Z**2);let te=180*Math.atan2(Z,k)/Math.PI;return te<0&&(te*=-1,te=360-te),new Color(T,ee,te,"lch")}rgb(){if(this.space==="rgb")return this;if(cieSpace(this.space)){let{x:T,y:k,z:Z}=this;if(this.space==="lab"||this.space==="lch"){let{l:st,a:nt,b:rt}=this;if(this.space==="lch"){const{c:ft,h:vt}=this,mt=Math.PI/180;nt=ft*Math.cos(mt*vt),rt=ft*Math.sin(mt*vt)}const lt=(st+16)/116,ot=nt/500+lt,ht=lt-rt/200,dt=16/116,ct=.008856,ut=7.787;T=.95047*(ot**3>ct?ot**3:(ot-dt)/ut),k=1*(lt**3>ct?lt**3:(lt-dt)/ut),Z=1.08883*(ht**3>ct?ht**3:(ht-dt)/ut)}const ee=T*3.2406+k*-1.5372+Z*-.4986,te=T*-.9689+k*1.8758+Z*.0415,ne=T*.0557+k*-.204+Z*1.057,me=Math.pow,Ve=.0031308,Ye=ee>Ve?1.055*me(ee,1/2.4)-.055:12.92*ee,et=te>Ve?1.055*me(te,1/2.4)-.055:12.92*te,tt=ne>Ve?1.055*me(ne,1/2.4)-.055:12.92*ne;return new Color(255*Ye,255*et,255*tt)}else if(this.space==="hsl"){let{h:T,s:k,l:Z}=this;if(T/=360,k/=100,Z/=100,k===0)return Z*=255,new Color(Z,Z,Z);const ee=Z<.5?Z*(1+k):Z+k-Z*k,te=2*Z-ee,ne=255*hueToRgb(te,ee,T+1/3),me=255*hueToRgb(te,ee,T),Ve=255*hueToRgb(te,ee,T-1/3);return new Color(ne,me,Ve)}else if(this.space==="cmyk"){const{c:T,m:k,y:Z,k:ee}=this,te=255*(1-Math.min(1,T*(1-ee)+ee)),ne=255*(1-Math.min(1,k*(1-ee)+ee)),me=255*(1-Math.min(1,Z*(1-ee)+ee));return new Color(te,ne,me)}else return this}toArray(){const{_a:T,_b:k,_c:Z,_d:ee,space:te}=this;return[T,k,Z,ee,te]}toHex(){const[T,k,Z]=this._clamped().map(componentHex);return`#${T}${k}${Z}`}toRgb(){const[T,k,Z]=this._clamped();return`rgb(${T},${k},${Z})`}toString(){return this.toHex()}xyz(){const{_a:T,_b:k,_c:Z}=this.rgb(),[ee,te,ne]=[T,k,Z].map(ot=>ot/255),me=ee>.04045?Math.pow((ee+.055)/1.055,2.4):ee/12.92,Ve=te>.04045?Math.pow((te+.055)/1.055,2.4):te/12.92,Ye=ne>.04045?Math.pow((ne+.055)/1.055,2.4):ne/12.92,et=(me*.4124+Ve*.3576+Ye*.1805)/.95047,tt=(me*.2126+Ve*.7152+Ye*.0722)/1,it=(me*.0193+Ve*.1192+Ye*.9505)/1.08883,st=et>.008856?Math.pow(et,1/3):7.787*et+16/116,nt=tt>.008856?Math.pow(tt,1/3):7.787*tt+16/116,rt=it>.008856?Math.pow(it,1/3):7.787*it+16/116;return new Color(st,nt,rt,"xyz")}_clamped(){const{_a:T,_b:k,_c:Z}=this.rgb(),{max:ee,min:te,round:ne}=Math,me=Ve=>ee(0,te(ne(Ve),255));return[T,k,Z].map(me)}}class Point{constructor(...T){this.init(...T)}clone(){return new Point(this)}init(T,k){const Z={x:0,y:0},ee=Array.isArray(T)?{x:T[0],y:T[1]}:typeof T=="object"?{x:T.x,y:T.y}:{x:T,y:k};return this.x=ee.x==null?Z.x:ee.x,this.y=ee.y==null?Z.y:ee.y,this}toArray(){return[this.x,this.y]}transform(T){return this.clone().transformO(T)}transformO(T){Matrix.isMatrixLike(T)||(T=new Matrix(T));const{x:k,y:Z}=this;return this.x=T.a*k+T.c*Z+T.e,this.y=T.b*k+T.d*Z+T.f,this}}function point(Y,T){return new Point(Y,T).transformO(this.screenCTM().inverseO())}function closeEnough(Y,T,k){return Math.abs(T-Y)<1e-6}class Matrix{constructor(...T){this.init(...T)}static formatTransforms(T){const k=T.flip==="both"||T.flip===!0,Z=T.flip&&(k||T.flip==="x")?-1:1,ee=T.flip&&(k||T.flip==="y")?-1:1,te=T.skew&&T.skew.length?T.skew[0]:isFinite(T.skew)?T.skew:isFinite(T.skewX)?T.skewX:0,ne=T.skew&&T.skew.length?T.skew[1]:isFinite(T.skew)?T.skew:isFinite(T.skewY)?T.skewY:0,me=T.scale&&T.scale.length?T.scale[0]*Z:isFinite(T.scale)?T.scale*Z:isFinite(T.scaleX)?T.scaleX*Z:Z,Ve=T.scale&&T.scale.length?T.scale[1]*ee:isFinite(T.scale)?T.scale*ee:isFinite(T.scaleY)?T.scaleY*ee:ee,Ye=T.shear||0,et=T.rotate||T.theta||0,tt=new Point(T.origin||T.around||T.ox||T.originX,T.oy||T.originY),it=tt.x,st=tt.y,nt=new Point(T.position||T.px||T.positionX||NaN,T.py||T.positionY||NaN),rt=nt.x,lt=nt.y,ot=new Point(T.translate||T.tx||T.translateX,T.ty||T.translateY),ht=ot.x,dt=ot.y,ct=new Point(T.relative||T.rx||T.relativeX,T.ry||T.relativeY),ut=ct.x,ft=ct.y;return{scaleX:me,scaleY:Ve,skewX:te,skewY:ne,shear:Ye,theta:et,rx:ut,ry:ft,tx:ht,ty:dt,ox:it,oy:st,px:rt,py:lt}}static fromArray(T){return{a:T[0],b:T[1],c:T[2],d:T[3],e:T[4],f:T[5]}}static isMatrixLike(T){return T.a!=null||T.b!=null||T.c!=null||T.d!=null||T.e!=null||T.f!=null}static matrixMultiply(T,k,Z){const ee=T.a*k.a+T.c*k.b,te=T.b*k.a+T.d*k.b,ne=T.a*k.c+T.c*k.d,me=T.b*k.c+T.d*k.d,Ve=T.e+T.a*k.e+T.c*k.f,Ye=T.f+T.b*k.e+T.d*k.f;return Z.a=ee,Z.b=te,Z.c=ne,Z.d=me,Z.e=Ve,Z.f=Ye,Z}around(T,k,Z){return this.clone().aroundO(T,k,Z)}aroundO(T,k,Z){const ee=T||0,te=k||0;return this.translateO(-ee,-te).lmultiplyO(Z).translateO(ee,te)}clone(){return new Matrix(this)}decompose(T=0,k=0){const Z=this.a,ee=this.b,te=this.c,ne=this.d,me=this.e,Ve=this.f,Ye=Z*ne-ee*te,et=Ye>0?1:-1,tt=et*Math.sqrt(Z*Z+ee*ee),it=Math.atan2(et*ee,et*Z),st=180/Math.PI*it,nt=Math.cos(it),rt=Math.sin(it),lt=(Z*te+ee*ne)/Ye,ot=te*tt/(lt*Z-ee)||ne*tt/(lt*ee+Z),ht=me-T+T*nt*tt+k*(lt*nt*tt-rt*ot),dt=Ve-k+T*rt*tt+k*(lt*rt*tt+nt*ot);return{scaleX:tt,scaleY:ot,shear:lt,rotate:st,translateX:ht,translateY:dt,originX:T,originY:k,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(T){if(T===this)return!0;const k=new Matrix(T);return closeEnough(this.a,k.a)&&closeEnough(this.b,k.b)&&closeEnough(this.c,k.c)&&closeEnough(this.d,k.d)&&closeEnough(this.e,k.e)&&closeEnough(this.f,k.f)}flip(T,k){return this.clone().flipO(T,k)}flipO(T,k){return T==="x"?this.scaleO(-1,1,k,0):T==="y"?this.scaleO(1,-1,0,k):this.scaleO(-1,-1,T,k||T)}init(T){const k=Matrix.fromArray([1,0,0,1,0,0]);return T=T instanceof Element$1?T.matrixify():typeof T=="string"?Matrix.fromArray(T.split(delimiter).map(parseFloat)):Array.isArray(T)?Matrix.fromArray(T):typeof T=="object"&&Matrix.isMatrixLike(T)?T:typeof T=="object"?new Matrix().transform(T):arguments.length===6?Matrix.fromArray([].slice.call(arguments)):k,this.a=T.a!=null?T.a:k.a,this.b=T.b!=null?T.b:k.b,this.c=T.c!=null?T.c:k.c,this.d=T.d!=null?T.d:k.d,this.e=T.e!=null?T.e:k.e,this.f=T.f!=null?T.f:k.f,this}inverse(){return this.clone().inverseO()}inverseO(){const T=this.a,k=this.b,Z=this.c,ee=this.d,te=this.e,ne=this.f,me=T*ee-k*Z;if(!me)throw new Error("Cannot invert "+this);const Ve=ee/me,Ye=-k/me,et=-Z/me,tt=T/me,it=-(Ve*te+et*ne),st=-(Ye*te+tt*ne);return this.a=Ve,this.b=Ye,this.c=et,this.d=tt,this.e=it,this.f=st,this}lmultiply(T){return this.clone().lmultiplyO(T)}lmultiplyO(T){const k=this,Z=T instanceof Matrix?T:new Matrix(T);return Matrix.matrixMultiply(Z,k,this)}multiply(T){return this.clone().multiplyO(T)}multiplyO(T){const k=this,Z=T instanceof Matrix?T:new Matrix(T);return Matrix.matrixMultiply(k,Z,this)}rotate(T,k,Z){return this.clone().rotateO(T,k,Z)}rotateO(T,k=0,Z=0){T=radians(T);const ee=Math.cos(T),te=Math.sin(T),{a:ne,b:me,c:Ve,d:Ye,e:et,f:tt}=this;return this.a=ne*ee-me*te,this.b=me*ee+ne*te,this.c=Ve*ee-Ye*te,this.d=Ye*ee+Ve*te,this.e=et*ee-tt*te+Z*te-k*ee+k,this.f=tt*ee+et*te-k*te-Z*ee+Z,this}scale(){return this.clone().scaleO(...arguments)}scaleO(T,k=T,Z=0,ee=0){arguments.length===3&&(ee=Z,Z=k,k=T);const{a:te,b:ne,c:me,d:Ve,e:Ye,f:et}=this;return this.a=te*T,this.b=ne*k,this.c=me*T,this.d=Ve*k,this.e=Ye*T-Z*T+Z,this.f=et*k-ee*k+ee,this}shear(T,k,Z){return this.clone().shearO(T,k,Z)}shearO(T,k=0,Z=0){const{a:ee,b:te,c:ne,d:me,e:Ve,f:Ye}=this;return this.a=ee+te*T,this.c=ne+me*T,this.e=Ve+Ye*T-Z*T,this}skew(){return this.clone().skewO(...arguments)}skewO(T,k=T,Z=0,ee=0){arguments.length===3&&(ee=Z,Z=k,k=T),T=radians(T),k=radians(k);const te=Math.tan(T),ne=Math.tan(k),{a:me,b:Ve,c:Ye,d:et,e:tt,f:it}=this;return this.a=me+Ve*te,this.b=Ve+me*ne,this.c=Ye+et*te,this.d=et+Ye*ne,this.e=tt+it*te-ee*te,this.f=it+tt*ne-Z*ne,this}skewX(T,k,Z){return this.skew(T,0,k,Z)}skewY(T,k,Z){return this.skew(0,T,k,Z)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(T){if(Matrix.isMatrixLike(T))return new Matrix(T).multiplyO(this);const k=Matrix.formatTransforms(T),Z=this,{x:ee,y:te}=new Point(k.ox,k.oy).transform(Z),ne=new Matrix().translateO(k.rx,k.ry).lmultiplyO(Z).translateO(-ee,-te).scaleO(k.scaleX,k.scaleY).skewO(k.skewX,k.skewY).shearO(k.shear).rotateO(k.theta).translateO(ee,te);if(isFinite(k.px)||isFinite(k.py)){const me=new Point(ee,te).transform(ne),Ve=isFinite(k.px)?k.px-me.x:0,Ye=isFinite(k.py)?k.py-me.y:0;ne.translateO(Ve,Ye)}return ne.translateO(k.tx,k.ty),ne}translate(T,k){return this.clone().translateO(T,k)}translateO(T,k){return this.e+=T||0,this.f+=k||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function ctm(){return new Matrix(this.node.getCTM())}function screenCTM(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const Y=this.rect(1,1),T=Y.node.getScreenCTM();return Y.remove(),new Matrix(T)}return new Matrix(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Matrix}}register(Matrix,"Matrix");function parser(){if(!parser.nodes){const Y=makeInstance().size(2,0);Y.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),Y.attr("focusable","false"),Y.attr("aria-hidden","true");const T=Y.path().node;parser.nodes={svg:Y,path:T}}if(!parser.nodes.svg.node.parentNode){const Y=globals.document.body||globals.document.documentElement;parser.nodes.svg.addTo(Y)}return parser.nodes}function isNulledBox(Y){return!Y.width&&!Y.height&&!Y.x&&!Y.y}function domContains(Y){return Y===globals.document||(globals.document.documentElement.contains||function(T){for(;T.parentNode;)T=T.parentNode;return T===globals.document}).call(globals.document.documentElement,Y)}class Box{constructor(...T){this.init(...T)}addOffset(){return this.x+=globals.window.pageXOffset,this.y+=globals.window.pageYOffset,new Box(this)}init(T){const k=[0,0,0,0];return T=typeof T=="string"?T.split(delimiter).map(parseFloat):Array.isArray(T)?T:typeof T=="object"?[T.left!=null?T.left:T.x,T.top!=null?T.top:T.y,T.width,T.height]:arguments.length===4?[].slice.call(arguments):k,this.x=T[0]||0,this.y=T[1]||0,this.width=this.w=T[2]||0,this.height=this.h=T[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return isNulledBox(this)}merge(T){const k=Math.min(this.x,T.x),Z=Math.min(this.y,T.y),ee=Math.max(this.x+this.width,T.x+T.width)-k,te=Math.max(this.y+this.height,T.y+T.height)-Z;return new Box(k,Z,ee,te)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(T){T instanceof Matrix||(T=new Matrix(T));let k=1/0,Z=-1/0,ee=1/0,te=-1/0;return[new Point(this.x,this.y),new Point(this.x2,this.y),new Point(this.x,this.y2),new Point(this.x2,this.y2)].forEach(function(me){me=me.transform(T),k=Math.min(k,me.x),Z=Math.max(Z,me.x),ee=Math.min(ee,me.y),te=Math.max(te,me.y)}),new Box(k,ee,Z-k,te-ee)}}function getBox(Y,T,k){let Z;try{if(Z=T(Y.node),isNulledBox(Z)&&!domContains(Y.node))throw new Error("Element not in the dom")}catch{Z=k(Y)}return Z}function bbox(){const k=getBox(this,ee=>ee.getBBox(),ee=>{try{const te=ee.clone().addTo(parser().svg).show(),ne=te.node.getBBox();return te.remove(),ne}catch(te){throw new Error(`Getting bbox of element "${ee.node.nodeName}" is not possible: ${te.toString()}`)}});return new Box(k)}function rbox(Y){const Z=getBox(this,te=>te.getBoundingClientRect(),te=>{throw new Error(`Getting rbox of element "${te.node.nodeName}" is not possible`)}),ee=new Box(Z);return Y?ee.transform(Y.screenCTM().inverseO()):ee.addOffset()}function inside(Y,T){const k=this.bbox();return Y>k.x&&T>k.y&&Y<k.x+k.width&&T<k.y+k.height}registerMethods({viewbox:{viewbox(Y,T,k,Z){return Y==null?new Box(this.attr("viewBox")):this.attr("viewBox",new Box(Y,T,k,Z))},zoom(Y,T){let{width:k,height:Z}=this.attr(["width","height"]);if((!k&&!Z||typeof k=="string"||typeof Z=="string")&&(k=this.node.clientWidth,Z=this.node.clientHeight),!k||!Z)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const ee=this.viewbox(),te=k/ee.width,ne=Z/ee.height,me=Math.min(te,ne);if(Y==null)return me;let Ve=me/Y;Ve===1/0&&(Ve=Number.MAX_SAFE_INTEGER/100),T=T||new Point(k/2/te+ee.x,Z/2/ne+ee.y);const Ye=new Box(ee).transform(new Matrix({scale:Ve,origin:T}));return this.viewbox(Ye)}}});register(Box,"Box");let List$1=class extends Array{constructor(T=[],...k){if(super(T,...k),typeof T=="number")return this;this.length=0,this.push(...T)}};extend([List$1],{each(Y,...T){return typeof Y=="function"?this.map((k,Z,ee)=>Y.call(k,k,Z,ee)):this.map(k=>k[Y](...T))},toArray(){return Array.prototype.concat.apply([],this)}});const reserved=["toArray","constructor","each"];List$1.extend=function(Y){Y=Y.reduce((T,k)=>(reserved.includes(k)||k[0]==="_"||(k in Array.prototype&&(T["$"+k]=Array.prototype[k]),T[k]=function(...Z){return this.each(k,...Z)}),T),{}),extend([List$1],Y)};function baseFind(Y,T){return new List$1(map((T||globals.document).querySelectorAll(Y),function(k){return adopt(k)}))}function find(Y){return baseFind(Y,this.node)}function findOne(Y){return adopt(this.node.querySelector(Y))}let listenerId=0;const windowEvents={};function getEvents(Y){let T=Y.getEventHolder();return T===globals.window&&(T=windowEvents),T.events||(T.events={}),T.events}function getEventTarget(Y){return Y.getEventTarget()}function clearEvents(Y){let T=Y.getEventHolder();T===globals.window&&(T=windowEvents),T.events&&(T.events={})}function on(Y,T,k,Z,ee){const te=k.bind(Z||Y),ne=makeInstance(Y),me=getEvents(ne),Ve=getEventTarget(ne);T=Array.isArray(T)?T:T.split(delimiter),k._svgjsListenerId||(k._svgjsListenerId=++listenerId),T.forEach(function(Ye){const et=Ye.split(".")[0],tt=Ye.split(".")[1]||"*";me[et]=me[et]||{},me[et][tt]=me[et][tt]||{},me[et][tt][k._svgjsListenerId]=te,Ve.addEventListener(et,te,ee||!1)})}function off(Y,T,k,Z){const ee=makeInstance(Y),te=getEvents(ee),ne=getEventTarget(ee);typeof k=="function"&&(k=k._svgjsListenerId,!k)||(T=Array.isArray(T)?T:(T||"").split(delimiter),T.forEach(function(me){const Ve=me&&me.split(".")[0],Ye=me&&me.split(".")[1];let et,tt;if(k)te[Ve]&&te[Ve][Ye||"*"]&&(ne.removeEventListener(Ve,te[Ve][Ye||"*"][k],Z||!1),delete te[Ve][Ye||"*"][k]);else if(Ve&&Ye){if(te[Ve]&&te[Ve][Ye]){for(tt in te[Ve][Ye])off(ne,[Ve,Ye].join("."),tt);delete te[Ve][Ye]}}else if(Ye)for(me in te)for(et in te[me])Ye===et&&off(ne,[me,Ye].join("."));else if(Ve){if(te[Ve]){for(et in te[Ve])off(ne,[Ve,et].join("."));delete te[Ve]}}else{for(me in te)off(ne,me);clearEvents(ee)}}))}function dispatch(Y,T,k,Z){const ee=getEventTarget(Y);return T instanceof globals.window.Event||(T=new globals.window.CustomEvent(T,{detail:k,cancelable:!0,...Z})),ee.dispatchEvent(T),T}let EventTarget$1=class extends Base{addEventListener(){}dispatch(T,k,Z){return dispatch(this,T,k,Z)}dispatchEvent(T){const k=this.getEventHolder().events;if(!k)return!0;const Z=k[T.type];for(const ee in Z)for(const te in Z[ee])Z[ee][te](T);return!T.defaultPrevented}fire(T,k,Z){return this.dispatch(T,k,Z),this}getEventHolder(){return this}getEventTarget(){return this}off(T,k,Z){return off(this,T,k,Z),this}on(T,k,Z,ee){return on(this,T,k,Z,ee),this}removeEventListener(){}};register(EventTarget$1,"EventTarget");function noop(){}const timeline={duration:400,ease:">",delay:0},attrs={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class SVGArray extends Array{constructor(...T){super(...T),this.init(...T)}clone(){return new this.constructor(this)}init(T){return typeof T=="number"?this:(this.length=0,this.push(...this.parse(T)),this)}parse(T=[]){return T instanceof Array?T:T.trim().split(delimiter).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const T=[];return T.push(...this),T}}class SVGNumber{constructor(...T){this.init(...T)}convert(T){return new SVGNumber(this.value,T)}divide(T){return T=new SVGNumber(T),new SVGNumber(this/T,this.unit||T.unit)}init(T,k){return k=Array.isArray(T)?T[1]:k,T=Array.isArray(T)?T[0]:T,this.value=0,this.unit=k||"",typeof T=="number"?this.value=isNaN(T)?0:isFinite(T)?T:T<0?-34e37:34e37:typeof T=="string"?(k=T.match(numberAndUnit),k&&(this.value=parseFloat(k[1]),k[5]==="%"?this.value/=100:k[5]==="s"&&(this.value*=1e3),this.unit=k[5])):T instanceof SVGNumber&&(this.value=T.valueOf(),this.unit=T.unit),this}minus(T){return T=new SVGNumber(T),new SVGNumber(this-T,this.unit||T.unit)}plus(T){return T=new SVGNumber(T),new SVGNumber(this+T,this.unit||T.unit)}times(T){return T=new SVGNumber(T),new SVGNumber(this*T,this.unit||T.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const colorAttributes=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),hooks=[];function registerAttrHook(Y){hooks.push(Y)}function attr(Y,T,k){if(Y==null){Y={},T=this.node.attributes;for(const Z of T)Y[Z.nodeName]=isNumber.test(Z.nodeValue)?parseFloat(Z.nodeValue):Z.nodeValue;return Y}else{if(Y instanceof Array)return Y.reduce((Z,ee)=>(Z[ee]=this.attr(ee),Z),{});if(typeof Y=="object"&&Y.constructor===Object)for(T in Y)this.attr(T,Y[T]);else if(T===null)this.node.removeAttribute(Y);else{if(T==null)return T=this.node.getAttribute(Y),T==null?attrs[Y]:isNumber.test(T)?parseFloat(T):T;T=hooks.reduce((Z,ee)=>ee(Y,Z,this),T),typeof T=="number"?T=new SVGNumber(T):colorAttributes.has(Y)&&Color.isColor(T)?T=new Color(T):T.constructor===Array&&(T=new SVGArray(T)),Y==="leading"?this.leading&&this.leading(T):typeof k=="string"?this.node.setAttributeNS(k,Y,T.toString()):this.node.setAttribute(Y,T.toString()),this.rebuild&&(Y==="font-size"||Y==="x")&&this.rebuild()}}return this}class Dom extends EventTarget$1{constructor(T,k){super(),this.node=T,this.type=T.nodeName,k&&T!==k&&this.attr(k)}add(T,k){return T=makeInstance(T),T.removeNamespace&&this.node instanceof globals.window.SVGElement&&T.removeNamespace(),k==null?this.node.appendChild(T.node):T.node!==this.node.childNodes[k]&&this.node.insertBefore(T.node,this.node.childNodes[k]),this}addTo(T,k){return makeInstance(T).put(this,k)}children(){return new List$1(map(this.node.children,function(T){return adopt(T)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(T=!0,k=!0){this.writeDataToDom();let Z=this.node.cloneNode(T);return k&&(Z=assignNewId(Z)),new this.constructor(Z)}each(T,k){const Z=this.children();let ee,te;for(ee=0,te=Z.length;ee<te;ee++)T.apply(Z[ee],[ee,Z]),k&&Z[ee].each(T,k);return this}element(T,k){return this.put(new Dom(create$1(T),k))}first(){return adopt(this.node.firstChild)}get(T){return adopt(this.node.childNodes[T])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(T){return this.index(T)>=0}html(T,k){return this.xml(T,k,html$2)}id(T){return typeof T>"u"&&!this.node.id&&(this.node.id=eid(this.type)),this.attr("id",T)}index(T){return[].slice.call(this.node.childNodes).indexOf(T.node)}last(){return adopt(this.node.lastChild)}matches(T){const k=this.node,Z=k.matches||k.matchesSelector||k.msMatchesSelector||k.mozMatchesSelector||k.webkitMatchesSelector||k.oMatchesSelector||null;return Z&&Z.call(k,T)}parent(T){let k=this;if(!k.node.parentNode)return null;if(k=adopt(k.node.parentNode),!T)return k;do if(typeof T=="string"?k.matches(T):k instanceof T)return k;while(k=adopt(k.node.parentNode));return k}put(T,k){return T=makeInstance(T),this.add(T,k),T}putIn(T,k){return makeInstance(T).add(this,k)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(T){return this.node.removeChild(T.node),this}replace(T){return T=makeInstance(T),this.node.parentNode&&this.node.parentNode.replaceChild(T.node,this.node),T}round(T=2,k=null){const Z=10**T,ee=this.attr(k);for(const te in ee)typeof ee[te]=="number"&&(ee[te]=Math.round(ee[te]*Z)/Z);return this.attr(ee),this}svg(T,k){return this.xml(T,k,svg$2)}toString(){return this.id()}words(T){return this.node.textContent=T,this}wrap(T){const k=this.parent();if(!k)return this.addTo(T);const Z=k.index(this);return k.put(T,Z).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(T,k,Z){if(typeof T=="boolean"&&(Z=k,k=T,T=null),T==null||typeof T=="function"){k=k??!0,this.writeDataToDom();let me=this;if(T!=null){if(me=adopt(me.node.cloneNode(!0)),k){const Ve=T(me);if(me=Ve||me,Ve===!1)return""}me.each(function(){const Ve=T(this),Ye=Ve||this;Ve===!1?this.remove():Ve&&this!==Ye&&this.replace(Ye)},!0)}return k?me.node.outerHTML:me.node.innerHTML}k=k??!1;const ee=create$1("wrapper",Z),te=globals.document.createDocumentFragment();ee.innerHTML=T;for(let me=ee.children.length;me--;)te.appendChild(ee.firstElementChild);const ne=this.parent();return k?this.replace(te)&&ne:this.add(te)}}extend(Dom,{attr,find,findOne});register(Dom,"Dom");let Element$1=class extends Dom{constructor(T,k){super(T,k),this.dom={},this.node.instance=this,(T.hasAttribute("data-svgjs")||T.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(T.getAttribute("data-svgjs"))??JSON.parse(T.getAttribute("svgjs:data"))??{})}center(T,k){return this.cx(T).cy(k)}cx(T){return T==null?this.x()+this.width()/2:this.x(T-this.width()/2)}cy(T){return T==null?this.y()+this.height()/2:this.y(T-this.height()/2)}defs(){const T=this.root();return T&&T.defs()}dmove(T,k){return this.dx(T).dy(k)}dx(T=0){return this.x(new SVGNumber(T).plus(this.x()))}dy(T=0){return this.y(new SVGNumber(T).plus(this.y()))}getEventHolder(){return this}height(T){return this.attr("height",T)}move(T,k){return this.x(T).y(k)}parents(T=this.root()){const k=typeof T=="string";k||(T=makeInstance(T));const Z=new List$1;let ee=this;for(;(ee=ee.parent())&&ee.node!==globals.document&&ee.nodeName!=="#document-fragment"&&(Z.push(ee),!(!k&&ee.node===T.node||k&&ee.matches(T)));)if(ee.node===this.root().node)return null;return Z}reference(T){if(T=this.attr(T),!T)return null;const k=(T+"").match(reference);return k?makeInstance(k[1]):null}root(){const T=this.parent(getClass(root$2l));return T&&T.root()}setData(T){return this.dom=T,this}size(T,k){const Z=proportionalSize(this,T,k);return this.width(new SVGNumber(Z.width)).height(new SVGNumber(Z.height))}width(T){return this.attr("width",T)}writeDataToDom(){return writeDataToDom(this,this.dom),super.writeDataToDom()}x(T){return this.attr("x",T)}y(T){return this.attr("y",T)}};extend(Element$1,{bbox,rbox,inside,point,ctm,screenCTM});register(Element$1,"Element");const sugar={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(Y,T){return T==="color"?Y:Y+"-"+T}};["fill","stroke"].forEach(function(Y){const T={};let k;T[Y]=function(Z){if(typeof Z>"u")return this.attr(Y);if(typeof Z=="string"||Z instanceof Color||Color.isRgb(Z)||Z instanceof Element$1)this.attr(Y,Z);else for(k=sugar[Y].length-1;k>=0;k--)Z[sugar[Y][k]]!=null&&this.attr(sugar.prefix(Y,sugar[Y][k]),Z[sugar[Y][k]]);return this},registerMethods(["Element","Runner"],T)});registerMethods(["Element","Runner"],{matrix:function(Y,T,k,Z,ee,te){return Y==null?new Matrix(this):this.attr("transform",new Matrix(Y,T,k,Z,ee,te))},rotate:function(Y,T,k){return this.transform({rotate:Y,ox:T,oy:k},!0)},skew:function(Y,T,k,Z){return arguments.length===1||arguments.length===3?this.transform({skew:Y,ox:T,oy:k},!0):this.transform({skew:[Y,T],ox:k,oy:Z},!0)},shear:function(Y,T,k){return this.transform({shear:Y,ox:T,oy:k},!0)},scale:function(Y,T,k,Z){return arguments.length===1||arguments.length===3?this.transform({scale:Y,ox:T,oy:k},!0):this.transform({scale:[Y,T],ox:k,oy:Z},!0)},translate:function(Y,T){return this.transform({translate:[Y,T]},!0)},relative:function(Y,T){return this.transform({relative:[Y,T]},!0)},flip:function(Y="both",T="center"){return"xybothtrue".indexOf(Y)===-1&&(T=Y,Y="both"),this.transform({flip:Y,origin:T},!0)},opacity:function(Y){return this.attr("opacity",Y)}});registerMethods("radius",{radius:function(Y,T=Y){return(this._element||this).type==="radialGradient"?this.attr("r",new SVGNumber(Y)):this.rx(Y).ry(T)}});registerMethods("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(Y){return new Point(this.node.getPointAtLength(Y))}});registerMethods(["Element","Runner"],{font:function(Y,T){if(typeof Y=="object"){for(T in Y)this.font(T,Y[T]);return this}return Y==="leading"?this.leading(T):Y==="anchor"?this.attr("text-anchor",T):Y==="size"||Y==="family"||Y==="weight"||Y==="stretch"||Y==="variant"||Y==="style"?this.attr("font-"+Y,T):this.attr(Y,T)}});const methods=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(Y,T){const k=function(Z){return Z===null?this.off(T):this.on(T,Z),this};return Y[T]=k,Y},{});registerMethods("Element",methods);function untransform(){return this.attr("transform",null)}function matrixify(){return(this.attr("transform")||"").split(transforms).slice(0,-1).map(function(T){const k=T.trim().split("(");return[k[0],k[1].split(delimiter).map(function(Z){return parseFloat(Z)})]}).reverse().reduce(function(T,k){return k[0]==="matrix"?T.lmultiply(Matrix.fromArray(k[1])):T[k[0]].apply(T,k[1])},new Matrix)}function toParent(Y,T){if(this===Y)return this;if(isDescriptive(this.node))return this.addTo(Y,T);const k=this.screenCTM(),Z=Y.screenCTM().inverse();return this.addTo(Y,T).untransform().transform(Z.multiply(k)),this}function toRoot(Y){return this.toParent(this.root(),Y)}function transform(Y,T){if(Y==null||typeof Y=="string"){const ee=new Matrix(this).decompose();return Y==null?ee:ee[Y]}Matrix.isMatrixLike(Y)||(Y={...Y,origin:getOrigin(Y,this)});const k=T===!0?this:T||!1,Z=new Matrix(k).transform(Y);return this.attr("transform",Z)}registerMethods("Element",{untransform,matrixify,toParent,toRoot,transform});class Container extends Element$1{flatten(){return this.each(function(){if(this instanceof Container)return this.flatten().ungroup()}),this}ungroup(T=this.parent(),k=T.index(this)){return k=k===-1?T.children().length:k,this.each(function(Z,ee){return ee[ee.length-Z-1].toParent(T,k)}),this.remove()}}register(Container,"Container");class Defs extends Container{constructor(T,k=T){super(nodeOrNew("defs",T),k)}flatten(){return this}ungroup(){return this}}register(Defs,"Defs");class Shape extends Element$1{}register(Shape,"Shape");function rx(Y){return this.attr("rx",Y)}function ry(Y){return this.attr("ry",Y)}function x$4(Y){return Y==null?this.cx()-this.rx():this.cx(Y+this.rx())}function y$5(Y){return Y==null?this.cy()-this.ry():this.cy(Y+this.ry())}function cx$1(Y){return this.attr("cx",Y)}function cy$1(Y){return this.attr("cy",Y)}function width$2(Y){return Y==null?this.rx()*2:this.rx(new SVGNumber(Y).divide(2))}function height$2(Y){return Y==null?this.ry()*2:this.ry(new SVGNumber(Y).divide(2))}const circled=Object.freeze(Object.defineProperty({__proto__:null,cx:cx$1,cy:cy$1,height:height$2,rx,ry,width:width$2,x:x$4,y:y$5},Symbol.toStringTag,{value:"Module"}));let Ellipse$1=class extends Shape{constructor(T,k=T){super(nodeOrNew("ellipse",T),k)}size(T,k){const Z=proportionalSize(this,T,k);return this.rx(new SVGNumber(Z.width).divide(2)).ry(new SVGNumber(Z.height).divide(2))}};extend(Ellipse$1,circled);registerMethods("Container",{ellipse:wrapWithAttrCheck(function(Y=0,T=Y){return this.put(new Ellipse$1).size(Y,T).move(0,0)})});register(Ellipse$1,"Ellipse");class Fragment extends Dom{constructor(T=globals.document.createDocumentFragment()){super(T)}xml(T,k,Z){if(typeof T=="boolean"&&(Z=k,k=T,T=null),T==null||typeof T=="function"){const ee=new Dom(create$1("wrapper",Z));return ee.add(this.node.cloneNode(!0)),ee.xml(!1,Z)}return super.xml(T,!1,Z)}}register(Fragment,"Fragment");function from(Y,T){return(this._element||this).type==="radialGradient"?this.attr({fx:new SVGNumber(Y),fy:new SVGNumber(T)}):this.attr({x1:new SVGNumber(Y),y1:new SVGNumber(T)})}function to(Y,T){return(this._element||this).type==="radialGradient"?this.attr({cx:new SVGNumber(Y),cy:new SVGNumber(T)}):this.attr({x2:new SVGNumber(Y),y2:new SVGNumber(T)})}const gradiented=Object.freeze(Object.defineProperty({__proto__:null,from,to},Symbol.toStringTag,{value:"Module"}));class Gradient extends Container{constructor(T,k){super(nodeOrNew(T+"Gradient",typeof T=="string"?null:T),k)}attr(T,k,Z){return T==="transform"&&(T="gradientTransform"),super.attr(T,k,Z)}bbox(){return new Box}targets(){return baseFind("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(T){return this.clear(),typeof T=="function"&&T.call(this,this),this}url(){return"url(#"+this.id()+")"}}extend(Gradient,gradiented);registerMethods({Container:{gradient(...Y){return this.defs().gradient(...Y)}},Defs:{gradient:wrapWithAttrCheck(function(Y,T){return this.put(new Gradient(Y)).update(T)})}});register(Gradient,"Gradient");class Pattern extends Container{constructor(T,k=T){super(nodeOrNew("pattern",T),k)}attr(T,k,Z){return T==="transform"&&(T="patternTransform"),super.attr(T,k,Z)}bbox(){return new Box}targets(){return baseFind("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(T){return this.clear(),typeof T=="function"&&T.call(this,this),this}url(){return"url(#"+this.id()+")"}}registerMethods({Container:{pattern(...Y){return this.defs().pattern(...Y)}},Defs:{pattern:wrapWithAttrCheck(function(Y,T,k){return this.put(new Pattern).update(k).attr({x:0,y:0,width:Y,height:T,patternUnits:"userSpaceOnUse"})})}});register(Pattern,"Pattern");let Image$3=class extends Shape{constructor(T,k=T){super(nodeOrNew("image",T),k)}load(T,k){if(!T)return this;const Z=new globals.window.Image;return on(Z,"load",function(ee){const te=this.parent(Pattern);this.width()===0&&this.height()===0&&this.size(Z.width,Z.height),te instanceof Pattern&&te.width()===0&&te.height()===0&&te.size(this.width(),this.height()),typeof k=="function"&&k.call(this,ee)},this),on(Z,"load error",function(){off(Z)}),this.attr("href",Z.src=T,xlink)}};registerAttrHook(function(Y,T,k){return(Y==="fill"||Y==="stroke")&&isImage.test(T)&&(T=k.root().defs().image(T)),T instanceof Image$3&&(T=k.root().defs().pattern(0,0,Z=>{Z.add(T)})),T});registerMethods({Container:{image:wrapWithAttrCheck(function(Y,T){return this.put(new Image$3).size(0,0).load(Y,T)})}});register(Image$3,"Image");class PointArray extends SVGArray{bbox(){let T=-1/0,k=-1/0,Z=1/0,ee=1/0;return this.forEach(function(te){T=Math.max(te[0],T),k=Math.max(te[1],k),Z=Math.min(te[0],Z),ee=Math.min(te[1],ee)}),new Box(Z,ee,T-Z,k-ee)}move(T,k){const Z=this.bbox();if(T-=Z.x,k-=Z.y,!isNaN(T)&&!isNaN(k))for(let ee=this.length-1;ee>=0;ee--)this[ee]=[this[ee][0]+T,this[ee][1]+k];return this}parse(T=[0,0]){const k=[];T instanceof Array?T=Array.prototype.concat.apply([],T):T=T.trim().split(delimiter).map(parseFloat),T.length%2!==0&&T.pop();for(let Z=0,ee=T.length;Z<ee;Z=Z+2)k.push([T[Z],T[Z+1]]);return k}size(T,k){let Z;const ee=this.bbox();for(Z=this.length-1;Z>=0;Z--)ee.width&&(this[Z][0]=(this[Z][0]-ee.x)*T/ee.width+ee.x),ee.height&&(this[Z][1]=(this[Z][1]-ee.y)*k/ee.height+ee.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const T=[];for(let k=0,Z=this.length;k<Z;k++)T.push(this[k].join(","));return T.join(" ")}transform(T){return this.clone().transformO(T)}transformO(T){Matrix.isMatrixLike(T)||(T=new Matrix(T));for(let k=this.length;k--;){const[Z,ee]=this[k];this[k][0]=T.a*Z+T.c*ee+T.e,this[k][1]=T.b*Z+T.d*ee+T.f}return this}}const MorphArray=PointArray;function x$3(Y){return Y==null?this.bbox().x:this.move(Y,this.bbox().y)}function y$4(Y){return Y==null?this.bbox().y:this.move(this.bbox().x,Y)}function width$1(Y){const T=this.bbox();return Y==null?T.width:this.size(Y,T.height)}function height$1(Y){const T=this.bbox();return Y==null?T.height:this.size(T.width,Y)}const pointed=Object.freeze(Object.defineProperty({__proto__:null,MorphArray,height:height$1,width:width$1,x:x$3,y:y$4},Symbol.toStringTag,{value:"Module"}));let Line$1=class extends Shape{constructor(T,k=T){super(nodeOrNew("line",T),k)}array(){return new PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(T,k){return this.attr(this.array().move(T,k).toLine())}plot(T,k,Z,ee){return T==null?this.array():(typeof k<"u"?T={x1:T,y1:k,x2:Z,y2:ee}:T=new PointArray(T).toLine(),this.attr(T))}size(T,k){const Z=proportionalSize(this,T,k);return this.attr(this.array().size(Z.width,Z.height).toLine())}};extend(Line$1,pointed);registerMethods({Container:{line:wrapWithAttrCheck(function(...Y){return Line$1.prototype.plot.apply(this.put(new Line$1),Y[0]!=null?Y:[0,0,0,0])})}});register(Line$1,"Line");class Marker extends Container{constructor(T,k=T){super(nodeOrNew("marker",T),k)}height(T){return this.attr("markerHeight",T)}orient(T){return this.attr("orient",T)}ref(T,k){return this.attr("refX",T).attr("refY",k)}toString(){return"url(#"+this.id()+")"}update(T){return this.clear(),typeof T=="function"&&T.call(this,this),this}width(T){return this.attr("markerWidth",T)}}registerMethods({Container:{marker(...Y){return this.defs().marker(...Y)}},Defs:{marker:wrapWithAttrCheck(function(Y,T,k){return this.put(new Marker).size(Y,T).ref(Y/2,T/2).viewbox(0,0,Y,T).attr("orient","auto").update(k)})},marker:{marker(Y,T,k,Z){let ee=["marker"];return Y!=="all"&&ee.push(Y),ee=ee.join("-"),Y=arguments[1]instanceof Marker?arguments[1]:this.defs().marker(T,k,Z),this.attr(ee,Y)}}});register(Marker,"Marker");function makeSetterGetter(Y,T){return function(k){return k==null?this[Y]:(this[Y]=k,T&&T.call(this),this)}}const easing={"-":function(Y){return Y},"<>":function(Y){return-Math.cos(Y*Math.PI)/2+.5},">":function(Y){return Math.sin(Y*Math.PI/2)},"<":function(Y){return-Math.cos(Y*Math.PI/2)+1},bezier:function(Y,T,k,Z){return function(ee){return ee<0?Y>0?T/Y*ee:k>0?Z/k*ee:0:ee>1?k<1?(1-Z)/(1-k)*ee+(Z-k)/(1-k):Y<1?(1-T)/(1-Y)*ee+(T-Y)/(1-Y):1:3*ee*(1-ee)**2*T+3*ee**2*(1-ee)*Z+ee**3}},steps:function(Y,T="end"){T=T.split("-").reverse()[0];let k=Y;return T==="none"?--k:T==="both"&&++k,(Z,ee=!1)=>{let te=Math.floor(Z*Y);const ne=Z*te%1===0;return(T==="start"||T==="both")&&++te,ee&&ne&&--te,Z>=0&&te<0&&(te=0),Z<=1&&te>k&&(te=k),te/k}}};class Stepper{done(){return!1}}class Ease extends Stepper{constructor(T=timeline.ease){super(),this.ease=easing[T]||T}step(T,k,Z){return typeof T!="number"?Z<1?T:k:T+(k-T)*this.ease(Z)}}class Controller extends Stepper{constructor(T){super(),this.stepper=T}done(T){return T.done}step(T,k,Z,ee){return this.stepper(T,k,Z,ee)}}function recalculate(){const Y=(this._duration||500)/1e3,T=this._overshoot||0,k=1e-10,Z=Math.PI,ee=Math.log(T/100+k),te=-ee/Math.sqrt(Z*Z+ee*ee),ne=3.9/(te*Y);this.d=2*te*ne,this.k=ne*ne}class Spring extends Controller{constructor(T=500,k=0){super(),this.duration(T).overshoot(k)}step(T,k,Z,ee){if(typeof T=="string")return T;if(ee.done=Z===1/0,Z===1/0)return k;if(Z===0)return T;Z>100&&(Z=16),Z/=1e3;const te=ee.velocity||0,ne=-this.d*te-this.k*(T-k),me=T+te*Z+ne*Z*Z/2;return ee.velocity=te+ne*Z,ee.done=Math.abs(k-me)+Math.abs(te)<.002,ee.done?k:me}}extend(Spring,{duration:makeSetterGetter("_duration",recalculate),overshoot:makeSetterGetter("_overshoot",recalculate)});class PID extends Controller{constructor(T=.1,k=.01,Z=0,ee=1e3){super(),this.p(T).i(k).d(Z).windup(ee)}step(T,k,Z,ee){if(typeof T=="string")return T;if(ee.done=Z===1/0,Z===1/0)return k;if(Z===0)return T;const te=k-T;let ne=(ee.integral||0)+te*Z;const me=(te-(ee.error||0))/Z,Ve=this._windup;return Ve!==!1&&(ne=Math.max(-Ve,Math.min(ne,Ve))),ee.error=te,ee.integral=ne,ee.done=Math.abs(te)<.001,ee.done?k:T+(this.P*te+this.I*ne+this.D*me)}}extend(PID,{windup:makeSetterGetter("_windup"),p:makeSetterGetter("P"),i:makeSetterGetter("I"),d:makeSetterGetter("D")});const segmentParameters={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},pathHandlers={M:function(Y,T,k){return T.x=k.x=Y[0],T.y=k.y=Y[1],["M",T.x,T.y]},L:function(Y,T){return T.x=Y[0],T.y=Y[1],["L",Y[0],Y[1]]},H:function(Y,T){return T.x=Y[0],["H",Y[0]]},V:function(Y,T){return T.y=Y[0],["V",Y[0]]},C:function(Y,T){return T.x=Y[4],T.y=Y[5],["C",Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]]},S:function(Y,T){return T.x=Y[2],T.y=Y[3],["S",Y[0],Y[1],Y[2],Y[3]]},Q:function(Y,T){return T.x=Y[2],T.y=Y[3],["Q",Y[0],Y[1],Y[2],Y[3]]},T:function(Y,T){return T.x=Y[0],T.y=Y[1],["T",Y[0],Y[1]]},Z:function(Y,T,k){return T.x=k.x,T.y=k.y,["Z"]},A:function(Y,T){return T.x=Y[5],T.y=Y[6],["A",Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6]]}},mlhvqtcsaz="mlhvqtcsaz".split("");for(let Y=0,T=mlhvqtcsaz.length;Y<T;++Y)pathHandlers[mlhvqtcsaz[Y]]=function(k){return function(Z,ee,te){if(k==="H")Z[0]=Z[0]+ee.x;else if(k==="V")Z[0]=Z[0]+ee.y;else if(k==="A")Z[5]=Z[5]+ee.x,Z[6]=Z[6]+ee.y;else for(let ne=0,me=Z.length;ne<me;++ne)Z[ne]=Z[ne]+(ne%2?ee.y:ee.x);return pathHandlers[k](Z,ee,te)}}(mlhvqtcsaz[Y].toUpperCase());function makeAbsolut(Y){const T=Y.segment[0];return pathHandlers[T](Y.segment.slice(1),Y.p,Y.p0)}function segmentComplete(Y){return Y.segment.length&&Y.segment.length-1===segmentParameters[Y.segment[0].toUpperCase()]}function startNewSegment(Y,T){Y.inNumber&&finalizeNumber(Y,!1);const k=isPathLetter.test(T);if(k)Y.segment=[T];else{const Z=Y.lastCommand,ee=Z.toLowerCase(),te=Z===ee;Y.segment=[ee==="m"?te?"l":"L":Z]}return Y.inSegment=!0,Y.lastCommand=Y.segment[0],k}function finalizeNumber(Y,T){if(!Y.inNumber)throw new Error("Parser Error");Y.number&&Y.segment.push(parseFloat(Y.number)),Y.inNumber=T,Y.number="",Y.pointSeen=!1,Y.hasExponent=!1,segmentComplete(Y)&&finalizeSegment(Y)}function finalizeSegment(Y){Y.inSegment=!1,Y.absolute&&(Y.segment=makeAbsolut(Y)),Y.segments.push(Y.segment)}function isArcFlag(Y){if(!Y.segment.length)return!1;const T=Y.segment[0].toUpperCase()==="A",k=Y.segment.length;return T&&(k===4||k===5)}function isExponential(Y){return Y.lastToken.toUpperCase()==="E"}const pathDelimiters=new Set([" ",",","	",`
`,"\r","\f"]);function pathParser(Y,T=!0){let k=0,Z="";const ee={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:T,p0:new Point,p:new Point};for(;ee.lastToken=Z,Z=Y.charAt(k++);)if(!(!ee.inSegment&&startNewSegment(ee,Z))){if(Z==="."){if(ee.pointSeen||ee.hasExponent){finalizeNumber(ee,!1),--k;continue}ee.inNumber=!0,ee.pointSeen=!0,ee.number+=Z;continue}if(!isNaN(parseInt(Z))){if(ee.number==="0"||isArcFlag(ee)){ee.inNumber=!0,ee.number=Z,finalizeNumber(ee,!0);continue}ee.inNumber=!0,ee.number+=Z;continue}if(pathDelimiters.has(Z)){ee.inNumber&&finalizeNumber(ee,!1);continue}if(Z==="-"||Z==="+"){if(ee.inNumber&&!isExponential(ee)){finalizeNumber(ee,!1),--k;continue}ee.number+=Z,ee.inNumber=!0;continue}if(Z.toUpperCase()==="E"){ee.number+=Z,ee.hasExponent=!0;continue}if(isPathLetter.test(Z)){if(ee.inNumber)finalizeNumber(ee,!1);else if(segmentComplete(ee))finalizeSegment(ee);else throw new Error("parser Error");--k}}return ee.inNumber&&finalizeNumber(ee,!1),ee.inSegment&&segmentComplete(ee)&&finalizeSegment(ee),ee.segments}function arrayToString(Y){let T="";for(let k=0,Z=Y.length;k<Z;k++)T+=Y[k][0],Y[k][1]!=null&&(T+=Y[k][1],Y[k][2]!=null&&(T+=" ",T+=Y[k][2],Y[k][3]!=null&&(T+=" ",T+=Y[k][3],T+=" ",T+=Y[k][4],Y[k][5]!=null&&(T+=" ",T+=Y[k][5],T+=" ",T+=Y[k][6],Y[k][7]!=null&&(T+=" ",T+=Y[k][7])))));return T+" "}class PathArray extends SVGArray{bbox(){return parser().path.setAttribute("d",this.toString()),new Box(parser.nodes.path.getBBox())}move(T,k){const Z=this.bbox();if(T-=Z.x,k-=Z.y,!isNaN(T)&&!isNaN(k))for(let ee,te=this.length-1;te>=0;te--)ee=this[te][0],ee==="M"||ee==="L"||ee==="T"?(this[te][1]+=T,this[te][2]+=k):ee==="H"?this[te][1]+=T:ee==="V"?this[te][1]+=k:ee==="C"||ee==="S"||ee==="Q"?(this[te][1]+=T,this[te][2]+=k,this[te][3]+=T,this[te][4]+=k,ee==="C"&&(this[te][5]+=T,this[te][6]+=k)):ee==="A"&&(this[te][6]+=T,this[te][7]+=k);return this}parse(T="M0 0"){return Array.isArray(T)&&(T=Array.prototype.concat.apply([],T).toString()),pathParser(T)}size(T,k){const Z=this.bbox();let ee,te;for(Z.width=Z.width===0?1:Z.width,Z.height=Z.height===0?1:Z.height,ee=this.length-1;ee>=0;ee--)te=this[ee][0],te==="M"||te==="L"||te==="T"?(this[ee][1]=(this[ee][1]-Z.x)*T/Z.width+Z.x,this[ee][2]=(this[ee][2]-Z.y)*k/Z.height+Z.y):te==="H"?this[ee][1]=(this[ee][1]-Z.x)*T/Z.width+Z.x:te==="V"?this[ee][1]=(this[ee][1]-Z.y)*k/Z.height+Z.y:te==="C"||te==="S"||te==="Q"?(this[ee][1]=(this[ee][1]-Z.x)*T/Z.width+Z.x,this[ee][2]=(this[ee][2]-Z.y)*k/Z.height+Z.y,this[ee][3]=(this[ee][3]-Z.x)*T/Z.width+Z.x,this[ee][4]=(this[ee][4]-Z.y)*k/Z.height+Z.y,te==="C"&&(this[ee][5]=(this[ee][5]-Z.x)*T/Z.width+Z.x,this[ee][6]=(this[ee][6]-Z.y)*k/Z.height+Z.y)):te==="A"&&(this[ee][1]=this[ee][1]*T/Z.width,this[ee][2]=this[ee][2]*k/Z.height,this[ee][6]=(this[ee][6]-Z.x)*T/Z.width+Z.x,this[ee][7]=(this[ee][7]-Z.y)*k/Z.height+Z.y);return this}toString(){return arrayToString(this)}}const getClassForType=Y=>{const T=typeof Y;return T==="number"?SVGNumber:T==="string"?Color.isColor(Y)?Color:delimiter.test(Y)?isPathLetter.test(Y)?PathArray:SVGArray:numberAndUnit.test(Y)?SVGNumber:NonMorphable:morphableTypes.indexOf(Y.constructor)>-1?Y.constructor:Array.isArray(Y)?SVGArray:T==="object"?ObjectBag:NonMorphable};class Morphable{constructor(T){this._stepper=T||new Ease("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(T){return this._morphObj.morph(this._from,this._to,T,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(k,Z){return k&&Z},!0)}from(T){return T==null?this._from:(this._from=this._set(T),this)}stepper(T){return T==null?this._stepper:(this._stepper=T,this)}to(T){return T==null?this._to:(this._to=this._set(T),this)}type(T){return T==null?this._type:(this._type=T,this)}_set(T){this._type||this.type(getClassForType(T));let k=new this._type(T);return this._type===Color&&(k=this._to?k[this._to[4]]():this._from?k[this._from[4]]():k),this._type===ObjectBag&&(k=this._to?k.align(this._to):this._from?k.align(this._from):k),k=k.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(k.length)).map(Object).map(function(Z){return Z.done=!0,Z}),k}}class NonMorphable{constructor(...T){this.init(...T)}init(T){return T=Array.isArray(T)?T[0]:T,this.value=T,this}toArray(){return[this.value]}valueOf(){return this.value}}class TransformBag{constructor(...T){this.init(...T)}init(T){return Array.isArray(T)&&(T={scaleX:T[0],scaleY:T[1],shear:T[2],rotate:T[3],translateX:T[4],translateY:T[5],originX:T[6],originY:T[7]}),Object.assign(this,TransformBag.defaults,T),this}toArray(){const T=this;return[T.scaleX,T.scaleY,T.shear,T.rotate,T.translateX,T.translateY,T.originX,T.originY]}}TransformBag.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const sortByKey=(Y,T)=>Y[0]<T[0]?-1:Y[0]>T[0]?1:0;class ObjectBag{constructor(...T){this.init(...T)}align(T){const k=this.values;for(let Z=0,ee=k.length;Z<ee;++Z){if(k[Z+1]===T[Z+1]){if(k[Z+1]===Color&&T[Z+7]!==k[Z+7]){const me=T[Z+7],Ve=new Color(this.values.splice(Z+3,5))[me]().toArray();this.values.splice(Z+3,0,...Ve)}Z+=k[Z+2]+2;continue}if(!T[Z+1])return this;const te=new T[Z+1]().toArray(),ne=k[Z+2]+3;k.splice(Z,ne,T[Z],T[Z+1],T[Z+2],...te),Z+=k[Z+2]+2}return this}init(T){if(this.values=[],Array.isArray(T)){this.values=T.slice();return}T=T||{};const k=[];for(const Z in T){const ee=getClassForType(T[Z]),te=new ee(T[Z]).toArray();k.push([Z,ee,te.length,...te])}return k.sort(sortByKey),this.values=k.reduce((Z,ee)=>Z.concat(ee),[]),this}toArray(){return this.values}valueOf(){const T={},k=this.values;for(;k.length;){const Z=k.shift(),ee=k.shift(),te=k.shift(),ne=k.splice(0,te);T[Z]=new ee(ne)}return T}}const morphableTypes=[NonMorphable,TransformBag,ObjectBag];function registerMorphableType(Y=[]){morphableTypes.push(...[].concat(Y))}function makeMorphable(){extend(morphableTypes,{to(Y){return new Morphable().type(this.constructor).from(this.toArray()).to(Y)},fromArray(Y){return this.init(Y),this},toConsumable(){return this.toArray()},morph(Y,T,k,Z,ee){const te=function(ne,me){return Z.step(ne,T[me],k,ee[me],ee)};return this.fromArray(Y.map(te))}})}class Path extends Shape{constructor(T,k=T){super(nodeOrNew("path",T),k)}array(){return this._array||(this._array=new PathArray(this.attr("d")))}clear(){return delete this._array,this}height(T){return T==null?this.bbox().height:this.size(this.bbox().width,T)}move(T,k){return this.attr("d",this.array().move(T,k))}plot(T){return T==null?this.array():this.clear().attr("d",typeof T=="string"?T:this._array=new PathArray(T))}size(T,k){const Z=proportionalSize(this,T,k);return this.attr("d",this.array().size(Z.width,Z.height))}width(T){return T==null?this.bbox().width:this.size(T,this.bbox().height)}x(T){return T==null?this.bbox().x:this.move(T,this.bbox().y)}y(T){return T==null?this.bbox().y:this.move(this.bbox().x,T)}}Path.prototype.MorphArray=PathArray;registerMethods({Container:{path:wrapWithAttrCheck(function(Y){return this.put(new Path).plot(Y||new PathArray)})}});register(Path,"Path");function array(){return this._array||(this._array=new PointArray(this.attr("points")))}function clear(){return delete this._array,this}function move$2(Y,T){return this.attr("points",this.array().move(Y,T))}function plot(Y){return Y==null?this.array():this.clear().attr("points",typeof Y=="string"?Y:this._array=new PointArray(Y))}function size$1(Y,T){const k=proportionalSize(this,Y,T);return this.attr("points",this.array().size(k.width,k.height))}const poly=Object.freeze(Object.defineProperty({__proto__:null,array,clear,move:move$2,plot,size:size$1},Symbol.toStringTag,{value:"Module"}));class Polygon extends Shape{constructor(T,k=T){super(nodeOrNew("polygon",T),k)}}registerMethods({Container:{polygon:wrapWithAttrCheck(function(Y){return this.put(new Polygon).plot(Y||new PointArray)})}});extend(Polygon,pointed);extend(Polygon,poly);register(Polygon,"Polygon");class Polyline extends Shape{constructor(T,k=T){super(nodeOrNew("polyline",T),k)}}registerMethods({Container:{polyline:wrapWithAttrCheck(function(Y){return this.put(new Polyline).plot(Y||new PointArray)})}});extend(Polyline,pointed);extend(Polyline,poly);register(Polyline,"Polyline");class Rect extends Shape{constructor(T,k=T){super(nodeOrNew("rect",T),k)}}extend(Rect,{rx,ry});registerMethods({Container:{rect:wrapWithAttrCheck(function(Y,T){return this.put(new Rect).size(Y,T)})}});register(Rect,"Rect");class Queue{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(T){const k=typeof T.next<"u"?T:{value:T,next:null,prev:null};return this._last?(k.prev=this._last,this._last.next=k,this._last=k):(this._last=k,this._first=k),k}remove(T){T.prev&&(T.prev.next=T.next),T.next&&(T.next.prev=T.prev),T===this._last&&(this._last=T.prev),T===this._first&&(this._first=T.next),T.prev=null,T.next=null}shift(){const T=this._first;return T?(this._first=T.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,T.value):null}}const Animator={nextDraw:null,frames:new Queue,timeouts:new Queue,immediates:new Queue,timer:()=>globals.window.performance||globals.window.Date,transforms:[],frame(Y){const T=Animator.frames.push({run:Y});return Animator.nextDraw===null&&(Animator.nextDraw=globals.window.requestAnimationFrame(Animator._draw)),T},timeout(Y,T){T=T||0;const k=Animator.timer().now()+T,Z=Animator.timeouts.push({run:Y,time:k});return Animator.nextDraw===null&&(Animator.nextDraw=globals.window.requestAnimationFrame(Animator._draw)),Z},immediate(Y){const T=Animator.immediates.push(Y);return Animator.nextDraw===null&&(Animator.nextDraw=globals.window.requestAnimationFrame(Animator._draw)),T},cancelFrame(Y){Y!=null&&Animator.frames.remove(Y)},clearTimeout(Y){Y!=null&&Animator.timeouts.remove(Y)},cancelImmediate(Y){Y!=null&&Animator.immediates.remove(Y)},_draw(Y){let T=null;const k=Animator.timeouts.last();for(;(T=Animator.timeouts.shift())&&(Y>=T.time?T.run():Animator.timeouts.push(T),T!==k););let Z=null;const ee=Animator.frames.last();for(;Z!==ee&&(Z=Animator.frames.shift());)Z.run(Y);let te=null;for(;te=Animator.immediates.shift();)te();Animator.nextDraw=Animator.timeouts.first()||Animator.frames.first()?globals.window.requestAnimationFrame(Animator._draw):null}},makeSchedule=function(Y){const T=Y.start,k=Y.runner.duration(),Z=T+k;return{start:T,duration:k,end:Z,runner:Y.runner}},defaultSource=function(){const Y=globals.window;return(Y.performance||Y.Date).now()};class Timeline extends EventTarget$1{constructor(T=defaultSource){super(),this._timeSource=T,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const T=this.getLastRunnerInfo(),k=T?T.runner.duration():0;return(T?T.start:this._time)+k}getEndTimeOfTimeline(){const T=this._runners.map(k=>k.start+k.runner.duration());return Math.max(0,...T)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(T){return this._runners[this._runnerIds.indexOf(T)]||null}pause(){return this._paused=!0,this._continue()}persist(T){return T==null?this._persist:(this._persist=T,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(T){const k=this.speed();if(T==null)return this.speed(-k);const Z=Math.abs(k);return this.speed(T?-Z:Z)}schedule(T,k,Z){if(T==null)return this._runners.map(makeSchedule);let ee=0;const te=this.getEndTime();if(k=k||0,Z==null||Z==="last"||Z==="after")ee=te;else if(Z==="absolute"||Z==="start")ee=k,k=0;else if(Z==="now")ee=this._time;else if(Z==="relative"){const Ve=this.getRunnerInfoById(T.id);Ve&&(ee=Ve.start+k,k=0)}else if(Z==="with-last"){const Ve=this.getLastRunnerInfo();ee=Ve?Ve.start:this._time}else throw new Error('Invalid value for the "when" parameter');T.unschedule(),T.timeline(this);const ne=T.persist(),me={persist:ne===null?this._persist:ne,start:ee+k,runner:T};return this._lastRunnerId=T.id,this._runners.push(me),this._runners.sort((Ve,Ye)=>Ve.start-Ye.start),this._runnerIds=this._runners.map(Ve=>Ve.runner.id),this.updateTime()._continue(),this}seek(T){return this.time(this._time+T)}source(T){return T==null?this._timeSource:(this._timeSource=T,this)}speed(T){return T==null?this._speed:(this._speed=T,this)}stop(){return this.time(0),this.pause()}time(T){return T==null?this._time:(this._time=T,this._continue(!0))}unschedule(T){const k=this._runnerIds.indexOf(T.id);return k<0?this:(this._runners.splice(k,1),this._runnerIds.splice(k,1),T.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(T=!1){return Animator.cancelFrame(this._nextFrame),this._nextFrame=null,T?this._stepImmediate():this._paused?this:(this._nextFrame=Animator.frame(this._step),this)}_stepFn(T=!1){const k=this._timeSource();let Z=k-this._lastSourceTime;T&&(Z=0);const ee=this._speed*Z+(this._time-this._lastStepTime);this._lastSourceTime=k,T||(this._time+=ee,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let ne=this._runners.length;ne--;){const me=this._runners[ne],Ve=me.runner;this._time-me.start<=0&&Ve.reset()}let te=!1;for(let ne=0,me=this._runners.length;ne<me;ne++){const Ve=this._runners[ne],Ye=Ve.runner;let et=ee;const tt=this._time-Ve.start;if(tt<=0){te=!0;continue}else tt<et&&(et=tt);if(!Ye.active())continue;Ye.step(et).done?Ve.persist!==!0&&Ye.duration()-Ye.time()+this._time+Ve.persist<this._time&&(Ye.unschedule(),--ne,--me):te=!0}return te&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}registerMethods({Element:{timeline:function(Y){return Y==null?(this._timeline=this._timeline||new Timeline,this._timeline):(this._timeline=Y,this)}}});class Runner extends EventTarget$1{constructor(T){super(),this.id=Runner.id++,T=T??timeline.duration,T=typeof T=="function"?new Controller(T):T,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof T=="number"&&T,this._isDeclarative=T instanceof Controller,this._stepper=this._isDeclarative?T:new Ease,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Matrix,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(T,k,Z){let ee=1,te=!1,ne=0;return T=T??timeline.duration,k=k??timeline.delay,Z=Z||"last",typeof T=="object"&&!(T instanceof Stepper)&&(k=T.delay??k,Z=T.when??Z,te=T.swing||te,ee=T.times??ee,ne=T.wait??ne,T=T.duration??timeline.duration),{duration:T,delay:k,swing:te,times:ee,wait:ne,when:Z}}active(T){return T==null?this.enabled:(this.enabled=T,this)}addTransform(T){return this.transforms.lmultiplyO(T),this}after(T){return this.on("finished",T)}animate(T,k,Z){const ee=Runner.sanitise(T,k,Z),te=new Runner(ee.duration);return this._timeline&&te.timeline(this._timeline),this._element&&te.element(this._element),te.loop(ee).schedule(ee.delay,ee.when)}clearTransform(){return this.transforms=new Matrix,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(T=>!T.isTransform))}delay(T){return this.animate(0,T)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(T){return this.queue(null,T)}ease(T){return this._stepper=new Ease(T),this}element(T){return T==null?this._element:(this._element=T,T._prepareRunner(),this)}finish(){return this.step(1/0)}loop(T,k,Z){return typeof T=="object"&&(k=T.swing,Z=T.wait,T=T.times),this._times=T||1/0,this._swing=k||!1,this._wait=Z||0,this._times===!0&&(this._times=1/0),this}loops(T){const k=this._duration+this._wait;if(T==null){const ne=Math.floor(this._time/k),Ve=(this._time-ne*k)/this._duration;return Math.min(ne+Ve,this._times)}const Z=Math.floor(T),ee=T%1,te=k*Z+this._duration*ee;return this.time(te)}persist(T){return T==null?this._persist:(this._persist=T,this)}position(T){const k=this._time,Z=this._duration,ee=this._wait,te=this._times,ne=this._swing,me=this._reverse;let Ve;if(T==null){const it=function(nt){const rt=ne*Math.floor(nt%(2*(ee+Z))/(ee+Z)),lt=rt&&!me||!rt&&me,ot=Math.pow(-1,lt)*(nt%(ee+Z))/Z+lt;return Math.max(Math.min(ot,1),0)},st=te*(ee+Z)-ee;return Ve=k<=0?Math.round(it(1e-5)):k<st?it(k):Math.round(it(st-1e-5)),Ve}const Ye=Math.floor(this.loops()),et=ne&&Ye%2===0;return Ve=Ye+(et&&!me||me&&et?T:1-T),this.loops(Ve)}progress(T){return T==null?Math.min(1,this._time/this.duration()):this.time(T*this.duration())}queue(T,k,Z,ee){return this._queue.push({initialiser:T||noop,runner:k||noop,retarget:Z,isTransform:ee,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(T){return this._reverse=T??!this._reverse,this}schedule(T,k,Z){if(T instanceof Timeline||(Z=k,k=T,T=this.timeline()),!T)throw Error("Runner cannot be scheduled without timeline");return T.schedule(this,k,Z),this}step(T){if(!this.enabled)return this;T=T??16,this._time+=T;const k=this.position(),Z=this._lastPosition!==k&&this._time>=0;this._lastPosition=k;const ee=this.duration(),te=this._lastTime<=0&&this._time>0,ne=this._lastTime<ee&&this._time>=ee;this._lastTime=this._time,te&&this.fire("start",this);const me=this._isDeclarative;this.done=!me&&!ne&&this._time>=ee,this._reseted=!1;let Ve=!1;return(Z||me)&&(this._initialise(Z),this.transforms=new Matrix,Ve=this._run(me?T:k),this.fire("step",this)),this.done=this.done||Ve&&me,ne&&this.fire("finished",this),this}time(T){if(T==null)return this._time;const k=T-this._time;return this.step(k),this}timeline(T){return typeof T>"u"?this._timeline:(this._timeline=T,this)}unschedule(){const T=this.timeline();return T&&T.unschedule(this),this}_initialise(T){if(!(!T&&!this._isDeclarative))for(let k=0,Z=this._queue.length;k<Z;++k){const ee=this._queue[k],te=this._isDeclarative||!ee.initialised&&T;T=!ee.finished,te&&T&&(ee.initialiser.call(this),ee.initialised=!0)}}_rememberMorpher(T,k){if(this._history[T]={morpher:k,caller:this._queue[this._queue.length-1]},this._isDeclarative){const Z=this.timeline();Z&&Z.play()}}_run(T){let k=!0;for(let Z=0,ee=this._queue.length;Z<ee;++Z){const te=this._queue[Z],ne=te.runner.call(this,T);te.finished=te.finished||ne===!0,k=k&&te.finished}return k}_tryRetarget(T,k,Z){if(this._history[T]){if(!this._history[T].caller.initialised){const te=this._queue.indexOf(this._history[T].caller);return this._queue.splice(te,1),!1}this._history[T].caller.retarget?this._history[T].caller.retarget.call(this,k,Z):this._history[T].morpher.to(k),this._history[T].caller.finished=!1;const ee=this.timeline();return ee&&ee.play(),!0}return!1}}Runner.id=0;class FakeRunner{constructor(T=new Matrix,k=-1,Z=!0){this.transforms=T,this.id=k,this.done=Z}clearTransformsFromQueue(){}}extend([Runner,FakeRunner],{mergeWith(Y){return new FakeRunner(Y.transforms.lmultiply(this.transforms),Y.id)}});const lmultiply=(Y,T)=>Y.lmultiplyO(T),getRunnerTransform=Y=>Y.transforms;function mergeTransforms(){const T=this._transformationRunners.runners.map(getRunnerTransform).reduce(lmultiply,new Matrix);this.transform(T),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class RunnerArray{constructor(){this.runners=[],this.ids=[]}add(T){if(this.runners.includes(T))return;const k=T.id+1;return this.runners.push(T),this.ids.push(k),this}clearBefore(T){const k=this.ids.indexOf(T+1)||1;return this.ids.splice(0,k,0),this.runners.splice(0,k,new FakeRunner).forEach(Z=>Z.clearTransformsFromQueue()),this}edit(T,k){const Z=this.ids.indexOf(T+1);return this.ids.splice(Z,1,T+1),this.runners.splice(Z,1,k),this}getByID(T){return this.runners[this.ids.indexOf(T+1)]}length(){return this.ids.length}merge(){let T=null;for(let k=0;k<this.runners.length;++k){const Z=this.runners[k];if(T&&Z.done&&T.done&&(!Z._timeline||!Z._timeline._runnerIds.includes(Z.id))&&(!T._timeline||!T._timeline._runnerIds.includes(T.id))){this.remove(Z.id);const te=Z.mergeWith(T);this.edit(T.id,te),T=te,--k}else T=Z}return this}remove(T){const k=this.ids.indexOf(T+1);return this.ids.splice(k,1),this.runners.splice(k,1),this}}registerMethods({Element:{animate(Y,T,k){const Z=Runner.sanitise(Y,T,k),ee=this.timeline();return new Runner(Z.duration).loop(Z).element(this).timeline(ee.play()).schedule(Z.delay,Z.when)},delay(Y,T){return this.animate(0,Y,T)},_clearTransformRunnersBefore(Y){this._transformationRunners.clearBefore(Y.id)},_currentTransform(Y){return this._transformationRunners.runners.filter(T=>T.id<=Y.id).map(getRunnerTransform).reduce(lmultiply,new Matrix)},_addRunner(Y){this._transformationRunners.add(Y),Animator.cancelImmediate(this._frameId),this._frameId=Animator.immediate(mergeTransforms.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new RunnerArray().add(new FakeRunner(new Matrix(this))))}}});const difference=(Y,T)=>Y.filter(k=>!T.includes(k));extend(Runner,{attr(Y,T){return this.styleAttr("attr",Y,T)},css(Y,T){return this.styleAttr("css",Y,T)},styleAttr(Y,T,k){if(typeof T=="string")return this.styleAttr(Y,{[T]:k});let Z=T;if(this._tryRetarget(Y,Z))return this;let ee=new Morphable(this._stepper).to(Z),te=Object.keys(Z);return this.queue(function(){ee=ee.from(this.element()[Y](te))},function(ne){return this.element()[Y](ee.at(ne).valueOf()),ee.done()},function(ne){const me=Object.keys(ne),Ve=difference(me,te);if(Ve.length){const et=this.element()[Y](Ve),tt=new ObjectBag(ee.from()).valueOf();Object.assign(tt,et),ee.from(tt)}const Ye=new ObjectBag(ee.to()).valueOf();Object.assign(Ye,ne),ee.to(Ye),te=me,Z=ne}),this._rememberMorpher(Y,ee),this},zoom(Y,T){if(this._tryRetarget("zoom",Y,T))return this;let k=new Morphable(this._stepper).to(new SVGNumber(Y));return this.queue(function(){k=k.from(this.element().zoom())},function(Z){return this.element().zoom(k.at(Z),T),k.done()},function(Z,ee){T=ee,k.to(Z)}),this._rememberMorpher("zoom",k),this},transform(Y,T,k){if(T=Y.relative||T,this._isDeclarative&&!T&&this._tryRetarget("transform",Y))return this;const Z=Matrix.isMatrixLike(Y);k=Y.affine!=null?Y.affine:k??!Z;const ee=new Morphable(this._stepper).type(k?TransformBag:Matrix);let te,ne,me,Ve,Ye;function et(){ne=ne||this.element(),te=te||getOrigin(Y,ne),Ye=new Matrix(T?void 0:ne),ne._addRunner(this),T||ne._clearTransformRunnersBefore(this)}function tt(st){T||this.clearTransform();const{x:nt,y:rt}=new Point(te).transform(ne._currentTransform(this));let lt=new Matrix({...Y,origin:[nt,rt]}),ot=this._isDeclarative&&me?me:Ye;if(k){lt=lt.decompose(nt,rt),ot=ot.decompose(nt,rt);const dt=lt.rotate,ct=ot.rotate,ut=[dt-360,dt,dt+360],ft=ut.map(_t=>Math.abs(_t-ct)),vt=Math.min(...ft),mt=ft.indexOf(vt);lt.rotate=ut[mt]}T&&(Z||(lt.rotate=Y.rotate||0),this._isDeclarative&&Ve&&(ot.rotate=Ve)),ee.from(ot),ee.to(lt);const ht=ee.at(st);return Ve=ht.rotate,me=new Matrix(ht),this.addTransform(me),ne._addRunner(this),ee.done()}function it(st){(st.origin||"center").toString()!==(Y.origin||"center").toString()&&(te=getOrigin(st,ne)),Y={...st,origin:te}}return this.queue(et,tt,it,!0),this._isDeclarative&&this._rememberMorpher("transform",ee),this},x(Y){return this._queueNumber("x",Y)},y(Y){return this._queueNumber("y",Y)},ax(Y){return this._queueNumber("ax",Y)},ay(Y){return this._queueNumber("ay",Y)},dx(Y=0){return this._queueNumberDelta("x",Y)},dy(Y=0){return this._queueNumberDelta("y",Y)},dmove(Y,T){return this.dx(Y).dy(T)},_queueNumberDelta(Y,T){if(T=new SVGNumber(T),this._tryRetarget(Y,T))return this;const k=new Morphable(this._stepper).to(T);let Z=null;return this.queue(function(){Z=this.element()[Y](),k.from(Z),k.to(Z+T)},function(ee){return this.element()[Y](k.at(ee)),k.done()},function(ee){k.to(Z+new SVGNumber(ee))}),this._rememberMorpher(Y,k),this},_queueObject(Y,T){if(this._tryRetarget(Y,T))return this;const k=new Morphable(this._stepper).to(T);return this.queue(function(){k.from(this.element()[Y]())},function(Z){return this.element()[Y](k.at(Z)),k.done()}),this._rememberMorpher(Y,k),this},_queueNumber(Y,T){return this._queueObject(Y,new SVGNumber(T))},cx(Y){return this._queueNumber("cx",Y)},cy(Y){return this._queueNumber("cy",Y)},move(Y,T){return this.x(Y).y(T)},amove(Y,T){return this.ax(Y).ay(T)},center(Y,T){return this.cx(Y).cy(T)},size(Y,T){let k;return(!Y||!T)&&(k=this._element.bbox()),Y||(Y=k.width/k.height*T),T||(T=k.height/k.width*Y),this.width(Y).height(T)},width(Y){return this._queueNumber("width",Y)},height(Y){return this._queueNumber("height",Y)},plot(Y,T,k,Z){if(arguments.length===4)return this.plot([Y,T,k,Z]);if(this._tryRetarget("plot",Y))return this;const ee=new Morphable(this._stepper).type(this._element.MorphArray).to(Y);return this.queue(function(){ee.from(this._element.array())},function(te){return this._element.plot(ee.at(te)),ee.done()}),this._rememberMorpher("plot",ee),this},leading(Y){return this._queueNumber("leading",Y)},viewbox(Y,T,k,Z){return this._queueObject("viewbox",new Box(Y,T,k,Z))},update(Y){return typeof Y!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(Y.opacity!=null&&this.attr("stop-opacity",Y.opacity),Y.color!=null&&this.attr("stop-color",Y.color),Y.offset!=null&&this.attr("offset",Y.offset),this)}});extend(Runner,{rx,ry,from,to});register(Runner,"Runner");class Svg extends Container{constructor(T,k=T){super(nodeOrNew("svg",T),k),this.namespace()}defs(){return this.isRoot()?adopt(this.node.querySelector("defs"))||this.put(new Defs):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof globals.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:svg$2,version:"1.1"}).attr("xmlns:xlink",xlink,xmlns):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,xmlns).attr("xmlns:svgjs",null,xmlns)}root(){return this.isRoot()?this:super.root()}}registerMethods({Container:{nested:wrapWithAttrCheck(function(){return this.put(new Svg)})}});register(Svg,"Svg",!0);let Symbol$1=class extends Container{constructor(T,k=T){super(nodeOrNew("symbol",T),k)}};registerMethods({Container:{symbol:wrapWithAttrCheck(function(){return this.put(new Symbol$1)})}});register(Symbol$1,"Symbol");function plain(Y){return this._build===!1&&this.clear(),this.node.appendChild(globals.document.createTextNode(Y)),this}function length(){return this.node.getComputedTextLength()}function x$2(Y,T=this.bbox()){return Y==null?T.x:this.attr("x",this.attr("x")+Y-T.x)}function y$3(Y,T=this.bbox()){return Y==null?T.y:this.attr("y",this.attr("y")+Y-T.y)}function move$1(Y,T,k=this.bbox()){return this.x(Y,k).y(T,k)}function cx(Y,T=this.bbox()){return Y==null?T.cx:this.attr("x",this.attr("x")+Y-T.cx)}function cy(Y,T=this.bbox()){return Y==null?T.cy:this.attr("y",this.attr("y")+Y-T.cy)}function center(Y,T,k=this.bbox()){return this.cx(Y,k).cy(T,k)}function ax(Y){return this.attr("x",Y)}function ay(Y){return this.attr("y",Y)}function amove(Y,T){return this.ax(Y).ay(T)}function build(Y){return this._build=!!Y,this}const textable=Object.freeze(Object.defineProperty({__proto__:null,amove,ax,ay,build,center,cx,cy,length,move:move$1,plain,x:x$2,y:y$3},Symbol.toStringTag,{value:"Module"}));let Text$3=class extends Shape{constructor(T,k=T){super(nodeOrNew("text",T),k),this.dom.leading=this.dom.leading??new SVGNumber(1.3),this._rebuild=!0,this._build=!1}leading(T){return T==null?this.dom.leading:(this.dom.leading=new SVGNumber(T),this.rebuild())}rebuild(T){if(typeof T=="boolean"&&(this._rebuild=T),this._rebuild){const k=this;let Z=0;const ee=this.dom.leading;this.each(function(te){if(isDescriptive(this.node))return;const ne=globals.window.getComputedStyle(this.node).getPropertyValue("font-size"),me=ee*new SVGNumber(ne);this.dom.newLined&&(this.attr("x",k.attr("x")),this.text()===`
`?Z+=me:(this.attr("dy",te?me+Z:0),Z=0))}),this.fire("rebuild")}return this}setData(T){return this.dom=T,this.dom.leading=new SVGNumber(T.leading||1.3),this}writeDataToDom(){return writeDataToDom(this,this.dom,{leading:1.3}),this}text(T){if(T===void 0){const k=this.node.childNodes;let Z=0;T="";for(let ee=0,te=k.length;ee<te;++ee){if(k[ee].nodeName==="textPath"||isDescriptive(k[ee])){ee===0&&(Z=ee+1);continue}ee!==Z&&k[ee].nodeType!==3&&adopt(k[ee]).dom.newLined===!0&&(T+=`
`),T+=k[ee].textContent}return T}if(this.clear().build(!0),typeof T=="function")T.call(this,this);else{T=(T+"").split(`
`);for(let k=0,Z=T.length;k<Z;k++)this.newLine(T[k])}return this.build(!1).rebuild()}};extend(Text$3,textable);registerMethods({Container:{text:wrapWithAttrCheck(function(Y=""){return this.put(new Text$3).text(Y)}),plain:wrapWithAttrCheck(function(Y=""){return this.put(new Text$3).plain(Y)})}});register(Text$3,"Text");class Tspan extends Shape{constructor(T,k=T){super(nodeOrNew("tspan",T),k),this._build=!1}dx(T){return this.attr("dx",T)}dy(T){return this.attr("dy",T)}newLine(){this.dom.newLined=!0;const T=this.parent();if(!(T instanceof Text$3))return this;const k=T.index(this),Z=globals.window.getComputedStyle(this.node).getPropertyValue("font-size"),ee=T.dom.leading*new SVGNumber(Z);return this.dy(k?ee:0).attr("x",T.x())}text(T){return T==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof T=="function"?(this.clear().build(!0),T.call(this,this),this.build(!1)):this.plain(T),this)}}extend(Tspan,textable);registerMethods({Tspan:{tspan:wrapWithAttrCheck(function(Y=""){const T=new Tspan;return this._build||this.clear(),this.put(T).text(Y)})},Text:{newLine:function(Y=""){return this.tspan(Y).newLine()}}});register(Tspan,"Tspan");let Circle$1=class extends Shape{constructor(T,k=T){super(nodeOrNew("circle",T),k)}radius(T){return this.attr("r",T)}rx(T){return this.attr("r",T)}ry(T){return this.rx(T)}size(T){return this.radius(new SVGNumber(T).divide(2))}};extend(Circle$1,{x:x$4,y:y$5,cx:cx$1,cy:cy$1,width:width$2,height:height$2});registerMethods({Container:{circle:wrapWithAttrCheck(function(Y=0){return this.put(new Circle$1).size(Y).move(0,0)})}});register(Circle$1,"Circle");class ClipPath extends Container{constructor(T,k=T){super(nodeOrNew("clipPath",T),k)}remove(){return this.targets().forEach(function(T){T.unclip()}),super.remove()}targets(){return baseFind("svg [clip-path*="+this.id()+"]")}}registerMethods({Container:{clip:wrapWithAttrCheck(function(){return this.defs().put(new ClipPath)})},Element:{clipper(){return this.reference("clip-path")},clipWith(Y){const T=Y instanceof ClipPath?Y:this.parent().clip().add(Y);return this.attr("clip-path","url(#"+T.id()+")")},unclip(){return this.attr("clip-path",null)}}});register(ClipPath,"ClipPath");class ForeignObject extends Element$1{constructor(T,k=T){super(nodeOrNew("foreignObject",T),k)}}registerMethods({Container:{foreignObject:wrapWithAttrCheck(function(Y,T){return this.put(new ForeignObject).size(Y,T)})}});register(ForeignObject,"ForeignObject");function dmove(Y,T){return this.children().forEach(k=>{let Z;try{Z=k.node instanceof getWindow().SVGSVGElement?new Box(k.attr(["x","y","width","height"])):k.bbox()}catch{return}const ee=new Matrix(k),te=ee.translate(Y,T).transform(ee.inverse()),ne=new Point(Z.x,Z.y).transform(te);k.move(ne.x,ne.y)}),this}function dx(Y){return this.dmove(Y,0)}function dy(Y){return this.dmove(0,Y)}function height(Y,T=this.bbox()){return Y==null?T.height:this.size(T.width,Y,T)}function move(Y=0,T=0,k=this.bbox()){const Z=Y-k.x,ee=T-k.y;return this.dmove(Z,ee)}function size(Y,T,k=this.bbox()){const Z=proportionalSize(this,Y,T,k),ee=Z.width/k.width,te=Z.height/k.height;return this.children().forEach(ne=>{const me=new Point(k).transform(new Matrix(ne).inverse());ne.scale(ee,te,me.x,me.y)}),this}function width(Y,T=this.bbox()){return Y==null?T.width:this.size(Y,T.height,T)}function x$1(Y,T=this.bbox()){return Y==null?T.x:this.move(Y,T.y,T)}function y$2(Y,T=this.bbox()){return Y==null?T.y:this.move(T.x,Y,T)}const containerGeometry=Object.freeze(Object.defineProperty({__proto__:null,dmove,dx,dy,height,move,size,width,x:x$1,y:y$2},Symbol.toStringTag,{value:"Module"}));class G extends Container{constructor(T,k=T){super(nodeOrNew("g",T),k)}}extend(G,containerGeometry);registerMethods({Container:{group:wrapWithAttrCheck(function(){return this.put(new G)})}});register(G,"G");class A extends Container{constructor(T,k=T){super(nodeOrNew("a",T),k)}target(T){return this.attr("target",T)}to(T){return this.attr("href",T,xlink)}}extend(A,containerGeometry);registerMethods({Container:{link:wrapWithAttrCheck(function(Y){return this.put(new A).to(Y)})},Element:{unlink(){const Y=this.linker();if(!Y)return this;const T=Y.parent();if(!T)return this.remove();const k=T.index(Y);return T.add(this,k),Y.remove(),this},linkTo(Y){let T=this.linker();return T||(T=new A,this.wrap(T)),typeof Y=="function"?Y.call(T,T):T.to(Y),this},linker(){const Y=this.parent();return Y&&Y.node.nodeName.toLowerCase()==="a"?Y:null}}});register(A,"A");let Mask$1=class extends Container{constructor(T,k=T){super(nodeOrNew("mask",T),k)}remove(){return this.targets().forEach(function(T){T.unmask()}),super.remove()}targets(){return baseFind("svg [mask*="+this.id()+"]")}};registerMethods({Container:{mask:wrapWithAttrCheck(function(){return this.defs().put(new Mask$1)})},Element:{masker(){return this.reference("mask")},maskWith(Y){const T=Y instanceof Mask$1?Y:this.parent().mask().add(Y);return this.attr("mask","url(#"+T.id()+")")},unmask(){return this.attr("mask",null)}}});register(Mask$1,"Mask");class Stop extends Element$1{constructor(T,k=T){super(nodeOrNew("stop",T),k)}update(T){return(typeof T=="number"||T instanceof SVGNumber)&&(T={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),T.opacity!=null&&this.attr("stop-opacity",T.opacity),T.color!=null&&this.attr("stop-color",T.color),T.offset!=null&&this.attr("offset",new SVGNumber(T.offset)),this}}registerMethods({Gradient:{stop:function(Y,T,k){return this.put(new Stop).update(Y,T,k)}}});register(Stop,"Stop");function cssRule(Y,T){if(!Y)return"";if(!T)return Y;let k=Y+"{";for(const Z in T)k+=unCamelCase(Z)+":"+T[Z]+";";return k+="}",k}class Style extends Element$1{constructor(T,k=T){super(nodeOrNew("style",T),k)}addText(T=""){return this.node.textContent+=T,this}font(T,k,Z={}){return this.rule("@font-face",{fontFamily:T,src:k,...Z})}rule(T,k){return this.addText(cssRule(T,k))}}registerMethods("Dom",{style(Y,T){return this.put(new Style).rule(Y,T)},fontface(Y,T,k){return this.put(new Style).font(Y,T,k)}});register(Style,"Style");class TextPath extends Text$3{constructor(T,k=T){super(nodeOrNew("textPath",T),k)}array(){const T=this.track();return T?T.array():null}plot(T){const k=this.track();let Z=null;return k&&(Z=k.plot(T)),T==null?Z:this}track(){return this.reference("href")}}registerMethods({Container:{textPath:wrapWithAttrCheck(function(Y,T){return Y instanceof Text$3||(Y=this.text(Y)),Y.path(T)})},Text:{path:wrapWithAttrCheck(function(Y,T=!0){const k=new TextPath;Y instanceof Path||(Y=this.defs().path(Y)),k.attr("href","#"+Y,xlink);let Z;if(T)for(;Z=this.node.firstChild;)k.node.appendChild(Z);return this.put(k)}),textPath(){return this.findOne("textPath")}},Path:{text:wrapWithAttrCheck(function(Y){return Y instanceof Text$3||(Y=new Text$3().addTo(this.parent()).text(Y)),Y.path(this)}),targets(){return baseFind("svg textPath").filter(Y=>(Y.attr("href")||"").includes(this.id()))}}});TextPath.prototype.MorphArray=PathArray;register(TextPath,"TextPath");class Use extends Shape{constructor(T,k=T){super(nodeOrNew("use",T),k)}use(T,k){return this.attr("href",(k||"")+"#"+T,xlink)}}registerMethods({Container:{use:wrapWithAttrCheck(function(Y,T){return this.put(new Use).use(Y,T)})}});register(Use,"Use");const SVG=makeInstance;extend([Svg,Symbol$1,Image$3,Pattern,Marker],getMethodsFor("viewbox"));extend([Line$1,Polyline,Polygon,Path],getMethodsFor("marker"));extend(Text$3,getMethodsFor("Text"));extend(Path,getMethodsFor("Path"));extend(Defs,getMethodsFor("Defs"));extend([Text$3,Tspan],getMethodsFor("Tspan"));extend([Rect,Ellipse$1,Gradient,Runner],getMethodsFor("radius"));extend(EventTarget$1,getMethodsFor("EventTarget"));extend(Dom,getMethodsFor("Dom"));extend(Element$1,getMethodsFor("Element"));extend(Shape,getMethodsFor("Shape"));extend([Container,Fragment],getMethodsFor("Container"));extend(Gradient,getMethodsFor("Gradient"));extend(Runner,getMethodsFor("Runner"));List$1.extend(getMethodNames());registerMorphableType([SVGNumber,Color,Box,Matrix,SVGArray,PointArray,PathArray,Point]);makeMorphable();function pxToNumber(Y){if(!(Y!=null&&Y.endsWith("px")))return;const T=parseFloat(Y.slice(0,Y.length-2));return isNaN(T)?void 0:T}const getDimensionName=Y=>Y?"height":"width",calcComputedStyle=Y=>window.getComputedStyle(Y),getElementRect=Y=>Y.getBoundingClientRect(),getBordersSizeOffsets=(Y,T=!0)=>{if(Y.getPropertyValue("box-sizing")==="border-box")return;const k=pxToNumber(Y.getPropertyValue("border-left-width"));if(k===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const Z=pxToNumber(Y.getPropertyValue("border-top-width"));if(Z===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const ee={left:k,top:Z};if(T){const te=pxToNumber(Y.getPropertyValue("border-right-width"));if(te===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const ne=pxToNumber(Y.getPropertyValue("border-bottom-width"));if(ne===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const me=ee;me.right=te,me.bottom=ne}return ee};function elementRectWithoutBorder(Y,T){T||(T=calcComputedStyle(Y));const k=getElementRect(Y),Z=getBordersSizeOffsets(T,!0)||{left:0,top:0,right:0,bottom:0};return{width:k.width-Z.left-Z.right,height:k.height-Z.top-Z.bottom,left:k.left+Z.left,top:k.top+Z.top}}const positionDiff=(Y,T)=>({left:Y.left-T.left,top:Y.top-T.top});function getGlobalMousePosition(Y){const T=Y,k=Y,{clientX:Z,clientY:ee}="ontouchstart"in window&&k.touches?k.touches[0]:T;return{left:Z,top:ee}}function sumPartial(Y,T,k,Z){let ee=0;for(let te=T;te<k;te++)ee+=Z(Y[te],te);return ee}function forEachPartial(Y,T,k,Z){for(let ee=T;ee<k;ee++)Z(Y[ee],ee)}const KEY={},thirdEventArg=(()=>{let Y=!1;try{const T=Object.defineProperty({},"passive",{get(){return Y={passive:!0},!0}});window.addEventListener("testpassive",T,T),window.remove("testpassive",T,T)}catch{}return Y})();var root$2k=template("<div><!> <!></div>");function Splitpanes(Y,T){push(T,!1);const[k,Z]=setup_stores(),ee=()=>store_get(Tt,"$veryFirstPaneKey",k);let te=prop(T,"id",8,void 0),ne=prop(T,"horizontal",8,!1),me=prop(T,"pushOtherPanes",8,!0),Ve=prop(T,"dblClickSplitter",8,!0),Ye=prop(T,"rtl",8,"auto"),et=prop(T,"firstSplitter",8,!1),tt=prop(T,"style",8,null),it=prop(T,"theme",8,"default-theme"),st=prop(T,"class",8,"");const nt=createEventDispatcher();let rt=mutable_state(),lt=!1,ot=!1,ht=mutable_state(!1),dt=mutable_state(!1),ct=mutable_state(!1),ut=-1,ft=-1,vt,mt=new Array;const _t=writable(ne()),Et=writable(et()),Tt=writable(void 0);let xt,yt;setContext(KEY,{showFirstSplitter:Et,veryFirstPaneKey:Tt,isHorizontal:_t,ssrRegisterPaneSize:void 0,onPaneInit:ii=>(ee()===void 0&&store_set(Tt,ii),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:At,onPaneRemove:Ct}});function At(ii){let ui=-1;ii.element.parentNode&&Array.from(ii.element.parentNode.children).some(ri=>(ri.className.includes("splitpanes__pane")&&ui++,ri===ii.element)),ui===0&&store_set(Tt,ii.key),mt.splice(ui,0,ii);for(let ri=0;ri<mt.length;ri++)mt[ri].index=ri;lt&&Ti().then(()=>{ii.isReady=!0,nt("pane-add",{index:ui,panes:Wt()})});const hi=(ri,bi=!0)=>gi=>{(bi||ii.index>0)&&ri(gi,ii)};return{onSplitterDown:hi(Gt,!1),onSplitterClick:hi(kt,!1),onSplitterDblClick:hi(zt),onPaneClick:hi(It),reportGivenSizeChange:hi(Ot)}}async function Ct(ii){const ui=mt.findIndex(hi=>hi.key===ii);if(ui>=0){const hi=mt.splice(ui,1)[0];for(let ri=0;ri<mt.length;ri++)mt[ri].index=ri;ui===0&&store_set(Tt,mt.length>0?mt[0].key:void 0),lt&&(await Ti(),nt("pane-remove",{removed:hi,panes:Wt()}))}}function It(ii,ui){nt("pane-click",ui)}function Ot(ii,ui){ui.setSz(ii),Ti()}onMount(()=>{ai(),Ri();for(let ii=0;ii<mt.length;ii++)mt[ii].isReady=!0;lt=!0,nt("ready"),setTimeout(()=>{set(ht,!0)},0)}),onDestroy(()=>{lt&&$t(),lt=!1}),afterUpdate(()=>{ai()});function Dt(ii){if(Ye()==="auto")try{return(ii??calcComputedStyle(get$2(rt))).direction==="rtl"}catch{}return Ye()===!0}function Mt(){document.body.style.cursor=_t?"col-resize":"row-resize",document.addEventListener("mousemove",Kt,thirdEventArg),document.addEventListener("mouseup",Pt),"ontouchstart"in window&&(document.addEventListener("touchmove",Kt,thirdEventArg),document.addEventListener("touchend",Pt))}function $t(){document.body.style.cursor="",document.removeEventListener("mousemove",Kt),document.removeEventListener("mouseup",Pt),"ontouchstart"in window&&(document.removeEventListener("touchmove",Kt),document.removeEventListener("touchend",Pt))}const Ht=ii=>ii.nodeType===Node.ELEMENT_NODE&&ii.classList.contains("splitpanes__splitter");function Ft(ii,ui,hi){let ri=ii[ne()?"top":"left"];return hi&&!ne()&&(ri=ui-ri),ri}const jt=()=>getDimensionName(ne());function Gt(ii,ui){set(dt,!0),ut=ui.index,ui.setSplitterActive(!0);let ri=ui.element;for(;ri&&(ri=ri.previousSibling,!(ri&&Ht(ri))););if(ri===null){console.error("Splitpane Error: Active splitter wasn't found!");return}xt=ri;const bi=getGlobalMousePosition(ii),gi=getElementRect(xt);yt=Ft(positionDiff(bi,gi),gi[jt()],Dt()),Mt()}function Kt(ii){if(get$2(dt)){set(ct,!0);const ui=getGlobalMousePosition(ii),hi=calcComputedStyle(get$2(rt)),ri=elementRectWithoutBorder(get$2(rt),hi),bi=ri[jt()],gi=Dt(hi),fi=positionDiff(ui,ri),Li=Ft(fi,bi,gi);ei(Li,bi),nt("resize",Wt())}}function Pt(){get$2(ct)&&nt("resized",Wt()),set(dt,!1),mt[ut].setSplitterActive(!1),setTimeout(()=>{set(ct,!1),$t()},100)}function kt(ii,ui){if("ontouchstart"in window){const hi=ui.index;Ve()&&(ft===hi?(vt&&clearTimeout(vt),vt=null,zt(ii,ui),ft=-1):(ft=hi,vt=setTimeout(()=>{ft=-1},500)))}get$2(ct)||nt("splitter-click",ui)}function zt(ii,ui){if(Ve()){const hi=ui.index;let ri=0;for(let fi=0;fi<mt.length;fi++){const Li=mt[fi];fi!==hi&&(ri+=Li.min())}const bi=Math.min(Math.max(0,100-ri),ui.max()),gi=ri+bi;if(gi>=100)for(let fi=0;fi<mt.length;fi++){const Li=mt[fi];Li!==ui?Li.setSz(Li.min()):Li.setSz(100-ri)}else{let fi=100-gi;ui.setSz(bi);const Li=Hi=>{const ji=Hi.min(),Mi=Hi.max(),zi=Math.min(Math.max(0,fi),Mi-ji);Hi.setSz(ji+zi),fi-=zi};for(let Hi=hi-1;Hi>=0;Hi--)Li(mt[Hi]);for(let Hi=hi+1;Hi<mt.length;Hi++)Li(mt[Hi]);fi!==0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}nt("pane-maximize",ui),nt("resized",Wt())}set(dt,!1)}const Wt=()=>mt.map(ii=>({min:ii.min(),max:ii.max(),size:ii.sz(),snap:ii.snap()}));function si(ii,ui){const hi=Mi=>getElementRect(Mi)[jt()],ri=hi(xt);let bi=0,gi=xt.previousSibling;for(;gi;)Ht(gi)&&(bi+=hi(gi)),gi=gi.previousSibling;let fi=0,Li=xt.nextSibling;for(;Li;)Ht(Li)&&(fi+=hi(Li)),Li=Li.nextSibling;const Hi=bi+yt,ji=bi+ri+fi;return(ii-Hi)/(ui-ji)*100}function ei(ii,ui){let hi=ut-1,ri=mt[hi],bi=ut,gi=mt[bi],fi={prevPanesSize:ti(hi),nextPanesSize:di(bi),prevReachedMinPanes:0,nextReachedMinPanes:0};const Li=0+(me()?0:fi.prevPanesSize),Hi=100-(me()?0:fi.nextPanesSize),ji=Math.max(Math.min(si(ii,ui),Hi),Li),Mi=fi.prevPanesSize+ri.min()+ri.snap(),zi=100-(fi.nextPanesSize+gi.min()+gi.snap());let $i=ji,Oi=!1;ji<=Mi?ji>fi.prevPanesSize+ri.min()&&($i=Math.max(ri.min()+fi.prevPanesSize,100-(gi.max()+fi.nextPanesSize)),Oi=!0):ji>=zi&&ji<100-fi.nextPanesSize-gi.min()&&($i=Math.min(100-(gi.min()+fi.nextPanesSize),ri.max()+fi.prevPanesSize),Oi=!0);const Pi=ri.max()<100&&$i>=ri.max()+fi.prevPanesSize,Wi=gi.max()<100&&$i<=100-(gi.max()+fi.nextPanesSize);if(Pi||Wi)Pi?(ri.setSz(ri.max()),gi.setSz(Math.max(100-ri.max()-fi.prevPanesSize-fi.nextPanesSize,0))):(ri.setSz(Math.max(100-gi.max()-fi.prevPanesSize-fi.nextPanesSize,0)),gi.setSz(gi.max()));else{if(me()&&!Oi){const qi=Zt(fi,$i);if(!qi)return;({sums:fi,paneBeforeIndex:hi,paneAfterIndex:bi}=qi),ri=mt[hi],gi=mt[bi]}typeof hi=="number"&&ri.setSz(Math.min(Math.max($i-fi.prevPanesSize-fi.prevReachedMinPanes,ri.min()),ri.max())),typeof bi=="number"&&gi.setSz(Math.min(Math.max(100-$i-fi.nextPanesSize-fi.nextReachedMinPanes,gi.min()),gi.max()))}}function Zt(ii,ui){var gi,fi;const hi=ut-1;let ri=hi,bi=hi+1;if(ui<ii.prevPanesSize+mt[ri].min()){if(ri=(gi=Qt(hi))==null?void 0:gi.index,ii.prevReachedMinPanes=0,ri===void 0)return ii.prevPanesSize=0,mt[0].setSz(mt[0].min()),forEachPartial(mt,1,hi+1,Li=>{Li.setSz(Li.min()),ii.prevReachedMinPanes+=Li.min()}),mt[bi].setSz(100-ii.prevReachedMinPanes-mt[0].min()-ii.prevPanesSize-ii.nextPanesSize),null;ri<hi&&forEachPartial(mt,ri+1,hi+1,Li=>{Li.setSz(Li.min()),ii.prevReachedMinPanes+=Li.min()}),ii.prevPanesSize=ti(ri)}if(ui>100-ii.nextPanesSize-mt[bi].min())if(bi=(fi=Si(hi))==null?void 0:fi.index,ri===void 0&&console.log("Yep undefined paneAfterIndex"),ii.nextReachedMinPanes=0,bi===void 0){ii.nextPanesSize=0;const Li=mt.length;return mt[Li-1].setSz(mt[Li-1].min()),forEachPartial(mt,hi+1,Li-1,Hi=>{Hi.setSz(Hi.min()),ii.nextReachedMinPanes+=Hi.min()}),mt[ri].setSz(100-ii.prevPanesSize-ii.nextReachedMinPanes-mt[Li-1].min()-ii.nextPanesSize),null}else bi>hi+1&&forEachPartial(mt,hi+1,bi,Li=>{Li.setSz(Li.min()),ii.nextReachedMinPanes+=Li.min()}),ii.nextPanesSize=di(bi);return{sums:ii,paneBeforeIndex:ri,paneAfterIndex:bi}}const Jt=ii=>ii.sz(),ti=ii=>sumPartial(mt,0,ii,Jt),di=ii=>sumPartial(mt,ii+1,mt.length,Jt),Qt=ii=>[...mt].reverse().find(ui=>ui.index<ii&&ui.sz()>ui.min()),Si=ii=>mt.find(ui=>ui.index>ii+1&&ui.sz()>ui.min());async function Ti(){ot=!0,await tick(),ot&&(Ri(),ot=!1)}function Ri(){ki(),lt&&nt("resized",Wt())}function ki(){if(mt.length===0)return;const ii=mt.length;let ui=100,hi=0,ri=0,bi=0;const gi=[],fi=[];for(let zi=0;zi<ii;zi++){const $i=mt[zi],Oi=$i.sz();$i.givenSize===null?$i.isReady?(bi+=Oi,Oi>=$i.max()&&gi.push($i),Oi<=$i.min()&&fi.push($i)):ri+=1:(ui-=Oi,hi++,gi.push($i),fi.push($i))}const Li=ii-hi,Hi=Li-ri;let ji,Mi;if(Hi>0?(ji=bi/Hi,ji>.1&&ui>.1?(bi+=ri*ji,Mi=ui/bi):(ji=0,Mi=1)):(ji=ui/Li,Mi=1),ui+bi>.1){ui=100;for(let zi=0;zi<ii;zi++){const $i=mt[zi];if(typeof $i.givenSize!="number"){const Oi=$i.isReady?$i.sz():ji,Pi=Math.max(Math.min(Oi*Mi,$i.max()),$i.min());$i.setSz(Pi)}ui-=$i.sz()}Math.abs(ui)>.1&&(ui=Bt(ui,gi,fi))}isFinite(ui)?Math.abs(ui)>.1&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function Bt(ii,ui,hi){const bi=mt.length-(ii>0?ui.length:hi.length);if(bi<=0)return ii;const gi=ii/bi;if(mt.length===1)mt[0].setSz(100),ii=0;else for(let fi=0;fi<mt.length;fi++){const Li=mt[fi],Hi=Li.sz();if(ii>0&&!ui.includes(Li)){const ji=Math.max(Math.min(Hi+gi,Li.max()),Li.min()),Mi=ji-Hi;ii-=Mi,Li.setSz(ji)}else if(!hi.includes(Li)){const ji=Math.max(Math.min(Hi+gi,Li.max()),Li.min()),Mi=ji-Hi;ii-=Mi,Li.setSz(ji)}}return ii}function ai(){var ri;if(!get$2(rt))return;const{children:ii}=get$2(rt);let ui=0,hi=!1;for(let bi=0;bi<ii.length;bi++){const gi=ii.item(bi),fi=gi.classList.contains("splitpanes__pane"),Li=gi.classList.contains("splitpanes__splitter");if(!fi&&!Li){(ri=gi.parentNode)==null||ri.removeChild(gi),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed.");return}else fi&&(!hi&&mt[ui].element!==gi&&(hi=!0),ui++)}if(hi){const bi=[];for(let gi=0;gi<ii.length;gi++){const fi=ii.item(gi);if(fi==null?void 0:fi.classList.contains("splitpanes__pane")){const Hi=mt.find(ji=>ji.element===fi);Hi?(Hi.index=bi.length,bi.push(Hi)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}mt=bi,store_set(Tt,mt.length>0?mt[0].key:void 0)}}legacy_pre_effect(()=>deep_read_state(ne()),()=>{store_set(_t,ne())}),legacy_pre_effect(()=>deep_read_state(et()),()=>{store_set(Et,et())}),legacy_pre_effect_reset(),init();var ci=root$2k();let yi;var Ci=child(ci);if_block(Ci,ii=>{});var Vi=sibling(Ci,2);slot(Vi,T,"default",{}),bind_this(ci,ii=>set(rt,ii),()=>get$2(rt)),template_effect(ii=>{set_attribute(ci,"id",te()),yi=set_class(ci,1,`splitpanes ${it()||""} ${st()||""}`,null,yi,ii),set_style(ci,tt())},[()=>({"splitpanes--horizontal":ne(),"splitpanes--vertical":!ne(),"splitpanes--dragging":get$2(dt)||get$2(ct),"splitpanes--freeze":!get$2(ht)})],derived_safe_equal),append(Y,ci),pop(),Z()}const carefullCallbackGenerator=(Y,T)=>k=>{const Z=Y();Z!==null&&Z[T](k)},carefullCallbackSource=Y=>carefullCallbackGenerator.bind(null,Y);var root_2$G=template("<div></div>"),root_1$1F=template("<!>   <div><!></div>",1);function Pane(Y,T){push(T,!1);const[k,Z]=setup_stores(),ee=()=>store_get(it,"$isHorizontal",k),te=()=>store_get(nt,"$veryFirstPaneKey",k),ne=()=>store_get(st,"$showFirstSplitter",k),me=mutable_state(),Ve=mutable_state(),{ssrRegisterPaneSize:Ye,onPaneInit:et,clientOnly:tt,isHorizontal:it,showFirstSplitter:st,veryFirstPaneKey:nt}=getContext(KEY);let rt=prop(T,"size",12,null),lt=prop(T,"minSize",8,0),ot=prop(T,"maxSize",8,100),ht=prop(T,"snapSize",8,0),dt=prop(T,"class",8,"");const ct={},{undefinedPaneInitSize:ut}=et(ct);let ft=mutable_state(),vt=mutable_state(rt()??ut),mt=mutable_state(!1),_t;const Et=carefullCallbackSource(()=>_t),Tt=At=>{_t&&At!=get$2(vt)&&(Et==null||Et("reportGivenSizeChange")(At))};onMount(()=>{const At={index:0,key:ct,element:get$2(ft),givenSize:rt(),sz:()=>get$2(vt),setSz:Ct=>{set(vt,Ct),typeof rt()=="number"&&rt()!==get$2(vt)&&rt(get$2(vt))},min:()=>lt(),max:()=>ot(),snap:()=>ht(),setSplitterActive:Ct=>{set(mt,Ct)},isReady:!1};_t=tt==null?void 0:tt.onPaneAdd(At)}),onDestroy(()=>{tt==null||tt.onPaneRemove(ct)}),legacy_pre_effect(()=>deep_read_state(rt()),()=>{typeof rt()=="number"&&Tt(rt())}),legacy_pre_effect(()=>ee(),()=>{set(me,getDimensionName(ee()))}),legacy_pre_effect(()=>(get$2(me),get$2(vt)),()=>{set(Ve,`${get$2(me)}: ${get$2(vt)}%;`)}),legacy_pre_effect_reset(),init();var xt=comment(),yt=first_child(xt);{var St=At=>{var Ct=root_1$1F(),It=first_child(Ct);{var Ot=Ht=>{var Ft=root_2$G(),jt=derived$1(()=>Et==null?void 0:Et("onSplitterDown")),Gt=derived$1(()=>Et==null?void 0:Et("onSplitterDown")),Kt=derived$1(()=>Et==null?void 0:Et("onSplitterClick")),Pt=derived$1(()=>Et==null?void 0:Et("onSplitterDblClick"));template_effect(()=>set_class(Ft,1,`splitpanes__splitter ${(get$2(mt)?"splitpanes__splitter__active":"")??""}`)),event("mousedown",Ft,function(...kt){var zt;(zt=get$2(jt))==null||zt.apply(this,kt)}),event("touchstart",Ft,function(...kt){var zt;(zt=get$2(Gt))==null||zt.apply(this,kt)}),event("click",Ft,function(...kt){var zt;(zt=get$2(Kt))==null||zt.apply(this,kt)}),event("dblclick",Ft,function(...kt){var zt;(zt=get$2(Pt))==null||zt.apply(this,kt)}),append(Ht,Ft)};if_block(It,Ht=>{(te()!==ct||ne())&&Ht(Ot)})}var Dt=sibling(It,2),Mt=derived$1(()=>Et==null?void 0:Et("onPaneClick")),$t=child(Dt);slot($t,T,"default",{}),bind_this(Dt,Ht=>set(ft,Ht),()=>get$2(ft)),template_effect(()=>{set_class(Dt,1,`splitpanes__pane ${dt()||""}`),set_style(Dt,get$2(Ve))}),event("click",Dt,function(...Ht){var Ft;(Ft=get$2(Mt))==null||Ft.apply(this,Ht)}),append(At,Ct)};if_block(yt,At=>{At(St)})}append(Y,xt),pop(),Z()}var root_4$r=template('<div class="bg-white text-black"> </div>'),root_1$1E=template("<!> <!>",1),root$2j=template('<div class="relative w-full h-full flex flex-col"><!> <div id="detailNode" class="w-32 h-32 absolute hidden pt-2  justify-center items-center"><div id="imgDetail" class="absolute w-full z-10 h-90%"></div></div></div>');function Righttab(Y,T){push(T,!0);let k,Z,ee,te=state(""),ne=SVG(),me,Ve=state(0),Ye=state(0),et=state(0),tt=derived$1(()=>get$2(Ye)+"px");const it=PLcBlockList.getBlockList();let st=[];function nt(){const vt=[];for(const mt in it)vt.push({title:mt,icon:"folder",children:it[mt].map(_t=>({title:_t.name,icon:"svelte",children:[]}))});return vt}st=nt(),genRandomStr(8),onMount(()=>{me=ne.addTo(ee).size("100%","100%"),set(Ve,proxy(k.clientHeight)),set(Ye,get$2(Ve)*.8),set(et,get$2(Ve)*.2)});function rt(vt,mt){if(!Z)return;let _t;for(const Tt in it)if(_t=it[Tt].find(xt=>xt.name===mt),_t)break;if(!_t)return;ee.style.top=vt.pageY+50+"px",ee.style.left="40px",set(te,proxy(_t.documentation));const Et=_t.name;Z.classList.remove("hidden"),drawPreview(me,Et,_t.inputs,_t.outputs)}function lt(){console.log("leave"),Z.classList.add("hidden")}function ot(vt){const mt=vt.detail;set(Ye,mt[0].size*get$2(Ve)/100),set(et,mt[1].size*get$2(Ve)/100)}function ht(vt,mt){vt.dataTransfer&&vt.dataTransfer.setData("name",mt)}var dt=root$2j(),ct=child(dt);Splitpanes(ct,{horizontal:!0,$$events:{resize:ot},children:(vt,mt)=>{var _t=root_1$1E(),Et=first_child(_t);Pane(Et,{minSize:60,children:(xt,yt)=>{Scrollbar(xt,{get height(){return get$2(tt)},children:(St,At)=>{Treeview(St,{treeItems:st,title:"åè½å",onItemMouseHover:rt,onItemMouseLeave:lt,onItemDrag:ht})},$$slots:{default:!0}})},$$slots:{default:!0}});var Tt=sibling(Et,2);Pane(Tt,{minSize:20,size:20,children:(xt,yt)=>{var St=root_4$r(),At=child(St);template_effect(()=>set_text(At,get$2(te))),append(xt,St)},$$slots:{default:!0}}),append(vt,_t)},$$slots:{default:!0}});var ut=sibling(ct,2),ft=child(ut);bind_this(ft,vt=>ee=vt,()=>ee),bind_this(ut,vt=>Z=vt,()=>Z),bind_this(dt,vt=>k=vt,()=>k),append(Y,dt),pop()}var on_click$y=(Y,T)=>{T()},on_mousedown$6=(Y,T,k)=>{T(Y),k(Y)},root_1$1D=template('<div class="wrapper-content svelte-1o8abd9"><!></div>'),root_2$F=template('<div class="wrapper-close svelte-1o8abd9"></div>'),root$2i=template('<div class="wrapper svelte-1o8abd9"><div class="wrapper-title svelte-1o8abd9"> </div> <!> <div></div></div>');function RegionalDivision(Y,T){push(T,!0);let k=state(""),Z=state(void 0),ee=state(proxy(T.panelApi.title)),te=state(proxy(T.panelApi.accessor.id)),ne=state(void 0),me=state(!0);const Ve=ft=>{if(!get$2(Z))return!1;const vt=get$2(Z).getBoundingClientRect();return ft.x>vt.left&&ft.x<vt.right&&ft.y>vt.top&&ft.y<vt.bottom},Ye=ft=>{const vt={iconItem:get$2(ee),x:ft.clientX,y:ft.clientY};document.body.style.userSelect="none";const mt=Et=>{api$1.eventBus.emit("menuLineMoveIcon",{iconItem:get$2(ee),x:Et.clientX,y:Et.clientY})},_t=Et=>{document.body.style.userSelect="",api$1.eventBus.emit("menuLineMoveIconEnd",{dockViewId:get$2(te),iconItem:vt.iconItem,x:Et.clientX,y:Et.clientY},!0),window.removeEventListener("mousemove",mt),window.removeEventListener("mouseup",_t)};window.addEventListener("mousemove",mt),window.addEventListener("mouseup",_t)},et=ft=>{if(!get$2(Z))return;if(T.panelApi.title===ft.data.panel.key){set(k,"");return}const vt=get$2(Z).getBoundingClientRect();if(get$2(te)==="4"&&ft.data.panel==="StructAndVarRelationIntegrate"&&get$2(ne)){Ve(ft.position)?get$2(ne).style.cursor="not-allowed":document.body.style.cursor="",set(k,"not-allowed"),get$2(ne).style.cursor="not-allowed";return}(vt.left+vt.right)/2;const mt=(vt.top+vt.bottom)/2,_t={top:vt.top,bottom:mt},Et={top:mt,bottom:vt.bottom};vt.left,vt.right,Ve(ft.position)?get$2(te)==="1"?ft.position.y>_t.top&&ft.position.y<_t.bottom?set(k,"top"):ft.position.y>Et.top&&ft.position.y<Et.bottom?set(k,"bottom"):set(k,""):(get$2(te)==="4"||get$2(te)==="2")&&set(k,"all"):set(k,"")},tt=ft=>{switch(ft){case"left":return"left";case"right":return"right";case"top":return"above";case"bottom":return"below";default:return"below"}},it=()=>{set(ee,proxy(T.panelApi.title)),set(te,proxy(T.panelApi.accessor.id)),get$2(Z)&&(api$1.eventBus.on("regionalDivisionMove",et),api$1.eventBus.on("regionalDivisionMoveEnd",mt=>{const _t=dockViewPanelMap.get(mt.data.panel);if(!(get$2(k)===""||!_t)){if(T.panelApi.title===_t.key){set(k,"");return}if(get$2(te)==="4"&&mt.data.panel==="StructAndVarRelationIntegrate"&&get$2(Z)){Ve(mt.position)&&window.API.message.globalMessageNotice({type:"error",message:"It is forbidden to drag into the bottom area."}),set(k,"");return}get$2(te)==="4"||get$2(te)==="2"?api$1.dockView.registerPanel(T.panelApi.accessor.id,{key:_t.key,title:_t.title,tabComponent:"DockTabBottom"}):api$1.dockView.registerPanel(T.panelApi.accessor.id,{key:_t.key,title:_t.title,tabComponent:"DockTabBottom"},{referencePanel:T.panelApi.id,direction:tt(get$2(k)),key:T.panelApi.title}),set(k,"")}}));const ft=JSON.parse(localStorage.getItem("showRegional")),vt=JSON.parse(localStorage.getItem(`activeDockView${T.panelApi.accessor.id}`));T.panelApi.onDidActiveChange(mt=>{mt.isActive&&localStorage.setItem(`activeDockView${T.panelApi.accessor.id}`,JSON.stringify(T.panelApi.id))}),vt===T.panelApi.id&&T.panelApi.setActive(T.panelApi.panel),ft&&ft[T.panelApi.id]&&set(me,proxy(ft[T.panelApi.id]))};onMount(()=>{it()}),onDestroy(()=>{api$1.eventBus.off("move",et)});const st=()=>{set(me,!get$2(me));let ft=localStorage.getItem("showRegional")?JSON.parse(localStorage.getItem("showRegional")):{};ft[T.panelApi.id]=get$2(me),localStorage.setItem("showRegional",JSON.stringify(ft))},nt=ft=>{if(T.panelApi.accessor.id!=="1")return;const vt={data:{panel:T.panelApi.title,title:T.panelApi.title},position:{x:ft.clientX,y:ft.clientY}};document.body.style.userSelect="none";const mt=Et=>{api$1.eventBus.emit("regionalDivisionMove",{...vt,position:{x:Et.clientX,y:Et.clientY}})},_t=Et=>{document.body.style.userSelect="",api$1.eventBus.emit("regionalDivisionMoveEnd",{...vt,position:{x:Et.clientX,y:Et.clientY}}),window.removeEventListener("mousemove",mt),window.removeEventListener("mouseup",_t)};window.addEventListener("mousemove",mt),window.addEventListener("mouseup",_t)};var rt=root$2i(),lt=child(rt);lt.__click=[on_click$y,st],lt.__mousedown=[on_mousedown$6,Ye,nt];var ot=child(lt),ht=sibling(lt,2);{var dt=ft=>{var vt=root_1$1D(),mt=child(vt);snippet(mt,()=>T.children),append(ft,vt)},ct=ft=>{var vt=root_2$F();append(ft,vt)};if_block(ht,ft=>{get$2(me)?ft(dt):ft(ct,!1)})}var ut=sibling(ht,2);bind_this(ut,ft=>set(ne,ft),()=>get$2(ne)),bind_this(rt,ft=>set(Z,ft),()=>get$2(Z)),template_effect(()=>{set_text(ot,get$2(ee)),set_class(ut,1,`regionalDivision ${get$2(k)}`,"svelte-1o8abd9")}),append(Y,rt),pop()}delegate(["click","mousedown"]);var root_1$1C=template('<div class="w-full h-full"><!></div> <div class="w-full h-full hidden"><!></div>',1);function AppLeftTab2(Y,T){push(T,!0);let k=state(void 0),Z=state(void 0);user_effect(()=>{var te,ne,me,Ve;typeState.type==="plc"?((te=get$2(k))==null||te.classList.remove("hidden"),(ne=get$2(Z))==null||ne.classList.add("hidden")):((me=get$2(k))==null||me.classList.add("hidden"),(Ve=get$2(Z))==null||Ve.classList.remove("hidden"))}),onMount(()=>{}),RegionalDivision(Y,{get panelApi(){return T.api},children:(ee,te)=>{var ne=root_1$1C(),me=first_child(ne),Ve=child(me);Righttab(Ve,{}),bind_this(me,tt=>set(k,tt),()=>get$2(k));var Ye=sibling(me,2),et=child(Ye);LvglLefttab(et,{}),bind_this(Ye,tt=>set(Z,tt),()=>get$2(Z)),append(ee,ne)},$$slots:{default:!0}}),pop()}const handleInputConfirm$1=(Y,T)=>{var k;Y.key==="Enter"&&(Y.preventDefault(),Y.stopPropagation(),(k=get$2(T))==null||k.blur())};var on_keydown=(Y,T)=>{T.onkeydown({event:Y,treeNode:T.treeNode})},on_click$x=(Y,T)=>{T.toggleExpand({treeIndex:T.treeIndex})},root_1$1B=template('<div class="iconfont-item svelte-147mxsi"><div class="iconfont-xiantiao svelte-147mxsi"></div></div>'),root_2$E=template('<span class="iconfont icon-book svelte-147mxsi"></span>'),root_4$q=template('<span class="iconfont icon-shousuo svelte-147mxsi"></span>'),root_5$g=template('<span class="iconfont icon-zhankai svelte-147mxsi"></span>'),root_6$c=template("<span></span>"),on_click_1$d=Y=>{Y.preventDefault(),Y.stopPropagation()},root_7$8=template('<input class="clear-input input-rename svelte-147mxsi">'),on_click_2$6=(Y,T,k)=>{get$2(T).action(k.treeNode.source,k.treeFlattener.getNodeByTreeId(k.treeNode.parentId),Y)},root_9$3=template("<button></button>"),root_8$b=template('<div class="tree-title svelte-147mxsi"> </div> <div class="Status-tip svelte-147mxsi"></div>',1),root$2h=template('<div aria-label="tree node item button" role="button" id="tree-node-item" tabindex="0"><div class="wrapper-label svelte-147mxsi"><!> <div class="tree-icon svelte-147mxsi"><!></div> <div class="wrapper-content svelte-147mxsi"><!> <!></div></div></div>');function TreeItem(Y,T){push(T,!0),prop(T,"nodeHeight",3,24),prop(T,"nameCheck",3,"c");let k=state(!1),Z=state(void 0),ee=state(!1),te=state(proxy(T.treeNode.treeLabel));const ne=ut=>{ut.preventDefault(),ut.stopPropagation();let ft={target:ut,treeNode:{...T.treeNode,treeIndex:T.treeIndex}};ft[T.rule.optionType]=T.treeNode.source[T.rule.optionType],T.onRightClick(ft)},me=()=>{T.onrename(T.treeNode,get$2(te)).result||set(te,proxy(T.treeNode.treeLabel)),set(ee,!1)};onMount(()=>{set(ee,proxy(T.treeNode.shouldRename)),set(te,proxy(T.treeNode.treeLabel)),tick().then(()=>{var ut;(ut=get$2(Z))==null||ut.focus()}),api$1.eventBus.on(`tree:flattener:rename:${T.treeFlattener.getId()}`,ut=>{T.treeNode&&ut.treeId===T.treeNode.treeId&&(set(ee,!0),tick().then(()=>{var ft;(ft=get$2(Z))==null||ft.focus()}))})});var Ve=root$2h();Ve.__keydown=[on_keydown,T],Ve.__contextmenu=ne,Ve.__click=[on_click$x,T];var Ye=child(Ve);set_attribute(Ye,"draggable",!1);var et=child(Ye);each(et,17,()=>Array.from({length:T.treeNode.level}),index,(ut,ft)=>{var vt=root_1$1B();append(ut,vt)});var tt=sibling(et,2),it=child(tt);{var st=ut=>{var ft=root_2$E();append(ut,ft)},nt=(ut,ft)=>{{var vt=_t=>{var Et=root_4$q();append(_t,Et)},mt=_t=>{var Et=root_5$g();append(_t,Et)};if_block(ut,_t=>{T.treeNode.expanded?_t(vt):_t(mt,!1)},ft)}};if_block(it,ut=>{T.treeNode.source[T.rule.type]==="file"?ut(st):ut(nt,!1)})}var rt=sibling(tt,2),lt=child(rt);{var ot=ut=>{var ft=root_6$c();template_effect(()=>set_class(ft,1,`iconfont-wrapper iconfont ${T.treeNode.source[T.rule.iconType]??""}`,"svelte-147mxsi")),append(ut,ft)};if_block(lt,ut=>{T.treeNode.source[T.rule.iconType]&&ut(ot)})}var ht=sibling(lt,2);{var dt=ut=>{var ft=root_7$8();ft.__click=[on_click_1$d],ft.__keydown=[handleInputConfirm$1,Z],bind_this(ft,vt=>set(Z,vt),()=>get$2(Z)),event("blur",ft,me),bind_value(ft,()=>get$2(te),vt=>set(te,vt)),append(ut,ft)},ct=ut=>{var ft=root_8$b(),vt=first_child(ft),mt=child(vt),_t=sibling(vt,2);each(_t,21,()=>T.operations(T.treeNode),index,(Et,Tt)=>{var xt=root_9$3();xt.__click=[on_click_2$6,Tt,T],template_effect(()=>{set_attribute(xt,"aria-label",get$2(Tt).iconType),set_class(xt,1,`iconfont ${get$2(Tt).iconType??""}`,"svelte-147mxsi")}),append(Et,xt)}),template_effect(()=>set_text(mt,get$2(te))),append(ut,ft)};if_block(ht,ut=>{get$2(ee)?ut(dt):ut(ct,!1)})}template_effect(()=>{set_attribute(Ve,"draggable",T.draggable),set_attribute(Ve,"data-id",T.treeNode.source[T.rule.id]),set_class(Ve,1,`wrapper-tree-item context-menu-trigger ${get$2(k)?"wrapper-focus":`${T.selected?"wrapper-select":""}`}`,"svelte-147mxsi")}),event("focus",Ve,ut=>{set(k,!0)}),event("blur",Ve,()=>{set(k,!1)}),append(Y,Ve),pop()}delegate(["keydown","contextmenu","click"]);const changeListOrd=(Y,T)=>Y==null?void 0:Y.map((Z,ee)=>T[Z]);var root$2g=template('<div class="wrapper this-class-for-child svelte-pbc9xp"><div class="wrapper-overflow svelte-pbc9xp"><!></div></div>');function CommonDrag(Y,T){push(T,!0);let k=prop(T,"commonDragNewOrd",3,()=>{}),Z=state(null),ee=state(null),te=state(null),ne=state(null),me=state(null),Ve=state(0),Ye=state(proxy([])),et=state(-1),tt=state(proxy([])),it=state(0),st=state(null);const nt=mt=>{var _t;try{document.body.style.userSelect="none";const Et=mt.target;if((_t=Et.closest(".drag-op"))!=null&&_t.classList.contains("drag-op")){if(mt.button!==0)return;if(set(me,proxy(Et.closest(".common-drag-content-content"))),set(te,proxy(Et.closest(".common-drag-content"))),set(ne,proxy(Et.closest(".common-drag-wrapper"))),get$2(me)&&get$2(te)&&get$2(Z)){const Tt=get$2(me).getBoundingClientRect(),xt=get$2(Z).getBoundingClientRect();get$2(te).style.border="1px dashed black",get$2(te).style.height=`${Tt.height}px`,set(Ve,proxy(mt.clientY)),get$2(me).style.position="fixed",get$2(me).style.opacity="1",get$2(me).style.boxShadow="0 0 5px black",get$2(me).style.zIndex="1002",get$2(me).style.width=`${xt.width}px`,get$2(me).style.top=`${get$2(Ve)-Tt.height/2}px`,get$2(me).style.left=`${xt.x}px`}document.addEventListener("mousemove",lt),document.addEventListener("mouseup",rt)}}catch(Et){console.error(Et),console.warn("The drag handle is not selected")}},rt=()=>{dt(),document.body.style.userSelect="auto",document.removeEventListener("mousemove",lt),document.removeEventListener("mouseup",rt)},lt=mt=>{requestAnimationFrame(()=>{if(get$2(me)&&get$2(ee)){const _t=mt.clientY-get$2(me).getBoundingClientRect().height/2;get$2(me).style.top=`${_t}px`;const Et=get$2(ee).getBoundingClientRect(),Tt=get$2(me).getBoundingClientRect(),xt=Et.height,yt=xt*.2,St=get$2(ee).scrollTop,At=get$2(ee).scrollHeight,Ct=St>0,It=St<At-xt;Tt.top<Et.top+yt&&Ct?set(it,-Math.min(10,(Et.top+yt-Tt.top)/5)):Tt.bottom>Et.bottom-yt&&It?set(it,proxy(Math.min(10,(Tt.bottom-(Et.bottom-yt))/5))):set(it,0),get$2(it)!==0?get$2(st)||set(st,proxy(window.setInterval(()=>{const Ot=get$2(ee).scrollTop+get$2(it);get$2(it)<0&&Ot>=0||get$2(it)>0&&Ot<=At-xt?get$2(ee).scrollTop=Ot:(clearInterval(get$2(st)),set(st,null),set(it,0))},16))):get$2(st)&&(clearInterval(get$2(st)),set(st,null))}ot(mt)})},ot=mt=>{var _t;if(get$2(ee)&&get$2(ne)&&get$2(me)){const Et=Array.from(get$2(ee).children),Tt=get$2(et)>0?get$2(et):Et.indexOf(get$2(ne));let xt=Math.round((get$2(me).getBoundingClientRect().top-get$2(ne).getBoundingClientRect().top)/get$2(ne).getBoundingClientRect().height);if(xt&&Tt+xt>=0&&Tt+xt<Et.length){set(et,Tt+xt),k()(ht(get$2(tt),Tt,xt));const yt=(_t=get$2(ee))==null?void 0:_t.children.length;set(tt,proxy(Array.from({length:yt},(St,At)=>At))),set(Ve,proxy(mt.clientY))}}};function ht(mt,_t,Et){const Tt=[...mt];if(Tt.length===0)throw new Error("æ°ç»ä¸è½ä¸ºç©º");if(_t<0||_t>=Tt.length)throw new Error("å½åç´¢å¼è¶åºæ°ç»èå´");let xt=(_t+Et)%Tt.length;xt<0&&(xt+=Tt.length);const[yt]=Tt.splice(_t,1);return Tt.splice(xt,0,yt),Tt}const dt=()=>{if(!get$2(Z))return;const mt=Array.from(get$2(ee).children);set(Ye,proxy(mt.map(_t=>Math.round((_t.getBoundingClientRect().y-get$2(Z).getBoundingClientRect().y)/_t.getBoundingClientRect().height)))),get$2(me)&&get$2(te)&&(get$2(me).style.opacity="",get$2(me).style.position="",get$2(me).style.width="",get$2(me).style.left="",get$2(me).style.top="",get$2(me).style.zIndex="",get$2(me).style.boxShadow="",get$2(te).style.border="none",get$2(te).style.height="fit-content",set(me,null),set(et,-1))};setContext("changeChildItem",mt=>{var Et;const _t=(Et=get$2(ee))==null?void 0:Et.children.length;set(tt,proxy(Array.from({length:_t},(Tt,xt)=>xt)))}),setContext("handleCommonDagItem",nt),onMount(async()=>{var _t;await tick();const mt=(_t=get$2(ee))==null?void 0:_t.children.length;set(tt,proxy(Array.from({length:mt},(Et,Tt)=>Tt)))});var ut=root$2g(),ft=child(ut),vt=child(ft);snippet(vt,()=>T.children),bind_this(ft,mt=>set(ee,mt),()=>get$2(ee)),bind_this(ut,mt=>set(Z,mt),()=>get$2(Z)),append(Y,ut),pop()}const handleMouseDown=(Y,T)=>{T(Y)};var root_1$1A=template('<div class="drag-op svelte-5ygfac"><span class="svelte-5ygfac"></span></div>'),root$2f=template('<div class="wrapper common-drag-wrapper svelte-5ygfac"><div class="wrapper-content common-drag-content svelte-5ygfac" role="button" tabindex="0" aria-label="Drag Element"><div><!> <!></div></div></div>');function CommonDragItem(Y,T){push(T,!0);let k=prop(T,"hasHandle",3,!0),Z,ee=state(0);const te=getContext("handleCommonDagItem"),ne=getContext("changeChildItem");onMount(async()=>{await tick();const st=Z==null?void 0:Z.querySelector(".content-content");st&&set(ee,proxy(st.getBoundingClientRect().height)),ne(!0)});var me=root$2f(),Ve=child(me);Ve.__mousedown=[handleMouseDown,te];var Ye=child(Ve),et=child(Ye);{var tt=st=>{var nt=root_1$1A();append(st,nt)};if_block(et,st=>{k()&&st(tt)})}var it=sibling(et,2);snippet(it,()=>T.children),bind_this(me,st=>Z=st,()=>Z),template_effect(()=>set_class(Ye,1,`content-content common-drag-content-content ${(k()?"":"drag-op")??""}`,"svelte-5ygfac")),append(Y,me),pop()}delegate(["mousedown"]);var root$2e=template('<div class="wrapper svelte-wyh4c1"><div class="wrapper-overflow svelte-wyh4c1"><div class="wrapper-tree svelte-wyh4c1"><!></div></div></div>');function CommonTree(Y,T){push(T,!0);let k=prop(T,"treeFlattenerData",3,void 0),Z=prop(T,"treeNodeRule",19,()=>({})),ee=prop(T,"expandedKeys",19,()=>[]),te=prop(T,"autoExpand",3,void 0),ne=prop(T,"allowDrop",3,!1),me=prop(T,"operations",3,()=>[]),Ve=prop(T,"onRightClick",3,()=>{}),Ye=prop(T,"onSelect",3,()=>{}),et=prop(T,"onExpanded",3,()=>{});prop(T,"onCreated",3,()=>{});let tt=prop(T,"onkeydown",3,()=>{});prop(T,"onChange",3,()=>{});let it=prop(T,"onrename",3,()=>{}),st=prop(T,"nameCheck",3,"c"),nt=prop(T,"onDragStart",3,Mt=>{}),rt=prop(T,"onDrop",3,Mt=>{}),lt=prop(T,"draggable",3,!1),ot=prop(T,"selectNode",19,()=>[]),ht=state(proxy([])),dt=state(proxy(k())),ct=state(proxy(new Set)),ut=state(proxy(defaultRule)),ft=state(void 0),vt=24,mt=state(void 0),_t=state(void 0);const Et=()=>{if(ot()){let Mt=new Set;for(let $t=0;$t<ot().length;$t++){const Ht=ot()[$t];Mt.add(get$2(dt).getNodeBySourceId(Ht)?get$2(dt).getNodeBySourceId(Ht).treeId:void 0)}set(ct,proxy(Mt))}},Tt=Mt=>{const $t=get$2(ht)[Mt.treeIndex],Ht=get$2(dt).getNodeByTreeId($t.treeId);Ye()($t,get$2(dt).getNodeByTreeId($t.parentId)),Ht.expanded=!Ht.expanded,set(ht,proxy(get$2(dt).getShow())),et()({targetTreeNode:$t})},xt=()=>{if(!k()&&!T.treeData)throw new Error("å¿é¡»ä¼ å¥ä¸ä¸ªæ ç»ææèæå¹³åæ æ°æ®");if(k())set(dt,k());else{const $t=new NewTreeFlattener;$t.build(T.treeData,get$2(ut),{autoExpand:te(),expandedKeys:ee()}),set(dt,proxy($t))}let Mt=[];te()?Mt=get$2(dt).getShow():Mt=get$2(dt).getChildren("root"),set(ht,proxy(Mt)),api$1.eventBus.on(`tree:flattener:update:${get$2(dt).getId()}`,()=>{set(ht,proxy([...get$2(dt).getShow()])),Et()})};user_effect(()=>{ot()&&requestAnimationFrame(()=>{Et()})}),user_effect(()=>{get$2(dt)&&requestAnimationFrame(()=>{set(ht,proxy(get$2(dt).getShow())),Et()})}),user_effect(()=>{T.treeData,requestAnimationFrame(()=>{xt()})});const yt=()=>{set(ut,proxy({...defaultRule,...Z()})),xt()};onMount(()=>{yt()});var St=root$2e(),At=child(St),Ct=child(At),It=child(Ct);{var Ot=Mt=>{CommonDrag(Mt,{commonDragNewOrd:$t=>{set(ht,proxy(changeListOrd($t,get$2(ht))))},children:($t,Ht)=>{var Ft=comment(),jt=first_child(Ft);each(jt,19,()=>get$2(ht),Gt=>Gt.treeId+Gt.treeLabel,(Gt,Kt,Pt)=>{CommonDragItem(Gt,{hasHandle:!1,children:(kt,zt)=>{const Wt=derived$1(()=>get$2(ct).has(get$2(Kt).source.id)||get$2(ct).has(get$2(Kt).treeId));TreeItem(kt,{get treeNode(){return get$2(ht)[get$2(Pt)]},get treeIndex(){return get$2(Pt)},get selected(){return get$2(Wt)},get rule(){return get$2(ut)},get draggable(){return lt()},get nodeHeight(){return vt},toggleExpand:Tt,get onRightClick(){return Ve()},get operations(){return me()},get onkeydown(){return tt()},get onrename(){return it()},get nameCheck(){return st()},get treeFlattener(){return get$2(dt)}})},$$slots:{default:!0}})}),append($t,Ft)},$$slots:{default:!0}})},Dt=Mt=>{var $t=comment(),Ht=first_child($t);each(Ht,19,()=>get$2(ht),Ft=>Ft.treeId+Ft.treeLabel,(Ft,jt,Gt)=>{const Kt=derived$1(()=>get$2(ct).has(get$2(jt).source.id)||get$2(ct).has(get$2(jt).treeId));TreeItem(Ft,{get treeNode(){return get$2(ht)[get$2(Gt)]},get treeIndex(){return get$2(Gt)},get selected(){return get$2(Kt)},get rule(){return get$2(ut)},get draggable(){return lt()},get nodeHeight(){return vt},toggleExpand:Tt,get onRightClick(){return Ve()},get operations(){return me()},get onkeydown(){return tt()},get onrename(){return it()},get nameCheck(){return st()},get treeFlattener(){return get$2(dt)}})}),append(Mt,$t)};if_block(It,Mt=>{ne()?Mt(Ot):Mt(Dt,!1)})}bind_this(At,Mt=>set(ft,Mt),()=>get$2(ft)),event("dragstart",St,Mt=>{set(mt,proxy(Mt.target)),set(_t,void 0),nt()({draggedItem:get$2(mt)})}),event("drop",St,Mt=>{var $t,Ht;set(_t,proxy(Mt.target.closest(".wrapper-tree-item"))),rt()({draggedItem:get$2(mt),destinationItem:get$2(_t),treeIds:[get$2(dt).getNodeBySourceId(($t=get$2(mt))==null?void 0:$t.getAttribute("data-id")),get$2(dt).getNodeBySourceId((Ht=get$2(_t))==null?void 0:Ht.getAttribute("data-id"))]})}),append(Y,St),pop()}var lib$1={},RpcProvider={},lib={},Event$2={},hasRequiredEvent;function requireEvent(){if(hasRequiredEvent)return Event$2;hasRequiredEvent=1,Object.defineProperty(Event$2,"__esModule",{value:!0});var Y=[];Y[0]=function(){return function(){}},Y[1]=function(ee,te){return typeof te>"u"?ee:function(me){ee(me,te)}};function T(ee){return Y[ee]||(Y[ee]=k(ee)),Y[ee]}function k(ee){for(var te="return function dispatcher"+ee+`(payload) {
`,ne=[],me=[],Ve=0;Ve<ee;Ve++)ne.push("cb"+Ve),me.push("ctx"+Ve),te+="    cb"+Ve+"(payload, ctx"+Ve+`);
`;return te+="};",new(Function.bind.apply(Function,[void 0].concat(ne.concat(me),[te])))}var Z=function(){function ee(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return ee.prototype.addHandler=function(te,ne){return this.isHandlerAttached(te,ne)||(this._handlers.push(te),this._contexts.push(ne),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.removeHandler=function(te,ne){var me=this._getHandlerIndex(te,ne);return typeof me<"u"&&(this._handlers.splice(me,1),this._contexts.splice(me,1),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.isHandlerAttached=function(te,ne){return typeof this._getHandlerIndex(te,ne)<"u"},ee.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},ee.prototype._getHandlerIndex=function(te,ne){var me=this._handlers.length,Ve;for(Ve=0;Ve<me&&!(this._handlers[Ve]===te&&this._contexts[Ve]===ne);Ve++);return Ve<me?Ve:void 0},ee.prototype._createDispatcher=function(){this.dispatch=T(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},ee}();return Event$2.default=Z,Event$2}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib;hasRequiredLib$1=1,Object.defineProperty(lib,"__esModule",{value:!0});var Y=requireEvent();return lib.Event=Y.default,lib}var hasRequiredRpcProvider;function requireRpcProvider(){if(hasRequiredRpcProvider)return RpcProvider;hasRequiredRpcProvider=1,Object.defineProperty(RpcProvider,"__esModule",{value:!0});var Y=requireLib$1(),T="resolve_transaction",k="reject_transaction",Z="error",ee=function(){function te(ne,me){me===void 0&&(me=0),this._dispatch=ne,this._rpcTimeout=me,this.error=new Y.Event,this._rpcHandlers={},this._signalHandlers={},this._pendingTransactions={},this._nextTransactionId=0}return te.prototype.dispatch=function(ne){var me=ne;switch(me.type){case te.MessageType.signal:return this._handleSignal(me);case te.MessageType.rpc:return this._handeRpc(me);case te.MessageType.internal:return this._handleInternal(me);default:this._raiseError("invalid message type "+me.type)}},te.prototype.rpc=function(ne,me,Ve){var Ye=this,et=this._nextTransactionId++;return this._dispatch({type:te.MessageType.rpc,transactionId:et,id:ne,payload:me},Ve||void 0),new Promise(function(tt,it){var st=Ye._pendingTransactions[et]={id:et,resolve:tt,reject:it};Ye._rpcTimeout>0&&(Ye._pendingTransactions[et].timeoutHandle=setTimeout(function(){return Ye._transactionTimeout(st)},Ye._rpcTimeout))})},te.prototype.signal=function(ne,me,Ve){return this._dispatch({type:te.MessageType.signal,id:ne,payload:me},Ve||void 0),this},te.prototype.registerRpcHandler=function(ne,me){if(this._rpcHandlers[ne])throw new Error("rpc handler for "+ne+" already registered");return this._rpcHandlers[ne]=me,this},te.prototype.registerSignalHandler=function(ne,me){return this._signalHandlers[ne]||(this._signalHandlers[ne]=[]),this._signalHandlers[ne].push(me),this},te.prototype.deregisterRpcHandler=function(ne,me){return this._rpcHandlers[ne]&&delete this._rpcHandlers[ne],this},te.prototype.deregisterSignalHandler=function(ne,me){return this._signalHandlers[ne]&&(this._signalHandlers[ne]=this._signalHandlers[ne].filter(function(Ve){return me!==Ve})),this},te.prototype._raiseError=function(ne){this.error.dispatch(new Error(ne)),this._dispatch({type:te.MessageType.internal,id:Z,payload:ne})},te.prototype._handleSignal=function(ne){if(!this._signalHandlers[ne.id])return this._raiseError("invalid signal "+ne.id);this._signalHandlers[ne.id].forEach(function(me){return me(ne.payload)})},te.prototype._handeRpc=function(ne){var me=this;if(!this._rpcHandlers[ne.id])return this._raiseError("invalid rpc "+ne.id);Promise.resolve(this._rpcHandlers[ne.id](ne.payload)).then(function(Ve){return me._dispatch({type:te.MessageType.internal,id:T,transactionId:ne.transactionId,payload:Ve})},function(Ve){return me._dispatch({type:te.MessageType.internal,id:k,transactionId:ne.transactionId,payload:Ve})})},te.prototype._handleInternal=function(ne){var me=typeof ne.transactionId<"u"?this._pendingTransactions[ne.transactionId]:void 0;switch(ne.id){case T:if(!me||typeof ne.transactionId>"u")return this._raiseError("no pending transaction with id "+ne.transactionId);me.resolve(ne.payload),this._clearTransaction(this._pendingTransactions[ne.transactionId]);break;case k:if(!me||typeof ne.transactionId>"u")return this._raiseError("no pending transaction with id "+ne.transactionId);this._pendingTransactions[ne.transactionId].reject(ne.payload),this._clearTransaction(this._pendingTransactions[ne.transactionId]);break;case Z:this.error.dispatch(new Error("remote error: "+ne.payload));break;default:this._raiseError("unhandled internal message "+ne.id);break}},te.prototype._transactionTimeout=function(ne){ne.reject("transaction timed out"),this._raiseError("transaction "+ne.id+" timed out"),delete this._pendingTransactions[ne.id]},te.prototype._clearTransaction=function(ne){typeof ne.timeoutHandle<"u"&&clearTimeout(ne.timeoutHandle),delete this._pendingTransactions[ne.id]},te}();return function(te){(function(ne){ne[ne.signal=0]="signal",ne[ne.rpc=1]="rpc",ne[ne.internal=2]="internal"})(te.MessageType||(te.MessageType={}))}(ee||(ee={})),RpcProvider.default=ee,RpcProvider}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib$1;hasRequiredLib=1,Object.defineProperty(lib$1,"__esModule",{value:!0});var Y=requireRpcProvider();return lib$1.RpcProvider=Y.default,lib$1}var libExports=requireLib();function selectWidget(Y,T){Y.forEach(k=>{k.selected=k.id===T,k.id===T&&window.API.eventBus.emit(window.API.constant.enum.CANVAS_WIDGET_SELECT,{ids:[T]}),k.children.length>0&&selectWidget(k.children,T)})}function findWidget(Y,T,k){for(let Z=0;Z<Y.length;Z++){const ee=Y[Z];if(ee.id===T)return ee;if(ee.children.length>0){const te=findWidget(ee.children,T);if(te)return te}}return null}function getAllWidgets(Y,T){var tt,it;const k=((tt=T.style.shape)==null?void 0:tt.split("_")[1])||"screen",Z=T.id||"",ee=getShapeByCell(Y,T);let te="";ee&&ee.name?te=ee.name:te=k+(k==="screen"?"":Z);const ne=Y.getSelectionModel().isSelected(T);let me={id:Z,widgetType:k,name:te,selected:ne,children:[]};const Ve=T.getStyle();Ve.name=te,T.setStyle(Ve);const Ye=Y.getChildCells(T,!0),et=[];for(const st of Ye){if(((it=st.parent)==null?void 0:it.id)!==Z){et.push(st.id);continue}const nt=getAllWidgets(Y,st);me.children.push(nt)}for(const st of et){const nt=Ye.findIndex(rt=>rt.id===st);nt!==-1&&Ye.splice(nt,1)}return et.length>0&&(T.children=Ye),me}function widgetTreeToArray(Y){const T=[];for(const k of Y)T.push(k),k.children.length>0&&T.push(...widgetTreeToArray(k.children));return T}function moveWidgetToParent(Y,T,k){if(!Y)return;const Z=Y.getDataModel(),ee=Z.getCell(T);if(Z.beginUpdate(),!ee)return;let te=ee.getGeometry();const ne=getShapeByCell(Y,ee);let me=Z.getCell(k)??Y.getDefaultParent();if(k==="1")me=Y.getDefaultParent(),ne.setParent2(Z,null),Y.moveCells([ee],te.x,te.y,!1,me),Z.parentForCellChanged(ee,me,me.children.length-1);else{const Ve=getShapeByCell(Y,me);if(isValidDropTarget(ne.Type,Ve.Type)){const Ye=me.getGeometry();Y.moveCells([ee],te.x,te.y,!1,me),te.x=Ye.width-te.width>>1,te.y=Ye.height-te.height>>1,Z.setGeometry(ee,te),Z.setGeometry(me,Ye),ne.setParent2(Z,Ve),Z.parentForCellChanged(ee,me,me.children.length-1)}}console.log("moveWidgetToParent",T,k),Y.fireEvent(new EventObject(InternalEvent.CELLS_ADDED,{})),Z.endUpdate()}function selectedWidget(Y,T){if(!Y)return;const k=Y.getSelectionModel();T||k.clear();const Z=Y.getDataModel().getCell(T),ee=getShapeByCell(Y,Z);Z&&ee?(widgetProps.curlvglShape=ee,widgetProps.props=ee.Props,ee instanceof LvglBase&&ee.isVisible&&k.setCell(Z)):k.clear()}function changeWidgetChildIdx(Y,T,k,Z){if(!Y)return;console.log(`Changing widget child index from ${k} to ${Z} for widget ${T}`);const ee=Y.getDataModel().getCell(T);if(!ee)return;const te=ee.getChildren(),ne=ee.getChildCount();if(Z<0||Z>=ne)return;const me=te[k],Ve=te[Z];te[k]=Ve,te[Z]=me;const Ye=getShapeByCell(Y,me);Ye&&Ye.moveToIdx(Z);const et=Y.getView();et.invalidate(me),et.validate(Ve),Y.getPlugin(SelectionHandler.pluginId).reset()}var on_mousemove=(Y,T,k,Z)=>{var ee;if(T.value&&((ee=T.value.children)==null?void 0:ee.length)>0&&get$2(k)){const te=get$2(k).getBoundingClientRect();Z()({rect:te,children:T.value.children})}},on_click$w=(Y,T)=>{Y.preventDefault(),Y.stopPropagation(),T.value.type!==""&&T.menuLabelClick({value:T.value,target:Y})},root_1$1z=template('<span class="iconfont icon-arrow-right"></span>'),root$2d=template('<button class="wrapper svelte-otzocr"><div class="wrapper-content svelte-otzocr"><p> </p> <p class="key-board svelte-otzocr"> </p> <!></div></button>');function MenuBarLable(Y,T){push(T,!0);let k=prop(T,"expandChilren",3,()=>{}),Z=state(void 0);var ee=root$2d();ee.__mousemove=[on_mousemove,T,Z,k],ee.__click=[on_click$w,T];var te=child(ee),ne=child(te),me=child(ne),Ve=sibling(ne,2),Ye=child(Ve),et=sibling(Ve,2);{var tt=it=>{var st=root_1$1z();append(it,st)};if_block(et,it=>{var st;(st=T.value)!=null&&st.children&&T.value.children.length>0&&it(tt)})}bind_this(ee,it=>set(Z,it),()=>get$2(Z)),template_effect(it=>{set_text(me,T.value.title),set_text(Ye,it)},[()=>{var it;return((it=T.value)==null?void 0:it.keyBoard)!=null?T.value.keyBoard.join(","):""}]),event("blur",ee,it=>{it.preventDefault(),it.stopPropagation(),T.value.type!==""&&T.handleBlur(it)}),append(Y,ee),pop()}delegate(["mousemove","click"]);var root_4$p=template('<div class="divider svelte-9o2nm9"></div>'),root_1$1y=template("<!> <!>",1),root$2c=template('<button class="wrapper svelte-9o2nm9"></button> <!>',1);function RightClickMenuBarChild_1(Y,T){push(T,!0);let k=prop(T,"handleClick",3,()=>{}),Z=state(proxy(T.value.show)),ee=state(proxy([])),te=state(proxy({top:0,left:0}));user_effect(()=>{T.value.position,requestAnimationFrame(()=>{if(get$2(ne)){const nt=get$2(ne).getBoundingClientRect();document.body.getBoundingClientRect().width<T.value.position.left+nt.width?set(te,proxy({top:T.value.position.top,left:T.value.position.left-(T.value.index*2+2)*324})):set(te,proxy({top:T.value.position.top,left:T.value.position.left}))}})}),user_effect(()=>{T.value.show,requestAnimationFrame(()=>{Ye()})}),user_effect(()=>{let nt=!1;for(let rt=0;rt<T.value.option.length;rt++){const lt=T.value.option[rt];for(let ot=0;ot<lt.length;ot++)lt[ot].hiddenState||(nt=!0)}set(Z,proxy(nt))});let ne=state(void 0);onMount(()=>{window.addEventListener("click",nt=>{var rt;(rt=get$2(ne))!=null&&rt.contains(nt.relatedTarget)||me()})});const me=()=>{set(Z,!1)},Ve=nt=>{get$2(ne)&&!get$2(ne).contains(nt.relatedTarget)&&me()},Ye=()=>{},et=nt=>{let rt=[{show:!0,parent:"",position:{top:nt.rect.top-5,left:nt.rect.width+T.value.position.left},index:T.value.index+1,option:nt.children}];set(ee,proxy(rt))};onMount(()=>{}),onDestroy(()=>{set(ee,proxy([]))});var tt=root$2c(),it=first_child(tt);each(it,21,()=>T.value.option,index,(nt,rt,lt)=>{var ot=root_1$1y(),ht=first_child(ot);each(ht,17,()=>get$2(rt),index,(ut,ft)=>{var vt=comment(),mt=first_child(vt);{var _t=Et=>{MenuBarLable(Et,{handleBlur:Ve,get value(){return get$2(ft)},expandChilren:et,get menuLabelClick(){return k()}})};if_block(mt,Et=>{get$2(ft).hiddenState||Et(_t)})}append(ut,vt)});var dt=sibling(ht,2);{var ct=ut=>{var ft=root_4$p();append(ut,ft)};if_block(dt,ut=>{T.value.option.length!==lt+1&&ut(ct)})}append(nt,ot)}),bind_this(it,nt=>set(ne,nt),()=>get$2(ne));var st=sibling(it,2);each(st,17,()=>get$2(ee),index,(nt,rt)=>{RightClickMenuBarChild_1(nt,{get value(){return get$2(rt)},get handleClick(){return k()}})}),template_effect(()=>set_style(it,`top:${get$2(te).top}px;left:${get$2(te).left}px;${get$2(Z)?"display:block":"display:none"}`)),event("blur",it,Ve),append(Y,tt),pop()}var root_4$o=template('<div class="divider svelte-1217764"></div>'),root_2$D=template("<!> <!>",1),root_1$1x=template('<button class="wrapper svelte-1217764"></button> <!>',1);function RightClickMenuBar(Y,T){push(T,!0);let k=rest_props(T,["$$slots","$$events","$$legacy"]),Z=state(proxy(T.top)),ee=state(proxy(T.left)),te=state(proxy(T.show)),ne=state(proxy(T.operationEventCollection)),me=state(proxy([]));const Ve=()=>{var ot;set(te,proxy(k.show)),set(ne,proxy(k.operationEventCollection)),(ot=T.operationEventCollection)!=null&&ot.length||set(te,!1),tick().then(()=>{var ct;set(Z,proxy(k.top)),set(ee,proxy(k.left));const ht=document.body.getBoundingClientRect(),dt=(ct=get$2(Ye))==null?void 0:ct.getBoundingClientRect();dt&&(get$2(ee)+dt.width-ht.width>0&&set(ee,get$2(ee)-(get$2(ee)+dt.width-ht.width)),get$2(Z)+dt.height-ht.height>0&&set(Z,get$2(Z)-(get$2(Z)+dt.height-ht.height)))})};user_effect(()=>{T.show,requestAnimationFrame(()=>{Ve()})});let Ye=state(void 0);const et=()=>{set(te,!1),set(me,proxy([]))},tt=ot=>{get$2(Ye)&&!get$2(Ye).contains(ot.relatedTarget)&&et()},it=ot=>{ot.target.preventDefault,T.onSelectMenuBar({...ot,sourceData:T.sourceData}),set(te,!1),et()};onMount(()=>{window.addEventListener("click",ot=>{var ht;(ht=get$2(Ye))!=null&&ht.contains(ot.relatedTarget)||et()})});const st=ot=>{let ht=[{show:!0,parent:"",position:{top:ot.rect.top-5,left:ot.rect.width+get$2(ee)},index:0,option:ot.children}];set(me,proxy(ht))};var nt=comment(),rt=first_child(nt);{var lt=ot=>{var ht=root_1$1x(),dt=first_child(ht);each(dt,21,()=>get$2(ne),index,(ut,ft,vt)=>{var mt=root_2$D(),_t=first_child(mt);each(_t,17,()=>get$2(ft),index,(xt,yt)=>{MenuBarLable(xt,{handleBlur:tt,expandChilren:st,get value(){return get$2(yt)},menuLabelClick:it})});var Et=sibling(_t,2);{var Tt=xt=>{var yt=root_4$o();append(xt,yt)};if_block(Et,xt=>{get$2(ne).length!==vt+1&&xt(Tt)})}append(ut,mt)}),bind_this(dt,ut=>set(Ye,ut),()=>get$2(Ye));var ct=sibling(dt,2);each(ct,19,()=>get$2(me),ut=>Math.random(),(ut,ft)=>{RightClickMenuBarChild_1(ut,{get value(){return get$2(ft)},handleClick:it})}),template_effect(()=>set_style(dt,`top:${get$2(Z)}px;left:${get$2(ee)}px;${get$2(te)?"display:block":"display:none"}`)),event("blur",dt,tt),append(ot,ht)};if_block(rt,ot=>{get$2(te)&&ot(lt)})}append(Y,nt),pop()}var root_1$1w=template('<div class="wrapper svelte-ch2a47"><!></div>'),root$2b=template("<!> <!>",1);function Hierachy(Y,T){push(T,!0);let k=state(proxy([]));const Z=new libExports.RpcProvider((dt,ct)=>window.postMessage(dt,"*",ct)),ee={...defaultRule,id:"id",optionType:"optionType",label:"name"};window.addEventListener("message",dt=>Z.dispatch(dt.data)),Z.registerRpcHandler("updateTree",()=>{get$2(rt)?get$2(rt).differentialBuild([...widgetStores.widgets]):st()}),T.params;let te=state(proxy([])),ne=state(proxy({show:!1,left:0,top:0,operationEventCollection:[],sourceData:{treeNode:new Object}}));const me=dt=>{set(ne,proxy({show:!0,left:dt.target.clientX,top:dt.target.clientY,operationEventCollection:api$1.constant.rightClickOption.get(api$1.constant.enum.HIERACHY_RIGHT_CLICK)??[],sourceData:{treeNode:dt.treeNode}}))},Ve=(dt,ct)=>{if(ct){const ut=ct.source.children.findIndex(ft=>ft.id===dt.id);et(ct.source.id,ut,ut-1)}},Ye=(dt,ct)=>{if(ct){const ut=ct.source.children.findIndex(ft=>ft.id===dt.id);et(ct.source.id,ut,ut+1)}};function et(dt,ct,ut){let ft=findWidget(widgetStores.widgets,dt);const vt=(ft==null?void 0:ft.children)||widgetStores.widgets;if(ut<0||ut>=vt.length)return;const mt=vt.splice(ct,1)[0];vt.splice(ut,0,mt),changeWidgetChildIdx(screenStore.curGraph,dt,ct,ut),get$2(rt).differentialBuild([...widgetStores.widgets])}const tt=dt=>{let ct=[];return dt.id==="1"?ct=[]:ct=[{iconType:"icon-shangyi",action:(ut,ft,vt)=>{vt.preventDefault(),vt.stopPropagation(),Ve(ut,ft)}},{iconType:"icon-xiayi",action:(ut,ft,vt)=>{vt.preventDefault(),vt.stopPropagation(),Ye(ut,ft)}}],ct},it=dt=>{set(k,proxy([dt.source.id])),selectedWidget(screenStore.curGraph,dt.source[ee.id])},st=()=>{set(te,proxy([...widgetStores.widgets])),set(rt,proxy(window.API.hierachy.getTreeFlattener())),get$2(rt).build([...widgetStores.widgets],ee,{})},nt=dt=>{const ct=dt.treeIds;if(!ct[1])return;let ut=ct[0].source,ft=ct[1].source;isValidDropTarget(ut.widgetType,ft.widgetType)&&moveWidgetToParent(screenStore.curGraph,ut.id,ft.id)};onMount(()=>{st(),window.API.eventBus.on(window.API.constant.enum.CANVAS_WIDGET_SELECT,({ids:dt})=>{get$2(rt)&&set(k,proxy([...dt]))}),window.API.eventBus.on(window.API.constant.enum.CANVAS_CHNAGE_WIDGET,dt=>{dt.cells.length===0&&set(k,proxy([]))})});let rt=state(void 0);var lt=root$2b(),ot=first_child(lt);RegionalDivision(ot,{get panelApi(){return T.api},children:(dt,ct)=>{var ut=root_1$1w(),ft=child(ut);CommonTree(ft,{onDrop:vt=>{nt(vt)},draggable:!0,get selectNode(){return get$2(k)},get treeData(){return get$2(te)},treeNodeRule:ee,get treeFlattenerData(){return get$2(rt)},operations:tt,onSelect:it,onRightClick:me}),append(dt,ut)},$$slots:{default:!0}});var ht=sibling(ot,2);RightClickMenuBar(ht,{get show(){return get$2(ne).show},get top(){return get$2(ne).top},get left(){return get$2(ne).left},get operationEventCollection(){return get$2(ne).operationEventCollection},get sourceData(){return get$2(ne).sourceData},onSelectMenuBar:dt=>{}}),append(Y,lt),pop()}const __variableDynamicImportRuntimeHelper=(Y,T,k)=>{const Z=Y[T];return Z?typeof Z=="function"?Z():Promise.resolve(Z):new Promise((ee,te)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(te.bind(null,new Error("Unknown variable dynamic import: "+T+(T.split("/").length!==k?". Note that variables only represent file names one level deep.":""))))})},arrowRight="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1753258443660'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='3200'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M340.992%20148.992a32.256%2032.256%200%200%200-8.96%2022.016%2028.8%2028.8%200%200%200%208.96%2020.992l312%20320-312%20320a28.8%2028.8%200%200%200%200%2041.984%2028.8%2028.8%200%200%200%2020.992%208.96%2030.592%2030.592%200%200%200%2020.992-8l331.008-340.992a29.952%2029.952%200%200%200%208.96-22.016%2029.952%2029.952%200%200%200-8.96-22.016L382.976%20148.928a30.592%2030.592%200%200%200-20.992-8%2030.592%2030.592%200%200%200-20.992%208v0.064z'%20fill='white'%20p-id='3201'%3e%3c/path%3e%3c/svg%3e",arrowDown="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1753328130448'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='3545'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M832%20340.992l-320%20312-320-312a28.8%2028.8%200%200%200-20.992-8.96%2028.8%2028.8%200%200%200-20.992%208.96%2028.8%2028.8%200%200%200-8.96%2020.992c0%208%202.624%2014.72%208%2019.968l340.992%20332.032c5.952%206.016%2013.312%208.96%2022.016%208.96%208.64%200%2016-2.944%2022.016-8.96l340.992-331.008a31.232%2031.232%200%200%200%208-21.504c0-8.32-3.008-15.36-8.96-20.992a29.76%2029.76%200%200%200-42.048%200.448v0.064z'%20fill='white'%20p-id='3546'%3e%3c/path%3e%3c/svg%3e",Text$2="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M799.999887%20289.356358H224.000113a31.970084%2031.970084%200%200%200%200%2063.940169h575.999774a31.970084%2031.970084%200%200%200%200-63.940169zM799.999887%20480.093133H224.000113a31.970084%2031.970084%200%201%200%200%2063.940169h575.999774a31.970084%2031.970084%200%201%200%200-63.940169zM799.999887%20670.829908H224.000113a31.970084%2031.970084%200%200%200%200%2063.940169h575.999774a31.970084%2031.970084%200%200%200%200-63.940169z'%20/%3e%3cpath%20fill='%23ffffff'%20d='M948.041247%20156.14406A150.750689%20150.750689%200%200%200%20809.164645%2063.940169h-0.278158l-73.444496%201.325765a31.988147%2031.988147%200%200%200%201.112631%2063.965456l72.866506-1.260741a86.124156%2086.124156%200%200%201%2061.100792%2025.449632c16.41131%2016.41131%2025.366546%2038.234054%2025.366546%2061.440361v594.278716c0%2023.206308-8.955236%2044.956802-25.366546%2061.368112a86.059133%2086.059133%200%200%201-61.357275%2025.377384H214.835355c-23.206308%200-45.061563-8.969686-61.472873-25.377384A86.18918%2086.18918%200%200%201%20127.880338%20809.139358V214.860642a86.94418%2086.94418%200%200%201%2086.940568-86.882768h73.173562a31.970084%2031.970084%200%201%200%200-63.940169H214.835355A150.82655%20150.82655%200%200%200%2063.940169%20214.860642v594.278716A150.598966%20150.598966%200%200%200%20214.835355%20959.825022h594.32929A150.328033%20150.328033%200%200%200%20959.825022%20809.139358V214.860642a149.836742%20149.836742%200%200%200-11.783775-58.716582z'%20/%3e%3cpath%20fill='%23ffffff'%20d='M415.997629%20127.880338h192.001129a31.970084%2031.970084%200%200%200%200-63.940169h-192.001129a31.970084%2031.970084%200%200%200%200%2063.940169z'%20/%3e%3c/svg%3e",kejian="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M960%20512c0-112.384-200.576-352-448-352S64%20399.104%2064%20512c0%20112.896%20200.576%20352%20448%20352s448-239.616%20448-352zM238.336%20340.992Q366.656%20224%20512%20224q145.28%200%20273.664%20117.12%2052.672%2048%2084.032%20101.12Q896%20486.464%20896%20512q0%2025.472-26.24%2069.76-31.424%2053.12-84.096%20101.12Q657.216%20800%20512%20800q-145.28%200-273.664-116.992-52.672-48-84.032-100.992Q128%20537.664%20128%20512q0-25.6%2026.24-70.016%2031.424-52.992%2084.096-100.992zM512%20672a160%20160%200%201%200%200-320%20160%20160%200%200%200%200%20320z%20m0-256a96%2096%200%201%201%200%20192%2096%2096%200%200%201%200-192z'%20/%3e%3c/svg%3e",yincang="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M955.392%20287.744a31.68%2031.68%200%200%201-3.2%2013.76q-46.72%2096.512-120.576%20162.944l120.96%20144.128a31.744%2031.744%200%201%201-48.64%2040.832L781.824%20503.68q-9.408%206.528-19.264%2012.672-32.704%2020.416-67.072%2035.072a32%2032%200%200%201%201.792%203.712l69.12%20171.008a31.744%2031.744%200%200%201-58.88%2023.744L638.464%20578.944a31.808%2031.808%200%200%201-1.92-6.848q-46.016%2012.736-94.72%2015.936c0.832%202.816%201.28%205.824%201.28%208.96v158.592a31.744%2031.744%200%201%201-63.36%200V596.992c0-3.008%200.384-5.952%201.152-8.704q-51.072-2.88-99.2-16.256a32.448%2032.448%200%200%201-0.256%200.896l-69.12%20171.008a31.744%2031.744%200%200%201-58.88-23.744l68.48-169.408q-31.552-13.76-61.76-32.512-12.032-7.488-23.488-15.552l-116.608%20138.88a31.744%2031.744%200%201%201-48.576-40.768l115.84-137.92Q115.84%20397.056%2070.272%20301.632a31.68%2031.68%200%200%201%2057.216-27.264q58.944%20123.52%20166.016%20190.016%2099.584%2061.76%20217.408%2061.248%20117.76-0.576%20217.92-63.04%20107.264-66.88%20166.272-188.736a31.808%2031.808%200%200%201%2060.224%2013.888z'%20/%3e%3c/svg%3e";var root_1$1v=template('<div class="select-color svelte-5fmwev"></div>'),root_3$B=template('<div class="select-array svelte-5fmwev"><div class="array-item svelte-5fmwev"></div> <div class="array-item svelte-5fmwev"></div> <div class="array-item svelte-5fmwev"></div> <div class="array-item svelte-5fmwev"></div> <div class="array-item svelte-5fmwev"></div> <div class="array-item svelte-5fmwev"></div> <div class="array-item svelte-5fmwev"></div> <div class="array-item svelte-5fmwev"></div> <div class="array-item svelte-5fmwev"></div></div>'),root_5$f=template('<div class="select-map svelte-5fmwev"><div class="map-item svelte-5fmwev"></div> <div class="map-item-two svelte-5fmwev"></div> <div class="map-item svelte-5fmwev"></div> <div class="map-item-two svelte-5fmwev"></div> <div class="map-item svelte-5fmwev"></div> <div class="map-item-two svelte-5fmwev"></div></div>'),root_7$7=template('<div class="select-set svelte-5fmwev"><p></p></div>'),root_8$a=template('<p class="wrapper-label svelte-5fmwev"> </p>'),root$2a=template("<!> <!>",1);function VarType(Y,T){push(T,!0);const k=prop(T,"isDataStructure",3,!1);let Z=state(proxy(api$1.optionManager.getTypeOptionsMap())),ee=derived$1(()=>{var st;return(st=get$2(Z).get(T.keyType))!=null&&st.color?get$2(Z).get(T.keyType).color:"white"}),te=derived$1(()=>{var st;return(st=get$2(Z).get(T.valueType?T.valueType:T.keyType))!=null&&st.color?get$2(Z).get(T.valueType?T.valueType:T.keyType).color:"white"}),ne=derived$1(()=>api$1.optionManager.getContainerTypeMap().get(T.varType).label);onMount(()=>{set(Z,proxy(api$1.optionManager.getTypeOptionsMap())),api$1.eventBus.on("option:notice:change",()=>{set(Z,proxy(api$1.optionManager.getTypeOptionsMap()))})});var me=root$2a(),Ve=first_child(me);{var Ye=st=>{var nt=root_1$1v();template_effect(()=>set_style(nt,`background-color: ${get$2(ee)??""}`)),append(st,nt)},et=(st,nt)=>{{var rt=ot=>{var ht=root_3$B(),dt=child(ht),ct=sibling(dt,2),ut=sibling(ct,2),ft=sibling(ut,2),vt=sibling(ft,2),mt=sibling(vt,2),_t=sibling(mt,2),Et=sibling(_t,2),Tt=sibling(Et,2);template_effect(()=>{set_style(dt,`background-color: ${get$2(ee)??""}`),set_style(ct,`background-color: ${get$2(ee)??""}`),set_style(ut,`background-color: ${get$2(ee)??""}`),set_style(ft,`background-color: ${get$2(ee)??""}`),set_style(vt,`background-color: ${get$2(ee)??""}`),set_style(mt,`background-color: ${get$2(ee)??""}`),set_style(_t,`background-color: ${get$2(ee)??""}`),set_style(Et,`background-color: ${get$2(ee)??""}`),set_style(Tt,`background-color: ${get$2(ee)??""}`)}),append(ot,ht)},lt=(ot,ht)=>{{var dt=ut=>{var ft=root_5$f(),vt=child(ft),mt=sibling(vt,2),_t=sibling(mt,2),Et=sibling(_t,2),Tt=sibling(Et,2),xt=sibling(Tt,2);template_effect(()=>{set_style(ft,T.mapType==="Map"?"":T.mapType==="key"?"flex-direction: column; width: 8px;":T.mapType==="value"?"flex-direction: column; width: 20px;":"flex-direction: column;"),set_style(vt,`background-color: ${get$2(ee)??""};display:${(T.mapType==="value"?"none":"block")??""}`),set_style(mt,`background-color: ${get$2(te)??""};display:${(T.mapType==="key"?"none":"block")??""}`),set_style(_t,`background-color: ${get$2(ee)??""};display:${(T.mapType==="value"?"none":"block")??""}`),set_style(Et,`background-color: ${get$2(te)??""};display:${(T.mapType==="key"?"none":"block")??""}`),set_style(Tt,`background-color: ${get$2(ee)??""};display:${(T.mapType==="value"?"none":"block")??""}`),set_style(xt,`background-color: ${get$2(te)??""};display:${(T.mapType==="key"?"none":"block")??""}`)}),append(ut,ft)},ct=(ut,ft)=>{{var vt=mt=>{var _t=root_7$7(),Et=child(_t);Et.textContent="{Â }",template_effect(()=>set_style(_t,`color: ${get$2(ee)??""}`)),append(mt,_t)};if_block(ut,mt=>{T.varType==="Set"&&mt(vt)},ft)}};if_block(ot,ut=>{T.varType==="Map"?ut(dt):ut(ct,!1)},ht)}};if_block(st,ot=>{T.varType==="Array"?ot(rt):ot(lt,!1)},nt)}};if_block(Ve,st=>{T.varType==="Single"?st(Ye):st(et,!1)})}var tt=sibling(Ve,2);{var it=st=>{var nt=root_8$a(),rt=child(nt);template_effect(()=>set_text(rt,get$2(ne))),append(st,nt)};if_block(tt,st=>{k()&&st(it)})}append(Y,me),pop()}var on_click$v=Y=>{Y.stopPropagation()},root_1$1u=template('<div class="search svelte-157srjj"><!></div>'),on_click_1$c=(Y,T)=>{T("handleSelectLabel",{selected:JSON.parse(Y.target.closest(".option-line").dataset.value)})},root_2$C=template('<div class="option-line svelte-157srjj"><div class="option-line-color svelte-157srjj"><!></div> <p class="option-line-name svelte-157srjj"> </p></div>'),root$29=template('<div class="select-options svelte-157srjj"><div class="select-option-wrapper svelte-157srjj"><!> <div class="select-option-content svelte-157srjj"></div> <div class="select-detail svelte-157srjj"></div></div></div>');function SelectOptions(Y,T){push(T,!0);const k=prop(T,"haveSearch",3,!0),Z=createEventDispatcher();let ee=state(void 0),te=state(proxy(T.top));const ne=()=>{if(!get$2(ee))return 0;const it=get$2(ee).getBoundingClientRect().top,st=get$2(ee).clientHeight,rt=window.innerHeight-(it+st);rt<0&&set(te,get$2(te)+rt)};onMount(()=>(set(te,proxy(T.top)),ne(),window.addEventListener("resize",ne),window.addEventListener("scroll",ne),()=>{window.removeEventListener("resize",ne),window.removeEventListener("scroll",ne)}));var me=root$29();me.__click=[on_click$v];var Ve=child(me),Ye=child(Ve);{var et=it=>{var st=root_1$1u(),nt=child(st);Search(nt,{}),append(it,st)};if_block(Ye,it=>{k()&&it(et)})}var tt=sibling(Ye,2);tt.__click=[on_click_1$c,Z],each(tt,21,()=>T.options,index,(it,st)=>{var nt=root_2$C(),rt=child(nt),lt=child(rt);VarType(lt,{get varType(){return get$2(st).varType},mapType:"Map",get keyType(){return get$2(st).key}});var ot=sibling(rt,2),ht=child(ot);template_effect(dt=>{set_attribute(nt,"data-value",dt),set_text(ht,get$2(st).label)},[()=>JSON.stringify(get$2(st))]),append(it,nt)}),bind_this(me,it=>set(ee,it),()=>get$2(ee)),template_effect(()=>set_style(me,`top:${get$2(te)??""}px;left:${T.left??""}px;`)),append(Y,me),pop()}delegate(["click"]);var on_click$u=Y=>{Y.stopPropagation()},on_click_1$b=(Y,T)=>{set(T,!get$2(T))},on_click_2$5=(Y,T)=>{T(Y)},root$28=template('<div><div class="select-input-wrapper svelte-3b66ba"><div><!> <div class="select-name svelte-3b66ba"> </div></div></div> <!></div>');function SelectInput(Y,T){push(T,!0);const k=prop(T,"mapType",3,"key"),Z=prop(T,"keyName",3,"keyType"),ee=prop(T,"labelLocal",3,"left"),te=createEventDispatcher();let ne=generateUniqueId$1(),me=state(proxy(api$1.optionManager.getTypeOptionsMap())),Ve=state(!1),Ye=state(proxy(T.defaultValue?T.defaultValue:T.options[0])),et=state(proxy({top:0,left:0})),tt=state(void 0);user_effect(()=>{T.defaultValue&&set(Ye,proxy(T.defaultValue))});const it=vt=>{const mt=get$2(tt).getBoundingClientRect();set(et,proxy({top:mt.top+mt.height+5,left:mt.left+mt.width/2-100}))},st=vt=>{vt.target.closest("."+ne)||set(Ve,!1)},nt=vt=>{set(Ve,!1),te("handleSelectLabel",{selected:{...vt.detail.selected}})};document.addEventListener("click",st),onMount(()=>{set(me,proxy(api$1.optionManager.getTypeOptionsMap())),api$1.eventBus.on("option:notice:change",()=>{set(me,proxy(api$1.optionManager.getTypeOptionsMap()))})}),onDestroy(()=>{document.addEventListener("click",st)});var rt=root$28();set_class(rt,1,`select-wrapper ${ne??""}`,"svelte-3b66ba"),rt.__click=[on_click$u];var lt=child(rt);lt.__click=[on_click_1$b,Ve];var ot=child(lt);ot.__click=[on_click_2$5,it];var ht=child(ot);VarType(ht,{get varType(){return get$2(Ye).varType},get mapType(){return k()},get keyType(){return get$2(Ye)[Z()]}});var dt=sibling(ht,2),ct=child(dt);bind_this(lt,vt=>set(tt,vt),()=>get$2(tt));var ut=sibling(lt,2);{var ft=vt=>{SelectOptions(vt,{get top(){return get$2(et).top},get left(){return get$2(et).left},get options(){return T.options},$$events:{handleSelectLabel:nt}})};if_block(ut,vt=>{get$2(Ve)&&vt(ft)})}template_effect(vt=>{set_class(ot,1,`select-input-label ${ee()??""}-local`,"svelte-3b66ba"),set_text(ct,vt)},[()=>{var vt;return(vt=get$2(me).get(get$2(Ye)[Z()]))==null?void 0:vt.label}]),append(Y,rt),pop()}delegate(["click"]);var root_1$1t=template('<div class="tooltip-content svelte-uthsu3"> </div>'),root$27=template('<div class="tooltip svelte-uthsu3"><!> <!></div>');function Tooltip(Y,T){push(T,!0);let k=prop(T,"height",3,void 0),Z=state(null),ee=state(!1);var te=root$27(),ne=child(te);snippet(ne,()=>T.children);var me=sibling(ne,2);{var Ve=Ye=>{var et=root_1$1t(),tt=child(et);template_effect(it=>{set_style(et,it),set_text(tt,T.title)},[()=>`top: ${get$2(Z).getBoundingClientRect().bottom}px;
                     left: ${get$2(Z).getBoundingClientRect().left}px`]),append(Ye,et)};if_block(me,Ye=>{get$2(Z)&&get$2(ee)&&Ye(Ve)})}bind_this(te,Ye=>set(Z,Ye),()=>get$2(Z)),template_effect(()=>set_style(te,k()?`height:${k()}`:"")),event("mouseenter",te,()=>set(ee,!0)),event("mouseleave",te,()=>set(ee,!1)),append(Y,te),pop()}const changeExpandedState=(Y,T,k,Z)=>{Y.stopPropagation(),T("changeExpandedState",Z.treeId)},changeSelectedState=(Y,T,k,Z)=>{T("changeSelectedState",Z.treeId)},handleInputConfirm=(Y,T)=>{Y.key==="Enter"&&(Y.preventDefault(),T())};var root_2$B=template("<img>"),root_1$1s=template('<div class="wrapper-input svelte-1igf7mq"><div class="tree-icon svelte-1igf7mq"><!></div> <div class="wrapper-content svelte-1igf7mq"><input aria-label="Edit item name" class="svelte-1igf7mq"></div></div>'),root_4$n=template("<button></button>"),root_5$e=template('<div class="wrapper-content-label svelte-1igf7mq"> </div>'),on_click$t=(Y,T,k,Z)=>{Y.stopPropagation(),T(Z.treeId,!Z.isShow)},root_7$6=template('<img alt="kejian">'),root_8$9=template('<img alt="yincang">'),root_6$b=template('<div class="wrapper-select-input svelte-1igf7mq"><!></div> <div class="icon-wrapper svelte-1igf7mq" style="margin-right: 10px;"><!></div>',1),root_3$A=template('<div><div class="tree-icon svelte-1igf7mq"><!></div> <div class="drag-op svelte-1igf7mq"><span class="svelte-1igf7mq"></span></div> <div class="wrapper-content svelte-1igf7mq"><!></div> <!></div>'),root$26=template('<button id="tree-node-item" tabindex="0"><!></button>');function TreeNodeVar(Y,T){push(T,!0);let k=rest_props(T,["$$slots","$$events","$$legacy"]),Z=state(proxy(T.editState)),ee=state(proxy(api$1.optionManager.getTypeOptions())),te=state(proxy(api$1.optionManager.getTypeOptionsMap())),ne=state(proxy({varType:api$1.optionManager.containerOptions[0].varType,keyType:T.keyType,valueType:T.valueType})),me=state(void 0),Ve=state(proxy(Text$2)),Ye=state(proxy(T.treeLabel));const et=createEventDispatcher(),tt=async ut=>{try{const ft=await __variableDynamicImportRuntimeHelper(Object.assign({}),`../../static/svg/${ut}.svg`,5);set(Ve,proxy(ft.default))}catch{set(Ve,proxy(Text$2))}},it=()=>{const ut=get$2(Ye).trim(),ft=validateCVariableName(ut);if(!ft.valid){et("cancelEdit",{treeId:T.treeId}),api$1.message.globalMessageNotice({type:"error",message:ft.message});return}ut?(set(Z,!1),et("confirmEdit",{treeId:T.treeId,newValue:ut,treeType:T.treeType})):et("cancelEdit",{treeId:T.treeId})},st=()=>{get$2(Z)&&(it(),set(Z,!1))};user_effect(()=>{T.keyType&&set(ne,proxy({varType:T.varType,keyType:T.keyType,valueType:T.valueType}))}),user_effect(()=>{get$2(Z)&&(set(Ye,proxy(k.treeLabel)),setTimeout(()=>{var ut;(ut=get$2(me))==null||ut.focus()},0))}),user_effect(()=>{get$2(Z)||set(Ye,proxy(k.treeLabel))}),user_effect(()=>{T.treeIconType&&tt(T.treeIconType)}),user_effect(()=>{set(Z,proxy(k.editState))}),user_effect(()=>{get$2(Z)||set(Ye,proxy(k.treeLabel))}),user_effect(()=>{T.treeIconType&&tt(T.treeIconType)});let nt=derived$1(()=>T.treeNodeIdAndObjMapState.get(T.parentId)?isShowStateByParent(T.parentId,T.treeNodeIdAndObjMapState):!0);const rt=(ut,ft)=>{et("changeShowState",{treeId:ut,showState:ft})},lt=ut=>{et("handleChangeVar",{treeId:T.treeId,...ut.detail.selected}),set(ne,proxy({...ut.detail.selected}))};onMount(()=>{set(ee,proxy(api$1.optionManager.getTypeOptions())),set(te,proxy(api$1.optionManager.getTypeOptionsMap())),api$1.eventBus.on("option:notice:change",()=>{set(ee,proxy(api$1.optionManager.getTypeOptions())),set(te,proxy(api$1.optionManager.getTypeOptionsMap()))})});var ot=root$26();ot.__click=[changeSelectedState,et,k,T];var ht=child(ot);{var dt=ut=>{var ft=root_1$1s(),vt=child(ft),mt=child(vt);{var _t=yt=>{},Et=yt=>{var St=root_2$B();template_effect(()=>{set_attribute(St,"src",T.expanded?arrowDown:arrowRight),set_attribute(St,"alt",T.expanded?"Expanded":"Collapsed")}),append(yt,St)};if_block(mt,yt=>{T.treeType==="file"?yt(_t):yt(Et,!1)})}var Tt=sibling(vt,2),xt=child(Tt);xt.__keydown=[handleInputConfirm,it],bind_this(xt,yt=>set(me,yt),()=>get$2(me)),template_effect(()=>{set_style(ft,`padding-left: ${12*T.level}px;`),set_style(Tt,get$2(Z)?"border:none":"")}),event("blur",xt,st),bind_value(xt,()=>get$2(Ye),yt=>set(Ye,yt)),append(ut,ft)},ct=ut=>{var ft=root_3$A(),vt=child(ft),mt=child(vt);{var _t=Ct=>{},Et=Ct=>{var It=root_4$n();It.__click=[changeExpandedState,et,k,T],template_effect(()=>set_class(It,1,`wrapper-icon iconfont ${(T.expanded?"icon-arrow-down":"icon-arrow-right")??""} ${(T.selected?"icon-font":"")??""}`,"svelte-1igf7mq")),append(Ct,It)};if_block(mt,Ct=>{T.treeType==="file"?Ct(_t):Ct(Et,!1)})}var Tt=sibling(vt,2);set_attribute(Tt,"draggable",!0);var xt=sibling(Tt,2),yt=child(xt);Tooltip(yt,{get title(){return T.treeLabel},children:(Ct,It)=>{var Ot=root_5$e(),Dt=child(Ot);template_effect(()=>set_text(Dt,T.treeLabel)),append(Ct,Ot)},$$slots:{default:!0}});var St=sibling(xt,2);{var At=Ct=>{var It=root_6$b(),Ot=first_child(It),Dt=child(Ot);SelectInput(Dt,{get options(){return get$2(ee)},get defaultValue(){return get$2(ne)},keyName:"keyType",$$events:{handleSelectLabel:lt}});var Mt=sibling(Ot,2);Mt.__click=[on_click$t,rt,k,T];var $t=child(Mt);{var Ht=jt=>{var Gt=root_7$6();set_attribute(Gt,"src",kejian),append(jt,Gt)},Ft=jt=>{var Gt=root_8$9();set_attribute(Gt,"src",yincang),append(jt,Gt)};if_block($t,jt=>{T.isShow?jt(Ht):jt(Ft,!1)})}append(Ct,It)};if_block(St,Ct=>{T.treeType!=="folder"&&Ct(At)})}template_effect(()=>{set_class(ft,1,`wrapper-label ${T.selected?"selected":"unselected"}`,"svelte-1igf7mq"),set_style(vt,`margin-left: ${12*T.level-1}px;`)}),append(ut,ft)};if_block(ht,ut=>{get$2(Z)?ut(dt):ut(ct,!1)})}template_effect(ut=>{set_class(ot,1,`wrapper-tree-item ${T.menuClass}`,"svelte-1igf7mq"),set_style(ot,get$2(nt)?"":"display:none"),set_attribute(ot,"data-treeid",ut)},[()=>JSON.stringify({treeId:T.treeId,treeType:T.treeType})]),append(Y,ot),pop()}delegate(["click","keydown"]);var on_click$s=(Y,T,k)=>T(get$2(k).action),root_6$a=template('<img alt="arrowRight" class="svelte-f6q5ct">'),root_5$d=template('<div class="menu-item svelte-f6q5ct"><p class="svelte-f6q5ct"> </p> <!></div>'),root_8$8=template('<div class="wrapper-dividing svelte-f6q5ct"></div>'),root_2$A=template('<div class="custom-context-menu svelte-f6q5ct"><!> <!></div>');function ContextMenu(Y,T){push(T,!0);const k=prop(T,"rightClickTriggerSelector",3,".context-menu-trigger-right");prop(T,"leftClickTriggerSelector",3,".context-menu-trigger-left");let Z=state(!1),ee=state(0),te=state(0),ne=state(proxy([])),me=state(0),Ve=state(void 0),Ye=proxy(T.MenuItemsArray);function et(ot){const ht=ot.target;(ht.matches(k())||ht.closest(k()))&&(set(Ve,proxy(JSON.parse(ht.closest(k()).dataset.treeid))),ot.preventDefault(),set(Z,!0),set(ee,proxy(ot.clientX)),set(te,proxy(ot.clientY)),get$2(ee)+150>window.innerWidth&&set(ee,window.innerWidth-150),get$2(te)+Ye.length*36>window.innerHeight&&set(te,window.innerHeight-Ye.length*36))}function tt(ot){ot.target.closest(".custom-context-menu")||set(Z,!1)}function it(ot){ot&&(ot(get$2(Ve)),set(Z,!1))}user_effect(()=>{get$2(Z),set(ne,proxy([]))});const st=(ot,ht)=>{const dt=ot.find(ct=>ct.key===get$2(ne)[ht]);return dt.children?dt.children:[]};document.addEventListener("contextmenu",et,!0),document.addEventListener("click",tt),onDestroy(()=>{document.removeEventListener("contextmenu",et),document.addEventListener("click",tt)});var nt=comment(),rt=first_child(nt);{var lt=ot=>{const ht=(dt,ct=noop$3,ut=noop$3,ft=noop$3)=>{var vt=root_2$A(),mt=child(vt);each(mt,17,ct,index,(Tt,xt)=>{var yt=comment(),St=first_child(yt);{var At=Ct=>{var It=comment(),Ot=first_child(It);{var Dt=$t=>{var Ht=root_5$d();Ht.__click=[on_click$s,it,xt];var Ft=child(Ht),jt=child(Ft),Gt=sibling(Ft,2);{var Kt=Pt=>{var kt=root_6$a();set_attribute(kt,"src",arrowRight),append(Pt,kt)};if_block(Gt,Pt=>{get$2(xt).children&&Pt(Kt)})}template_effect(()=>{set_attribute(Ht,"data-key",get$2(xt).key),set_text(jt,get$2(xt).label)}),event("mouseenter",Ht,Pt=>{ut()===0&&set(me,Pt.target.getBoundingClientRect().top-5);const kt=[...get$2(ne)];kt[ut()]=get$2(xt).key,set(ne,proxy(kt.slice(0,ut()+1)))}),append($t,Ht)},Mt=($t,Ht)=>{{var Ft=jt=>{var Gt=root_8$8();append(jt,Gt)};if_block($t,jt=>{get$2(xt).Dividing&&jt(Ft)},Ht)}};if_block(Ot,$t=>{get$2(xt).label?$t(Dt):$t(Mt,!1)})}append(Ct,It)};if_block(St,Ct=>{var It;(get$2(xt).permission===void 0||get$2(xt).permission===((It=get$2(Ve))==null?void 0:It.treeType))&&Ct(At)})}append(Tt,yt)});var _t=sibling(mt,2);{var Et=Tt=>{var xt=derived_safe_equal(()=>st(ct(),ut()));ht(Tt,()=>get$2(xt),()=>ut()+1,()=>get$2(me))};if_block(_t,Tt=>{get$2(ne)[ut()]&&st(ct(),ut()).length&&Tt(Et)})}template_effect(()=>set_style(vt,`left: ${get$2(ee)+150*ut()}px; top: ${ft()??""}px;`)),append(dt,vt)};ht(ot,()=>Ye,()=>0,()=>get$2(te))};if_block(rt,ot=>{get$2(Z)&&ot(lt)})}append(Y,nt),pop()}delegate(["click"]);var root_1$1r=template('<div class="wrapper svelte-14p1nnt"><div class="wrapper-tree svelte-14p1nnt"><!> <!></div></div>');function Variable(Y,T){push(T,!0),T.params;let k=state(proxy(treeNodeIdAndObj$1([]))),Z=state(proxy(childAndParentMap$1(treeNodeIdAndObj$1([])))),ee=state(proxy(new Set)),te=derived$1(()=>get$2(Z).size?(api$1.variable.setVariable(buildTreeFromMapsOnStructure(get$2(Z),get$2(k),"variable")[0]),customSort(get$2(Z),get$2(k),get$2(ee))):[]),ne=state(proxy({treeId:"",treeType:""})),me=state(proxy({treeId:"",treeType:""}));const Ve=Et=>{const Tt=get$2(k).get(Et.detail);if(!Tt)return;Tt.expanded=!Tt.expanded;let xt=[];get$2(Z).get(Et.detail)&&(xt=findAllChild(Et.detail,get$2(Z),get$2(k)));const yt=new Map;for(const St of xt){const At=get$2(k).get(St);yt.set(St,{...At})}for(const St of get$2(k).keys())yt.get(St)||yt.set(St,get$2(k).get(St));yt.set(Et.detail,{...Tt}),set(k,proxy(new Map(yt)))},Ye=Et=>{const Tt=new Set;get$2(ee).has(Et.detail)||Tt.add(Et.detail);const xt=get$2(k).get(Et.detail);Tt.size&&(xt==null?void 0:xt.treeType)==="file"?(_t(xt),mt({type:"file"})):(_t(void 0),mt(void 0)),Tt.size,set(ee,proxy(Tt))},et=()=>{set(k,proxy(treeNodeIdAndObj$1([api$1.variable.getVariable()],!0))),set(Z,proxy(childAndParentMap$1(get$2(k)))),set(ee,proxy(new Set))},tt=Et=>{set(ne,proxy(JSON.parse(Et.target.closest(".wrapper-tree-item").dataset.treeid)))},it=(Et,Tt,xt=!1)=>{const yt=new Map(get$2(Z)),St=new Map(get$2(k)),At=get$2(k).get(Et.treeId),Ct=At.parentId,It=get$2(k).get(Tt.treeId);if(!(At!=null&&At.treeDragAction))return!1;if(xt){if(It.treeType==="file"||isDraggedElementParentOfTargetById(get$2(ne).treeId,get$2(me).treeId,get$2(k)))return!1;St.set(At.treeId,{...At,parentId:It.treeId}),yt.set(At.parentId,yt.get(At.parentId).filter(Dt=>Dt!=At.treeId)),yt.get(It.treeId)?yt.set(It.treeId,[...yt.get(It.treeId),At.treeId]):yt.set(It.treeId,[At.treeId]),yt.get(Ct).length===0&&St.set(Ct,{...St.get(Ct)}),set(k,proxy(updateLevel(At.treeId,yt,St)))}else if(At.level===It.level&&At.parentId===It.parentId){const Ot=yt.get(At.parentId),Dt=Ot.findIndex($t=>At.treeId===$t),Mt=Ot.findIndex($t=>It.treeId===$t);[Ot[Dt],Ot[Mt]]=[Ot[Mt],Ot[Dt]],yt.set(At.parentId,[...Ot])}return set(Z,proxy(yt)),It.expanded||Ve({detail:It.treeId}),!0},st=Et=>{Et.preventDefault(),Et.stopPropagation(),Et.dataTransfer.dropEffect="move"},nt=Et=>{const Tt=Et.target.closest(".wrapper-tree-item");Tt&&(set(me,proxy(JSON.parse(Tt.dataset.treeid))),it(get$2(ne),get$2(me),!1))},rt=Et=>{const{layerType:Tt,treeId:xt}=Et.detail,yt=get$2(k).get(xt).parentId,St=get$2(Z).get(yt),At=St.findIndex(Ct=>Ct===xt);yt===xt||St.length<=1||Tt==="up"&&(At===0||!it({treeId:xt,treeType:get$2(k).get(xt).treeType},{treeId:St[At-1],treeType:get$2(k).get(St[At-1]).treeType}))||Tt==="down"&&(At===St.length||it({treeId:xt,treeType:get$2(k).get(xt).treeType},{treeId:St[At+1],treeType:get$2(k).get(St[At+1]).treeType}))},lt=(Et,Tt)=>{const xt=get$2(k).get(Et.treeId),yt=wrapTreeNodeData({...Tt,name:"",treeId:generateUniqueId$1(),editState:!0,dragAction:!0,varType:api$1.optionManager.containerOptions[0].varType,varDescription:"",keyType:api$1.optionManager.options[0].value,valueType:api$1.optionManager.options[0].value,description:"",id:generateUniqueId$1()},{...xt}),St=new Map(get$2(k)),At=new Map(get$2(Z));At.get(xt.treeId)||At.set(xt.treeId,[]),St.set(Et.treeId,{...xt,treeType:"folder",expanded:!0}),At.get(xt.treeId).push(yt.treeId),St.set(yt.treeId,yt),set(Z,proxy(At)),set(k,proxy(St))},ot=[{label:"New",key:"newVar",permission:"folder",action:Et=>{Et.treeType!=="file"&&lt(Et,{isShow:!1})}},{Dividing:!0,permission:"folder"},{label:"Delete",key:"delete",action:Et=>{get$2(k).get(Et.treeId).deletionProhibited||ht(Et.treeId)}}],ht=Et=>{const Tt=deletedTreeNode(Et,get$2(Z),get$2(k));set(Z,proxy(Tt.childAndParentMapState)),set(k,proxy(Tt.treeNodeIdAndObjMapState)),_t(void 0),mt(void 0)},dt=Et=>{const Tt=get$2(k).get(Et.detail.treeId);if(!checkDuplicateName(get$2(Z),get$2(k),Tt.treeId,Et.detail.newValue)){ct(Et),api$1.message.globalMessageNotice({type:"error",message:"åç§°éå¤"});return}const xt=new Map(get$2(k));if(xt.set(Et.detail.treeId,{...Tt,editState:!1,name:Et.detail.newValue,treeLabel:Et.detail.newValue}),xt.get(Tt.parentId).parentId==="root"){const yt=new Map(api$1.optionManager.getTypeOptionsMap()),St=get$2(Z).get(Tt.parentId).map(At=>{const Ct=xt.get(At),It={label:Ct.treeLabel,key:Ct.treeId,value:Ct.treeId,color:"white",varType:api$1.optionManager.containerOptions[0].varType};return yt.set(At,It),It});api$1.optionManager.setTypeOptionsMap(yt),vt([...api$1.optionManager.options,...St])}set(k,proxy(xt))},ct=Et=>{ht(Et.detail.treeId)},ut=Et=>{set(k,proxy(changeTreeNode(Et.detail.treeId,{isShow:Et.detail.showState},get$2(k))))},ft=Et=>{let Tt=get$2(k).get(Et.detail.treeId);const xt=Et.detail;get$2(k).set(Et.detail.treeId,{...Tt,keyType:xt.value}),get$2(ee).has(Tt.treeId)&&_t({...Tt,keyType:xt.value}),set(k,proxy(new Map(get$2(k))))},vt=Et=>{api$1.eventBus.emit("variable:notice:option",Et)},mt=Et=>{api$1.eventBus.emit("detail:change:type",Et)},_t=Et=>{api$1.eventBus.emit("detail:change:var",{where:"variable",...Et})};onMount(()=>{et(),T.api.onDidActiveChange(Et=>{set(ee,proxy(new Set)),mt(void 0),_t(void 0)}),api$1.eventBus.on("detail:notice:var",Et=>{if(Et.where==="variable"){const Tt=get$2(k).get(Et.treeId),xt=get$2(k).get(Tt.parentId),yt=new Map(get$2(k)),St=api$1.variable.findVariableDataMapByNameAndId(`${Et.data[0].defaultValue}_${xt.id}`);if(St&&Tt.id!==St.id){api$1.message.globalMessageNotice({type:"error",message:"åç§°éå¤"}),_t(Tt);return}yt.set(Et.treeId,{...Tt,name:Et.data[0].defaultValue,treeLabel:Et.data[0].defaultValue,description:Et.data[2].defaultValue,keyType:Et.data[1].keyType,valueType:Et.data[1].valueType,varType:Et.data[1].varType}),set(k,proxy(yt))}})}),RegionalDivision(Y,{get panelApi(){return T.api},children:(Et,Tt)=>{var xt=root_1$1r(),yt=child(xt),St=child(yt);each(St,17,()=>get$2(te),index,(Ct,It)=>{TreeNodeVar(Ct,spread_props(()=>get$2(It),{get treeNodeIdAndObjMapState(){return get$2(k)},menuClass:"rightClickMenuVariable",$$events:{changeLayer:rt,changeExpandedState:Ve,changeSelectedState:Ye,confirmEdit:dt,cancelEdit:ct,changeShowState:ut,handleChangeVar:ft}}))});var At=sibling(St,2);ContextMenu(At,{MenuItemsArray:ot,rightClickTriggerSelector:".rightClickMenuVariable"}),event("dragstart",yt,tt),event("dragover",yt,st),event("drop",yt,nt),append(Et,xt)},$$slots:{default:!0}}),pop()}var root_1$1q=template('<div class="wrapper svelte-14p1nnt"><div class="wrapper-tree svelte-14p1nnt"><!> <!></div></div>');function Structure(Y,T){push(T,!0),T.params;let k=state(proxy(treeNodeIdAndObj$1([]))),Z=state(proxy(childAndParentMap$1(treeNodeIdAndObj$1([])))),ee=state(proxy(new Set)),te=derived$1(()=>get$2(Z).size?(api$1.structure.setStructure(buildTreeFromMapsOnStructure(get$2(Z),get$2(k),"structure")[0]),api$1.optionManager.updateByStructure(),ct(),customSort(get$2(Z),get$2(k),get$2(ee))):[]),ne=state(proxy({treeId:"",treeType:""})),me=state(proxy({treeId:"",treeType:""}));const Ve=Tt=>{const xt=get$2(k).get(Tt.detail);if(!xt)return;xt.expanded=!xt.expanded;let yt=[];get$2(Z).get(Tt.detail)&&(yt=findAllChild(Tt.detail,get$2(Z),get$2(k)));const St=new Map;for(const At of yt){const Ct=get$2(k).get(At);St.set(At,{...Ct})}for(const At of get$2(k).keys())St.get(At)||St.set(At,get$2(k).get(At));St.set(Tt.detail,{...xt}),set(k,proxy(new Map(St)))},Ye=Tt=>{const xt=new Set;get$2(ee).has(Tt.detail)||xt.add(Tt.detail);const yt=get$2(k).get(Tt.detail);xt.size?(mt(),(yt==null?void 0:yt.treeType)==="file"&&Et(yt),yt!=null&&yt.level&&_t(StructureDataFunc(Tt.detail,get$2(Z),get$2(k)))):(Et(void 0),_t(void 0)),set(ee,proxy(xt))},et=()=>{set(k,proxy(treeNodeIdAndObj$1([api$1.structure.getStructure()],!0))),set(Z,proxy(childAndParentMap$1(get$2(k)))),set(ee,proxy(new Set))},tt=Tt=>{set(ne,proxy(JSON.parse(Tt.target.closest(".wrapper-tree-item").dataset.treeid)))},it=(Tt,xt,yt=!1)=>{const St=new Map(get$2(Z)),At=new Map(get$2(k)),Ct=get$2(k).get(Tt.treeId),It=Ct.parentId,Ot=get$2(k).get(xt.treeId);if(!(Ct!=null&&Ct.treeDragAction))return!1;if(yt){if(Ot.treeType==="file"||isDraggedElementParentOfTargetById(get$2(ne).treeId,get$2(me).treeId,get$2(k)))return!1;At.set(Ct.treeId,{...Ct,parentId:Ot.treeId}),St.set(Ct.parentId,St.get(Ct.parentId).filter(Mt=>Mt!=Ct.treeId)),St.get(Ot.treeId)?St.set(Ot.treeId,[...St.get(Ot.treeId),Ct.treeId]):St.set(Ot.treeId,[Ct.treeId]),St.get(It).length===0&&At.set(It,{...At.get(It)}),set(k,proxy(updateLevel(Ct.treeId,St,At)))}else if(Ct.level===Ot.level&&Ct.parentId===Ot.parentId){const Dt=St.get(Ct.parentId),Mt=Dt.findIndex(Ht=>Ct.treeId===Ht),$t=Dt.findIndex(Ht=>Ot.treeId===Ht);[Dt[Mt],Dt[$t]]=[Dt[$t],Dt[Mt]],St.set(Ct.parentId,[...Dt]),get$2(ee).has(Ct.parentId)&&_t(StructureDataFunc(Ct.parentId,St,At))}return set(Z,proxy(St)),Ot.expanded||Ve({detail:Ot.treeId}),!0},st=Tt=>{Tt.preventDefault(),Tt.stopPropagation(),Tt.dataTransfer.dropEffect="move"},nt=Tt=>{const xt=Tt.target.closest(".wrapper-tree-item");xt&&(set(me,proxy(JSON.parse(xt.dataset.treeid))),it(get$2(ne),get$2(me),!1))},rt=Tt=>{const{layerType:xt,treeId:yt}=Tt.detail,St=get$2(k).get(yt).parentId,At=get$2(Z).get(St),Ct=At.findIndex(It=>It===yt);St===yt||At.length<=1||xt==="up"&&(Ct===0||!it({treeId:yt,treeType:get$2(k).get(yt).treeType},{treeId:At[Ct-1],treeType:get$2(k).get(At[Ct-1]).treeType}))||xt==="down"&&(Ct===At.length||it({treeId:yt,treeType:get$2(k).get(yt).treeType},{treeId:At[Ct+1],treeType:get$2(k).get(At[Ct+1]).treeType}))},lt=(Tt,xt,yt=!0)=>{const St=get$2(k).get(Tt.treeId);let At="file";St.level===0&&(At="folder");const Ct=wrapTreeNodeData({name:"",treeId:generateUniqueId$1(),editState:yt,dragAction:!0,varType:api$1.optionManager.containerOptions[0].varType,varDescription:"",keyType:api$1.optionManager.options[0].value,valueType:api$1.optionManager.options[0].value,treeType:At,description:"",id:generateUniqueId$1(),...xt},{...St}),It=new Map(get$2(k)),Ot=new Map(get$2(Z));Ot.get(St.treeId)||Ot.set(St.treeId,[]),It.set(Tt.treeId,{...St,treeType:"folder",expanded:!0}),Ot.get(St.treeId).push(Ct.treeId),It.set(Ct.treeId,Ct),set(Z,proxy(Ot)),set(k,proxy(It))},ot=[{label:"New",key:"newVar",permission:"folder",action:Tt=>{lt(Tt,{isShow:!1})}},{Dividing:!0,permission:"folder"},{label:"Delete",key:"delete",action:Tt=>{get$2(k).get(Tt.treeId).deletionProhibited||ht(Tt.treeId)}}],ht=Tt=>{const xt=deletedTreeNode(Tt,get$2(Z),get$2(k));set(Z,proxy(xt.childAndParentMapState)),set(k,proxy(xt.treeNodeIdAndObjMapState)),Et(void 0),_t(void 0)},dt=Tt=>{const xt=get$2(k).get(Tt.detail.treeId);if(!checkDuplicateName(get$2(Z),get$2(k),xt.treeId,Tt.detail.newValue)){ut(Tt),api$1.message.globalMessageNotice({type:"error",message:"Duplicate Names"});return}const yt=new Map(get$2(k));yt.set(Tt.detail.treeId,{...xt,editState:!1,name:Tt.detail.newValue,treeLabel:Tt.detail.newValue}),set(k,proxy(yt)),get$2(ee).has(xt.parentId)&&get$2(k).get(xt.parentId).level&&_t(StructureDataFunc(xt.parentId,get$2(Z),get$2(k)))},ct=()=>{api$1.eventBus.emit("option:notice:change",{})},ut=Tt=>{ht(Tt.detail.treeId)},ft=Tt=>{set(k,proxy(changeTreeNode(Tt.detail.treeId,{isShow:Tt.detail.showState},get$2(k))))},vt=Tt=>{const xt=new Map(get$2(k));let yt=xt.get(Tt.detail.treeId);const St=Tt.detail;xt.set(Tt.detail.treeId,{...yt,keyType:St.value}),get$2(ee).has(yt.parentId)&&(Et({...yt,keyType:St.value}),_t({...StructureDataFunc(yt.parentId,get$2(Z),xt)})),set(k,proxy(xt))},mt=()=>{api$1.shortcut.register("shift+s",Tt=>{Tt.e.preventDefault(),Array.from(get$2(ee)).forEach(xt=>{const yt=get$2(te).findIndex(St=>St.treeId===xt);yt!==get$2(te).length-1?Ye({detail:get$2(te)[yt+1].treeId}):Ye({detail:get$2(te)[0].treeId})})}),api$1.shortcut.register("shift+w",Tt=>{Tt.e.preventDefault(),Array.from(get$2(ee)).forEach(xt=>{const yt=get$2(te).findIndex(St=>St.treeId===xt);Ye(yt!==0?{detail:get$2(te)[yt-1].treeId}:{detail:get$2(te)[get$2(te).length-1].treeId})})})};onMount(()=>{et(),T.api.onDidActiveChange(Tt=>{Tt.isActive,set(ee,proxy(new Set)),_t(void 0),Et(void 0)}),api$1.eventBus.on("structure:update:var",Tt=>{var St;const xt=Tt.children.filter(At=>At.treeId),yt=get$2(k).get(Tt.parentData.key);if(yt){if(Tt.operationType==="add"&&(Tt.children.filter(Ct=>!Ct.treeId).forEach(Ct=>{lt({treeId:yt.treeId},{keyType:Ct.keyType,valueType:Ct.valueType,varType:Ct.varType,name:Ct.inputValue,treeLabel:Ct.inputValue,isShow:!1},!1)}),_t(StructureDataFunc(yt.treeId,get$2(Z),get$2(k)))),Tt.operationType==="update"){const At=updateData({...yt,name:Tt.parentData.name,description:Tt.parentData.description},xt,get$2(k),get$2(Z));set(Z,proxy(At.tempChildAndParentMapState)),set(k,proxy(At.tempTreeNodeIdAndObjMapState))}if(Tt.operationType==="delete"){let At=new Map(get$2(Z)),Ct=new Map(get$2(k));(St=Tt.operationData)==null||St.forEach(It=>{const Ot=deletedTreeNode(It.treeId,At,Ct);At=Ot.childAndParentMapState,Ct=Ot.treeNodeIdAndObjMapState}),set(k,proxy(Ct)),set(Z,proxy(At)),_t(StructureDataFunc(yt.treeId,At,Ct))}}}),api$1.eventBus.on("detail:notice:var",Tt=>{if(Tt.where==="structure"){const xt=get$2(k).get(Tt.treeId),yt=get$2(k).get(xt.parentId),St=api$1.structure.findStructureDataMapByName(`${Tt.data[0].defaultValue}_${yt.id}`);if(St&&xt.id!==St.id){api$1.message.globalMessageNotice({type:"error",message:"Duplicate Names"}),Et(xt);return}const At=new Map(get$2(k));At.set(Tt.treeId,{...xt,name:Tt.data[0].defaultValue,treeLabel:Tt.data[0].defaultValue,description:Tt.data[2].defaultValue,keyType:Tt.data[1].keyType,valueType:Tt.data[1].valueType,varType:Tt.data[1].varType}),set(k,proxy(At))}})});const _t=Tt=>{api$1.eventBus.emit("detail:change:type",Tt)},Et=Tt=>{api$1.eventBus.emit("detail:change:var",{where:"structure",...Tt})};RegionalDivision(Y,{get panelApi(){return T.api},children:(Tt,xt)=>{var yt=root_1$1q(),St=child(yt),At=child(St);each(At,17,()=>get$2(te),index,(It,Ot)=>{TreeNodeVar(It,spread_props(()=>get$2(Ot),{get treeNodeIdAndObjMapState(){return get$2(k)},menuClass:"rightClickMenuStructure",$$events:{changeLayer:rt,changeExpandedState:Ve,changeSelectedState:Ye,confirmEdit:dt,cancelEdit:ut,changeShowState:ft,handleChangeVar:vt}}))});var Ct=sibling(At,2);ContextMenu(Ct,{MenuItemsArray:ot,rightClickTriggerSelector:".rightClickMenuStructure"}),event("dragstart",St,tt),event("dragover",St,st),event("drop",St,nt),append(Tt,yt)},$$slots:{default:!0}}),pop()}function triggerFileInput$1(Y,T){var k;(k=get$2(T))==null||k.click()}var root$25=template('<button><!></button> <input type="file" style="display: none;">',1);function FileUpLoad(Y,T){push(T,!0);let k=prop(T,"buttonClass",3,"border p-2 bg-blue-500 text-white rounded-full text-xs"),Z=prop(T,"suffix",3,".png, .jpg, .jpeg, .ttf, .otf, .svg"),ee=state(null);function te(et){const tt=et.target;tt.files&&tt.files.length>0&&T.uploadFile(tt.files),et.target.value=""}var ne=root$25(),me=first_child(ne);me.__click=[triggerFileInput$1,ee];var Ve=child(me);snippet(Ve,()=>T.children);var Ye=sibling(me,2);Ye.__change=te,bind_this(Ye,et=>set(ee,et),()=>get$2(ee)),template_effect(et=>{set_class(me,1,et,"svelte-1ecdg4t"),set_attribute(Ye,"accept",Z())},[()=>clsx(twMerge(k()))]),append(Y,ne),pop()}delegate(["click","change"]);function triggerFileInput(){var Y;(Y=document.getElementById("fileInput"))==null||Y.click()}var root$24=template('<button><!></button> <input id="fileInput" type="file" style="display: none;">',1);function XmlUpLoad(Y,T){push(T,!0);let k=prop(T,"buttonClass",3,"border p-2 bg-blue-500 text-white rounded-full text-xs"),Z=prop(T,"suffix",3,".xml"),ee=0;function te(et){const it=et.target.files;if(!it)return;const st=it[0],nt=new FileReader;nt.onload=rt=>{var ot;const lt=(ot=rt.target)==null?void 0:ot.result;if(T.handleFile)T.handleFile(lt,"import"+ee++);else debugger},nt.readAsText(st,"UTF-8")}var ne=root$24(),me=first_child(ne);me.__click=[triggerFileInput];var Ve=child(me);snippet(Ve,()=>T.children);var Ye=sibling(me,2);Ye.__change=te,template_effect(et=>{set_class(me,1,et,"svelte-13jfp0n"),set_attribute(Ye,"accept",Z())},[()=>clsx(twMerge(k()))]),append(Y,ne),pop()}delegate(["click","change"]);const baseURL$1=api$1.constant.https.baseURL,server=axios.create({baseURL:baseURL$1,timeout:3e4,headers:{"Content-Type":"application/json"}});function handleAnyError(Y,T){const k=Y;if(k&&k.isAxiosError){if(k.response)throw new Error(`${T??"Request"} failed: ${k.response.status} ${typeof k.response.data=="string"?k.response.data:JSON.stringify(k.response.data)}`);if(k.request)throw new Error(`${T??"Request"} failed: No response from server`)}throw Y instanceof Error?new Error(`${T??"Request"} failed: ${Y.message}`):new Error(`${T??"Request"} failed: Unknown error`)}async function compile(Y,T){try{return(await server.post("/compile",{project:Y,canvas:T})).status!==200?{type:"error",message:"Compile failed"}:{type:"success",message:"Compile success"}}catch(k){return console.error("Compile failed:",k),{type:"error",message:"Compile failed"}}}async function downloadFile(Y){try{const T=await server.get("/download",{responseType:"blob"}),k=new Blob([T.data]),Z=document.createElement("a");Z.href=URL.createObjectURL(k),Z.download="compile.zip",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(Z.href)}catch(T){handleAnyError(T,"downloadFile")}}var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(Y){return typeof Y=="string"?Y.length>0:typeof Y=="number"},n=function(Y,T,k){return T===void 0&&(T=0),k===void 0&&(k=Math.pow(10,T)),Math.round(k*Y)/k+0},e=function(Y,T,k){return T===void 0&&(T=0),k===void 0&&(k=1),Y>k?k:Y>T?Y:T},u=function(Y){return(Y=isFinite(Y)?Y%360:0)>0?Y:Y+360},a=function(Y){return{r:e(Y.r,0,255),g:e(Y.g,0,255),b:e(Y.b,0,255),a:e(Y.a)}},o=function(Y){return{r:n(Y.r),g:n(Y.g),b:n(Y.b),a:n(Y.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(Y){var T=Y.toString(16);return T.length<2?"0"+T:T},h$1=function(Y){var T=Y.r,k=Y.g,Z=Y.b,ee=Y.a,te=Math.max(T,k,Z),ne=te-Math.min(T,k,Z),me=ne?te===T?(k-Z)/ne:te===k?2+(Z-T)/ne:4+(T-k)/ne:0;return{h:60*(me<0?me+6:me),s:te?ne/te*100:0,v:te/255*100,a:ee}},b$1=function(Y){var T=Y.h,k=Y.s,Z=Y.v,ee=Y.a;T=T/360*6,k/=100,Z/=100;var te=Math.floor(T),ne=Z*(1-k),me=Z*(1-(T-te)*k),Ve=Z*(1-(1-T+te)*k),Ye=te%6;return{r:255*[Z,me,ne,ne,Ve,Z][Ye],g:255*[Ve,Z,Z,me,ne,ne][Ye],b:255*[ne,ne,Ve,Z,Z,me][Ye],a:ee}},g=function(Y){return{h:u(Y.h),s:e(Y.s,0,100),l:e(Y.l,0,100),a:e(Y.a)}},d$1=function(Y){return{h:n(Y.h),s:n(Y.s),l:n(Y.l),a:n(Y.a,3)}},f=function(Y){return b$1((k=(T=Y).s,{h:T.h,s:(k*=((Z=T.l)<50?Z:100-Z)/100)>0?2*k/(Z+k)*100:0,v:Z+k,a:T.a}));var T,k,Z},c=function(Y){return{h:(T=h$1(Y)).h,s:(ee=(200-(k=T.s))*(Z=T.v)/100)>0&&ee<200?k*Z/100/(ee<=100?ee:200-ee)*100:0,l:ee/2,a:T.a};var T,k,Z,ee},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(Y){var T=i.exec(Y);return T?(Y=T[1]).length<=4?{r:parseInt(Y[0]+Y[0],16),g:parseInt(Y[1]+Y[1],16),b:parseInt(Y[2]+Y[2],16),a:Y.length===4?n(parseInt(Y[3]+Y[3],16)/255,2):1}:Y.length===6||Y.length===8?{r:parseInt(Y.substr(0,2),16),g:parseInt(Y.substr(2,2),16),b:parseInt(Y.substr(4,2),16),a:Y.length===8?n(parseInt(Y.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(Y){var T=v$1.exec(Y)||m$1.exec(Y);return T?T[2]!==T[4]||T[4]!==T[6]?null:a({r:Number(T[1])/(T[2]?100/255:1),g:Number(T[3])/(T[4]?100/255:1),b:Number(T[5])/(T[6]?100/255:1),a:T[7]===void 0?1:Number(T[7])/(T[8]?100:1)}):null},"rgb"],[function(Y){var T=l.exec(Y)||p.exec(Y);if(!T)return null;var k,Z,ee=g({h:(k=T[1],Z=T[2],Z===void 0&&(Z="deg"),Number(k)*(r[Z]||1)),s:Number(T[3]),l:Number(T[4]),a:T[5]===void 0?1:Number(T[5])/(T[6]?100:1)});return f(ee)},"hsl"]],object:[[function(Y){var T=Y.r,k=Y.g,Z=Y.b,ee=Y.a,te=ee===void 0?1:ee;return t(T)&&t(k)&&t(Z)?a({r:Number(T),g:Number(k),b:Number(Z),a:Number(te)}):null},"rgb"],[function(Y){var T=Y.h,k=Y.s,Z=Y.l,ee=Y.a,te=ee===void 0?1:ee;if(!t(T)||!t(k)||!t(Z))return null;var ne=g({h:Number(T),s:Number(k),l:Number(Z),a:Number(te)});return f(ne)},"hsl"],[function(Y){var T=Y.h,k=Y.s,Z=Y.v,ee=Y.a,te=ee===void 0?1:ee;if(!t(T)||!t(k)||!t(Z))return null;var ne=function(me){return{h:u(me.h),s:e(me.s,0,100),v:e(me.v,0,100),a:e(me.a)}}({h:Number(T),s:Number(k),v:Number(Z),a:Number(te)});return b$1(ne)},"hsv"]]},N$1=function(Y,T){for(var k=0;k<T.length;k++){var Z=T[k][0](Y);if(Z)return[Z,T[k][1]]}return[null,void 0]},x=function(Y){return typeof Y=="string"?N$1(Y.trim(),y$1.string):typeof Y=="object"&&Y!==null?N$1(Y,y$1.object):[null,void 0]},M$1=function(Y,T){var k=c(Y);return{h:k.h,s:e(k.s+100*T,0,100),l:k.l,a:k.a}},H$1=function(Y){return(299*Y.r+587*Y.g+114*Y.b)/1e3/255},$$1=function(Y,T){var k=c(Y);return{h:k.h,s:k.s,l:e(k.l+100*T,0,100),a:k.a}},j$1=function(){function Y(T){this.parsed=x(T)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return Y.prototype.isValid=function(){return this.parsed!==null},Y.prototype.brightness=function(){return n(H$1(this.rgba),2)},Y.prototype.isDark=function(){return H$1(this.rgba)<.5},Y.prototype.isLight=function(){return H$1(this.rgba)>=.5},Y.prototype.toHex=function(){return T=o(this.rgba),k=T.r,Z=T.g,ee=T.b,ne=(te=T.a)<1?s(n(255*te)):"","#"+s(k)+s(Z)+s(ee)+ne;var T,k,Z,ee,te,ne},Y.prototype.toRgb=function(){return o(this.rgba)},Y.prototype.toRgbString=function(){return T=o(this.rgba),k=T.r,Z=T.g,ee=T.b,(te=T.a)<1?"rgba("+k+", "+Z+", "+ee+", "+te+")":"rgb("+k+", "+Z+", "+ee+")";var T,k,Z,ee,te},Y.prototype.toHsl=function(){return d$1(c(this.rgba))},Y.prototype.toHslString=function(){return T=d$1(c(this.rgba)),k=T.h,Z=T.s,ee=T.l,(te=T.a)<1?"hsla("+k+", "+Z+"%, "+ee+"%, "+te+")":"hsl("+k+", "+Z+"%, "+ee+"%)";var T,k,Z,ee,te},Y.prototype.toHsv=function(){return T=h$1(this.rgba),{h:n(T.h),s:n(T.s),v:n(T.v),a:n(T.a,3)};var T},Y.prototype.invert=function(){return w$1({r:255-(T=this.rgba).r,g:255-T.g,b:255-T.b,a:T.a});var T},Y.prototype.saturate=function(T){return T===void 0&&(T=.1),w$1(M$1(this.rgba,T))},Y.prototype.desaturate=function(T){return T===void 0&&(T=.1),w$1(M$1(this.rgba,-T))},Y.prototype.grayscale=function(){return w$1(M$1(this.rgba,-1))},Y.prototype.lighten=function(T){return T===void 0&&(T=.1),w$1($$1(this.rgba,T))},Y.prototype.darken=function(T){return T===void 0&&(T=.1),w$1($$1(this.rgba,-T))},Y.prototype.rotate=function(T){return T===void 0&&(T=15),this.hue(this.hue()+T)},Y.prototype.alpha=function(T){return typeof T=="number"?w$1({r:(k=this.rgba).r,g:k.g,b:k.b,a:T}):n(this.rgba.a,3);var k},Y.prototype.hue=function(T){var k=c(this.rgba);return typeof T=="number"?w$1({h:T,s:k.s,l:k.l,a:k.a}):n(k.h)},Y.prototype.isEqual=function(T){return this.toHex()===w$1(T).toHex()},Y}(),w$1=function(Y){return Y instanceof j$1?Y:new j$1(Y)};function keyHandler(Y,T,k,Z,ee,te,ne){var Ve;const me=Y.shiftKey?get$2(T)*10:get$2(T);Y.key==="ArrowUp"||Y.key==="ArrowRight"?(k(k()+me),Y.preventDefault()):Y.key==="ArrowDown"||Y.key==="ArrowLeft"?(k(k()-me),Y.preventDefault()):Y.key==="Home"?(k(get$2(Z)),Y.preventDefault()):Y.key==="End"?(k(get$2(ee)),Y.preventDefault()):Y.key==="PageUp"?(k(k()+get$2(T)*10),Y.preventDefault()):Y.key==="PageDown"&&(k(k()-get$2(T)*10),Y.preventDefault()),k(te(k())),(Ve=ne.onInput)==null||Ve.call(ne,k())}var root_1$1p=template('<input type="hidden">'),root$23=template('<div role="slider" tabindex="0"><div class="track svelte-12s920r"></div> <div class="thumb svelte-12s920r"></div></div> <!>',1);function Slider$1(Y,T){push(T,!0);let k=prop(T,"min",3,0),Z=prop(T,"max",3,100),ee=prop(T,"step",3,1),te=prop(T,"value",15,50),ne=prop(T,"ariaValueText",3,yt=>yt.toString()),me=prop(T,"direction",3,"horizontal"),Ve=prop(T,"reverse",3,!1),Ye=prop(T,"keyboardOnly",3,!1),et=prop(T,"slider",7),tt=prop(T,"isDragging",7,!1);const it=derived$1(()=>typeof k()=="string"?parseFloat(k()):k()),st=derived$1(()=>typeof Z()=="string"?parseFloat(Z()):Z()),nt=derived$1(()=>typeof ee()=="string"?parseFloat(ee()):ee());function rt(yt){const St=1/get$2(nt),At=Math.round(yt*St)/St;return Math.max(get$2(it),Math.min(get$2(st),At))}const lt={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function ot(yt){var It,Ot,Dt;const St=((It=et())==null?void 0:It[lt[me()].clientSize])||120,At=((Ot=et())==null?void 0:Ot.getBoundingClientRect()[lt[me()].offset])||0;let Ct=yt[lt[me()].client]-At;me()==="vertical"&&(Ct=-1*Ct+St),Ve()?te(get$2(st)-Ct/St*(get$2(st)-get$2(it))):te(Ct/St*(get$2(st)-get$2(it))+get$2(it)),te(rt(te())),(Dt=T.onInput)==null||Dt.call(T,te())}function ht(yt){ot(yt),tt(!0)}function dt(yt){tt()&&ot(yt)}function ct(){tt(!1)}function ut(yt){yt.preventDefault(),ot({clientX:yt.changedTouches[0].clientX,clientY:yt.changedTouches[0].clientY})}const ft=derived$1(()=>((te()-get$2(it))/(get$2(st)-get$2(it))*1).toFixed(4));var vt=root$23();event("mousemove",$window,dt),event("mouseup",$window,ct);var mt=first_child(vt);let _t;mt.__keydown=[keyHandler,nt,te,it,st,rt,T],mt.__mousedown=function(...yt){var St;(St=Ye()?void 0:ht)==null||St.apply(this,yt)},mt.__touchstart=function(...yt){var St;(St=Ye()?void 0:ut)==null||St.apply(this,yt)},mt.__touchmove=function(...yt){var St;(St=Ye()?void 0:ut)==null||St.apply(this,yt)},mt.__touchend=function(...yt){var St;(St=Ye()?void 0:ut)==null||St.apply(this,yt)};let Et;bind_this(mt,yt=>et(yt),()=>et());var Tt=sibling(mt,2);{var xt=yt=>{var St=root_1$1p();template_effect(()=>{set_attribute(St,"name",T.name),set_value(St,te())}),append(yt,St)};if_block(Tt,yt=>{T.name&&yt(xt)})}template_effect((yt,St)=>{_t=set_class(mt,1,"slider svelte-12s920r",null,_t,yt),set_attribute(mt,"aria-orientation",me()),set_attribute(mt,"aria-valuemax",get$2(st)),set_attribute(mt,"aria-valuemin",get$2(it)),set_attribute(mt,"aria-valuenow",te()),set_attribute(mt,"aria-valuetext",St),set_attribute(mt,"aria-label",T.ariaLabel),set_attribute(mt,"aria-labelledby",T.ariaLabelledBy),set_attribute(mt,"aria-controls",T.ariaControls),Et=set_style(mt,"",Et,{"--position":get$2(ft)})},[()=>({reverse:Ve()}),()=>ne()(te())]),append(Y,vt),pop()}delegate(["keydown","mousedown","touchstart","touchmove","touchend"]);function touch(Y,T){Y.preventDefault(),T(Y.changedTouches[0])}var root$22=template('<div class="picker svelte-10mzbkq"><!> <div class="s svelte-10mzbkq"><!></div> <div class="v svelte-10mzbkq"><!></div></div>');function Picker(Y,T){push(T,!0);let k=prop(T,"s",15),Z=prop(T,"v",15),ee=state(void 0),te=!1,ne=state(proxy({x:100,y:0})),me=derived$1(()=>w$1({h:T.h,s:100,v:100,a:1}).toHex());function Ve(vt,mt,_t){return Math.min(Math.max(mt,vt),_t)}function Ye(vt){if(!get$2(ee))return;const{width:mt,left:_t,height:Et,top:Tt}=get$2(ee).getBoundingClientRect(),xt={x:Ve(vt.clientX-_t,0,mt),y:Ve(vt.clientY-Tt,0,Et)};k(Ve(xt.x/mt,0,1)*100),Z(Ve((Et-xt.y)/Et,0,1)*100),st()}function et(vt){vt.preventDefault(),vt.button===0&&(te=!0,Ye(vt))}function tt(){te=!1}function it(vt){te&&Ye(vt)}user_effect(()=>{typeof k()=="number"&&typeof Z()=="number"&&get$2(ee)&&set(ne,proxy({x:k(),y:100-Z()}))});function st(vt={}){T.onInput({s:k(),v:Z(),...vt})}var nt=root$22();event("mouseup",$window,tt),event("mousemove",$window,it),nt.__mousedown=et,nt.__touchstart=[touch,Ye],nt.__touchmove=[touch,Ye],nt.__touchend=[touch,Ye];let rt;var lt=child(nt);component(lt,()=>T.components.pickerIndicator,(vt,mt)=>{mt(vt,{get pos(){return get$2(ne)},get isDark(){return T.isDark}})});var ot=sibling(lt,2);let ht;var dt=child(ot);Slider$1(dt,{get value(){return k()},onInput:vt=>st({s:vt}),keyboardOnly:!0,ariaValueText:vt=>`${vt}%`,get ariaLabel(){return T.texts.label.s}});var ct=sibling(ot,2);let ut;var ft=child(ct);Slider$1(ft,{get value(){return Z()},onInput:vt=>st({v:vt}),keyboardOnly:!0,ariaValueText:vt=>`${vt}%`,direction:"vertical",get ariaLabel(){return T.texts.label.v}}),bind_this(nt,vt=>set(ee,vt),()=>get$2(ee)),template_effect(()=>{rt=set_style(nt,"",rt,{"--picker-color-bg":get$2(me)}),ht=set_style(ot,"",ht,{"--pos-y":get$2(ne).y}),ut=set_style(ct,"",ut,{"--pos-x":get$2(ne).x})}),append(Y,nt),pop()}delegate(["mousedown","touchstart","touchmove","touchend"]);var root$21=template('<div class="picker-indicator svelte-vi4gk6"></div>');function PickerIndicator(Y,T){push(T,!0);var k=root$21();let Z;template_effect(()=>Z=set_style(k,"",Z,{"--pos-x":T.pos.x,"--pos-y":T.pos.y})),append(Y,k),pop()}function updateHex(Y,T,k,Z){const ee=Y.target;T.test(ee.value)&&(k(ee.value),Z.onInput({hex:k()}))}var root_1$1o=template('<input class="svelte-tas097">'),root_3$z=template('<input type="number" min="0" max="255" class="svelte-tas097"> <input type="number" min="0" max="255" class="svelte-tas097"> <input type="number" min="0" max="255" class="svelte-tas097">',1),root_4$m=template('<input type="number" min="0" max="360" class="svelte-tas097"> <input type="number" min="0" max="100" class="svelte-tas097"> <input type="number" min="0" max="100" class="svelte-tas097">',1),root_5$c=template('<input type="number" min="0" max="1" step="0.01" class="svelte-tas097">'),on_click$r=(Y,T,k)=>set(T,proxy(get$2(k))),root_6$9=template('<div class="wrapper-buttons svelte-tas097"><button type="button" class="svelte-tas097"><span class="disappear svelte-tas097" aria-hidden="true"> </span> <span class="appear svelte-tas097"> </span></button> <button class="button-icon svelte-tas097" aria-label="triggerColorPicker"><span></span></button></div>'),root_7$5=template('<div class="button-like svelte-tas097"> </div>'),root$20=template('<div class="text-input svelte-tas097"><div class="input-container svelte-tas097"><!> <!></div> <!></div>');function TextInput(Y,T){push(T,!0);let k=prop(T,"rgb",15),Z=prop(T,"hsv",15),ee=prop(T,"hex",15);const te=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;let ne=state(proxy(T.textInputModes[0]||"hex")),me=derived$1(()=>T.textInputModes[(T.textInputModes.indexOf(get$2(ne))+1)%T.textInputModes.length]),Ve=derived$1(()=>Math.round(Z().h)),Ye=derived$1(()=>Math.round(Z().s)),et=derived$1(()=>Math.round(Z().v)),tt=derived$1(()=>Z().a===void 0?1:Math.round(Z().a*100)/100);function it(mt){return function(_t){let Et=parseFloat(_t.target.value);isNaN(Et)&&(Et=0),k({...k(),[mt]:Et}),T.onInput({rgb:k()})}}function st(mt){return function(_t){let Et=parseFloat(_t.target.value);isNaN(Et)&&(Et=0),Z({...Z(),[mt]:Et}),T.onInput({hsv:Z()})}}var nt=root$20(),rt=child(nt),lt=child(rt);{var ot=mt=>{var _t=root_1$1o();_t.__input=[updateHex,te,ee,T],set_style(_t,"",{},{flex:3}),template_effect(()=>{set_attribute(_t,"aria-label",T.texts.label.hex),set_value(_t,ee())}),append(mt,_t)},ht=(mt,_t)=>{{var Et=xt=>{var yt=root_3$z(),St=first_child(yt),At=derived$1(()=>it("r"));St.__input=function(...Mt){var $t;($t=get$2(At))==null||$t.apply(this,Mt)};var Ct=sibling(St,2),It=derived$1(()=>it("g"));Ct.__input=function(...Mt){var $t;($t=get$2(It))==null||$t.apply(this,Mt)};var Ot=sibling(Ct,2),Dt=derived$1(()=>it("b"));Ot.__input=function(...Mt){var $t;($t=get$2(Dt))==null||$t.apply(this,Mt)},template_effect(()=>{set_attribute(St,"aria-label",T.texts.label.r),set_value(St,k().r),set_attribute(Ct,"aria-label",T.texts.label.g),set_value(Ct,k().g),set_attribute(Ot,"aria-label",T.texts.label.b),set_value(Ot,k().b)}),append(xt,yt)},Tt=xt=>{var yt=root_4$m(),St=first_child(yt),At=derived$1(()=>st("h"));St.__input=function(...Mt){var $t;($t=get$2(At))==null||$t.apply(this,Mt)};var Ct=sibling(St,2),It=derived$1(()=>st("s"));Ct.__input=function(...Mt){var $t;($t=get$2(It))==null||$t.apply(this,Mt)};var Ot=sibling(Ct,2),Dt=derived$1(()=>st("v"));Ot.__input=function(...Mt){var $t;($t=get$2(Dt))==null||$t.apply(this,Mt)},template_effect(()=>{set_attribute(St,"aria-label",T.texts.label.h),set_value(St,get$2(Ve)),set_attribute(Ct,"aria-label",T.texts.label.s),set_value(Ct,get$2(Ye)),set_attribute(Ot,"aria-label",T.texts.label.v),set_value(Ot,get$2(et))}),append(xt,yt)};if_block(mt,xt=>{get$2(ne)==="rgb"?xt(Et):xt(Tt,!1)},_t)}};if_block(lt,mt=>{get$2(ne)==="hex"?mt(ot):mt(ht,!1)})}var dt=sibling(lt,2);{var ct=mt=>{var _t=root_5$c(),Et=derived$1(()=>get$2(ne)==="hsv"?st("a"):it("a"));_t.__input=function(...Tt){var xt;(xt=get$2(Et))==null||xt.apply(this,Tt)},template_effect(()=>{set_attribute(_t,"aria-label",T.texts.label.a),set_value(_t,get$2(tt))}),append(mt,_t)};if_block(dt,mt=>{T.isAlpha&&mt(ct)})}var ut=sibling(rt,2);{var ft=mt=>{var _t=root_6$9(),Et=child(_t);Et.__click=[on_click$r,ne,me];var Tt=child(Et),xt=child(Tt),yt=sibling(Tt,2),St=child(yt),At=sibling(Et,2),Ct=derived$1(()=>getContext("triggerColorPicker"));At.__click=function(...Ot){var Dt;(Dt=get$2(Ct))==null||Dt.apply(this,Ot)};var It=child(At);set_class(It,1,"iconItem iconfont icon-sip-line","svelte-tas097"),template_effect(()=>{set_text(xt,T.texts.color[get$2(ne)]),set_text(St,`${T.texts.changeTo??""} ${T.texts.color[get$2(me)]??""}`)}),append(mt,_t)},vt=mt=>{var _t=root_7$5(),Et=child(_t);template_effect(()=>set_text(Et,T.texts.color[get$2(ne)])),append(mt,_t)};if_block(ut,mt=>{T.textInputModes.length>1?mt(ft):mt(vt,!1)})}append(Y,nt),pop()}delegate(["input","click"]);function preventDefault(Y){Y.preventDefault()}var root$1$=template('<label class="svelte-15ns2n5"><div class="container svelte-15ns2n5"><input type="color" aria-haspopup="dialog" class="svelte-15ns2n5"> <div class="alpha svelte-15ns2n5"></div> <div class="color svelte-15ns2n5"></div></div> </label>');function Input(Y,T){push(T,!0);let k=prop(T,"labelElement",15),Z=prop(T,"name",3,void 0);var ee=root$1$();ee.__click=[preventDefault],ee.__mousedown=[preventDefault];var te=child(ee),ne=child(te);ne.__click=[preventDefault],ne.__mousedown=[preventDefault];var me=sibling(ne,4);let Ve;var Ye=sibling(te);bind_this(ee,et=>k(et),()=>k()),template_effect(()=>{set_attribute(ee,"dir",T.dir),set_attribute(ne,"name",Z()),set_value(ne,T.hex),Ve=set_style(me,"",Ve,{background:T.hex}),set_text(Ye,` ${T.label??""}`),ee.dir=ee.dir}),append(Y,ee),pop()}delegate(["click","mousedown"]);var root$1_=template('<div aria-label="color picker"><!></div>');function Wrapper(Y,T){push(T,!0);let k=prop(T,"wrapper",15);var Z=root$1_();let ee;var te=child(Z);snippet(te,()=>T.children),bind_this(Z,ne=>k(ne),()=>k()),template_effect(ne=>{ee=set_class(Z,1,"wrapper svelte-q4e9sa",null,ee,ne),set_attribute(Z,"role",T.isDialog?"dialog":void 0)},[()=>({"is-open":T.isOpen})]),append(Y,Z),pop()}const defaultTexts={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "};var root$1Z=template('<label class="nullability-checkbox svelte-pt866j"><div class="svelte-pt866j"><input type="checkbox" class="svelte-pt866j"> <span class="svelte-pt866j"></span></div> </label>');function NullabilityCheckbox(Y,T){push(T,!0);let k=prop(T,"isUndefined",15);var Z=root$1Z(),ee=child(Z),te=child(ee),ne=sibling(ee);template_effect(()=>set_text(ne,` ${T.texts.label.withoutColor??""}`)),bind_checked(te,k),append(Y,Z),pop()}var root_2$z=template('<input type="hidden">'),root_7$4=template('<div class="a svelte-1eggrhi"><!></div>'),root_5$b=template('<!> <!> <div class="h svelte-1eggrhi"><!></div> <!>',1),root$1Y=template("<span><!> <!> <!> <!></span>");function ColorPicker$1(Y,T){push(T,!0);let k=prop(T,"components",19,()=>({}));prop(T,"label",3,"Choose a color");let Z=prop(T,"name",3,void 0),ee=prop(T,"nullable",3,!1),te=prop(T,"rgb",31,()=>proxy(ee()?null:{r:255,g:0,b:0,a:1})),ne=prop(T,"hsv",31,()=>proxy(ee()?null:{h:0,s:100,v:100,a:1})),me=prop(T,"hex",31,()=>proxy(ee()?null:"#ff0000")),Ve=prop(T,"color",15,null),Ye=prop(T,"isDark",15,!1),et=prop(T,"isAlpha",3,!0),tt=prop(T,"isDialog",3,!0),it=prop(T,"isOpen",31,()=>proxy(tt())),st=prop(T,"position",3,"responsive");prop(T,"dir",3,"ltr");let nt=prop(T,"isTextInput",3,!0),rt=prop(T,"textInputModes",19,()=>["hex","rgb","hsv"]),lt=prop(T,"sliderDirection",3,"vertical");prop(T,"disableCloseClickOutside",3,!1);let ot=prop(T,"a11yColors",19,()=>[{bgHex:"#ffffff"}]),ht=prop(T,"a11yLevel",3,"AA"),dt=prop(T,"texts",3,void 0),ct=prop(T,"a11yTexts",3,void 0),ut=state(proxy({r:255,g:0,b:0,a:1})),ft=state(proxy({h:0,s:100,v:100,a:1})),vt=state("#ff0000"),mt=state(!1),_t=state(proxy(get$2(mt))),Et=state(void 0),Tt=state(void 0),xt=state(1080),yt=state(720);const St={pickerIndicator:PickerIndicator,textInput:TextInput,input:Input,nullabilityCheckbox:NullabilityCheckbox,wrapper:Wrapper};function At(){return{...St,...k()}}function Ct(){var Zt,Jt,ti;return{label:{...defaultTexts.label,...(Zt=dt())==null?void 0:Zt.label},color:{...defaultTexts.color,...(Jt=dt())==null?void 0:Jt.color},changeTo:((ti=dt())==null?void 0:ti.changeTo)??defaultTexts.changeTo}}function It({key:Zt,target:Jt}){}function Ot(){return!(ne()&&te()&&ne().h===get$2(ft).h&&ne().s===get$2(ft).s&&ne().v===get$2(ft).v&&ne().a===get$2(ft).a&&te().r===get$2(ut).r&&te().g===get$2(ut).g&&te().b===get$2(ut).b&&te().a===get$2(ut).a&&me()===get$2(vt))}function Dt(){var Zt,Jt,ti,di,Qt,Si;if(get$2(mt)&&!get$2(_t)){set(_t,!0),ne(null),te(null),me(null),(Zt=T.onInput)==null||Zt.call(T,{color:Ve(),hsv:ne(),rgb:te(),hex:me()});return}else if(get$2(_t)&&!get$2(mt)){set(_t,!1),ne(snapshot(get$2(ft))),te(snapshot(get$2(ut))),me(snapshot(get$2(vt))),(Jt=T.onInput)==null||Jt.call(T,{color:Ve(),hsv:ne(),rgb:te(),hex:me()});return}else if(!ne()&&!te()&&!me()){set(mt,proxy(set(_t,!0))),(ti=T.onInput)==null||ti.call(T,{color:null,hsv:ne(),rgb:te(),hex:me()});return}else if(!Ot())return;set(mt,!1),ne()&&ne().a===void 0&&ne({...ne(),a:1}),get$2(ft).a===void 0&&set(ft,proxy({...get$2(ft),a:1})),te()&&te().a===void 0&&te({...te(),a:1}),get$2(ut).a===void 0&&set(ut,proxy({...get$2(ut),a:1})),((di=me())==null?void 0:di.substring(7))==="ff"&&me(me().substring(0,7)),((Qt=get$2(vt))==null?void 0:Qt.substring(7))==="ff"&&set(vt,proxy(get$2(vt).substring(0,7))),ne()&&(ne().h!==get$2(ft).h||ne().s!==get$2(ft).s||ne().v!==get$2(ft).v||ne().a!==get$2(ft).a||!te()&&!me())?(Ve(w$1(ne())),te(Ve().toRgb()),me(Ve().toHex())):te()&&(te().r!==get$2(ut).r||te().g!==get$2(ut).g||te().b!==get$2(ut).b||te().a!==get$2(ut).a||!ne()&&!me())?(Ve(w$1(te())),me(Ve().toHex()),ne(Ve().toHsv())):me()&&(me()!==get$2(vt)||!ne()&&!te())&&(Ve(w$1(me())),te(Ve().toRgb()),ne(Ve().toHsv())),Ve()&&Ye(Ve().isDark()),!(!me()||!ne()||!te())&&(set(ft,proxy(snapshot(ne()))),set(ut,proxy(snapshot(te()))),set(vt,proxy(me())),set(_t,proxy(get$2(mt))),(Si=T.onInput)==null||Si.call(T,{color:Ve(),hsv:ne(),rgb:te(),hex:me()}))}user_effect(()=>{(ne()||te()||me())&&Dt()}),user_effect(()=>{get$2(mt),Dt()});function Mt(Zt){return Jt=>{ne()||(set(mt,!1),set(_t,!1),ne(snapshot(get$2(ft)))),ne({...ne(),[Zt]:Jt})}}function $t(Zt){return Jt=>{ne()||(set(mt,!1),set(_t,!1),ne(snapshot(get$2(ft)))),ne({...ne(),...Object.fromEntries(Zt.map(ti=>[ti,Jt[ti]]))})}}async function Ht(){await tick(),st()==="fixed"||!it()||tt()}user_effect(()=>{get$2(xt)&&get$2(yt)&&it()&&Ht()});const Ft=derived$1(At);var jt=root$1Y();event("keyup",$window,It),event("scroll",$window,Ht);var Gt=child(jt);{var Kt=Zt=>{},Pt=(Zt,Jt)=>{{var ti=di=>{var Qt=root_2$z();template_effect(()=>{set_value(Qt,me()),set_attribute(Qt,"name",Z())}),append(di,Qt)};if_block(Zt,di=>{Z()&&di(ti)},Jt)}};if_block(Gt,Zt=>{tt()?Zt(Kt):Zt(Pt,!1)})}var kt=sibling(Gt,2);{var zt=Zt=>{var Jt=comment(),ti=first_child(Jt);const di=derived$1(()=>me()??get$2(vt)),Qt=derived$1(()=>te()??get$2(ut)),Si=derived$1(()=>ne()??get$2(ft)),Ti=derived$1(Ct);component(ti,()=>get$2(Ft).textInput,(Ri,ki)=>{ki(Ri,{get hex(){return get$2(di)},get rgb(){return get$2(Qt)},get hsv(){return get$2(Si)},onInput:Bt=>{Bt.hsv?ne(Bt.hsv):Bt.rgb?te(Bt.rgb):Bt.hex&&me(Bt.hex)},get isAlpha(){return et()},get textInputModes(){return rt()},get texts(){return get$2(Ti)}})}),append(Zt,Jt)};if_block(kt,Zt=>{nt()&&Zt(zt)})}var Wt=sibling(kt,2);{var si=Zt=>{var Jt=comment(),ti=first_child(Jt);const di=derived$1(At),Qt=derived$1(()=>me()||"#00000000");component(ti,()=>get$2(Ft).a11yNotice,(Si,Ti)=>{Ti(Si,{get components(){return get$2(di)},get a11yColors(){return ot()},get hex(){return get$2(Qt)},get a11yTexts(){return ct()},get a11yLevel(){return ht()}})}),append(Zt,Jt)};if_block(Wt,Zt=>{At().a11yNotice&&Zt(si)})}var ei=sibling(Wt,2);component(ei,()=>get$2(Ft).wrapper,(Zt,Jt)=>{Jt(Zt,{get isOpen(){return it()},get isDialog(){return tt()},get wrapper(){return get$2(Tt)},set wrapper(ti){set(Tt,proxy(ti))},children:(ti,di)=>{var Qt=root_5$b(),Si=first_child(Qt);{var Ti=fi=>{var Li=comment(),Hi=first_child(Li);const ji=derived$1(Ct);component(Hi,()=>get$2(Ft).nullabilityCheckbox,(Mi,zi)=>{zi(Mi,{get texts(){return get$2(ji)},get isUndefined(){return get$2(mt)},set isUndefined($i){set(mt,proxy($i))}})}),append(fi,Li)};if_block(Si,fi=>{ee()&&fi(Ti)})}var Ri=sibling(Si,2);const ki=derived$1(At),Bt=derived$1(()=>{var fi;return((fi=ne())==null?void 0:fi.h)??get$2(ft).h}),ai=derived$1(()=>{var fi;return((fi=ne())==null?void 0:fi.s)??get$2(ft).s}),ci=derived$1(()=>{var fi;return((fi=ne())==null?void 0:fi.v)??get$2(ft).v}),yi=derived$1(()=>$t(["s","v"])),Ci=derived$1(Ct);Picker(Ri,{get components(){return get$2(ki)},get h(){return get$2(Bt)},get s(){return get$2(ai)},get v(){return get$2(ci)},get onInput(){return get$2(yi)},get isDark(){return Ye()},get texts(){return get$2(Ci)}});var Vi=sibling(Ri,2),ii=child(Vi);const ui=derived$1(()=>{var fi;return((fi=ne())==null?void 0:fi.h)??get$2(ft).h}),hi=derived$1(()=>Mt("h")),ri=derived$1(()=>lt()==="vertical");Slider$1(ii,{min:0,max:360,step:1,get value(){return get$2(ui)},get onInput(){return get$2(hi)},get direction(){return lt()},get reverse(){return get$2(ri)},get ariaLabel(){return Ct().label.h}});var bi=sibling(Vi,2);{var gi=fi=>{var Li=root_7$4();let Hi;var ji=child(Li);const Mi=derived$1(()=>{var Oi;return((Oi=ne())==null?void 0:Oi.a)??get$2(ft).a}),zi=derived$1(()=>Mt("a")),$i=derived$1(()=>lt()==="vertical");Slider$1(ji,{min:0,max:1,step:.01,get value(){return get$2(Mi)},get onInput(){return get$2(zi)},get direction(){return lt()},get reverse(){return get$2($i)},get ariaLabel(){return Ct().label.a}}),template_effect(Oi=>Hi=set_style(Li,"",Hi,{"--alphaless-color":Oi}),[()=>(me()?me():get$2(vt)).substring(0,7)]),append(fi,Li)};if_block(bi,fi=>{et()&&fi(gi)})}append(ti,Qt)},$$slots:{default:!0}})}),bind_this(jt,Zt=>set(Et,Zt),()=>get$2(Et)),template_effect(()=>set_class(jt,1,`color-picker ${lt()??""}`,"svelte-1eggrhi")),bind_window_size("innerWidth",Zt=>set(xt,proxy(Zt))),bind_window_size("innerHeight",Zt=>set(yt,proxy(Zt))),append(Y,jt),pop()}const mouseDown=(Y,T,k,Z,ee,te,ne)=>{set(T,!0),document.body.style.userSelect="none",document.body.style.cursor="pointer";const me={x:Y.clientX,y:Y.clientY,top:get$2(k),left:get$2(Z)},Ve=et=>{set(k,proxy(ee(et.clientY-me.y+me.top,get$2(te).min,get$2(te).max))),set(Z,proxy(ee(et.clientX-me.x+me.left,get$2(ne).min,get$2(ne).max)))},Ye=et=>{window.removeEventListener("mousemove",Ve),window.removeEventListener("mouseup",Ye),document.body.style.userSelect="",document.body.style.cursor="",set(T,!1)};window.addEventListener("mousemove",Ve),window.addEventListener("mouseup",Ye)};var on_click$q=(Y,T)=>{set(T,!get$2(T))},on_click_1$a=Y=>{Y.preventDefault(),Y.stopPropagation()},on_click_2$4=(Y,T,k)=>{T(get$2(k))},root_3$y=template('<button class="preset-colors-item svelte-cgy6c4"></button>'),root_1$1n=template('<div class="wrapper svelte-cgy6c4"><button class="color-drag svelte-cgy6c4" aria-label="drag"></button> <div class="wrapper-color-picker svelte-cgy6c4"><!></div> <div class="preset-colors svelte-cgy6c4"></div></div>'),root$1X=template('<span class="wrapper-show svelte-cgy6c4"><button class="wrapper-title svelte-cgy6c4" aria-label="color button"></button> <!></span>');function MCXAColorPicker(Y,T){push(T,!0);let k=prop(T,"color",15,"#ffffff"),Z=prop(T,"top",3,0),ee=prop(T,"left",3,0),te=prop(T,"disabled",3,!1),ne=prop(T,"onChange",3,()=>{}),me=state(proxy(Z())),Ve=state(proxy(ee())),Ye=state(void 0),et=state(!1),tt=state(proxy({max:0,min:0})),it=state(proxy({max:0,min:0})),st=state(void 0),nt=state(!1);async function rt(){if("EyeDropper"in window){const mt=new EyeDropper;try{const _t=await mt.open();k(_t.sRGBHex)}catch(_t){console.error("ç¨æ·åæ¶éæ©æåçéè¯¯",_t)}}else console.log("æµè§å¨ä¸æ¯æ EyeDropper API")}let lt=proxy(["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f"]);const ot=mt=>{var _t,Et;(_t=get$2(Ye))!=null&&_t.contains(mt.target)||(Et=get$2(Ye))!=null&&Et.isSameNode(mt.target)||set(et,!1)};function ht(mt,_t,Et){return Math.min(Math.max(_t,mt),Et)}const dt=()=>{if(get$2(st)){const mt=document.body.getBoundingClientRect(),_t=get$2(st).getBoundingClientRect();set(tt,proxy({min:0,max:mt.right-_t.width})),set(it,proxy({min:0,max:mt.bottom-_t.height})),set(me,proxy(ht(get$2(me),get$2(it).min,get$2(it).max))),set(Ve,proxy(ht(get$2(Ve),get$2(tt).min,get$2(tt).max)))}};onMount(()=>{if(setContext("triggerColorPicker",rt),window.addEventListener("resize",dt),get$2(st)){const mt=document.body.getBoundingClientRect(),_t=get$2(st).getBoundingClientRect();set(tt,proxy({min:0,max:mt.right-_t.width})),set(it,proxy({min:0,max:mt.bottom-_t.height})),set(me,proxy(ht(Z(),get$2(it).min,get$2(it).max))),set(Ve,proxy(ht(ee(),get$2(tt).min,get$2(tt).max)))}window.addEventListener("click",ot)}),user_effect(()=>{get$2(et)&&requestAnimationFrame(()=>{if(dt(),get$2(Ye)){const mt=get$2(Ye).getBoundingClientRect();set(Ve,proxy(mt.left)),set(me,proxy(mt.bottom))}})}),onDestroy(()=>{window.removeEventListener("click",ot)});var ct=root$1X(),ut=child(ct);ut.__click=[on_click$q,et];var ft=sibling(ut,2);{var vt=mt=>{var _t=root_1$1n();_t.__click=[on_click_1$a];var Et=child(_t);Et.__mousedown=[mouseDown,nt,me,Ve,ht,it,tt];var Tt=sibling(Et,2),xt=child(Tt);ColorPicker$1(xt,{isDialog:!1,isDark:!1,onInput:St=>{ne()(St)},get hex(){return k()},set hex(St){k(St)}});var yt=sibling(Tt,2);each(yt,21,()=>lt,index,(St,At)=>{Tooltip(St,{get title(){return get$2(At)},height:"20px",children:(Ct,It)=>{var Ot=root_3$y();Ot.__click=[on_click_2$4,k,At],template_effect(()=>{set_attribute(Ot,"aria-label",get$2(At)),set_style(Ot,`background-color: ${get$2(At)??""};`)}),append(Ct,Ot)},$$slots:{default:!0}})}),bind_this(_t,St=>set(st,St),()=>get$2(st)),template_effect(()=>set_style(_t,`top:${get$2(me)??""}px;left:${get$2(Ve)??""}px`)),append(mt,_t)};if_block(ft,mt=>{get$2(et)&&mt(vt)})}bind_this(ct,mt=>set(Ye,mt),()=>get$2(Ye)),template_effect(()=>{ut.disabled=te(),set_style(ut,`background-color: ${k()??""};`)}),append(Y,ct),pop()}delegate(["click","mousedown"]);var on_change=(Y,T,k,Z)=>{var ee;T(Y.currentTarget.value),(ee=k.onChange)==null||ee.call(k,Y.currentTarget.value,get$2(Z).name)},root_10$4=template('<div class="flex items-center"><input type="radio" name="radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"> <label class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"> </label></div>');function PropertyInput(Y,T){push(T,!0);let k=prop(T,"value",15),Z=prop(T,"type",3,"string"),ee=prop(T,"options",19,()=>[]),te=prop(T,"size",3,"sm"),ne=prop(T,"disabled",3,!1),me=rest_props(T,["$$slots","$$events","$$legacy","label","value","type","options","onChange","valid","size","multiChild","disabled"]),Ve=state(proxy(k())),Ye=state("default");function et(lt,ot){var dt,ct;let ht=!0;if((Z()==="number"||Z()=="float"||Z()=="unsigned")&&(lt=Z()==="number"||Z()=="unsigned"?parseInt(lt):parseFloat(lt),isNaN(lt)&&(lt=(Z()==="float",0)),ht=((dt=T.valid)==null?void 0:dt.call(T,lt))??!0,Z()==="unsigned"&&lt<0&&(ht=!1,lt=Math.max(0,lt),set(Ve,proxy(lt)),k(lt))),!ht){set(Ye,"red");return}set(Ve,proxy(lt)),k(lt),set(Ye,"default"),(ct=T.onChange)==null||ct.call(T,lt,ot)}function tt(lt,ot){if(lt.key!=="Enter")return;lt.preventDefault();let ht=get$2(Ve);et(ht,ot)}var it=comment(),st=first_child(it);{var nt=lt=>{Select(lt,spread_props({get items(){return ee()},get disabled(){return ne()},get size(){return te()}},()=>me,{onchange:ot=>{var dt;let ht=ot.currentTarget.value;typeof k()=="number"&&(ht=parseInt(ht)),(dt=T.onChange)==null||dt.call(T,ht,T.label)},get value(){return k()},set value(ot){k(ot)}}))},rt=(lt,ot)=>{{var ht=ct=>{MultiSelect(ct,spread_props({get items(){return ee()},get size(){return te()}},()=>me,{get value(){return k()},set value(ft){k(ft)},children:(ft,vt)=>{let mt=()=>vt==null?void 0:vt().item,_t=()=>vt==null?void 0:vt().clear;var Et=comment(),Tt=first_child(Et);snippet(Tt,()=>T.multiChild??noop$3,()=>({item:mt(),clear:_t()})),append(ft,Et)},$$slots:{default:!0}}))},dt=(ct,ut)=>{{var ft=mt=>{Checkbox$1(mt,{onchange:_t=>{var Et;(Et=T.onChange)==null||Et.call(T,_t.currentTarget.checked,T.label)},get checked(){return k()},set checked(_t){k(_t)},children:(_t,Et)=>{var Tt=text$1();template_effect(()=>set_text(Tt,T.label)),append(_t,Tt)},$$slots:{default:!0}})},vt=(mt,_t)=>{{var Et=xt=>{var yt=comment(),St=first_child(yt);each(St,17,ee,index,(At,Ct,It)=>{var Ot=root_10$4(),Dt=child(Ot);set_attribute(Dt,"id",`radio-${It??""}`),Dt.__change=[on_change,k,T,Ct];var Mt=sibling(Dt,2);set_attribute(Mt,"for",`radio-${It??""}`);var $t=child(Mt);template_effect(()=>{set_value(Dt,get$2(Ct).value),set_text($t,get$2(Ct).name)}),append(At,Ot)}),append(xt,yt)},Tt=(xt,yt)=>{{var St=Ct=>{Textarea(Ct,spread_props({get disabled(){return ne()}},()=>me,{class:"w-full",onblur:It=>{let Ot=It.currentTarget.value;et(Ot,T.label)},get value(){return get$2(Ve)},set value(It){set(Ve,proxy(It))}}))},At=(Ct,It)=>{{var Ot=Mt=>{MCXAColorPicker(Mt,spread_props(()=>me,{get color(){return k()},set color($t){k($t)}}))},Dt=Mt=>{const $t=derived$1(()=>Z()==="string"?"text":"number");Input$1(Mt,spread_props({class:"text-black",get type(){return get$2($t)},get disabled(){return ne()},get color(){return get$2(Ye)}},()=>me,{onkeydown:Ht=>tt(Ht,T.label),onblur:Ht=>{let Ft=Ht.currentTarget.value;et(Ft,T.label)},get size(){return te()},get value(){return get$2(Ve)},set value(Ht){set(Ve,proxy(Ht))}}))};if_block(Ct,Mt=>{Z()==="color"?Mt(Ot):Mt(Dt,!1)},It)}};if_block(xt,Ct=>{Z()==="textarea"?Ct(St):Ct(At,!1)},yt)}};if_block(mt,xt=>{Z()==="radio"?xt(Et):xt(Tt,!1)},_t)}};if_block(ct,mt=>{Z()==="checkbox"?mt(ft):mt(vt,!1)},ut)}};if_block(lt,ct=>{Z()==="multi-option"?ct(ht):ct(dt,!1)},ot)}};if_block(st,lt=>{Z()==="option"?lt(nt):lt(rt,!1)})}append(Y,it),pop()}delegate(["change"]);var FileSaver_min$1={exports:{}},FileSaver_min=FileSaver_min$1.exports,hasRequiredFileSaver_min;function requireFileSaver_min(){return hasRequiredFileSaver_min||(hasRequiredFileSaver_min=1,function(Y,T){(function(k,Z){Z()})(FileSaver_min,function(){function k(Ye,et){return typeof et>"u"?et={autoBom:!1}:typeof et!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),et={autoBom:!et}),et.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ye.type)?new Blob(["\uFEFF",Ye],{type:Ye.type}):Ye}function Z(Ye,et,tt){var it=new XMLHttpRequest;it.open("GET",Ye),it.responseType="blob",it.onload=function(){Ve(it.response,et,tt)},it.onerror=function(){console.error("could not download file")},it.send()}function ee(Ye){var et=new XMLHttpRequest;et.open("HEAD",Ye,!1);try{et.send()}catch{}return 200<=et.status&&299>=et.status}function te(Ye){try{Ye.dispatchEvent(new MouseEvent("click"))}catch{var et=document.createEvent("MouseEvents");et.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ye.dispatchEvent(et)}}var ne=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,me=ne.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Ve=ne.saveAs||(typeof window!="object"||window!==ne?function(){}:"download"in HTMLAnchorElement.prototype&&!me?function(Ye,et,tt){var it=ne.URL||ne.webkitURL,st=document.createElement("a");et=et||Ye.name||"download",st.download=et,st.rel="noopener",typeof Ye=="string"?(st.href=Ye,st.origin===location.origin?te(st):ee(st.href)?Z(Ye,et,tt):te(st,st.target="_blank")):(st.href=it.createObjectURL(Ye),setTimeout(function(){it.revokeObjectURL(st.href)},4e4),setTimeout(function(){te(st)},0))}:"msSaveOrOpenBlob"in navigator?function(Ye,et,tt){if(et=et||Ye.name||"download",typeof Ye!="string")navigator.msSaveOrOpenBlob(k(Ye,tt),et);else if(ee(Ye))Z(Ye,et,tt);else{var it=document.createElement("a");it.href=Ye,it.target="_blank",setTimeout(function(){te(it)})}}:function(Ye,et,tt,it){if(it=it||open("","_blank"),it&&(it.document.title=it.document.body.innerText="downloading..."),typeof Ye=="string")return Z(Ye,et,tt);var st=Ye.type==="application/octet-stream",nt=/constructor/i.test(ne.HTMLElement)||ne.safari,rt=/CriOS\/[\d]+/.test(navigator.userAgent);if((rt||st&&nt||me)&&typeof FileReader<"u"){var lt=new FileReader;lt.onloadend=function(){var dt=lt.result;dt=rt?dt:dt.replace(/^data:[^;]*;/,"data:attachment/file;"),it?it.location.href=dt:location=dt,it=null},lt.readAsDataURL(Ye)}else{var ot=ne.URL||ne.webkitURL,ht=ot.createObjectURL(Ye);it?it.location=ht:location.href=ht,it=null,setTimeout(function(){ot.revokeObjectURL(ht)},4e4)}});ne.saveAs=Ve.saveAs=Ve,Y.exports=Ve})}(FileSaver_min$1)),FileSaver_min$1.exports}var FileSaver_minExports=requireFileSaver_min();function formatXml(Y){const T="  ",k=/(>)(<)(\/*)/g;let Z="",ee=0;return Y=Y.replace(k,`$1\r
$2$3`),Y.split(`\r
`).forEach(te=>{let ne=0;te.match(/.+<\/\w[^>]*>$/)?ne=0:te.match(/^<\/\w/)?ee!==0&&(ee-=1):te.match(/^<\w[^>]*[^\/]>.*$/)?ne=1:ne=0,Z+=T.repeat(ee)+te+`\r
`,ee+=ne}),Z}function createXmlDoc(Y="Page"){return new DOMParser().parseFromString(`<${Y}></${Y}>`,"application/xml")}function docToString(Y){return new XMLSerializer().serializeToString(Y)}function saveAsXML(Y,T="lvgl_object.xml"){const k=formatXml(Y),Z=new Blob([k],{type:"application/xml"});FileSaver_minExports.saveAs(Z,T)}function fontDataToXML(Y){const T=Y.createElement("Fonts");return fontsData.forEach(k=>{const Z=Y.createElement("Font");Z.setAttribute("name",k.fontName),Z.setAttribute("fontAssert",k.fontAssert),Z.setAttribute("size",k.fontSize.toString()),Z.setAttribute("letters",k.letters.join(",")),Z.setAttribute("range",k.range),Z.setAttribute("symbols",k.symbols),Z.setAttribute("custom",k.custom),T.appendChild(Z)}),T}function interfaceToNode(Y){const T=Y.createElement("Interface"),k=structAndVarRelationIntegrateModuleObj.getTreeFlattener().buildSourceTree(),Z=JSON.stringify(k),ee=Y.createElement("Content");return ee.innerHTML=Z,T.appendChild(ee),T}function exportProjectXML(Y){var Ye,et,tt,it;const T=createXmlDoc("Project"),k=T.documentElement,Z={width:((Ye=screenStore.curScreen)==null?void 0:Ye.width)||800,height:((et=screenStore.curScreen)==null?void 0:et.height)||600,name:((tt=screenStore.curScreen)==null?void 0:tt.name)||"lvgl_project"+Math.floor(Math.random()*100)};for(const st in Z)k.setAttribute(st,Z[st].toString());const ee=Object.keys(screenStore.screens),te=T.createElement("Info");if(ee.length>0){const st=T.createElement("CanvasList");ee.forEach(nt=>{const rt=screenStore.screens[nt],lt=T.createElement("Canvas");lt.setAttribute("id",rt.id),lt.setAttribute("name",rt.name),st.appendChild(lt)}),st.setAttribute("activeId",((it=screenStore.curScreen)==null?void 0:it.id)??""),te.appendChild(st)}k.appendChild(te);const ne=fontDataToXML(T);k.appendChild(ne);const me=interfaceToNode(T);k.appendChild(me);const Ve=formatXml(docToString(T));return Y&&saveAsXML(Ve,Y),Ve}const enc=new Codec;function xmlToCells(Y,T=[],k,Z,ee={}){if(T.length)for(let te=0;te<T.length;te++){const ne=T[te],me=ee.needId?ne.getAttribute("id"):" ",Ve=ne.getAttribute("type"),Ye=ne.querySelector("Children"),et=Ye?Ye.children:[],tt=ne.getElementsByTagName("Layout")[0];let it=0,st=0,nt=0,rt=0;ee.position?(it=ee.position.x,st=ee.position.y):tt&&(it=parseInt(tt.getAttribute("x")||"0"),st=parseInt(tt.getAttribute("y")||"0")),ee!=null&&ee.offset&&(it+=ee.offset.x,st+=ee.offset.y);const lt=parseInt(tt.getAttribute("width")||"0"),ot=parseInt(tt.getAttribute("height")||"0"),ht=Z??Y.getDefaultParent(),dt=Y.insertVertex(ht,me,null,it+nt,st+rt,lt,ot,{screen:k,shape:`lvgl_${Ve.toLowerCase()}`,node:ne,foldable:!1});et.length>0&&xmlToCells(Y,Array.from(et),k,dt,ee),Y.getSelectionModel().setCell(dt)}}function cellsToXML(Y,T,k,Z){for(const ee of k){const te=getShapeByCell(T.graph,ee);if(!te)continue;const ne=te.toXML(enc.document),me=ee.getChildCells(!0,!1);if(me.length){const Ve=enc.document.createElement("Children");cellsToXML(Ve,T,me),ne.appendChild(Ve)}Y.appendChild(ne)}}function exportXML(Y,T,k){const Z=Y.getChildVertices(Y.getDefaultParent()),ee=createXmlDoc("Page"),te=new Map;getVariableList(api$1.variable.getVariable().children).forEach(Ye=>{te.set(Ye.id,!1)}),T.shape&&ee.documentElement.appendChild(T.shape.toXML(ee)),cellsToXML(ee.documentElement,Y.getView(),Z);const me=ee.documentElement;me.setAttribute("name",T.name),me.setAttribute("id",T.id);const Ve=docToString(ee);return k&&saveAsXML(Ve),Ve}function varNodeToDes(Y){const T=Y.getAttribute("name")||"",k=Y.getAttribute("id")||"",Z=Y.getAttribute("valueType")||"string",ee=Y.getAttribute("keyType")||"string",te=Y.getAttribute("containerType")||api$1.optionManager.containerOptions[0].varType,ne=Y.getAttribute("description")??"";return{name:T,id:k,valueType:Z,keyType:ee,containerType:te,description:ne}}function parseInterface(Y){if(!Y||Y.tagName!=="Interface"){console.error("Invalid interface node");return}const T=[],k=[];Array.from(Y.children).forEach(te=>{te.tagName==="Variable"?T.push(te):te.tagName==="Structure"&&k.push(te)});const Z=T.map(te=>varNodeToDes(te)),ee=k.map(te=>{const ne=te.getAttribute("name"),me=te.getAttribute("id"),Ve=te.getAttribute("description")??"",Ye=Array.from(te.children).map(et=>varNodeToDes(et));return{name:ne,id:me,description:Ve,children:Ye}});setVariableList(Z),setStructureList(ee)}function importXML(Y,T,k,Z){const ne=new DOMParser().parseFromString(T,"text/xml").getElementsByTagName("Page")[0],me=Array.from(ne.querySelectorAll("Widget")??[]);xmlToCells(Y,me??[],k,null,Z);const Ve=ne.querySelector("Interface");parseInterface(Ve),Y.getChildCells(Y.getDefaultParent(),!0).forEach(et=>{const tt=getShapeByCell(Y,et);if(tt)for(const it of tt.events)it.initEventAction(st=>getShapeById(Y,st))})}async function fetchFiles(){try{const Y=await server.get("/files");if(Y.status!==200)throw new Error("Failed to fetch images");if(Asserts.data=Y.data,!Module.Images)return;for(const T of Asserts.data)if(T.type==="image"){if(Module.Images[T.name])continue;const k=new Image;k.src=baseURL$1+T.src,k.onload=()=>{Module.Images[T.name]=k},k.crossOrigin="anonymous"}else if(T.type==="binFont"){if(lvglBinFont[T.name])continue;const k=await server.get("/uploads/"+T.name,{responseType:"arraybuffer"});k.status===200?setTimeout(()=>{lvglBinFont[T.name]=Module.lv_binfont_create_from_buffer(k.data,0)}):new Error("Failed to load font:"+T.name)}}catch(Y){throw Y}}async function deleteFiles(Y){try{if((await server.post("/files/delete",{filename:Y})).status===200)await fetchFiles();else throw new Error("Failed to delete file: "+Y)}catch(T){handleAnyError(T,"deleteFiles")}}async function uploadFile$1(Y){const T=new FormData;for(let k=0;k<Y.length;k++){const Z=Y[k];if(!["png","jpeg","gif","jpg","ttf","otf","svg"].some(ne=>Z.name.endsWith(`.${ne}`))){console.error("Unsupported file type:",Z.name);continue}T.append("myFile",Z)}try{const k=await server.post("/upload",T,{headers:{"Content-Type":"multipart/form-data"}});if(k.status>=200&&k.status<300)await fetchFiles();else throw new Error(`Upload failed: ${k.status} ${k.statusText}`)}catch(k){handleAnyError(k,"uploadFile")}}var root_2$y=template('<button class="button-item svelte-1x5ib1v"> </button>'),root_4$l=template('<img class="w-full h-full object-cover">'),root_5$a=template('<p class="w-full h-full text-wrap break-all text-[14px]"><!></p>'),on_click$p=(Y,T)=>deleteFiles(get$2(T).name),root_8$7=template('<button class="w-8 h-8 absolute top-0 right-0 svelte-1x5ib1v"><span class="iconfont icon-close"></span></button>'),root_3$x=template('<div class="wrapper-image svelte-1x5ib1v" role="button" tabindex="0"><!> <!></div>'),root_11$3=template("<!> <!>",1),root_16$1=template("<!> <!>",1),root_14$2=template("<!> <!>",1),root_1$1m=template('<div class="wrapper svelte-1x5ib1v"><div class="wrapper-content svelte-1x5ib1v"><div class="wrapper-content-scroller svelte-1x5ib1v"></div></div> <div class="button-wrapper svelte-1x5ib1v"><p class="truncate text-sm text-gray-500 dark:text-gray-400 svelte-1x5ib1v">Copy your images into the assets folder in your project folder.</p> <div class="button-wrapper-content svelte-1x5ib1v"><!> <!> <!> <!> <!></div></div> <!></div>');function Assert(Y,T){push(T,!0);const k=new libExports.RpcProvider((ht,dt)=>window.postMessage(ht,"*",dt));window.addEventListener("message",ht=>{k.dispatch(ht.data)});let Z=state(""),ee=state(!1),te=state(""),ne=state(!1);const me=derived$1(()=>{const ht=screenStore.screens,dt=[];for(const ct in ht)dt.push({name:ht[ct].name,value:ht[ct].id});return dt});function Ve(ht){ht.stopPropagation(),set(ee,!0)}function Ye(){get$2(ne)?exportProjectXML("lvgl_project"):k.rpc("exportCanvas",{id:get$2(Z)}),set(ee,!1)}function et(ht){set(te,proxy(ht))}function tt(){set(te,"")}async function it(ht){try{await uploadFile$1(ht)}catch(dt){let ct="Unknown error";dt instanceof Error&&(ct=dt.message),api$1.message.globalMessageNotice({type:"error",message:ct});return}api$1.message.globalMessageNotice({type:"success",message:"Upload successful"})}function st(){const ht=[];for(const dt in screenStore.screens){const ct=screenStore.graphs[dt];if(ct){const ut=exportXML(ct,screenStore.screens[dt]);ht.push(ut)}}return ht}async function nt(){if(!screenStore.curGraph||!screenStore.curScreen){window.API.message.globalMessageNotice({type:"error",message:"No screen selected for compile"});return}const ht=window.API.popUp.getPopUp(window.API.constant.component.GLOBAL_LOAD);ht.changeSpinner({title:"Compiling..."});const dt=await compile(exportProjectXML(),st());window.API.message.globalMessageNotice({type:dt.type,message:dt.message}),ht.close()}function rt(){try{downloadFile()}catch(ht){console.error("Download failed",ht.message)}}let lt=0;function ot(ht,dt){api$1.eventBus.emit("importXML",{xmlContent:ht,title:"lvgl"+lt++})}RegionalDivision(Y,{get panelApi(){return T.api},children:(ht,dt)=>{var ct=root_1$1m();{const At=(Ct,It=noop$3,Ot=noop$3)=>{var Dt=root_2$y();Dt.__click=function(...$t){var Ht;(Ht=Ot())==null||Ht.apply(this,$t)};var Mt=child(Dt);template_effect(()=>set_text(Mt,It())),append(Ct,Dt)};var ut=child(ct),ft=child(ut);each(ft,21,()=>Asserts.data,index,(Ct,It)=>{var Ot=root_3$x(),Dt=child(Ot);{var Mt=jt=>{var Gt=root_4$l();template_effect(()=>{set_attribute(Gt,"src",baseURL$1+get$2(It).src),set_attribute(Gt,"alt",get$2(It).name)}),append(jt,Gt)},$t=jt=>{var Gt=root_5$a(),Kt=child(Gt);{var Pt=zt=>{var Wt=text$1();template_effect(()=>set_text(Wt,`${get$2(It).name??""}Font`)),append(zt,Wt)},kt=zt=>{var Wt=text$1();template_effect(()=>set_text(Wt,get$2(It).name)),append(zt,Wt)};if_block(Kt,zt=>{get$2(It).type==="binFont"?zt(Pt):zt(kt,!1)})}append(jt,Gt)};if_block(Dt,jt=>{get$2(It).type==="image"?jt(Mt):jt($t,!1)})}var Ht=sibling(Dt,2);{var Ft=jt=>{var Gt=root_8$7();Gt.__click=[on_click$p,It],append(jt,Gt)};if_block(Ht,jt=>{get$2(te)===get$2(It).name&&jt(Ft)})}event("mouseenter",Ot,()=>et(get$2(It).name)),event("mouseleave",Ot,()=>tt()),append(Ct,Ot)});var vt=sibling(ut,2),mt=sibling(child(vt),2),_t=child(mt);At(_t,()=>"EXPORT",()=>Ve);var Et=sibling(_t,2);At(Et,()=>"COMPILE",()=>Ct=>{nt()});var Tt=sibling(Et,2);At(Tt,()=>"DOWNLOAD",()=>Ct=>{rt()});var xt=sibling(Tt,2);XmlUpLoad(xt,{buttonClass:"button-item",handleFile:ot,children:(Ct,It)=>{var Ot=text$1("IMPORT");append(Ct,Ot)},$$slots:{default:!0}});var yt=sibling(xt,2);FileUpLoad(yt,{buttonClass:"button-item",uploadFile:it,children:(Ct,It)=>{var Ot=text$1("ADD FILE INTO ASSETS");append(Ct,Ot)},$$slots:{default:!0}});var St=sibling(vt,2);Modal(St,{title:"å¯¼åº",get modalStatus(){return get$2(ee)},closeModal:()=>set(ee,!1),footer:It=>{var Ot=root_11$3(),Dt=first_child(Ot);Button(Dt,{class:"bg-blue-500 text-white",onclick:Ye,children:($t,Ht)=>{var Ft=text$1("å¯¼åº");append($t,Ft)},$$slots:{default:!0}});var Mt=sibling(Dt,2);Button(Mt,{class:"bg-blue-500 text-white",onclick:()=>set(ee,!1),children:($t,Ht)=>{var Ft=text$1("å³é­");append($t,Ft)},$$slots:{default:!0}}),append(It,Ot)},children:(It,Ot)=>{var Dt=root_14$2(),Mt=first_child(Dt);PropertyInput(Mt,{label:"æ¯å¦å¯¼åºå·¥ç¨æä»¶",type:"checkbox",get value(){return get$2(ne)},set value(Ft){set(ne,proxy(Ft))}});var $t=sibling(Mt,2);{var Ht=Ft=>{Label$1(Ft,{children:(jt,Gt)=>{var Kt=root_16$1(),Pt=first_child(Kt);Span$1(Pt,{class:"text-black mb-4",children:(zt,Wt)=>{var si=text$1("éæ©å¯¼åºçç»å¸");append(zt,si)},$$slots:{default:!0}});var kt=sibling(Pt,2);Select(kt,{get items(){return get$2(me)},get value(){return get$2(Z)},set value(zt){set(Z,proxy(zt))}}),append(jt,Kt)},$$slots:{default:!0}})};if_block($t,Ft=>{get$2(ne)||Ft(Ht)})}append(It,Dt)},$$slots:{footer:!0,default:!0}})}append(ht,ct)},$$slots:{default:!0}}),pop()}delegate(["click"]);var root_1$1l=template("<div><!></div>"),root$1W=template("<!> <div><!></div>",1);function StaticAccordion(Y,T){const k=legacy_rest_props(T,["children","$$slots","$$events","$$legacy"]);push(T,!1);const Z=mutable_state();let ee=prop(T,"tag",8,"h2"),te=prop(T,"open",8,!1),ne=prop(T,"activeClass",8,void 0),me=prop(T,"inactiveClass",8,void 0),Ve=prop(T,"defaultClass",8,"rounded-none flex items-center w-full font-medium text-left border-gray-200 dark:border-gray-700"),Ye=prop(T,"paddingFlush",8,"py-5"),et=prop(T,"paddingDefault",8,"p-5"),tt=prop(T,"textFlushOpen",8,"text-gray-900 dark:text-white"),it=prop(T,"textFlushDefault",8,"text-gray-500 dark:text-gray-400"),st=prop(T,"borderClass",8,"border-s border-e group-first:border-t"),nt=prop(T,"borderOpenClass",8,"border-s border-e"),rt=prop(T,"borderBottomClass",8,"border-b"),lt=prop(T,"borderSharedClass",8,"border-gray-200 dark:border-gray-700"),ot=prop(T,"classActive",8,void 0),ht=prop(T,"classInactive",8,void 0),dt=twMerge(ne(),ot()),ct=twMerge(me(),ht());const ut=getContext("ctx")??{};let ft=mutable_state();legacy_pre_effect(()=>(deep_read_state(Ve()),deep_read_state(st()),deep_read_state(rt()),deep_read_state(lt()),deep_read_state(Ye()),deep_read_state(et()),deep_read_state(te()),deep_read_state(tt()),deep_read_state(it()),deep_read_state(k)),()=>{set(ft,twMerge([Ve(),ut.flush||st(),rt(),lt(),ut.flush?Ye():et(),te()&&(ut.flush?tt():dt||ut.activeClass),!te()&&(ut.flush?it():ct||ut.inactiveClass),k.class]))}),legacy_pre_effect(()=>(deep_read_state(Ye()),deep_read_state(et()),deep_read_state(nt()),deep_read_state(rt()),deep_read_state(lt())),()=>{set(Z,twMerge([ut.flush?Ye():et(),ut.flush?"":nt(),rt(),lt()]))}),legacy_pre_effect_reset(),init();var vt=root$1W(),mt=first_child(vt);element(mt,ee,!1,(Tt,xt)=>{set_class(Tt,0,"group");var yt=root_1$1l(),St=child(yt);slot(St,T,"header",{}),template_effect(()=>{set_class(yt,1,clsx(get$2(ft))),set_attribute(yt,"aria-expanded",te())}),append(xt,yt)});var _t=sibling(mt,2),Et=child(_t);slot(Et,T,"default",{}),template_effect(()=>set_class(_t,1,clsx(get$2(Z)))),append(Y,vt),pop()}var root_3$w=template("<span> </span>"),root_2$x=template("<!> <!>",1),root_6$8=template("<span> </span>"),root_5$9=template('<!> <div class="h-full w-full flex items-center gap-2 flex-wrap"><!></div>',1);function LabelInput(Y,T){push(T,!0);let k=prop(T,"value",15),Z=prop(T,"direction",3,"vertical"),ee=rest_props(T,["$$slots","$$events","$$legacy","label","onChange","value","options","type","direction"]);var te=comment(),ne=first_child(te);{var me=Ye=>{Label$1(Ye,{class:"flex-auto w-18 my-2 text-white",children:(et,tt)=>{var it=root_2$x(),st=first_child(it);{var nt=lt=>{var ot=root_3$w(),ht=child(ot);template_effect(()=>set_text(ht,T.label)),append(lt,ot)};if_block(st,lt=>{T.type!=="checkbox"&&T.label&&lt(nt)})}var rt=sibling(st,2);PropertyInput(rt,spread_props({get label(){return T.label},get type(){return T.type},get options(){return T.options},get onChange(){return T.onChange}},()=>ee,{get value(){return k()},set value(lt){k(lt)}})),append(et,it)},$$slots:{default:!0}})},Ve=Ye=>{Label$1(Ye,{class:"flex-auto w-18 my-2 text-white flex items-center gap-2 whitespace-nowrap",children:(et,tt)=>{var it=root_5$9(),st=first_child(it);{var nt=ot=>{var ht=root_6$8(),dt=child(ht);template_effect(()=>set_text(dt,T.label)),append(ot,ht)};if_block(st,ot=>{T.type!=="checkbox"&&T.label&&ot(nt)})}var rt=sibling(st,2),lt=child(rt);PropertyInput(lt,spread_props({get label(){return T.label},get type(){return T.type},get options(){return T.options},get onChange(){return T.onChange}},()=>ee,{get value(){return k()},set value(ot){k(ot)}})),append(et,it)},$$slots:{default:!0}})};if_block(ne,Ye=>{Z()==="vertical"?Ye(me):Ye(Ve,!1)})}append(Y,te),pop()}const fontNameSet=new Set,cKeywords=new Set(["auto","break","case","char","const","continue","default","do","double","else","enum","extern","float","for","goto","if","inline","int","long","register","restrict","return","short","signed","sizeof","static","struct","switch","typedef","union","unsigned","void","volatile","while","_Alignas","_Alignof","_Atomic","_Bool","_Complex","_Generic","_Imaginary","_Noreturn","_Static_assert","_Thread_local"]);function isValidCVariableName(Y){return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Y)&&!cKeywords.has(Y)}var root_1$1k=template(`<div class="pr-1"><!> <p class="text-right mt-4 text-xs text-gray-400">Copy your font file(.ttf.otf)to the project's asset folder</p> <!> <div class="flex items-center gap-2"><!> <!></div> <!> <!> <!> <!> <div class="text-center py-4 h-16"><!></div></div>`),root_15$2=template('<div slot="header" class="text-sm ffont-sans text-gray-300">CREATED FONTS</div>'),root_8$6=template("<!> <!>",1),root_5$8=template('<div class="relative h-[95vh] w-full"><!> <!> <div><div class="flex flex-col justify-center items-center gap-1"><!> <!></div></div></div>');function CreateNewFont(Y,T){push(T,!0);const k=(rt,lt=noop$3,ot=noop$3,ht=noop$3)=>{var dt=root_1$1k(),ct=child(dt);LabelInput(ct,{label:"Font name",type:"string",get value(){return lt().fontName},set value(At){lt().fontName=At}});var ut=sibling(ct,4);LabelInput(ut,{label:"Font asset",type:"option",get options(){return get$2(Ve)},get value(){return lt().fontAssert},set value(At){lt().fontAssert=At}});var ft=sibling(ut,2),vt=child(ft);LabelInput(vt,{label:"Font size",type:"number",get value(){return lt().fontSize},set value(At){lt().fontSize=At}});var mt=sibling(vt,2);LabelInput(mt,{label:"Bpp",type:"option",options:et,get value(){return lt().bpp},set value(At){lt().bpp=At}});var _t=sibling(ft,2);MultiSelect(_t,{items:Z,get value(){return lt().letters},set value(Ct){lt().letters=Ct},children:(Ct,It)=>{let Ot=()=>It==null?void 0:It().item,Dt=()=>It==null?void 0:It().clear;Badge(Ct,{get color(){return Ot().color},dismissable:!0,params:{duration:100},get onclose(){return Dt()},children:(Mt,$t)=>{var Ht=text$1();template_effect(()=>set_text(Ht,Ot().name)),append(Mt,Ht)},$$slots:{default:!0}})},$$slots:{default:!0}});var Et=sibling(_t,2);LabelInput(Et,{label:"Range",type:"textarea",row:2,get value(){return lt().range},set value(At){lt().range=At}});var Tt=sibling(Et,2);LabelInput(Tt,{label:"Symbols",type:"textarea",row:2,get value(){return lt().symbols},set value(At){lt().symbols=At}});var xt=sibling(Tt,2);LabelInput(xt,{label:"Custom",type:"textarea",row:2,get value(){return lt().custom},set value(At){lt().custom=At}});var yt=sibling(xt,2),St=child(yt);Button(St,{class:"rounded-full bg-sky-500/100 w-28 h-6 text-white hover:bg-sky-600 focus-within:outline-none",get onclick(){return ht()},children:(At,Ct)=>{var It=text$1();template_effect(()=>set_text(It,ot())),append(At,It)},$$slots:{default:!0}}),append(rt,dt)};let Z=[{value:"ASCII standard",name:"ASCII standard",color:"indigo"},{value:"Chinese",name:"Chinese",color:"green"},{value:"ASCII uppercase",name:"ASCII uppercase",color:"blue"},{value:"ASCII lowercase",name:"ASCII lowercase",color:"gray"},{value:"ASCII extended",name:"ASCII extended",color:"red"},{value:"Korean",name:"Korean",color:"yellow"},{value:"Japanese",name:"Japanese",color:"purple"},{value:"Cyrillic",name:"Cyrillic",color:"pink"},{value:"Arabic",name:"Arabic",color:"teal"},{value:"Hebrew",name:"Hebrew",color:"cyan"}],ee=["ASCII standard","Chinese"],te=state(!1),ne=state(""),me=proxy({fontName:"newroman",fontAssert:"",fontSize:12,bpp:2,letters:[...ee],range:"",symbols:"",custom:"",obj:null});const Ve=derived$1(()=>Asserts.data.filter(rt=>rt.type==="font").map(rt=>({value:rt.src,name:rt.name})));let Ye=state(!1);const et=[{value:1,name:"bpp1"},{value:2,name:"bpp2"},{value:4,name:"bpp4"},{value:8,name:"bpp8"}];function tt(rt){set(ne,proxy(rt||"")),set(te,!0),setTimeout(()=>{set(te,!1)},3e3)}async function it(rt=me){set(Ye,!0);try{let lt=await server.post("/convert/font",{size:rt.fontSize,bpp:me.bpp,format:"bin",letters:rt.letters.join(","),font:me.fontAssert,range:me.range,symbols:me.symbols,name:me.fontName},{responseType:"arraybuffer"});if(lt.status!=200)throw new Error("Failed to create font");const ot=rt.fontName+".bin";if(lvglBinFont[ot]=Module.lv_binfont_create_from_buffer(lt.data,0),lt=await server.get(`/uploads/${ot}`,{responseType:"arraybuffer"}),lt.status!=200)throw new Error("Failed to get font file");Asserts.data.push({name:ot,src:`/uploads/${ot}`,type:"binFont"})}catch(lt){throw set(te,!0),setTimeout(()=>{set(te,!1)},3e3),console.error("Error creating font:",lt),lt}finally{set(Ye,!1)}}function st(rt){it(rt)}async function nt(){if(me.fontAssert){if(me.letters.length===0&&me.range===""&&me.symbols===""){tt("range and symbols cannot be empty at the same time");return}}else{tt("Please select a font assert");return}if(!isValidCVariableName(me.fontName)){tt("Font name is not a valid C variable name");return}if(fontNameSet.has(me.fontName)){tt(`Font name ${me.fontName} already exists`);return}try{await it(),fontsData.push({...me}),fontNameSet.add(me.fontName)}catch(rt){rt instanceof Error?tt(rt.message):tt("Unknown error")}}RegionalDivision(Y,{get panelApi(){return T.api},children:(rt,lt)=>{var ot=root_5$8(),ht=child(ot);Alert(ht,{color:"red",get alertStatus(){return get$2(te)},class:"absolute top-5 w-[80%] left-1/2 -translate-x-1/2 z-10",icon:_t=>{InfoCircleSolid(_t,{class:"h-5 w-5"})},children:(_t,Et)=>{var Tt=text$1();template_effect(()=>set_text(Tt,get$2(ne))),append(_t,Tt)},$$slots:{icon:!0,default:!0}});var dt=sibling(ht,2);Scrollbar(dt,{height:"95vh",children:(mt,_t)=>{var Et=root_8$6(),Tt=first_child(Et);AccordionItem(Tt,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",arrowColor:"text-white",header:St=>{var At=text$1("CREATE NEW FONT");append(St,At)},children:(St,At)=>{k(St,()=>me,()=>"CREATE",()=>nt)},$$slots:{header:!0,default:!0}});var xt=sibling(Tt,2);StaticAccordion(xt,{paddingDefault:"p-1 pl-3",paddingFlush:"py-1",activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",borderClass:"",borderOpenClass:"",borderBottomClass:"",borderSharedClass:"",class:"bg-gray-800 mt-4",children:(yt,St)=>{var At=comment(),Ct=first_child(At);each(Ct,17,()=>fontsData,index,(It,Ot)=>{AccordionItem(It,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:Mt=>{var $t=text$1();template_effect(()=>set_text($t,get$2(Ot).fontName)),append(Mt,$t)},children:(Mt,$t)=>{k(Mt,()=>get$2(Ot),()=>"MODIFY",()=>()=>st(get$2(Ot)))},$$slots:{header:!0,default:!0}})}),append(yt,At)},$$slots:{default:!0,header:(yt,St)=>{var At=root_15$2();append(yt,At)}}}),append(mt,Et)},$$slots:{default:!0}});var ct=sibling(dt,2),ut=child(ct),ft=child(ut);Spinner$1(ft,{class:"w-12 h-12",color:"red"});var vt=sibling(ft,2);P$1(vt,{children:(mt,_t)=>{var Et=text$1("å­ä½çæä¸­...");append(mt,Et)},$$slots:{default:!0}}),template_effect(()=>set_class(ct,1,`h-full w-full absolute top-0 left-0 ${(get$2(Ye)?"flex":"hidden")??""} bg-gray-300 opacity-50 justify-center items-center`)),append(rt,ot)},$$slots:{default:!0}}),pop()}var root_3$v=template("<span>Satrt Value</span> <!>",1),root_4$k=template("<span>End Value</span> <!>",1),root_6$7=template("<span>Delay</span> <!>",1),root_7$3=template("<span>Time</span> <!>",1),root_9$2=template("<span>Playback Delay</span> <!>",1),root_10$3=template("<span>Playback Time</span> <!>",1),root_11$2=template("<span>Loop Delay</span> <!>",1),root_12$2=template("<span>Loop Count</span> <!>",1),root_2$w=template('<div class="flex"><!> <!> <div class="flex-none w-24"><!></div></div> <div class="flex"><!> <!> <div class="flex-none w-24"><!></div></div> <div class="flex"><!> <!> <div class="flex-none w-24"></div></div> <div class="flex"><!> <!> <div class="flex-none w-24"><!></div></div>',1);function AniProperty(Y,T){push(T,!0);const k=prop(T,"propertyName",3,"Move X"),Z=prop(T,"propertyData",7),ee=k();console.log(ee);let te=derived$1(()=>ee==="Position X"?"Move X":ee==="Position Y"?"Move Y":ee);AccordionItem(Y,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",isArrowShow:!1,header:me=>{var Ve=text$1();template_effect(()=>set_text(Ve,get$2(te))),append(me,Ve)},children:(me,Ve)=>{var Ye=root_2$w(),et=first_child(Ye),tt=child(et);Label$1(tt,{class:" flex-auto w-18 m-1 ",children:(xt,yt)=>{var St=root_3$v(),At=sibling(first_child(St),2);Input$1(At,{type:"number",id:"first_name",required:!0,size:"sm",get value(){return Z().startValue},set value(Ct){Z().startValue=Ct}}),append(xt,St)},$$slots:{default:!0}});var it=sibling(tt,2);Label$1(it,{class:" flex-auto w-18 m-1 ",children:(xt,yt)=>{var St=root_4$k(),At=sibling(first_child(St),2);Input$1(At,{type:"number",id:"first_name",required:!0,size:"sm",get value(){return Z().endValue},set value(Ct){Z().endValue=Ct}}),append(xt,St)},$$slots:{default:!0}});var st=sibling(it,2),nt=child(st);Checkbox$1(nt,{class:"flex-none  mx-2 mt-6",get checked(){return Z().isRelative},set checked(xt){Z().isRelative=xt},children:(xt,yt)=>{var St=text$1("Relative");append(xt,St)},$$slots:{default:!0}});var rt=sibling(et,2),lt=child(rt);Label$1(lt,{class:" flex-auto w-18 m-1 ",children:(xt,yt)=>{var St=root_6$7(),At=sibling(first_child(St),2);Input$1(At,{type:"number",required:!0,size:"sm",get value(){return Z().delay},set value(Ct){Z().delay=Ct}}),append(xt,St)},$$slots:{default:!0}});var ot=sibling(lt,2);Label$1(ot,{class:" flex-auto w-18 m-1 ",children:(xt,yt)=>{var St=root_7$3(),At=sibling(first_child(St),2);Input$1(At,{type:"number",required:!0,size:"sm",get value(){return Z().time},set value(Ct){Z().time=Ct}}),append(xt,St)},$$slots:{default:!0}});var ht=sibling(ot,2),dt=child(ht);Checkbox$1(dt,{class:"flex-none mx-2 mt-6",get checked(){return Z().isInstant},set checked(xt){Z().isInstant=xt},children:(xt,yt)=>{var St=text$1("Instant");append(xt,St)},$$slots:{default:!0}});var ct=sibling(rt,2),ut=child(ct);Label$1(ut,{class:" flex-auto w-18 m-1 ",children:(xt,yt)=>{var St=root_9$2(),At=sibling(first_child(St),2);Input$1(At,{type:"number",required:!0,size:"sm",get value(){return Z().playbackDelay},set value(Ct){Z().playbackDelay=Ct}}),append(xt,St)},$$slots:{default:!0}});var ft=sibling(ut,2);Label$1(ft,{class:" flex-auto w-18 m-1 ",children:(xt,yt)=>{var St=root_10$3(),At=sibling(first_child(St),2);Input$1(At,{type:"number",required:!0,size:"sm",get value(){return Z().playbackTime},set value(Ct){Z().playbackTime=Ct}}),append(xt,St)},$$slots:{default:!0}});var vt=sibling(ct,2),mt=child(vt);Label$1(mt,{class:" flex-auto w-18 m-1 ",children:(xt,yt)=>{var St=root_11$2(),At=sibling(first_child(St),2);Input$1(At,{type:"number",required:!0,size:"sm",get value(){return Z().loopDelay},set value(Ct){Z().loopDelay=Ct}}),append(xt,St)},$$slots:{default:!0}});var _t=sibling(mt,2);Label$1(_t,{class:" flex-auto w-18 m-1 ",children:(xt,yt)=>{var St=root_12$2(),At=sibling(first_child(St),2);Input$1(At,{type:"number",required:!0,size:"sm",get value(){return Z().loopCnt},set value(Ct){Z().loopCnt=Ct}}),append(xt,St)},$$slots:{default:!0}});var Et=sibling(_t,2),Tt=child(Et);Checkbox$1(Tt,{class:"flex-none mx-2 mt-6",get checked(){return Z().isInfinite},set checked(xt){Z().isInfinite=xt},children:(xt,yt)=>{var St=text$1("Infinite");append(xt,St)},$$slots:{default:!0}}),append(me,Ye)},$$slots:{header:!0,default:!0}}),pop()}const animationsStore=proxy({animations:{},cnt:0});function play(Y,T,k,Z){T.rpc("playAni",{aniName:get$2(k),targetId:get$2(Z)})}var root_4$j=template("Select Animation <!>",1),root_5$7=template("<span>Animation name</span> <!>",1),root_6$6=template("<p>RENAME</p>"),root_7$2=template("Target Object <!>",1),root_8$5=template('<div class=" items-center relative"><div class="ml-4"><!></div> <button type="button" class="absolute justify-center top-0.5 right-0.5 bg-transparent text-white rounded"><!></button></div>'),root_3$u=template('<div class="flex"><!> <div class="flex m-4">â<button type="button" class="flex"><!></button>â</div> <button type="button" class="flex-none mr-4"><!></button></div> <div class="flex pt-2"><!> <div class="text-center py-4 h-14"><!></div></div> <!> <!> <hr class="mt-4 mb-2"> <div class="flex"><!> <!></div>',1);function ManageAnimation(Y,T){push(T,!0);const k=new libExports.RpcProvider((rt,lt)=>window.postMessage(rt,"*",lt??[]));window.addEventListener("message",({data:rt})=>{k.dispatch(rt)});const Z={targetId:"",name:"",id:genRandomStr(8),startValue:0,endValue:255,delay:0,time:2e3,playbackDelay:0,playbackTime:0,loopDelay:0,loopCnt:10,isInfinite:!1,isRelative:!1,isInstant:!1,curve:0},ee=[{value:0,name:"Position X"},{value:1,name:"Position Y"},{value:2,name:"Width"},{value:3,name:"Height"},{value:4,name:"Color"},{value:5,name:"Opacity"},{value:6,name:"Rotation"},{value:7,name:"Scale X"},{value:8,name:"Scale Y"}];let te=state(""),ne=state(""),me=state("");const Ve=derived$1(()=>widgetTreeToArray(widgetStores.widgets).map(rt=>({name:rt.name,value:rt.id}))),Ye=derived$1(()=>{animationsStore.cnt;const rt=[];for(const lt of Object.keys(animationsStore.animations))lt&&rt.push({name:lt,value:lt});return rt}),et=derived$1(()=>get$2(te)?ee[get$2(it)].name:""),tt=derived$1(()=>{const rt=animationsStore.animations[get$2(te)];return rt?rt.properties:[]});let it=state(0);function st(){if(!get$2(te))return;const rt={...Z};rt.name=get$2(et),rt.id=genRandomStr(6),rt.targetId=get$2(me),animationsStore.animations[get$2(te)].properties.push(rt),k.rpc("addAniProperty",{animationName:get$2(te),property:rt,targetId:get$2(me),propertyType:get$2(it)})}function nt(){if(!get$2(te)||get$2(ne).trim()===get$2(te).trim())return;const rt=animationsStore.animations[get$2(te)];rt&&(delete animationsStore.animations[get$2(te)],animationsStore.cnt--,animationsStore.animations[get$2(ne).trim()]=rt,animationsStore.cnt++,set(te,proxy(get$2(ne).trim())))}Scrollbar(Y,{height:"95vh",children:(rt,lt)=>{AccordionItem(rt,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",open:!0,header:ht=>{var dt=text$1("MANAGE ANIMATION");append(ht,dt)},children:(ht,dt)=>{var ct=root_3$u(),ut=first_child(ct),ft=child(ut);Label$1(ft,{class:"flex-auto ",children:($t,Ht)=>{var Ft=root_4$j(),jt=sibling(first_child(Ft));Select(jt,{get items(){return get$2(Ye)},size:"sm",get value(){return get$2(te)},set value(Gt){set(te,proxy(Gt))}}),append($t,Ft)},$$slots:{default:!0}});var vt=sibling(ft,2),mt=sibling(child(vt));mt.__click=[play,k,te,me];var _t=child(mt);CaretRightSolid(_t,{class:"text-green-700",size:"lg"});var Et=sibling(vt,2);Et.__click=nt;var Tt=child(Et);CloseOutline(Tt,{size:"md"});var xt=sibling(ut,2),yt=child(xt);Label$1(yt,{class:" w-18 ",children:($t,Ht)=>{var Ft=root_5$7(),jt=sibling(first_child(Ft),2);Input$1(jt,{type:"text",required:!0,size:"sm",class:" w-32 mr-4",get value(){return get$2(ne)},set value(Gt){set(ne,proxy(Gt))}}),append($t,Ft)},$$slots:{default:!0}});var St=sibling(yt,2),At=child(St);Button(At,{class:"rounded-full bg-sky-500/100 w-18 h-8 text-white text-xs hover:bg-sky-600 focus-within:outline-none",onclick:nt,children:($t,Ht)=>{var Ft=root_6$6();append($t,Ft)},$$slots:{default:!0}});var Ct=sibling(xt,2);Label$1(Ct,{class:"flex-auto mb-3",children:($t,Ht)=>{var Ft=root_7$2(),jt=sibling(first_child(Ft));const Gt=derived$1(()=>!get$2(te));Select(jt,{size:"sm",get items(){return get$2(Ve)},get disabled(){return get$2(Gt)},get value(){return get$2(me)},set value(Kt){set(me,proxy(Kt))}}),append($t,Ft)},$$slots:{default:!0}});var It=sibling(Ct,2);each(It,17,()=>get$2(tt),index,($t,Ht)=>{var Ft=root_8$5(),jt=child(Ft),Gt=child(jt);AniProperty(Gt,{get propertyName(){return ee[get$2(it)].name},get propertyData(){return get$2(Ht)}});var Kt=sibling(jt,2),Pt=child(Kt);CloseOutline(Pt,{size:"md"}),append($t,Ft)});var Ot=sibling(It,4),Dt=child(Ot);Select(Dt,{items:ee,size:"sm",class:"mr-4",get value(){return get$2(it)},set value($t){set(it,proxy($t))}});var Mt=sibling(Dt,2);Button(Mt,{class:"rounded-full bg-sky-500/100 w-48 h-8 text-white text-xs hover:bg-sky-600 focus-within:outline-none",onclick:st,children:($t,Ht)=>{var Ft=text$1("ADD PROPERTY");append($t,Ft)},$$slots:{default:!0}}),append(ht,ct)},$$slots:{header:!0,default:!0}})},$$slots:{default:!0}}),pop()}delegate(["click"]);var root_4$i=template("<span>Animation name</span> <!>",1),root_5$6=template('<p class=" leading-tight">ADD ANIMATION</p>'),root_3$t=template('<div class="flex items-end gap-1 pb-2 pl-2"><!> <!></div>'),root_1$1j=template("<!> <!>",1);function Animation$1(Y,T){push(T,!0);const k=new libExports.RpcProvider((me,Ve)=>window.postMessage(me,"*",Ve??[]));window.addEventListener("message",({data:me})=>{k.dispatch(me)});let Z=state("animation name"),ee=derived$1(()=>get$2(Z)==="");const te={selectedAni:"",targetId:"",properties:[]};function ne(){const me=get$2(Z).trim();if(!me)return;if(Object.keys(animationsStore.animations).find(Ye=>Ye===me)){alert("Animation with this name already exists.");return}animationsStore.animations[me]=te,set(Z,""),animationsStore.cnt++}RegionalDivision(Y,{get panelApi(){return T.api},children:(me,Ve)=>{var Ye=root_1$1j(),et=first_child(Ye);AccordionItem(et,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",open:!0,header:st=>{var nt=text$1("ADD NEW ANIMATION");append(st,nt)},children:(st,nt)=>{var rt=root_3$t(),lt=child(rt);Label$1(lt,{class:"w-18",children:(ht,dt)=>{var ct=root_4$i(),ut=sibling(first_child(ct),2);Input$1(ut,{type:"text",required:!0,size:"sm",class:" w-32 mr-4",placeholder:"Enter name...",get value(){return get$2(Z)},set value(ft){set(Z,proxy(ft))}}),append(ht,ct)},$$slots:{default:!0}});var ot=sibling(lt,2);Button(ot,{class:"rounded-full bg-sky-500/100 w-18 h-8 text-white text-xs hover:bg-sky-600 focus-within:outline-none",onclick:ne,get disabled(){return get$2(ee)},children:(ht,dt)=>{var ct=root_5$6();append(ht,ct)},$$slots:{default:!0}}),append(st,rt)},$$slots:{header:!0,default:!0}});var tt=sibling(et,2);ManageAnimation(tt,{}),append(me,Ye)},$$slots:{default:!0}}),pop()}var root_1$1i=template("<span>Name</span> <!>",1),root_2$v=template("<span>Color</span>"),root$1V=template('<div class="flex flex-1"><!> <!></div>');function ColorWidget(Y,T){push(T,!0),prop(T,"isDisabled",3,!1);function k(ne){var Ve;const me=ne.target;console.log("target.value",me.value),(Ve=T.onNameChange)==null||Ve.call(T,me.value)}var Z=root$1V(),ee=child(Z);Label$1(ee,{class:" flex-auto  m-1 ",children:(ne,me)=>{var Ve=root_1$1i(),Ye=sibling(first_child(Ve),2);Input$1(Ye,{type:"text",id:"first_name",required:!0,size:"sm",get disabled(){return T.inputDisabled},get value(){return T.name},onchange:k}),append(ne,Ve)},$$slots:{default:!0}});var te=sibling(ee,2);Label$1(te,{class:"flex-auto  m-1",children:(ne,me)=>{var Ve=root_2$v();append(ne,Ve)},$$slots:{default:!0}}),append(Y,Z),pop()}let Themes$1=new Array,newAddThemes=writable(Themes$1),defTheme=[],defaultTheme=writable(defTheme);var root_4$h=template("<span>Selected theme</span> <!>",1),root_3$s=template('<div class="flex mb-2"><!></div> <div class="text-center py-4 h-16"><!></div>',1),root_8$4=template("<span>Color name</span> <!>",1),root_9$1=template('<p class=" leading-tight">ADD COLOR</p>'),root_10$2=template('<div class="flex"><!> <button type="button" class="flex-none justify-center ml-1 mt-2 bg-transparent text-white rounded"><!></button></div>'),root_7$1=template('<div class="flex"><!> <div class="text-center flex items-center  h-14"><!></div></div> <div class="flex items-center py-2"><p>Colors</p> <hr class="grow ml-2.5"></div> <div class="defaultTheme"></div>',1),root_13$1=template("<span>Theme name</span> <!>",1),root_14$1=template('<p class=" leading-tight">ADD THEME</p>'),root_15$1=template('<p class="text-red-500 text-sm mb-2">Only 2 themes are allowed with PERSONAL license!</p>'),root_19=template('<div class="flex"><!> <!></div>'),root_20=template("<span>Theme name</span> <!>",1),root_21=template("<p>RENAME</p>"),root_18=template('<!> <div class="flex pt-2"><!> <div class="text-center py-4 h-14"><!></div></div>',1),root_16=template('<div class=" items-center relative"><div class="newtheme"><!> <button type="button" class="absolute justify-center top-0.5 right-0.5 bg-transparent text-white rounded"><!></button></div></div>'),root_12$1=template('<div class="flex"><!> <div class="text-center flex items-center  h-14"><!></div></div> <!> <!>',1),root_1$1h=template("<!> <!> <!>",1);function Themes(Y,T){push(T,!0);const[k,Z]=setup_stores(),ee=()=>store_get(defaultTheme,"$defaultTheme",k),te=()=>store_get(st,"$showWarning",k),ne=()=>store_get(newAddThemes,"$newAddThemes",k);let me=state(""),Ve=state(proxy([{value:0,name:"Default Theme"}])),Ye=state(""),et=state(""),tt=state(""),it=state("#FFFFFF"),st=writable(!1);function nt(){defaultTheme.update(ct=>(ct=[...ct,[get$2(Ye),get$2(it)]],ct)),set(Ye,""),set(it,"#FFFFFF")}function rt(){newAddThemes.update(ct=>ct.length>=2?(st.set(!0),ct):(ct=[...ct,[get$2(et),{}]],st.set(!1),ct)),set(Ve,proxy([...get$2(Ve),{value:Date.now(),name:get$2(et)}])),set(et,"")}function lt(ct){var ft;return(ft=ct.target)==null?void 0:ft.checked}function ot(ct,ut){ct=get$2(tt),newAddThemes.update(ft=>(ft[ut][0]=ct,ft)),set(Ve,proxy(get$2(Ve).map((ft,vt)=>vt===ut+1?{value:vt,name:ct}:ft))),console.log("themeListqqqqqqq",get$2(Ve))}function ht(ct){defaultTheme.update(ut=>(ut.splice(ct,1),ut))}function dt(ct){newAddThemes.update(ut=>(ut.splice(ct,1),ut)),set(Ve,proxy(get$2(Ve).filter((ut,ft)=>ft!==ct+1)))}RegionalDivision(Y,{get panelApi(){return T.api},children:(ct,ut)=>{var ft=root_1$1h(),vt=first_child(ft);AccordionItem(vt,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:Tt=>{var xt=text$1("SELECT THEME");append(Tt,xt)},children:(Tt,xt)=>{var yt=root_3$s(),St=first_child(yt),At=child(St);Label$1(At,{class:"flex-auto w-18 ",children:(Ot,Dt)=>{var Mt=root_4$h(),$t=sibling(first_child(Mt),2);Select($t,{get items(){return get$2(Ve)},size:"sm",placeholder:"",get value(){return get$2(me)},set value(Ht){set(me,proxy(Ht))}}),append(Ot,Mt)},$$slots:{default:!0}});var Ct=sibling(St,2),It=child(Ct);Button(It,{class:"rounded-full bg-sky-500/100  h-8 text-white hover:bg-sky-600 focus-within:outline-none",onclick:()=>{},children:(Ot,Dt)=>{var Mt=text$1("REFRESH ALL SCREEN");append(Ot,Mt)},$$slots:{default:!0}}),append(Tt,yt)},$$slots:{header:!0,default:!0}});var mt=sibling(vt,2);AccordionItem(mt,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:Tt=>{var xt=text$1("COLORS OF DEFAULT THEME");append(Tt,xt)},children:(Tt,xt)=>{var yt=root_7$1(),St=first_child(yt),At=child(St);Label$1(At,{children:(Dt,Mt)=>{var $t=root_8$4(),Ht=sibling(first_child($t),2);Input$1(Ht,{type:"text",required:!0,size:"sm",class:" w-32 mr-4",get value(){return get$2(Ye)},set value(Ft){set(Ye,proxy(Ft))}}),append(Dt,$t)},$$slots:{default:!0}});var Ct=sibling(At,2),It=child(Ct);Button(It,{class:"rounded-full bg-sky-500/100 h-8 text-white text-xs hover:bg-sky-600 focus-within:outline-none",onclick:nt,children:(Dt,Mt)=>{var $t=root_9$1();append(Dt,$t)},$$slots:{default:!0}});var Ot=sibling(St,4);each(Ot,5,ee,index,(Dt,Mt,$t)=>{let Ht=()=>get$2(Mt)[0],Ft=()=>get$2(Mt)[1];var jt=root_10$2(),Gt=child(jt);ColorWidget(Gt,{get name(){return Ht()},get color(){return Ft()},onNameChange:kt=>store_mutate(defaultTheme,untrack(ee)[$t][0]=kt,untrack(ee)),onColorChange:kt=>store_mutate(defaultTheme,untrack(ee)[$t][1]=kt,untrack(ee)),isDisabled:!1,inputDisabled:!1});var Kt=sibling(Gt,2),Pt=child(Kt);CloseOutline(Pt,{size:"md"}),event("click",Kt,()=>ht($t)),append(Dt,jt)}),append(Tt,yt)},$$slots:{header:!0,default:!0}});var _t=sibling(mt,2);AccordionItem(_t,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:Tt=>{var xt=text$1("COLORS OF MORE THEMES");append(Tt,xt)},children:(Tt,xt)=>{var yt=root_12$1(),St=first_child(yt),At=child(St);Label$1(At,{children:($t,Ht)=>{var Ft=root_13$1(),jt=sibling(first_child(Ft),2);Input$1(jt,{type:"text",required:!0,size:"sm",class:" w-32 mr-4",get value(){return get$2(et)},set value(Gt){set(et,proxy(Gt))}}),append($t,Ft)},$$slots:{default:!0}});var Ct=sibling(At,2),It=child(Ct);Button(It,{class:"rounded-full  bg-sky-500/100 h-8 text-white text-xs hover:bg-sky-600 focus-within:outline-none",onclick:rt,children:($t,Ht)=>{var Ft=root_14$1();append($t,Ft)},$$slots:{default:!0}});var Ot=sibling(St,2);{var Dt=$t=>{var Ht=root_15$1();append($t,Ht)};if_block(Ot,$t=>{te()&&$t(Dt)})}var Mt=sibling(Ot,2);each(Mt,3,ne,([$t,Ht])=>$t,($t,Ht,Ft,jt)=>{let Gt=()=>get$2(Ht)[0],Kt=()=>get$2(Ht)[1];var Pt=root_16(),kt=child(Pt),zt=child(kt);AccordionItem(zt,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:Zt=>{var Jt=text$1();template_effect(()=>set_text(Jt,Gt())),append(Zt,Jt)},children:(Zt,Jt)=>{var ti=root_18(),di=first_child(ti);each(di,3,ee,([ki,Bt])=>ki,(ki,Bt)=>{let ai=()=>get$2(Bt)[0],ci=()=>get$2(Bt)[1];var yi=root_19();const Ci=derived$1(()=>Kt()[ai()]!=null);var Vi=child(yi);Checkbox$1(Vi,{class:"flex-none w-6 mr-1 mt-2",get checked(){return get$2(Ci)},onchange:ri=>{console.log("e",ri),lt(ri)?(Kt()[ai()]=ci(),invalidate_store(k,"$newAddThemes")):(Kt()[ai()]=null,invalidate_store(k,"$newAddThemes"))}});var ii=sibling(Vi,2);const ui=derived$1(()=>Kt()[ai()]||ci()),hi=derived$1(()=>!get$2(Ci));ColorWidget(ii,{get name(){return ai()},get color(){return get$2(ui)},get isDisabled(){return get$2(hi)},inputDisabled:!0,onColorChange:ri=>(Kt()[ai()]=ri,invalidate_store(k,"$newAddThemes"))}),append(ki,yi)});var Qt=sibling(di,2),Si=child(Qt);Label$1(Si,{class:" w-18 ",children:(ki,Bt)=>{var ai=root_20(),ci=sibling(first_child(ai),2);Input$1(ci,{type:"text",required:!0,size:"sm",class:" w-32 mr-4",get value(){return get$2(tt)},set value(yi){set(tt,proxy(yi))}}),append(ki,ai)},$$slots:{default:!0}});var Ti=sibling(Si,2),Ri=child(Ti);Button(Ri,{class:"rounded-full bg-sky-500/100 w-18 h-8 text-white text-xs hover:bg-sky-600 focus-within:outline-none",onclick:()=>ot(Gt(),get$2(Ft)),children:(ki,Bt)=>{var ai=root_21();append(ki,ai)},$$slots:{default:!0}}),append(Zt,ti)},$$slots:{header:!0,default:!0}});var Wt=sibling(zt,2),si=child(Wt);CloseOutline(si,{size:"md"}),event("click",Wt,()=>dt(get$2(Ft))),append($t,Pt)}),append(Tt,yt)},$$slots:{header:!0,default:!0}}),append(ct,ft)},$$slots:{default:!0}}),pop(),Z()}const markdown="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1754357237076'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='9495'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M895.318%20192H128.682C93.008%20192%2064%20220.968%2064%20256.616v510.698C64%20802.986%2093.008%20832%20128.682%20832h766.636C930.992%20832%20960%20802.986%20960%20767.312V256.616C960%20220.968%20930.992%20192%20895.318%20192zM568.046%20704H455.95V512l-84.08%20107.756L287.826%20512v192H175.738V320h112.088l84.044%20135.96L455.95%20320h112.096v384z%20m167.314%200L596.09%20512h84V320h112.086v192h84.054L735.324%20704h0.036z'%20fill='%23ffffff'%20p-id='9496'%3e%3c/path%3e%3c/svg%3e",attribute="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1754357272091'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='10560'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M288%20640C270.08%20640%20256%20654.08%20256%20672%20256%20689.92%20270.08%20704%20288%20704%20305.92%20704%20320%20689.92%20320%20672%20320%20654.08%20305.92%20640%20288%20640zM288%20256C270.08%20256%20256%20270.08%20256%20288%20256%20305.92%20270.08%20320%20288%20320%20305.92%20320%20320%20305.92%20320%20288%20320%20270.08%20305.92%20256%20288%20256zM288%20448C270.08%20448%20256%20462.08%20256%20480%20256%20497.92%20270.08%20512%20288%20512%20305.92%20512%20320%20497.92%20320%20480%20320%20462.08%20305.92%20448%20288%20448zM768%2064%20192%2064C121.6%2064%2064%20121.6%2064%20192l0%20576c0%2070.4%2057.6%20128%20128%20128l576%200c70.4%200%20128-57.6%20128-128L896%20192C896%20121.6%20838.4%2064%20768%2064zM832%20768c0%2035.2-28.8%2064-64%2064L192%20832c-35.2%200-64-28.8-64-64L128%20192c0-35.2%2028.8-64%2064-64l576%200c35.2%200%2064%2028.8%2064%2064L832%20768zM672%20256l-256%200C398.08%20256%20384%20270.08%20384%20288%20384%20305.92%20398.08%20320%20416%20320l256%200C689.92%20320%20704%20305.92%20704%20288%20704%20270.08%20689.92%20256%20672%20256zM672%20448l-256%200C398.08%20448%20384%20462.08%20384%20480%20384%20497.92%20398.08%20512%20416%20512l256%200C689.92%20512%20704%20497.92%20704%20480%20704%20462.08%20689.92%20448%20672%20448zM672%20640l-256%200C398.08%20640%20384%20654.08%20384%20672%20384%20689.92%20398.08%20704%20416%20704l256%200c17.92%200%2032-14.08%2032-32C704%20654.08%20689.92%20640%20672%20640z'%20p-id='10561'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e";var on_click$o=Y=>{Y.stopPropagation()},on_click_1$9=(Y,T)=>{set(T,!get$2(T))},on_click_2$3=(Y,T)=>{T(Y)},root$1U=template('<div><div class="select-input-wrapper svelte-wof18f"><div><!></div></div> <!></div>');function SelectInputByVarType(Y,T){push(T,!0);const k=prop(T,"mapType",3,"key"),Z=prop(T,"labelLocal",3,"left"),ee=createEventDispatcher();let te=generateUniqueId$1(),ne=state(!1),me=state(proxy(T.defaultValue?T.defaultValue:T.options[0])),Ve=state(proxy({top:0,left:0}));user_effect(()=>{T.defaultValue&&set(me,proxy(T.defaultValue))});let Ye=state(void 0);const et=dt=>{const ct=get$2(Ye).getBoundingClientRect();set(Ve,proxy({top:ct.top+ct.height+5,left:ct.left+ct.width/2-100}))},tt=dt=>{dt.target.closest("."+te)||set(ne,!1)},it=dt=>{set(ne,!1),ee("handleSelectLabel",{selected:{...dt.detail.selected}})};document.addEventListener("click",tt),onDestroy(()=>{document.addEventListener("click",tt)});var st=root$1U();set_class(st,1,`select-wrapper ${te??""}`,"svelte-wof18f"),st.__click=[on_click$o];var nt=child(st);nt.__click=[on_click_1$9,ne];var rt=child(nt);rt.__click=[on_click_2$3,et];var lt=child(rt);VarType(lt,{get varType(){return get$2(me).varType},get mapType(){return k()},get keyType(){return get$2(me).keyType},get valueType(){return get$2(me).valueType},get isDataStructure(){return get$2(me).isDataStructure}}),bind_this(nt,dt=>set(Ye,dt),()=>get$2(Ye));var ot=sibling(nt,2);{var ht=dt=>{SelectOptions(dt,{get top(){return get$2(Ve).top},get left(){return get$2(Ve).left},get options(){return T.options},haveSearch:!1,$$events:{handleSelectLabel:it}})};if_block(ot,dt=>{get$2(ne)&&dt(ht)})}template_effect(()=>set_class(rt,1,`select-input-label ${Z()??""}-local`,"svelte-wof18f")),append(Y,st),pop()}delegate(["click"]);var root$1T=template('<div class="wrapper wrapper-varAndDataStructureEdit svelte-1yk5kt1"><div class="module-line svelte-1yk5kt1"><div class="drag-op svelte-1yk5kt1"><span class="svelte-1yk5kt1"></span></div> <div class="module-var svelte-1yk5kt1"><!> <!></div> <div class="module-data-structure svelte-1yk5kt1"><!></div> <div class="module-name svelte-1yk5kt1"><input class="clear-input svelte-1yk5kt1"></div> <div class="wrapper-icon svelte-1yk5kt1"><span class="svelte-1yk5kt1"></span></div></div></div>');function VarAndDataStructureEdit(Y,T){push(T,!0);const k=createEventDispatcher(),Z=prop(T,"varType",19,()=>api$1.optionManager.containerOptions[0].value),ee=prop(T,"keyType",19,()=>api$1.optionManager.options[0].value),te=prop(T,"valueType",19,()=>api$1.optionManager.options[0].value),ne=prop(T,"inputValue",3,"");let me=state(proxy(api$1.optionManager.getTypeOptions())),Ve=state(proxy(api$1.optionManager.getTypeOptionsMap())),Ye=state(proxy(ne())),et=ne(),tt=state(proxy({varType:Z(),keyType:ee(),valueType:te(),id:T.id}));user_effect(()=>{Z(),ee(),te(),ne(),setTimeout(()=>{set(Ye,ne()),set(tt,proxy({varType:Z(),keyType:ee(),valueType:te(),id:T.id}))})});const it=(xt,yt)=>{const{selected:St}=xt.detail;yt==="keyType"&&set(tt,proxy({...get$2(tt),keyType:St.value})),yt==="valueType"&&set(tt,proxy({...get$2(tt),valueType:St.value})),yt==="varType"&&set(tt,proxy({...get$2(tt),varType:St.varType})),st()},st=()=>{const xt=validateCVariableName(get$2(Ye));xt.valid?(k("changeState",{...get$2(tt),inputValue:get$2(Ye),index:T.index}),et=get$2(Ye)):(api$1.message.globalMessageNotice({type:"error",message:xt.message}),set(tt,proxy({varType:Z(),keyType:ee(),valueType:te(),id:T.id})),set(Ye,proxy(et)))};onMount(()=>{set(me,proxy(api$1.optionManager.getTypeOptions())),set(Ve,proxy(api$1.optionManager.getTypeOptionsMap())),api$1.eventBus.on("option:notice:change",()=>{set(me,proxy(api$1.optionManager.getTypeOptions())),set(Ve,proxy(api$1.optionManager.getTypeOptionsMap()))})});var nt=root$1T(),rt=child(nt),lt=sibling(child(rt),2),ot=child(lt);const ht=derived$1(()=>({...get$2(tt)}));SelectInput(ot,{get options(){return get$2(me)},mapType:"key",keyName:"keyType",get defaultValue(){return get$2(ht)},$$events:{handleSelectLabel:xt=>{it(xt,"keyType")}}});var dt=sibling(ot,2);{var ct=xt=>{const yt=derived$1(()=>({...get$2(tt)}));SelectInput(xt,{get options(){return get$2(me)},mapType:"value",keyName:"valueType",get defaultValue(){return get$2(yt)},$$events:{handleSelectLabel:St=>{it(St,"valueType")}}})};if_block(dt,xt=>{get$2(tt).varType==="Map"&&xt(ct)})}var ut=sibling(lt,2),ft=child(ut);const vt=derived$1(()=>api$1.optionManager.getContainerType()),mt=derived$1(()=>({...get$2(tt),isDataStructure:!0}));SelectInputByVarType(ft,{get options(){return get$2(vt)},mapType:"Map",get defaultValue(){return get$2(mt)},$$events:{handleSelectLabel:xt=>{it(xt,"varType")}}});var _t=sibling(ut,2),Et=child(_t),Tt=sibling(_t,2);template_effect(xt=>set_attribute(nt,"data-data",xt),[()=>JSON.stringify({index:T.index})]),bind_value(Et,()=>get$2(Ye),xt=>set(Ye,xt)),event("blur",Et,xt=>{ne()!=xt.target.value&&st()}),event("click",Tt,xt=>{k("deleteState",{index:T.index})}),append(Y,nt),pop()}var root_1$1g=template('<div class="wrapper-varAndDataStructureEdit-wrapper svelte-c7hygj" role="button" tabindex="0" aria-label="Drag Element"><div class="wrapper-varAndDataStructureEdit-dashed svelte-c7hygj"><!></div></div>'),on_click$n=(Y,T)=>{T()},root$1S=template('<div class="structure-content svelte-c7hygj"><div class="structure-info svelte-c7hygj"><div class="structure-info-name svelte-c7hygj"><p>Name</p> <input class="clear-input svelte-c7hygj"></div></div> <div class="module svelte-c7hygj"><div class="module-content svelte-c7hygj"></div></div> <div class="action-operation svelte-c7hygj"><div class="action-operation-content svelte-c7hygj"><button class="svelte-c7hygj">Add</button></div></div></div>');function DataOperationPanel(Y,T){push(T,!0);const k=createEventDispatcher();let Z=rest_props(T,["$$slots","$$events","$$legacy"]),ee=state(proxy({name:"",description:"",key:"",parentId:"",id:""})),te={name:"",description:"",key:"",parentId:"",id:""},ne=state(proxy([])),me=state(proxy([])),Ve=state(null),Ye=state(proxy([])),et=state(proxy([]));user_effect(()=>{Z?(set(ee,proxy({...T.structureState,children:null})),te={...T.structureState,children:null},set(ne,proxy(Z.stateArray)),set(et,proxy(Z.stateArray))):(set(ee,proxy({name:"",description:"",key:"",parentId:"",id:""})),te={name:"",description:"",key:"",parentId:"",id:""},set(ne,proxy([])),set(et,proxy([]))),set(me,proxy([]))});const tt=(Mt="update")=>{set(et,proxy(Array.from(get$2(ne)))),k("changeState",{structureState:{...get$2(ee)},stateArray:[...get$2(ne)],operationData:[...get$2(me)],operationType:Mt})},it=Mt=>{set(me,proxy([get$2(ne)[Mt]])),tt("delete")},st=(Mt,$t)=>{let Ht=Array.from(get$2(ne)),Ft=Ht[Mt];const jt=api$1.structure.findStructureDataMapByName(`${$t.inputValue}_${get$2(ee).id}`);if(jt&&jt.id!==$t.id){api$1.message.globalMessageNotice({type:"error",message:"Duplicate Names"}),set(ne,proxy(get$2(et)));return}Ht[Mt]={...Ft,keyType:$t.keyType,valueType:$t.valueType,varType:$t.varType,inputValue:$t.inputValue},set(ne,proxy(Ht)),tt()},nt=()=>{let Mt=Array.from(get$2(ne));Mt.push({keyType:api$1.optionManager.options[0].value,valueType:api$1.optionManager.options[0].value,varType:api$1.optionManager.containerOptions[0].varType,inputValue:""}),set(ne,proxy(Mt)),tt("add")};let rt=state(null),lt=state(null),ot=state(0),ht=state(0),dt=state(0),ct=state(null);const ut=()=>{vt(),set(ne,proxy(get$2(Ye).map(Mt=>get$2(ne)[Mt]))),k("changeState",{structureState:{...get$2(ee)},stateArray:[...get$2(ne)],operationData:[...get$2(me)],operationType:"update"}),document.removeEventListener("mousedown",Et),document.removeEventListener("mousemove",ft),document.removeEventListener("mouseup",ut)},ft=Mt=>{requestAnimationFrame(()=>{if(get$2(rt)&&get$2(Ve)){get$2(rt).style.top=`${Mt.clientY-get$2(ht)}px`;const $t=get$2(Ve).getBoundingClientRect(),Ht=get$2(rt).getBoundingClientRect(),Ft=$t.height,jt=Ft*.2,Gt=get$2(Ve).scrollTop,Kt=get$2(Ve).scrollHeight,Pt=Gt>0,kt=Gt<Kt-Ft;Ht.top<$t.top+jt&&Pt?set(dt,-Math.min(10,($t.top+jt-Ht.top)/5)):Ht.bottom>$t.bottom-jt&&kt?set(dt,proxy(Math.min(10,(Ht.bottom-($t.bottom-jt))/5))):set(dt,0),get$2(dt)!==0?get$2(ct)||set(ct,proxy(window.setInterval(()=>{const zt=get$2(Ve).scrollTop+get$2(dt);get$2(dt)<0&&zt>=0||get$2(dt)>0&&zt<=Kt-Ft?get$2(Ve).scrollTop=zt:(clearInterval(get$2(ct)),set(ct,null),set(dt,0))},16))):get$2(ct)&&(clearInterval(get$2(ct)),set(ct,null))}mt()})},vt=()=>{get$2(rt)&&get$2(_t)&&(get$2(rt).style.opacity="",get$2(rt).style.position="",get$2(rt).style.width="",get$2(rt).style.left="",get$2(rt).style.top="",get$2(rt).style.zIndex="",get$2(rt).style.boxShadow="",get$2(_t).style.border="1px dashed transparent",set(rt,null)),get$2(ct)&&clearInterval(get$2(ct)),set(ct,null),set(dt,0)},mt=()=>{if(get$2(Ve)&&get$2(lt)&&get$2(rt)){const Mt=Array.from(get$2(Ve).children),$t=Mt.indexOf(get$2(lt)),Ht=Math.ceil((get$2(rt).getBoundingClientRect().top-get$2(lt).getBoundingClientRect().top)/get$2(lt).getBoundingClientRect().height);if(Ht){get$2(Ve).removeChild(get$2(lt)),get$2(Ve).insertBefore(get$2(lt),Mt[$t+Ht]);const Ft=Array.from(get$2(Ve).children);set(Ye,proxy(Ft.map(jt=>jt.dataset.index)))}}};let _t=state(void 0);const Et=Mt=>{var $t;try{const Ht=Mt.target;if(($t=Ht.closest(".drag-op"))!=null&&$t.classList.contains("drag-op")){if(Mt.button!==0)return;const Ft=Ht.closest(".wrapper-varAndDataStructureEdit");if(set(_t,proxy(Ht.closest(".wrapper-varAndDataStructureEdit-dashed"))),set(lt,proxy(Ht.closest(".wrapper-varAndDataStructureEdit-wrapper"))),Ft&&get$2(_t)){get$2(_t).style.border="1px dashed white",set(rt,proxy(Ft));const jt=Ft.getBoundingClientRect();set(ot,Mt.clientX-jt.left),set(ht,Mt.clientY-jt.top),Ft.style.opacity="1",Ft.style.boxShadow="0 0 5px white",Ft.style.position="fixed",Ft.style.width=`${jt.width}px`,Ft.style.height=`${jt.height}px`,Ft.style.zIndex="1000",Ft.style.left=`${Mt.clientX-get$2(ot)}px`,Ft.style.top=`${Mt.clientY-get$2(ht)}px`}document.addEventListener("mousemove",ft),document.addEventListener("mouseup",ut)}}catch(Ht){console.error(Ht),console.warn("The drag handle is not selected")}};var Tt=root$1S(),xt=child(Tt),yt=child(xt),St=sibling(child(yt),2);St.__change=Mt=>{if(!Mt.target)return;const $t=validateCVariableName(Mt.target.value);$t.valid?api$1.structure.findStructureDataMapByName(`${Mt.target.value}_${get$2(ee).parentId}`)?(api$1.message.globalMessageNotice({type:"error",message:"Duplicate Names"}),set(ee,proxy(te))):(te.name=Mt.target.value,tt()):(api$1.message.globalMessageNotice({type:"error",message:$t.message}),set(ee,proxy(te)))};var At=sibling(xt,2),Ct=child(At);each(Ct,23,()=>get$2(ne),Mt=>Math.random(),(Mt,$t,Ht)=>{var Ft=root_1$1g();Ft.__mousedown=Et;var jt=child(Ft),Gt=child(jt);VarAndDataStructureEdit(Gt,spread_props(()=>get$2($t),{get parentId(){return get$2(ee).key},get index(){return get$2(Ht)},$$events:{changeState:Kt=>{st(get$2(Ht),Kt.detail)},deleteState:Kt=>{it(Kt.detail.index)}}})),template_effect(()=>set_attribute(Ft,"data-index",get$2(Ht))),append(Mt,Ft)}),bind_this(Ct,Mt=>set(Ve,Mt),()=>get$2(Ve));var It=sibling(At,2),Ot=child(It),Dt=child(Ot);Dt.__click=[on_click$n,nt],Dt.disabled=!1,bind_value(St,()=>get$2(ee).name,Mt=>get$2(ee).name=Mt),append(Y,Tt),pop()}delegate(["change","mousedown","click"]);const headingH1="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M835.626667%20349.397333A42.666667%2042.666667%200%200%201%20853.333333%20384v426.666667a42.666667%2042.666667%200%200%201-85.333333%200v-367.488l-71.850667%2023.978666a42.666667%2042.666667%200%200%201-26.965333-80.981333l128-42.666667a42.666667%2042.666667%200%200%201%2038.4%205.888zM128%20170.666667a42.666667%2042.666667%200%200%201%2042.666667%2042.666666v256h256V213.333333a42.666667%2042.666667%200%201%201%2085.333333%200v597.333334a42.666667%2042.666667%200%201%201-85.333333%200v-256H170.666667v256a42.666667%2042.666667%200%201%201-85.333334%200V213.333333a42.666667%2042.666667%200%200%201%2042.666667-42.666666z'%20/%3e%3c/svg%3e",headingH2="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M768%20426.666667a85.333333%2085.333333%200%200%200-85.333333%2085.333333v21.333333a42.666667%2042.666667%200%201%201-85.333334%200V512a170.666667%20170.666667%200%200%201%20170.666667-170.666667h7.338667a163.328%20163.328%200%200%201%20115.498666%20278.869334L742.997333%20768H896a42.666667%2042.666667%200%201%201%200%2085.333333h-256a42.666667%2042.666667%200%200%201-30.165333-72.832l220.672-220.672A77.994667%2077.994667%200%200%200%20775.338667%20426.666667H768zM128%20170.666667a42.666667%2042.666667%200%200%201%2042.666667%2042.666666v256h256V213.333333a42.666667%2042.666667%200%201%201%2085.333333%200v597.333334a42.666667%2042.666667%200%201%201-85.333333%200v-256H170.666667v256a42.666667%2042.666667%200%201%201-85.333334%200V213.333333a42.666667%2042.666667%200%200%201%2042.666667-42.666666z'%20/%3e%3c/svg%3e",headingH3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M597.333333%20384a42.666667%2042.666667%200%200%201%2042.666667-42.666667h256a42.666667%2042.666667%200%200%201%2030.165333%2072.832l-105.941333%20105.984A170.752%20170.752%200%200%201%20768%20853.333333a170.666667%20170.666667%200%200%201-160.938667-113.877333%2042.666667%2042.666667%200%200%201%2080.469334-28.373333A85.333333%2085.333333%200%201%200%20768%20597.333333h-42.666667a42.666667%2042.666667%200%200%201-30.165333-72.832L793.002667%20426.666667H640a42.666667%2042.666667%200%200%201-42.666667-42.666667zM128%20170.666667a42.666667%2042.666667%200%200%201%2042.666667%2042.666666v256h256V213.333333a42.666667%2042.666667%200%201%201%2085.333333%200v597.333334a42.666667%2042.666667%200%201%201-85.333333%200v-256H170.666667v256a42.666667%2042.666667%200%201%201-85.333334%200V213.333333a42.666667%2042.666667%200%200%201%2042.666667-42.666666z'%20/%3e%3c/svg%3e",bold="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M298.666667%20512a42.666667%2042.666667%200%200%201%2042.666666-42.666667h234.666667a192%20192%200%201%201%200%20384H341.333333a42.666667%2042.666667%200%201%201%200-85.333333h234.666667a106.666667%20106.666667%200%200%200%200-213.333333H341.333333a42.666667%2042.666667%200%200%201-42.666666-42.666667z'%20/%3e%3cpath%20fill='%23ffffff'%20d='M341.333333%20170.666667a42.666667%2042.666667%200%200%201%2042.666667%2042.666666v597.333334a42.666667%2042.666667%200%201%201-85.333333%200V213.333333a42.666667%2042.666667%200%200%201%2042.666666-42.666666z'%20/%3e%3cpath%20fill='%23ffffff'%20d='M298.666667%20213.333333a42.666667%2042.666667%200%200%201%2042.666666-42.666666h192a192%20192%200%201%201%200%20384H341.333333a42.666667%2042.666667%200%201%201%200-85.333334h192a106.666667%20106.666667%200%200%200%200-213.333333H341.333333a42.666667%2042.666667%200%200%201-42.666666-42.666667z'%20/%3e%3c/svg%3e",italic="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M298.666667%20810.666667a42.666667%2042.666667%200%200%201%2042.666666-42.666667h170.666667a42.666667%2042.666667%200%201%201%200%2085.333333H341.333333a42.666667%2042.666667%200%200%201-42.666666-42.666666zM469.333333%20213.333333a42.666667%2042.666667%200%200%201%2042.666667-42.666666h170.666667a42.666667%2042.666667%200%201%201%200%2085.333333h-170.666667a42.666667%2042.666667%200%200%201-42.666667-42.666667z'%20/%3e%3cpath%20fill='%23ffffff'%20d='M609.066667%20172.288a42.666667%2042.666667%200%200%201%2029.269333%2052.778667l-170.666667%20597.333333a42.666667%2042.666667%200%201%201-82.048-23.466667l170.666667-597.333333a42.666667%2042.666667%200%200%201%2052.778667-29.312z'%20/%3e%3c/svg%3e",codeInline="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M609.834667%20268.501333a42.666667%2042.666667%200%200%201%2060.330666%200l213.333334%20213.333334a42.666667%2042.666667%200%200%201%200%2060.330666l-213.333334%20213.333334a42.666667%2042.666667%200%200%201-60.330666-60.330667L793.002667%20512l-183.168-183.168a42.666667%2042.666667%200%200%201%200-60.330667zM414.165333%20268.501333a42.666667%2042.666667%200%200%201%200%2060.330667L230.997333%20512l183.168%20183.168a42.666667%2042.666667%200%200%201-60.330666%2060.330667l-213.333334-213.333334a42.666667%2042.666667%200%200%201%200-60.330666l213.333334-213.333334a42.666667%2042.666667%200%200%201%2060.330666%200zM449.834667%20658.389333L550.826667%20365.653333l40.32%2013.909334-100.949334%20292.778666-40.362666-13.909333z'%20/%3e%3c/svg%3e",listOrder="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M384%20725.333333a42.666667%2042.666667%200%200%201%2042.666667-42.666666h426.666666a42.666667%2042.666667%200%201%201%200%2085.333333H426.666667a42.666667%2042.666667%200%200%201-42.666667-42.666667zM234.666667%20640a21.333333%2021.333333%200%200%200-21.333334%2021.333333v7.893334a42.666667%2042.666667%200%201%201-85.333333%200V661.333333A106.666667%20106.666667%200%200%201%20234.666667%20554.666667h1.706666A104.96%20104.96%200%200%201%20341.333333%20659.626667c0%2024.192-7.850667%2047.744-22.357333%2067.072L256%20810.666667h42.666667a42.666667%2042.666667%200%201%201%200%2085.333333H170.666667a42.666667%2042.666667%200%200%201-34.133334-68.266667l114.176-152.234666A26.496%2026.496%200%200%200%20256%20659.626667%2019.626667%2019.626667%200%200%200%20236.373333%20640H234.666667zM384%20512a42.666667%2042.666667%200%200%201%2042.666667-42.666667h426.666666a42.666667%2042.666667%200%201%201%200%2085.333334H426.666667a42.666667%2042.666667%200%200%201-42.666667-42.666667zM384%20298.666667a42.666667%2042.666667%200%200%201%2042.666667-42.666667h426.666666a42.666667%2042.666667%200%201%201%200%2085.333333H426.666667a42.666667%2042.666667%200%200%201-42.666667-42.666666zM278.442667%20134.4A42.666667%2042.666667%200%200%201%20298.666667%20170.666667v256a42.666667%2042.666667%200%201%201-85.333334%200V239.701333l-23.594666%2011.776a42.666667%2042.666667%200%200%201-38.144-76.288l85.333333-42.666666a42.666667%2042.666667%200%200%201%2041.514667%201.834666z'%20/%3e%3c/svg%3e",listDisorder="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M341.333333%20725.333333a42.666667%2042.666667%200%200%201%2042.666667-42.666666h426.666667a42.666667%2042.666667%200%201%201%200%2085.333333H384a42.666667%2042.666667%200%200%201-42.666667-42.666667zM170.666667%20725.333333a42.666667%2042.666667%200%200%201%2042.666666-42.666666h0.085334a42.666667%2042.666667%200%200%201%2042.666666%2042.666666v0.085334a42.666667%2042.666667%200%200%201-42.666666%2042.666666H213.333333a42.666667%2042.666667%200%200%201-42.666666-42.666666V725.333333zM341.333333%20512a42.666667%2042.666667%200%200%201%2042.666667-42.666667h426.666667a42.666667%2042.666667%200%201%201%200%2085.333334H384a42.666667%2042.666667%200%200%201-42.666667-42.666667zM170.666667%20512a42.666667%2042.666667%200%200%201%2042.666666-42.666667h0.085334a42.666667%2042.666667%200%200%201%2042.666666%2042.666667v0.085333a42.666667%2042.666667%200%200%201-42.666666%2042.666667H213.333333a42.666667%2042.666667%200%200%201-42.666666-42.666667V512zM341.333333%20298.666667a42.666667%2042.666667%200%200%201%2042.666667-42.666667h426.666667a42.666667%2042.666667%200%201%201%200%2085.333333H384a42.666667%2042.666667%200%200%201-42.666667-42.666666zM170.666667%20298.666667a42.666667%2042.666667%200%200%201%2042.666666-42.666667h0.085334a42.666667%2042.666667%200%200%201%2042.666666%2042.666667v0.085333a42.666667%2042.666667%200%200%201-42.666666%2042.666667H213.333333a42.666667%2042.666667%200%200%201-42.666666-42.666667V298.666667z'%20/%3e%3c/svg%3e",cite="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M479.615429%20372.021945l0%20155.216107c-8.769734%2078.782298-47.084365%20113.813139-114.89068%20124.738979L364.724749%20599.455841c21.849634-2.15406%2036.108383-18.566868%2042.673915-49.239448l0-22.978341-72.204485%200L335.194178%20372.021945%20479.615429%20372.021945zM688.806845%20372.021945l0%20155.216107c-8.769734%2076.628238-47.084365%20111.608937-114.891703%20124.738979L573.915142%20599.455841c8.720615-2.15406%2017.49035-8.719592%2026.261107-19.695574%208.720615-10.92584%2014.207583-20.773116%2016.412808-29.543873l0-22.978341-71.120804%200L545.468253%20372.021945%20688.806845%20372.021945z'%20/%3e%3c/svg%3e",removeMinus="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M213.333333%20512a42.666667%2042.666667%200%200%201%2042.666667-42.666667h512a42.666667%2042.666667%200%201%201%200%2085.333334H256a42.666667%2042.666667%200%200%201-42.666667-42.666667z'%20/%3e%3c/svg%3e",link="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23ffffff'%20d='M662.869333%20361.173333a42.666667%2042.666667%200%200%201%200%2060.330667l-241.365333%20241.365333a42.666667%2042.666667%200%201%201-60.330667-60.330666l241.365334-241.365334a42.666667%2042.666667%200%200%201%2060.330666%200z'%20/%3e%3cpath%20fill='%23ffffff'%20d='M330.965333%20451.669333a42.666667%2042.666667%200%200%201%200%2060.330667l-60.330666%2060.330667a128%20128%200%201%200%20181.034666%20181.034666L512%20693.034667a42.666667%2042.666667%200%200%201%2060.330667%2060.330666L512%20813.653333a213.333333%20213.333333%200%201%201-301.696-301.653333l60.330667-60.373333a42.666667%2042.666667%200%200%201%2060.330666%200zM753.365333%20270.634667a128%20128%200%200%200-181.034666%200L512%20330.965333a42.666667%2042.666667%200%201%201-60.330667-60.330666L512%20210.304a213.333333%20213.333333%200%201%201%20301.696%20301.653333l-60.330667%2060.373334A42.666667%2042.666667%200%200%201%20693.034667%20512l60.330666-60.330667a128%20128%200%200%200%200-181.034666z'%20/%3e%3c/svg%3e";function L(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var O=L();function H(Y){O=Y}var E={exec:()=>null};function h(Y,T=""){let k=typeof Y=="string"?Y:Y.source,Z={replace:(ee,te)=>{let ne=typeof te=="string"?te:te.source;return ne=ne.replace(m.caret,"$1"),k=k.replace(ee,ne),Z},getRegex:()=>new RegExp(k,T)};return Z}var m={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:Y=>new RegExp(`^( {0,3}${Y})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:Y=>new RegExp(`^ {0,${Math.min(3,Y-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:Y=>new RegExp(`^ {0,${Math.min(3,Y-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:Y=>new RegExp(`^ {0,${Math.min(3,Y-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:Y=>new RegExp(`^ {0,${Math.min(3,Y-1)}}#`),htmlBeginRegex:Y=>new RegExp(`^ {0,${Math.min(3,Y-1)}}<(?:[a-z].*>|!--)`,"i")},xe=/^(?:[ \t]*(?:\n|$))+/,be=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Re=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,C=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Oe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,j=/(?:[*+-]|\d{1,9}[.)])/,se=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ie=h(se).replace(/bull/g,j).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Te=h(se).replace(/bull/g,j).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),F=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,we=/^[^\n]+/,Q=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ye=h(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Q).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Pe=h(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,j).getRegex(),v="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Se=h("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",U).replace("tag",v).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oe=h(F).replace("hr",C).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),$e=h(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",oe).getRegex(),K={blockquote:$e,code:be,def:ye,fences:Re,heading:Oe,hr:C,html:Se,lheading:ie,list:Pe,newline:xe,paragraph:oe,table:E,text:we},re=h("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",C).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),_e={...K,lheading:Te,table:re,paragraph:h(F).replace("hr",C).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",re).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex()},Le={...K,html:h(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",U).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:E,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:h(F).replace("hr",C).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ie).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Me=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ze=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ae=/^( {2,}|\\)\n(?!\s*$)/,Ae=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D=/[\p{P}\p{S}]/u,W=/[\s\p{P}\p{S}]/u,le=/[^\s\p{P}\p{S}]/u,Ee=h(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,W).getRegex(),ue=/(?!~)[\p{P}\p{S}]/u,Ce=/(?!~)[\s\p{P}\p{S}]/u,Ie=/(?:[^\s\p{P}\p{S}]|~)/u,Be=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,pe=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qe=h(pe,"u").replace(/punct/g,D).getRegex(),ve=h(pe,"u").replace(/punct/g,ue).getRegex(),ce="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",De=h(ce,"gu").replace(/notPunctSpace/g,le).replace(/punctSpace/g,W).replace(/punct/g,D).getRegex(),Ze=h(ce,"gu").replace(/notPunctSpace/g,Ie).replace(/punctSpace/g,Ce).replace(/punct/g,ue).getRegex(),Ge=h("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,le).replace(/punctSpace/g,W).replace(/punct/g,D).getRegex(),He=h(/\\(punct)/,"gu").replace(/punct/g,D).getRegex(),Ne=h(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),je=h(U).replace("(?:-->|$)","-->").getRegex(),Fe=h("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",je).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Qe=h(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),he=h(/^!?\[(label)\]\[(ref)\]/).replace("label",q).replace("ref",Q).getRegex(),de=h(/^!?\[(ref)\](?:\[\])?/).replace("ref",Q).getRegex(),Ue=h("reflink|nolink(?!\\()","g").replace("reflink",he).replace("nolink",de).getRegex(),X={_backpedal:E,anyPunctuation:He,autolink:Ne,blockSkip:Be,br:ae,code:ze,del:E,emStrongLDelim:qe,emStrongRDelimAst:De,emStrongRDelimUnd:Ge,escape:Me,link:Qe,nolink:de,punctuation:Ee,reflink:he,reflinkSearch:Ue,tag:Fe,text:Ae,url:E},Ke={...X,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",q).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q).getRegex()},N={...X,emStrongRDelimAst:Ze,emStrongLDelim:ve,url:h(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},We={...N,br:h(ae).replace("{2,}","*").getRegex(),text:h(N.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},I={normal:K,gfm:_e,pedantic:Le},M={normal:X,gfm:N,breaks:We,pedantic:Ke},Xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ke=Y=>Xe[Y];function w(Y,T){if(T){if(m.escapeTest.test(Y))return Y.replace(m.escapeReplace,ke)}else if(m.escapeTestNoEncode.test(Y))return Y.replace(m.escapeReplaceNoEncode,ke);return Y}function J(Y){try{Y=encodeURI(Y).replace(m.percentDecode,"%")}catch{return null}return Y}function V(Y,T){var te;let k=Y.replace(m.findPipe,(ne,me,Ve)=>{let Ye=!1,et=me;for(;--et>=0&&Ve[et]==="\\";)Ye=!Ye;return Ye?"|":" |"}),Z=k.split(m.splitPipe),ee=0;if(Z[0].trim()||Z.shift(),Z.length>0&&!((te=Z.at(-1))!=null&&te.trim())&&Z.pop(),T)if(Z.length>T)Z.splice(T);else for(;Z.length<T;)Z.push("");for(;ee<Z.length;ee++)Z[ee]=Z[ee].trim().replace(m.slashPipe,"|");return Z}function z(Y,T,k){let Z=Y.length;if(Z===0)return"";let ee=0;for(;ee<Z&&Y.charAt(Z-ee-1)===T;)ee++;return Y.slice(0,Z-ee)}function ge(Y,T){if(Y.indexOf(T[1])===-1)return-1;let k=0;for(let Z=0;Z<Y.length;Z++)if(Y[Z]==="\\")Z++;else if(Y[Z]===T[0])k++;else if(Y[Z]===T[1]&&(k--,k<0))return Z;return k>0?-2:-1}function fe(Y,T,k,Z,ee){let te=T.href,ne=T.title||null,me=Y[1].replace(ee.other.outputLinkReplace,"$1");Z.state.inLink=!0;let Ve={type:Y[0].charAt(0)==="!"?"image":"link",raw:k,href:te,title:ne,text:me,tokens:Z.inlineTokens(me)};return Z.state.inLink=!1,Ve}function Je(Y,T,k){let Z=Y.match(k.other.indentCodeCompensation);if(Z===null)return T;let ee=Z[1];return T.split(`
`).map(te=>{let ne=te.match(k.other.beginningSpace);if(ne===null)return te;let[me]=ne;return me.length>=ee.length?te.slice(ee.length):te}).join(`
`)}var y=class{constructor(Y){bt(this,"options");bt(this,"rules");bt(this,"lexer");this.options=Y||O}space(Y){let T=this.rules.block.newline.exec(Y);if(T&&T[0].length>0)return{type:"space",raw:T[0]}}code(Y){let T=this.rules.block.code.exec(Y);if(T){let k=T[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:T[0],codeBlockStyle:"indented",text:this.options.pedantic?k:z(k,`
`)}}}fences(Y){let T=this.rules.block.fences.exec(Y);if(T){let k=T[0],Z=Je(k,T[3]||"",this.rules);return{type:"code",raw:k,lang:T[2]?T[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):T[2],text:Z}}}heading(Y){let T=this.rules.block.heading.exec(Y);if(T){let k=T[2].trim();if(this.rules.other.endingHash.test(k)){let Z=z(k,"#");(this.options.pedantic||!Z||this.rules.other.endingSpaceChar.test(Z))&&(k=Z.trim())}return{type:"heading",raw:T[0],depth:T[1].length,text:k,tokens:this.lexer.inline(k)}}}hr(Y){let T=this.rules.block.hr.exec(Y);if(T)return{type:"hr",raw:z(T[0],`
`)}}blockquote(Y){let T=this.rules.block.blockquote.exec(Y);if(T){let k=z(T[0],`
`).split(`
`),Z="",ee="",te=[];for(;k.length>0;){let ne=!1,me=[],Ve;for(Ve=0;Ve<k.length;Ve++)if(this.rules.other.blockquoteStart.test(k[Ve]))me.push(k[Ve]),ne=!0;else if(!ne)me.push(k[Ve]);else break;k=k.slice(Ve);let Ye=me.join(`
`),et=Ye.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");Z=Z?`${Z}
${Ye}`:Ye,ee=ee?`${ee}
${et}`:et;let tt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(et,te,!0),this.lexer.state.top=tt,k.length===0)break;let it=te.at(-1);if((it==null?void 0:it.type)==="code")break;if((it==null?void 0:it.type)==="blockquote"){let st=it,nt=st.raw+`
`+k.join(`
`),rt=this.blockquote(nt);te[te.length-1]=rt,Z=Z.substring(0,Z.length-st.raw.length)+rt.raw,ee=ee.substring(0,ee.length-st.text.length)+rt.text;break}else if((it==null?void 0:it.type)==="list"){let st=it,nt=st.raw+`
`+k.join(`
`),rt=this.list(nt);te[te.length-1]=rt,Z=Z.substring(0,Z.length-it.raw.length)+rt.raw,ee=ee.substring(0,ee.length-st.raw.length)+rt.raw,k=nt.substring(te.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:Z,tokens:te,text:ee}}}list(Y){let T=this.rules.block.list.exec(Y);if(T){let k=T[1].trim(),Z=k.length>1,ee={type:"list",raw:"",ordered:Z,start:Z?+k.slice(0,-1):"",loose:!1,items:[]};k=Z?`\\d{1,9}\\${k.slice(-1)}`:`\\${k}`,this.options.pedantic&&(k=Z?k:"[*+-]");let te=this.rules.other.listItemRegex(k),ne=!1;for(;Y;){let Ve=!1,Ye="",et="";if(!(T=te.exec(Y))||this.rules.block.hr.test(Y))break;Ye=T[0],Y=Y.substring(Ye.length);let tt=T[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,ot=>" ".repeat(3*ot.length)),it=Y.split(`
`,1)[0],st=!tt.trim(),nt=0;if(this.options.pedantic?(nt=2,et=tt.trimStart()):st?nt=T[1].length+1:(nt=T[2].search(this.rules.other.nonSpaceChar),nt=nt>4?1:nt,et=tt.slice(nt),nt+=T[1].length),st&&this.rules.other.blankLine.test(it)&&(Ye+=it+`
`,Y=Y.substring(it.length+1),Ve=!0),!Ve){let ot=this.rules.other.nextBulletRegex(nt),ht=this.rules.other.hrRegex(nt),dt=this.rules.other.fencesBeginRegex(nt),ct=this.rules.other.headingBeginRegex(nt),ut=this.rules.other.htmlBeginRegex(nt);for(;Y;){let ft=Y.split(`
`,1)[0],vt;if(it=ft,this.options.pedantic?(it=it.replace(this.rules.other.listReplaceNesting,"  "),vt=it):vt=it.replace(this.rules.other.tabCharGlobal,"    "),dt.test(it)||ct.test(it)||ut.test(it)||ot.test(it)||ht.test(it))break;if(vt.search(this.rules.other.nonSpaceChar)>=nt||!it.trim())et+=`
`+vt.slice(nt);else{if(st||tt.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||dt.test(tt)||ct.test(tt)||ht.test(tt))break;et+=`
`+it}!st&&!it.trim()&&(st=!0),Ye+=ft+`
`,Y=Y.substring(ft.length+1),tt=vt.slice(nt)}}ee.loose||(ne?ee.loose=!0:this.rules.other.doubleBlankLine.test(Ye)&&(ne=!0));let rt=null,lt;this.options.gfm&&(rt=this.rules.other.listIsTask.exec(et),rt&&(lt=rt[0]!=="[ ] ",et=et.replace(this.rules.other.listReplaceTask,""))),ee.items.push({type:"list_item",raw:Ye,task:!!rt,checked:lt,loose:!1,text:et,tokens:[]}),ee.raw+=Ye}let me=ee.items.at(-1);if(me)me.raw=me.raw.trimEnd(),me.text=me.text.trimEnd();else return;ee.raw=ee.raw.trimEnd();for(let Ve=0;Ve<ee.items.length;Ve++)if(this.lexer.state.top=!1,ee.items[Ve].tokens=this.lexer.blockTokens(ee.items[Ve].text,[]),!ee.loose){let Ye=ee.items[Ve].tokens.filter(tt=>tt.type==="space"),et=Ye.length>0&&Ye.some(tt=>this.rules.other.anyLine.test(tt.raw));ee.loose=et}if(ee.loose)for(let Ve=0;Ve<ee.items.length;Ve++)ee.items[Ve].loose=!0;return ee}}html(Y){let T=this.rules.block.html.exec(Y);if(T)return{type:"html",block:!0,raw:T[0],pre:T[1]==="pre"||T[1]==="script"||T[1]==="style",text:T[0]}}def(Y){let T=this.rules.block.def.exec(Y);if(T){let k=T[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),Z=T[2]?T[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",ee=T[3]?T[3].substring(1,T[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):T[3];return{type:"def",tag:k,raw:T[0],href:Z,title:ee}}}table(Y){var ne;let T=this.rules.block.table.exec(Y);if(!T||!this.rules.other.tableDelimiter.test(T[2]))return;let k=V(T[1]),Z=T[2].replace(this.rules.other.tableAlignChars,"").split("|"),ee=(ne=T[3])!=null&&ne.trim()?T[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],te={type:"table",raw:T[0],header:[],align:[],rows:[]};if(k.length===Z.length){for(let me of Z)this.rules.other.tableAlignRight.test(me)?te.align.push("right"):this.rules.other.tableAlignCenter.test(me)?te.align.push("center"):this.rules.other.tableAlignLeft.test(me)?te.align.push("left"):te.align.push(null);for(let me=0;me<k.length;me++)te.header.push({text:k[me],tokens:this.lexer.inline(k[me]),header:!0,align:te.align[me]});for(let me of ee)te.rows.push(V(me,te.header.length).map((Ve,Ye)=>({text:Ve,tokens:this.lexer.inline(Ve),header:!1,align:te.align[Ye]})));return te}}lheading(Y){let T=this.rules.block.lheading.exec(Y);if(T)return{type:"heading",raw:T[0],depth:T[2].charAt(0)==="="?1:2,text:T[1],tokens:this.lexer.inline(T[1])}}paragraph(Y){let T=this.rules.block.paragraph.exec(Y);if(T){let k=T[1].charAt(T[1].length-1)===`
`?T[1].slice(0,-1):T[1];return{type:"paragraph",raw:T[0],text:k,tokens:this.lexer.inline(k)}}}text(Y){let T=this.rules.block.text.exec(Y);if(T)return{type:"text",raw:T[0],text:T[0],tokens:this.lexer.inline(T[0])}}escape(Y){let T=this.rules.inline.escape.exec(Y);if(T)return{type:"escape",raw:T[0],text:T[1]}}tag(Y){let T=this.rules.inline.tag.exec(Y);if(T)return!this.lexer.state.inLink&&this.rules.other.startATag.test(T[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(T[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(T[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(T[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:T[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:T[0]}}link(Y){let T=this.rules.inline.link.exec(Y);if(T){let k=T[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(k)){if(!this.rules.other.endAngleBracket.test(k))return;let te=z(k.slice(0,-1),"\\");if((k.length-te.length)%2===0)return}else{let te=ge(T[2],"()");if(te===-2)return;if(te>-1){let ne=(T[0].indexOf("!")===0?5:4)+T[1].length+te;T[2]=T[2].substring(0,te),T[0]=T[0].substring(0,ne).trim(),T[3]=""}}let Z=T[2],ee="";if(this.options.pedantic){let te=this.rules.other.pedanticHrefTitle.exec(Z);te&&(Z=te[1],ee=te[3])}else ee=T[3]?T[3].slice(1,-1):"";return Z=Z.trim(),this.rules.other.startAngleBracket.test(Z)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(k)?Z=Z.slice(1):Z=Z.slice(1,-1)),fe(T,{href:Z&&Z.replace(this.rules.inline.anyPunctuation,"$1"),title:ee&&ee.replace(this.rules.inline.anyPunctuation,"$1")},T[0],this.lexer,this.rules)}}reflink(Y,T){let k;if((k=this.rules.inline.reflink.exec(Y))||(k=this.rules.inline.nolink.exec(Y))){let Z=(k[2]||k[1]).replace(this.rules.other.multipleSpaceGlobal," "),ee=T[Z.toLowerCase()];if(!ee){let te=k[0].charAt(0);return{type:"text",raw:te,text:te}}return fe(k,ee,k[0],this.lexer,this.rules)}}emStrong(Y,T,k=""){let Z=this.rules.inline.emStrongLDelim.exec(Y);if(!(!Z||Z[3]&&k.match(this.rules.other.unicodeAlphaNumeric))&&(!(Z[1]||Z[2])||!k||this.rules.inline.punctuation.exec(k))){let ee=[...Z[0]].length-1,te,ne,me=ee,Ve=0,Ye=Z[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Ye.lastIndex=0,T=T.slice(-1*Y.length+ee);(Z=Ye.exec(T))!=null;){if(te=Z[1]||Z[2]||Z[3]||Z[4]||Z[5]||Z[6],!te)continue;if(ne=[...te].length,Z[3]||Z[4]){me+=ne;continue}else if((Z[5]||Z[6])&&ee%3&&!((ee+ne)%3)){Ve+=ne;continue}if(me-=ne,me>0)continue;ne=Math.min(ne,ne+me+Ve);let et=[...Z[0]][0].length,tt=Y.slice(0,ee+Z.index+et+ne);if(Math.min(ee,ne)%2){let st=tt.slice(1,-1);return{type:"em",raw:tt,text:st,tokens:this.lexer.inlineTokens(st)}}let it=tt.slice(2,-2);return{type:"strong",raw:tt,text:it,tokens:this.lexer.inlineTokens(it)}}}}codespan(Y){let T=this.rules.inline.code.exec(Y);if(T){let k=T[2].replace(this.rules.other.newLineCharGlobal," "),Z=this.rules.other.nonSpaceChar.test(k),ee=this.rules.other.startingSpaceChar.test(k)&&this.rules.other.endingSpaceChar.test(k);return Z&&ee&&(k=k.substring(1,k.length-1)),{type:"codespan",raw:T[0],text:k}}}br(Y){let T=this.rules.inline.br.exec(Y);if(T)return{type:"br",raw:T[0]}}del(Y){let T=this.rules.inline.del.exec(Y);if(T)return{type:"del",raw:T[0],text:T[2],tokens:this.lexer.inlineTokens(T[2])}}autolink(Y){let T=this.rules.inline.autolink.exec(Y);if(T){let k,Z;return T[2]==="@"?(k=T[1],Z="mailto:"+k):(k=T[1],Z=k),{type:"link",raw:T[0],text:k,href:Z,tokens:[{type:"text",raw:k,text:k}]}}}url(Y){var k;let T;if(T=this.rules.inline.url.exec(Y)){let Z,ee;if(T[2]==="@")Z=T[0],ee="mailto:"+Z;else{let te;do te=T[0],T[0]=((k=this.rules.inline._backpedal.exec(T[0]))==null?void 0:k[0])??"";while(te!==T[0]);Z=T[0],T[1]==="www."?ee="http://"+T[0]:ee=T[0]}return{type:"link",raw:T[0],text:Z,href:ee,tokens:[{type:"text",raw:Z,text:Z}]}}}inlineText(Y){let T=this.rules.inline.text.exec(Y);if(T){let k=this.lexer.state.inRawBlock;return{type:"text",raw:T[0],text:T[0],escaped:k}}}},b=class na{constructor(T){bt(this,"tokens");bt(this,"options");bt(this,"state");bt(this,"tokenizer");bt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=T||O,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let k={other:m,block:I.normal,inline:M.normal};this.options.pedantic?(k.block=I.pedantic,k.inline=M.pedantic):this.options.gfm&&(k.block=I.gfm,this.options.breaks?k.inline=M.breaks:k.inline=M.gfm),this.tokenizer.rules=k}static get rules(){return{block:I,inline:M}}static lex(T,k){return new na(k).lex(T)}static lexInline(T,k){return new na(k).inlineTokens(T)}lex(T){T=T.replace(m.carriageReturn,`
`),this.blockTokens(T,this.tokens);for(let k=0;k<this.inlineQueue.length;k++){let Z=this.inlineQueue[k];this.inlineTokens(Z.src,Z.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(T,k=[],Z=!1){var ee,te,ne;for(this.options.pedantic&&(T=T.replace(m.tabCharGlobal,"    ").replace(m.spaceLine,""));T;){let me;if((te=(ee=this.options.extensions)==null?void 0:ee.block)!=null&&te.some(Ye=>(me=Ye.call({lexer:this},T,k))?(T=T.substring(me.raw.length),k.push(me),!0):!1))continue;if(me=this.tokenizer.space(T)){T=T.substring(me.raw.length);let Ye=k.at(-1);me.raw.length===1&&Ye!==void 0?Ye.raw+=`
`:k.push(me);continue}if(me=this.tokenizer.code(T)){T=T.substring(me.raw.length);let Ye=k.at(-1);(Ye==null?void 0:Ye.type)==="paragraph"||(Ye==null?void 0:Ye.type)==="text"?(Ye.raw+=(Ye.raw.endsWith(`
`)?"":`
`)+me.raw,Ye.text+=`
`+me.text,this.inlineQueue.at(-1).src=Ye.text):k.push(me);continue}if(me=this.tokenizer.fences(T)){T=T.substring(me.raw.length),k.push(me);continue}if(me=this.tokenizer.heading(T)){T=T.substring(me.raw.length),k.push(me);continue}if(me=this.tokenizer.hr(T)){T=T.substring(me.raw.length),k.push(me);continue}if(me=this.tokenizer.blockquote(T)){T=T.substring(me.raw.length),k.push(me);continue}if(me=this.tokenizer.list(T)){T=T.substring(me.raw.length),k.push(me);continue}if(me=this.tokenizer.html(T)){T=T.substring(me.raw.length),k.push(me);continue}if(me=this.tokenizer.def(T)){T=T.substring(me.raw.length);let Ye=k.at(-1);(Ye==null?void 0:Ye.type)==="paragraph"||(Ye==null?void 0:Ye.type)==="text"?(Ye.raw+=(Ye.raw.endsWith(`
`)?"":`
`)+me.raw,Ye.text+=`
`+me.raw,this.inlineQueue.at(-1).src=Ye.text):this.tokens.links[me.tag]||(this.tokens.links[me.tag]={href:me.href,title:me.title});continue}if(me=this.tokenizer.table(T)){T=T.substring(me.raw.length),k.push(me);continue}if(me=this.tokenizer.lheading(T)){T=T.substring(me.raw.length),k.push(me);continue}let Ve=T;if((ne=this.options.extensions)!=null&&ne.startBlock){let Ye=1/0,et=T.slice(1),tt;this.options.extensions.startBlock.forEach(it=>{tt=it.call({lexer:this},et),typeof tt=="number"&&tt>=0&&(Ye=Math.min(Ye,tt))}),Ye<1/0&&Ye>=0&&(Ve=T.substring(0,Ye+1))}if(this.state.top&&(me=this.tokenizer.paragraph(Ve))){let Ye=k.at(-1);Z&&(Ye==null?void 0:Ye.type)==="paragraph"?(Ye.raw+=(Ye.raw.endsWith(`
`)?"":`
`)+me.raw,Ye.text+=`
`+me.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=Ye.text):k.push(me),Z=Ve.length!==T.length,T=T.substring(me.raw.length);continue}if(me=this.tokenizer.text(T)){T=T.substring(me.raw.length);let Ye=k.at(-1);(Ye==null?void 0:Ye.type)==="text"?(Ye.raw+=(Ye.raw.endsWith(`
`)?"":`
`)+me.raw,Ye.text+=`
`+me.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=Ye.text):k.push(me);continue}if(T){let Ye="Infinite loop on byte: "+T.charCodeAt(0);if(this.options.silent){console.error(Ye);break}else throw new Error(Ye)}}return this.state.top=!0,k}inline(T,k=[]){return this.inlineQueue.push({src:T,tokens:k}),k}inlineTokens(T,k=[]){var me,Ve,Ye;let Z=T,ee=null;if(this.tokens.links){let et=Object.keys(this.tokens.links);if(et.length>0)for(;(ee=this.tokenizer.rules.inline.reflinkSearch.exec(Z))!=null;)et.includes(ee[0].slice(ee[0].lastIndexOf("[")+1,-1))&&(Z=Z.slice(0,ee.index)+"["+"a".repeat(ee[0].length-2)+"]"+Z.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ee=this.tokenizer.rules.inline.anyPunctuation.exec(Z))!=null;)Z=Z.slice(0,ee.index)+"++"+Z.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(ee=this.tokenizer.rules.inline.blockSkip.exec(Z))!=null;)Z=Z.slice(0,ee.index)+"["+"a".repeat(ee[0].length-2)+"]"+Z.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let te=!1,ne="";for(;T;){te||(ne=""),te=!1;let et;if((Ve=(me=this.options.extensions)==null?void 0:me.inline)!=null&&Ve.some(it=>(et=it.call({lexer:this},T,k))?(T=T.substring(et.raw.length),k.push(et),!0):!1))continue;if(et=this.tokenizer.escape(T)){T=T.substring(et.raw.length),k.push(et);continue}if(et=this.tokenizer.tag(T)){T=T.substring(et.raw.length),k.push(et);continue}if(et=this.tokenizer.link(T)){T=T.substring(et.raw.length),k.push(et);continue}if(et=this.tokenizer.reflink(T,this.tokens.links)){T=T.substring(et.raw.length);let it=k.at(-1);et.type==="text"&&(it==null?void 0:it.type)==="text"?(it.raw+=et.raw,it.text+=et.text):k.push(et);continue}if(et=this.tokenizer.emStrong(T,Z,ne)){T=T.substring(et.raw.length),k.push(et);continue}if(et=this.tokenizer.codespan(T)){T=T.substring(et.raw.length),k.push(et);continue}if(et=this.tokenizer.br(T)){T=T.substring(et.raw.length),k.push(et);continue}if(et=this.tokenizer.del(T)){T=T.substring(et.raw.length),k.push(et);continue}if(et=this.tokenizer.autolink(T)){T=T.substring(et.raw.length),k.push(et);continue}if(!this.state.inLink&&(et=this.tokenizer.url(T))){T=T.substring(et.raw.length),k.push(et);continue}let tt=T;if((Ye=this.options.extensions)!=null&&Ye.startInline){let it=1/0,st=T.slice(1),nt;this.options.extensions.startInline.forEach(rt=>{nt=rt.call({lexer:this},st),typeof nt=="number"&&nt>=0&&(it=Math.min(it,nt))}),it<1/0&&it>=0&&(tt=T.substring(0,it+1))}if(et=this.tokenizer.inlineText(tt)){T=T.substring(et.raw.length),et.raw.slice(-1)!=="_"&&(ne=et.raw.slice(-1)),te=!0;let it=k.at(-1);(it==null?void 0:it.type)==="text"?(it.raw+=et.raw,it.text+=et.text):k.push(et);continue}if(T){let it="Infinite loop on byte: "+T.charCodeAt(0);if(this.options.silent){console.error(it);break}else throw new Error(it)}}return k}},P=class{constructor(Y){bt(this,"options");bt(this,"parser");this.options=Y||O}space(Y){return""}code({text:Y,lang:T,escaped:k}){var te;let Z=(te=(T||"").match(m.notSpaceStart))==null?void 0:te[0],ee=Y.replace(m.endingNewline,"")+`
`;return Z?'<pre><code class="language-'+w(Z)+'">'+(k?ee:w(ee,!0))+`</code></pre>
`:"<pre><code>"+(k?ee:w(ee,!0))+`</code></pre>
`}blockquote({tokens:Y}){return`<blockquote>
${this.parser.parse(Y)}</blockquote>
`}html({text:Y}){return Y}heading({tokens:Y,depth:T}){return`<h${T}>${this.parser.parseInline(Y)}</h${T}>
`}hr(Y){return`<hr>
`}list(Y){let T=Y.ordered,k=Y.start,Z="";for(let ne=0;ne<Y.items.length;ne++){let me=Y.items[ne];Z+=this.listitem(me)}let ee=T?"ol":"ul",te=T&&k!==1?' start="'+k+'"':"";return"<"+ee+te+`>
`+Z+"</"+ee+`>
`}listitem(Y){var k;let T="";if(Y.task){let Z=this.checkbox({checked:!!Y.checked});Y.loose?((k=Y.tokens[0])==null?void 0:k.type)==="paragraph"?(Y.tokens[0].text=Z+" "+Y.tokens[0].text,Y.tokens[0].tokens&&Y.tokens[0].tokens.length>0&&Y.tokens[0].tokens[0].type==="text"&&(Y.tokens[0].tokens[0].text=Z+" "+w(Y.tokens[0].tokens[0].text),Y.tokens[0].tokens[0].escaped=!0)):Y.tokens.unshift({type:"text",raw:Z+" ",text:Z+" ",escaped:!0}):T+=Z+" "}return T+=this.parser.parse(Y.tokens,!!Y.loose),`<li>${T}</li>
`}checkbox({checked:Y}){return"<input "+(Y?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Y}){return`<p>${this.parser.parseInline(Y)}</p>
`}table(Y){let T="",k="";for(let ee=0;ee<Y.header.length;ee++)k+=this.tablecell(Y.header[ee]);T+=this.tablerow({text:k});let Z="";for(let ee=0;ee<Y.rows.length;ee++){let te=Y.rows[ee];k="";for(let ne=0;ne<te.length;ne++)k+=this.tablecell(te[ne]);Z+=this.tablerow({text:k})}return Z&&(Z=`<tbody>${Z}</tbody>`),`<table>
<thead>
`+T+`</thead>
`+Z+`</table>
`}tablerow({text:Y}){return`<tr>
${Y}</tr>
`}tablecell(Y){let T=this.parser.parseInline(Y.tokens),k=Y.header?"th":"td";return(Y.align?`<${k} align="${Y.align}">`:`<${k}>`)+T+`</${k}>
`}strong({tokens:Y}){return`<strong>${this.parser.parseInline(Y)}</strong>`}em({tokens:Y}){return`<em>${this.parser.parseInline(Y)}</em>`}codespan({text:Y}){return`<code>${w(Y,!0)}</code>`}br(Y){return"<br>"}del({tokens:Y}){return`<del>${this.parser.parseInline(Y)}</del>`}link({href:Y,title:T,tokens:k}){let Z=this.parser.parseInline(k),ee=J(Y);if(ee===null)return Z;Y=ee;let te='<a href="'+Y+'"';return T&&(te+=' title="'+w(T)+'"'),te+=">"+Z+"</a>",te}image({href:Y,title:T,text:k,tokens:Z}){Z&&(k=this.parser.parseInline(Z,this.parser.textRenderer));let ee=J(Y);if(ee===null)return w(k);Y=ee;let te=`<img src="${Y}" alt="${k}"`;return T&&(te+=` title="${w(T)}"`),te+=">",te}text(Y){return"tokens"in Y&&Y.tokens?this.parser.parseInline(Y.tokens):"escaped"in Y&&Y.escaped?Y.text:w(Y.text)}},S=class{strong({text:Y}){return Y}em({text:Y}){return Y}codespan({text:Y}){return Y}del({text:Y}){return Y}html({text:Y}){return Y}text({text:Y}){return Y}link({text:Y}){return""+Y}image({text:Y}){return""+Y}br(){return""}},R=class ra{constructor(T){bt(this,"options");bt(this,"renderer");bt(this,"textRenderer");this.options=T||O,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new S}static parse(T,k){return new ra(k).parse(T)}static parseInline(T,k){return new ra(k).parseInline(T)}parse(T,k=!0){var ee,te;let Z="";for(let ne=0;ne<T.length;ne++){let me=T[ne];if((te=(ee=this.options.extensions)==null?void 0:ee.renderers)!=null&&te[me.type]){let Ye=me,et=this.options.extensions.renderers[Ye.type].call({parser:this},Ye);if(et!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ye.type)){Z+=et||"";continue}}let Ve=me;switch(Ve.type){case"space":{Z+=this.renderer.space(Ve);continue}case"hr":{Z+=this.renderer.hr(Ve);continue}case"heading":{Z+=this.renderer.heading(Ve);continue}case"code":{Z+=this.renderer.code(Ve);continue}case"table":{Z+=this.renderer.table(Ve);continue}case"blockquote":{Z+=this.renderer.blockquote(Ve);continue}case"list":{Z+=this.renderer.list(Ve);continue}case"html":{Z+=this.renderer.html(Ve);continue}case"paragraph":{Z+=this.renderer.paragraph(Ve);continue}case"text":{let Ye=Ve,et=this.renderer.text(Ye);for(;ne+1<T.length&&T[ne+1].type==="text";)Ye=T[++ne],et+=`
`+this.renderer.text(Ye);k?Z+=this.renderer.paragraph({type:"paragraph",raw:et,text:et,tokens:[{type:"text",raw:et,text:et,escaped:!0}]}):Z+=et;continue}default:{let Ye='Token with "'+Ve.type+'" type was not found.';if(this.options.silent)return console.error(Ye),"";throw new Error(Ye)}}}return Z}parseInline(T,k=this.renderer){var ee,te;let Z="";for(let ne=0;ne<T.length;ne++){let me=T[ne];if((te=(ee=this.options.extensions)==null?void 0:ee.renderers)!=null&&te[me.type]){let Ye=this.options.extensions.renderers[me.type].call({parser:this},me);if(Ye!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(me.type)){Z+=Ye||"";continue}}let Ve=me;switch(Ve.type){case"escape":{Z+=k.text(Ve);break}case"html":{Z+=k.html(Ve);break}case"link":{Z+=k.link(Ve);break}case"image":{Z+=k.image(Ve);break}case"strong":{Z+=k.strong(Ve);break}case"em":{Z+=k.em(Ve);break}case"codespan":{Z+=k.codespan(Ve);break}case"br":{Z+=k.br(Ve);break}case"del":{Z+=k.del(Ve);break}case"text":{Z+=k.text(Ve);break}default:{let Ye='Token with "'+Ve.type+'" type was not found.';if(this.options.silent)return console.error(Ye),"";throw new Error(Ye)}}}return Z}},sa,$=(sa=class{constructor(Y){bt(this,"options");bt(this,"block");this.options=Y||O}preprocess(Y){return Y}postprocess(Y){return Y}processAllTokens(Y){return Y}provideLexer(){return this.block?b.lex:b.lexInline}provideParser(){return this.block?R.parse:R.parseInline}},bt(sa,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),sa),B=class{constructor(...Y){bt(this,"defaults",L());bt(this,"options",this.setOptions);bt(this,"parse",this.parseMarkdown(!0));bt(this,"parseInline",this.parseMarkdown(!1));bt(this,"Parser",R);bt(this,"Renderer",P);bt(this,"TextRenderer",S);bt(this,"Lexer",b);bt(this,"Tokenizer",y);bt(this,"Hooks",$);this.use(...Y)}walkTokens(Y,T){var Z,ee;let k=[];for(let te of Y)switch(k=k.concat(T.call(this,te)),te.type){case"table":{let ne=te;for(let me of ne.header)k=k.concat(this.walkTokens(me.tokens,T));for(let me of ne.rows)for(let Ve of me)k=k.concat(this.walkTokens(Ve.tokens,T));break}case"list":{let ne=te;k=k.concat(this.walkTokens(ne.items,T));break}default:{let ne=te;(ee=(Z=this.defaults.extensions)==null?void 0:Z.childTokens)!=null&&ee[ne.type]?this.defaults.extensions.childTokens[ne.type].forEach(me=>{let Ve=ne[me].flat(1/0);k=k.concat(this.walkTokens(Ve,T))}):ne.tokens&&(k=k.concat(this.walkTokens(ne.tokens,T)))}}return k}use(...Y){let T=this.defaults.extensions||{renderers:{},childTokens:{}};return Y.forEach(k=>{let Z={...k};if(Z.async=this.defaults.async||Z.async||!1,k.extensions&&(k.extensions.forEach(ee=>{if(!ee.name)throw new Error("extension name required");if("renderer"in ee){let te=T.renderers[ee.name];te?T.renderers[ee.name]=function(...ne){let me=ee.renderer.apply(this,ne);return me===!1&&(me=te.apply(this,ne)),me}:T.renderers[ee.name]=ee.renderer}if("tokenizer"in ee){if(!ee.level||ee.level!=="block"&&ee.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let te=T[ee.level];te?te.unshift(ee.tokenizer):T[ee.level]=[ee.tokenizer],ee.start&&(ee.level==="block"?T.startBlock?T.startBlock.push(ee.start):T.startBlock=[ee.start]:ee.level==="inline"&&(T.startInline?T.startInline.push(ee.start):T.startInline=[ee.start]))}"childTokens"in ee&&ee.childTokens&&(T.childTokens[ee.name]=ee.childTokens)}),Z.extensions=T),k.renderer){let ee=this.defaults.renderer||new P(this.defaults);for(let te in k.renderer){if(!(te in ee))throw new Error(`renderer '${te}' does not exist`);if(["options","parser"].includes(te))continue;let ne=te,me=k.renderer[ne],Ve=ee[ne];ee[ne]=(...Ye)=>{let et=me.apply(ee,Ye);return et===!1&&(et=Ve.apply(ee,Ye)),et||""}}Z.renderer=ee}if(k.tokenizer){let ee=this.defaults.tokenizer||new y(this.defaults);for(let te in k.tokenizer){if(!(te in ee))throw new Error(`tokenizer '${te}' does not exist`);if(["options","rules","lexer"].includes(te))continue;let ne=te,me=k.tokenizer[ne],Ve=ee[ne];ee[ne]=(...Ye)=>{let et=me.apply(ee,Ye);return et===!1&&(et=Ve.apply(ee,Ye)),et}}Z.tokenizer=ee}if(k.hooks){let ee=this.defaults.hooks||new $;for(let te in k.hooks){if(!(te in ee))throw new Error(`hook '${te}' does not exist`);if(["options","block"].includes(te))continue;let ne=te,me=k.hooks[ne],Ve=ee[ne];$.passThroughHooks.has(te)?ee[ne]=Ye=>{if(this.defaults.async)return Promise.resolve(me.call(ee,Ye)).then(tt=>Ve.call(ee,tt));let et=me.call(ee,Ye);return Ve.call(ee,et)}:ee[ne]=(...Ye)=>{let et=me.apply(ee,Ye);return et===!1&&(et=Ve.apply(ee,Ye)),et}}Z.hooks=ee}if(k.walkTokens){let ee=this.defaults.walkTokens,te=k.walkTokens;Z.walkTokens=function(ne){let me=[];return me.push(te.call(this,ne)),ee&&(me=me.concat(ee.call(this,ne))),me}}this.defaults={...this.defaults,...Z}}),this}setOptions(Y){return this.defaults={...this.defaults,...Y},this}lexer(Y,T){return b.lex(Y,T??this.defaults)}parser(Y,T){return R.parse(Y,T??this.defaults)}parseMarkdown(Y){return(T,k)=>{let Z={...k},ee={...this.defaults,...Z},te=this.onError(!!ee.silent,!!ee.async);if(this.defaults.async===!0&&Z.async===!1)return te(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof T>"u"||T===null)return te(new Error("marked(): input parameter is undefined or null"));if(typeof T!="string")return te(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(T)+", string expected"));ee.hooks&&(ee.hooks.options=ee,ee.hooks.block=Y);let ne=ee.hooks?ee.hooks.provideLexer():Y?b.lex:b.lexInline,me=ee.hooks?ee.hooks.provideParser():Y?R.parse:R.parseInline;if(ee.async)return Promise.resolve(ee.hooks?ee.hooks.preprocess(T):T).then(Ve=>ne(Ve,ee)).then(Ve=>ee.hooks?ee.hooks.processAllTokens(Ve):Ve).then(Ve=>ee.walkTokens?Promise.all(this.walkTokens(Ve,ee.walkTokens)).then(()=>Ve):Ve).then(Ve=>me(Ve,ee)).then(Ve=>ee.hooks?ee.hooks.postprocess(Ve):Ve).catch(te);try{ee.hooks&&(T=ee.hooks.preprocess(T));let Ve=ne(T,ee);ee.hooks&&(Ve=ee.hooks.processAllTokens(Ve)),ee.walkTokens&&this.walkTokens(Ve,ee.walkTokens);let Ye=me(Ve,ee);return ee.hooks&&(Ye=ee.hooks.postprocess(Ye)),Ye}catch(Ve){return te(Ve)}}}onError(Y,T){return k=>{if(k.message+=`
Please report this to https://github.com/markedjs/marked.`,Y){let Z="<p>An error occurred:</p><pre>"+w(k.message+"",!0)+"</pre>";return T?Promise.resolve(Z):Z}if(T)return Promise.reject(k);throw k}}},_=new B;function d(Y,T){return _.parse(Y,T)}d.options=d.setOptions=function(Y){return _.setOptions(Y),d.defaults=_.defaults,H(d.defaults),d};d.getDefaults=L;d.defaults=O;d.use=function(...Y){return _.use(...Y),d.defaults=_.defaults,H(d.defaults),d};d.walkTokens=function(Y,T){return _.walkTokens(Y,T)};d.parseInline=_.parseInline;d.Parser=R;d.parser=R.parse;d.Renderer=P;d.TextRenderer=S;d.Lexer=b;d.lexer=b.lex;d.Tokenizer=y;d.Hooks=$;d.parse=d;d.options;d.setOptions;d.use;d.walkTokens;d.parseInline;R.parse;b.lex;/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(T){return T});seal||(seal=function(T){return T});apply||(apply=function(T,k,Z){return T.apply(k,Z)});construct||(construct=function(T,k){return new T(...k)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(Y){return function(T){T instanceof RegExp&&(T.lastIndex=0);for(var k=arguments.length,Z=new Array(k>1?k-1:0),ee=1;ee<k;ee++)Z[ee-1]=arguments[ee];return apply(Y,T,Z)}}function unconstruct(Y){return function(){for(var T=arguments.length,k=new Array(T),Z=0;Z<T;Z++)k[Z]=arguments[Z];return construct(Y,k)}}function addToSet(Y,T){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(Y,null);let Z=T.length;for(;Z--;){let ee=T[Z];if(typeof ee=="string"){const te=k(ee);te!==ee&&(isFrozen(T)||(T[Z]=te),ee=te)}Y[ee]=!0}return Y}function cleanArray(Y){for(let T=0;T<Y.length;T++)objectHasOwnProperty(Y,T)||(Y[T]=null);return Y}function clone(Y){const T=create(null);for(const[k,Z]of entries(Y))objectHasOwnProperty(Y,k)&&(Array.isArray(Z)?T[k]=cleanArray(Z):Z&&typeof Z=="object"&&Z.constructor===Object?T[k]=clone(Z):T[k]=Z);return T}function lookupGetter(Y,T){for(;Y!==null;){const Z=getOwnPropertyDescriptor(Y,T);if(Z){if(Z.get)return unapply(Z.get);if(typeof Z.value=="function")return unapply(Z.value)}Y=getPrototypeOf(Y)}function k(){return null}return k}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,text:3,progressingInstruction:7,comment:8,document:9},getGlobal=function Y(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function Y(T,k){if(typeof T!="object"||typeof T.createPolicy!="function")return null;let Z=null;const ee="data-tt-policy-suffix";k&&k.hasAttribute(ee)&&(Z=k.getAttribute(ee));const te="dompurify"+(Z?"#"+Z:"");try{return T.createPolicy(te,{createHTML(ne){return ne},createScriptURL(ne){return ne}})}catch{return console.warn("TrustedTypes policy "+te+" could not be created."),null}},_createHooksMap=function Y(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const T=Ni=>createDOMPurify(Ni);if(T.version="3.2.6",T.removed=[],!Y||!Y.document||Y.document.nodeType!==NODE_TYPE.document||!Y.Element)return T.isSupported=!1,T;let{document:k}=Y;const Z=k,ee=Z.currentScript,{DocumentFragment:te,HTMLTemplateElement:ne,Node:me,Element:Ve,NodeFilter:Ye,NamedNodeMap:et=Y.NamedNodeMap||Y.MozNamedAttrMap,HTMLFormElement:tt,DOMParser:it,trustedTypes:st}=Y,nt=Ve.prototype,rt=lookupGetter(nt,"cloneNode"),lt=lookupGetter(nt,"remove"),ot=lookupGetter(nt,"nextSibling"),ht=lookupGetter(nt,"childNodes"),dt=lookupGetter(nt,"parentNode");if(typeof ne=="function"){const Ni=k.createElement("template");Ni.content&&Ni.content.ownerDocument&&(k=Ni.content.ownerDocument)}let ct,ut="";const{implementation:ft,createNodeIterator:vt,createDocumentFragment:mt,getElementsByTagName:_t}=k,{importNode:Et}=Z;let Tt=_createHooksMap();T.isSupported=typeof entries=="function"&&typeof dt=="function"&&ft&&ft.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:xt,ERB_EXPR:yt,TMPLIT_EXPR:St,DATA_ATTR:At,ARIA_ATTR:Ct,IS_SCRIPT_OR_DATA:It,ATTR_WHITESPACE:Ot,CUSTOM_ELEMENT:Dt}=EXPRESSIONS;let{IS_ALLOWED_URI:Mt}=EXPRESSIONS,$t=null;const Ht=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let Ft=null;const jt=addToSet({},[...html,...svg,...mathMl,...xml]);let Gt=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Kt=null,Pt=null,kt=!0,zt=!0,Wt=!1,si=!0,ei=!1,Zt=!0,Jt=!1,ti=!1,di=!1,Qt=!1,Si=!1,Ti=!1,Ri=!0,ki=!1;const Bt="user-content-";let ai=!0,ci=!1,yi={},Ci=null;const Vi=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ii=null;const ui=addToSet({},["audio","video","img","source","image","track"]);let hi=null;const ri=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),bi="http://www.w3.org/1998/Math/MathML",gi="http://www.w3.org/2000/svg",fi="http://www.w3.org/1999/xhtml";let Li=fi,Hi=!1,ji=null;const Mi=addToSet({},[bi,gi,fi],stringToString);let zi=addToSet({},["mi","mo","mn","ms","mtext"]),$i=addToSet({},["annotation-xml"]);const Oi=addToSet({},["title","style","font","a","script"]);let Pi=null;const Wi=["application/xhtml+xml","text/html"],qi="text/html";let Ui=null,hs=null;const xs=k.createElement("form"),fs=function(qt){return qt instanceof RegExp||qt instanceof Function},vs=function(){let qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(hs&&hs===qt)){if((!qt||typeof qt!="object")&&(qt={}),qt=clone(qt),Pi=Wi.indexOf(qt.PARSER_MEDIA_TYPE)===-1?qi:qt.PARSER_MEDIA_TYPE,Ui=Pi==="application/xhtml+xml"?stringToString:stringToLowerCase,$t=objectHasOwnProperty(qt,"ALLOWED_TAGS")?addToSet({},qt.ALLOWED_TAGS,Ui):Ht,Ft=objectHasOwnProperty(qt,"ALLOWED_ATTR")?addToSet({},qt.ALLOWED_ATTR,Ui):jt,ji=objectHasOwnProperty(qt,"ALLOWED_NAMESPACES")?addToSet({},qt.ALLOWED_NAMESPACES,stringToString):Mi,hi=objectHasOwnProperty(qt,"ADD_URI_SAFE_ATTR")?addToSet(clone(ri),qt.ADD_URI_SAFE_ATTR,Ui):ri,ii=objectHasOwnProperty(qt,"ADD_DATA_URI_TAGS")?addToSet(clone(ui),qt.ADD_DATA_URI_TAGS,Ui):ui,Ci=objectHasOwnProperty(qt,"FORBID_CONTENTS")?addToSet({},qt.FORBID_CONTENTS,Ui):Vi,Kt=objectHasOwnProperty(qt,"FORBID_TAGS")?addToSet({},qt.FORBID_TAGS,Ui):clone({}),Pt=objectHasOwnProperty(qt,"FORBID_ATTR")?addToSet({},qt.FORBID_ATTR,Ui):clone({}),yi=objectHasOwnProperty(qt,"USE_PROFILES")?qt.USE_PROFILES:!1,kt=qt.ALLOW_ARIA_ATTR!==!1,zt=qt.ALLOW_DATA_ATTR!==!1,Wt=qt.ALLOW_UNKNOWN_PROTOCOLS||!1,si=qt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ei=qt.SAFE_FOR_TEMPLATES||!1,Zt=qt.SAFE_FOR_XML!==!1,Jt=qt.WHOLE_DOCUMENT||!1,Qt=qt.RETURN_DOM||!1,Si=qt.RETURN_DOM_FRAGMENT||!1,Ti=qt.RETURN_TRUSTED_TYPE||!1,di=qt.FORCE_BODY||!1,Ri=qt.SANITIZE_DOM!==!1,ki=qt.SANITIZE_NAMED_PROPS||!1,ai=qt.KEEP_CONTENT!==!1,ci=qt.IN_PLACE||!1,Mt=qt.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,Li=qt.NAMESPACE||fi,zi=qt.MATHML_TEXT_INTEGRATION_POINTS||zi,$i=qt.HTML_INTEGRATION_POINTS||$i,Gt=qt.CUSTOM_ELEMENT_HANDLING||{},qt.CUSTOM_ELEMENT_HANDLING&&fs(qt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Gt.tagNameCheck=qt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),qt.CUSTOM_ELEMENT_HANDLING&&fs(qt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Gt.attributeNameCheck=qt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),qt.CUSTOM_ELEMENT_HANDLING&&typeof qt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Gt.allowCustomizedBuiltInElements=qt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ei&&(zt=!1),Si&&(Qt=!0),yi&&($t=addToSet({},text),Ft=[],yi.html===!0&&(addToSet($t,html$1),addToSet(Ft,html)),yi.svg===!0&&(addToSet($t,svg$1),addToSet(Ft,svg),addToSet(Ft,xml)),yi.svgFilters===!0&&(addToSet($t,svgFilters),addToSet(Ft,svg),addToSet(Ft,xml)),yi.mathMl===!0&&(addToSet($t,mathMl$1),addToSet(Ft,mathMl),addToSet(Ft,xml))),qt.ADD_TAGS&&($t===Ht&&($t=clone($t)),addToSet($t,qt.ADD_TAGS,Ui)),qt.ADD_ATTR&&(Ft===jt&&(Ft=clone(Ft)),addToSet(Ft,qt.ADD_ATTR,Ui)),qt.ADD_URI_SAFE_ATTR&&addToSet(hi,qt.ADD_URI_SAFE_ATTR,Ui),qt.FORBID_CONTENTS&&(Ci===Vi&&(Ci=clone(Ci)),addToSet(Ci,qt.FORBID_CONTENTS,Ui)),ai&&($t["#text"]=!0),Jt&&addToSet($t,["html","head","body"]),$t.table&&(addToSet($t,["tbody"]),delete Kt.tbody),qt.TRUSTED_TYPES_POLICY){if(typeof qt.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof qt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ct=qt.TRUSTED_TYPES_POLICY,ut=ct.createHTML("")}else ct===void 0&&(ct=_createTrustedTypesPolicy(st,ee)),ct!==null&&typeof ut=="string"&&(ut=ct.createHTML(""));freeze&&freeze(qt),hs=qt}},Zi=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),Qs=addToSet({},[...mathMl$1,...mathMlDisallowed]),$s=function(qt){let Ei=dt(qt);(!Ei||!Ei.tagName)&&(Ei={namespaceURI:Li,tagName:"template"});const Di=stringToLowerCase(qt.tagName),es=stringToLowerCase(Ei.tagName);return ji[qt.namespaceURI]?qt.namespaceURI===gi?Ei.namespaceURI===fi?Di==="svg":Ei.namespaceURI===bi?Di==="svg"&&(es==="annotation-xml"||zi[es]):!!Zi[Di]:qt.namespaceURI===bi?Ei.namespaceURI===fi?Di==="math":Ei.namespaceURI===gi?Di==="math"&&$i[es]:!!Qs[Di]:qt.namespaceURI===fi?Ei.namespaceURI===gi&&!$i[es]||Ei.namespaceURI===bi&&!zi[es]?!1:!Qs[Di]&&(Oi[Di]||!Zi[Di]):!!(Pi==="application/xhtml+xml"&&ji[qt.namespaceURI]):!1},cs=function(qt){arrayPush(T.removed,{element:qt});try{dt(qt).removeChild(qt)}catch{lt(qt)}},bs=function(qt,Ei){try{arrayPush(T.removed,{attribute:Ei.getAttributeNode(qt),from:Ei})}catch{arrayPush(T.removed,{attribute:null,from:Ei})}if(Ei.removeAttribute(qt),qt==="is")if(Qt||Si)try{cs(Ei)}catch{}else try{Ei.setAttribute(qt,"")}catch{}},Ts=function(qt){let Ei=null,Di=null;if(di)qt="<remove></remove>"+qt;else{const ss=stringMatch(qt,/^[\r\n\t ]+/);Di=ss&&ss[0]}Pi==="application/xhtml+xml"&&Li===fi&&(qt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+qt+"</body></html>");const es=ct?ct.createHTML(qt):qt;if(Li===fi)try{Ei=new it().parseFromString(es,Pi)}catch{}if(!Ei||!Ei.documentElement){Ei=ft.createDocument(Li,"template",null);try{Ei.documentElement.innerHTML=Hi?ut:es}catch{}}const as=Ei.body||Ei.documentElement;return qt&&Di&&as.insertBefore(k.createTextNode(Di),as.childNodes[0]||null),Li===fi?_t.call(Ei,Jt?"html":"body")[0]:Jt?Ei.documentElement:as},Ps=function(qt){return vt.call(qt.ownerDocument||qt,qt,Ye.SHOW_ELEMENT|Ye.SHOW_COMMENT|Ye.SHOW_TEXT|Ye.SHOW_PROCESSING_INSTRUCTION|Ye.SHOW_CDATA_SECTION,null)},Ds=function(qt){return qt instanceof tt&&(typeof qt.nodeName!="string"||typeof qt.textContent!="string"||typeof qt.removeChild!="function"||!(qt.attributes instanceof et)||typeof qt.removeAttribute!="function"||typeof qt.setAttribute!="function"||typeof qt.namespaceURI!="string"||typeof qt.insertBefore!="function"||typeof qt.hasChildNodes!="function")},Us=function(qt){return typeof me=="function"&&qt instanceof me};function ds(Ni,qt,Ei){arrayForEach(Ni,Di=>{Di.call(T,qt,Ei,hs)})}const Vs=function(qt){let Ei=null;if(ds(Tt.beforeSanitizeElements,qt,null),Ds(qt))return cs(qt),!0;const Di=Ui(qt.nodeName);if(ds(Tt.uponSanitizeElement,qt,{tagName:Di,allowedTags:$t}),Zt&&qt.hasChildNodes()&&!Us(qt.firstElementChild)&&regExpTest(/<[/\w!]/g,qt.innerHTML)&&regExpTest(/<[/\w!]/g,qt.textContent)||qt.nodeType===NODE_TYPE.progressingInstruction||Zt&&qt.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,qt.data))return cs(qt),!0;if(!$t[Di]||Kt[Di]){if(!Kt[Di]&&en(Di)&&(Gt.tagNameCheck instanceof RegExp&&regExpTest(Gt.tagNameCheck,Di)||Gt.tagNameCheck instanceof Function&&Gt.tagNameCheck(Di)))return!1;if(ai&&!Ci[Di]){const es=dt(qt)||qt.parentNode,as=ht(qt)||qt.childNodes;if(as&&es){const ss=as.length;for(let Nt=ss-1;Nt>=0;--Nt){const ts=rt(as[Nt],!0);ts.__removalCount=(qt.__removalCount||0)+1,es.insertBefore(ts,ot(qt))}}}return cs(qt),!0}return qt instanceof Ve&&!$s(qt)||(Di==="noscript"||Di==="noembed"||Di==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,qt.innerHTML)?(cs(qt),!0):(ei&&qt.nodeType===NODE_TYPE.text&&(Ei=qt.textContent,arrayForEach([xt,yt,St],es=>{Ei=stringReplace(Ei,es," ")}),qt.textContent!==Ei&&(arrayPush(T.removed,{element:qt.cloneNode()}),qt.textContent=Ei)),ds(Tt.afterSanitizeElements,qt,null),!1)},Gi=function(qt,Ei,Di){if(Ri&&(Ei==="id"||Ei==="name")&&(Di in k||Di in xs))return!1;if(!(zt&&!Pt[Ei]&&regExpTest(At,Ei))){if(!(kt&&regExpTest(Ct,Ei))){if(!Ft[Ei]||Pt[Ei]){if(!(en(qt)&&(Gt.tagNameCheck instanceof RegExp&&regExpTest(Gt.tagNameCheck,qt)||Gt.tagNameCheck instanceof Function&&Gt.tagNameCheck(qt))&&(Gt.attributeNameCheck instanceof RegExp&&regExpTest(Gt.attributeNameCheck,Ei)||Gt.attributeNameCheck instanceof Function&&Gt.attributeNameCheck(Ei))||Ei==="is"&&Gt.allowCustomizedBuiltInElements&&(Gt.tagNameCheck instanceof RegExp&&regExpTest(Gt.tagNameCheck,Di)||Gt.tagNameCheck instanceof Function&&Gt.tagNameCheck(Di))))return!1}else if(!hi[Ei]){if(!regExpTest(Mt,stringReplace(Di,Ot,""))){if(!((Ei==="src"||Ei==="xlink:href"||Ei==="href")&&qt!=="script"&&stringIndexOf(Di,"data:")===0&&ii[qt])){if(!(Wt&&!regExpTest(It,stringReplace(Di,Ot,"")))){if(Di)return!1}}}}}}return!0},en=function(qt){return qt!=="annotation-xml"&&stringMatch(qt,Dt)},tn=function(qt){ds(Tt.beforeSanitizeAttributes,qt,null);const{attributes:Ei}=qt;if(!Ei||Ds(qt))return;const Di={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ft,forceKeepAttr:void 0};let es=Ei.length;for(;es--;){const as=Ei[es],{name:ss,namespaceURI:Nt,value:ts}=as,Is=Ui(ss),_s=ts;let os=ss==="value"?_s:stringTrim(_s);if(Di.attrName=Is,Di.attrValue=os,Di.keepAttr=!0,Di.forceKeepAttr=void 0,ds(Tt.uponSanitizeAttribute,qt,Di),os=Di.attrValue,ki&&(Is==="id"||Is==="name")&&(bs(ss,qt),os=Bt+os),Zt&&regExpTest(/((--!?|])>)|<\/(style|title)/i,os)){bs(ss,qt);continue}if(Di.forceKeepAttr)continue;if(!Di.keepAttr){bs(ss,qt);continue}if(!si&&regExpTest(/\/>/i,os)){bs(ss,qt);continue}ei&&arrayForEach([xt,yt,St],js=>{os=stringReplace(os,js," ")});const nn=Ui(qt.nodeName);if(!Gi(nn,Is,os)){bs(ss,qt);continue}if(ct&&typeof st=="object"&&typeof st.getAttributeType=="function"&&!Nt)switch(st.getAttributeType(nn,Is)){case"TrustedHTML":{os=ct.createHTML(os);break}case"TrustedScriptURL":{os=ct.createScriptURL(os);break}}if(os!==_s)try{Nt?qt.setAttributeNS(Nt,ss,os):qt.setAttribute(ss,os),Ds(qt)?cs(qt):arrayPop(T.removed)}catch{bs(ss,qt)}}ds(Tt.afterSanitizeAttributes,qt,null)},sn=function Ni(qt){let Ei=null;const Di=Ps(qt);for(ds(Tt.beforeSanitizeShadowDOM,qt,null);Ei=Di.nextNode();)ds(Tt.uponSanitizeShadowNode,Ei,null),Vs(Ei),tn(Ei),Ei.content instanceof te&&Ni(Ei.content);ds(Tt.afterSanitizeShadowDOM,qt,null)};return T.sanitize=function(Ni){let qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ei=null,Di=null,es=null,as=null;if(Hi=!Ni,Hi&&(Ni="<!-->"),typeof Ni!="string"&&!Us(Ni))if(typeof Ni.toString=="function"){if(Ni=Ni.toString(),typeof Ni!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!T.isSupported)return Ni;if(ti||vs(qt),T.removed=[],typeof Ni=="string"&&(ci=!1),ci){if(Ni.nodeName){const ts=Ui(Ni.nodeName);if(!$t[ts]||Kt[ts])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Ni instanceof me)Ei=Ts("<!---->"),Di=Ei.ownerDocument.importNode(Ni,!0),Di.nodeType===NODE_TYPE.element&&Di.nodeName==="BODY"||Di.nodeName==="HTML"?Ei=Di:Ei.appendChild(Di);else{if(!Qt&&!ei&&!Jt&&Ni.indexOf("<")===-1)return ct&&Ti?ct.createHTML(Ni):Ni;if(Ei=Ts(Ni),!Ei)return Qt?null:Ti?ut:""}Ei&&di&&cs(Ei.firstChild);const ss=Ps(ci?Ni:Ei);for(;es=ss.nextNode();)Vs(es),tn(es),es.content instanceof te&&sn(es.content);if(ci)return Ni;if(Qt){if(Si)for(as=mt.call(Ei.ownerDocument);Ei.firstChild;)as.appendChild(Ei.firstChild);else as=Ei;return(Ft.shadowroot||Ft.shadowrootmode)&&(as=Et.call(Z,as,!0)),as}let Nt=Jt?Ei.outerHTML:Ei.innerHTML;return Jt&&$t["!doctype"]&&Ei.ownerDocument&&Ei.ownerDocument.doctype&&Ei.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Ei.ownerDocument.doctype.name)&&(Nt="<!DOCTYPE "+Ei.ownerDocument.doctype.name+`>
`+Nt),ei&&arrayForEach([xt,yt,St],ts=>{Nt=stringReplace(Nt,ts," ")}),ct&&Ti?ct.createHTML(Nt):Nt},T.setConfig=function(){let Ni=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vs(Ni),ti=!0},T.clearConfig=function(){hs=null,ti=!1},T.isValidAttribute=function(Ni,qt,Ei){hs||vs({});const Di=Ui(Ni),es=Ui(qt);return Gi(Di,es,Ei)},T.addHook=function(Ni,qt){typeof qt=="function"&&arrayPush(Tt[Ni],qt)},T.removeHook=function(Ni,qt){if(qt!==void 0){const Ei=arrayLastIndexOf(Tt[Ni],qt);return Ei===-1?void 0:arraySplice(Tt[Ni],Ei,1)[0]}return arrayPop(Tt[Ni])},T.removeHooks=function(Ni){Tt[Ni]=[]},T.removeAllHooks=function(){Tt=_createHooksMap()},T}var purify=createDOMPurify(),root$1R=template('<main class="preview svelte-7que8e"><!></main>');function MarkdownPreview(Y,T){push(T,!0);let k=rest_props(T,["$$slots","$$events","$$legacy"]),Z=state(void 0);user_effect(()=>{k&&ee()});const ee=()=>{const me=d(T.markdownContent);set(Z,proxy(purify.sanitize(me)))};onMount(()=>{ee()});var te=root$1R(),ne=child(te);html$3(ne,()=>get$2(Z)),append(Y,te),pop()}var on_click$m=(Y,T,k)=>{Y.preventDefault(),Y.stopPropagation(),T(get$2(k).actionSymbol)},root_2$u=template('<span><img class="icon-wrapper svelte-1pt6mrr" alt="icon"></span>'),root_1$1f=template('<div class="wrapper-module svelte-1pt6mrr"></div>'),on_click_1$8=(Y,T)=>{set(T,!get$2(T))},on_click_2$2=(Y,T)=>{get$2(T).focus()},root_3$r=template('<div class="wrapper-markdown-line-item svelte-1pt6mrr"> </div>'),on_input$2=(Y,T,k,Z)=>{T(Math.ceil(Y.target.scrollHeight/24)),k(get$2(Z).innerText)},on_click_3$2=(Y,T)=>{set(T,!get$2(T))},root_4$g=template('<div class="wrapper-preview svelte-1pt6mrr"><div class="wrapper-preview svelte-1pt6mrr"><!></div></div>'),root$1Q=template('<div class="wrapper svelte-1pt6mrr"><div class="wrapper-edit svelte-1pt6mrr"><!> <div class="wrapper-module svelte-1pt6mrr"><button class="operation-preview svelte-1pt6mrr"> </button></div></div> <div class="wrapper-markdown svelte-1pt6mrr"><div class="wrapper-markdown-line svelte-1pt6mrr"></div> <div class="wrapper-markdown-wrapper svelte-1pt6mrr"><div class="wrapper-markdown-content clear-input svelte-1pt6mrr" contenteditable="true"></div></div></div></div> <!>',1);function MarkdownEditor(Y,T){push(T,!0);let k=rest_props(T,["$$slots","$$events","$$legacy"]),Z=proxy([{module:"one",children:[{icon:headingH1,actionSymbol:"ðððð¤£ððððððð¢ð",description:"test"},{icon:headingH1,actionSymbol:"#",description:"h1"},{icon:headingH2,actionSymbol:"##",description:"h2"},{icon:headingH3,actionSymbol:"###",description:"h3"}]},{module:"two",children:[{icon:bold,actionSymbol:"****",description:"B"},{icon:italic,actionSymbol:"_",description:"/"},{icon:codeInline,actionSymbol:"``",description:"</>"}]},{module:"three",children:[{icon:listOrder,actionSymbol:" 1.  ",description:" 1.  "},{icon:listDisorder,actionSymbol:" - ",description:" - "},{icon:cite,actionSymbol:"> ",description:"> "},{icon:removeMinus,actionSymbol:"---",description:"---"},{icon:link,actionSymbol:"[]()",description:"[]()"}]}]);const ee=createEventDispatcher();let te=state(void 0),ne=state(void 0),me=state(void 0),Ve=state(1),Ye=state(!1),et=state("# è¯·ç¼è¾markdown");user_effect(()=>{set(et,proxy(k.markdownContent)),get$2(te).innerText=k.markdownContent,it(Math.ceil(get$2(te).scrollHeight/24))});function tt(xt){const yt=window.getSelection();if(yt&&yt.rangeCount>0){const St=yt.getRangeAt(0);if(!get$2(te).contains(St.startContainer))return;St.deleteContents();const At=document.createTextNode(xt);St.insertNode(At),St.setStartAfter(At),St.setEndAfter(At),yt.removeAllRanges(),yt.addRange(St),get$2(te).focus()}}const it=xt=>{set(Ve,proxy(xt))},st=()=>{get$2(ne)&&get$2(me)&&(get$2(me).scrollTop=get$2(ne).scrollTop)},nt=xt=>{set(et,proxy(xt)),ee("changeDescription",{markdownContent:xt})};var rt=root$1Q(),lt=first_child(rt),ot=child(lt),ht=child(ot);each(ht,17,()=>Z,index,(xt,yt)=>{var St=root_1$1f();each(St,21,()=>get$2(yt).children,index,(At,Ct)=>{var It=root_2$u();It.__click=[on_click$m,tt,Ct];var Ot=child(It);template_effect(()=>set_attribute(Ot,"src",get$2(Ct).icon)),append(At,It)}),append(xt,St)});var dt=sibling(ht,2),ct=child(dt);ct.__click=[on_click_1$8,Ye];var ut=child(ct),ft=sibling(ot,2);ft.__click=[on_click_2$2,te];var vt=child(ft);each(vt,21,()=>Array.from({length:get$2(Ve)},(xt,yt)=>yt+1),index,(xt,yt)=>{var St=root_3$r(),At=child(St);template_effect(()=>set_text(At,get$2(yt))),append(xt,St)}),bind_this(vt,xt=>set(me,xt),()=>get$2(me));var mt=sibling(vt,2),_t=child(mt);_t.__input=[on_input$2,it,nt,te],bind_this(_t,xt=>set(te,xt),()=>get$2(te)),bind_this(mt,xt=>set(ne,xt),()=>get$2(ne));var Et=sibling(lt,2);{var Tt=xt=>{var yt=root_4$g();yt.__click=[on_click_3$2,Ye];var St=child(yt),At=child(St);MarkdownPreview(At,{get markdownContent(){return get$2(et)}}),append(xt,yt)};if_block(Et,xt=>{get$2(Ye)&&xt(Tt)})}template_effect(()=>set_text(ut,get$2(Ye)?"è¿åç¼è¾":"é¢è§")),event("scroll",mt,st),append(Y,rt),pop()}delegate(["click","input"]);var on_click$l=(Y,T)=>{set(T,proxy({name:"Property",key:"attribute"}))},on_click_1$7=(Y,T)=>{set(T,proxy({name:"Edit",key:"markdown"}))},root_1$1e=template('<div class="wrapper svelte-12f48n7"><div class="wrapper-wrapper svelte-12f48n7"><div class="wrapper-title svelte-12f48n7">Edit Structure</div> <div class="wrapper-edit svelte-12f48n7" style="display: none;"><button class="svelte-12f48n7">Delete</button> <div class="wrapper-edit-right svelte-12f48n7"><button class="svelte-12f48n7">Cancel</button> <button class="svelte-12f48n7">Apply</button></div></div> <div class="wrapper-content svelte-12f48n7"><div class="wrapper-content-title svelte-12f48n7"><div class="wrapper-operate-title svelte-12f48n7">Property</div> <div class="wrapper-operate svelte-12f48n7"><div class="button-wrapper svelte-12f48n7"><img alt="attribute"></div> <div class="button-wrapper svelte-12f48n7"><img alt="markdown"></div></div></div> <!></div></div></div>');function StructureEdit(Y,T){push(T,!0);let k=state(proxy({name:"Property",key:"attribute"})),Z=state(proxy({name:"",description:""})),ee=state(proxy([])),te=state(!1);const ne=it=>{Ve({parentData:{...get$2(Z),description:it.detail.markdownContent},children:[...get$2(ee)],operationData:[],operationType:"update"})},me=it=>{Ve({parentData:{...it.detail.structureState},children:[...it.detail.stateArray],operationData:[...it.detail.operationData],operationType:it.detail.operationType})},Ve=it=>{api$1.eventBus.emit("structure:update:var",it)};onMount(()=>{api$1.eventBus.on("detail:change:type",st=>{st?(set(Z,proxy({...st,children:null})),set(ee,proxy(st.children)),set(te,!0)):(set(te,!1),set(Z,proxy({name:"",description:""})),set(ee,proxy([])))});const it=api$1.eventBus.getSubscriberValue("detail:change:type");it?(set(Z,proxy({...it,children:null})),set(ee,proxy(it.children)),set(te,!0)):(set(te,!1),set(Z,proxy({name:"",description:""})),set(ee,proxy([])))});var Ye=comment(),et=first_child(Ye);{var tt=it=>{var st=root_1$1e(),nt=child(st),rt=sibling(child(nt),4),lt=child(rt),ot=sibling(child(lt),2),ht=child(ot);ht.__click=[on_click$l,k];var dt=child(ht);set_attribute(dt,"src",attribute);var ct=sibling(ht,2);ct.__click=[on_click_1$7,k];var ut=child(ct);set_attribute(ut,"src",markdown);var ft=sibling(lt,2);{var vt=_t=>{DataOperationPanel(_t,{get structureState(){return get$2(Z)},get stateArray(){return get$2(ee)},$$events:{changeState:me}})},mt=(_t,Et)=>{{var Tt=xt=>{MarkdownEditor(xt,{get markdownContent(){return get$2(Z).description},$$events:{changeDescription:ne}})};if_block(_t,xt=>{get$2(k).key==="markdown"&&xt(Tt)},Et)}};if_block(ft,_t=>{get$2(k).key==="attribute"?_t(vt):_t(mt,!1)})}append(it,st)};if_block(et,it=>{get$2(te)&&it(tt)})}append(Y,Ye),pop()}delegate(["click"]);const filterInfo=Y=>Y?[{label:"Variable Name",key:"1",inputType:"input",defaultValue:Y.name},{label:" Variable Type",key:"2",inputType:"type",varType:Y.varType,keyType:Y.keyType,valueType:Y.valueType},{label:"Describe",key:"3",inputType:"input",defaultValue:Y.description}]:[];var root_2$t=template("<div><!></div>"),root_1$1d=template("<div><!></div> <div><!></div> <!>",1),root_3$q=template("<div><!></div> <div><!></div>",1),root$1P=template('<div class="wrapper svelte-1bljv83"><!></div>');function DataStructureTypePicker(Y,T){push(T,!0);var k=root$1P(),Z=child(k);{var ee=ne=>{var me=root_1$1d(),Ve=first_child(me),Ye=child(Ve);const et=derived$1(()=>T.data.keyType===T.data.valueType?"Map":"key");SelectInput(Ye,{get options(){return T.optionState},get mapType(){return get$2(et)},keyName:"keyType",get defaultValue(){return T.data},$$events:{handleSelectLabel:rt=>T.handleSelectLabel(rt,T.data,"keyType",T.index)}});var tt=sibling(Ve,2),it=child(tt);SelectInputByVarType(it,{get options(){return T.optionsVarType},mapType:"Map",get defaultValue(){return T.data},$$events:{handleSelectLabel:rt=>T.handleSelectLabel(rt,T.data,"varType",T.index)}});var st=sibling(tt,2);{var nt=rt=>{var lt=root_2$t(),ot=child(lt);SelectInput(ot,{get options(){return T.optionState},mapType:"value",keyName:"valueType",get defaultValue(){return T.data},$$events:{handleSelectLabel:ht=>T.handleSelectLabel(ht,T.data,"valueType",T.index)}}),append(rt,lt)};if_block(st,rt=>{T.data.keyType!==T.data.valueType&&rt(nt)})}append(ne,me)},te=ne=>{var me=root_3$q(),Ve=first_child(me),Ye=child(Ve);SelectInput(Ye,{get options(){return T.optionState},get defaultValue(){return T.data},keyName:"keyType",$$events:{handleSelectLabel:it=>T.handleSelectLabel(it,T.data,"changeVarType",T.index)}});var et=sibling(Ve,2),tt=child(et);SelectInputByVarType(tt,{get options(){return T.optionsVarType},mapType:"Map",get defaultValue(){return T.data},$$events:{handleSelectLabel:it=>T.handleSelectLabel(it,T.data,"varType",T.index)}}),append(ne,me)};if_block(Z,ne=>{T.data.varType==="Map"?ne(ee):ne(te,!1)})}append(Y,k),pop()}var root_3$p=template('<input class="clear-input input-wrapper svelte-vj4lhk">'),root_2$s=template('<div class="module-line svelte-vj4lhk"><div class="line-title svelte-vj4lhk"> </div> <div class="line-input-state svelte-vj4lhk"><!></div></div>'),root_1$1c=template('<div class="wrapper-detail svelte-vj4lhk"><div class="search-wrapper svelte-vj4lhk"><!></div> <div class="info-module-variable svelte-vj4lhk"><div class="module-title svelte-vj4lhk"><img style="visibility: hidden" class="icon-style svelte-vj4lhk" alt="variable"> <p>variable</p></div> <!></div> <div class="info-module-height"></div></div>');function VariableEdit(Y,T){push(T,!0);let k=state(void 0),Z=state(proxy([])),ee=[],te=derived$1(()=>get$2(k).parentId&&api$1.optionManager.getTypeOptionsMap().get(get$2(k).parentId)?api$1.optionManager.getTypeOptions().filter(it=>it.key!==get$2(k).parentId):api$1.optionManager.getTypeOptions());const ne=(it,st,nt,rt)=>{const lt=it.detail.selected,ot=Array.from(get$2(Z));(nt==="keyType"||nt==="valueType")&&(ot[rt][nt]=lt.value),nt==="varType"&&ot[rt][nt]!==lt[nt]&&(ot[rt][nt]=lt[nt],ot[rt].valueType=ot[rt].keyType),nt==="changeVarType"&&(ot[rt].keyType=lt.value),set(Z,proxy(ot)),Ve({data:ot,treeId:get$2(k).treeId,where:get$2(k).where})},me=it=>{const st=validateCVariableName(it.defaultValue);!st.valid&&it.key==="1"&&it.defaultValue!==ee[0].defaultValue?(api$1.message.globalMessageNotice({type:"error",message:st.message}),set(Z,proxy(ee))):(ee[0].defaultValue=get$2(Z)[0].defaultValue,Ve({data:get$2(Z),treeId:get$2(k).treeId,where:get$2(k).where}))},Ve=it=>{api$1.eventBus.emit("detail:notice:var",it)};onMount(()=>{api$1.eventBus.on("detail:change:var",it=>{set(k,proxy(it)),set(Z,proxy(filterInfo(it))),ee=filterInfo(it)}),set(Z,proxy(filterInfo(api$1.eventBus.getSubscriberValue("detail:change:var")))),ee=filterInfo(api$1.eventBus.getSubscriberValue("detail:change:var")),set(k,proxy(api$1.eventBus.getSubscriberValue("detail:change:var")))});var Ye=comment(),et=first_child(Ye);{var tt=it=>{var st=root_1$1c(),nt=child(st),rt=child(nt);Search(rt,{});var lt=sibling(nt,2),ot=child(lt),ht=child(ot);set_attribute(ht,"src",arrowRight);var dt=sibling(ot,2);each(dt,17,()=>get$2(Z),index,(ct,ut,ft)=>{var vt=root_2$s(),mt=child(vt),_t=child(mt),Et=sibling(mt,2),Tt=child(Et);{var xt=St=>{var At=root_3$p();event("blur",At,()=>{me(get$2(ut))}),bind_value(At,()=>get$2(ut).defaultValue,Ct=>get$2(ut).defaultValue=Ct),append(St,At)},yt=(St,At)=>{{var Ct=It=>{const Ot=derived$1(()=>api$1.optionManager.getContainerType());DataStructureTypePicker(It,{get data(){return get$2(ut)},get optionsVarType(){return get$2(Ot)},get optionState(){return get$2(te)},index:ft,handleSelectLabel:ne})};if_block(St,It=>{get$2(ut).inputType==="type"&&It(Ct)},At)}};if_block(Tt,St=>{get$2(ut).inputType==="input"?St(xt):St(yt,!1)})}template_effect(()=>set_text(_t,get$2(ut).label)),append(ct,vt)}),append(it,st)};if_block(et,it=>{get$2(Z).length>0&&it(tt)})}append(Y,Ye),pop()}var root_1$1b=template(`<div class="wrapper"><!> <!></div> <style lang="scss">.wrapper {
  width: 100%;
  height: 100%;
}</style>`,1);function VariableDetail(Y,T){push(T,!0),T.params;let k=state(void 0);onMount(()=>{api$1.eventBus.on("detail:change:type",Z=>{set(k,void 0),Z&&(Z.type==="folder"?set(k,"folder"):set(k,"file"))})}),RegionalDivision(Y,{get panelApi(){return T.api},children:(Z,ee)=>{var te=root_1$1b(),ne=first_child(te),me=child(ne);{var Ve=tt=>{VariableEdit(tt,{})};if_block(me,tt=>{get$2(k)==="file"&&tt(Ve)})}var Ye=sibling(me,2);{var et=tt=>{StructureEdit(tt,{})};if_block(Ye,tt=>{get$2(k)==="folder"&&tt(et)})}append(Z,te)},$$slots:{default:!0}}),pop()}function WgtAccordionItem(Y,T){push(T,!0);let k=prop(T,"label",3,"");AccordionItem(Y,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:ee=>{var te=text$1();template_effect(()=>set_text(te,k())),append(ee,te)},children:(ee,te)=>{var ne=comment(),me=first_child(ne);key_block(me,()=>widgetProps.update,Ve=>{var Ye=comment(),et=first_child(Ye);snippet(et,()=>T.children),append(Ve,Ye)}),append(ee,ne)},$$slots:{header:!0,default:!0}}),pop()}var root_6$5=template('<hr class="ml-10 my-4">'),root_3$o=template("<!> <!>",1);function Flags(Y,T){push(T,!0);const k=LvFlags.filter(ne=>ne.value<=1<<20),Z=LvFlags.filter(ne=>ne.value>1<<20);function ee(ne,me){var Ve;(Ve=me.target)!=null&&Ve.checked?te().value|=ne:te().value&=~ne}let te=prop(T,"props",7);WgtAccordionItem(Y,{label:"Flags",children:(ne,me)=>{var Ve=comment(),Ye=first_child(Ve);{var et=tt=>{var it=comment(),st=first_child(it);each(st,17,()=>[k,Z],index,(nt,rt,lt)=>{var ot=root_3$o(),ht=first_child(ot);each(ht,17,()=>get$2(rt),index,(ut,ft)=>{const vt=derived$1(()=>(te().value&get$2(ft).value)!==0);Checkbox$1(ut,{class:"flex-none mx-1",get checked(){return get$2(vt)},onchange:mt=>ee(get$2(ft).value,mt),children:(mt,_t)=>{var Et=text$1();template_effect(()=>set_text(Et,get$2(ft).label)),append(mt,Et)},$$slots:{default:!0}})});var dt=sibling(ht,2);{var ct=ut=>{var ft=root_6$5();append(ut,ft)};if_block(dt,ut=>{lt<1&&ut(ct)})}append(nt,ot)}),append(tt,it)};if_block(Ye,tt=>{te().type.toLowerCase()!="screen"&&tt(et)})}append(ne,Ve)},$$slots:{default:!0}}),pop()}function States(Y,T){push(T,!1);const k=LvStateOpts.map(te=>({value:te.value,label:te.label}));function Z(te,ne){var me;(me=ne.target)!=null&&me.checked?ee(ee().value|=te,!0):ee(ee().value&=~te,!0)}let ee=prop(T,"props",12);init(),WgtAccordionItem(Y,{label:"States",children:(te,ne)=>{var me=comment(),Ve=first_child(me);each(Ve,1,()=>k,index,(Ye,et)=>{const tt=derived_safe_equal(()=>(ee().value&get$2(et).value)!==0);Checkbox$1(Ye,{class:"flex-none mx-1",get checked(){return get$2(tt)},onchange:it=>Z(get$2(et).value,it),children:(it,st)=>{var nt=text$1();template_effect(()=>set_text(nt,get$2(et).label)),append(it,nt)},$$slots:{default:!0}})}),append(te,me)},$$slots:{default:!0}}),pop()}const targetTypeList=[{value:0,name:"Basic"}],actionList=[{value:0,name:"SET PROPERTY"},{value:1,name:"CALL FUNCTION"},{value:2,name:"CHANGE VARIABLE"},{value:3,name:"CHANGE SCREEN"}],dirPositionList=[{value:lv_dir_t.LV_DIR_TOP,name:"Top"},{value:lv_dir_t.LV_DIR_BOTTOM,name:"Bottom"},{value:lv_dir_t.LV_DIR_LEFT,name:"Left"},{value:lv_dir_t.LV_DIR_RIGHT,name:"Right"},{value:lv_dir_t.LV_DIR_NONE,name:"None"},{value:lv_dir_t.LV_DIR_ALL,name:"All"}],textModeList=[{value:lv_label_long_mode_t.LV_LABEL_LONG_WRAP,name:"wrap"},{value:lv_label_long_mode_t.LV_LABEL_LONG_SCROLL,name:"scroll"},{value:lv_label_long_mode_t.LV_LABEL_LONG_SCROLL_CIRCULAR,name:"scroll circular"},{value:lv_label_long_mode_t.LV_LABEL_LONG_CLIP,name:"clip"}],lvDefaultFontList=[{name:"lv_font_montserrat_8",value:"8"},{name:"lv_font_montserrat_10",value:"10"},{name:"lv_font_montserrat_12",value:"12"},{name:"lv_font_montserrat_14",value:"14"},{name:"lv_font_montserrat_16",value:"16"},{name:"lv_font_montserrat_18",value:"18"},{name:"lv_font_montserrat_20",value:"20"},{name:"lv_font_montserrat_22",value:"22"},{name:"lv_font_montserrat_24",value:"24"},{name:"lv_font_montserrat_26",value:"26"},{name:"lv_font_montserrat_28",value:"28"},{name:"lv_font_montserrat_30",value:"30"},{name:"lv_font_montserrat_32",value:"32"},{name:"lv_font_montserrat_34",value:"34"},{name:"lv_font_montserrat_36",value:"36"},{name:"lv_font_montserrat_38",value:"38"},{name:"lv_font_montserrat_40",value:"40"},{name:"lv_font_montserrat_42",value:"42"},{name:"lv_font_montserrat_44",value:"44"},{name:"lv_font_montserrat_46",value:"46"},{name:"lv_font_montserrat_48",value:"48"},{name:"lv_font_montserrat_28_compressed",value:"28c"},{name:"lv_font_dejavu_16_persian_hebrew",value:"dejavu16"},{name:"lv_font_simsun_16_cjk",value:"simsun16"},{name:"lv_font_unscii_8",value:"unscii8"},{name:"lv_font_unscii_16",value:"unscii16"}],lvSymbolList=[{name:"LV_SYMBOL_AUDIO",value:"LV_SYMBOL_AUDIO"},{name:"LV_SYMBOL_VIDEO",value:"LV_SYMBOL_VIDEO"},{name:"LV_SYMBOL_LIST",value:"LV_SYMBOL_LIST"},{name:"LV_SYMBOL_OK",value:"LV_SYMBOL_OK"},{name:"LV_SYMBOL_CLOSE",value:"LV_SYMBOL_CLOSE"},{name:"LV_SYMBOL_POWER",value:"LV_SYMBOL_POWER"},{name:"LV_SYMBOL_SETTINGS",value:"LV_SYMBOL_SETTINGS"},{name:"LV_SYMBOL_HOME",value:"LV_SYMBOL_HOME"},{name:"LV_SYMBOL_DOWNLOAD",value:"LV_SYMBOL_DOWNLOAD"},{name:"LV_SYMBOL_DRIVE",value:"LV_SYMBOL_DRIVE"},{name:"LV_SYMBOL_REFRESH",value:"LV_SYMBOL_REFRESH"},{name:"LV_SYMBOL_MUTE",value:"LV_SYMBOL_MUTE"},{name:"LV_SYMBOL_VOLUME_MID",value:"LV_SYMBOL_VOLUME_MID"},{name:"LV_SYMBOL_VOLUME_MAX",value:"LV_SYMBOL_VOLUME_MAX"},{name:"LV_SYMBOL_IMAGE",value:"LV_SYMBOL_IMAGE"},{name:"LV_SYMBOL_TINT",value:"LV_SYMBOL_TINT"},{name:"LV_SYMBOL_PREV",value:"LV_SYMBOL_PREV"},{name:"LV_SYMBOL_PLAY",value:"LV_SYMBOL_PLAY"},{name:"LV_SYMBOL_PAUSE",value:"LV_SYMBOL_PAUSE"},{name:"LV_SYMBOL_STOP",value:"LV_SYMBOL_STOP"},{name:"LV_SYMBOL_NEXT",value:"LV_SYMBOL_NEXT"},{name:"LV_SYMBOL_EJECT",value:"LV_SYMBOL_EJECT"},{name:"LV_SYMBOL_LEFT",value:"LV_SYMBOL_LEFT"},{name:"LV_SYMBOL_RIGHT",value:"LV_SYMBOL_RIGHT"},{name:"LV_SYMBOL_PLUS",value:"LV_SYMBOL_PLUS"},{name:"LV_SYMBOL_MINUS",value:"LV_SYMBOL_MINUS"},{name:"LV_SYMBOL_EYE_OPEN",value:"LV_SYMBOL_EYE_OPEN"},{name:"LV_SYMBOL_EYE_CLOSE",value:"LV_SYMBOL_EYE_CLOSE"},{name:"LV_SYMBOL_WARNING",value:"LV_SYMBOL_WARNING"},{name:"LV_SYMBOL_SHUFFLE",value:"LV_SYMBOL_SHUFFLE"},{name:"LV_SYMBOL_UP",value:"LV_SYMBOL_UP"},{name:"LV_SYMBOL_DOWN",value:"LV_SYMBOL_DOWN"},{name:"LV_SYMBOL_LOOP",value:"LV_SYMBOL_LOOP"},{name:"LV_SYMBOL_DIRECTORY",value:"LV_SYMBOL_DIRECTORY"},{name:"LV_SYMBOL_UPLOAD",value:"LV_SYMBOL_UPLOAD"},{name:"LV_SYMBOL_CALL",value:"LV_SYMBOL_CALL"},{name:"LV_SYMBOL_CUT",value:"LV_SYMBOL_CUT"},{name:"LV_SYMBOL_COPY",value:"LV_SYMBOL_COPY"},{name:"LV_SYMBOL_SAVE",value:"LV_SYMBOL_SAVE"},{name:"LV_SYMBOL_BARS",value:"LV_SYMBOL_BARS"},{name:"LV_SYMBOL_ENVELOPE",value:"LV_SYMBOL_ENVELOPE"},{name:"LV_SYMBOL_CHARGE",value:"LV_SYMBOL_CHARGE"},{name:"LV_SYMBOL_PASTE",value:"LV_SYMBOL_PASTE"},{name:"LV_SYMBOL_BELL",value:"LV_SYMBOL_BELL"},{name:"LV_SYMBOL_KEYBOARD",value:"LV_SYMBOL_KEYBOARD"},{name:"LV_SYMBOL_GPS",value:"LV_SYMBOL_GPS"},{name:"LV_SYMBOL_FILE",value:"LV_SYMBOL_FILE"},{name:"LV_SYMBOL_WIFI",value:"LV_SYMBOL_WIFI"},{name:"LV_SYMBOL_BATTERY_FULL",value:"LV_SYMBOL_BATTERY_FULL"},{name:"LV_SYMBOL_BATTERY_3",value:"LV_SYMBOL_BATTERY_3"},{name:"LV_SYMBOL_BATTERY_2",value:"LV_SYMBOL_BATTERY_2"},{name:"LV_SYMBOL_BATTERY_1",value:"LV_SYMBOL_BATTERY_1"},{name:"LV_SYMBOL_BATTERY_EMPTY",value:"LV_SYMBOL_BATTERY_EMPTY"},{name:"LV_SYMBOL_USB",value:"LV_SYMBOL_USB"},{name:"LV_SYMBOL_BLUETOOTH",value:"LV_SYMBOL_BLUETOOTH"},{name:"LV_SYMBOL_TRASH",value:"LV_SYMBOL_TRASH"},{name:"LV_SYMBOL_EDIT",value:"LV_SYMBOL_EDIT"},{name:"LV_SYMBOL_BACKSPACE",value:"LV_SYMBOL_BACKSPACE"},{name:"LV_SYMBOL_SD_CARD",value:"LV_SYMBOL_SD_CARD"},{name:"LV_SYMBOL_NEW_LINE",value:"LV_SYMBOL_NEW_LINE"},{name:"LV_SYMBOL_DUMMY",value:"LV_SYMBOL_DUMMY"}],lvGradDirList=[{name:"LV_GRAD_DIR_NONE",value:lv_grad_dir_t.LV_GRAD_DIR_NONE},{name:"LV_GRAD_DIR_VER",value:lv_grad_dir_t.LV_GRAD_DIR_VER},{name:"LV_GRAD_DIR_HOR",value:lv_grad_dir_t.LV_GRAD_DIR_HOR}],lvBlendModeList=[{name:"LV_BLEND_MODE_NORMAL",value:lv_blend_mode_t.LV_BLEND_MODE_NORMAL},{name:"LV_BLEND_MODE_ADDITIVE",value:lv_blend_mode_t.LV_BLEND_MODE_ADDITIVE},{name:"LV_BLEND_MODE_SUBTRACTIVE",value:lv_blend_mode_t.LV_BLEND_MODE_SUBTRACTIVE},{name:"LV_BLEND_MODE_MULTIPLY",value:lv_blend_mode_t.LV_BLEND_MODE_MULTIPLY}],lvImageAlignList=[{name:"LV_IMAGE_ALIGN_DEFAULT",value:lv_image_align_t.LV_IMAGE_ALIGN_DEFAULT},{name:"LV_IMAGE_ALIGN_TOP_LEFT",value:lv_image_align_t.LV_IMAGE_ALIGN_TOP_LEFT},{name:"LV_IMAGE_ALIGN_TOP_MID",value:lv_image_align_t.LV_IMAGE_ALIGN_TOP_MID},{name:"LV_IMAGE_ALIGN_TOP_RIGHT",value:lv_image_align_t.LV_IMAGE_ALIGN_TOP_RIGHT},{name:"LV_IMAGE_ALIGN_BOTTOM_LEFT",value:lv_image_align_t.LV_IMAGE_ALIGN_BOTTOM_LEFT},{name:"LV_IMAGE_ALIGN_BOTTOM_MID",value:lv_image_align_t.LV_IMAGE_ALIGN_BOTTOM_MID},{name:"LV_IMAGE_ALIGN_BOTTOM_RIGHT",value:lv_image_align_t.LV_IMAGE_ALIGN_BOTTOM_RIGHT},{name:"LV_IMAGE_ALIGN_LEFT_MID",value:lv_image_align_t.LV_IMAGE_ALIGN_LEFT_MID},{name:"LV_IMAGE_ALIGN_RIGHT_MID",value:lv_image_align_t.LV_IMAGE_ALIGN_RIGHT_MID},{name:"LV_IMAGE_ALIGN_CENTER",value:lv_image_align_t.LV_IMAGE_ALIGN_CENTER},{name:"LV_IMAGE_ALIGN_TILE",value:lv_image_align_t.LV_IMAGE_ALIGN_TILE},{name:"LV_IMAGE_ALIGN_STRETCH",value:lv_image_align_t.LV_IMAGE_ALIGN_STRETCH}],lvAlignList=[{name:"LV_ALIGN_DEFAULT",value:lv_align_t.LV_ALIGN_DEFAULT},{name:"LV_ALIGN_TOP_LEFT",value:lv_align_t.LV_ALIGN_TOP_LEFT},{name:"LV_ALIGN_TOP_MID",value:lv_align_t.LV_ALIGN_TOP_MID},{name:"LV_ALIGN_TOP_RIGHT",value:lv_align_t.LV_ALIGN_TOP_RIGHT},{name:"LV_ALIGN_BOTTOM_LEFT",value:lv_align_t.LV_ALIGN_BOTTOM_LEFT},{name:"LV_ALIGN_BOTTOM_MID",value:lv_align_t.LV_ALIGN_BOTTOM_MID},{name:"LV_ALIGN_BOTTOM_RIGHT",value:lv_align_t.LV_ALIGN_BOTTOM_RIGHT},{name:"LV_ALIGN_LEFT_MID",value:lv_align_t.LV_ALIGN_LEFT_MID},{name:"LV_ALIGN_RIGHT_MID",value:lv_align_t.LV_ALIGN_RIGHT_MID},{name:"LV_ALIGN_CENTER",value:lv_align_t.LV_ALIGN_CENTER},{name:"LV_ALIGN_OUT_TOP_LEFT",value:lv_align_t.LV_ALIGN_OUT_TOP_LEFT},{name:"LV_ALIGN_OUT_TOP_MID",value:lv_align_t.LV_ALIGN_OUT_TOP_MID},{name:"LV_ALIGN_OUT_TOP_RIGHT",value:lv_align_t.LV_ALIGN_OUT_TOP_RIGHT},{name:"LV_ALIGN_OUT_BOTTOM_LEFT",value:lv_align_t.LV_ALIGN_OUT_BOTTOM_LEFT},{name:"LV_ALIGN_OUT_BOTTOM_MID",value:lv_align_t.LV_ALIGN_OUT_BOTTOM_MID},{name:"LV_ALIGN_OUT_BOTTOM_RIGHT",value:lv_align_t.LV_ALIGN_OUT_BOTTOM_RIGHT},{name:"LV_ALIGN_OUT_LEFT_TOP",value:lv_align_t.LV_ALIGN_OUT_LEFT_TOP},{name:"LV_ALIGN_OUT_LEFT_MID",value:lv_align_t.LV_ALIGN_OUT_LEFT_MID},{name:"LV_ALIGN_OUT_LEFT_BOTTOM",value:lv_align_t.LV_ALIGN_OUT_LEFT_BOTTOM},{name:"LV_ALIGN_OUT_RIGHT_TOP",value:lv_align_t.LV_ALIGN_OUT_RIGHT_TOP},{name:"LV_ALIGN_OUT_RIGHT_MID",value:lv_align_t.LV_ALIGN_OUT_RIGHT_MID},{name:"LV_ALIGN_OUT_RIGHT_BOTTOM",value:lv_align_t.LV_ALIGN_OUT_RIGHT_BOTTOM}],lvChartTypeList=LvChartTypeOpts.map(Y=>({name:Y.label,value:Y.value})),lvChartUpdateModeList=[{name:"LV_CHART_UPDATE_MODE_SHIFT",value:lv_chart_update_mode_t.LV_CHART_UPDATE_MODE_SHIFT},{name:"LV_CHART_UPDATE_MODE_CIRCULAR",value:lv_chart_update_mode_t.LV_CHART_UPDATE_MODE_CIRCULAR}],lvChartSeriesTypeList=[{name:"LV_CHART_AXIS_PRIMARY_Y",value:lv_chart_axis_t.LV_CHART_AXIS_PRIMARY_Y},{name:"LV_CHART_AXIS_SECONDARY_Y",value:lv_chart_axis_t.LV_CHART_AXIS_SECONDARY_Y},{name:"LV_CHART_AXIS_PRIMARY_X",value:lv_chart_axis_t.LV_CHART_AXIS_PRIMARY_X},{name:"LV_CHART_AXIS_SECONDARY_X",value:lv_chart_axis_t.LV_CHART_AXIS_SECONDARY_X}];lv_menu_mode_header_t.LV_MENU_HEADER_TOP_FIXED,lv_menu_mode_header_t.LV_MENU_HEADER_BOTTOM_FIXED,lv_menu_mode_header_t.LV_MENU_HEADER_BOTTOM_FIXED;lv_menu_mode_root_back_button_t.LV_MENU_ROOT_BACK_BUTTON_DISABLED,lv_menu_mode_root_back_button_t.LV_MENU_ROOT_BACK_BUTTON_ENABLED;class CommonModalLogicApi{constructor(T,k,Z){bt(this,"contentComponent");bt(this,"changeOpen");bt(this,"changeComponent");bt(this,"logicProps");bt(this,"cancelFunc");bt(this,"confirmFunc");this.changeOpen=T,this.changeComponent=k,this.logicProps=Z}registerComponent(T,k,Z){this.contentComponent=T,this.cancelFunc=k,this.confirmFunc=Z}setProps(T){this.logicProps(T)}setOpenState(T){this.changeOpen(T)}setChangeComponent(T,k,Z){this.changeComponent(T,k,Z)}getContentComponent(){return this.contentComponent}}const closeModal$1=(Y,T,k,Z,ee)=>{set(T,!1),k(!1),set(Z,!1),ee()()};var root_2$r=template('<div class="overlay-gray-curtain svelte-1bgg02j"></div>'),on_click$k=(Y,T)=>{set(T,!0)},on_mousedown$5=(Y,T)=>{T(Y,"top")},on_mousedown_1=(Y,T)=>{T(Y,"bottom")},on_mousedown_2=(Y,T)=>{T(Y,"left")},on_mousedown_3=(Y,T)=>{T(Y,"right")},root_3$n=template('<div class="resize resize-top svelte-1bgg02j"></div> <div class="resize resize-bottom svelte-1bgg02j"></div> <div class="resize resize-left svelte-1bgg02j"></div> <div class="resize resize-right svelte-1bgg02j"></div>',1),on_mousedown_4=(Y,T,k)=>{T()&&k(Y,"head")},root_1$1a=template('<!> <div class="wrapper svelte-1bgg02j"><!> <div class="head svelte-1bgg02j"><p> </p> <button></button></div> <div class="content svelte-1bgg02j"><div class="content-content svelte-1bgg02j"><!></div></div></div>',1);function CommonModalLogic(Y,T){push(T,!0);let k=prop(T,"onClose",3,()=>{}),Z=prop(T,"isOpenState",15,!1),ee=prop(T,"isPublicState",3,!1),te=prop(T,"haveCurtain",3,!1),ne=prop(T,"popUpId",3,void 0),me=prop(T,"headTitle",7,""),Ve=prop(T,"isDraggable",3,!0),Ye=prop(T,"isStretchable",3,!0),et=prop(T,"styled",3,void 0),tt=state(void 0),it=state(void 0),st=state(proxy(Z())),nt=state(proxy(ee()));user_effect(()=>{Z(),requestAnimationFrame(()=>{set(st,proxy(Z()))})});let rt=state(!1),lt=800,ot=600,ht=.8;const dt=300,ct=300;let ut=state(proxy({width:800,height:800})),ft=state(proxy({x:0,y:0}));function vt(At,Ct,It){return Math.min(Math.max(Ct,At),It)}const mt=(At,Ct)=>{At.preventDefault();const It={startX:At.clientX,startY:At.clientY,startWidth:get$2(ut).width,startHeight:get$2(ut).height,startOffsetX:get$2(ft).x,startOffsetY:get$2(ft).y};document.body.style.userSelect="none";const Ot=document.body.getBoundingClientRect(),Dt=get$2(it).getBoundingClientRect(),Mt=Ot.width,$t=Ot.height,Ht=jt=>{let Gt=vt(jt.clientX,0,Mt)-It.startX,Kt=vt(jt.clientY,0,$t)-It.startY;switch(Ct){case"head":set(ft,proxy({x:It.startOffsetX+Gt,y:It.startOffsetY+Kt}));break;case"top":set(ft,proxy({...get$2(ft),y:vt(It.startOffsetY+Kt,0,Dt.bottom-ct)})),set(ut,proxy({...get$2(ut),height:vt(It.startHeight-Kt,ct,Mt)}));break;case"bottom":set(ut,proxy({...get$2(ut),height:vt(It.startHeight+Kt,ct,Mt)}));break;case"left":set(ft,proxy({...get$2(ft),x:vt(It.startOffsetX+Gt,0,Dt.right-dt)})),set(ut,proxy({...get$2(ut),width:vt(It.startWidth-Gt,dt,$t)}));break;case"right":set(ut,proxy({...get$2(ut),width:vt(It.startWidth+Gt,dt,Mt)}));break}},Ft=()=>{window.removeEventListener("mousemove",Ht),window.removeEventListener("mouseup",Ft),document.body.style.userSelect=""};window.addEventListener("mousemove",Ht),window.addEventListener("mouseup",Ft)};let _t=state(proxy({}));onMount(()=>{ne()&&api$1.popUp.registerPopUp(ne(),new CommonModalLogicApi(At=>{set(st,proxy(At)),set(nt,!0)},(At,Ct)=>{set(tt,proxy(At)),set(_t,proxy(Ct))},At=>{At.headTitle&&me(At.headTitle)})),window.addEventListener("resize",Et)}),onDestroy(()=>{window.removeEventListener("resize",Et)}),user_effect(()=>{et()&&requestAnimationFrame(()=>{set(ut,proxy({...get$2(ut),width:et().width??get$2(ut).width,height:et().height??get$2(ut).height}))})});const Et=()=>{var At;if(get$2(it)){const Ct=document.body.getBoundingClientRect(),It=(At=get$2(it))==null?void 0:At.getBoundingClientRect();Ye()&&set(ut,proxy({width:Ct.width*ht>lt?lt:Ct.width*ht,height:Ct.height*ht>ot?ot:Ct.height*ht})),set(ft,proxy({x:(Ct.width-It.width)/2,y:(Ct.height-It.height)/2}))}};user_effect(()=>{get$2(st)&&get$2(it)&&Et()});const Tt=At=>{var Ct;(Ct=get$2(it))!=null&&Ct.contains(At.target)?set(rt,!0):set(rt,!1)};onMount(()=>{Et(),window.addEventListener("click",Tt),window.addEventListener("mousedown",Tt)}),onDestroy(()=>{window.removeEventListener("click",Tt),window.removeEventListener("mousedown",Tt)});var xt=comment(),yt=first_child(xt);{var St=At=>{var Ct=root_1$1a(),It=first_child(Ct);{var Ot=si=>{var ei=root_2$r();template_effect(()=>set_style(ei,get$2(nt)?"z-index: 1005;":`${get$2(rt)?"z-index:1003;":""}`)),append(si,ei)};if_block(It,si=>{(te()||get$2(nt))&&si(Ot)})}var Dt=sibling(It,2);Dt.__click=[on_click$k,rt];var Mt=child(Dt);{var $t=si=>{var ei=root_3$n(),Zt=first_child(ei);Zt.__mousedown=[on_mousedown$5,mt];var Jt=sibling(Zt,2);Jt.__mousedown=[on_mousedown_1,mt];var ti=sibling(Jt,2);ti.__mousedown=[on_mousedown_2,mt];var di=sibling(ti,2);di.__mousedown=[on_mousedown_3,mt],append(si,ei)};if_block(Mt,si=>{Ye()&&si($t)})}var Ht=sibling(Mt,2);Ht.__mousedown=[on_mousedown_4,Ve,mt];var Ft=child(Ht),jt=child(Ft),Gt=sibling(Ft,2);set_class(Gt,1,"button-close iconItem iconfont icon-close","svelte-1bgg02j"),Gt.__click=[closeModal$1,st,Z,nt,k];var Kt=sibling(Ht,2),Pt=child(Kt),kt=child(Pt);{var zt=si=>{var ei=comment(),Zt=first_child(ei);{var Jt=ti=>{var di=comment(),Qt=first_child(di);component(Qt,()=>get$2(tt),(Si,Ti)=>{Ti(Si,spread_props(()=>get$2(_t)))}),append(ti,di)};if_block(Zt,ti=>{get$2(tt)&&ti(Jt)})}append(si,ei)},Wt=si=>{var ei=comment(),Zt=first_child(ei);slot(Zt,T,"default",{}),append(si,ei)};if_block(kt,si=>{get$2(nt)?si(zt):si(Wt,!1)})}bind_this(Dt,si=>set(it,si),()=>get$2(it)),template_effect(()=>{set_style(Dt,`width:${get$2(ut).width??""}px;height:${get$2(ut).height??""}px;left:${get$2(ft).x??""}px;top:${get$2(ft).y??""}px;${(get$2(nt)?"z-index: 1006":`${get$2(rt)?"z-index:1004;":""}`)??""}`),set_text(jt,me()),set_style(Kt,Ye()?"":"padding:0;")}),append(At,Ct)};if_block(yt,At=>{get$2(st)&&At(St)})}append(Y,xt),pop()}delegate(["click","mousedown"]);var root_2$q=template("to <!>",1),root_1$19=template("<!> <!>",1),on_click$j=(Y,T)=>{var k;(k=T.deleteItem)==null||k.call(T,T.key)},root$1O=template('<div class="wrapper svelte-183bw9j"><div class="module-line svelte-183bw9j"><!> <!> <span class="min-w-[40px] text-center mx-1">assign</span> <div class="min-w-[80px]"><!></div> <button></button></div></div>');function EditableListItem(Y,T){push(T,!0);let k=prop(T,"type",15),Z=prop(T,"value",15),ee=prop(T,"resultValue",15);const te=derived$1(()=>T.valueType==="string"?[{name:"==",value:"eq"},{name:"!=",value:"neq"},{name:"Is Empty",value:"empty"},{name:"Is Not Empty",value:"nempty"}]:T.valueType==="boolean"?[{name:"Is True",value:"true"},{name:"Is False",value:"false"}]:editableTypeOption.map(dt=>({value:dt.value,name:dt.label})).filter(dt=>!["true","false","empty","nempty"].includes(dt.value)));let ne=derived$1(()=>me(k()));const me=dt=>["eq","neq","lt","lte","gt","gte"].includes(dt)?"compare":dt==="btwn"?"range":["true","false","empty","nempty"].includes(dt)?"state":"compare";function Ve(dt){return dt==="boolean"?"checkbox":dt==="string"?"string":"number"}var Ye=root$1O(),et=child(Ye),tt=child(et);PropertyInput(tt,{label:"",type:"option",get options(){return get$2(te)},get value(){return k()},class:"min-w-[90px]",onChange:dt=>{k(dt)}});var it=sibling(tt,2);{var st=dt=>{var ct=root_1$19(),ut=first_child(ct);PropertyInput(ut,{label:"",get type(){return T.valueType},get value(){return Z()[0]},onChange:mt=>{Z(Z()[0]=mt,!0)}});var ft=sibling(ut,2);{var vt=mt=>{var _t=root_2$q(),Et=sibling(first_child(_t));PropertyInput(Et,{label:"",get type(){return T.valueType},get value(){return Z()[1]},onChange:Tt=>{Z(Z()[1]=Tt,!0)}}),append(mt,_t)};if_block(ft,mt=>{get$2(ne)==="range"&&mt(vt)})}append(dt,ct)};if_block(it,dt=>{get$2(ne)!=="state"&&dt(st)})}var nt=sibling(it,4),rt=child(nt);const lt=derived$1(()=>Ve(T.resultType)==="checkbox"?"True":""),ot=derived$1(()=>Ve(T.resultType));PropertyInput(rt,{get label(){return get$2(lt)},get value(){return ee()},get type(){return get$2(ot)},onChange:dt=>{ee(dt)}});var ht=sibling(nt,2);set_class(ht,1,"button-close iconItem iconfont icon-close","svelte-183bw9j"),ht.__click=[on_click$j,T],append(Y,Ye),pop()}delegate(["click"]);var on_click$i=(Y,T)=>{T()},on_click_1$6=(Y,T)=>{Y.preventDefault(),Y.stopPropagation(),T()},root_4$f=template('<span class="iconfont icon-arrow-right"></span>'),root_3$m=template("<button> <!></button>"),root_2$p=template('<div class="wrapper-item svelte-18cr99d"></div>'),root_1$18=template('<div class="wrapper-option svelte-18cr99d"></div>'),root$1N=template('<div class="wrapper svelte-18cr99d"><div class="wrapper-input svelte-18cr99d"><div class="wrapper-scroller svelte-18cr99d"><input readonly="" class="clear-input svelte-18cr99d" placeholder="Please select..."> <span class="iconClose iconfont icon-close svelte-18cr99d"></span> <span class="iconArrowDown iconfont icon-arrow-down svelte-18cr99d"></span></div></div> <!></div>');function MCXACascader(Y,T){push(T,!0);let k=prop(T,"defaultValue",15,""),Z=prop(T,"checkToClosePopup",3,!1);prop(T,"disabled",3,!1);let ee=prop(T,"isLocal",3,!0),te=state(proxy(deepClone$1(T.option))),ne=state(void 0),me=state(void 0),Ve=state(proxy([])),Ye=state(proxy(new Map)),et=state(0),tt=state(0),it=state(!1),st=state(""),nt=state(""),rt=state(void 0);user_effect(()=>{set(te,proxy(deepClone$1(T.option))),requestAnimationFrame(()=>{lt()})}),user_effect(()=>{k(),k()!==get$2(nt)&&requestAnimationFrame(()=>{lt()})});const lt=()=>{if(!k())return;set(nt,proxy(k()));const yt=k().split(".");if(get$2(te).length!==0&&yt.length!==0){let St=[],At=[get$2(te)[0]],Ct=get$2(te)[0].find(It=>It.value===yt[0]);if(Ct){St.push(Ct);for(let Dt=1;Dt<yt.length;Dt++)Ct!==void 0&&Ct.children&&Ct.children.length&&(At.push(Ct.children),Ct=Ct.children.find(Mt=>Mt.value===yt[Dt]),Ct&&St.push(Ct));let It=new Map;for(let Dt=0;Dt<St.length;Dt++){const Mt=St[Dt];Mt&&It.set(Dt,Mt)}set(Ye,proxy(It)),set(te,proxy(At));const Ot=ht(St);set(st,proxy(Ot.labelStr)),set(nt,proxy(Ot.valueStr)),k(Ot.valueStr)}}},ot=(yt,St)=>{get$2(Ye).set(yt,St),St.children&&St.children.length>0?get$2(te).length>yt+1?get$2(te)[yt+1]=St.children:get$2(te).push(St.children):get$2(te).splice(yt+1),get$2(te).splice(yt+2);const At=get$2(Ye).size;for(let Ot=yt+1;Ot<At;Ot++)get$2(Ye).delete(Ot);let Ct=[];for(let Ot=0;Ot<get$2(Ye).size;Ot++)Ct.push(get$2(Ye).get(Ot));set(Ve,proxy(Ct));const It=ht(Ct);return set(st,proxy(It.labelStr)),set(nt,proxy(It.valueStr)),k(It.valueStr),set(Ye,proxy(new Map(get$2(Ye)))),Z()&&(get$2(Ve)[get$2(Ve).length-1].children||set(it,!1)),!ee()&&get$2(rt)&&get$2(rt).changeSelect(get$2(Ye)),{}},ht=yt=>({valueStr:yt.map(St=>{if(St)return St.value}).join("."),labelStr:yt.map(St=>{if(St)return St.label}).join(".")}),dt=(yt=void 0)=>{if(get$2(ne)){const St=get$2(ne).getBoundingClientRect();set(et,proxy(St.left)),yt?set(tt,proxy(yt)):set(tt,St.top+St.height),ee()||(set(rt,proxy(window.API.popUp.getPopUp(window.API.constant.enum.CASCADRE_SELECT))),get$2(rt).changeOptions(get$2(te)),get$2(rt).changeShow({show:get$2(it),top:get$2(tt),left:get$2(et),select:get$2(Ye)}),get$2(rt).getSelectData(ot))}},ct=yt=>{var St,At,Ct,It,Ot;get$2(rt)&&((St=get$2(rt))!=null&&St.getDOMRef())&&((Ct=(At=get$2(rt))==null?void 0:At.getDOMRef())!=null&&Ct.contains(yt.target))?set(it,!0):(It=get$2(me))!=null&&It.contains(yt.target)?(Ot=get$2(ne))!=null&&Ot.contains(yt.target)?set(it,!get$2(it)):set(it,!0):set(it,!1),!ee()&&get$2(rt)&&get$2(rt).changeShow({show:get$2(it)})};onMount(()=>{dt(),set(te,proxy(deepClone$1(T.option))),document.addEventListener("mousedown",yt=>{ct(yt)})}),onDestroy(()=>{document.removeEventListener("mousedown",ct)});const ut=()=>{set(Ye,proxy(new Map)),set(Ve,proxy([])),set(st,""),set(nt,""),set(te,proxy(deepClone$1(T.option))),set(it,!1),T.onChange&&T.onChange({obj:{},str:""}),get$2(rt)&&get$2(rt).changeShow({show:get$2(it),top:get$2(tt),left:get$2(et),select:get$2(Ye)})};user_effect(()=>{get$2(it)||requestAnimationFrame(()=>{ee()&&dt(99999999),get$2(st).split(".").length===2&&T.onChange&&T.onChange({obj:get$2(Ve),str:get$2(nt)})})});var ft=root$1N(),vt=child(ft),mt=child(vt);mt.__click=[on_click$i,dt];var _t=child(mt),Et=sibling(_t,2);Et.__click=[on_click_1$6,ut],bind_this(vt,yt=>set(ne,yt),()=>get$2(ne));var Tt=sibling(vt,2);{var xt=yt=>{var St=root_1$18();each(St,21,()=>get$2(te),index,(At,Ct,It)=>{var Ot=root_2$p();each(Ot,21,()=>get$2(Ct),index,(Dt,Mt)=>{var $t=root_3$m();$t.__click=()=>ot(It,get$2(Mt));var Ht=child($t),Ft=sibling(Ht);{var jt=Gt=>{var Kt=root_4$f();append(Gt,Kt)};if_block(Ft,Gt=>{get$2(Mt).children&&get$2(Mt).children.length&&Gt(jt)})}template_effect(Gt=>{$t.disabled=get$2(Mt).disabled,set_class($t,1,Gt,"svelte-18cr99d"),set_text(Ht,`${get$2(Mt).label??""} `)},[()=>{var Gt;return clsx(((Gt=get$2(Ye).get(It))==null?void 0:Gt.value)===get$2(Mt).value?"item-select":`${get$2(Mt).disabled?"item-disabled":"item"}`)}]),append(Dt,$t)}),append(At,Ot)}),template_effect(()=>set_style(St,`top:${get$2(tt)}px;left:${get$2(et)}px;`)),append(yt,St)};if_block(Tt,yt=>{get$2(it)&&ee()&&yt(xt)})}bind_this(ft,yt=>set(me,yt),()=>get$2(me)),bind_value(_t,()=>get$2(st),yt=>set(st,yt)),append(Y,ft),pop()}delegate(["click"]);var root$1M=template('<div class="wrapper svelte-aik4n9"><!></div>');function Cascader(Y,T){push(T,!0);let k=prop(T,"type",3,void 0),Z=prop(T,"onChange",3,tt=>{}),ee=prop(T,"value",15,""),te=prop(T,"checkToClosePopup",3,!1),ne=prop(T,"disabled",3,!1),me=state(proxy([]));const Ve=()=>{const tt=createOption(window.API.structAndVarRelationIntegrate.getTreeFlattener().buildSourceTree(),k())[1];tt!=null&&tt.children?set(me,proxy([[...tt.children.filter(it=>it.children)]])):set(me,proxy([[]]))};onMount(()=>{Ve(),window.API.eventBus.on(`tree:flattener:rename:${window.API.structAndVarRelationIntegrate.getTreeFlattener().getId()}`,()=>{Ve()}),window.API.eventBus.on([window.API.constant.enum.VARIABLE_EXCEL_OPEN],tt=>{Ve()}),window.API.eventBus.on(window.API.constant.enum.UPDATE_TREENODE_STRUCT_AND_VARRELATION_INTEGRATE,()=>{Z()({obj:{},str:ee()}),Ve()})});var Ye=root$1M(),et=child(Ye);MCXACascader(et,{get disabled(){return ne()},get option(){return get$2(me)},get onChange(){return Z()},get checkToClosePopup(){return te()},get defaultValue(){return ee()},set defaultValue(tt){ee(tt)}}),append(Y,Ye),pop()}var root$1L=template('<div class="wrapper svelte-1ncarh3"><div class="head svelte-1ncarh3"><!></div> <div class="content svelte-1ncarh3"><!></div> <div class="operate svelte-1ncarh3"><button class="operate-add svelte-1ncarh3">æ·»å </button></div></div>');function EditableList(Y,T){push(T,!0);let k=prop(T,"list",15);const Z=derived$1(()=>!T.bindVar.includes(".")),ee=nt=>{const rt=nt.map((lt,ot)=>k()[lt]);k(rt)};user_effect(()=>{k()});const te=()=>{let nt="eq";T.valueType==="boolean"&&(nt="true");function rt(ot){return ot==="string"?[""]:ot==="number"||ot==="unsigned"?[0,100]:ot==="float"?[0,100]:[]}const lt={key:generateUniqueId$1(),condition:nt,value:rt(T.valueType),valueType:T.valueType,result:T.resultType==="string"?"":0};k().push(lt)},ne=nt=>{const rt=k().findIndex(lt=>lt.key===nt);rt!==-1&&k().splice(rt,1)};var me=root$1L(),Ve=child(me),Ye=child(Ve);Cascader(Ye,{get value(){return T.bindVar},checkToClosePopup:!0,get onChange(){return T.onBindVarChange}});var et=sibling(Ve,2),tt=child(et);CommonDrag(tt,{commonDragNewOrd:nt=>{ee(nt)},children:(nt,rt)=>{var lt=comment(),ot=first_child(lt);each(ot,17,k,ht=>ht.key,(ht,dt,ct)=>{var ut=comment(),ft=first_child(ut);{var vt=mt=>{CommonDragItem(mt,{children:(_t,Et)=>{EditableListItem(_t,{deleteItem:ne,get key(){return get$2(dt).key},get valueType(){return T.valueType},get resultType(){return T.resultType},get value(){return get$2(dt).value},set value(Tt){get$2(dt).value=Tt},get resultValue(){return get$2(dt).result},set resultValue(Tt){get$2(dt).result=Tt},get type(){return get$2(dt).condition},set type(Tt){get$2(dt).condition=Tt}})},$$slots:{default:!0}})};if_block(ft,mt=>{get$2(dt)&&mt(vt)})}append(ht,ut)}),append(nt,lt)},$$slots:{default:!0}});var it=sibling(et,2),st=child(it);st.__click=te,template_effect(()=>st.disabled=get$2(Z)),append(Y,me),pop()}delegate(["click"]);var on_click$h=(Y,T)=>{T()},root_1$17=template('<div class="wrapper svelte-1ubxgrh"><!></div>'),root$1K=template('<button class="advanced-operations svelte-1ubxgrh"><span class="iconfont icon-gaojishezhi"></span></button> <!>',1);function Advanced(Y,T){push(T,!0);let k=prop(T,"bindVar",15),Z=state(!1),ee=state(proxy(T.data)),te=T.valueType;user_effect(()=>{T.valueType,te!==T.valueType&&(set(ee,proxy([])),te=T.valueType)});const ne=()=>{set(Z,!get$2(Z))};var me=root$1K(),Ve=first_child(me);Ve.__click=[on_click$h,ne];var Ye=sibling(Ve,2);CommonModalLogic(Ye,{haveCurtain:!0,onClose:()=>{T.onChange(get$2(ee))},get isOpenState(){return get$2(Z)},set isOpenState(et){set(Z,proxy(et))},children:(et,tt)=>{var it=root_1$17(),st=child(it);EditableList(st,{get valueType(){return T.valueType},get resultType(){return T.resultType},get onBindVarChange(){return T.onBindVarChange},get bindVar(){return k()},set bindVar(nt){k(nt)},get list(){return get$2(ee)},set list(nt){set(ee,proxy(nt))}}),append(et,it)},$$slots:{default:!0}}),append(Y,me),pop()}delegate(["click"]);function getValueType(Y){var Z;const T=Y.split(".").pop(),k=window.API.structAndVarRelationIntegrate.getTreeFlattener();if(T){const ee=(Z=k.getNodeBySourceId(T))==null?void 0:Z.source;if(ee){const te=ee.dataType;if(["char","string","unsigned char"].includes(te))return"string";if(te==="bool")return"boolean";if(["float","double","long double"].includes(te))return"float";if(["unsigned short","unsigned long long"].includes(te))return"unsigned"}}return"number"}var on_click$g=(Y,T)=>{T(Y)},root$1J=template('<div class="wrapper svelte-10glpky"><button class="wrapper-button svelte-10glpky"> </button></div>');function InputType(Y,T){push(T,!0);let k=prop(T,"inputValue",15),Z=state(void 0),ee=state(null),te=state(proxy(k())),ne=state(proxy([]));function me(it){set(te,proxy(it.label)),k(it.label),get$2(Z).changeShow({show:!1})}function Ve(it){const st=T.option.find(rt=>rt.label===get$2(te));if(!get$2(ee))return;const nt=get$2(ee).getBoundingClientRect();set(Z,proxy(api$1.popUp.getPopUp(controlVariablePopUpEventBus))),get$2(Z).clearState(),get$2(Z).changeOptions(T.option),get$2(Z).changeShow({show:!0,top:nt.y+nt.height,left:nt.x,selectLabel:st?st.value:""}),get$2(Z).getSelectData(me)}onMount(()=>{set(ne,proxy(T.option.map(it=>it.value))),set(te,proxy(k()))});var Ye=root$1J(),et=child(Ye);et.__click=[on_click$g,Ve];var tt=child(et);bind_this(et,it=>set(ee,it),()=>get$2(ee)),template_effect(()=>set_text(tt,get$2(te))),event("blur",et,()=>{get$2(Z).changeShow({show:!1})}),append(Y,Ye),pop()}delegate(["click"]);function deepClone(Y,T=new WeakMap){if(Y===null||typeof Y!="object")return Y;if(T.has(Y))return T.get(Y);if(Y instanceof Date)return new Date(Y.getTime());if(Y instanceof RegExp)return new RegExp(Y.source,Y.flags);if(Y instanceof Map){const ee=new Map;return T.set(Y,ee),Y.forEach((te,ne)=>{ee.set(deepClone(ne,T),deepClone(te,T))}),ee}if(Y instanceof Set){const ee=new Set;return T.set(Y,ee),Y.forEach(te=>ee.add(deepClone(te,T))),ee}if(Array.isArray(Y)){const ee=[];T.set(Y,ee);for(const te of Y)ee.push(deepClone(te,T));return ee}const k=Object.create(Object.getPrototypeOf(Y));T.set(Y,k);const Z=[...Object.getOwnPropertyNames(Y),...Object.getOwnPropertySymbols(Y)];for(const ee of Z)k[ee]=deepClone(Y[ee],T);return k}var root_1$16=template("<!> <!>",1),root$1I=template('<div class="wrapper svelte-4xzpoi"><span> </span> <div class="flex justify-between items-center gap-1"><!> <!></div></div>');function ControlVariables(Y,T){push(T,!0);const k=[{label:"static",value:"static"},{label:"dynamic",value:"dynamic"},{label:"function",value:"function"}],Z=prop(T,"variable",7);let ee=state(proxy(Z().isDynamic?"dynamic":"static")),te=state("number"),ne=derived$1(()=>{var ut,ft;const dt=(ut=Z().bindVar)==null?void 0:ut.split(".").pop();if(!dt)return!0;const ct=window.API.structAndVarRelationIntegrate.getTreeFlattener();if(dt){const vt=(ft=ct.getNodeBySourceId(dt))==null?void 0:ft.source;if(vt){const mt=vt.dataType;if(["char","string"].includes(mt))return Z().type!=="string"}}return!1});const me=Z().type;function Ve(dt){return dt.length?dt.map(ct=>({key:ct.key,condition:ct.condition,value:[...ct.value],valueType:ct.valueType,result:ct.result})):[]}function Ye(dt){const ct=Ve(dt);Z().expression=ct}function et(dt){set(te,proxy(getValueType(dt.str))),Z().bindVar=dt.str}user_effect(()=>{get$2(ee),Z().isDynamic=get$2(ee)==="dynamic"});var tt=root$1I(),it=child(tt),st=child(it),nt=sibling(it,2),rt=child(nt);InputType(rt,{option:k,get inputValue(){return get$2(ee)},set inputValue(dt){set(ee,proxy(dt))}});var lt=sibling(rt,2);{var ot=dt=>{var ct=root_1$16(),ut=first_child(ct);Cascader(ut,{get disabled(){return get$2(ne)},onChange:et,get type(){return Z().type},get value(){return Z().bindVar},checkToClosePopup:!0});var ft=sibling(ut,2);const vt=derived$1(()=>Z().bindVar??""),mt=derived$1(()=>deepClone(Z().expression??[]));Advanced(ft,{get valueType(){return get$2(te)},get bindVar(){return get$2(vt)},get data(){return get$2(mt)},onChange:Ye,onBindVarChange:et,resultType:me}),append(dt,ct)},ht=(dt,ct)=>{{var ut=ft=>{PropertyInput(ft,{get label(){return T.label},get value(){return T.value},get type(){return T.type},get options(){return T.options},get onChange(){return T.onChange}})};if_block(dt,ft=>{get$2(ee)==="static"&&ft(ut)},ct)}};if_block(lt,dt=>{get$2(ee)==="dynamic"?dt(ot):dt(ht,!1)})}template_effect(()=>set_text(st,T.label)),append(Y,tt),pop()}var root_3$l=template("<!> <!>",1),root_8$3=template("<!> <!>",1),root_2$o=template('<div class="flex gap-2 items-center"><!></div> <div class="flex gap-2 items-center"><!></div> <!>',1);function Layout$1(Y,T){push(T,!0);let k=prop(T,"props",7),Z=state(0);const ee="0.1.1.1.";function te(Ve,Ye){if(console.log("onChange"),!!Ye)if(Ye=toCamelCase(Ye),Ye==="align")k().align=parseInt(Ve,10),k().x=0,k().y=0,update(Z);else{const et={path:ee+Ye,type:"set",newValue:Ve,oldValue:k()[Ye]};k()[Ye]=Ve,rpcProvider$1.rpc("onPropsChange",et)}}function ne({x:Ve,y:Ye}){k().x=Ve,k().y=Ye,update(Z)}function me({width:Ve,height:Ye}){k().width=Ve,k().height=Ye,update(Z)}onMount(()=>{try{rpcProvider$1.registerRpcHandler("updatePosition",ne)}catch{}try{rpcProvider$1.registerRpcHandler("updateSize",me)}catch{}}),WgtAccordionItem(Y,{label:"Layout",children:(Ve,Ye)=>{var et=comment(),tt=first_child(et);{var it=st=>{var nt=root_2$o(),rt=first_child(nt),lt=child(rt);key_block(lt,()=>get$2(Z),ut=>{var ft=root_3$l(),vt=first_child(ft);{var mt=yt=>{ControlVariables(yt,{label:"X",get variable(){return k().variables.x},type:"number",get value(){return k().x},onChange:te})},_t=yt=>{LabelInput(yt,{label:"X",type:"number",get value(){return k().x},onChange:te})};if_block(vt,yt=>{k().variables&&k().variables.x?yt(mt):yt(_t,!1)})}var Et=sibling(vt,2);{var Tt=yt=>{ControlVariables(yt,{label:"Y",get variable(){return k().variables.y},type:"number",get value(){return k().y},onChange:te})},xt=yt=>{LabelInput(yt,{label:"Y",type:"number",get value(){return k().y},onChange:te})};if_block(Et,yt=>{k().variables&&k().variables.y?yt(Tt):yt(xt,!1)})}append(ut,ft)});var ot=sibling(rt,2),ht=child(ot);key_block(ht,()=>get$2(Z),ut=>{var ft=root_8$3(),vt=first_child(ft);{var mt=yt=>{ControlVariables(yt,{label:"Width",get variable(){return k().variables.width},type:"number",get value(){return k().width},onChange:te})},_t=yt=>{LabelInput(yt,{label:"Width",type:"number",get value(){return k().width},onChange:te})};if_block(vt,yt=>{k().variables&&k().variables.width?yt(mt):yt(_t,!1)})}var Et=sibling(vt,2);{var Tt=yt=>{ControlVariables(yt,{label:"Height",get variable(){return k().variables.height},type:"number",get value(){return k().height},onChange:te})},xt=yt=>{LabelInput(yt,{label:"Height",type:"number",get value(){return k().height},onChange:te})};if_block(Et,yt=>{k().variables&&k().variables.height?yt(Tt):yt(xt,!1)})}append(ut,ft)});var dt=sibling(ot,2);{var ct=ut=>{LabelInput(ut,{label:"Align",type:"option",options:lvAlignList,get value(){return k().align},onChange:te})};if_block(dt,ut=>{k().align!==void 0&&ut(ct)})}append(st,nt)};if_block(tt,st=>{k().isValid&&st(it)})}append(Ve,et)},$$slots:{default:!0}}),pop()}var root_1$15=template('<div class="flex justify-start items-center gap-3 relative"><div><!> <!></div> <!> <!></div>');function Name(Y,T){push(T,!0);const k=prop(T,"props",7);let Z=state(proxy(k().name)),ee=state(!1),te=state(""),ne=state(!0);function me(){set(ee,!0),setTimeout(()=>{set(ee,!1)},2e3)}function Ve(){var nt;const tt=LvglBase.nameSet;if(tt.has(get$2(Z))&&get$2(Z)!==k().name){set(te,"name already exists"),me();return}const it=(nt=widgetProps.curlvglShape)==null?void 0:nt.id;if(!it){set(te,"no widget selected"),me();return}const st=findWidget(widgetStores.widgets,it);st&&(st.name=get$2(Z),tt.delete(k().name),k().name=get$2(Z),tt.add(get$2(Z)))}var Ye=comment(),et=first_child(Ye);key_block(et,()=>widgetProps.update,tt=>{var it=root_1$15(),st=child(it),nt=child(st);Input$1(nt,{type:"text",required:!0,size:"sm",get value(){return k().name},oninput:ct=>{set(Z,proxy(ct.target.value)),set(ne,proxy(isValidCVariableName(get$2(Z))))}});var rt=sibling(nt,2);{var lt=ct=>{Helper(ct,{class:"mt-2",color:"red",children:(ut,ft)=>{var vt=text$1("åéååªè½åå«å­æ¯ãæ°å­åä¸åçº¿ï¼ä¸ä¸è½ä»¥æ°å­å¼å¤´ï¼ä¸è½æ¯Cè¯­è¨å³é®å­ã");append(ut,vt)},$$slots:{default:!0}})};if_block(rt,ct=>{get$2(ne)||ct(lt)})}var ot=sibling(st,2);const ht=derived$1(()=>!get$2(ne));Button(ot,{class:"bg-sky-500 text-white h-8",onclick:Ve,get disabled(){return get$2(ht)},children:(ct,ut)=>{var ft=text$1("Rename");append(ct,ft)},$$slots:{default:!0}});var dt=sibling(ot,2);Alert(dt,{color:"red",class:"w-[50%] left-1/2 -translate-x-1/2 absolute",get alertStatus(){return get$2(ee)},set alertStatus(ut){set(ee,proxy(ut))},icon:ut=>{InfoCircleSolid(ut,{class:"h-5 w-5"})},children:(ut,ft)=>{var vt=text$1();template_effect(()=>set_text(vt,get$2(te))),append(ut,vt)},$$slots:{icon:!0,default:!0}}),append(tt,it)}),append(Y,Ye),pop()}lv_part_t.LV_PART_MAIN,lv_part_t.LV_PART_KNOB,lv_part_t.LV_PART_INDICATOR,lv_part_t.LV_PART_SELECTED,lv_part_t.LV_PART_ITEMS,lv_part_t.LV_PART_TICKS,lv_part_t.LV_PART_CURSOR,lv_part_t.LV_PART_CUSTOM_FIRST,lv_part_t.LV_PART_ANY;class LV_ARC extends LV_Obj{constructor(k,Z){super("ARC",Z);bt(this,"_rotation",0);bt(this,"_bgAngleStart",0);bt(this,"_bgAngleEnd",0);bt(this,"_angleStart",0);bt(this,"_angleEnd",360);bt(this,"_minValue",0);bt(this,"_maxValue",100);bt(this,"_mode",lv_arc_mode_t.LV_ARC_MODE_NORMAL);bt(this,"_value",50);this._value=Module.lv_arc_get_value(this.lvObj),this.value=50,this._minValue=Module.lv_arc_get_min_value(this.lvObj),this._maxValue=Module.lv_arc_get_max_value(this.lvObj),this._rotation=Module.lv_arc_get_rotation(this.lvObj),this._mode=Module.lv_arc_get_mode(this.lvObj),this._angleStart=Module.lv_arc_get_angle_start(this.lvObj),this._angleEnd=Module.lv_arc_get_angle_start(this.lvObj),this._bgAngleStart=Module.lv_arc_get_bg_angle_start(this.lvObj),this._bgAngleEnd=Module.lv_arc_get_bg_angle_end(this.lvObj)}get minValue(){return this._minValue}set minValue(k){this._minValue=k,Module.lv_arc_set_range(this.lvObj,this._minValue,this._maxValue)}get maxValue(){return this._maxValue}set maxValue(k){this._maxValue=k,Module.lv_arc_set_range(this.lvObj,this._minValue,this._maxValue)}get value(){return this._value}set value(k){k<this._minValue&&(k=this._minValue),k>this._maxValue&&(k=this._maxValue),this._value=k,Module.lv_arc_set_value(this.lvObj,k)}get bgAngleStart(){return this._bgAngleStart}set bgAngleStart(k){this._bgAngleStart=k,Module.lv_arc_set_bg_start_angle(this.lvObj,k)}get bgAngleEnd(){return this._bgAngleEnd}set bgAngleEnd(k){this._bgAngleEnd=k,Module.lv_arc_set_bg_end_angle(this.lvObj,k)}get mode(){return Module.lv_arc_get_mode(this.lvObj)}set mode(k){this._mode=k,Module.lv_arc_set_mode(this.lvObj,k)}get rotation(){return this._rotation}set rotation(k){this._rotation=k,Module.lv_arc_set_rotation(this.lvObj,k)}}class LVGL_ShapeArc extends LvglBase{constructor(){super(...arguments);bt(this,"Type","ARC")}lvglCreate(k){this._lvglObj=Module.lv_arc_create(k),this._widget=new LV_ARC("Arc",this._lvglObj)}createStyle(k){var ne;const Z=(ne=this._styles.find(me=>me[0]==="Main"))==null?void 0:ne[1];Z&&(Z.push(["Arc",new LV_ARC_Background(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]));const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_INDICATOR,k,this.lvglObj,this.State);ee.push(["Arc",new LV_ARC_Background(this.lvglObj,lv_part_t.LV_PART_INDICATOR,this.State,k)]),this._styles.push(["INDICATOR",ee]);const te=CreateBaseStyle.createStyles(lv_part_t.LV_PART_KNOB,k,this.lvglObj,this.State);this._styles.push(["KNOB",te])}setValue(k){const Z=parseInt(k);isNaN(Z)||(this._widget.value=Z)}}var root_1$14=template('<div class="flex"><!> <!></div> <!> <div class="flex"><!> <!></div> <!> <!>',1);function Arc$1(Y,T){push(T,!0);let k=[{value:0,name:"NORMAL"},{value:1,name:"REVERSE"},{value:2,name:"SYMMETRICAL"}],Z=prop(T,"props",7);function ee(ne,me){me&&(me=toCamelCase(me),me==="value"&&(ne<Z().minValue&&(ne=Z().minValue),ne>Z().maxValue&&(ne=Z().maxValue)),Z()[me]=ne)}function te(ne){const me=Number(ne);return isNaN(me)?!1:me>=Z().minValue&&me<=Z().maxValue}WgtAccordionItem(Y,{label:"Arc",children:(ne,me)=>{var Ve=root_1$14(),Ye=first_child(Ve),et=child(Ye);ControlVariables(et,{label:"Min Value",get variable(){return Z().variables.minValue},type:"number",get value(){return Z().minValue},onChange:ee});var tt=sibling(et,2);ControlVariables(tt,{label:"Max Value",get variable(){return Z().variables.maxValue},type:"number",get value(){return Z().maxValue},onChange:ee});var it=sibling(Ye,2);ControlVariables(it,{label:"Value",get variable(){return Z().variables.value},type:"number",get value(){return Z().value},valid:te,onChange:ee});var st=sibling(it,2),nt=child(st);ControlVariables(nt,{label:"Bg Angle Start",get variable(){return Z().variables.bgAngleStart},type:"number",get value(){return Z().bgAngleStart},onChange:ee});var rt=sibling(nt,2);ControlVariables(rt,{get variable(){return Z().variables.bgAngleEnd},label:"Bg Angle End",type:"number",get value(){return Z().bgAngleEnd},onChange:ee});var lt=sibling(st,2);LabelInput(lt,{label:"Mode",type:"option",options:k,get value(){return Z().mode},onChange:ee});var ot=sibling(lt,2);ControlVariables(ot,{get variable(){return Z().variables.rotation},label:"Rotation",type:"number",get value(){return Z().rotation},onChange:ee}),append(ne,Ve)},$$slots:{default:!0}}),pop()}var root_1$13=template('<!> <!> <!> <!> <div class="flex items-center"><!> <!></div> <div class="flex items-center"><!> <!></div>',1);function Image$2(Y,T){push(T,!0);const k=[{name:"Hight adaptation",value:2},{name:"Width adaptation",value:1},{name:"All adaptation",value:3},{name:"No adaptation",value:4}],Z=prop(T,"props",7),ee=derived$1(()=>Asserts.data.filter(ne=>ne.type==="image").map(ne=>({name:ne.name,value:ne.name})));function te(ne,me){me&&(me=toCamelCase(me),Z()[me]=ne)}WgtAccordionItem(Y,{label:"Image",children:(ne,me)=>{var Ve=root_1$13(),Ye=first_child(Ve);ControlVariables(Ye,{label:"Assert",get variable(){return Z().variables.assert},type:"option",get options(){return get$2(ee)},get value(){return Z().assert},onChange:te});var et=sibling(Ye,2);LabelInput(et,{label:"Is Align",type:"checkbox",get value(){return Z().isAlign},onChange:te});var tt=sibling(et,2);Label$1(tt,{class:"flex-auto mx-1 my-1",children:(dt,ct)=>{var ut=comment(),ft=first_child(ut);{var vt=mt=>{var _t=text$1("Select an image");append(mt,_t)};if_block(ft,mt=>{mt(vt,!1)})}append(dt,ut)},$$slots:{default:!0}});var it=sibling(tt,2);LabelInput(it,{label:"Flag",type:"option",options:k,get value(){return Z().flag},onChange:te});var st=sibling(it,2),nt=child(st);ControlVariables(nt,{label:"Pivot X",get variable(){return Z().variables.pivotX},type:"number",get value(){return Z().pivotX},onChange:te});var rt=sibling(nt,2);ControlVariables(rt,{label:"Pivot Y",get variable(){return Z().variables.pivotY},type:"number",get value(){return Z().pivotY},onChange:te});var lt=sibling(st,2),ot=child(lt);ControlVariables(ot,{label:"Rotation",get variable(){return Z().variables.rotation},type:"number",get value(){return Z().rotation},onChange:te});var ht=sibling(ot,2);ControlVariables(ht,{label:"Scale",get variable(){return Z().variables.scale},type:"number",get value(){return Z().scale},onChange:te}),append(ne,Ve)},$$slots:{default:!0}}),pop()}class LV_Label extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"_longMode",0);bt(this,"_text","");bt(this,"_recolor",!1);this._text=Module.lv_label_get_text(Z),this._longMode=Module.lv_label_get_long_mode(Z)}get text(){return this._text}set text(k){this._text=k,Module.lv_label_set_text(this.lvObj,k)}get longMode(){return this._longMode}set longMode(k){this._longMode=k,Module.lv_label_set_long_mode(this.lvObj,k)}set recolor(k){this._recolor=k,Module.lv_label_set_recolor(this.lvObj,k)}get recolor(){return this._recolor}}class LVGL_ShapeLabel extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Label")}lvglCreate(k){this._lvglObj=Module.lv_label_create(k),this._widget=new LV_Label(this.Type,this._lvglObj)}createStyle(k){var ee;const Z=(ee=this._styles.find(te=>te[0]==="Main"))==null?void 0:ee[1];Z&&(Z.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]))}setValue(k){typeof k=="string"?this._widget.text=k:typeof k=="number"?this._widget.text=k.toString():console.warn("Label value must be a string or number")}}var root_1$12=template("<!> <!>",1);function Label(Y,T){push(T,!0);let k=prop(T,"props",7);function Z(ee,te){te&&(te=toCamelCase(te),k()[te]=ee)}WgtAccordionItem(Y,{label:"Label",children:(ee,te)=>{var ne=root_1$12(),me=first_child(ne);ControlVariables(me,{label:"Long Mode",get variable(){return k().variables.longMode},type:"option",options:textModeList,get value(){return k().longMode},onChange:Z});var Ve=sibling(me,2);ControlVariables(Ve,{label:"Text",get variable(){return k().variables.text},type:"textarea",get value(){return k().text},rows:2,onChange:Z}),append(ee,ne)},$$slots:{default:!0}}),pop()}function setCellVisible(Y,T,k){var me;const ee=Y.getView().getState(T),te=ee==null?void 0:ee.shape;if(!te)return;te.isVisible=k,te.redraw();const ne=T.getChildren();for(const Ve of ne)((me=Ve.parent)==null?void 0:me.id)===T.id&&setCellVisible(Y,Ve,k)}class LV_TabView extends LV_Obj{constructor(k,Z,ee){super(k,Z);bt(this,"lvglShape");bt(this,"curFocus",0);bt(this,"_position",lv_dir_t.LV_DIR_TOP);bt(this,"_tabsize",5);bt(this,"_activeTab",0);bt(this,"tabs",[]);this.tabsize=50,ee&&(this.lvglShape=ee)}get tab(){return this.tabs[this.curFocus].name}set tab(k){this.tabs[this.curFocus].name=k,Module.lv_tabview_rename_tab(this.lvObj,this.curFocus,k)}get position(){return this._position}set position(k){var Ve,Ye,et,tt,it;if(this._position===k)return;const Z=(Ve=this.lvglShape)==null?void 0:Ve.getGraph();if(!Z)return;const ee=(et=(Ye=this.lvglShape)==null?void 0:Ye.State)==null?void 0:et.cell,te=Z.getCellOverlays(ee);this._position=k,(tt=this.lvglShape)==null||tt.scale;let ne=8,me=8;for(const st of te)this._position===lv_dir_t.LV_DIR_TOP?(st.align="left",st.verticalAlign="top",st.offset=new Point$1(ne,me),ne+=25):this._position===lv_dir_t.LV_DIR_BOTTOM?(st.align="left",st.verticalAlign="bottom",st.offset=new Point$1(ne,me),ne+=25):this._position===lv_dir_t.LV_DIR_LEFT?(st.align="left",st.verticalAlign="top",st.offset=new Point$1(ne,me),me+=20):this._position===lv_dir_t.LV_DIR_RIGHT&&(st.align="right",st.verticalAlign="top",st.offset=new Point$1(ne,me),me+=20);Z.removeCellOverlays(ee),Z.addCellOverlay(ee,te[0]),Z.addCellOverlay(ee,te[1]),Module.lv_tabview_set_tab_bar_position(this.lvObj,k),Module.lv_obj_update_layout(this.lvObj),(it=this.lvglShape)==null||it.redraw()}get tabsize(){return this._tabsize}set tabsize(k){this._tabsize=k,Module.lv_tabview_set_tab_bar_size(this.lvObj,k)}get activeTab(){return this._activeTab}set activeTab(k){var te,ne;if(isNaN(k))return;const Z=(te=this.lvglShape)==null?void 0:te.getGraph();if(!Z)return;this._activeTab=k,this.tabs.forEach(me=>{me.cell&&setCellVisible(Z,me.cell,!1)});const ee=this.tabs[k];setCellVisible(Z,ee.cell,!0),Module.lv_tabview_set_active(this.lvObj,k,!0),(ne=this.lvglShape)==null||ne.redraw()}get tabCnt(){return this.tabs.length}getActiveTabObj(){return this.tabs.length===0?this.lvObj:this.tabs[this._activeTab].content??this.lvObj}getActiveTabCell(){return this.tabs.length===0?null:this.tabs[this._activeTab].cell||null}addTab(k){var ne,me;const Z=Module.lv_tabview_add_tab(this.lvObj,k.name),ee=Module.lv_label_create(Z);Module.lv_label_set_text(ee,k.name),k.content=Z;const te=(ne=this.lvglShape)==null?void 0:ne.getGraph();if(this.lvglShape&&te){const Ve=(me=this.lvglShape.State)==null?void 0:me.cell,Ye=Ve.getGeometry();let et=0,tt=this._tabsize,it=Ye.width,st=Ye.height-tt;(this._position===lv_dir_t.LV_DIR_LEFT||this._position===lv_dir_t.LV_DIR_RIGHT)&&(et=this._tabsize,tt=0,it-=et,tt=Ye.height);const nt=te.insertVertex(Ve,null,null,et,tt,it,st,{type:"TabItem",shape:"lvgl_tabitem",lvglObjT:Z,movable:!1,resizable:!1});k.cell=nt}this.tabs.push(k)}renameTab(k,Z){if(k<0||k>=this.tabs.length)throw new Error("Index out of bounds");this.tabs[k].name=Z,Module.lv_tabview_rename_tab(this.lvObj,k,Z)}removeTab(k){if(k<0||k>=this.tabs.length)throw new Error("Index out of bounds");this.tabs[k].content&&Module.lv_obj_delete(this.tabs[k].content),this.tabs.splice(k,1)}toXML(k){let Z=super.toXML(k);if(!Z&&this.tabs.length>0)Z=k.createElement("TabView");else if(!Z)return null;let te=this.tabs.map(ne=>ne.name).join(",");return Z.setAttribute("tabs",te),Z}fromXML(k){const Z=k.getAttribute("tabs");Z&&Z.split(",").forEach(te=>{this.addTab({id:genRandomStr(8),name:te})})}}class LVGL_ShapeTabView extends LvglBase{constructor(){super(...arguments);bt(this,"Type","TabView")}lvglCreate(k){var et;this._lvglObj=Module.lv_tabview_create(k),this._widget=new LV_TabView(this.Type,this._lvglObj,this);const Z=this.getGraph(),ee=(et=this.State)==null?void 0:et.cell;if(!Z)return;const te=20,ne=8,me=new CellOverlay(new ImageBox("images/open_start.gif",te,te),null,"left","top",new Point$1(ne,ne)),Ve=new CellOverlay(new ImageBox("images/open_end.gif",te,te),null,"left","top",new Point$1(ne+25,ne)),Ye=this._widget;me.addListener("click",()=>{const tt=Ye.tabs.length;tt>0&&(Ye.activeTab=(Ye.activeTab+1)%tt)}),Ve.addListener("click",()=>{const tt=Ye.tabCnt;tt>0&&(Ye.activeTab=(Ye.activeTab-1+tt)%tt)}),ee.overlays=[me,Ve]}setLvglGeo(k){var it;super.setLvglGeo(k);const Z=this.getGraph();if(!Z)return;const ee=Module.lv_tabview_get_content(this._lvglObj);let te=Math.abs(Module.lv_obj_get_x(ee)),ne=Math.abs(Module.lv_obj_get_y(ee)),me=k.width-te,Ve=k.height-ne;this._widget._position===lv_dir_t.LV_DIR_BOTTOM&&(me=k.width,Ve=k.height-ne,te=0,ne=0);const tt=((it=this.State)==null?void 0:it.cell).getChildren();for(const st of tt){const nt=st.getGeometry();nt.x=te,nt.y=ne,nt.width=me,nt.height=Ve,Z.getDataModel().setGeometry(st,nt)}}createBaseStyle(k){const Z=CreateBaseStyle.createStyles(lv_part_t.LV_PART_MAIN,k,this._lvglObj,this.State);this._styles.push(["Main",Z])}createStyle(k){var ee;const Z=(ee=this._styles.find(te=>te[0]==="Main"))==null?void 0:ee[1];Z&&(Z.push(["Text",new LV_Text(this._lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this._lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]))}}var root_5$5=template('<div class="flex py-1 items-center gap-4"><!> <!> <button type="button" class=" justify-center top-0.5 right-4 bg-transparent text-white rounded"><!></button></div>'),root_3$k=template('<div class="flex justify-between mr-4"><p class="flex-1 text-center">NAME</p></div> <!> <div class="text-center py-4 h-16"><!></div>',1),root_1$11=template('<div class="flex items-center gap-2"><!> <!></div> <!> <!>',1);function TabView(Y,T){push(T,!0);let k=prop(T,"props",7),Z=state(1),ee=proxy([]);function te(){const Ve={id:genRandomStr(8),name:"Tab "+(k().tabCnt+1)};ee.push(Ve),k().addTab(Ve),k().curFocus=k().tabCnt-1,update(Z)}function ne(Ve){k().removeTab(Ve),update(Z)}function me(Ve){const Ye=k().tabs[Ve];k().renameTab(Ve,Ye.name),update(Z)}WgtAccordionItem(Y,{label:"TabView",children:(Ve,Ye)=>{var et=root_1$11(),tt=first_child(et),it=child(tt);LabelInput(it,{label:"Tab Position",get value(){return k().position},type:"option",options:dirPositionList,onChange:lt=>{k().position=lt}});var st=sibling(it,2);LabelInput(st,{label:"Tab Size",get value(){return k().tabsize},type:"number",onChange:lt=>{k().tabsize=lt}});var nt=sibling(tt,2);key_block(nt,()=>get$2(Z),lt=>{const ot=derived$1(()=>k().tabs.length-1);LabelInput(lt,{label:"Current Tab",get value(){return k().activeTab},type:"number",min:0,get max(){return get$2(ot)},onChange:ht=>{k().activeTab=ht}})});var rt=sibling(nt,2);WgtAccordionItem(rt,{label:"TabView",children:(lt,ot)=>{var ht=root_3$k(),dt=sibling(first_child(ht),2);key_block(dt,()=>get$2(Z),ft=>{var vt=comment(),mt=first_child(vt);each(mt,19,()=>k().tabs,_t=>_t.id,(_t,Et,Tt)=>{var xt=root_5$5(),yt=child(xt);PropertyInput(yt,{type:"string",label:"",get value(){return get$2(Et).name},onChange:It=>{get$2(Et).name=It}});var St=sibling(yt,2);Button(St,{class:"p-1 rounded-full bg-sky-500/100  h-8 text-white hover:bg-sky-600 focus-within:outline-none",onclick:()=>me(get$2(Tt)),children:(It,Ot)=>{var Dt=text$1("Rename");append(It,Dt)},$$slots:{default:!0}});var At=sibling(St,2);At.__click=()=>ne(get$2(Tt));var Ct=child(At);CloseOutline(Ct,{size:"md"}),append(_t,xt)}),append(ft,vt)});var ct=sibling(dt,2),ut=child(ct);Button(ut,{class:"rounded-full bg-sky-500/100 w-36 h-6 text-white hover:bg-sky-600 focus-within:outline-none",onclick:te,children:(ft,vt)=>{var mt=text$1("ADD TAB PAGE");append(ft,mt)},$$slots:{default:!0}}),append(lt,ht)},$$slots:{default:!0}}),append(Ve,et)},$$slots:{default:!0}}),pop()}delegate(["click"]);class LV_TextArea extends LV_Obj{constructor(){super(...arguments);bt(this,"_text","");bt(this,"_placeholder","placeholder");bt(this,"_acceptedCharacters","");bt(this,"_align",0);bt(this,"_maxLength",99878878);bt(this,"_passwordMode",!1);bt(this,"_onelineMode",!1)}get text(){return this._text}set text(k){this._text=k,Module.lv_textarea_set_text(this.lvObj,k)}get placeholder(){return this._placeholder}set placeholder(k){this._placeholder=k,Module.lv_textarea_set_placeholder_text(this.lvObj,k)}get acceptedCharacters(){return this._acceptedCharacters}set acceptedCharacters(k){this._acceptedCharacters=k,Module.lv_textarea_set_accepted_chars(this.lvObj,k)}get align(){return this._align}set align(k){this._align=k}get maxLength(){return this._maxLength}set maxLength(k){this._maxLength=k,Module.lv_textarea_set_max_length(this.lvObj,k)}get passwordMode(){return this._passwordMode}set passwordMode(k){this._passwordMode=k,Module.lv_textarea_set_password_mode(this.lvObj,k)}get onelineMode(){return this._onelineMode}set onelineMode(k){this._onelineMode=k,Module.lv_textarea_set_one_line(this.lvObj,k)}}class LVGL_ShapeTextArea extends LvglBase{constructor(){super(...arguments);bt(this,"Type","TextArea")}lvglCreate(k){this._lvglObj=Module.lv_textarea_create(k),this._widget=new LV_TextArea(this.Type,this._lvglObj)}createStyle(k){var Ve;const Z=(Ve=this._styles.find(Ye=>Ye[0]==="Main"))==null?void 0:Ve[1];Z&&(Z.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]));const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_SELECTED,k,this.lvglObj,this.State);this._styles.push(["SELECTED",ee]);const te=ee.findIndex(Ye=>Ye[0]==="Paddings");te!==-1&&ee.splice(te,1),ee.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_SELECTED,this.State,k)]);const ne=CreateBaseStyle.createStyles(lv_part_t.LV_PART_CURSOR,k,this.lvglObj,this.State);this._styles.push(["CURSOR",ne]);const me=ne.findIndex(Ye=>Ye[0]==="Paddings");me!==-1&&ne.splice(me,1),ne.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_CURSOR,this.State,k)])}}var root_1$10=template('<!> <!> <div class="flex items-center"><!> <!></div> <!> <!>',1);function TextArea(Y,T){push(T,!0);let k=prop(T,"props",7);function Z(ee,te){te&&(te=toCamelCase(te),k()[te]=ee)}WgtAccordionItem(Y,{label:"TextArea",children:(ee,te)=>{var ne=root_1$10(),me=first_child(ne);ControlVariables(me,{label:"Text",get variable(){return k().variables.text},type:"string",get value(){return k().text},onChange:Z});var Ve=sibling(me,2);LabelInput(Ve,{label:"Placeholder",type:"string",get value(){return k().placeholder},onChange:Z});var Ye=sibling(Ve,2),et=child(Ye);ControlVariables(et,{label:"Password Mode",get variable(){return k().variables.passwordMode},type:"checkbox",get value(){return k().passwordMode},onChange:Z});var tt=sibling(et,2);ControlVariables(tt,{label:"Oneline Mode",get variable(){return k().variables.onelineMode},type:"checkbox",get value(){return k().onelineMode},onChange:Z});var it=sibling(Ye,2);ControlVariables(it,{label:"Accepted Characters",get variable(){return k().variables.acceptedCharacters},type:"string",get value(){return k().acceptedCharacters},onChange:Z});var st=sibling(it,2);ControlVariables(st,{label:"Max Length",get variable(){return k().variables.maxLength},type:"number",get value(){return k().maxLength},onChange:Z}),append(ee,ne)},$$slots:{default:!0}}),pop()}var root$1H=template('<div class="flex items-center gap-1"><!> <!> <!></div>');function Calendar(Y,T){push(T,!0);let k=prop(T,"props",7);function Z(Ve,Ye){Ye&&(Ye=toCamelCase(Ye),k()[Ye]=Ve)}var ee=root$1H(),te=child(ee);ControlVariables(te,{label:"Today Day",get variable(){return k().variables.todayDay},type:"number",get value(){return k().todayDay},onChange:Z});var ne=sibling(te,2);ControlVariables(ne,{label:"Today Month",get variable(){return k().variables.todayMonth},type:"number",get value(){return k().todayMonth},onChange:Z});var me=sibling(ne,2);ControlVariables(me,{label:"Today Year",get variable(){return k().variables.todayYear},type:"number",get value(){return k().todayYear},onChange:Z}),append(Y,ee),pop()}function Checkbox(Y,T){push(T,!0);let k=prop(T,"props",7);function Z(ee,te){te&&(te=toCamelCase(te),k()[te]=ee)}WgtAccordionItem(Y,{label:"CheckBox",children:(ee,te)=>{ControlVariables(ee,{label:"Title",get variable(){return k().variables.title},type:"string",get value(){return k().title},onChange:Z})},$$slots:{default:!0}}),pop()}class LV_DropDown extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"_options","");bt(this,"_dir",lv_dir_t.LV_DIR_NONE);bt(this,"_selectedHighlight",!0);bt(this,"_baseText","");this._options=Module.lv_dropdown_get_options(Z),this._dir=Module.lv_dropdown_get_dir(Z),this._selectedHighlight=Module.lv_dropdown_get_selected_highlight(Z)}get options(){return this._options}set options(k){this._options=k,Module.lv_dropdown_set_options(this.lvObj,k)}get dir(){return this._dir}set dir(k){this._dir=k,Module.lv_dropdown_set_dir(this.lvObj,k)}get selectedHighlight(){return this._selectedHighlight}set selectedHighlight(k){this._selectedHighlight=k,Module.lv_dropdown_set_selected_highlight(this.lvObj,k)}get baseText(){return this._baseText}set baseText(k){this._baseText=k,Module.lv_dropdown_set_text(this.lvObj,k)}}class LVGL_ShapeDropDown extends LvglBase{constructor(){super(...arguments);bt(this,"Type","DropDown")}lvglCreate(k){this._lvglObj=Module.lv_dropdown_create(k),this._widget=new LV_DropDown(this.Type,this._lvglObj)}createStyle(k){var te;const Z=(te=this._styles.find(ne=>ne[0]==="Main"))==null?void 0:te[1];Z&&(Z.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]));const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_INDICATOR,k,this.lvglObj,this.State);this._styles.push(["INDICATOR",ee]),ee.splice(0,ee.length),ee.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_INDICATOR,this.State,k)])}}var root_1$$=template("<!> <!> <!> <!>",1);function Dropdown(Y,T){push(T,!0);const k=[{name:"None",value:lv_dir_t.LV_DIR_NONE},{name:"Top",value:lv_dir_t.LV_DIR_TOP},{name:"Bottom",value:lv_dir_t.LV_DIR_BOTTOM},{name:"Left",value:lv_dir_t.LV_DIR_LEFT},{name:"Right",value:lv_dir_t.LV_DIR_RIGHT},{name:"Horizontal",value:lv_dir_t.LV_DIR_HOR},{name:"Vertical",value:lv_dir_t.LV_DIR_VER},{name:"All",value:lv_dir_t.LV_DIR_ALL}],Z=prop(T,"props",7);function ee(te,ne){ne&&(ne=toCamelCase(ne),Z()[ne]=te)}WgtAccordionItem(Y,{label:"Dropdown",children:(te,ne)=>{var me=root_1$$(),Ve=first_child(me);ControlVariables(Ve,{label:"Options",get variable(){return Z().variables.options},type:"textarea",get value(){return Z().options},onChange:ee});var Ye=sibling(Ve,2);LabelInput(Ye,{label:"Dir",get variable(){return Z().variables.dir},type:"option",options:k,get value(){return Z().dir},onChange:ee});var et=sibling(Ye,2);ControlVariables(et,{label:"Selected Highlight",get variable(){return Z().variables.selectedHighlight},type:"checkbox",get value(){return Z().selectedHighlight},onChange:ee});var tt=sibling(et,2);ControlVariables(tt,{label:"Base Text",get variable(){return Z().variables.baseText},type:"string",get value(){return Z().baseText},onChange:ee}),append(te,me)},$$slots:{default:!0}}),pop()}var root_1$_=template("<div>è¿éä»ä¹é½æ²¡æå</div>");function Imgbutton(Y,T){push(T,!0),WgtAccordionItem(Y,{label:"Imgbutton",children:(k,Z)=>{var ee=root_1$_();append(k,ee)},$$slots:{default:!0}}),pop()}class LV_KeyBoard extends LV_Obj{constructor(){super(...arguments);bt(this,"_mode",lv_arc_mode_t.LV_ARC_MODE_NORMAL);bt(this,"_textArea");bt(this,"_map",[]);bt(this,"_ctrls",[])}}class LVGL_ShapeKeyBoard extends LvglBase{constructor(){super(...arguments);bt(this,"Type","KeyBoard")}lvglCreate(k){this._lvglObj=Module.lv_keyboard_create(k),this._widget=new LV_KeyBoard(this.Type,this._lvglObj)}createStyle(k){var te;const Z=(te=this._styles.find(ne=>ne[0]==="Main"))==null?void 0:te[1];Z&&Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]);const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_ITEMS,k,this.lvglObj,this.State);this._styles.push(["ITEMS",ee]),ee.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_ITEMS,this.State,k)])}}var root_1$Z=template("<div>Keyboard</div>");function Keyboard(Y,T){WgtAccordionItem(Y,{label:"Keyboard",children:(k,Z)=>{var ee=root_1$Z();append(k,ee)},$$slots:{default:!0}})}class LV_Roller extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"_mode",lv_roller_mode_t.LV_ROLLER_MODE_NORMAL);bt(this,"_visibleRowCount",3);bt(this,"_options","");bt(this,"_selected",0);this._options=Module.lv_roller_get_options(Z),this._selected=Module.lv_roller_get_selected(Z),this.visibleRowCount=3}get mode(){return this._mode}set mode(k){this._mode=k,Module.lv_roller_set_options(this.lvObj,this._options,k)}get options(){return this._options}set options(k){this._options=k,Module.lv_roller_set_options(this.lvObj,k,this._mode)}get selected(){return this._selected}set selected(k){this._selected=k,Module.lv_roller_set_selected(this.lvObj,k,lv_anim_enable_t.LV_ANIM_ON)}get visibleRowCount(){return this._visibleRowCount}set visibleRowCount(k){this._visibleRowCount=k,Module.lv_roller_set_visible_row_count(this.lvObj,k)}}class LVGL_ShapeRoller extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Roller")}lvglCreate(k){this._lvglObj=Module.lv_roller_create(k),this._widget=new LV_Roller("Roller",this._lvglObj)}createStyle(k){var ne;const Z=(ne=this._styles.find(me=>me[0]==="Main"))==null?void 0:ne[1];if(Z){const me=Z.findIndex(Ve=>Ve[0]==="Paddings");me!==-1&&Z.splice(me,1),Z.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)])}const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_SELECTED,k,this.lvglObj,this.State);this._styles.push(["SELECTED",ee]);const te=ee.findIndex(me=>me[0]==="Paddings");te!==-1&&ee.splice(te,1),ee.push(["Text",new LV_Background(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)])}}var root_1$Y=template('<!> <!> <div class="flex items-center"><!> <!></div>',1);function Roller$2(Y,T){push(T,!0);let k=[{value:0,name:"NORMAL"},{value:1,name:"INFINITE"}],Z=prop(T,"props",7);proxy([]);function ee(te,ne){ne&&(ne=toCamelCase(ne),Z()[ne]=te)}WgtAccordionItem(Y,{label:"Roller",children:(te,ne)=>{var me=root_1$Y(),Ve=first_child(me);ControlVariables(Ve,{label:"Options",get variable(){return Z().variables.options},type:"textarea",get value(){return Z().options},onChange:ee});var Ye=sibling(Ve,2);LabelInput(Ye,{label:"Mode",type:"option",options:k,get value(){return Z().mode},onChange:ee});var et=sibling(Ye,2),tt=child(et);ControlVariables(tt,{label:"Selected",get variable(){return Z().variables.selected},type:"number",get value(){return Z().selected},onChange:ee});var it=sibling(tt,2);ControlVariables(it,{label:"Visible Row Count",get variable(){return Z().variables.visibleRowCount},type:"number",get value(){return Z().visibleRowCount},onChange:ee}),append(te,me)},$$slots:{default:!0}}),pop()}class LV_Slider extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"_min",0);bt(this,"_max",100);bt(this,"_mode",lv_slider_mode_t.LV_SLIDER_MODE_NORMAL);bt(this,"_value",0);bt(this,"_valueLeft",0);this._value=Module.lv_slider_get_value(Z),this._min=Module.lv_slider_get_min_value(Z),this._max=Module.lv_slider_get_max_value(Z),this._mode=Module.lv_slider_get_mode(Z),this._valueLeft=Module.lv_slider_get_left_value(Z)}get value(){return this._value}set value(k){this._value=k,Module.lv_slider_set_value(this.lvObj,k,lv_anim_enable_t.LV_ANIM_ON)}get min(){return this._min}set min(k){this._min=k,Module.lv_slider_set_range(this.lvObj,k,this._max)}get max(){return this._max}set max(k){this._max=k,Module.lv_slider_set_range(this.lvObj,this._min,k)}get mode(){return this._mode}set mode(k){this._mode=k,Module.lv_slider_set_mode(this.lvObj,k)}get valueLeft(){return this._valueLeft}set valueLeft(k){this._valueLeft=k,Module.lv_slider_set_left_value(this.lvObj,k,lv_anim_enable_t.LV_ANIM_ON)}}class LVGL_ShapeSlider extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Slider")}lvglCreate(k){this._lvglObj=Module.lv_slider_create(k),this._widget=new LV_Slider(this.Type,this._lvglObj)}createStyle(k){var me;const Z=(me=this._styles.find(Ve=>Ve[0]==="Main"))==null?void 0:me[1];Z&&Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]);const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_INDICATOR,k,this.lvglObj,this.State);this._styles.push(["INDICATOR",ee]);const te=ee.findIndex(Ve=>Ve[0]==="Paddings");te!==-1&&ee.splice(te,1);const ne=CreateBaseStyle.createStyles(lv_part_t.LV_PART_KNOB,k,this.lvglObj,this.State);this._styles.push(["KNOB",ne])}}var root_1$X=template('<div class="flex items-center"><!> <!></div> <!> <!> <!>',1);function Slider(Y,T){push(T,!0);let k=[{value:lv_slider_mode_t.LV_SLIDER_MODE_NORMAL,name:"NORMAL"},{value:lv_slider_mode_t.LV_SLIDER_MODE_RANGE,name:"RANGE"},{value:lv_slider_mode_t.LV_SLIDER_MODE_SYMMETRICAL,name:"SYMMETRICAL"}],Z=prop(T,"props",7);function ee(te,ne){ne&&(ne=toCamelCase(ne),ne==="value"&&(te<Z().min&&(te=Z().min),te>Z().max&&(te=Z().max)),Z()[ne]=te)}WgtAccordionItem(Y,{label:"Slider",children:(te,ne)=>{var me=root_1$X(),Ve=first_child(me),Ye=child(Ve);ControlVariables(Ye,{label:"Min",get variable(){return Z().variables.min},type:"number",get value(){return Z().min},onChange:ee});var et=sibling(Ye,2);ControlVariables(et,{label:"Max",get variable(){return Z().variables.max},type:"number",get value(){return Z().max},onChange:ee});var tt=sibling(Ve,2);LabelInput(tt,{label:"Mode",type:"option",options:k,get value(){return Z().mode},onChange:ee});var it=sibling(tt,2);ControlVariables(it,{label:"Value",get variable(){return Z().variables.value},type:"number",get value(){return Z().value},onChange:ee});var st=sibling(it,2);ControlVariables(st,{label:"Value Left",get variable(){return Z().variables.valueLeft},type:"number",get value(){return Z().valueLeft},onChange:ee}),append(te,me)},$$slots:{default:!0}}),pop()}class LV_SpinBox extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"_digitCnt",4);bt(this,"_digitPosition",0);bt(this,"_step",2);bt(this,"_min",0);bt(this,"_max",9999);bt(this,"incrementPos",1);bt(this,"_value",0);this._value=Module.lv_spinbox_get_value(Z),this._step=Module.lv_spinbox_get_step(Z),this.digitCnt=5,this.digitPosition=0}get digitCnt(){return this._digitCnt}set digitCnt(k){this._digitCnt=k,Module.lv_spinbox_set_digit_format(this.lvObj,this._digitCnt,this._digitPosition)}get digitPosition(){return this._digitPosition}set digitPosition(k){this._digitPosition=k,Module.lv_spinbox_set_digit_format(this.lvObj,this._digitCnt,this._digitPosition)}get step(){return this._step}set step(k){this._step=k,Module.lv_spinbox_set_step(this.lvObj,k)}get min(){return this._min}set min(k){this._min=k,Module.lv_spinbox_set_range(this.lvObj,k,this._max)}get max(){return this._max}set max(k){this._max=k,Module.lv_spinbox_set_range(this.lvObj,this._min,k)}get value(){return this._value}set value(k){this._value=k,Module.lv_spinbox_set_value(this.lvObj,k)}}class LVGL_ShapeSpinBox extends LvglBase{constructor(){super(...arguments);bt(this,"Type","SpinBox")}lvglCreate(k){this._lvglObj=Module.lv_spinbox_create(k),this._widget=new LV_SpinBox(this.Type,this._lvglObj)}createStyle(k){var ne;const Z=(ne=this._styles.find(me=>me[0]==="Main"))==null?void 0:ne[1];Z&&(Z.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]));const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_CURSOR,k,this.lvglObj,this.State);this._styles.push(["CURSOR",ee]);const te=ee.findIndex(me=>me[0]==="Paddings");te!==-1&&ee.splice(te,1),ee.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_CURSOR,this.State,k)])}}var root_1$W=template('<div class="flex items-center"><!> <!></div> <div class="flex items-center"><!> <!></div> <div class="flex items-center"><!> <!></div>',1);function Spinbox(Y,T){push(T,!0);let k=prop(T,"props",7);function Z(ee,te){te&&(te=toCamelCase(te),k()[te]=ee)}WgtAccordionItem(Y,{label:"Spinbox",children:(ee,te)=>{var ne=root_1$W(),me=first_child(ne),Ve=child(me);LabelInput(Ve,{label:"Digit Count",get variable(){return k().variables.digitCnt},type:"number",get value(){return k().digitCnt},onChange:lt=>k().digitCnt=lt});var Ye=sibling(Ve,2);LabelInput(Ye,{label:"Digit Position",get variable(){return k().variables.digitPosition},type:"number",get value(){return k().digitPosition},onChange:Z});var et=sibling(me,2),tt=child(et);LabelInput(tt,{label:"Min",get variable(){return k().variables.min},type:"number",get value(){return k().min},onChange:Z});var it=sibling(tt,2);LabelInput(it,{label:"Max",get variable(){return k().variables.max},type:"number",get value(){return k().max},onChange:Z});var st=sibling(et,2),nt=child(st);ControlVariables(nt,{label:"Step",get variable(){return k().variables.step},type:"number",get value(){return k().step},onChange:Z});var rt=sibling(nt,2);ControlVariables(rt,{label:"Value",get variable(){return k().variables.value},type:"number",get value(){return k().value},onChange:Z}),append(ee,ne)},$$slots:{default:!0}}),pop()}var root_1$V=template('<div class="flex items-center"><!> <!></div> <!> <!> <!>',1);function Bar(Y,T){push(T,!0);let k=[{value:lv_bar_mode_t.LV_BAR_MODE_NORMAL,name:"NORMAL"},{value:lv_bar_mode_t.LV_BAR_MODE_SYMMETRICAL,name:"REVERSE"},{value:lv_bar_mode_t.LV_BAR_MODE_SYMMETRICAL,name:"SYMMETRICAL"}],Z=prop(T,"props",7);function ee(te,ne){ne&&(ne=toCamelCase(ne),ne==="value"&&(te<Z().min&&(te=Z().min),te>Z().max&&(te=Z().max)),Z()[ne]=te)}WgtAccordionItem(Y,{label:"Bar",children:(te,ne)=>{var me=root_1$V(),Ve=first_child(me),Ye=child(Ve);ControlVariables(Ye,{label:"Min",get variable(){return Z().variables.min},type:"number",get value(){return Z().min},onChange:ee});var et=sibling(Ye,2);ControlVariables(et,{label:"Max",get variable(){return Z().variables.max},type:"number",get value(){return Z().max},onChange:ee});var tt=sibling(Ve,2);ControlVariables(tt,{label:"Value",get variable(){return Z().variables.value},type:"number",get value(){return Z().value},onChange:ee});var it=sibling(tt,2);ControlVariables(it,{label:"Start Value",get variable(){return Z().variables.startValue},type:"number",get value(){return Z().startValue},onChange:ee});var st=sibling(it,2);LabelInput(st,{label:"Mode",get variable(){return Z().variables.mode},type:"option",options:k,get value(){return Z().mode},onChange:ee}),append(te,me)},$$slots:{default:!0}}),pop()}class LV_Chart extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"serieses",[]);bt(this,"_type",lv_chart_type_t.LV_CHART_TYPE_LINE);bt(this,"_pointCount",0);bt(this,"_updateMode",lv_chart_update_mode_t.LV_CHART_UPDATE_MODE_SHIFT);bt(this,"_hdivLineCount",5);bt(this,"_vdivLineCount",5);this.type=lv_chart_type_t.LV_CHART_TYPE_LINE;const ee=this.addSeries("primaryY",lv_chart_axis_t.LV_CHART_AXIS_PRIMARY_Y,"#0000ff"),te=this.addSeries("secondaryY",lv_chart_axis_t.LV_CHART_AXIS_SECONDARY_Y,"#ff0000");this.addSeries("primaryX",lv_chart_axis_t.LV_CHART_AXIS_PRIMARY_X,"#00ff00"),this.addSeries("secondaryX",lv_chart_axis_t.LV_CHART_AXIS_SECONDARY_X,"#ffff00");for(let ne=0;ne<10;ne++)Module.lv_chart_set_next_value(this.lvObj,ee,Math.random()*40+10),Module.lv_chart_set_next_value(this.lvObj,te,Math.random()*40+50);Module.lv_chart_refresh(this.lvObj),this.hdivLineCount=5,this.vdivLineCount=5}get type(){return this._type}set type(k){this._type=k,Module.lv_chart_set_type(this.lvObj,k)}get updateMode(){return this._updateMode}set updateMode(k){this._updateMode=k,Module.lv_chart_set_update_mode(this.lvObj,k)}get hdivLineCount(){return this._hdivLineCount}set hdivLineCount(k){this._hdivLineCount=k,Module.lv_chart_set_div_line_count(this.lvObj,k,this._vdivLineCount)}get vdivLineCount(){return this._vdivLineCount}set vdivLineCount(k){this._vdivLineCount=k,Module.lv_chart_set_div_line_count(this.lvObj,this._hdivLineCount,k)}addSeries(k,Z,ee){const te=hexStrToLvColor(ee),ne=Module.lv_chart_add_series(this.lvObj,te,Z),me={name:k,series:ne,type:Z,color:ee,min:0,max:99999,isHidden:!1};return this.serieses.push(me),ne}hideSeries(k){if(k<0||k>=this.serieses.length)throw new Error("Index out of bounds");const Z=this.serieses[k];Module.lv_chart_hide_series(this.lvObj,Z.series,!0)}removeSeries(k){if(k<0||k>=this.serieses.length)throw new Error("Index out of bounds");const Z=this.serieses[k];Module.lv_chart_remove_series(this.lvObj,Z.series);const ee=this.serieses.indexOf(Z);ee>-1&&this.serieses.splice(ee,1)}addCursor(k,Z){const ee=hexStrToLvColor(k);return Module.lv_chart_add_cursor(this.lvObj,ee,Z)}apply(k){if(k<0||k>=this.serieses.length)throw new Error("Index out of bounds");const Z=this.serieses[k];Module.lv_chart_set_range(this.lvObj,Z.type,Z.min,Z.max),Module.lv_chart_set_series_color(this.lvObj,Z.series,hexStrToLvColor(Z.color)),Module.lv_chart_hide_series(this.lvObj,Z.series,Z.isHidden),Module.lv_chart_refresh(this.lvObj)}toXML(k){let Z=super.toXML(k);Z||(Z=k.createElement("Chart"));const ee=k.createElement("Serieses");for(const te of this.serieses){const ne=k.createElement("Series");ne.setAttribute("type",te.type.toString()),ne.setAttribute("color",te.color),ne.setAttribute("min",te.min.toString()),ne.setAttribute("max",te.max.toString()),ne.setAttribute("isHidden",te.isHidden.toString()),ee.appendChild(ne)}return Z.appendChild(ee),Z}fromXML(k){super.fromXML(k);const Z=k.querySelector("Serieses");if(!Z)return;const ee=Z.querySelectorAll("Series");for(const te of ee){const ne=parseInt(te.getAttribute("type")||"0",10),me=this.serieses.findIndex(Ye=>Ye.type===ne);if(me===-1)return;const Ve=this.serieses[me];Ve.color=te.getAttribute("color")||"#000000",Ve.min=parseFloat(te.getAttribute("min")||"0"),Ve.max=parseFloat(te.getAttribute("max")||"99999"),Ve.isHidden=te.getAttribute("isHidden")==="true",this.apply(me)}}}class LVGL_ShapeChart extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Chart")}lvglCreate(k){this._lvglObj=Module.lv_chart_create(k),this._widget=new LV_Chart(this.Type,this._lvglObj)}createStyle(k){var me;(me=this._styles.find(Ve=>Ve[0]==="Main"))==null||me[1];const Z=CreateBaseStyle.createStyles(lv_part_t.LV_PART_SCROLLBAR,k,this.lvglObj,this.State);this._styles.push(["SCROLLBAR",Z]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_SCROLLBAR,this.State,k)]);const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_ITEMS,k,this.lvglObj,this.State);this._styles.push(["ITEMS",ee]);const te=CreateBaseStyle.createStyles(lv_part_t.LV_PART_INDICATOR,k,this.lvglObj,this.State);this._styles.push(["INDICATOR",te]),te.push(["Paddings",new LV_Paddings(this.lvglObj,lv_part_t.LV_PART_ITEMS,this.State,k)]);const ne=CreateBaseStyle.createStyles(lv_part_t.LV_PART_CURSOR,k,this.lvglObj,this.State);this._styles.push(["CURSOR",ne])}}var root_5$4=template('<span class="text-white">Color</span> <!>',1),root_6$4=template('<span class="text-white">Variable</span> <!>',1),root_4$e=template('<div class="flex items-center gap-2"><!> <!></div> <!> <!> <!> <!>',1),root_1$U=template('<!> <!> <div class="flex items-center gap-2"><!> <!></div> <!>',1);function Chart(Y,T){push(T,!0);const k=prop(T,"props",7);function Z(te,ne){ne&&(ne=toCamelCase(ne),k()[ne]=te)}function ee(te,ne){let me=ne.hex;me&&(k().serieses[te].color=me.substring(0,7))}WgtAccordionItem(Y,{label:"Chart",children:(te,ne)=>{var me=root_1$U(),Ve=first_child(me);LabelInput(Ve,{label:"Type",get value(){return k().type},type:"option",options:lvChartTypeList,onChange:Z});var Ye=sibling(Ve,2);LabelInput(Ye,{label:"Update Mode",get value(){return k().updateMode},type:"option",options:lvChartUpdateModeList,onChange:Z});var et=sibling(Ye,2),tt=child(et);LabelInput(tt,{label:"Division Horizontal line count",get value(){return k().hdivLineCount},type:"number",onChange:nt=>{k().hdivLineCount=nt}});var it=sibling(tt,2);LabelInput(it,{label:"Division Vertical line count",get value(){return k().vdivLineCount},type:"number",onChange:nt=>{k().vdivLineCount=nt}});var st=sibling(et,2);each(st,19,()=>k().serieses,nt=>nt.type,(nt,rt,lt)=>{AccordionItem(nt,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:ht=>{var dt=text$1();template_effect(ct=>set_text(dt,ct),[()=>{var ct;return((ct=lvChartSeriesTypeList.find(ut=>ut.value===get$2(rt).type))==null?void 0:ct.name)||"Unknown"}]),append(ht,dt)},children:(ht,dt)=>{var ct=root_4$e(),ut=first_child(ct),ft=child(ut);LabelInput(ft,{label:"Min",get value(){return get$2(rt).min},type:"number",onChange:Z});var vt=sibling(ft,2);LabelInput(vt,{label:"Max",get value(){return get$2(rt).max},type:"number",onChange:Z});var mt=sibling(ut,2);Label$1(mt,{class:"flex-auto w-18 m-1",children:(xt,yt)=>{var St=root_5$4(),At=sibling(first_child(St),2);const Ct=derived$1(()=>hexWithAlpha(get$2(rt).color,255));MCXAColorPicker(At,{get color(){return get$2(Ct)},onChange:It=>ee(get$2(lt),It)}),append(xt,St)},$$slots:{default:!0}});var _t=sibling(mt,2);Label$1(_t,{class:"flex-auto w-18 m-1",children:(xt,yt)=>{var St=root_6$4(),At=sibling(first_child(St),2);Cascader(At,{}),append(xt,St)},$$slots:{default:!0}});var Et=sibling(_t,2);LabelInput(Et,{label:"Hidden",type:"checkbox",get value(){return get$2(rt).isHidden},onChange:xt=>{get$2(rt).isHidden=xt}});var Tt=sibling(Et,2);Button(Tt,{class:"m-2 bg-sky-500/100",onclick:()=>k().apply(get$2(lt)),children:(xt,yt)=>{var St=text$1("Apply");append(xt,St)},$$slots:{default:!0}}),append(ht,ct)},$$slots:{header:!0,default:!0}})}),append(te,me)},$$slots:{default:!0}}),pop()}class LV_Led extends LV_Obj{constructor(k,Z){super("Led",Z);bt(this,"_value",!0);bt(this,"_color","#2196f3");bt(this,"_brightness",255);this.color=this._color,this.value=this._value}get color(){return this._color}set color(k){this._color=k,Module.lv_led_set_color(this.lvObj,hexStrToLvColor(k))}get value(){return this._value}set value(k){this._value=k,k?Module.lv_led_on(this.lvObj):Module.lv_led_off(this.lvObj)}get brightness(){return this._brightness}set brightness(k){this._brightness=k,Module.lv_led_set_brightness(this.lvObj,k)}}class LvGL_LedShape extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Led")}lvglCreate(k){this._lvglObj=Module.lv_led_create(k),this._widget=new LV_Led(this.name,this._lvglObj)}}var root_2$n=template('<span>Color</span> <div class="w-[60px] h-[25px] overflow-hidden border-[1px] border-solid border-gray-500  "><!></div>',1),root_1$T=template('<!> <div class="flex items-center"><!> <!></div>',1);function Led(Y,T){push(T,!0);let k=prop(T,"props",7);function Z(ee,te){te&&(te=toCamelCase(te),te==="onOff"&&(te="value"),k()[te]=ee)}WgtAccordionItem(Y,{label:"Led",children:(ee,te)=>{var ne=root_1$T(),me=first_child(ne);Label$1(me,{for:"color-input",class:"flex-auto w-18 m-1 mt-2",children:(tt,it)=>{var st=root_2$n(),nt=sibling(first_child(st),2),rt=child(nt);MCXAColorPicker(rt,{get color(){return k().color},onChange:lt=>{const ot=lt.hex;k().color=ot.slice(0,7)}}),append(tt,st)},$$slots:{default:!0}});var Ve=sibling(me,2),Ye=child(Ve);ControlVariables(Ye,{label:"Value",get variable(){return k().variables.value},type:"checkbox",get value(){return k().value},onChange:Z});var et=sibling(Ye,2);ControlVariables(et,{label:"Brightness",get variable(){return k().variables.brightness},type:"number",get value(){return k().brightness},onChange:Z}),append(ee,ne)},$$slots:{default:!0}}),pop()}class LV_Scale extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"_mode",lv_scale_mode_t.LV_SCALE_MODE_ROUND_INNER);bt(this,"_totalTickCnt",0);bt(this,"_majorTickEvery",0);bt(this,"_angleRange",270);bt(this,"_min",0);bt(this,"_max",100);bt(this,"_rotation",0);bt(this,"_labelShow",!0);bt(this,"_lineNeedleValue",0);bt(this,"_imageNeedleValue",0);Module.lv_scale_set_mode(this.lvObj,lv_scale_mode_t.LV_SCALE_MODE_ROUND_INNER),this._totalTickCnt=Module.lv_scale_get_total_tick_count(Z),this._majorTickEvery=Module.lv_scale_get_major_tick_every(Z),this._min=Module.lv_scale_get_range_min_value(Z),this._max=Module.lv_scale_get_range_max_value(Z),this.rotation=135,this._labelShow=Module.lv_scale_get_label_show(Z),this.totalTickCnt=100,this.majorTickEvery=10,Module.lv_scale_set_angle_range(this.lvObj,270)}get mode(){return this._mode}set mode(k){this._mode=k,Module.lv_scale_set_mode(this.lvObj,k)}get totalTickCnt(){return this._totalTickCnt}set totalTickCnt(k){this._totalTickCnt=k,Module.lv_scale_set_total_tick_count(this.lvObj,k)}get majorTickEvery(){return this._majorTickEvery}set majorTickEvery(k){this._majorTickEvery=k,Module.lv_scale_set_major_tick_every(this.lvObj,k)}get angleRange(){return this._angleRange}set angleRange(k){this._angleRange=k,Module.lv_scale_set_angle_range(this.lvObj,k)}get min(){return this._min}set min(k){this._min=k,Module.lv_scale_set_range(this.lvObj,k,this._max)}get max(){return this._max}set max(k){this._max=k,Module.lv_scale_set_range(this.lvObj,this._min,k)}get rotation(){return this._rotation}set rotation(k){this._rotation=k,Module.lv_scale_set_rotation(this.lvObj,k)}get labelShow(){return this._labelShow}set labelShow(k){this._labelShow=k,Module.lv_scale_set_label_show(this.lvObj,k)}get lineNeedleValue(){return this._lineNeedleValue}set lineNeedleValue(k){this._lineNeedleValue=k,Module.lv_scale_set_line_needle_value(this.lvObj,k)}get imageNeedleValue(){return this._imageNeedleValue}set imageNeedleValue(k){this._imageNeedleValue=k,Module.lv_scale_set_image_needle_value(this.lvObj,k)}get needleValue(){return this._lineNeedleValue}set needleValue(k){this._lineNeedleValue=k,Module.lv_scale_set_line_needle_value(this.lvObj,k)}}class LVGL_ShapeScale extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Scale")}lvglCreate(k){this._lvglObj=Module.lv_scale_create(k),this._widget=new LV_Scale("Scale",this._lvglObj)}createStyle(k){const Z=CreateBaseStyle.createStyles(lv_part_t.LV_PART_ITEMS,k,this.lvglObj,this.State);this._styles.push(["ITEMS",Z]);const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_INDICATOR,k,this.lvglObj,this.State);this._styles.push(["INDICATOR",ee])}}var root_1$S=template('<div class="flex items-center"><!> <!></div> <div class="flex items-center"><!> <!></div> <!> <div class="flex items-center"><!> <!></div> <!>',1);function Scale$1(Y,T){push(T,!0);let k=[{value:lv_scale_mode_t.LV_SCALE_MODE_ROUND_INNER,name:"ROUND_INNER"},{value:lv_scale_mode_t.LV_SCALE_MODE_ROUND_OUTER,name:"ROUND_OUTER"},{value:lv_scale_mode_t.LV_SCALE_MODE_HORIZONTAL_BOTTOM,name:"BOTTOM"},{value:lv_scale_mode_t.LV_SCALE_MODE_HORIZONTAL_TOP,name:"TOP"},{value:lv_scale_mode_t.LV_SCALE_MODE_VERTICAL_LEFT,name:"LEFT"},{value:lv_scale_mode_t.LV_SCALE_MODE_VERTICAL_RIGHT,name:"RIGHT"}];proxy([!1,!1,!1,!1,!1,!1]);let Z=prop(T,"props",7);function ee(te,ne){ne&&(ne=toCamelCase(ne),Z()[ne]=te)}WgtAccordionItem(Y,{label:"Scale",children:(te,ne)=>{var me=root_1$S(),Ve=first_child(me),Ye=child(Ve);ControlVariables(Ye,{label:"Total Tick Count",get variable(){return Z().variables.totalTickCnt},type:"number",get value(){return Z().totalTickCnt},onChange:ee});var et=sibling(Ye,2);ControlVariables(et,{label:"Major Tick Every",get variable(){return Z().variables.majorTickEvery},type:"number",get value(){return Z().majorTickEvery},onChange:ee});var tt=sibling(Ve,2),it=child(tt);ControlVariables(it,{label:"Min",get variable(){return Z().variables.min},type:"number",get value(){return Z().min},onChange:ee});var st=sibling(it,2);ControlVariables(st,{label:"Max",get variable(){return Z().variables.max},type:"number",get value(){return Z().max},onChange:ee});var nt=sibling(tt,2);LabelInput(nt,{label:"Mode",type:"option",options:k,get value(){return Z().mode},onChange:ee});var rt=sibling(nt,2),lt=child(rt);ControlVariables(lt,{label:"Angle Range",get variable(){return Z().variables.angleRange},type:"number",max:360,min:0,get value(){return Z().angleRange},onChange:ee});var ot=sibling(lt,2);ControlVariables(ot,{label:"Rotation",get variable(){return Z().variables.rotation},type:"number",max:360,min:0,get value(){return Z().rotation},onChange:ee});var ht=sibling(rt,2);ControlVariables(ht,{label:"Label Show",get variable(){return Z().variables.labelShow},type:"checkbox",get value(){return Z().labelShow},onChange:ee}),append(te,me)},$$slots:{default:!0}}),pop()}var root_1$R=template("<div>Span</div>");function Span(Y,T){proxy([]),WgtAccordionItem(Y,{label:"Span",children:(k,Z)=>{var ee=root_1$R();append(k,ee)},$$slots:{default:!0}})}class LV_List extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"items",[])}addButton(k,Z,ee=!1){const te=Module.lv_list_add_button(this.lvObj,Z,k);return this.items.push({type:"button",text:k,icon:ee?"":Z,obj:te}),te}addText(k){const Z=Module.lv_list_add_text(this.lvObj,k);return this.items.push({type:"text",text:k,obj:Z}),Z}rename(k){const Z=this.items[k];if(!Z){console.warn("Index out of bounds");return}const ee=Z.obj;Z.type==="button"||Module.lv_label_set_text(ee,Z.text)}toXML(k){const Z=k.createElement("List");return Z.setAttribute("name",this.name),this.items.forEach(ee=>{const te=k.createElement("Item");te.setAttribute("type",ee.type),te.setAttribute("text",ee.text),ee.icon&&te.setAttribute("icon",ee.icon),Z.appendChild(te)}),Z}fromXML(k){super.fromXML(k),this.name=k.getAttribute("name")||"List",this.items=[];const Z=k.getElementsByTagName("Item");for(let ee=0;ee<Z.length;ee++){const te=Z[ee],ne=te.getAttribute("type")||"text",me=te.getAttribute("text")||"",Ve=te.getAttribute("icon")||"";ne==="button"?this.addButton(me,Ve):this.addText(me)}}}class LVGL_ShapeList extends LvglBase{constructor(){super(...arguments);bt(this,"Type","List")}lvglCreate(k){this._lvglObj=Module.lv_list_create(k),this._widget=new LV_List("List",this._lvglObj)}createStyle(k){const Z=CreateBaseStyle.createStyles(lv_part_t.LV_PART_SCROLLBAR,k,this.lvglObj,this.State);this._styles.push(["SCROLLBAR",Z])}}var root_2$m=template('<div style="text-align: left "></div> <span>label</span> <!>',1),root_6$3=template("<span>Icon</span> <!>",1),root_8$2=template("Asset <!>",1),root_9=template('<div style="text-align: left "></div> <span>label</span> <!>',1),root_13=template('<div class="flex justify-between items-end p-2 gap-2"><!> <!></div>'),root_1$Q=template('<div class="flex justify-between items-end p-2"><!> <!></div> <div class="flex justify-between items-end p-2"><!> <!></div> <div class="flex justify-between items-end p-2 gap-2"><!> <!></div> <!>',1);function List(Y,T){push(T,!0);const k=derived$1(()=>Asserts.data.filter(tt=>tt.type==="image").map(tt=>({name:tt.name,value:tt.name})));let Z=state(1),ee=state("text"),te=state("button"),ne=state(""),me=state("LV_SYMBOL_FILE"),Ve=state(!1);function Ye(tt,it){if(update(Z),tt==="text"){T.props.addText(it);return}T.props.addButton(it,get$2(Ve)?get$2(ne):get$2(me))}function et(tt){T.props.rename(tt),update(Z)}WgtAccordionItem(Y,{label:"List",children:(tt,it)=>{var st=root_1$Q(),nt=first_child(st),rt=child(nt);Label$1(rt,{class:"flex-auto m-1 ",children:(Et,Tt)=>{var xt=root_2$m(),yt=sibling(first_child(xt),4);Input$1(yt,{type:"text",size:"sm",get value(){return get$2(ee)},set value(St){set(ee,proxy(St))}}),append(Et,xt)},$$slots:{default:!0}});var lt=sibling(rt,2);Button(lt,{class:"rounded-full bg-sky-500/100 w-30 h-6 text-white hover:bg-sky-600 focus-within:outline-none",onclick:()=>Ye("text",get$2(ee)),children:(Et,Tt)=>{var xt=text$1("Add Text");append(Et,xt)},$$slots:{default:!0}});var ot=sibling(nt,2),ht=child(ot);Checkbox$1(ht,{class:"flex-none mt-2.5 mx-1",get checked(){return get$2(Ve)},set checked(Et){set(Ve,proxy(Et))},children:(Et,Tt)=>{var xt=text$1("Custom Icon");append(Et,xt)},$$slots:{default:!0}});var dt=sibling(ht,2);{var ct=Et=>{Label$1(Et,{class:"flex-auto m-1 ",children:(Tt,xt)=>{var yt=root_6$3(),St=sibling(first_child(yt),2);Select(St,{items:lvSymbolList,size:"sm",get value(){return get$2(me)},set value(At){set(me,proxy(At))}}),append(Tt,yt)},$$slots:{default:!0}})},ut=Et=>{Label$1(Et,{class:"flex-auto mx-1 my-1",children:(Tt,xt)=>{var yt=root_8$2(),St=sibling(first_child(yt));Select(St,{get items(){return get$2(k)},size:"sm",get value(){return get$2(ne)},set value(At){set(ne,proxy(At))}}),append(Tt,yt)},$$slots:{default:!0}})};if_block(dt,Et=>{get$2(Ve)?Et(ut,!1):Et(ct)})}var ft=sibling(ot,2),vt=child(ft);Label$1(vt,{class:"flex-auto m-1 ",children:(Et,Tt)=>{var xt=root_9(),yt=sibling(first_child(xt),4);Input$1(yt,{type:"text",size:"sm",get value(){return get$2(te)},set value(St){set(te,proxy(St))}}),append(Et,xt)},$$slots:{default:!0}});var mt=sibling(vt,2);Button(mt,{class:"rounded-full bg-sky-500/100 w-30 h-6 text-white hover:bg-sky-600 focus-within:outline-none",onclick:()=>Ye("button",get$2(te)),children:(Et,Tt)=>{var xt=text$1("Add Button");append(Et,xt)},$$slots:{default:!0}});var _t=sibling(ft,2);WgtAccordionItem(_t,{label:"Items",children:(Et,Tt)=>{var xt=comment(),yt=first_child(xt);key_block(yt,()=>get$2(Z),St=>{var At=comment(),Ct=first_child(At);each(Ct,17,()=>T.props.items,index,(It,Ot,Dt)=>{var Mt=root_13(),$t=child(Mt);Input$1($t,{type:"text",get value(){return get$2(Ot).text},set value(Ft){get$2(Ot).text=Ft}});var Ht=sibling($t,2);Button(Ht,{class:"rounded-full bg-sky-500/100 w-20 h-6 text-white hover:bg-sky-600 focus-within:outline-none",onclick:()=>et(Dt),children:(Ft,jt)=>{var Gt=text$1("Rename");append(Ft,Gt)},$$slots:{default:!0}}),append(It,Mt)}),append(St,At)}),append(Et,xt)},$$slots:{default:!0}}),append(tt,st)},$$slots:{default:!0}}),pop()}class LV_Menu extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"mainPage",null);bt(this,"_headerMode",lv_menu_mode_header_t.LV_MENU_HEADER_TOP_FIXED);bt(this,"_rootBackMode",lv_menu_mode_root_back_button_t.LV_MENU_ROOT_BACK_BUTTON_ENABLED);bt(this,"_pageMode","sidebar");this.addMainPage(k)}get headerMode(){return this._headerMode}set headerMode(k){this._headerMode=k,Module.lv_menu_set_mode_header(this.lvObj,k)}get rootBackMode(){return this._rootBackMode}set rootBackMode(k){this._rootBackMode=k,Module.lv_menu_set_mode_root_back_button(this.lvObj,k)}get pageMode(){return this._pageMode}set pageMode(k){if(this.mainPage==null){console.warn("Main page is not set, cannot change page mode.");return}this._pageMode=k,k==="sidebar"?(Module.lv_menu_set_page(this.lvObj,null),Module.lv_menu_set_sidebar_page(this.lvObj,this.mainPage)):(Module.lv_menu_set_sidebar_page(this.lvObj,null),Module.lv_menu_clear_history(this.lvObj),Module.lv_menu_set_page(this.lvObj,this.mainPage))}addMainPage(k){const Z=Module.lv_menu_page_create(this.lvObj,k??""),ee=Module.lv_menu_cont_create(Z),te=Module.lv_label_create(ee);return Module.lv_label_set_text(te,"Item Main Page"),Module.lv_label_set_long_mode(te,lv_label_long_mode_t.LV_LABEL_LONG_SCROLL_CIRCULAR),Module.lv_menu_set_page(this.lvObj,Z),this.mainPage=Z,ee}addPage(k){if(this.mainPage==null)return null;const Z=Module.lv_menu_page_create(this.lvObj,"");let ee=Module.lv_menu_cont_create(Z),te=Module.lv_label_create(ee);return Module.lv_label_set_text(te,`This is the ${k}`),ee=Module.lv_menu_cont_create(this.mainPage),te=Module.lv_label_create(ee),Module.lv_label_set_text(te,k),Module.lv_menu_set_load_page_event(this.lvObj,ee,Z),ee}}class LVGL_ShapeMenu extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Menu")}lvglCreate(k){this._lvglObj=Module.lv_menu_create(k),this._widget=new LV_Menu("Menu",this._lvglObj)}}var root_2$l=template("<span>Header Mode</span> <!>",1),root_3$j=template("<span>Root Back Mode</span> <!>",1),root_4$d=template("<span>Page Mode</span> <!>",1),root_5$3=template('<div style="text-align: left "></div> <span>Title</span> <!>',1),root_1$P=template('<!> <!> <!> <div class="flex justify-between items-end p-2 gap-3"><!> <!></div>',1);function Menu(Y,T){push(T,!0);const k=[{name:"Sidebar",value:"sidebar"},{name:"Page",value:"page"}],Z=prop(T,"props",7);let ee=state("Item");WgtAccordionItem(Y,{label:"Menu",children:(te,ne)=>{var me=root_1$P(),Ve=first_child(me);Label$1(Ve,{class:"flex-auto w-18 m-1",children:(nt,rt)=>{var lt=root_2$l(),ot=sibling(first_child(lt),2);Select(ot,{items:lvChartTypeList,size:"sm",get value(){return Z().headerMode},set value(ht){Z().headerMode=ht}}),append(nt,lt)},$$slots:{default:!0}});var Ye=sibling(Ve,2);Label$1(Ye,{class:"flex-auto w-18 m-1",children:(nt,rt)=>{var lt=root_3$j(),ot=sibling(first_child(lt),2);Select(ot,{items:lvChartUpdateModeList,size:"sm",get value(){return Z().rootBackMode},set value(ht){Z().rootBackMode=ht}}),append(nt,lt)},$$slots:{default:!0}});var et=sibling(Ye,2);Label$1(et,{class:"flex-auto w-18 m-1",children:(nt,rt)=>{var lt=root_4$d(),ot=sibling(first_child(lt),2);Select(ot,{items:k,size:"sm",get value(){return Z().pageMode},set value(ht){Z().pageMode=ht}}),append(nt,lt)},$$slots:{default:!0}});var tt=sibling(et,2),it=child(tt);Label$1(it,{class:"flex-auto m-1 ",children:(nt,rt)=>{var lt=root_5$3(),ot=sibling(first_child(lt),4);Input$1(ot,{type:"text",size:"sm",get value(){return get$2(ee)},set value(ht){set(ee,proxy(ht))}}),append(nt,lt)},$$slots:{default:!0}});var st=sibling(it,2);Button(st,{class:"rounded-full bg-sky-500/100 w-30  text-white hover:bg-sky-600 focus-within:outline-none",onclick:()=>Z().addPage(get$2(ee)),children:(nt,rt)=>{var lt=text$1("Add Page");append(nt,lt)},$$slots:{default:!0}}),append(te,me)},$$slots:{default:!0}}),pop()}class LV_MultiStateImage extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"images",[]);bt(this,"_activeIndex",0);bt(this,"_offsetX",0);bt(this,"_offsetY",0);bt(this,"_rotation",0);bt(this,"_scaleX",1);bt(this,"_scaleY",1);bt(this,"_pivotX",0);bt(this,"_pivotY",0);bt(this,"_blendMode",lv_blend_mode_t.LV_BLEND_MODE_NORMAL);bt(this,"_align",lv_image_align_t.LV_IMAGE_ALIGN_CENTER);this._offsetX=Module.lv_multistateimage_get_offset_x(Z),this._offsetY=Module.lv_multistateimage_get_offset_y(Z),this._rotation=Module.lv_multistateimage_get_rotation(Z),this._scaleX=Module.lv_multistateimage_get_scale_x(Z),this._scaleY=Module.lv_multistateimage_get_scale_y(Z);const ee=Module.lv_multistateimage_get_pivot(Z);this._pivotX=ee.x,this._pivotY=ee.y,this._blendMode=Module.lv_multistateimage_get_blend_mode(Z),this._align=Module.lv_multistateimage_get_align(Z)}get activeIndex(){return this._activeIndex}set activeIndex(k){this._activeIndex=k,Module.lv_multistateimage_set_active_index(this.lvObj,k)}get offsetX(){return this._offsetX}set offsetX(k){this._offsetX=k,Module.lv_multistateimage_set_offset_x(this.lvObj,k)}get offsetY(){return this._offsetY}set offsetY(k){this._offsetY=k,Module.lv_multistateimage_set_offset_y(this.lvObj,k)}get rotation(){return this._rotation}set rotation(k){this._rotation=k,Module.lv_multistateimage_set_rotation(this.lvObj,k)}get scaleX(){return this._scaleX}set scaleX(k){this._scaleX=k,Module.lv_multistateimage_set_scale_x(this.lvObj,k)}get scaleY(){return this._scaleY}set scaleY(k){this._scaleY=k,Module.lv_multistateimage_set_scale_y(this.lvObj,k)}get pivotX(){return this._pivotX}set pivotX(k){this._pivotX=k,Module.lv_multistateimage_set_pivot(this.lvObj,k,this._pivotY)}get pivotY(){return this._pivotY}set pivotY(k){this._pivotY=k,Module.lv_multistateimage_set_pivot(this.lvObj,this._pivotX,k)}get blendMode(){return this._blendMode}set blendMode(k){this._blendMode=k,Module.lv_multistateimage_set_blend_mode(this.lvObj,k)}get align(){return this._align}set align(k){this._align=k,Module.lv_multistateimage_set_align(this.lvObj,k)}addImage(k){const Z=Module.lv_obj_get_width(this.lvObj),ee=Module.lv_obj_get_height(this.lvObj),te=lv_fmt_img_data(k,Z,ee,4);if(!te){console.warn(`Failed to format image data for ${k}`);return}Module.lv_multistateimage_add_src(this.lvObj,te),this.images.push(k)}setImage(k,Z){if(k<0||k>=this.images.length)return;let ee=Module.lv_multistateimage_get_src_index(this.lvObj,k);Module.lv_image_buf_free(ee);const te=Module.lv_obj_get_width(this.lvObj),ne=Module.lv_obj_get_height(this.lvObj),me=lv_fmt_img_data(Z,te,ne,4);if(!me){console.warn(`Failed to format image data for ${Z}`);return}Module.lv_multistateimage_set_src_index(this.lvObj,me,k)}pickAttributes(){const k=super.pickAttributes();return k.images=this.images.slice(),k.addImage=Z=>{this.addImage(Z)},k.setImage=(Z,ee)=>{this.setImage(Z,ee)},k}toXML(k){let Z=super.toXML(k);if(!Z&&this.images.length>0&&(Z=k.createElement("MultiStateImage")),!Z)return null;let ee=this.images.join(",");return Z.setAttribute("images",ee),Z}fromXML(k){if(k.tagName!=="MultiStateImage")throw new Error("Invalid element for MultiStateImage");super.fromXML(k);const Z=k.getAttribute("images");Z&&(this.images=Z.split(",").map(ee=>ee.trim()),this.images.forEach((ee,te)=>{this.setImage(te,ee)}))}}class LVGL_ShapeMultiStateImage extends LvglBase{constructor(){super(...arguments);bt(this,"Type","MultiStateImage")}lvglCreate(k){this._lvglObj=Module.lv_multistateimage_create(k),this._widget=new LV_MultiStateImage("MultiStateImage",this._lvglObj)}}var root_2$k=template("Asset <!>",1),root_4$c=template('<div class="flex items-end"><!></div>'),root_1$O=template('<div class="flex items-end"><!> <!></div> <!> <!> <!> <!> <div class="flex items-center"><!> <!> <!> <!></div> <!>',1);function MultiStateImage(Y,T){push(T,!0);let k=state("");const Z=prop(T,"props",7);let ee=derived$1(()=>Z().images.map((Ve,Ye)=>({name:`Image ${Ye+1}`,value:Ye})));const te=derived$1(()=>Asserts.data.filter(Ve=>Ve.type==="image").map(Ve=>({name:Ve.name,value:Ve.name})));function ne(Ve,Ye){Ye&&(Ye=toCamelCase(Ye),Z()[Ye]=Ve)}function me(){get$2(k)&&(Z().images.push(get$2(k)),Z().addImage(get$2(k)))}WgtAccordionItem(Y,{label:"MultiStateImage",children:(Ve,Ye)=>{var et=root_1$O(),tt=first_child(et),it=child(tt);Label$1(it,{class:"flex-auto mx-1 my-1",children:(mt,_t)=>{var Et=root_2$k(),Tt=sibling(first_child(Et));Select(Tt,{get items(){return get$2(te)},size:"sm",get value(){return get$2(k)},set value(xt){set(k,proxy(xt))}}),append(mt,Et)},$$slots:{default:!0}});var st=sibling(it,2);Button(st,{size:"sm",class:"h-8 bg-sky-500",onclick:()=>me(),children:(mt,_t)=>{var Et=text$1("Add Image");append(mt,Et)},$$slots:{default:!0}});var nt=sibling(tt,2);ControlVariables(nt,{label:"Active Index",get variable(){return Z().variables.activeIndex},type:"option",get options(){return get$2(ee)},get value(){return Z().activeIndex},onChange:ne});var rt=sibling(nt,2);ControlVariables(rt,{label:"Blend Mode",get variable(){return Z().variables.blendMode},type:"option",options:lvBlendModeList,get value(){return Z().blendMode},onChange:ne});var lt=sibling(rt,2);ControlVariables(lt,{label:"Align",get variable(){return Z().variables.align},type:"option",options:lvImageAlignList,get value(){return Z().align},onChange:ne});var ot=sibling(lt,2);ControlVariables(ot,{label:"Rotation",get variable(){return Z().variables.rotation},type:"number",get value(){return Z().rotation},onChange:ne});var ht=sibling(ot,2),dt=child(ht);ControlVariables(dt,{label:"Scale X",get variable(){return Z().variables.scaleX},type:"number",get value(){return Z().scaleX},onChange:ne});var ct=sibling(dt,2);ControlVariables(ct,{label:"Scale Y",get variable(){return Z().variables.scaleY},type:"number",get value(){return Z().scaleY},onChange:ne});var ut=sibling(ct,2);ControlVariables(ut,{label:"Pivot X",get variable(){return Z().variables.pivotX},type:"number",get value(){return Z().pivotX},onChange:ne});var ft=sibling(ut,2);ControlVariables(ft,{label:"Pivot Y",get variable(){return Z().variables.pivotY},type:"number",get value(){return Z().pivotY},onChange:ne});var vt=sibling(ht,2);each(vt,17,()=>Z().images,index,(mt,_t,Et)=>{var Tt=root_4$c(),xt=child(Tt);LabelInput(xt,{label:"Image"+(Et+1),type:"option",get options(){return get$2(te)},get value(){return Z().images[Et]},onChange:yt=>Z().setImage(Et,yt)}),append(mt,Tt)}),append(Ve,et)},$$slots:{default:!0}}),pop()}class LV_MultiStateNum extends LV_Obj{constructor(){super(...arguments);bt(this,"values",[]);bt(this,"_activeIndex",0);bt(this,"_radix",10);bt(this,"_padZero",!1);bt(this,"_digitCount",5);bt(this,"_digitPos",0);bt(this,"_step",1);bt(this,"_min",0);bt(this,"_max",9999);bt(this,"_showSign",!1)}get activeIndex(){return this._activeIndex}set activeIndex(k){this._activeIndex=k,Module.lv_multistatenum_set_active_index(this.lvObj,k)}get radix(){return this._radix}set radix(k){this._radix=k,Module.lv_multistatenum_set_radix(this.lvObj,k)}get padZero(){return this._padZero}set padZero(k){this._padZero=k,Module.lv_multistatenum_set_pad_zero(this.lvObj,k)}get digitCount(){return this._digitCount}set digitCount(k){this._digitCount=k,Module.lv_multistatenum_set_digit_format(this.lvObj,k,this._digitPos)}get digitPos(){return this._digitPos}set digitPos(k){this._digitPos=k,Module.lv_multistatenum_set_digit_format(this.lvObj,this._digitCount,k)}get step(){return this._step}set step(k){this._step=k,Module.lv_multistatenum_set_step(this.lvObj,k)}get min(){return this._min}set min(k){this._min=k,Module.lv_multistatenum_set_range(this.lvObj,k,this._max)}get max(){return this._max}set max(k){this._max=k,Module.lv_multistatenum_set_range(this.lvObj,this._min,k)}get showSign(){return this._showSign}set showSign(k){this._showSign=k,Module.lv_multistatenum_set_show_sign(this.lvObj,k)}increment(){Module.lv_multistatenum_increment(this.lvObj)}decrement(){Module.lv_multistatenum_decrement(this.lvObj)}addValue(k){if(!this.lvObj){console.warn("LV_MultiStateNum: lvObj is not initialized.");return}this.values.push(k),Module.lv_multistatenum_add_value(this.lvObj,k)}setValue(k,Z){if(!this.lvObj){console.warn("LV_MultiStateNum: lvObj is not initialized.");return}if(k<0||k>=this.values.length){console.warn(`LV_MultiStateNum: Index ${k} out of bounds.`);return}this.values[k]=Z,Module.lv_multistatenum_set_value_index(this.lvObj,Z,k)}pickAttributes(){const k=super.pickAttributes();return k.values=this.values.slice(),k.addValue=Z=>{this.addValue(Z)},k.setValue=(Z,ee)=>{this.setValue(Z,ee)},k}toXML(k){let Z=super.toXML(k);if(!Z&&this.values.length>0)Z=k.createElement("MultiStateNum");else if(!Z)return null;return Z.setAttribute("values",this.values.join(",")),Z}fromXML(k){if(k.tagName!=="MultiStateNum")throw new Error("Invalid element for MultiStateNum");super.fromXML(k);const Z=k.getAttribute("values");Z&&(this.values=Z.split(",").map(Number),this.values.forEach((ee,te)=>{Module.lv_multistatenum_set_value_index(this.lvObj,te,ee)}))}}class LVGL_ShapeMultiStateNum extends LvglBase{constructor(){super(...arguments);bt(this,"Type","MultiStateNum")}lvglCreate(k){this._lvglObj=Module.lv_multistatenum_create(k),this._widget=new LV_MultiStateNum("MultiStateNum",this._lvglObj)}}var root_2$j=template("<span>Value</span> <!>",1),root_4$b=template('<div class="flex gap-2"><!></div>'),root_1$N=template('<div class="flex items-end"><!> <!></div> <!> <!> <div class="flex items-center gap-2"><!> <!></div> <div class="flex items-center gap-2"><!> <!> <!></div> <div class="flex items-center gap-2"><!> <!></div> <!>',1);function MultiStateNum(Y,T){push(T,!0);let k=prop(T,"props",7),Z=state(0),ee=derived$1(()=>{const Ve=[];for(let Ye=0;Ye<k().values.length;Ye++)Ve.push({name:`Number ${Ye+1}`,value:Ye});return Ve});const te=[{value:10,name:"Decimal"},{value:16,name:"Hexadecimal"},{value:2,name:"Binary"},{value:8,name:"Octal"}];function ne(Ve,Ye){Ye&&(Ye=toCamelCase(Ye),k()[Ye]=Ve)}function me(){get$2(Z)!==null&&get$2(Z)!==void 0&&(k().values.push(get$2(Z)),k().addValue(get$2(Z)))}WgtAccordionItem(Y,{label:"MultiStateNum",children:(Ve,Ye)=>{var et=root_1$N(),tt=first_child(et),it=child(tt);Label$1(it,{class:"flex-auto mx-1 my-1",children:(Tt,xt)=>{var yt=root_2$j(),St=sibling(first_child(yt),2);Input$1(St,{type:"number",placeholder:"Enter number",size:"sm",get value(){return get$2(Z)},set value(At){set(Z,proxy(At))}}),append(Tt,yt)},$$slots:{default:!0}});var st=sibling(it,2);Button(st,{size:"sm",class:"h-8 bg-sky-500",onclick:()=>me(),children:(Tt,xt)=>{var yt=text$1("Add Value");append(Tt,yt)},$$slots:{default:!0}});var nt=sibling(tt,2);ControlVariables(nt,{label:"Active Index",get variable(){return k().variables.activeIndex},type:"option",get options(){return get$2(ee)},get value(){return k().activeIndex},onChange:ne});var rt=sibling(nt,2);ControlVariables(rt,{label:"Radix",get variable(){return k().variables.radix},type:"option",options:te,get value(){return k().radix},onChange:ne});var lt=sibling(rt,2),ot=child(lt);ControlVariables(ot,{label:"Digit Count",get variable(){return k().variables.digitCount},type:"number",get value(){return k().digitCount},onChange:ne});var ht=sibling(ot,2);ControlVariables(ht,{label:"Digit Position",get variable(){return k().variables.digitPos},type:"number",get value(){return k().digitPos},onChange:ne});var dt=sibling(lt,2),ct=child(dt);ControlVariables(ct,{label:"Min",get variable(){return k().variables.min},type:"number",get value(){return k().min},onChange:ne});var ut=sibling(ct,2);ControlVariables(ut,{label:"Max",get variable(){return k().variables.max},type:"number",get value(){return k().max},onChange:ne});var ft=sibling(ut,2);ControlVariables(ft,{label:"Step",get variable(){return k().variables.step},type:"number",get value(){return k().step},onChange:ne});var vt=sibling(dt,2),mt=child(vt);ControlVariables(mt,{label:"Show Sign",get variable(){return k().variables.showSign},type:"checkbox",get value(){return k().showSign},onChange:ne});var _t=sibling(mt,2);ControlVariables(_t,{label:"Pad Zero",get variable(){return k().variables.padZero},type:"checkbox",get value(){return k().padZero},onChange:ne});var Et=sibling(vt,2);each(Et,17,()=>k().values,index,(Tt,xt,yt,St)=>{var At=root_4$b(),Ct=child(At);LabelInput(Ct,{label:"value"+(yt+1),type:"number",get value(){return get$2(xt)},onChange:It=>{k().values[yt]=It,k().setValue(yt,It)}}),append(Tt,At)}),append(Ve,et)},$$slots:{default:!0}}),pop()}class LV_MultiStateText extends LV_Obj{constructor(){super(...arguments);bt(this,"texts",[]);bt(this,"_activeIndex",0);bt(this,"_longMode",lv_label_long_mode_t.LV_LABEL_LONG_WRAP);bt(this,"_selectionStart",0);bt(this,"_selectionEnd",0)}get activeIndex(){return this._activeIndex}set activeIndex(k){this._activeIndex=k,Module.lv_multistatetext_set_text_active(this.lvObj,k)}get longMode(){return this._longMode}set longMode(k){this._longMode=k,Module.lv_multistatetext_set_long_mode(this.lvObj,k)}get selectionStart(){return this._selectionStart}set selectionStart(k){this._selectionStart=k,Module.lv_multistatetext_set_text_selection_start(this.lvObj,k)}get selectionEnd(){return this._selectionEnd}set selectionEnd(k){this._selectionEnd=k,Module.lv_multistatetext_set_text_selection_end(this.lvObj,k)}addText(k){if(!this.lvObj){console.warn("LV_MultiStateText: lvObj is not initialized.");return}this.texts.push(k),Module.lv_multistatetext_add_text(this.lvObj,k)}setText(k,Z){if(!this.lvObj){console.warn("LV_MultiStateText: lvObj is not initialized.");return}this.texts[k]=Z,Module.lv_multistatetext_set_text_index(this.lvObj,Z,k)}pickAttributes(){return{...super.pickAttributes(),texts:this.texts,setText:this.setText.bind(this),addText:this.addText.bind(this)}}toXML(k){let Z=super.toXML(k);if(!Z&&this.texts.length>0)Z=k.createElement("MultiStateText");else if(!Z)return null;let ee=this.texts.join(",");return Z.setAttribute("texts",ee),Z}fromXML(k){if(k.tagName!=="MultiStateText")throw new Error("Invalid element for MultiStateText");super.fromXML(k);const Z=k.getAttribute("texts");Z&&(this.texts=Z.split(",").map(ee=>ee.trim()),this.texts.forEach((ee,te)=>{Module.lv_multistatetext_set_text_index(this.lvObj,ee,te)}))}}class LVGL_ShapeMultiStateText extends LvglBase{constructor(){super(...arguments);bt(this,"Type","MultiStateText")}lvglCreate(k){this._lvglObj=Module.lv_multistatetext_create(k),this._widget=new LV_MultiStateText("MultiStateText",this._lvglObj)}}var root_2$i=template("<span>Text</span> <!>",1),root_4$a=template('<div class="flex items-end"><!></div>'),root_1$M=template('<div class="flex items-end"><!> <!></div> <!> <!> <div class="flex items-center"><!> <!></div> <!>',1);function MultiStateText(Y,T){push(T,!0);let k=prop(T,"props",7),Z=state(""),ee=derived$1(()=>k().texts.map((me,Ve)=>({name:`Text ${Ve+1}`,value:Ve})));function te(me,Ve){Ve&&(Ve=toCamelCase(Ve),k()[Ve]=me)}function ne(){get$2(Z)&&(k().addText(get$2(Z)),k().texts.push(get$2(Z)),set(Z,""))}WgtAccordionItem(Y,{label:"MultiStateText",children:(me,Ve)=>{var Ye=root_1$M(),et=first_child(Ye),tt=child(et);Label$1(tt,{class:"flex-auto mx-1 my-1",children:(dt,ct)=>{var ut=root_2$i(),ft=sibling(first_child(ut),2);Input$1(ft,{type:"text",placeholder:"Enter text",size:"sm",get value(){return get$2(Z)},set value(vt){set(Z,proxy(vt))}}),append(dt,ut)},$$slots:{default:!0}});var it=sibling(tt,2);Button(it,{size:"sm",class:"h-8 bg-sky-500",onclick:ne,children:(dt,ct)=>{var ut=text$1("Add Text");append(dt,ut)},$$slots:{default:!0}});var st=sibling(et,2);ControlVariables(st,{label:"Active Index",get variable(){return k().variables.activeIndex},type:"option",get options(){return get$2(ee)},get value(){return k().activeIndex},onChange:te});var nt=sibling(st,2);ControlVariables(nt,{label:"Long Mode",get variable(){return k().variables.longMode},type:"option",options:textModeList,get value(){return k().longMode},onChange:te});var rt=sibling(nt,2),lt=child(rt);ControlVariables(lt,{label:"Selection Start",get variable(){return k().variables.selectionStart},type:"number",get value(){return k().selectionStart},onChange:te});var ot=sibling(lt,2);ControlVariables(ot,{label:"Selection End",get variable(){return k().variables.selectionEnd},type:"number",get value(){return k().selectionEnd},onChange:te});var ht=sibling(rt,2);each(ht,17,()=>k().texts,index,(dt,ct,ut,ft)=>{var vt=root_4$a(),mt=child(vt);LabelInput(mt,{label:`Text ${ut+1}`,type:"option",get options(){return get$2(ee)},value:ut,onChange:_t=>{k().setText(ut,_t)}}),append(dt,vt)}),append(me,Ye)},$$slots:{default:!0}}),pop()}var root_1$L=template('<span> </span> <div class="w-[60px] h-[25px] overflow-hidden border-[1px] border-solid border-gray-500"><!></div>',1);function ColorPicker(Y,T){push(T,!0);let k=prop(T,"label",3,"Color"),Z=prop(T,"color",15),ee=prop(T,"opa",15),te=prop(T,"disabled",3,!1);function ne(me){let Ve=me.hex;Ve&&(Ve.length===7&&(T.onChange&&T.onChange(Ve,255),Z(Ve),ee(255)),Ve.length===9&&(T.onChange&&T.onChange(Ve.substring(0,7),parseInt(Ve.substring(7,9),16)),Z(Ve.substring(0,7)),ee(parseInt(Ve.substring(7,9),16))))}Label$1(Y,{class:"flex-auto w-18 my-2 text-white",children:(me,Ve)=>{var Ye=root_1$L(),et=first_child(Ye),tt=child(et),it=sibling(et,2),st=child(it);const nt=derived$1(()=>hexWithAlpha(Z(),ee()));MCXAColorPicker(st,{get color(){return get$2(nt)},onChange:ne,get disabled(){return te()}}),template_effect(()=>set_text(tt,k())),append(me,Ye)},$$slots:{default:!0}}),pop()}var root_1$K=template('<!> <div class="flex gap-2 items-center"><!> <!></div>',1);function Circle(Y,T){push(T,!0);let k=prop(T,"props",7);WgtAccordionItem(Y,{label:"Circle",children:(Z,ee)=>{var te=root_1$K(),ne=first_child(te);LabelInput(ne,{label:"Radius",type:"number",get value(){return k().radius},set value(et){k().radius=et}});var me=sibling(ne,2),Ve=child(me);ColorPicker(Ve,{label:"Fill Color",opa:255,get color(){return k().fillColor},set color(et){k().fillColor=et}});var Ye=sibling(Ve,2);ColorPicker(Ye,{label:"Outline Color",opa:255,get color(){return k().outlineColor},set color(et){k().outlineColor=et}}),append(Z,te)},$$slots:{default:!0}}),pop()}var root_1$J=template('<div class="flex gap-2 items-center"><!> <!></div> <div class="flex gap-2 items-center"><!> <!></div>',1);function Ellipse(Y,T){push(T,!0);let k=prop(T,"props",7);WgtAccordionItem(Y,{label:"Ellipse",children:(Z,ee)=>{var te=root_1$J(),ne=first_child(te),me=child(ne);LabelInput(me,{label:"Radius X",type:"number",get value(){return k().radiusX},set value(it){k().radiusX=it}});var Ve=sibling(me,2);LabelInput(Ve,{label:"Radius Y",type:"number",get value(){return k().radiusY},set value(it){k().radiusY=it}});var Ye=sibling(ne,2),et=child(Ye);ColorPicker(et,{label:"Fill Color",opa:255,get color(){return k().fillColor},set color(it){k().fillColor=it}});var tt=sibling(et,2);ColorPicker(tt,{label:"Outline Color",opa:255,get color(){return k().outlineColor},set color(it){k().outlineColor=it}}),append(Z,te)},$$slots:{default:!0}}),pop()}var root_1$I=template('<!> <div class="flex gap-2 items-center"><!> <!></div> <div class="flex gap-2 items-center"><!> <!></div>',1);function PartCircle(Y,T){push(T,!0);let k=prop(T,"props",7);WgtAccordionItem(Y,{label:"Part Circle",children:(Z,ee)=>{var te=root_1$I(),ne=first_child(te);LabelInput(ne,{label:"Radius",type:"number",get value(){return k().radius},set value(st){k().radius=st}});var me=sibling(ne,2),Ve=child(me);LabelInput(Ve,{label:"Start Angle",type:"number",get value(){return k().startAngle},set value(st){k().startAngle=st}});var Ye=sibling(Ve,2);LabelInput(Ye,{label:"End Angle",type:"number",get value(){return k().endAngle},set value(st){k().endAngle=st}});var et=sibling(me,2),tt=child(et);ColorPicker(tt,{label:"Fill Color",opa:255,get color(){return k().fillColor},set color(st){k().fillColor=st}});var it=sibling(tt,2);ColorPicker(it,{label:"Outline Color",opa:255,get color(){return k().outlineColor},set color(st){k().outlineColor=st}}),append(Z,te)},$$slots:{default:!0}}),pop()}var root_1$H=template('<div class="flex gap-2 items-center"><!> <!></div> <div class="flex gap-2 items-center"><!> <!></div> <div class="flex gap-2 items-center"><!> <!></div>',1);function PartEllipse(Y,T){push(T,!0);let k=prop(T,"props",7);WgtAccordionItem(Y,{label:"Part Ellipse",children:(Z,ee)=>{var te=root_1$H(),ne=first_child(te),me=child(ne);LabelInput(me,{label:"Radius X",type:"number",get value(){return k().radiusX},set value(rt){k().radiusX=rt}});var Ve=sibling(me,2);LabelInput(Ve,{label:"Radius Y",type:"number",get value(){return k().radiusY},set value(rt){k().radiusY=rt}});var Ye=sibling(ne,2),et=child(Ye);LabelInput(et,{label:"Start Angle",type:"number",get value(){return k().startAngle},set value(rt){k().startAngle=rt}});var tt=sibling(et,2);LabelInput(tt,{label:"End Angle",type:"number",get value(){return k().endAngle},set value(rt){k().endAngle=rt}});var it=sibling(Ye,2),st=child(it);ColorPicker(st,{label:"Fill Color",opa:255,get color(){return k().fillColor},set color(rt){k().fillColor=rt}});var nt=sibling(st,2);ColorPicker(nt,{label:"Outline Color",opa:255,get color(){return k().outlineColor},set color(rt){k().outlineColor=rt}}),append(Z,te)},$$slots:{default:!0}}),pop()}var root_1$G=template('<div class="flex gap-2 items-center"><!> <!></div> <!> <!> <!> <!> <div class="flex gap-2 items-center"><!> <!></div> <div class="flex gap-2 items-center"><!> <!></div>',1);function Pipe(Y,T){push(T,!0);let k=prop(T,"props",7);const Z=[{name:"Line",value:lv_pipe_shape_t.LV_PIPE_SHAPE_LINE},{name:"Round",value:lv_pipe_shape_t.LV_PIPE_SHAPE_ROUND},{name:"T Shape",value:lv_pipe_shape_t.LV_PIPE_SHAPE_T_SHAPE},{name:"Cross",value:lv_pipe_shape_t.LV_PIPE_SHAPE_CROSS}];WgtAccordionItem(Y,{label:"Pipe",children:(ee,te)=>{var ne=root_1$G(),me=first_child(ne),Ve=child(me);LabelInput(Ve,{label:"Width",type:"number",get value(){return k().width},set value(ut){k().width=ut}});var Ye=sibling(Ve,2);LabelInput(Ye,{label:"Height",type:"number",get value(){return k().height},set value(ut){k().height=ut}});var et=sibling(me,2);LabelInput(et,{label:"Offset",type:"number",get value(){return k().offset},set value(ut){k().offset=ut}});var tt=sibling(et,2);LabelInput(tt,{label:"Pipe Shape",type:"option",options:Z,get value(){return k().pipeShape},set value(ut){k().pipeShape=ut}});var it=sibling(tt,2);const st=derived$1(()=>k().pipeShape!==lv_pipe_shape_t.LV_PIPE_SHAPE_ROUND);LabelInput(it,{label:"Radius",type:"number",get disabled(){return get$2(st)},get value(){return k().radius},set value(ut){k().radius=ut}});var nt=sibling(it,2);LabelInput(nt,{label:"Start Flow",type:"checkbox",get value(){return k().start},set value(ut){k().start=ut}});var rt=sibling(nt,2),lt=child(rt);LabelInput(lt,{label:"Flow Speed",type:"number",get value(){return k().flowSpeed},set value(ut){k().flowSpeed=ut}});var ot=sibling(lt,2);LabelInput(ot,{label:"Flow Rate",type:"number",get value(){return k().flowRate},set value(ut){k().flowRate=ut}});var ht=sibling(rt,2),dt=child(ht);ColorPicker(dt,{label:"Start Color",opa:255,get color(){return k().startColor},set color(ut){k().startColor=ut}});var ct=sibling(dt,2);ColorPicker(ct,{label:"End Color",opa:255,get color(){return k().endColor},set color(ut){k().endColor=ut}}),append(ee,ne)},$$slots:{default:!0}}),pop()}function Index$2(Y,T){push(T,!0);let k={Id:Name,Layout:Layout$1,Flags,States,ARC:Arc$1,Image:Image$2,Label,TabView,TextArea,Calendar,CheckBox:Checkbox,DropDown:Dropdown,Imgbutton,KeyBoard:Keyboard,Roller:Roller$2,Slider,SpinBox:Spinbox,Bar,Chart,Led,Scale:Scale$1,Span,List,Menu,MultiStateImage,MultiStateNum,MultiStateText,Circle,Ellipse,PartCircle,PartEllipse,Pipe};Accordion(Y,{class:"height-full width-full  p-px ",children:(Z,ee)=>{AccordionItem(Z,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:ne=>{var me=text$1();template_effect(()=>{var Ve;return set_text(me,((Ve=T.props[0][1])==null?void 0:Ve.type)??"Common")}),append(ne,me)},children:(ne,me)=>{var Ve=comment(),Ye=first_child(Ve);each(Ye,17,()=>T.props,index,(et,tt)=>{let it=()=>get$2(tt)[0],st=()=>get$2(tt)[1];var nt=comment(),rt=first_child(nt);{var lt=ot=>{var ht=comment();const dt=derived$1(()=>k[it()]);var ct=first_child(ht);component(ct,()=>get$2(dt),(ut,ft)=>{ft(ut,{get props(){return st()}})}),append(ot,ht)};if_block(rt,ot=>{it()&&ot(lt)})}append(et,nt)}),append(ne,Ve)},$$slots:{header:!0,default:!0}})},$$slots:{default:!0}}),pop()}var root$1G=template('<div class="flex items-center"><!> <div class="flex items-center gap-1"><!></div></div>');function StateInput(Y,T){push(T,!0);let k=prop(T,"disabled",15);var Z=root$1G(),ee=child(Z);Checkbox$1(ee,{class:"flex-none mt-2.5 mx-1",get checked(){return k()},set checked(me){k(me)}});var te=sibling(ee,2),ne=child(te);snippet(ne,()=>T.children??noop$3),append(Y,Z),pop()}var root_4$9=template('<span>Bg Main Color</span> <div class="w-[60px] h-[25px] overflow-hidden border-[1px] border-solid border-gray-500"><!></div>',1),root_3$i=template("<!> <!>",1),root_6$2=template('<span>Bg Grad Color</span> <div class="w-[60px] h-[25px] overflow-hidden border-[1px] border-solid border-gray-500"><!></div>',1),root_5$2=template("<!> <!>",1),root_1$F=template("<!> <!> <!> <!> <!>",1);function Background(Y,T){push(T,!0);let k=proxy([!1,!1,!1,!1,!1,!1]);const Z=prop(T,"props",7);function ee(me,Ve){Ve&&(Ve=toCamelCase(Ve),Z()[Ve]=me)}function te(me){let Ve=me.hex;Ve&&(Ve.length===7&&(Z().bgColor=Ve,Z().bgOpa=255),Ve.length===9&&(Z().bgColor=Ve.substring(0,7),Z().bgOpa=parseInt(Ve.substring(7,9),16)))}function ne(me){let Ve=me.hex;Ve&&(Ve.length===7&&(Z().bgGradientColor=Ve,Z().bgGradientColorOpa=255),Ve.length===9&&(Z().bgGradientColor=Ve.substring(0,7),Z().bgGradientColorOpa=parseInt(Ve.substring(7,9),16)))}WgtAccordionItem(Y,{label:"Background",children:(me,Ve)=>{var Ye=root_1$F(),et=first_child(Ye);StateInput(et,{get disabled(){return k[0]},set disabled(rt){k[0]=rt},children:(rt,lt)=>{const ot=derived$1(()=>!k[0]);LabelInput(rt,{label:"Bg Radius",type:"number",get value(){return Z().bgRadius},get disabled(){return get$2(ot)},onChange:ee})},$$slots:{default:!0}});var tt=sibling(et,2);StateInput(tt,{get disabled(){return k[1]},set disabled(rt){k[1]=rt},children:(rt,lt)=>{var ot=root_3$i(),ht=first_child(ot);Label$1(ht,{class:"flex-auto w-18 my-2 text-white",children:(ut,ft)=>{var vt=root_4$9(),mt=sibling(first_child(vt),2),_t=child(mt);const Et=derived$1(()=>hexWithAlpha(Z().bgColor,Z().bgOpa)),Tt=derived$1(()=>!k[1]);MCXAColorPicker(_t,{get color(){return get$2(Et)},get disabled(){return get$2(Tt)},onChange:te}),append(ut,vt)},$$slots:{default:!0}});var dt=sibling(ht,2);const ct=derived$1(()=>!k[1]);LabelInput(dt,{label:"Bg Main Stop",type:"number",get value(){return Z().bgMainStop},get disabled(){return get$2(ct)},onChange:ee}),append(rt,ot)},$$slots:{default:!0}});var it=sibling(tt,2);StateInput(it,{get disabled(){return k[3]},set disabled(rt){k[3]=rt},children:(rt,lt)=>{var ot=root_5$2(),ht=first_child(ot);Label$1(ht,{class:"flex-auto w-18 my-2 text-white",children:(ut,ft)=>{var vt=root_6$2(),mt=sibling(first_child(vt),2),_t=child(mt);const Et=derived$1(()=>hexWithAlpha(Z().bgGradientColor,Z().bgGradientColorOpa)),Tt=derived$1(()=>!k[3]);MCXAColorPicker(_t,{get color(){return get$2(Et)},get disabled(){return get$2(Tt)},onChange:ne}),append(ut,vt)},$$slots:{default:!0}});var dt=sibling(ht,2);const ct=derived$1(()=>!k[3]);LabelInput(dt,{label:"Bg Gradient Stop",type:"number",get value(){return Z().bgGradientStop},get disabled(){return get$2(ct)},onChange:ee}),append(rt,ot)},$$slots:{default:!0}});var st=sibling(it,2);StateInput(st,{get disabled(){return k[4]},set disabled(rt){k[4]=rt},children:(rt,lt)=>{const ot=derived$1(()=>!k[4]);LabelInput(rt,{label:"Gradient Direction",type:"option",options:lvGradDirList,get value(){return Z().gradientDir},get disabled(){return get$2(ot)},onChange:ht=>{Z().gradientDir=ht}})},$$slots:{default:!0}});var nt=sibling(st,2);PropertyInput(nt,{label:"Clip Corner",type:"checkbox",onChange:ee,get value(){return Z().clipCorner}}),append(me,Ye)},$$slots:{default:!0}}),pop()}var root_1$E=template("<!> <!> <!> <!> <!>",1);function BackgroundImage(Y,T){push(T,!0);let k=proxy([!1,!1,!1]);const Z=prop(T,"props",7),ee=derived$1(()=>{const ne=Asserts.data.filter(me=>me.type==="image").map(me=>({name:me.name,value:me.name}));return ne.push({name:"None",value:""}),ne});function te(ne,me){if(!me)return;const Ve=toCamelCase(me);Z()[Ve]=ne}WgtAccordionItem(Y,{label:"Background Image",children:(ne,me)=>{var Ve=root_1$E(),Ye=first_child(Ve);StateInput(Ye,{get disabled(){return k[0]},set disabled(nt){k[0]=nt},children:(nt,rt)=>{const lt=derived$1(()=>!k[0]);LabelInput(nt,{label:"Bg Image",type:"option",get options(){return get$2(ee)},get value(){return Z().bgImage},get disabled(){return get$2(lt)},onChange:te})},$$slots:{default:!0}});var et=sibling(Ye,2);LabelInput(et,{label:"Bg Image Opa",type:"number",get value(){return Z().bgImageOpa},onChange:te});var tt=sibling(et,2);StateInput(tt,{get disabled(){return k[1]},set disabled(nt){k[1]=nt},children:(nt,rt)=>{const lt=derived$1(()=>!k[1]);ColorPicker(nt,{label:"Bg Image Color",get disabled(){return get$2(lt)},get color(){return Z().bgImageRecolor},set color(ot){Z().bgImageRecolor=ot},get opa(){return Z().bgImageRecolorAlpha},set opa(ot){Z().bgImageRecolorAlpha=ot}})},$$slots:{default:!0}});var it=sibling(tt,2);StateInput(it,{get disabled(){return k[2]},set disabled(nt){k[2]=nt},children:(nt,rt)=>{const lt=derived$1(()=>!k[2]);LabelInput(nt,{label:"Bg Image Recolor Alpha",type:"number",get value(){return Z().bgImageRecolorAlpha},get disabled(){return get$2(lt)},onChange:te})},$$slots:{default:!0}});var st=sibling(it,2);PropertyInput(st,{label:"Bg Image Tiled",type:"checkbox",onChange:te,get value(){return Z().bgImageTiled}}),append(ne,Ve)},$$slots:{default:!0}}),pop()}var root_1$D=template('<div class="right-tab"><!> <!> <!></div>');function Border(Y,T){push(T,!0);let k=prop(T,"props",7),Z=proxy([!1,!1,!1]),ee=[{name:"Left",value:lv_border_side_t.LV_BORDER_SIDE_LEFT},{name:"Right",value:lv_border_side_t.LV_BORDER_SIDE_RIGHT},{name:"Top",value:lv_border_side_t.LV_BORDER_SIDE_TOP},{name:"Bottom",value:lv_border_side_t.LV_BORDER_SIDE_BOTTOM}],te=derived$1(()=>ee.filter(me=>me.value&k().borderSide).map(me=>me.value));function ne(me,Ve){Ve&&(Ve=toCamelCase(Ve),console.log(Ve,me),k()[Ve]=me)}WgtAccordionItem(Y,{label:"Border",children:(me,Ve)=>{var Ye=root_1$D(),et=child(Ye);StateInput(et,{get disabled(){return Z[0]},set disabled(st){Z[0]=st},children:(st,nt)=>{const rt=derived$1(()=>!Z[0]);ColorPicker(st,{label:"Border Color",get disabled(){return get$2(rt)},get color(){return k().borderColor},set color(lt){k().borderColor=lt},get opa(){return k().borderColorOpa},set opa(lt){k().borderColorOpa=lt}})},$$slots:{default:!0}});var tt=sibling(et,2);StateInput(tt,{get disabled(){return Z[1]},set disabled(st){Z[1]=st},children:(st,nt)=>{const rt=derived$1(()=>!Z[1]);LabelInput(st,{label:"Border Width",type:"number",get value(){return k().borderWidth},get disabled(){return get$2(rt)},onChange:ne})},$$slots:{default:!0}});var it=sibling(tt,2);StateInput(it,{get disabled(){return Z[2]},set disabled(st){Z[2]=st},children:(st,nt)=>{MultiSelect(st,{class:"w-full",get value(){return get$2(te)},items:ee,onchange:rt=>{const ot=rt.currentTarget.value.reduce((ht,dt)=>ht|dt,0);k().borderSide=ot}})},$$slots:{default:!0}}),append(me,Ye)},$$slots:{default:!0}}),pop()}var root_3$h=template("<!> <!>",1),root_1$C=template("<!> <!>",1);function Outline(Y,T){push(T,!0);let k=prop(T,"props",7),Z=proxy([!1,!1]);function ee(te,ne){ne&&(ne=toCamelCase(ne),k()[ne]=te)}WgtAccordionItem(Y,{label:"Outline",children:(te,ne)=>{var me=root_1$C(),Ve=first_child(me);StateInput(Ve,{get disabled(){return Z[0]},set disabled(et){Z[0]=et},children:(et,tt)=>{const it=derived$1(()=>!Z[0]);ColorPicker(et,{label:"Outline Color",get disabled(){return get$2(it)},get color(){return k().outlineColor},set color(st){k().outlineColor=st},get opa(){return k().outlineColorAlpha},set opa(st){k().outlineColorAlpha=st}})},$$slots:{default:!0}});var Ye=sibling(Ve,2);StateInput(Ye,{get disabled(){return Z[1]},set disabled(et){Z[1]=et},children:(et,tt)=>{var it=root_3$h(),st=first_child(it);const nt=derived$1(()=>!Z[1]);LabelInput(st,{label:"Outline Width",type:"number",get value(){return k().outlineWidth},get disabled(){return get$2(nt)},onChange:ee});var rt=sibling(st,2);const lt=derived$1(()=>!Z[1]);LabelInput(rt,{label:"Outline Pad",type:"number",get value(){return k().outlinePad},get disabled(){return get$2(lt)},onChange:ee}),append(et,it)},$$slots:{default:!0}}),append(te,me)},$$slots:{default:!0}}),pop()}var root_3$g=template("<!> <!>",1),root_4$8=template("<!> <!>",1),root_1$B=template('<div class="right-tab"><!> <!> <!></div>');function Shadow(Y,T){push(T,!0);let k=prop(T,"props",7),Z=proxy([!1,!1,!1]);function ee(te,ne){ne&&(ne=toCamelCase(ne),k()[ne]=te)}WgtAccordionItem(Y,{label:"Shadow",children:(te,ne)=>{var me=root_1$B(),Ve=child(me);StateInput(Ve,{get disabled(){return Z[0]},set disabled(tt){Z[0]=tt},children:(tt,it)=>{const st=derived$1(()=>!Z[0]);ColorPicker(tt,{label:"Shadow Color",get disabled(){return get$2(st)},get color(){return k().shadowColor},set color(nt){k().shadowColor=nt},get opa(){return k().shadowColorAlpha},set opa(nt){k().shadowColorAlpha=nt}})},$$slots:{default:!0}});var Ye=sibling(Ve,2);StateInput(Ye,{get disabled(){return Z[1]},set disabled(tt){Z[1]=tt},children:(tt,it)=>{var st=root_3$g(),nt=first_child(st);const rt=derived$1(()=>!Z[1]);LabelInput(nt,{label:"Shadow Width",type:"number",get value(){return k().shadowWidth},get disabled(){return get$2(rt)},onChange:ee});var lt=sibling(nt,2);const ot=derived$1(()=>!Z[1]);LabelInput(lt,{label:"Shadow Spread",type:"number",get value(){return k().shadowSpread},get disabled(){return get$2(ot)},onChange:ee}),append(tt,st)},$$slots:{default:!0}});var et=sibling(Ye,2);StateInput(et,{get disabled(){return Z[2]},set disabled(tt){Z[2]=tt},children:(tt,it)=>{var st=root_4$8(),nt=first_child(st);const rt=derived$1(()=>!Z[2]);LabelInput(nt,{label:"Shadow O X",type:"number",get value(){return k().shadowOX},get disabled(){return get$2(rt)},onChange:ee});var lt=sibling(nt,2);const ot=derived$1(()=>!Z[2]);LabelInput(lt,{label:"Shadow O Y",type:"number",get value(){return k().shadowOY},get disabled(){return get$2(ot)},onChange:ee}),append(tt,st)},$$slots:{default:!0}}),append(te,me)},$$slots:{default:!0}}),pop()}function Blend(Y,T){push(T,!0);let k=proxy([!1]),Z=prop(T,"props",7);function ee(te,ne){ne&&(ne=toCamelCase(ne),Z()[ne]=te)}WgtAccordionItem(Y,{label:"Blend",children:(te,ne)=>{StateInput(te,{get disabled(){return k[0]},set disabled(me){k[0]=me},children:(me,Ve)=>{const Ye=derived$1(()=>!k[0]);LabelInput(me,{label:"Blend Mode",type:"option",options:lvBlendModeList,get value(){return Z().blendMode},get disabled(){return get$2(Ye)},onChange:ee})},$$slots:{default:!0}})},$$slots:{default:!0}}),pop()}var root_2$h=template("<!> <!> <!> <!>",1),root_3$f=template("<!> <!>",1),root_1$A=template("<!> <!>",1);function Paddings(Y,T){push(T,!0);let k=proxy([!1,!1]),Z=prop(T,"props",7);function ee(te,ne){ne&&(ne=toCamelCase(ne),Z()[ne]=te)}WgtAccordionItem(Y,{label:"Paddings",children:(te,ne)=>{var me=root_1$A(),Ve=first_child(me);StateInput(Ve,{get disabled(){return k[0]},set disabled(et){k[0]=et},children:(et,tt)=>{var it=root_2$h(),st=first_child(it);const nt=derived$1(()=>!k[0]);LabelInput(st,{label:"Pad Left",type:"number",get value(){return Z().padLeft},get disabled(){return get$2(nt)},onChange:ee});var rt=sibling(st,2);const lt=derived$1(()=>!k[0]);LabelInput(rt,{label:"Pad Top",type:"number",get value(){return Z().padTop},get disabled(){return get$2(lt)},onChange:ee});var ot=sibling(rt,2);const ht=derived$1(()=>!k[0]);LabelInput(ot,{label:"Pad Right",type:"number",get value(){return Z().padRight},get disabled(){return get$2(ht)},onChange:ee});var dt=sibling(ot,2);const ct=derived$1(()=>!k[0]);LabelInput(dt,{label:"Pad Bottom",type:"number",get value(){return Z().padBottom},get disabled(){return get$2(ct)},onChange:ee}),append(et,it)},$$slots:{default:!0}});var Ye=sibling(Ve,2);StateInput(Ye,{get disabled(){return k[1]},set disabled(et){k[1]=et},children:(et,tt)=>{var it=root_3$f(),st=first_child(it);const nt=derived$1(()=>!k[1]);LabelInput(st,{label:"Pad Row",type:"number",get value(){return Z().padRow},get disabled(){return get$2(nt)},onChange:ee});var rt=sibling(st,2);const lt=derived$1(()=>!k[1]);LabelInput(rt,{label:"Pad Column",type:"number",get value(){return Z().padColumn},get disabled(){return get$2(lt)},onChange:ee}),append(et,it)},$$slots:{default:!0}}),append(te,me)},$$slots:{default:!0}}),pop()}var root_2$g=template('<div class="w-[60px] h-[25px] overflow-hidden border-[1px] border-solid border-gray-500"><!></div>'),root_3$e=template("<!> <!>",1),root_1$z=template("<!> <!> <!> <!> <!>",1);function Text$1(Y,T){push(T,!0);const k=LvTextAlignOpts.map(Ye=>({value:Ye.value,name:Ye.label})),Z=LvTextDecorOpts.map(Ye=>({value:Ye.value,name:Ye.label}));let ee=proxy([!1,!1,!1,!1,!1]),te=prop(T,"props",7),ne=derived$1(()=>{const Ye=[];for(const et in lvglBinFont)Ye.push({value:et,name:et});return Ye.push(...lvDefaultFontList),Ye});function me(Ye,et){et&&(et=toCamelCase(et),te()[et]=Ye)}function Ve(Ye){let et=Ye.hex;et&&(et.length===7&&(te().textColor=et),et.length===9&&(te().textColor=et.substring(0,7),te().opa=parseInt(et.substring(7,9),16)))}WgtAccordionItem(Y,{label:"Text",children:(Ye,et)=>{var tt=root_1$z(),it=first_child(tt);StateInput(it,{get disabled(){return ee[0]},set disabled(ot){ee[0]=ot},children:(ot,ht)=>{var dt=root_2$g(),ct=child(dt);const ut=derived$1(()=>hexWithAlpha(te().textColor,te().opa)),ft=derived$1(()=>!ee[0]);MCXAColorPicker(ct,{get color(){return get$2(ut)},get disabled(){return get$2(ft)},onChange:Ve}),append(ot,dt)},$$slots:{default:!0}});var st=sibling(it,2);StateInput(st,{get disabled(){return ee[1]},set disabled(ot){ee[1]=ot},children:(ot,ht)=>{var dt=root_3$e(),ct=first_child(dt);const ut=derived$1(()=>!ee[1]);LabelInput(ct,{label:"Letter Space",type:"number",get value(){return te().letterSpace},get disabled(){return get$2(ut)},onChange:me});var ft=sibling(ct,2);const vt=derived$1(()=>!ee[1]);LabelInput(ft,{label:"Line Space",type:"number",get value(){return te().lineSpace},get disabled(){return get$2(vt)},onChange:me}),append(ot,dt)},$$slots:{default:!0}});var nt=sibling(st,2);StateInput(nt,{get disabled(){return ee[2]},set disabled(ot){ee[2]=ot},children:(ot,ht)=>{const dt=derived$1(()=>!ee[2]);LabelInput(ot,{label:"Text Align",type:"option",options:k,get value(){return te().textAlign},get disabled(){return get$2(dt)},onChange:me})},$$slots:{default:!0}});var rt=sibling(nt,2);StateInput(rt,{get disabled(){return ee[3]},set disabled(ot){ee[3]=ot},children:(ot,ht)=>{const dt=derived$1(()=>!ee[3]);LabelInput(ot,{label:"Text Decor",type:"option",options:Z,get value(){return te().textDector},get disabled(){return get$2(dt)},onChange:me})},$$slots:{default:!0}});var lt=sibling(rt,2);StateInput(lt,{get disabled(){return ee[4]},set disabled(ot){ee[4]=ot},children:(ot,ht)=>{const dt=derived$1(()=>!ee[4]);LabelInput(ot,{label:"Text Font",type:"option",get options(){return get$2(ne)},get value(){return te().textFont},get disabled(){return get$2(dt)},onChange:me})},$$slots:{default:!0}}),append(Ye,tt)},$$slots:{default:!0}}),pop()}var root_2$f=template('<div class="w-[60px] h-[25px] overflow-hidden border-[1px] border-solid border-gray-500"><!></div>'),root_1$y=template('<div class="right-tab"><!> <!> <!></div>');function Arc(Y,T){push(T,!0);let k=proxy([!1,!1]),Z=prop(T,"props",7);const ee=derived$1(()=>Asserts.data.filter(me=>me.type==="image").map(me=>({name:me.name,value:me.name})));function te(me,Ve){Ve&&(Ve=toCamelCase(Ve),Z()[Ve]=me)}function ne(me){let Ve=me.hex;Ve&&(Ve.length===7&&(Z().arcColor=Ve),Ve.length===9&&(Z().arcColor=Ve.substring(0,7),Z().opa=parseInt(Ve.substring(7,9),16)))}WgtAccordionItem(Y,{label:"Arc",children:(me,Ve)=>{var Ye=root_1$y(),et=child(Ye);StateInput(et,{get disabled(){return k[0]},set disabled(st){k[0]=st},children:(st,nt)=>{var rt=root_2$f(),lt=child(rt);const ot=derived$1(()=>hexWithAlpha(Z().arcColor,Z().opa)),ht=derived$1(()=>!k[0]);MCXAColorPicker(lt,{get color(){return get$2(ot)},get disabled(){return get$2(ht)},onChange:ne}),append(st,rt)},$$slots:{default:!0}});var tt=sibling(et,2);StateInput(tt,{get disabled(){return k[1]},set disabled(st){k[1]=st},children:(st,nt)=>{const rt=derived$1(()=>!k[1]);LabelInput(st,{label:"Arc Image",type:"option",get options(){return get$2(ee)},get value(){return Z().arcImage},get disabled(){return get$2(rt)},onChange:te})},$$slots:{default:!0}});var it=sibling(tt,2);PropertyInput(it,{label:"Arc Rounded",type:"checkbox",get value(){return Z().arcRounded},onChange:st=>{Z().arcRounded=st}}),append(me,Ye)},$$slots:{default:!0}}),pop()}var root_2$e=template("<!> <!>",1),root_3$d=template("<!> <!>",1),root_5$1=template("<!> <!>",1),root_6$1=template("<!> <!>",1),root_1$x=template("<!> <!> <!> <!> <!>",1);function Transform(Y,T){push(T,!0);const k=prop(T,"props",7);let Z=proxy([!1,!1,!1,!1,!1]);function ee(te,ne){ne&&(ne=toCamelCase(ne),k()[ne]=te)}WgtAccordionItem(Y,{label:"Transform",children:(te,ne)=>{var me=root_1$x(),Ve=first_child(me);StateInput(Ve,{get disabled(){return Z[0]},set disabled(st){Z[0]=st},children:(st,nt)=>{var rt=root_2$e(),lt=first_child(rt);const ot=derived$1(()=>!Z[0]);LabelInput(lt,{label:"Min Width",type:"number",get value(){return k().minWidth},get disabled(){return get$2(ot)},onChange:ee});var ht=sibling(lt,2);const dt=derived$1(()=>!Z[0]);LabelInput(ht,{label:"Max Width",type:"number",get value(){return k().maxWidth},get disabled(){return get$2(dt)},onChange:ee}),append(st,rt)},$$slots:{default:!0}});var Ye=sibling(Ve,2);StateInput(Ye,{get disabled(){return Z[1]},set disabled(st){Z[1]=st},children:(st,nt)=>{var rt=root_3$d(),lt=first_child(rt);const ot=derived$1(()=>!Z[1]);LabelInput(lt,{label:"Min Height",type:"number",get value(){return k().minHeight},get disabled(){return get$2(ot)},onChange:ee});var ht=sibling(lt,2);const dt=derived$1(()=>!Z[1]);LabelInput(ht,{label:"Max Height",type:"number",get value(){return k().maxHeight},get disabled(){return get$2(dt)},onChange:ee}),append(st,rt)},$$slots:{default:!0}});var et=sibling(Ye,2);StateInput(et,{get disabled(){return Z[2]},set disabled(st){Z[2]=st},children:(st,nt)=>{const rt=derived$1(()=>!Z[2]);LabelInput(st,{label:"Transform Rotation",type:"number",get value(){return k().rotation},get disabled(){return get$2(rt)},onChange:ee})},$$slots:{default:!0}});var tt=sibling(et,2);StateInput(tt,{get disabled(){return Z[3]},set disabled(st){Z[3]=st},children:(st,nt)=>{var rt=root_5$1(),lt=first_child(rt);const ot=derived$1(()=>!Z[3]);LabelInput(lt,{label:"Scale X",type:"number",get value(){return k().scaleX},get disabled(){return get$2(ot)},onChange:ee});var ht=sibling(lt,2);const dt=derived$1(()=>!Z[3]);LabelInput(ht,{label:"Scale Y",type:"number",get value(){return k().scaleY},get disabled(){return get$2(dt)},onChange:ee}),append(st,rt)},$$slots:{default:!0}});var it=sibling(tt,2);StateInput(it,{get disabled(){return Z[4]},set disabled(st){Z[4]=st},children:(st,nt)=>{var rt=root_6$1(),lt=first_child(rt);const ot=derived$1(()=>!Z[4]);LabelInput(lt,{label:"Translate X",type:"number",get value(){return k().translateX},get disabled(){return get$2(ot)},onChange:ee});var ht=sibling(lt,2);const dt=derived$1(()=>!Z[4]);LabelInput(ht,{label:"Translate Y",type:"number",get value(){return k().translateY},get disabled(){return get$2(dt)},onChange:ee}),append(st,rt)},$$slots:{default:!0}}),append(te,me)},$$slots:{default:!0}}),pop()}var root_2$d=template("<span>Image reColor</span>"),root_1$w=template('<div class="right-tab"><div class="flex"><!> <!></div></div>');function Image$1(Y,T){push(T,!0);let k=proxy([!1]);WgtAccordionItem(Y,{label:"Image",children:(Z,ee)=>{var te=root_1$w(),ne=child(te),me=child(ne);Checkbox$1(me,{class:"flex-none mt-2.5 mx-1",get checked(){return k[0]},set checked(Ye){k[0]=Ye}});var Ve=sibling(me,2);Label$1(Ve,{class:"flex-auto w-16 m-1",children:(Ye,et)=>{var tt=root_2$d();append(Ye,tt)},$$slots:{default:!0}}),append(Z,te)},$$slots:{default:!0}}),pop()}var root_2$c=template("<span>Line Color</span>"),root_1$v=template('<div class="flex"><!> <!></div> <!> <!>',1);function Line(Y,T){push(T,!0);let k=5,Z=proxy([!1,!1,!1]);function ee(te,ne){ne&&(ne=toCamelCase(ne))}WgtAccordionItem(Y,{label:"Line",children:(te,ne)=>{var me=root_1$v(),Ve=first_child(me),Ye=child(Ve);Checkbox$1(Ye,{class:"flex-none mt-2.5 mx-1",get checked(){return Z[0]},set checked(st){Z[0]=st}});var et=sibling(Ye,2);Label$1(et,{class:"flex-auto w-16 m-1",children:(st,nt)=>{var rt=root_2$c();append(st,rt)},$$slots:{default:!0}});var tt=sibling(Ve,2);StateInput(tt,{get disabled(){return Z[1]},set disabled(st){Z[1]=st},children:(st,nt)=>{const rt=derived$1(()=>!Z[1]);LabelInput(st,{label:"Line Width",type:"number",value:k,get disabled(){return get$2(rt)},onChange:ee})},$$slots:{default:!0}});var it=sibling(tt,2);PropertyInput(it,{label:"Line Rounded",type:"checkbox",onChange:ee,value:!1}),append(te,me)},$$slots:{default:!0}}),pop()}function Size(Y,T){push(T,!0);let k=proxy([!1]),Z=5;function ee(te,ne){ne&&(ne=toCamelCase(ne))}WgtAccordionItem(Y,{label:"Size",children:(te,ne)=>{StateInput(te,{get disabled(){return k[0]},set disabled(me){k[0]=me},children:(me,Ve)=>{const Ye=derived$1(()=>!k[0]);LabelInput(me,{label:"Size",type:"number",value:Z,get disabled(){return get$2(Ye)},onChange:ee})},$$slots:{default:!0}})},$$slots:{default:!0}}),pop()}function Animation(Y,T){push(T,!0);let k=proxy([!1]),Z=5;function ee(te,ne){ne&&(ne=toCamelCase(ne))}WgtAccordionItem(Y,{label:"Animation",children:(te,ne)=>{StateInput(te,{get disabled(){return k[0]},set disabled(me){k[0]=me},children:(me,Ve)=>{const Ye=derived$1(()=>!k[0]);LabelInput(me,{label:"Animation Time",type:"number",value:Z,get disabled(){return get$2(Ye)},onChange:ee})},$$slots:{default:!0}})},$$slots:{default:!0}}),pop()}var root_2$b=template("<!> <!> <!> <!>",1);function Margin(Y,T){push(T,!0);let k=proxy([!1]),Z=prop(T,"props",7);function ee(te,ne){ne&&(ne=ne.slice(7).toLowerCase(),Z()[ne]=te)}WgtAccordionItem(Y,{label:"Margin",children:(te,ne)=>{StateInput(te,{get disabled(){return k[0]},set disabled(me){k[0]=me},children:(me,Ve)=>{var Ye=root_2$b(),et=first_child(Ye);const tt=derived$1(()=>!k[0]);LabelInput(et,{label:"Margin Left",type:"number",get value(){return Z().left},get disabled(){return get$2(tt)},onChange:ee});var it=sibling(et,2);const st=derived$1(()=>!k[0]);LabelInput(it,{label:"Margin Right",type:"number",get value(){return Z().right},get disabled(){return get$2(st)},onChange:ee});var nt=sibling(it,2);const rt=derived$1(()=>!k[0]);LabelInput(nt,{label:"Margin Top",type:"number",get value(){return Z().top},get disabled(){return get$2(rt)},onChange:ee});var lt=sibling(nt,2);const ot=derived$1(()=>!k[0]);LabelInput(lt,{label:"Margin Bottom",type:"number",get value(){return Z().bottom},get disabled(){return get$2(ot)},onChange:ee}),append(me,Ye)},$$slots:{default:!0}})},$$slots:{default:!0}}),pop()}var root_3$c=template("<!> <!>",1);function Index$1(Y,T){push(T,!0);const k=[];for(const te of StateOpts)k.push({value:te.value,name:te.label});let Z={Background,BackgroundImage,Border,Outline,Shadow,Blend,Paddings,Arc,Transform,Text:Text$1,Margin,Image:Image$1,Line,Size,Animation},ee=prop(T,"rest",7);Accordion(Y,{class:"height-full width-full  p-px ",children:(te,ne)=>{AccordionItem(te,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:Ve=>{var Ye=text$1("Styles Settings");append(Ve,Ye)},children:(Ve,Ye)=>{var et=root_3$c(),tt=first_child(et);LabelInput(tt,{label:"STATE",type:"option",options:k,get value(){return ee().curStyleState},onChange:st=>{ee().curStyleState=st,widgetProps.update++}});var it=sibling(tt,2);each(it,17,()=>T.props,index,(st,nt)=>{let rt=()=>get$2(nt)[0],lt=()=>get$2(nt)[1];var ot=comment(),ht=first_child(ot);{var dt=ct=>{AccordionItem(ct,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:ft=>{var vt=text$1();template_effect(()=>set_text(vt,`STYLES(${rt()})`)),append(ft,vt)},children:(ft,vt)=>{var mt=comment(),_t=first_child(mt);each(_t,17,lt,index,(Et,Tt)=>{let xt=()=>get$2(Tt)[0],yt=()=>get$2(Tt)[1];var St=comment();const At=derived$1(()=>Z[xt()]);var Ct=first_child(St);component(Ct,()=>get$2(At),(It,Ot)=>{Ot(It,{get props(){return yt()}})}),append(Et,St)}),append(ft,mt)},$$slots:{header:!0,default:!0}})};if_block(ht,ct=>{lt().length>0&&ct(dt)})}append(st,ot)}),append(Ve,et)},$$slots:{header:!0,default:!0}})},$$slots:{default:!0}}),pop()}var root$1F=template("<!> <!> <!>",1);function SetProperty(Y,T){push(T,!0);let k=[{value:0,name:"width"},{value:1,name:"height"},{value:2,name:"x"},{value:3,name:"y"},{value:4,name:"value"}],Z=prop(T,"action",7),ee=derived$1(()=>widgetTreeToArray(widgetStores.widgets).filter(et=>{const tt=et.widgetType.toLowerCase();return tt!=="screen"&&tt!=="tabview"}).map(et=>({value:et.id,name:et.name})));var te=root$1F(),ne=first_child(te);LabelInput(ne,{label:"Target",get value(){return Z().targetId},type:"option",get options(){return get$2(ee)},onChange:Ye=>{Z().targetId=Ye}});var me=sibling(ne,2);LabelInput(me,{label:"Property",get value(){return Z().type},type:"option",options:k,onChange:Ye=>{Z().type=Ye}});var Ve=sibling(me,2);LabelInput(Ve,{label:"Value",get value(){return Z().value},type:"number",onChange:Ye=>{Z().value=Ye}}),append(Y,te),pop()}var root_2$a=template('<div class="mr-2"><!> <!></div> <div class="flex"><!></div>',1);function CallFun(Y,T){AccordionItem(Y,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:Z=>{var ee=text$1("Action(CALL FUNCTION)");append(Z,ee)},children:(Z,ee)=>{var te=root_2$a(),ne=first_child(te),me=child(ne);Label$1(me,{class:"flex-auto w-18 mt-1 px-1",children:(tt,it)=>{var st=text$1("Function name");append(tt,st)},$$slots:{default:!0}});var Ve=sibling(me,2);Input$1(Ve,{type:"text",required:!0,size:"sm",class:"px-1 ml-1"});var Ye=sibling(ne,2),et=child(Ye);Checkbox$1(et,{class:"flex-none m-1 mt-3",children:(tt,it)=>{var st=text$1("Do not export function");append(tt,st)},$$slots:{default:!0}}),append(Z,te)},$$slots:{header:!0,default:!0}})}var root$1E=template("<!> <!>",1);function ChangeScreen(Y,T){push(T,!0);const k=derived$1(()=>{const me=screenStore.screens,Ve=[];for(const Ye in me)Ve.push({value:Ye,name:me[Ye].name});return Ve}),Z=prop(T,"action",7);var ee=root$1E(),te=first_child(ee);LabelInput(te,{label:"Screen Name",type:"option",get options(){return get$2(k)},get value(){return Z().value},onChange:me=>{Z().value=me}});var ne=sibling(te,2);LabelInput(ne,{label:"Screen Name",type:"checkbox",get value(){return Z().isDelete},set value(me){Z().isDelete=me}}),append(Y,ee),pop()}var root_1$u=template("<span>Variable</span> <!>",1),root$1D=template("<!> <!> <!>",1);function ChangeVariable(Y,T){push(T,!0);let k=[{value:"set",name:"Set"},{value:"modify",name:"Modify"}];const Z=prop(T,"action",7);let ee=state("set"),te=state(proxy(Z().variable??"")),ne=derived$1(()=>getValueType(get$2(te)));function me(st){set(te,proxy(st.str)),Z().variable=st.str}var Ve=root$1D(),Ye=first_child(Ve);Label$1(Ye,{class:"flex-auto w-18 my-2 text-white",children:(st,nt)=>{var rt=root_1$u(),lt=sibling(first_child(rt),2);Cascader(lt,{onChange:me,get value(){return get$2(te)},checkToClosePopup:!0}),append(st,rt)},$$slots:{default:!0}});var et=sibling(Ye,2);LabelInput(et,{type:"option",label:"Operator",options:k,get value(){return get$2(ee)},onChange:st=>{const nt=st;Z().varOperator=nt,set(ee,proxy(nt))}});var tt=sibling(et,2);const it=derived$1(()=>get$2(ee)==="set"?"Value":"Step");LabelInput(tt,{get label(){return get$2(it)},get type(){return get$2(ne)},get value(){return Z().value},onChange:st=>{Z().value=st}}),append(Y,Ve),pop()}var root_1$t=template("<span>Action</span> <!>",1),root_3$b=template("<span>Type</span> <!>",1),root$1C=template('<div class="flex items-end gap-2"><!> <!> <!></div>');function ActionSelect(Y,T){push(T,!0);let k=state(0),Z=0;var ee=root$1C(),te=child(ee);Label$1(te,{children:(Ye,et)=>{var tt=root_1$t(),it=sibling(first_child(tt),2);Select(it,{items:actionList,placeholder:"",size:"sm",get value(){return get$2(k)},set value(st){set(k,proxy(st))}}),append(Ye,tt)},$$slots:{default:!0}});var ne=sibling(te,2);{var me=Ye=>{Label$1(Ye,{children:(et,tt)=>{var it=root_3$b(),st=sibling(first_child(it),2);Select(st,{items:targetTypeList,get value(){return Z},placeholder:"",size:"sm"}),append(et,it)},$$slots:{default:!0}})};if_block(ne,Ye=>{get$2(k)===0&&Ye(me)})}var Ve=sibling(ne,2);Button(Ve,{class:"bg-sky-500/100 h-8",onclick:()=>T.addAction(T.idx,get$2(k),Z),children:(Ye,et)=>{var tt=text$1("add");append(Ye,tt)},$$slots:{default:!0}}),append(Y,ee),pop()}var root_4$7=template('<div class="flex items-center "><!> <!></div>'),root_11$1=template('<div class="w-full flex items-center justify-between"><span> </span> <!></div>'),root_10$1=template('<!> <div class="items-center relative"></div>',1),root_7=template('<div class="flex items-center gap-2"><!> <!></div> <!> <!>',1),root$1B=template('<!> <div class="text-center py-6 px-3"><!></div>',1);function Event$1(Y,T){push(T,!0);const k=new libExports.RpcProvider((lt,ot)=>window.postMessage(lt,"*",ot??[]));window.addEventListener("message",({data:lt})=>{k.dispatch(lt)});let Z=prop(T,"events",7);proxy([]);let ee=LvInputEventCodeOpts.map(lt=>({value:lt.value,name:lt.label}));const te={0:SetProperty,1:CallFun,2:ChangeVariable,3:ChangeScreen};let ne=1,me=0;function Ve(){if(widgetProps.curlvglShape==null)return;const lt={name:"Event "+ne++,trigger:0,actions:[]};Z().push(lt);const ot={...lt,actionName:0,actionType:0};widgetProps.curlvglShape.addEvent(ot)}function Ye(lt,ot,ht){if(lt<0||lt>=Z().length||widgetProps.curlvglShape==null)return;const dt={actionData:{actionName:ot,targetId:"",value:0}};if(widgetProps.curlvglShape){const ct=widgetProps.curlvglShape.events;ct[lt].addAction(dt.actionData,widgetProps.curlvglShape);const ut=ct[lt].actions[ct[lt].actions.length-1];Z()[lt].actions.push(ut.pickAttributes())}}function et(lt){lt<0||lt>=Z().length||(Z().splice(lt,1),widgetProps.curlvglShape&&widgetProps.curlvglShape.events.splice(lt,1))}function tt(lt,ot){Z()[lt].actions.splice(ot,1),widgetProps.curlvglShape&&widgetProps.curlvglShape.events[lt].actions.splice(ot,1)}var it=root$1B(),st=first_child(it);Accordion(st,{class:"height-full width-full  p-px ",children:(lt,ot)=>{var ht=comment(),dt=first_child(ht);key_block(dt,()=>me,ct=>{var ut=comment(),ft=first_child(ut);each(ft,17,Z,index,(vt,mt,_t)=>{AccordionItem(vt,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800 h-8",open:!0,header:Tt=>{var xt=root_4$7(),yt=child(xt);Label$1(yt,{class:"text-white",children:(At,Ct)=>{var It=text$1();It.nodeValue=`Event ${_t+1}`,append(At,It)},$$slots:{default:!0}});var St=sibling(yt,2);Button(St,{onclick:At=>et(_t),children:(At,Ct)=>{CloseOutline(At,{})},$$slots:{default:!0}}),append(Tt,xt)},children:(Tt,xt)=>{var yt=root_7(),St=first_child(yt),At=child(St);key_block(At,()=>widgetProps.update,Dt=>{LabelInput(Dt,{label:"Event Name",get value(){return get$2(mt).name},type:"string",onChange:Mt=>{Z()[_t]&&(Z()[_t].name=Mt)}})});var Ct=sibling(At,2);LabelInput(Ct,{label:"Trigger",get value(){return get$2(mt).trigger},type:"option",options:ee,onChange:Dt=>{get$2(mt).trigger=Dt}});var It=sibling(St,2);Accordion(It,{class:"my-1 height-full width-full  p-px ",children:(Dt,Mt)=>{var $t=comment(),Ht=first_child($t);each(Ht,19,()=>get$2(mt).actions,Ft=>Ft.id,(Ft,jt,Gt)=>{var Kt=root_10$1(),Pt=first_child(Kt);AccordionItem(Pt,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800 h-[40px]",open:!1,header:zt=>{var Wt=root_11$1(),si=child(Wt),ei=child(si),Zt=sibling(si,2);Button(Zt,{onclick:Jt=>tt(_t,get$2(Gt)),children:(Jt,ti)=>{CloseOutline(Jt,{})},$$slots:{default:!0}}),template_effect(()=>set_text(ei,actionList[get$2(jt).actionName].name)),append(zt,Wt)},children:(zt,Wt)=>{var si=comment();const ei=derived$1(()=>te[get$2(jt).actionName]);var Zt=first_child(si);component(Zt,()=>get$2(ei),(Jt,ti)=>{ti(Jt,{get action(){return get$2(jt)}})}),append(zt,si)},$$slots:{header:!0,default:!0}}),append(Ft,Kt)}),append(Dt,$t)},$$slots:{default:!0}});var Ot=sibling(It,2);ActionSelect(Ot,{idx:_t,addAction:Ye}),append(Tt,yt)},$$slots:{header:!0,default:!0}})}),append(ct,ut)}),append(lt,ht)},$$slots:{default:!0}});var nt=sibling(st,2),rt=child(nt);Button(rt,{class:"rounded-full bg-sky-500/100  focus-within:outline-none",onclick:()=>Ve(),children:(lt,ot)=>{var ht=text$1("Add Event");append(lt,ht)},$$slots:{default:!0}}),append(Y,it),pop()}function Index(Y,T){Accordion(Y,{class:"height-full width-full  p-px ",children:(k,Z)=>{AccordionItem(k,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:te=>{var ne=text$1("Events");append(te,ne)},children:(te,ne)=>{Event$1(te,{get events(){return T.props}})},$$slots:{header:!0,default:!0}})},$$slots:{default:!0}})}function deepWatch(Y,T,k,Z=[],ee=new WeakMap){if(typeof Y!="object"||Y===null)return Y;if(ee.has(Y))return ee.get(Y);const te=new Proxy(Y,{get(ne,me,Ve){const Ye=Reflect.get(ne,me,Ve);return Array.isArray(ne)&&typeof Ye=="function"&&["push","pop","shift","unshift","splice","sort","reverse"].includes(me)?Ye.bind(ne):typeof Ye=="object"&&Ye!==null?deepWatch(Ye,T,k,Z.concat(String(me)),ee):Ye},set(ne,me,Ve,Ye){const et=ne[me],tt=[...Z,String(me)].join("."),it=Reflect.set(ne,me,Ve,Ye);return!k.includes(me)&&et!==Ve&&T({path:tt,type:"set",oldValue:et,newValue:Ve}),it},deleteProperty(ne,me){if(me in ne){const Ve=ne[me],Ye=[...Z,String(me)].join("."),et=Reflect.deleteProperty(ne,me);return T({path:Ye,type:"delete",oldValue:Ve,newValue:void 0}),et}return!1}});return ee.set(Y,te),te}function setDeepValue(Y,T,k){if(!Y||typeof Y!="object"||!T)return;const Z=T.split(".");let ee=Y;for(let me=0;me<Z.length-1;me++){const Ve=Z[me];if(/^\d+$/.test(Ve)){const et=Number(Ve);if(!Array.isArray(ee))throw new Error(`è·¯å¾ ${Ve} ä¸æ¯æ°ç»`);ee[et]===void 0&&(ee[et]={}),ee=ee[et]}else(!(Ve in ee)||typeof ee[Ve]!="object")&&(ee[Ve]={}),ee=ee[Ve]}const te=Z[Z.length-1];if(/^\d+$/.test(te)){const me=Number(te);if(!Array.isArray(ee))throw new Error(`è·¯å¾ ${te} ä¸æ¯æ°ç»`);ee[me]=k}else ee[te]=k}const rpcProvider$1=new libExports.RpcProvider((Y,T)=>window.postMessage(Y,"*",T));window.addEventListener("message",Y=>rpcProvider$1.dispatch(Y.data));var root_1$s=template('<div class="wrapper svelte-5fsnzr"></div>');function PropWidget(Y,T){push(T,!0);const k={Widgets:Index$2,Styles:Index$1,Events:Index};let Z=derived$1(()=>deepWatch(widgetProps.props,ee=>{console.log("widgetProps.props changed:",ee.path,ee.newValue),ee.path.split(".").length,rpcProvider$1.rpc("onPropsChange",deepClone(ee))},["x","y","width","height"]));RegionalDivision(Y,{get panelApi(){return T.api},children:(ee,te)=>{var ne=root_1$s();each(ne,21,()=>get$2(Z),index,(me,Ve)=>{var Ye=comment(),et=first_child(Ye);{var tt=it=>{var st=comment();const nt=derived$1(()=>k[get$2(Ve)[0]]);var rt=first_child(st);const lt=derived$1(()=>get$2(Ve)[2]??{});component(rt,()=>get$2(nt),(ot,ht)=>{ht(ot,{get props(){return get$2(Ve)[1]},get rest(){return get$2(lt)}})}),append(it,st)};if_block(et,it=>{get$2(Ve).length>=0&&it(tt)})}append(me,Ye)}),append(ee,ne)},$$slots:{default:!0}}),pop()}var on_mousedown$4=(Y,T,k)=>{Y.preventDefault(),T(Y),k(Y)},root_1$r=template('<div class="wrapper-title svelte-o4gkw7"> </div>'),root$1A=template("<button><!></button>");function DockTabBottom(Y,T){push(T,!0);let k=state(!1);const Z=Ve=>{const Ye={iconItem:T.api.title,x:Ve.clientX,y:Ve.clientY};document.body.style.userSelect="none";const et=it=>{window.API.eventBus.emit("menuLineMoveIcon",{dockViewId:T.api.accessor.id,iconItem:T.api.title,x:it.clientX,y:it.clientY})},tt=it=>{document.body.style.userSelect="",window.API.eventBus.emit("menuLineMoveIconEnd",{dockViewId:T.api.accessor.id,iconItem:Ye.iconItem,x:it.clientX,y:it.clientY},!0),window.removeEventListener("mousemove",et),window.removeEventListener("mouseup",tt)};window.addEventListener("mousemove",et),window.addEventListener("mouseup",tt)},ee=Ve=>{const Ye={data:{panel:T.api.title,title:T.api.title},position:{x:Ve.clientX,y:Ve.clientY}};document.body.style.userSelect="none";const et=it=>{window.API.eventBus.emit("regionalDivisionMove",{...Ye,position:{x:it.clientX,y:it.clientY}})},tt=it=>{document.body.style.userSelect="",window.API.eventBus.emit("regionalDivisionMoveEnd",{...Ye,position:{x:it.clientX,y:it.clientY}}),window.removeEventListener("mousemove",et),window.removeEventListener("mouseup",tt)};window.addEventListener("mousemove",et),window.addEventListener("mouseup",tt)},te=()=>{window.API.eventBus.emit(window.API.constant.dockview.CHNAGE_TOP_TAP,{name:T.api.id.split("_")[1],id:T.api.accessor.id})};onMount(()=>{window.API.eventBus.on(window.API.constant.dockview.CHNAGE_TOP_TAP,Ve=>{Ve.id===T.api.accessor.id&&Ve.name===T.api.id.split("_")[1]?set(k,!0):Ve.id===T.api.accessor.id&&set(k,!1)}),tick().then(()=>{T.api.accessor.api.activePanel.id.split("_")[1]===T.api.id.split("_")[1]?set(k,!0):set(k,!1),te()})});var ne=root$1A();ne.__mousedown=[on_mousedown$4,Z,ee],ne.__click=te;var me=child(ne);Tooltip(me,{get title(){return T.params.title},children:(Ve,Ye)=>{var et=root_1$r(),tt=child(et);template_effect(()=>set_text(tt,T.params.title)),append(Ve,et)},$$slots:{default:!0}}),template_effect(()=>set_class(ne,1,`wrapper ${get$2(k)?"wrapper-active":""}`,"svelte-o4gkw7")),append(Y,ne),pop()}delegate(["mousedown","click"]);function camelToCss(Y){function T(k){return k.replace(/[A-Z]/g,Z=>`-${Z.toLowerCase()}`)}return Object.entries(Y).map(([k,Z])=>`${T(k)}:${Z}`).join(";")+";"}const haveSelect=(Y,T)=>{var ee;const k=Y.source.dataType;return!(((ee=window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE))==null?void 0:ee.find(te=>te.value===k))||T==="group")},haveConnect=(Y,T)=>{var k;if(T==="connection"){const Z=Y.source.dataType;if((k=window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE))==null?void 0:k.find(te=>te.value===Z))return!1}return!0};var root$1z=template('<div class="wrapper svelte-1wyvf0o"><!></div>');function TableRow(Y,T){push(T,!0);let k=prop(T,"styleCss",19,()=>({})),Z=state("");onMount(()=>{set(Z,proxy(camelToCss(k())))});var ee=root$1z(),te=child(ee);slot(te,T,"default",{}),template_effect(()=>set_style(ee,get$2(Z))),append(Y,ee),pop()}const onclickHandler=(Y,T,k,Z,ee,te,ne,me,Ve)=>{if(!T())return;const Ye=k.option.find(tt=>tt.value===get$2(Z));Ye&&set(ee,proxy(Ye.label));const et=get$2(te).getBoundingClientRect();set(ne,proxy(api$1.popUp.getPopUp(controlVariablePopUpEventBus))),get$2(ne).clearState(),get$2(ne).changeOptions(k.option),get$2(ne).changeShow({show:!0,top:et.y+et.height,left:et.x,haveSearch:me(),selectLabel:Ye?Ye.value:""}),get$2(ne).getSelectData(Ve)};var root_1$q=template("<span></span>"),root$1y=template('<div class="wrapper svelte-e46z23"><button aria-label="select value" class="wrapper-value svelte-e46z23"><p class="svelte-e46z23"> </p> <!></button></div>');function MCXASelect(Y,T){push(T,!0);let k=prop(T,"haveSearch",3,!1),Z=prop(T,"changeValue",3,()=>{}),ee=prop(T,"allowSelect",3,!0),te=prop(T,"buttonOpType",3,"ModbusTCPIP"),ne=state(void 0),me=state(void 0),Ve=state(proxy(T.value)),Ye=state(proxy(T.value));const et=ht=>{set(Ve,proxy(ht.value)),set(Ye,proxy(ht.label)),Z()(deepClone$1(ht.value)),get$2(me).changeShow({show:!1})};user_effect(()=>{T.option&&tt()});const tt=()=>{set(Ve,proxy(T.value));const ht=T.option.find(dt=>dt.value===T.value);ht&&set(Ye,proxy(ht.label))};onMount(()=>{tt()});var it=root$1y(),st=child(it);st.__click=[onclickHandler,ee,T,Ve,Ye,ne,me,k,et];var nt=child(st),rt=child(nt),lt=sibling(nt,2);{var ot=ht=>{var dt=root_1$q();template_effect(()=>set_class(dt,1,`iconfont icon-arrow-down ${(te()==="ModbusTCPIP"?"button-op":"")??""}`)),append(ht,dt)};if_block(lt,ht=>{ee()&&ht(ot)})}bind_this(it,ht=>set(ne,ht),()=>get$2(ne)),template_effect(()=>set_text(rt,get$2(Ye))),event("blur",st,()=>{get$2(me)&&get$2(me).changeShow({show:!1})}),append(Y,it),pop()}delegate(["click"]);var on_mousedown$3=(Y,T,k)=>{T(Y),k(Y)},on_dblclick=(Y,T)=>{T(Y)},on_click$f=(Y,T,k)=>{get$2(T)<=0?set(k,get$2(T)*-1+1):set(k,proxy(get$2(T)))},root_3$a=template('<div class="wrapper-slot svelte-bmor4r"> </div>'),root_4$6=template('<div class="wrapper-select svelte-bmor4r"><!></div>'),root_6=template('<div class="wrapper-select svelte-bmor4r"><!></div>'),root_10=template('<div class="wrapper-slot svelte-bmor4r"> </div>'),root_11=template('<div class="wrapper-input svelte-bmor4r"><input type="number" class="clear-input svelte-bmor4r"></div>'),root_12=template('<div class="wrapper-slot svelte-bmor4r"> </div>'),root_14=template('<div class="wrapper-slot svelte-bmor4r"> </div>'),root_15=template('<div class="wrapper-input svelte-bmor4r"><input class="clear-input svelte-bmor4r"></div>'),root$1x=template("<div><!></div>");function TableItem(Y,T){push(T,!0);let k=prop(T,"styleCss",19,()=>({}));prop(T,"isFocus",3,!1);let Z=prop(T,"headItem",19,()=>({})),ee=prop(T,"treeNode",31,()=>proxy({source:{}})),te=prop(T,"label",3,void 0),ne=prop(T,"type",3,void 0),me=prop(T,"labelType",3,void 0),Ve=prop(T,"treeFlattener",3,void 0),Ye=state(""),et=state(void 0),tt=state(proxy(T.width)),it=state(!1),st=state(proxy(T.value)),nt=state(void 0),rt=!1,lt=!1;const ot=getContext("setResizing");let ht=state(proxy([])),dt=state(1),ct=state(1);const ut=(It,Ot)=>{const Dt=It.getBoundingClientRect();return Ot.clientX>Dt.right-5&&Ot.clientX<Dt.right},ft=(It,Ot)=>{const Dt=It.getBoundingClientRect();return Ot.clientY>Dt.bottom-5&&Ot.clientY<Dt.bottom},vt=It=>{if(!rt||me()!=="head")return;lt=!0,It.clientX,It.clientY,document.body.style.userSelect="none";const Ot=Mt=>{ot({clientX:Mt.clientX,clientY:Mt.clientY,type:"move",rect:get$2(et).getBoundingClientRect(),local:get$2(et).style.cursor==="col-resize"?"right":"bottom"})},Dt=Mt=>{ot({clientX:Mt.clientX,clientY:Mt.clientY,treeIndex:T.treeIndex,rect:get$2(et).getBoundingClientRect(),type:"moveDown"}),lt=!1,document.body.style.userSelect="",window.removeEventListener("mousemove",Ot),window.removeEventListener("mouseup",Dt)};window.addEventListener("mousemove",Ot),window.addEventListener("mouseup",Dt)},mt=It=>{lt||(get$2(et)&&ut(get$2(et),It)?(rt=!0,get$2(et).style.cursor="col-resize"):get$2(et)&&ft(get$2(et),It)||get$2(et)&&!lt&&(get$2(et).style.cursor="",rt=!1))},_t=It=>{te()&&haveSelect(ee(),te())&&te()!=="attribute"&&(set(it,!0),tick().then(()=>{var Ot;(Ot=get$2(nt))==null||Ot.focus(),get$2(dt)<=0?set(ct,get$2(dt)*-1+1):set(ct,proxy(get$2(dt)))}))},Et=It=>{let Ot={};if(ee().source.dataType==="string"&&te()==="length"){const Dt=parseInt(get$2(st));if(!isNaN(Dt)&&(Dt<1||Dt>255)){api$1.message.globalMessageNotice({type:"error",message:`Please enter a value between 1 and 255. The current value is ${Dt}.`}),set(st,proxy(ee().source[te()]));return}Ot[te()]=`${get$2(st)}`}else Ot[te()]=get$2(st);ee().source.dataType==="string"&&te()==="length"?ee(ee().source[te()]=`${get$2(st)}`,!0):ee(ee().source[te()]=get$2(st),!0),api$1.eventBus.emit(api$1.constant.enum.UPDATE_TREENODE_STRUCT_AND_VARRELATION_INTEGRATE,{source:ee().source,newValue:Ot,selectLength:get$2(ct),treeFlattener:Ve()}),set(it,!1)},Tt=It=>{if(ne()==="select"){let Ot={};Ot[te()]=It,api$1.eventBus.emit(api$1.constant.enum.UPDATE_TREENODE_STRUCT_AND_VARRELATION_INTEGRATE,{source:ee().source,newValue:Ot,changeValue:te(),changeId:ee().treeId,selectLength:get$2(ct),treeFlattener:Ve()})}if(ne()==="cascader"){let Ot={};Ot[te()]=It.str,ee(ee().source[te()]=It.str,!0),api$1.eventBus.emit(api$1.constant.enum.UPDATE_TREENODE_STRUCT_AND_VARRELATION_INTEGRATE,{source:ee().source,newValue:Ot,selectLength:get$2(ct),treeFlattener:Ve()})}},xt=It=>{var Ht;if(me()==="head")return;It.preventDefault();const Ot={x:It.clientX,y:It.clientY},Dt=(Ht=get$2(et))==null?void 0:Ht.getBoundingClientRect();if(!Dt)return;window.API.eventBus.emit(window.API.constant.excel.EXCEL_ITEM_CLICK,{rect:Dt,client:Ot,type:"tableItem"});const Mt=Ft=>{set(dt,proxy(getOppositeInteger((Ft.clientY-Dt.top-2)/26))),window.API.eventBus.emit(window.API.constant.excel.EXCEL_ITEM_CLICK,{rect:{length:get$2(dt)},type:"boxSelection"})},$t=()=>{window.removeEventListener("mousemove",Mt),window.removeEventListener("mouseup",$t)};window.addEventListener("mousemove",Mt),window.addEventListener("mouseup",$t)},yt=(It,Ot)=>{const Dt=window.API.structAndVarRelationIntegrate.getTreeFlattener().getNodeBySourceId(It.source.id);return typeof Ot=="function"?Dt?Ot(Dt):"":It.source[Ot]},St=()=>{var It;T.width&&requestAnimationFrame(()=>{set(tt,proxy(T.treeIndex===0?T.width-2:T.width)),set(Ye,get$2(Ye)+";flex:none;")}),ee()&&ne()==="select"&&set(ht,proxy((It=Z())==null?void 0:It.getOption(ee()))),Object.keys(k()).length&&set(Ye,camelToCss(k())+""),window.API.eventBus.on("tableSelectLength",Ot=>{set(dt,proxy(Ot.selectLength))}),document.addEventListener("mousemove",mt),document.addEventListener("click",Ot=>{Ot.target.closest(".wrapper")!=get$2(et)&&set(it,!1)}),api$1.eventBus.on("table:change:heightOrWidth",Ot=>{T.treeIndex===Ot.treeIndex&&set(tt,proxy(T.treeIndex===0?Ot.newWidth-2:Ot.newWidth))}),api$1.eventBus.on(api$1.constant.enum.UPDATE_TREENODE_STRUCT_AND_VARRELATION_INTEGRATE,Ot=>{var Dt,Mt;if(Ot.changeId&&ee()&&Ot.changeId===ee().treeId){if(Ot.changeValue==="connection"&&te()==="reg"){const $t=window.API.structAndVarRelationIntegrate.getTreeFlattener().getNodeBySourceId(Ot.newValue[Ot.changeValue]);if((Mt=(Dt=$t==null?void 0:$t.source)==null?void 0:Dt.agreement)!=null&&Mt.Regs){const Ft=$t.source.agreement.Regs.Reg.map(jt=>({label:jt._attributes.Name,value:jt._attributes.ID}));set(ht,proxy(Ft))}}Ot.changeValue==="reg"&&te()==="attribute"&&requestAnimationFrame(()=>{set(st,proxy(yt(ee(),Z().value)))})}}),me()!="head"&&(te()==="attribute"?Z()&&set(st,proxy(Z().value(ee()))):set(st,proxy(ee().source[te()])))};user_effect(()=>{T.width&&requestAnimationFrame(()=>{set(tt,proxy(T.treeIndex===0?T.width-2:T.width)),set(Ye,get$2(Ye)+";flex:none;")})}),user_effect(()=>{var It;ee()&&ne()==="select"&&set(ht,proxy((It=Z())==null?void 0:It.getOption(ee())))}),user_effect(()=>{ee(),requestAnimationFrame(()=>{St()})}),onMount(()=>{St()});var At=root$1x();At.__mousedown=[on_mousedown$3,vt,xt],At.__dblclick=[on_dblclick,_t],At.__click=[on_click$f,dt,ct];var Ct=child(At);key_block(Ct,()=>ee().source[te()],It=>{var Ot=comment(),Dt=first_child(Ot);{var Mt=Ht=>{var Ft=comment(),jt=first_child(Ft);{var Gt=Pt=>{var kt=root_3$a(),zt=child(kt);template_effect(()=>set_text(zt,get$2(st))),append(Pt,kt)},Kt=Pt=>{var kt=root_4$6(),zt=child(kt);const Wt=derived$1(()=>haveSelect(ee(),te()));MCXASelect(zt,{get allowSelect(){return get$2(Wt)},get option(){return get$2(ht)},get value(){return ee().source[te()]},changeValue:Tt}),append(Pt,kt)};if_block(jt,Pt=>{te()==="connection"&&ee().source[te()]==="internal variable"?Pt(Gt):Pt(Kt,!1)})}append(Ht,Ft)},$t=(Ht,Ft)=>{{var jt=Kt=>{var Pt=root_6(),kt=child(Pt);const zt=derived$1(()=>{var Wt;return((Wt=Z())==null?void 0:Wt.getOption(ee()))??[]});MCXACascader(kt,{isLocal:!1,get option(){return get$2(zt)},get defaultValue(){return ee().source[te()]},onChange:Tt}),append(Kt,Pt)},Gt=(Kt,Pt)=>{{var kt=Wt=>{var si=comment(),ei=first_child(si);{var Zt=ti=>{var di=comment(),Qt=first_child(di);{var Si=Ri=>{var ki=root_10(),Bt=child(ki);template_effect(()=>set_text(Bt,get$2(st))),append(Ri,ki)},Ti=Ri=>{var ki=root_11(),Bt=child(ki);bind_this(Bt,ai=>set(nt,ai),()=>get$2(nt)),template_effect(ai=>set_style(ki,ai),[()=>`${get$2(Ye)} ${get$2(tt)?`width:${Math.trunc(get$2(tt))}px`:""};`]),event("blur",Bt,Et),bind_value(Bt,()=>get$2(st),ai=>set(st,ai)),append(Ri,ki)};if_block(Qt,Ri=>{get$2(it)?Ri(Ti,!1):Ri(Si)})}append(ti,di)},Jt=ti=>{var di=root_12(),Qt=child(di);template_effect(Si=>set_text(Qt,Si),[()=>window.API.optionManager.getOptionTypeLengths(ee().source.dataType)]),append(ti,di)};if_block(ei,ti=>{ee().source.dataType==="string"?ti(Zt):ti(Jt,!1)})}append(Wt,si)},zt=(Wt,si)=>{{var ei=Jt=>{var ti=root_14(),di=child(ti);template_effect(()=>set_text(di,get$2(st))),append(Jt,ti)},Zt=Jt=>{var ti=root_15(),di=child(ti);bind_this(di,Qt=>set(nt,Qt),()=>get$2(nt)),template_effect(Qt=>set_style(ti,Qt),[()=>`${get$2(Ye)} ${get$2(tt)?`width:${Math.trunc(get$2(tt))}px`:""};`]),event("blur",di,Et),bind_value(di,()=>get$2(st),Qt=>set(st,Qt)),append(Jt,ti)};if_block(Wt,Jt=>{get$2(it)?Jt(Zt,!1):Jt(ei)},si)}};if_block(Kt,Wt=>{te()==="length"?Wt(kt):Wt(zt,!1)},Pt)}};if_block(Ht,Kt=>{ne()==="cascader"&&haveConnect(ee(),te())?Kt(jt):Kt(Gt,!1)},Ft)}};if_block(Dt,Ht=>{ne()==="select"?Ht(Mt):Ht($t,!1)})}append(It,Ot)}),bind_this(At,It=>set(et,It),()=>get$2(et)),template_effect(It=>{set_class(At,1,`wrapper ${T.rowIndex%2!=0?"wrapper-background-deep":""} ${T.treeIndex===0?"wrapper-sticky":""}`,"svelte-bmor4r"),set_style(At,It)},[()=>`${get$2(Ye)} ${get$2(tt)?`width:${Math.trunc(get$2(tt))}px`:`${T.width}`};`]),append(Y,At),pop()}delegate(["mousedown","dblclick","click"]);function DragLine(Y,T){push(T,!0),prop(T,"direction",3,"vertical"),getContext("setChangeWidthAndHeight"),pop()}var root_2$9=template("<!> <!>",1),root_1$p=template("<!> <!>",1),root$1w=template('<div class="wrapper svelte-1f7jr47"><!> <!></div>');function TableHead(Y,T){push(T,!0);let k=prop(T,"styleCss",19,()=>({})),Z=state("");onMount(()=>{set(Z,proxy(camelToCss(k()))),getContext("setHead")(T.headData)});var ee=root$1w(),te=child(ee);TableRow(te,{children:(me,Ve)=>{var Ye=root_1$p(),et=first_child(Ye);each(et,17,()=>T.headData,index,(st,nt,rt)=>{var lt=root_2$9(),ot=first_child(lt);DragLine(ot,{locationIndex:rt});var ht=sibling(ot,2);TableItem(ht,{get width(){return get$2(nt).width},treeIndex:rt,get value(){return get$2(nt).label},labelType:"head",styleCss:{backgroundColor:"#000000"}}),append(st,lt)});var tt=sibling(et,2);const it=derived$1(()=>T.headData.length+1);DragLine(tt,{get locationIndex(){return get$2(it)}}),append(me,Ye)},$$slots:{default:!0}});var ne=sibling(te,2);slot(ne,T,"default",{}),template_effect(()=>set_style(ee,get$2(Z))),append(Y,ee),pop()}var root$1v=template('<div class="wrapper svelte-ftbruv"><div class="line-v svelte-ftbruv"></div> <div class="line-h svelte-ftbruv"></div> <div class="wrapper-content svelte-ftbruv"><!></div> <div class="item-border left svelte-ftbruv"></div> <div class="item-border top svelte-ftbruv"></div> <div class="item-border right svelte-ftbruv"></div> <div class="item-border bottom svelte-ftbruv"></div></div>');function Table(Y,T){push(T,!0);let k=prop(T,"styleCss",19,()=>({})),Z=state(""),ee=state(void 0),te=state(0),ne=state(0),me=state(0),Ve=state(proxy({left:0,top:0,width:0,height:0,display:"none,"})),Ye=state(proxy({left:0,top:0,width:0,height:0,display:"none,"}));setContext("setHead",ct=>{}),setContext("setResizing",ct=>{const ut=get$2(ee).getBoundingClientRect();if(ct.type==="move")ct.local==="right"&&set(te,proxy(clamp(ct.rect.left-ut.x+50,ct.clientX-ut.x,ut.width))),ct.local==="bottom"&&set(ne,proxy(clamp(ct.rect.top+15,ct.clientY-ut.y,ut.height-2)));else if(ct.type==="moveDown"){if(get$2(te)===0)return;api$1.eventBus.emit("table:change:heightOrWidth",{treeIndex:ct.treeIndex,newWidth:parseInt(`${get$2(te)-ct.rect.left+ut.x}`),newHeight:parseInt(`${get$2(ne)-ct.rect.top+ut.y}`)}),set(te,0),set(ne,0)}});const et=ct=>{if(get$2(ee)){const ut=get$2(ee).getBoundingClientRect(),ft=get$2(Ve).left+ut.x<ct.clientX&&ct.clientX<get$2(Ve).left+ut.x+get$2(Ve).width,vt=get$2(Ve).top+ut.y<ct.clientY&&ct.clientY<get$2(Ve).top+ut.y+get$2(Ve).height;ft&&vt?window.API.eventBus.emit("tableSelectLength",{selectLength:get$2(me)}):(window.API.eventBus.emit("tableSelectLength",{selectLength:1}),set(Ve,proxy({left:0,top:0,width:0,height:0,display:"none,"})),set(Ye,proxy({left:0,top:0,width:0,height:0,display:"none,"})))}};onMount(()=>{set(Z,proxy(camelToCss(k()))),window.API.eventBus.on(window.API.constant.excel.EXCEL_ITEM_CLICK,ct=>{requestAnimationFrame(()=>{if(get$2(ee)){const ut=get$2(ee).getBoundingClientRect();if(ct.type==="tableItem"){const ft=get$2(Ve).left+ut.x<ct.client.x&&ct.client.x<get$2(Ve).left+ut.x+get$2(Ve).width,vt=get$2(Ve).top+ut.y<ct.client.y&&ct.client.y<get$2(Ve).top+ut.y+28;if(ft&&vt)return;set(Ve,proxy({left:ct.rect.left-2-ut.left,top:ct.rect.top-2-ut.top-2,width:ct.rect.width+2,height:28,display:"block"})),set(Ye,proxy({left:ct.rect.left-2-ut.left,top:ct.rect.top-2-ut.top-2,width:ct.rect.width+2,height:28,display:"block"}))}else if(ct.type==="boxSelection"){if(ct.rect.length<0){if(get$2(Ye).top+ct.rect.length*26-26<-10)return;set(Ve,proxy({...get$2(Ve),top:get$2(Ye).top+ct.rect.length*26,height:-ct.rect.length*26+2+26}))}else if(ct.rect.length!==0){if(get$2(Ye).top+ct.rect.length*26+2-ut.height>0)return;get$2(Ye).top+ct.rect.length*26+2,set(Ve,proxy({...get$2(Ve),top:get$2(Ye).top,height:ct.rect.length*26+2}))}set(me,proxy(ct.rect.length))}}})}),document.addEventListener("mousedown",et),document.addEventListener("scroll",()=>{set(Ve,proxy({left:0,top:0,width:0,height:0,display:"none,"})),set(Ye,proxy({left:0,top:0,width:0,height:0,display:"none,"}))})}),onDestroy(()=>{document.removeEventListener("mousedown",et)});var tt=root$1v(),it=child(tt),st=sibling(it,2),nt=sibling(st,2),rt=child(nt);slot(rt,T,"default",{});var lt=sibling(nt,2),ot=sibling(lt,2),ht=sibling(ot,2),dt=sibling(ht,2);bind_this(tt,ct=>set(ee,ct),()=>get$2(ee)),template_effect(()=>{set_style(tt,get$2(Z)),set_style(it,`left:${get$2(te)}px;display:${get$2(te)?"block":"none"}`),set_style(st,`top:${get$2(ne)}px;display:${get$2(ne)?"block":"none"}`),set_style(lt,`display:${get$2(Ve).display??""};top:${get$2(Ve).top??""}px;left:${get$2(Ve).left??""}px;height:${get$2(Ve).height??""}px;width:3px;`),set_style(ot,`display:${get$2(Ve).display??""};top:${get$2(Ve).top??""}px;left:${get$2(Ve).left??""}px;height:3px;width:${get$2(Ve).width??""}px;`),set_style(ht,`display:${get$2(Ve).display??""};top:${get$2(Ve).top??""}px;left:${get$2(Ve).left+get$2(Ve).width-3}px;height:${get$2(Ve).height??""}px;width:3px;`),set_style(dt,`display:${get$2(Ve).display??""};top:${get$2(Ve).top+get$2(Ve).height-3}px;left:${get$2(Ve).left??""}px;height:3px;width:${get$2(Ve).width??""}px;`)}),append(Y,tt),pop()}var root$1u=template('<div class="wrapper svelte-1gybk2f"><!></div>');function TableBody(Y,T){push(T,!0);let k=prop(T,"styleCss",19,()=>({})),Z=state("");onMount(()=>{set(Z,proxy(camelToCss(k())))});var ee=root$1u(),te=child(ee);slot(te,T,"default",{}),template_effect(()=>set_style(ee,get$2(Z))),append(Y,ee),pop()}const mouseDoubleClick=(Y,T,k,Z,ee)=>{T().source.id==="structManagement"||T().source.id==="variableManagement"||(set(k,proxy(T().source[Z.label])),tick().then(()=>{get$2(ee)&&get$2(ee).focus()}))};var on_mousedown$2=(Y,T)=>{T(Y)},on_click$e=(Y,T)=>{Y.preventDefault(),T()},root_2$8=template("<button></button>"),root_3$9=template('<button class="onShow button-op iconfont icon-arrow-right svelte-xk4xlc"></button>'),root_1$o=template('<div class="wrapper-label svelte-xk4xlc"><div></div> <!> <div class="wrapper-slot svelte-xk4xlc"><!></div></div>'),root_4$5=template('<div class="wrapper-input svelte-xk4xlc"><input class="clear-input svelte-xk4xlc"></div>'),root$1t=template("<div><!> <!></div>");function TableTreeNode(Y,T){push(T,!0);let k=prop(T,"styleCss",19,()=>({})),Z=prop(T,"treeType",3,"child"),ee=prop(T,"treeNode",15),te=state(""),ne=state(proxy(T.width)),me=state(void 0),Ve=state(!1),Ye=state(""),et=state(void 0);const tt=getContext("setSelectIndex"),it=()=>{tt({treeId:ee().treeId})};let st=!1,nt=!1;const rt=getContext("setResizing"),lt=(Et,Tt)=>{const xt=Et.getBoundingClientRect();return Tt.clientX>xt.right-5&&Tt.clientX<xt.right},ot=(Et,Tt)=>{const xt=Et.getBoundingClientRect();return Tt.clientY>xt.bottom-5&&Tt.clientY<xt.bottom},ht=Et=>{if(!st)return;nt=!0,Et.clientX,Et.clientY,document.body.style.userSelect="none";const Tt=yt=>{rt({clientX:yt.clientX,clientY:yt.clientY,type:"move",rect:get$2(me).getBoundingClientRect(),local:get$2(me).style.cursor==="col-resize"?"right":"bottom"})},xt=yt=>{rt({clientX:yt.clientX,clientY:yt.clientY,treeIndex:T.colIndex,rect:get$2(me).getBoundingClientRect(),type:"moveDown"}),nt=!1,document.body.style.userSelect="",window.removeEventListener("mousemove",Tt),window.removeEventListener("mouseup",xt)};window.addEventListener("mousemove",Tt),window.addEventListener("mouseup",xt)},dt=Et=>{nt||(get$2(me)&&lt(get$2(me),Et)?(st=!0,get$2(me).style.cursor="col-resize"):get$2(me)&&ot(get$2(me),Et)||get$2(me)&&!nt&&(get$2(me).style.cursor="",st=!1))},ct=Et=>{let Tt={};Tt[T.label]=get$2(Ye);const xt=validateCVariableName(get$2(Ye));xt.valid?(api$1.eventBus.emit(api$1.constant.enum.UPDATE_TREENODE_STRUCT_AND_VARRELATION_INTEGRATE,{source:ee().source,newValue:Tt}),ee(ee().source[T.label]=get$2(Ye),!0)):(set(Ye,proxy(ee().source[api$1.structAndVarRelationIntegrate.getRule().label])),api$1.message.globalMessageNotice({type:"error",message:xt.message})),set(Ve,!1)};user_effect(()=>{T.width&&requestAnimationFrame(()=>{set(ne,proxy(T.width)),set(te,get$2(te)+";flex:none;")})}),onMount(()=>{set(te,proxy(camelToCss(k()))),document.addEventListener("mousemove",dt),api$1.eventBus.on("table:change:heightOrWidth",Et=>{T.colIndex===Et.treeIndex&&set(ne,proxy(Et.newWidth))}),set(Ye,proxy(ee().name))});var ut=root$1t();ut.__mousedown=[on_mousedown$2,ht];var ft=child(ut);{var vt=Et=>{var Tt=root_1$o(),xt=child(Tt),yt=sibling(xt,2);{var St=Ot=>{var Dt=root_2$8();Dt.__click=[on_click$e,it],template_effect(()=>set_class(Dt,1,`button-op iconfont icon-arrow-${(ee().expanded?"down":"right")??""}`,"svelte-xk4xlc")),append(Ot,Dt)},At=Ot=>{var Dt=root_3$9();append(Ot,Dt)};if_block(yt,Ot=>{Z()==="parent"?Ot(St):Ot(At,!1)})}var Ct=sibling(yt,2);Ct.__dblclick=[mouseDoubleClick,ee,Ye,T,et];var It=child(Ct);slot(It,T,"default",{}),template_effect(()=>{set_style(Tt,`${T.height?`height:${T.height}px`:""};${get$2(ne)?`width:${get$2(ne)}px`:""}`),set_style(xt,`padding-left:${ee().level*16}px`)}),append(Et,Tt)},mt=Et=>{var Tt=root_4$5(),xt=child(Tt);bind_this(xt,yt=>set(et,yt),()=>get$2(et)),template_effect(()=>set_style(Tt,`${T.height?`height:${T.height}px`:""};${get$2(ne)?`width:${get$2(ne)}px`:""}`)),event("blur",xt,ct),bind_value(xt,()=>get$2(Ye),yt=>set(Ye,yt)),append(Et,Tt)};if_block(ft,Et=>{get$2(Ve)?Et(mt,!1):Et(vt)})}var _t=sibling(ft,2);DragLine(_t,{locationIndex:-1,direction:"horizontal"}),bind_this(ut,Et=>set(me,Et),()=>get$2(me)),template_effect(()=>set_class(ut,1,`wrapper-wrappper ${(T.treeIndex%2===0?"":"wrapper-background-deep")??""}`,"svelte-xk4xlc")),append(Y,ut),pop()}delegate(["mousedown","click","dblclick"]);var root_1$n=template("<!> <!>",1),root$1s=template('<div class="wrapper svelte-1o0xjh9"><!></div>');function MCXAExcel(Y,T){push(T,!0);let k=prop(T,"headData",15),Z=state(proxy(new NewTreeFlattener)),ee=state(proxy([])),te=state(void 0),ne=state(!1),me=[];const Ve=()=>{const it=new NewTreeFlattener;it.build(T.treeData,api$1.structAndVarRelationIntegrate.getRule(),{autoExpand:!0}),set(Z,proxy(it));let st=get$2(Z).getShow();set(ee,proxy(st)),me=k().map(nt=>({...nt})),api$1.eventBus.on("table:change:heightOrWidth",nt=>{k(k()[nt.treeIndex].width=nt.newWidth,!0),api$1.structAndVarRelationIntegrate.setHeadData([...k()])})};onMount(()=>{Ve(),window.addEventListener("mousedown",it=>{var st;(st=get$2(te))!=null&&st.contains(it.target)?set(ne,!0):set(ne,!1)})}),user_effect(()=>{T.treeData,requestAnimationFrame(()=>{Ve()})}),setContext("setSelectIndex",it=>{let st=get$2(Z).getNodeByTreeId(it.treeId);st.expanded=!(st!=null&&st.expanded),set(ee,proxy(get$2(Z).getShow()))}),setContext("setChangeWidthAndHeight",it=>{requestAnimationFrame(()=>{if(it.isMove&&it.localIndex>=0&&it.localIndex<k().length-1){let st=Array.from([...k()]),nt=clamp(50,me[it.localIndex].width+it.changeState,999999999999);st[it.localIndex].width=Math.floor(nt),k(st)}else me=k().map(st=>({...st}))})});const Ye=(it,st)=>typeof st=="function"?st(it):it.source[st];var et=root$1s(),tt=child(et);Table(tt,{get headData(){return k()},children:(it,st)=>{var nt=root_1$n(),rt=first_child(nt);TableHead(rt,{get headData(){return k()}});var lt=sibling(rt,2);TableBody(lt,{children:(ot,ht)=>{var dt=comment(),ct=first_child(dt);each(ct,17,()=>get$2(ee),index,(ut,ft,vt)=>{TableRow(ut,{children:(mt,_t)=>{var Et=comment(),Tt=first_child(Et);each(Tt,17,k,index,(xt,yt,St)=>{var At=comment(),Ct=first_child(At);{var It=Dt=>{const Mt=derived$1(()=>{var Ht;return(Ht=get$2(Z).getChildren(get$2(ee)[vt].treeId))!=null&&Ht.length?"parent":"child"}),$t=derived$1(()=>({width:`${get$2(yt).width}px`}));TableTreeNode(Dt,{get treeType(){return get$2(Mt)},treeIndex:vt,colIndex:St,get height(){return get$2(yt).height},get width(){return get$2(yt).width},get label(){return get$2(yt).label},get styleCss(){return get$2($t)},get treeNode(){return get$2(ee)[vt]},set treeNode(Ht){get$2(ee)[vt]=Ht},children:(Ht,Ft)=>{var jt=text$1();template_effect(Gt=>set_text(jt,Gt),[()=>Ye(get$2(ee)[vt],get$2(yt).value)]),append(Ht,jt)},$$slots:{default:!0}})},Ot=Dt=>{const Mt=derived$1(()=>Ye(get$2(ee)[vt],get$2(yt).value));TableItem(Dt,{get width(){return get$2(yt).width},treeIndex:St,rowIndex:vt,get label(){return get$2(yt).label},get type(){return get$2(yt).type},get headItem(){return get$2(yt)},get treeFlattener(){return get$2(Z)},get isFocus(){return get$2(ne)},get value(){return get$2(Mt)},get treeNode(){return get$2(ee)[vt]},set treeNode($t){get$2(ee)[vt]=$t}})};if_block(Ct,Dt=>{get$2(yt).value===T.treeKey?Dt(It):Dt(Ot,!1)})}append(xt,At)}),append(mt,Et)},$$slots:{default:!0}})}),append(ot,dt)},$$slots:{default:!0}}),append(it,nt)},$$slots:{default:!0}}),bind_this(et,it=>set(te,it),()=>get$2(te)),append(Y,et),pop()}var root$1r=template('<div class="wrapper svelte-1ya4rni"><div class="wrapper-excel svelte-1ya4rni"><!></div></div>');function VariableExcel(Y,T){push(T,!0);let k=state(proxy([])),Z=state(proxy([]));onMount(()=>{var me;if(window.API.eventBus.on(window.API.constant.enum.VARIABLE_EXCEL_OPEN,Ve=>{set(k,proxy(Ve.mockTreeData)),set(Z,proxy(Ve.headData)),get$2(k)[0]&&get$2(k)[0].id&&localStorage.setItem("VARIABLEEXCEL",get$2(k)[0].id)}),get$2(k).length===0){const Ve=localStorage.getItem("VARIABLEEXCEL");if(Ve){const Ye=window.API.structAndVarRelationIntegrate.getTreeFlattener();set(k,proxy(Ye.buildSourceTree((me=Ye.getNodeBySourceId(Ve))==null?void 0:me.treeId)??[])),set(Z,proxy(window.API.structAndVarRelationIntegrate.getHeadData()))}}});var ee=root$1r(),te=child(ee),ne=child(te);MCXAExcel(ne,{treeKey:"name",get headData(){return get$2(Z)},set headData(me){set(Z,proxy(me))},get treeData(){return get$2(k)},set treeData(me){set(k,proxy(me))}}),append(Y,ee),pop()}const rightClickOptionFunc=(Y,T)=>createNewNode(Y.value.type,Y.sourceData.treeNode,T),createNewNode=(Y,T,k)=>{var Z;switch(Y){case window.API.constant.enum.NEW_STRUCT_SET:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[0].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-structure",optionType:window.API.constant.enum.STRUCT_VAR_RELATION_STRUCT_ASSEMBLY,connectionParameters:""},T.treeId);break;case window.API.constant.enum.NEW_STRUCT_ELEMENT:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.optionManager.getTypeOptions()[0].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"file",iconType:"icon-jiegouyuansu",optionType:window.API.constant.enum.STRUCT_VAR_RELATION_STRUCT_ELEMENT,connectionParameters:""},T.treeId);break;case window.API.constant.enum.NEW_VARIABLE_SET:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[0].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-bianliangjihe",connectionParameters:"",optionType:window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE_ASSEMBLY},T.treeId);break;case window.API.constant.enum.NEW_VARIABLE_ELEMENT:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.optionManager.getTypeOptions()[0].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"file",iconType:"icon-bianliang",connectionParameters:"",optionType:window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE_ELEMENT},T.treeId);break;case window.API.constant.enum.RENAME:k.rename(T.treeId);break;case window.API.constant.enum.DELETE:k.deleteTreeNode(T.treeId);break;case window.API.constant.enum.NEW_CONNECTION_SET:{k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[1].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-a-bianzu12beifen4",connectionParameters:"",optionType:window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE_CONNECT},T.treeId);break}case window.API.constant.enum.NEW_CONNECTION_ELEMENT:{k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[2].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"file",iconType:"icon-a-bianzu11",connectionParameters:"",optionType:window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE_ELEMENT},T.treeId);break}case window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[0].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-a-bianzu12",connectionParameters:"",optionType:window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE_ASSEMBLY},T.treeId);break;case window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE_ASSEMBLY:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:"",length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"file",iconType:"icon-a-bianzu10beifen2",connectionParameters:"",optionType:window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE_ELEMENT},T.treeId);break;case window.API.constant.enum.STRUCT_VAR_RELATION_STRUCT:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[0].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-a-bianzu10",connectionParameters:"",optionType:window.API.constant.enum.STRUCT_VAR_RELATION_STRUCT_ASSEMBLY},T.treeId);break;case window.API.constant.enum.STRUCT_VAR_RELATION_STRUCT_ASSEMBLY:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:"",length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"file",iconType:"icon-a-bianzu9",connectionParameters:"",optionType:window.API.constant.enum.STRUCT_VAR_RELATION_STRUCT_ELEMENT},T.treeId);break}switch(Y){case window.API.constant.enum.CREATE_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_GROUP:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[5].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-bianliangjihe",connectionParameters:"",optionType:window.API.constant.enum.RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_GROUP},T.treeId);break;case window.API.constant.enum.CREATE_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_ITEM:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.optionManager.getTypeOptions()[0].value,length:0,formatAdjustment:"",connection:"internalVariable",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"file",iconType:"icon-bianliang",connectionParameters:"",optionType:window.API.constant.enum.RIGHT_CLICK_STRUCT_VAR_RELATION_INTERNAL_VARIABLE_ITEM},T.treeId);break}switch(Y){case window.API.constant.enum.CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP:{const ee=k.addNewNode({id:generateUniqueId$1(),name:"Modbus TCPIP",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[6].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-ModbusTCP",connectionParameters:"",optionType:window.API.constant.enum.RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP},T.treeId,!1);return ee&&k.addNewNode({id:generateUniqueId$1(),name:"Modbus TCPIP Groups",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[7].value,length:"",formatAdjustment:"",connection:"",group:ee.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-Modbus",aconnectionParameters:"",optionType:window.API.constant.enum.RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP_GROUP},ee.treeId,!1),window.API.constant.rightClickOption.get(window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE)[0][0].children[0][0].hiddenState=!0,window.API.util.rightClickOptionSaveLocalStorage(),!0}case window.API.constant.enum.CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP_GROUP:k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[7].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"folder",iconType:"icon-Modbus",connectionParameters:"",optionType:window.API.constant.enum.RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP_GROUP},T.treeId);break;case window.API.constant.enum.CREATE_STRUCT_VAR_RELATION_MODBUS_TCPIP_ITEM:(Z=window.API.agreementTemplate.getTemplate(window.API.constant.agreementTemplate.Modbus_RTU_Over_TCP))==null||Z.then(ee=>{k.addNewNode({id:generateUniqueId$1(),name:"",comment:"",dataType:window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE)[8].value,length:"",formatAdjustment:"",connection:"",group:T.source.id,reg:"",address:"",linearCalibration:"",asRangeFrom:"",asRangeTo:"",osRangeFrom:"",osRangeTo:"",lowerLimit:"",upperLimit:"",type:"file",iconType:"icon-tcp_ip",connectionParameters:"",agreementId:window.API.constant.agreementTemplate.Modbus_RTU_Over_TCP,agreement:deepClone$1(ee),optionType:window.API.constant.enum.RIGHT_CLICK_STRUCT_VAR_RELATION_MODBUS_TCPIP_ITEM},T.treeId)});break}return Y},updateExcel=(Y,T,k=!0)=>{k||window.API.eventBus.emit(window.API.constant.enum.VARIABLE_EXCEL_OPEN,{openStatus:k,mockTreeData:[],headData:[]});let Z=null;if(Y==="root")Z=T.buildSourceTree(Y);else{const ee=T.getNodeBySourceId(Y);Z=T.buildSourceTree(ee.treeId)}window.API.eventBus.emit(window.API.constant.enum.VARIABLE_EXCEL_OPEN,{openStatus:k,mockTreeData:Z,headData:window.API.structAndVarRelationIntegrate.getHeadData()})};var root_1$m=template('<div class="wrapper svelte-8ju2mq"><!></div>'),root$1q=template("<!> <!>",1);function StructAndVarRelationIntegrate(Y,T){push(T,!0),T.params;let k=state(proxy({show:!1,left:0,top:0,operationEventCollection:[],sourceData:{treeNode:new Object}})),Z=state(proxy([]));const ee={};let te=window.API.structAndVarRelationIntegrate.getRule();const ne=it=>{set(k,proxy({show:!0,left:it.target.clientX,top:it.target.clientY,operationEventCollection:window.API.constant.rightClickOption.get(it[te.optionType])??[],sourceData:{treeNode:it.treeNode}}))};let me=state(void 0);onMount(()=>{set(me,proxy(window.API.structAndVarRelationIntegrate.getTreeFlattener())),get$2(me).build(window.API.structAndVarRelationIntegrate.getData(),te,ee),window.API.structAndVarRelationIntegrate.register(get$2(me)),window.API.eventBus.on(window.API.constant.enum.UPDATE_TREENODE_STRUCT_AND_VARRELATION_INTEGRATE,it=>{get$2(me).changeNode(it.source,it.newValue,it.selectLength,it.treeFlattener),window.API.structAndVarRelationIntegrate.store(get$2(me).buildSourceTree()),window.API.eventBus.emit(`tree:flattener:update:${get$2(me).getId()}`,{}),get$2(Z).length>0&&updateExcel(get$2(Z)[0],get$2(me))})});const Ve=(it,st)=>{const nt=validateCVariableName(st);try{if(get$2(me)){if(it.source.dataType===window.API.constant.structAndVarRelation.MODBUS_TCPIP_CONNECTION){const rt=get$2(me).getNodeBySourceId(it.source.id),lt=get$2(me).getNodeBySourceId(rt==null?void 0:rt.source.group),ot=get$2(me).getNodeBySourceId(lt==null?void 0:lt.source.group),ht=get$2(me).getChildren(ot==null?void 0:ot.treeId);for(let dt=0;dt<(ht==null?void 0:ht.length);dt++){const ct=ht[dt],ut=get$2(me).getChildren(ct.treeId);for(let ft=0;ft<(ut==null?void 0:ut.length);ft++){const vt=ut[ft];if(vt.source.name===st&&vt.source.id!==it.source.id)return window.API.message.globalMessageNotice({type:"error",message:"The names between protocols should be unique."}),it.treeLabel===""?get$2(me).deleteTreeNode(it.treeId):st=it.treeLabel,{result:!1}}}}if(nt.valid){if(!get$2(me).updateTreeNode(st,it.treeId))return window.API.message.globalMessageNotice({type:"error",message:"The name is duplicated!!!"}),get$2(me).deleteTreeNode(it.treeId),{result:!1}}else it.treeLabel===""?get$2(me).deleteTreeNode(it.treeId):st=it.treeLabel,window.API.message.globalMessageNotice({type:"error",message:nt.message});return st===""?(window.API.message.globalMessageNotice({type:"error",message:"cannot be empty!!!"}),get$2(me).deleteTreeNode(it.treeId),{result:!1}):get$2(me).updateTreeNode(st,it.treeId)?(get$2(Z).length>0&&(updateExcel(get$2(Z)[0],get$2(me)),window.API.structAndVarRelationIntegrate.store(get$2(me).buildSourceTree())),{result:!0}):(window.API.message.globalMessageNotice({type:"error",message:"The name is duplicated!!!"}),get$2(me).deleteTreeNode(it.treeId),{result:!1})}}catch{return{result:!1}}return{result:!0}};onDestroy(()=>{window.API.structAndVarRelationIntegrate.setData(get$2(me).buildSourceTree()),window.API.structAndVarRelationIntegrate.store(get$2(me).buildSourceTree()),updateExcel("root",get$2(me),!1)});var Ye=root$1q(),et=first_child(Ye);RegionalDivision(et,{get panelApi(){return T.api},children:(it,st)=>{var nt=root_1$m(),rt=child(nt);CommonTree(rt,spread_props({treeData:window.API.structAndVarRelationIntegrate.getData(),get treeFlattenerData(){return get$2(me)}},ee,{onRightClick:ne,get selectNode(){return get$2(Z)},onrename:Ve,onkeydown:lt=>{const ot=lt.event;ot.stopPropagation();const ht=lt.treeNode;(ot.key==="Enter"||ot.key===" ")&&ot.preventDefault(),ht.parentId!=="root"&&ot.key==="F2"&&(ot.preventDefault(),get$2(me).rename(ht.treeId))},onSelect:lt=>{set(Z,proxy([lt.source.id])),updateExcel(lt.source.id,get$2(me))}})),append(it,nt)},$$slots:{default:!0}});var tt=sibling(et,2);RightClickMenuBar(tt,{get show(){return get$2(k).show},get top(){return get$2(k).top},get left(){return get$2(k).left},get operationEventCollection(){return get$2(k).operationEventCollection},get sourceData(){return get$2(k).sourceData},onSelectMenuBar:it=>{if(get$2(me)){const st=rightClickOptionFunc(it,get$2(me));st===window.API.constant.enum.DELETE&&get$2(Z)&&(window.API.structAndVarRelationIntegrate.store(get$2(me).buildSourceTree()),window.API.constant.rightClickOption.get(window.API.constant.enum.STRUCT_VAR_RELATION_VARIABLE)[0][0].children[0][0].hiddenState=!1,window.API.util.rightClickOptionSaveLocalStorage(),updateExcel(get$2(Z)[0],get$2(me))),st===!0&&window.API.structAndVarRelationIntegrate.store(get$2(me).buildSourceTree())}}}),append(Y,Ye),pop()}var root$1p=template('<div class="wrapper svelte-ze1hg8"><!></div>');function VarStructIntegrator(Y){var T=root$1p(),k=child(T);CommonTree(k,{}),append(Y,T)}const dockComponent={AppLeftTab2,Hierachy,Variable,Structure,Assert,CreateNewFont,Animation:Animation$1,PropWidget,Themes,VariableDetail,VariableExcel,StructAndVarRelationIntegrate,VarStructIntegrator},dockTabComponent={DockTab,DockTabBottom};var root_1$l=template('<div class="wrapper svelte-8ul96r"><!></div>');function AppLeftTab(Y,T){push(T,!0);let k=state(void 0);RegionalDivisionDockView(Y,{get dockViewApi(){return get$2(k)},children:(Z,ee)=>{var te=root_1$l(),ne=child(te);DockView(ne,{components:dockComponent,tabs:{components:dockTabComponent},onReady:async({api:me})=>{api$1.dockView.registerDockView(me.id,me),set(k,proxy(me)),me.onWillShowOverlay(Ve=>{(Ve.position==="right"||Ve.position==="left")&&Ve.preventDefault()}),me.onWillDrop(Ve=>{(Ve.position==="right"||Ve.position==="left")&&Ve.preventDefault()})}}),append(Z,te)},$$slots:{default:!0}}),pop()}function saveLayout(Y,T){Y&&Y.onDidLayoutChange(()=>{const k=Y.toJSON();let Z=[];if(k.views)for(const te of k.views)Z.push({priority:te.priority,size:te.size,name:te.name,data:{component:te.data.component,id:te.data.id,maximumSize:te.data.maximumSize,minimumSize:te.data.minimumSize}});const ee=JSON.stringify({...k,views:Z});localStorage.setItem(T,ee)})}function loadLayout(Y,T){const k=localStorage.getItem(T);if(!k)return!1;const Z=JSON.parse(k);return Y.fromJSON(Z),!0}var root_1$k=template('<span class="wrapper svelte-xtmzg7"><!></span>');function PropsPanel(Y,T){push(T,!0);const k="drawsys5/PropsPanel/dockview";let Z=state(void 0);onMount(()=>{saveLayout(get$2(Z),k)}),RegionalDivisionDockView(Y,{get dockViewApi(){return get$2(Z)},children:(ee,te)=>{var ne=root_1$k(),me=child(ne);DockView(me,{components:dockComponent,tabs:{components:dockTabComponent},onReady:({api:Ve})=>{set(Z,proxy(Ve)),api$1.dockView.registerDockView(Ve.id,Ve)}}),append(ee,ne)},$$slots:{default:!0}}),pop()}var root$1o=template('<div class="w-full h-full"><!></div>');function AppPropsTab(Y,T){var k=root$1o(),Z=child(k);PropsPanel(Z,spread_props(()=>T.params)),append(Y,k)}class LV_Button extends LV_Obj{}class LVGL_ShapeButton extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Button")}lvglCreate(k){this._lvglObj=Module.lv_button_create(k),this._widget=new LV_Button(this.Type,this._lvglObj)}createStyle(k){var ee;const Z=(ee=this._styles.find(te=>te[0]==="Main"))==null?void 0:ee[1];Z&&Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)])}}class LV_Panel extends LV_Obj{}const ar=class ar extends LvglBase{constructor(T,k){k!=null?ar.id=k:k=ar.id+1,super("Panel",k.toString())}lvglCreate(T){this._lvglObj=Module.lv_obj_create(T),this._widget=new LV_Panel(this.Type,this._lvglObj)}createStyle(T){var ee;const k=(ee=this._styles.find(te=>te[0]==="Main"))==null?void 0:ee[1];k&&(k.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,T)]),k.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,T)]));const Z=CreateBaseStyle.createStyles(lv_part_t.LV_PART_SCROLLBAR,T,this.lvglObj,this.State);this._styles.push(["SCROLLBAR",Z])}};bt(ar,"id",1);let LVGL_ShapePanel=ar;class LV_Image extends LV_Obj{constructor(){super(...arguments);bt(this,"imgDsc",null);bt(this,"_assert","");bt(this,"_pivotX",0);bt(this,"_pivotY",0);bt(this,"_rotation",0);bt(this,"_scale",256);bt(this,"_flag",4);bt(this,"_isAlign",!0)}get assert(){return this._assert}set assert(k){if(this.imgDsc&&(Module.lv_image_buf_free(this.imgDsc),this.imgDsc=null),!k){Module.lv_image_set_src(this.lvObj,null);return}Module.lv_obj_update_layout(this.lvObj);let Z=Module.lv_obj_get_width(this.lvObj),ee=Module.lv_obj_get_height(this.lvObj);this.imgDsc=lv_fmt_img_data(k,Z,ee,this._flag,this._isAlign),Module.lv_image_set_src(this.lvObj,this.imgDsc),this._assert=k}get pivotX(){return this._pivotX}set pivotX(k){this._pivotX=k,Module.lv_image_set_pivot(this.lvObj,this._pivotX,this._pivotY)}get pivotY(){return this._pivotY}set pivotY(k){this._pivotY=k,Module.lv_image_set_pivot(this.lvObj,this._pivotX,this._pivotY)}get rotation(){return this._rotation=Module.lv_image_get_rotation(this.lvObj),this._rotation}set rotation(k){(k<0||k>360)&&console.log("Rotation value must be between 0 and 360 degrees."),this._rotation=k,Module.lv_image_set_rotation(this.lvObj,k)}get scale(){return this._scale}set scale(k){this._scale=k,(k<0||k>256)&&console.log("Scale value must be between 0 and 256."),Module.lv_image_set_scale(this.lvObj,k)}get flag(){return this._flag}set flag(k){if(this._assert==="")return;this.imgDsc&&Module.lv_image_buf_free(this.imgDsc);const Z=Module.lv_obj_get_width(this.lvObj),ee=Module.lv_obj_get_height(this.lvObj);this._flag=k,this.imgDsc=lv_fmt_img_data(this._assert,Z,ee,this._flag,this._isAlign),Module.lv_image_set_src(this.lvObj,this.imgDsc)}get isAlign(){return this._isAlign}set isAlign(k){if(this._assert==="")return;this.imgDsc&&Module.lv_image_buf_free(this.imgDsc),this._isAlign=k;const Z=Module.lv_obj_get_width(this.lvObj),ee=Module.lv_obj_get_height(this.lvObj);this.imgDsc=lv_fmt_img_data(this._assert,Z,ee,this._flag,this._isAlign),Module.lv_image_set_src(this.lvObj,this.imgDsc)}updateWidget(){this.assert=this._assert}}class LVGL_ShapeImage extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Image")}lvglCreate(k){this._lvglObj=Module.lv_image_create(k),this.updateLayout(),this._widget=new LV_Image(this.Type,this._lvglObj)}updateLayout(){if(!this.State||!this._lvglObj)return;const k=this.State.unscaledWidth,Z=this.State.unscaledHeight;Module.lv_obj_set_size(this._lvglObj,k,Z)}createStyle(k){var ee;const Z=(ee=this._styles.find(te=>te[0]==="Main"))==null?void 0:ee[1];Z&&(Z.push(["Image",new LV_IMG_Background(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]))}}class LV_Container extends LV_Obj{}class LVGL_ShapeContainer extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Container")}lvglCreate(k){this._lvglObj=Module.lv_button_create(k),this._widget=new LV_Container(this.Type,this._lvglObj)}createStyle(k){var te;const Z=(te=this._styles.find(ne=>ne[0]==="Main"))==null?void 0:te[1];Z&&(Z.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]));const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_SCROLLBAR,k,this.lvglObj,this.State);this._styles.push(["SCROLLBAR",ee])}}class LV_Calendar extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"_showedMonth",0);bt(this,"_showedYear",0);bt(this,"_todayYear",0);bt(this,"_todayMonth",0);bt(this,"_todayDay",0);const ee=new Date;this.todayYear=ee.getFullYear(),this.todayMonth=ee.getMonth()+1,this.todayDay=ee.getDate(),this.showedYear=this.todayYear,this.showedMonth=this.todayMonth}get showedMonth(){return this._showedMonth}set showedMonth(k){this._showedMonth=k,Module.lv_calendar_set_showed_date(this.lvObj,this._showedYear,this._showedMonth)}get showedYear(){return this._showedYear}set showedYear(k){this._showedYear=k,Module.lv_calendar_set_showed_date(this.lvObj,this._showedYear,this._showedMonth)}get todayYear(){return this._todayYear}set todayYear(k){this._todayYear=k,this.showedYear=k,Module.lv_calendar_set_today_date(this.lvObj,this._todayYear,this._todayMonth,this._todayDay)}get todayMonth(){return this._todayMonth}set todayMonth(k){this._todayMonth=k,this.showedMonth=k,Module.lv_calendar_set_today_date(this.lvObj,this._todayYear,this._todayMonth,this._todayDay)}get todayDay(){return this._todayDay}set todayDay(k){this._todayDay=k,Module.lv_calendar_set_today_date(this.lvObj,this._todayYear,this._todayMonth,this._todayDay)}}class LVGL_ShapeCalendar extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Calendar")}lvglCreate(k){this._lvglObj=Module.lv_calendar_create(k),this._widget=new LV_Calendar(this.Type,this._lvglObj)}createStyle(k){var te;const Z=(te=this._styles.find(ne=>ne[0]==="Main"))==null?void 0:te[1];Z&&Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State)]);const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_ITEMS,k,this.lvglObj,this.State);this._styles.push(["ITEMS",ee])}}class LV_CheckBox extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"_title","checkbox");this._title=Module.lv_checkbox_get_text(Z)}get title(){return this._title}set title(k){this._title=k,Module.lv_checkbox_set_text(this.lvObj,k)}}class LVGL_ShapeCheckBox extends LvglBase{constructor(){super(...arguments);bt(this,"Type","CheckBox")}lvglCreate(k){this._lvglObj=Module.lv_checkbox_create(k),this._widget=new LV_CheckBox(this.Type,this._lvglObj)}createStyle(k){var ee;const Z=(ee=this._styles.find(te=>te[0]==="Main"))==null?void 0:ee[1];Z&&(Z.splice(0,Z.length),Z.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)])),CreateBaseStyle.createStyles(lv_part_t.LV_PART_KNOB,k,this.lvglObj,this.State)}}class LV_ColorWheel extends LV_Obj{constructor(){super(...arguments);bt(this,"_mode",0)}get mode(){return this._mode}set mode(k){this._mode=k,Module.lv_colorwheel_set_mode(this.lvObj,k)}}class LVGL_ShapeColorWheel extends LvglBase{constructor(){super(...arguments);bt(this,"Type","ColorWheel")}lvglCreate(k){this._lvglObj=Module.lv_arc_create(k),this._widget=new LV_ColorWheel(this.Type,this._lvglObj)}createStyle(k){var te;const Z=(te=this._styles.find(ne=>ne[0]==="Main"))==null?void 0:te[1];Z&&(Z.push(["Arc",new LV_ARC_Background(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]));const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_KNOB,k,this.lvglObj,this.State);this._styles.push(["KNOB",ee])}}class LV_ImgButton extends LV_Obj{}class LVGL_ShapeImgButton extends LvglBase{constructor(){super(...arguments);bt(this,"Type","ImgButton")}lvglCreate(k){this._lvglObj=Module.lv_imagebutton_create(k),this._widget=new LV_ImgButton(this.Type,this._lvglObj)}createStyle(k){var ee;const Z=(ee=this._styles.find(te=>te[0]==="Main"))==null?void 0:ee[1];Z&&(Z.push(["Text",new LV_Text(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]))}}class LV_Switch extends LV_Obj{}class LVGL_ShapeSwitch extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Switch")}lvglCreate(k){this._lvglObj=Module.lv_switch_create(k),this._widget=new LV_Switch(this.Type,this._lvglObj)}createStyle(k){var me;const Z=(me=this._styles.find(Ve=>Ve[0]==="Main"))==null?void 0:me[1];if(Z){const Ve=Z.findIndex(Ye=>Ye[0]==="Paddings");Ve!==-1&&Z.splice(Ve,1),Z.push(["Animation",new LV_Animation(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)]),Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State,k)])}const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_INDICATOR,k,this.lvglObj,this.State);this._styles.push(["INDICATOR",ee]);const te=ee.findIndex(Ve=>Ve[0]==="Paddings");te!==-1&&ee.splice(te,1);const ne=CreateBaseStyle.createStyles(lv_part_t.LV_PART_KNOB,k,this.lvglObj,this.State);this._styles.push(["KNOB",ne])}}class LV_Bar extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"_min",0);bt(this,"_max",100);bt(this,"_value",25);bt(this,"_mode",lv_bar_mode_t.LV_BAR_MODE_NORMAL);bt(this,"_startValue",0);this._min=Module.lv_bar_get_min_value(Z),this._max=Module.lv_bar_get_max_value(Z),this._value=Module.lv_bar_get_value(Z),this._mode=Module.lv_bar_get_mode(Z),this._startValue=Module.lv_bar_get_start_value(Z)}get min(){return this._min}set min(k){this._min=k,Module.lv_bar_set_range(this.lvObj,this._min,this._max)}get max(){return this._max}set max(k){this._max=k,Module.lv_bar_set_range(this.lvObj,this._min,this._max)}get value(){return this._value}set value(k){this._value=k,Module.lv_bar_set_value(this.lvObj,this._value,lv_anim_enable_t.LV_ANIM_ON)}get mode(){return this._mode}set mode(k){this._mode=k,Module.lv_bar_set_mode(this.lvObj,this._mode)}get startValue(){return this._startValue}set startValue(k){this._startValue=k,Module.lv_bar_set_start_value(this.lvObj,this._startValue,!0)}}class LVGL_ShapeBar extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Bar")}lvglCreate(k){this._lvglObj=Module.lv_bar_create(k),this._widget=new LV_Bar("Bar",this._lvglObj)}createStyle(k){var ne;const Z=(ne=this._styles.find(me=>me[0]==="Main"))==null?void 0:ne[1];Z&&Z.push(["Transform",new LV_Transform(this.lvglObj,lv_part_t.LV_PART_MAIN,this.State)]);const ee=CreateBaseStyle.createStyles(lv_part_t.LV_PART_INDICATOR,k,this.lvglObj,this.State);this._styles.push(["INDICATOR",ee]);const te=ee.findIndex(me=>me[0]==="Paddings");te!==-1&&ee.splice(te,1)}setValue(k){const Z=parseInt(k);isNaN(Z)||(this._widget.value=Z)}}class LV_Span extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"span");bt(this,"_text","");this.span=Module.lv_spangroup_new_span(Z),this.text="Span"}get text(){return this._text}set text(k){this._text=k,Module.lv_span_set_text(this.span,k)}}class LVGL_ShapeSpan extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Span")}lvglCreate(k){this._lvglObj=Module.lv_spangroup_create(k),this._widget=new LV_Span("Span",this._lvglObj)}}class LV_Win extends LV_Obj{constructor(T,k){super(T,k)}}const or=class or extends LvglBase{constructor(T,k){k!=null?or.id=k:k=or.id+1,super("Win",k.toString())}lvglCreate(T){this._lvglObj=Module.lv_win_create(T),this._widget=new LV_Win("Win",this._lvglObj)}};bt(or,"id",1);let LVGL_ShapeWin=or;class LV_Table extends LV_Obj{constructor(k,Z){super(k,Z);bt(this,"_rowCount",0);bt(this,"_columnCount",0);bt(this,"_columnWidth",0);this.columnWidth=100;const ee=this.lvObj;Module.lv_table_set_cell_value(ee,0,0,"Name"),Module.lv_table_set_cell_value(ee,1,0,"Apple"),Module.lv_table_set_cell_value(ee,2,0,"Banana"),Module.lv_table_set_cell_value(ee,3,0,"Lemon"),Module.lv_table_set_cell_value(ee,4,0,"Grape"),Module.lv_table_set_cell_value(ee,5,0,"Melon"),Module.lv_table_set_cell_value(ee,6,0,"Peach"),Module.lv_table_set_cell_value(ee,7,0,"Nuts"),Module.lv_table_set_cell_value(ee,0,1,"Price"),Module.lv_table_set_cell_value(ee,1,1,"$7"),Module.lv_table_set_cell_value(ee,2,1,"$4"),Module.lv_table_set_cell_value(ee,3,1,"$6"),Module.lv_table_set_cell_value(ee,4,1,"$2"),Module.lv_table_set_cell_value(ee,5,1,"$5"),Module.lv_table_set_cell_value(ee,6,1,"$1"),Module.lv_table_set_cell_value(ee,7,1,"$9")}get rowCount(){return this._rowCount}set rowCount(k){this._rowCount=k,Module.lv_table_set_row_count(this.lvObj,k)}get columnCount(){return this._columnCount}set columnCount(k){this._columnCount=k,Module.lv_table_set_column_count(this.lvObj,k)}get columnWidth(){return this._columnWidth}set columnWidth(k){this._columnWidth=k,Module.lv_table_set_column_width(this.lvObj,0,k)}setCellValue(k,Z,ee){Module.lv_table_set_cell_value(this.lvObj,k,Z,ee)}}const lr=class lr extends LvglBase{constructor(T,k){k!=null?lr.id=k:k=lr.id+1,super("Table",k.toString())}lvglCreate(T){this._lvglObj=Module.lv_table_create(T),this._widget=new LV_Table("Table",this._lvglObj)}createStyle(T){const k=CreateBaseStyle.createStyles(lv_part_t.LV_PART_ITEMS,T,this.lvglObj,this.State);this._styles.push(["ITEMS",k])}};bt(lr,"id",1);let LVGL_ShapeTable=lr;class LV_Spinner extends LV_Obj{constructor(T,k){super(T,k),Module.lv_spinner_set_anim_params(this.lvObj,3e3,360)}}class LVGL_ShapeSpinner extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Spinner")}lvglCreate(k){this._lvglObj=Module.lv_spinner_create(k),this._widget=new LV_Spinner("Spinner",this._lvglObj)}}class LV_MsgBox extends LV_Obj{constructor(T,k){super(T,k)}}class LVGL_ShapeMsgBox extends LvglBase{constructor(){super(...arguments);bt(this,"Type","MsgBox")}lvglCreate(k){this._lvglObj=Module.lv_msgbox_create(k),this._widget=new LV_MsgBox("MsgBox",this._lvglObj)}}function genPoints(Y){const T=new ArrayBuffer(Y.length*2*4),k=new Int32Array(T);for(let Z=0;Z<Y.length;Z++)k[Z*2]=Y[Z].x,k[Z*2+1]=Y[Z].y;return T}class LV_Line extends LV_Obj{constructor(T,k){super(T,k);const Z=genPoints([{x:5,y:5},{x:70,y:70},{x:120,y:10},{x:180,y:60},{x:240,y:10}]);Module.lv_line_set_points(this.lvObj,Z,5)}}class LVGL_ShapeLine extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Line")}lvglCreate(k){this._lvglObj=Module.lv_line_create(k),this._widget=new LV_Line("Line",this._lvglObj)}}class LV_Player extends LV_Image{constructor(k,Z){super(k,Z);bt(this,"_src","rtsp://192.168.1.1:554");this._flag=3,this.assert="player.png"}get src(){return this._src}set src(k){this._src=k}}class LVGL_ShapePlayer extends LVGL_ShapeImage{constructor(){super(...arguments);bt(this,"Type","Player")}lvglCreate(k){this._lvglObj=Module.lv_image_create(k),this.updateLayout(),this._widget=new LV_Player(this.Type,this._lvglObj)}}function makeLvPointT(Y,T,k){const Z=new Module.lv_point_t;return Z.x=Y,Z.y=T,k&&(k(Z),Z.delete()),Z}class LV_Polygon extends LV_Obj{constructor(k,Z,ee){super(k,Z);bt(this,"points",[]);bt(this,"_fillColor","#000000");bt(this,"_outlineColor","#000000");bt(this,"state");this.state=ee,this.fillColor="#00ffff"}get fillColor(){return this._fillColor}set fillColor(k){this._fillColor=k;const Z=hexStrToLvColor(this._fillColor);Module.lv_polygon_set_fill_color(this.lvObj,Z),Z.delete()}get outlineColor(){return this._outlineColor}set outlineColor(k){this._outlineColor=k;const Z=hexStrToLvColor(this._outlineColor);Module.lv_polygon_set_outline_color(this.lvObj,Z),Z.delete()}updateWidget(k){if(!k)return;const{x:Z,y:ee,width:te,height:ne}=k,me=this.state.style.polyCoords;if(!me||me.length<=0)return;const Ve=Module.makeLvPointVector(me.length);this.points=[],me.forEach(Ye=>{const et=Ye.x*te,tt=Ye.y*ne,it=makeLvPointT(et,tt);this.points.push(new Point$1(et,tt)),Ve.push_back(it),it.delete()}),Module.lv_polygon_set_points(this.lvObj,Ve)}toXML(k){let Z=super.toXML(k);return!Z&&this.points.length<=0?null:(this.points.length>0&&(Z=k.createElement("Polygon"),Z.setAttribute("points",this.points.map(ee=>`${ee.x.toFixed(0)},${ee.y.toFixed(0)}`).join(" "))),Z)}fromXML(k){super.fromXML(k);const Z=k.getAttribute("points");if(Z){const ee=Z.split(" ").map(te=>{const[ne,me]=te.split(",").map(Ve=>Number(Ve));return new Point$1(ne,me)});this.points=ee}}}class PolygonShape extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Polygon")}paintVertexShape(k,Z,ee,te,ne){var et,tt;const Ve=this.State.style.polyCoords??[];if(Ve.length<=0)return;if(this.isVisible){k.begin(),k.translate(Z,ee),k.moveTo(Ve[0].x*te,Ve[0].y*ne);for(let it=1;it<Ve.length;it++)k.lineTo(Ve[it].x*te,Ve[it].y*ne);k.lineTo(Ve[0].x*te,Ve[0].y*ne),k.end(),k.setStrokeColor("transparent"),k.setFillColor("transparent"),k.fillAndStroke(),(!this.outline||!this.style||!(this.style.backgroundOutline??!1))&&(k.setShadow(!1),this.paintForeground(k,Z,ee,te,ne))}const Ye=(tt=(et=this.State)==null?void 0:et.cell.getGeometry())==null?void 0:tt.clone();Ye&&(Ye.width+=1,Ye.height+=1,this.setLvglGeo(Ye))}lvglCreate(k){this._lvglObj=Module.lv_polygon_create(k),this._widget=new LV_Polygon("Polygon",this._lvglObj,this.State)}}function changeRadius(Y,T,k){const ee=Y.cell.getGeometry();if(!ee)return;let{x:te,y:ne,width:me,height:Ve}=ee;const Ye=te+me/2,et=ne+Ve/2;ee.width=T*2,ee.height=k*2,ee.x=Ye-T,ee.y=et-k;const tt=Y.view,it=tt.graph;tt.updateCellState(Y),it.getCellRenderer().redraw(Y,!0),it.getPlugin(SelectionCellsHandler.pluginId).handlers.visit((rt,lt)=>{lt.redraw()})}class LV_Circle extends LV_Obj{constructor(k,Z,ee){super(k,Z);bt(this,"_radius",5);bt(this,"_centerX",0);bt(this,"_centerY",0);bt(this,"_fillColor","#000000");bt(this,"_outlineColor","#000000");bt(this,"state");this.state=ee}initRadius(k){const Z=this;Z._radius=k,Module.lv_circle_set_radius(this.lvObj,k),Z._centerX=k,Z._centerY=k,makeLvPointT(k,k,ee=>{Module.lv_circle_set_center(this.lvObj,ee)})}get radius(){return this._radius}set radius(k){this._radius!==k&&(this._radius=k,Module.lv_circle_set_radius(this.lvObj,k),changeRadius(this.state,k,k),makeLvPointT(k,k,Z=>{Module.lv_circle_set_center(this.lvObj,Z)}))}get centerX(){return this._centerX}set centerX(k){this._centerX=k;const Z=makeLvPointT(this._centerX,this._centerY);Module.lv_circle_set_center(this.lvObj,Z),Z.delete()}get centerY(){return this._centerY}set centerY(k){this._centerY=k;const Z=makeLvPointT(this._centerX,this._centerY);Module.lv_circle_set_center(this.lvObj,Z),Z.delete()}get fillColor(){return this._fillColor}set fillColor(k){this._fillColor=k;const Z=hexStrToLvColor(this._fillColor);Module.lv_circle_set_fill_color(this.lvObj,Z),Z.delete()}get outlineColor(){return this._outlineColor}set outlineColor(k){this._outlineColor=k;const Z=hexStrToLvColor(this._outlineColor);Module.lv_circle_set_outline_color(this.lvObj,Z),Z.delete()}updateWidget(k){if(!k)return;const{x:Z,y:ee,width:te,height:ne}=k,Ve=Math.min(te,ne)/2;this._radius!==Ve&&(this.radius=Ve,this._centerX=Ve,this._centerY=Ve,makeLvPointT(Ve,Ve,Ye=>{Module.lv_circle_set_center(this.lvObj,Ye)}))}}class LVGL_ShapeCircle extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Circle");bt(this,"_styles",[])}lvglCreate(k){this._lvglObj=Module.lv_circle_create(k),this._widget=new LV_Circle("Circle",this._lvglObj,this.State);const Z=Math.min(this.State.cell.getGeometry().width,this.State.cell.getGeometry().height)/2;this._widget.initRadius(Z)}createBaseStyle(k){this._styles=[]}setLvglGeo(k){var Z,ee;!this._lvglObj||!this.State||((Z=this._layout)==null||Z.update(this.State,k.x,k.y,k.width,k.height),(ee=this._widget)==null||ee.updateWidget(k))}}class LV_Ellipse extends LV_Obj{constructor(k,Z,ee){super(k,Z);bt(this,"_radiusX",5);bt(this,"_radiusY",5);bt(this,"_centerX",0);bt(this,"_centerY",0);bt(this,"_fillColor","#000000");bt(this,"_outlineColor","#000000");bt(this,"state");this.state=ee}initRadius(k,Z){this._radiusX=k,this._radiusY=Z,Module.lv_ellipse_set_radius(this.lvObj,k,Z),makeLvPointT(k,Z,ee=>{Module.lv_ellipse_set_center(this.lvObj,ee)})}get radiusX(){return this._radiusX}set radiusX(k){this._radiusX!==k&&(this._radiusX=k,Module.lv_ellipse_set_radius(this.lvObj,k,this._radiusY),changeRadius(this.state,k,this._radiusY),makeLvPointT(k,this._radiusY,Z=>{Module.lv_ellipse_set_center(this.lvObj,Z)}))}get radiusY(){return this._radiusY}set radiusY(k){this._radiusY!==k&&(this._radiusY=k,Module.lv_ellipse_set_radius(this.lvObj,this._radiusX,k),changeRadius(this.state,this._radiusX,k),makeLvPointT(this._radiusX,k,Z=>{Module.lv_ellipse_set_center(this.lvObj,Z)}))}get centerX(){return this._centerX}set centerX(k){this._centerX=k;const Z=makeLvPointT(this._centerX,this._centerY);Module.lv_ellipse_set_center(this.lvObj,Z),Z.delete()}get centerY(){return this._centerY}set centerY(k){this._centerY=k;const Z=makeLvPointT(this._centerX,this._centerY);Module.lv_ellipse_set_center(this.lvObj,Z),Z.delete()}get fillColor(){return this._fillColor}set fillColor(k){this._fillColor=k;const Z=hexStrToLvColor(this._fillColor);Module.lv_ellipse_set_fill_color(this.lvObj,Z),Z.delete()}get outlineColor(){return this._outlineColor}set outlineColor(k){this._outlineColor=k;const Z=hexStrToLvColor(this._outlineColor);Module.lv_ellipse_set_outline_color(this.lvObj,Z),Z.delete()}updateWidget(k){if(!k)return;const{width:Z,height:ee}=k,te=Z/2,ne=ee/2;(this._radiusX!==te||this._radiusY!==ne)&&(this.radiusX=te,this.radiusY=ne,this._centerX=te,this._centerY=ne,makeLvPointT(te,ne,me=>{Module.lv_ellipse_set_center(this.lvObj,me)}))}}class LVGL_ShapeEllipse extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Ellipse");bt(this,"_styles",[])}lvglCreate(k){this._lvglObj=Module.lv_ellipse_create(k),this._widget=new LV_Ellipse("Ellipse",this._lvglObj,this.State);const{width:Z,height:ee}=this.State.cell.getGeometry();this._widget.initRadius(Z/2,ee/2)}createBaseStyle(k){this._styles=[]}setLvglGeo(k){var Z,ee;!this._lvglObj||!this.State||((Z=this._layout)==null||Z.update(this.State,k.x,k.y,k.width,k.height),(ee=this._widget)==null||ee.updateWidget(k))}}class LV_PartCircle extends LV_Obj{constructor(k,Z,ee){super(k,Z);bt(this,"_radius",5);bt(this,"_centerX",0);bt(this,"_centerY",0);bt(this,"_fillColor","#000000");bt(this,"_outlineColor","#000000");bt(this,"_startAngle",0);bt(this,"_endAngle",90);bt(this,"state");this.state=ee,this.startAngle=270}initRadius(k){this._radius=k,Module.lv_partcircle_set_radius(this.lvObj,k),this._centerX=k,this._centerY=k,makeLvPointT(k,k,Z=>{Module.lv_partcircle_set_center(this.lvObj,Z)})}get radius(){return this._radius}set radius(k){this._radius!==k&&(this._radius=k,Module.lv_partcircle_set_radius(this.lvObj,k),changeRadius(this.state,k,k),makeLvPointT(k,k,Z=>{Module.lv_partcircle_set_center(this.lvObj,Z)}))}get centerX(){return this._centerX}set centerX(k){this._centerX=k;const Z=makeLvPointT(this._centerX,this._centerY);Module.lv_partcircle_set_center(this.lvObj,Z),Z.delete()}get centerY(){return this._centerY}set centerY(k){this._centerY=k;const Z=makeLvPointT(this._centerX,this._centerY);Module.lv_partcircle_set_center(this.lvObj,Z),Z.delete()}get startAngle(){return this._startAngle}set startAngle(k){this._startAngle=k,Module.lv_partcircle_set_range(this.lvObj,k,this._endAngle)}get endAngle(){return this._endAngle}set endAngle(k){this._endAngle=k,Module.lv_partcircle_set_range(this.lvObj,this._startAngle,k)}get fillColor(){return this._fillColor}set fillColor(k){this._fillColor=k;const Z=hexStrToLvColor(this._fillColor);Module.lv_partcircle_set_fill_color(this.lvObj,Z),Z.delete()}get outlineColor(){return this._outlineColor}set outlineColor(k){this._outlineColor=k;const Z=hexStrToLvColor(this._outlineColor);Module.lv_partcircle_set_outline_color(this.lvObj,Z),Z.delete()}updateWidget(k){if(!k)return;const{x:Z,y:ee,width:te,height:ne}=k,Ve=Math.min(te,ne)/2;this._radius!==Ve&&(this.radius=Ve,this._centerX=Ve,this._centerY=Ve,makeLvPointT(Ve,Ve,Ye=>{Module.lv_partcircle_set_center(this.lvObj,Ye)}))}}class LVGL_ShapePartCircle extends LvglBase{constructor(){super(...arguments);bt(this,"Type","PartCircle");bt(this,"_styles",[])}lvglCreate(k){this._lvglObj=Module.lv_partcircle_create(k),this._widget=new LV_PartCircle("PartCircle",this._lvglObj,this.State);const Z=Math.min(this.State.cell.getGeometry().width,this.State.cell.getGeometry().height)/2;this._widget.initRadius(Z)}createBaseStyle(k){this._styles=[]}setLvglGeo(k){var Z,ee;!this._lvglObj||!this.State||((Z=this._layout)==null||Z.update(this.State,k.x,k.y,k.width,k.height),(ee=this._widget)==null||ee.updateWidget(k))}}class LV_PartEllipse extends LV_Obj{constructor(k,Z,ee){super(k,Z);bt(this,"_radiusX",5);bt(this,"_radiusY",5);bt(this,"_centerX",0);bt(this,"_centerY",0);bt(this,"_fillColor","#000000");bt(this,"_outlineColor","#000000");bt(this,"_startAngle",0);bt(this,"_endAngle",90);bt(this,"state");this.state=ee}initRadius(k,Z){this._radiusX=k,this._radiusY=Z,Module.lv_partellipse_set_radius(this.lvObj,k,Z),makeLvPointT(k,Z,ee=>{Module.lv_partellipse_set_center(this.lvObj,ee)})}get radiusX(){return this._radiusX}set radiusX(k){this._radiusX=k,Module.lv_partellipse_set_radius(this.lvObj,k,this._radiusY),changeRadius(this.state,k,this._radiusY),makeLvPointT(k,this._radiusY,Z=>{Module.lv_partellipse_set_center(this.lvObj,Z)})}get radiusY(){return this._radiusY}set radiusY(k){this._radiusY=k,Module.lv_partellipse_set_radius(this.lvObj,this._radiusX,k),changeRadius(this.state,this._radiusX,k),makeLvPointT(this._radiusX,k,Z=>{Module.lv_partellipse_set_center(this.lvObj,Z)})}get centerX(){return this._centerX}set centerX(k){this._centerX=k;const Z=makeLvPointT(this._centerX,this._centerY);Module.lv_partellipse_set_center(this.lvObj,Z),Z.delete()}get centerY(){return this._centerY}set centerY(k){this._centerY=k;const Z=makeLvPointT(this._centerX,this._centerY);Module.lv_partellipse_set_center(this.lvObj,Z),Z.delete()}get startAngle(){return this._startAngle}set startAngle(k){this._startAngle=k,Module.lv_partellipse_set_range(this.lvObj,k,this._endAngle)}get endAngle(){return this._endAngle}set endAngle(k){this._endAngle=k,Module.lv_partellipse_set_range(this.lvObj,this._startAngle,k)}get fillColor(){return this._fillColor}set fillColor(k){this._fillColor=k;const Z=hexStrToLvColor(this._fillColor);Module.lv_partellipse_set_fill_color(this.lvObj,Z),Z.delete()}get outlineColor(){return this._outlineColor}set outlineColor(k){this._outlineColor=k;const Z=hexStrToLvColor(this._outlineColor);Module.lv_partellipse_set_outline_color(this.lvObj,Z),Z.delete()}updateWidget(k){if(!k)return;const{width:Z,height:ee}=k,te=Z/2,ne=ee/2;(this._radiusX!==te||this._radiusY!==ne)&&(this.radiusX=te,this.radiusY=ne,this._centerX=te,this._centerY=ne,makeLvPointT(te,ne,me=>{Module.lv_partellipse_set_center(this.lvObj,me)}))}}class LVGL_PartEllipse extends LvglBase{constructor(){super(...arguments);bt(this,"Type","PartEllipse");bt(this,"_styles",[])}lvglCreate(k){this._lvglObj=Module.lv_partellipse_create(k),this._widget=new LV_PartEllipse("PartEllipse",this._lvglObj,this.State);const{width:Z,height:ee}=this.State.cell.getGeometry(),te=Z/2,ne=ee/2;this._widget.initRadius(te,ne)}createBaseStyle(k){this._styles=[]}setLvglGeo(k){var Z,ee;!this._lvglObj||!this.State||((Z=this._layout)==null||Z.update(this.State,k.x,k.y,k.width,k.height),(ee=this._widget)==null||ee.updateWidget(k))}}class LV_Pipe extends LV_Obj{constructor(k,Z,ee){super(k,Z);bt(this,"_width",50);bt(this,"_height",100);bt(this,"_radius",50);bt(this,"_startColor","#000000");bt(this,"_endColor","#ffffff");bt(this,"_pipeShape",lv_pipe_shape_t.LV_PIPE_SHAPE_LINE);bt(this,"_start",!1);bt(this,"_stop",!0);bt(this,"_flowSpeed",10);bt(this,"_flowRate",1);bt(this,"_offset",0);bt(this,"state");this.state=ee,Module.lv_pipe_add_inlet(this.lvObj,1),this.flowRate=10}get width(){return this._width}set width(k){this._width=k,Module.lv_pipe_set_width(this.lvObj,k)}get height(){return this._height}set height(k){this._height=k,Module.lv_pipe_set_height(this.lvObj,k)}get radius(){return this._radius}set radius(k){this._radius=k,Module.lv_pipe_set_radius(this.lvObj,k)}get start(){return this._start}set start(k){this._start=k,this._stop=!k,k?Module.lv_pipe_start_flow(this.lvObj):Module.lv_pipe_stop_flow(this.lvObj)}get stop(){return this._stop}set stop(k){this._stop=k,this._start=!k,Module.lv_pipe_stop_flow(this.lvObj)}get flowSpeed(){return this._flowSpeed}set flowSpeed(k){this._flowSpeed=k,Module.lv_pipe_set_flow_speed(this.lvObj,k)}get flowRate(){return this._flowRate}set flowRate(k){this._flowRate=k,Module.lv_pipe_set_flow_rate(this.lvObj,k)}get startColor(){return this._startColor}set startColor(k){this._startColor=k;const Z=hexStrToLvColor(this._startColor),ee=hexStrToLvColor(this._endColor);Module.lv_pipe_set_color(this.lvObj,Z,ee),Z.delete(),ee.delete()}get endColor(){return this._endColor}set endColor(k){this._endColor=k;const Z=hexStrToLvColor(this._startColor),ee=hexStrToLvColor(this._endColor);Module.lv_pipe_set_color(this.lvObj,Z,ee),Z.delete(),ee.delete()}get offset(){return this._offset}set offset(k){this._offset=k,Module.lv_pipe_set_flow_offset(this.lvObj,k)}get pipeShape(){return this._pipeShape}set pipeShape(k){this._pipeShape=k,Module.lv_pipe_set_shape_type(this.lvObj,k)}updateWidget(k){if(!k)return;const{x:Z,y:ee,width:te,height:ne}=k}}class LVGL_Pipe extends LvglBase{constructor(){super(...arguments);bt(this,"Type","Pipe")}lvglCreate(k){this._lvglObj=Module.lv_pipe_create(k),this._widget=new LV_Pipe("Pipe",this._lvglObj,this.State)}setLvglGeo(k){var Z,ee;!this._lvglObj||!this.State||((Z=this._layout)==null||Z.update(this.State,k.x,k.y,k.width,k.height),(ee=this._widget)==null||ee.updateWidget(k))}}class HMiShape extends Shape$1{constructor(){super(null)}apply(T){super.apply(T),this.State=T}paintVertexShape(T,k,Z,ee,te){var me;T.begin(),T.setFillColor("transparent"),T.rect(k,Z,ee,te),T.fillAndStroke();const ne=(me=this.State)==null?void 0:me.cell;if(ne&&ne instanceof HMiBase){const Ve=ne,Ye=ne.getGeometry();this.State&&Ye&&Ve.updateLayout(this.State,Ye)}}}function registerLvglShape(){CellRenderer.registerShape("lvgl_obj",LvglBase),CellRenderer.registerShape("lvgl_tabitem",LvglBase),CellRenderer.registerShape("lvgl_screen",LvglBase),CellRenderer.registerShape("lvgl_arc",LVGL_ShapeArc),CellRenderer.registerShape("lvgl_button",LVGL_ShapeButton),CellRenderer.registerShape("lvgl_panel",LVGL_ShapePanel),CellRenderer.registerShape("lvgl_image",LVGL_ShapeImage),CellRenderer.registerShape("lvgl_label",LVGL_ShapeLabel),CellRenderer.registerShape("lvgl_container",LVGL_ShapeContainer),CellRenderer.registerShape("lvgl_tabview",LVGL_ShapeTabView),CellRenderer.registerShape("lvgl_textarea",LVGL_ShapeTextArea),CellRenderer.registerShape("lvgl_calendar",LVGL_ShapeCalendar),CellRenderer.registerShape("lvgl_checkbox",LVGL_ShapeCheckBox),CellRenderer.registerShape("lvgl_colorwheel",LVGL_ShapeColorWheel),CellRenderer.registerShape("lvgl_dropdown",LVGL_ShapeDropDown),CellRenderer.registerShape("lvgl_imgbutton",LVGL_ShapeImgButton),CellRenderer.registerShape("lvgl_keyboard",LVGL_ShapeKeyBoard),CellRenderer.registerShape("lvgl_roller",LVGL_ShapeRoller),CellRenderer.registerShape("lvgl_slider",LVGL_ShapeSlider),CellRenderer.registerShape("lvgl_spinbox",LVGL_ShapeSpinBox),CellRenderer.registerShape("lvgl_switch",LVGL_ShapeSwitch),CellRenderer.registerShape("lvgl_bar",LVGL_ShapeBar),CellRenderer.registerShape("lvgl_chart",LVGL_ShapeChart),CellRenderer.registerShape("lvgl_led",LvGL_LedShape),CellRenderer.registerShape("lvgl_scale",LVGL_ShapeScale),CellRenderer.registerShape("lvgl_list",LVGL_ShapeList),CellRenderer.registerShape("lvgl_span",LVGL_ShapeSpan),CellRenderer.registerShape("lvgl_table",LVGL_ShapeTable),CellRenderer.registerShape("lvgl_win",LVGL_ShapeWin),CellRenderer.registerShape("lvgl_spinner",LVGL_ShapeSpinner),CellRenderer.registerShape("lvgl_msgbox",LVGL_ShapeMsgBox),CellRenderer.registerShape("lvgl_line",LVGL_ShapeLine),CellRenderer.registerShape("lvgl_menu",LVGL_ShapeMenu),CellRenderer.registerShape("lvgl_multistatenum",LVGL_ShapeMultiStateNum),CellRenderer.registerShape("lvgl_multistateimage",LVGL_ShapeMultiStateImage),CellRenderer.registerShape("lvgl_multistatetext",LVGL_ShapeMultiStateText),CellRenderer.registerShape("lvgl_player",LVGL_ShapePlayer),CellRenderer.registerShape("lvgl_polygon",PolygonShape),CellRenderer.registerShape("lvgl_triangle",PolygonShape),CellRenderer.registerShape("lvgl_diamond",PolygonShape),CellRenderer.registerShape("lvgl_parallelogram",PolygonShape),CellRenderer.registerShape("lvgl_circle",LVGL_ShapeCircle),CellRenderer.registerShape("lvgl_ellipse",LVGL_ShapeEllipse),CellRenderer.registerShape("lvgl_partcircle",LVGL_ShapePartCircle),CellRenderer.registerShape("lvgl_partellipse",LVGL_PartEllipse),CellRenderer.registerShape("lvgl_pipe",LVGL_Pipe),CellRenderer.registerShape("hmi",HMiShape)}function debounce(Y,T=0,k={}){let Z=null,ee=null,te,ne,me=null,Ve=0;const Ye=!!k.leading,et=k.trailing!==void 0?!!k.trailing:!0,tt=k.maxWait;function it(){return Date.now()}function st(){return ee?(ne=Y.apply(te,ee),Ve=it(),ee=null,te=void 0,ne):void 0}function nt(dt,ct){Z&&clearTimeout(Z),Z=setTimeout(dt,ct)}function rt(){if(me===null)return 0;const dt=it()-me,ct=it()-Ve,ut=T-dt;return tt!==void 0?Math.min(ut,tt-ct):ut}function lt(){if(me===null)return!1;const dt=it()-me;return me===null||dt>=T||tt!==void 0&&it()-Ve>=tt}function ot(){Z=null,lt()?et&&ee?st():(ee=null,te=void 0):nt(ot,rt()||T)}function ht(...dt){if(ee=dt,te=this,me=it(),lt()){if(Z){if(tt!==void 0&&it()-Ve>=tt){const ut=st();return nt(ot,T),ut}}else if(Ye){const ut=st();return nt(ot,T),ut}else if(tt!==void 0&&it()-Ve>=tt){const ut=st();return nt(ot,T),ut}}return Z||nt(ot,T),ne}return ht.cancel=function(){Z&&(clearTimeout(Z),Z=null),ee=null,te=void 0,me=null},ht.flush=function(){return Z&&(clearTimeout(Z),Z=null),ee?st():ne},ht}function useHirerachyTree(Y,T,k){k.registerRpcHandler("updateHirerachyTree",()=>{const Z=Y.getDefaultParent(),ee=getAllWidgets(Y,Z);T.splice(0,T.length),T.push(ee),widgetStores.widgets=T,k.rpc("updateTree")})}const batchUpdateHirerachy=debounce(Y=>{Y.rpc("updateHirerachyTree")},50);function useGraphDrop(Y,T,k){Y.setDropEnabled(!0),Y.isValidDropTarget=function(te,ne,me){var it;const Ve=this.isSplitEnabled()&&this.isSplitTarget(te,ne,me)||!te.isEdge()&&te.isVisible()&&(this.isSwimlane(te)||te.getChildCount()>=0&&!te.isCollapsed());if(!Ve||!(ne==null?void 0:ne.every(st=>{var nt;return!!((nt=st.style.shape)!=null&&nt.startsWith("lvgl_"))})))return!1;const et=(it=this.getView().getState(te))==null?void 0:it.shape;if(!et||!(et instanceof LvglBase))return Ve;if(!et.isVisible)return!1;const tt=et.Type.toLowerCase();return!(tt!=="obj"&&tt!=="button"&&tt!=="tabitem"&&tt!=="screen"||tt==="button"&&!(ne==null?void 0:ne.every(nt=>{const rt=nt.style.shape;return!!(rt!=null&&rt.includes("label"))})))};function Z(te,ne,me,Ve,Ye,et){let tt=!1;if(this.target&&(tt=!0),!this.cell)return;Ve&&(te=this.graph.getCloneableCells(te));const it=this.cell.getParent();!Ye&&it&&this.isRemoveCellsFromParent()&&this.shouldRemoveCellsFromParent(it,te,et)&&(Ye=this.graph.getDefaultParent(),Y.getDataModel().batchUpdate(()=>{this.graph.fireEvent(new EventObject(InternalEvent.REMOVE_CELLS_FROM_PARENT,{cells:te}))})),Ve=!!Ve&&!this.graph.isCellLocked(Ye||this.graph.getDefaultParent()),this.graph.batchUpdate(()=>{const st=[];if(!Ve&&Ye&&this.removeEmptyParents){const rt=new Dictionary;for(let lt=0;lt<te.length;lt+=1)rt.put(te[lt],!0);for(let lt=0;lt<te.length;lt+=1){const ot=te[lt].getParent();ot&&!rt.get(ot)&&(rt.put(ot,!0),st.push(ot))}}te=this.graph.moveCells(te,ne,me,Ve,Ye,et),tt&&this.graph.fireEvent(new EventObject("DROP_TO_TARGET",{target:this.target,cells:te}));const nt=[];for(let rt=0;rt<st.length;rt+=1)this.shouldRemoveParent(st[rt])&&nt.push(st[rt]);this.graph.removeCells(nt,!1)}),Ve&&this.graph.setSelectionCells(te),this.isSelectEnabled()&&this.scrollOnMove&&this.graph.scrollCellToVisible(te[0])}SelectionHandler.prototype.moveCells=Z;const ee=SelectionHandler.prototype.isPropagateSelectionCell;SelectionHandler.prototype.isPropagateSelectionCell=function(te,ne,me){const Ve=this.graph.getSelectionCells();if(Ve.length!=1)return ee.apply(this,[te,ne,me]);const Ye=Ve[0];return!Ye.parent||!te.parent||Ye===te.parent||te===Ye.parent?!1:Ye.parent.id!==te.parent.id},Y.addListener("DROP_TO_TARGET",(te,ne)=>{console.log("DROP_TO_TARGET");const me=ne.getProperty("target"),Ve=ne.getProperty("cells"),et=Y.getView().getState(me).shape,tt=me.geometry,it=Y.getDataModel();Ve.forEach(nt=>{const rt=nt.geometry,lt=Y.view.getState(nt);if(rt&&tt&&(tt.width<rt.width||tt.height<rt.height)&&(tt.width=Math.max(rt.width,tt.width)+10,tt.height=Math.max(rt.height,tt.height)+10,it.setGeometry(me,tt)),lt){const ot=lt.shape;ot instanceof LvglBase&&ot.setParent2(it,et)}}),Y.getPlugin(SelectionCellsHandler.pluginId).reset()}),Y.addListener(InternalEvent.REMOVE_CELLS_FROM_PARENT,(te,ne)=>{console.log("REMOVE_CELLS_FROM_PARENT");const me=Y.getDataModel(),Ve=ne.getProperty("cells"),Ye=Ve[0].parent;if(isRoot(Ye))return;let et=Ye.geometry;Ve.forEach(tt=>{const it=Y.getDefaultParent();tt.setParent(it);const st=Y.view.getState(tt);st&&(st.shape.setParent2(me,null),st.shape.setVisible(me,!0));const nt=tt.geometry;let rt=Ye;for(;nt&&et&&(nt.x+=et.x,nt.y+=et.y,rt=rt==null?void 0:rt.parent,rt&&rt.id!==it.id);)et=rt.geometry;Y.getDataModel().setGeometry(tt,nt)}),batchUpdateHirerachy(k)})}function extractCommonNestedData(Y){if(Y.length===0)return{};const T={};return Object.keys(Y[0]).forEach(Z=>{if(Y.every(ee=>Z in ee))if(typeof Y[0][Z]=="object"&&Y[0][Z]!==null)T[Z]=extractCommonNestedData(Y.map(ee=>ee[Z]));else if(Y.slice(1).every(ee=>ee[Z]===Y[0][Z]))T[Z]=Y[0][Z];else{const ee=Y[0][Z];typeof ee=="number"?T[Z]=-1:typeof ee=="string"?T[Z]="":T[Z]=null}}),T}function extractCommonProps(Y){if(Y.length===0)return[];const T=[],k=Y[0];let Z=k[0][1];const ee=k[1][1],te=Z[1][1];if(Y.length===1)return Y[0];const ne=[te],me=[ee];let Ve=!0;const Ye=Z[4][0];for(let it=1;it<Y.length;it++)if(Y[it][0][1][4][0]!==Ye){Ve=!1;break}Z=[],Ve&&!Ye.includes("multi")?(Y.forEach(it=>{Z.push(it[0][1][4][1])}),Z=extractCommonNestedData(Z)):Z=k[0][1][4][1];for(let it=1;it<Y.length;it++){const st=Y[it],nt=st[0][1][1][1];ne.push(nt);const rt=st[1][1];me.push(rt)}const et=extractCommonNestedData(ne);et.isValid=!0;const tt=getCommonStyles(...me);return T.push(["Widgets",[[],["Layout",et],["Flags",{value:0,type:"common"}],["States",{value:0,type:"common"}],[Ye,Z]]]),T.push(["Styles",tt,{curStyleState:k[1][2].curStyleState}]),T}function getCommonStyles(...Y){var Z;if(Y.length===0)return[];const T=new Set(Y[0].map(([ee])=>ee));for(let ee=1;ee<Y.length;ee++){const te=new Set(Y[ee].map(([ne])=>ne));for(const ne of Array.from(T))te.has(ne)||T.delete(ne)}const k=[];for(const ee of T){const te=Y.map(Ve=>{const Ye=Ve.find(([tt])=>tt===ee),et=Ye?Ye[1].map(([tt])=>tt):[];return new Set(et)}),ne=Array.from(te[0]).filter(Ve=>te.every(Ye=>Ye.has(Ve))),me=[];for(const Ve of ne){const Ye=[];for(const et of Y){const tt=et.find(([st])=>st===ee),it=(Z=tt==null?void 0:tt[1].find(([st])=>st===Ve))==null?void 0:Z[1];it&&Ye.push(it)}if(Ye.length===Y.length){const tt=extractCommonNestedData(Ye);me.push([Ve,tt])}}me.length>0&&k.push([ee,me])}return k}function mutilSelect(Y,T,k){if(T.length===0){widgetProps.props=k.getPropsData();return}const Z=[];for(let te=0;te<T.length;te++){const ne=T[te],me=getShapeById(Y,ne.getId()??"");me&&Z.push(me.getPropsData())}const ee=extractCommonProps(Z);widgetProps.props=ee}function useSelectChange(Y,T,k,Z,ee){let te=[];function ne(me,Ve){console.log(InternalEvent.CHANGE);const Ye=Y.getSelectionCells();if(te=Ye,Ye.length===0)selectWidget(T,""),widgetProps.curlvglShape=k,widgetProps.props=k.getPropsData();else if(Ye.length===1){const et=Ye[0].getId()??"",tt=getShapeById(Y,et);tt?(widgetProps.curlvglShape=tt,widgetProps.props=tt.getPropsData()):(widgetProps.curlvglShape=k,widgetProps.props=[])}else mutilSelect(Y,te,k);window.API.eventBus.emit(window.API.constant.enum.CANVAS_WIDGET_SELECT,{ids:te.map(et=>et.id)}),widgetProps.selectedCellsLen=Ye.length,ee.rpc("selectedChange",{}),widgetProps.update++}ee.registerRpcHandler("onPropsChange",me=>{var Ve;Z.id===((Ve=screenStore.curScreen)==null?void 0:Ve.id)&&(te.length===0?setDeepValue(k.Props,me.path,me.newValue):te.forEach(Ye=>{const et=getShapeByCell(Y,Ye);et&&setDeepValue(et.Props,me.path,me.newValue)}),me.path.includes("curStyleState")&&mutilSelect(Y,te,k))}),Y.getSelectionModel().addListener(InternalEvent.CHANGE,ne)}function useBase(Y,T,k){Y.addListener(InternalEvent.CELLS_ADDED,(Z,ee)=>{batchUpdateHirerachy(k),console.log("CELLS_ADDED")}),Y.addListener(InternalEvent.REMOVE_CELLS,(Z,ee)=>{batchUpdateHirerachy(k)}),Y.addListener("CELL_MOVING",(Z,ee)=>{const te=ee.getProperty("cell"),ne=ee.getProperty("dx"),me=ee.getProperty("dy");if(te.geometry&&(ne||me)){const{x:Ve,y:Ye}=te.geometry;k.rpc("updatePosition",{x:Ve+ne,y:Ye+me})}}),Y.addListener("CELL_RESIZING",(Z,ee)=>{const te=ee.getProperty("width"),ne=ee.getProperty("height");k.rpc("updateSize",{width:te,height:ne})})}function useLvglEvent(Y,T,k){k.registerRpcHandler("addLvglEvent",Z=>{var ee;!widgetProps.curlvglShape||T.id!==((ee=screenStore.curScreen)==null?void 0:ee.id)||(console.log("Received addLvglEvent request",Z),widgetProps.curlvglShape.addEvent(Z),widgetProps.props[2][1]=widgetProps.curlvglShape.events,console.log("addLvglEvent"))}),k.registerRpcHandler("addLvglEventAction",Z=>{var ne;if(!widgetProps.curlvglShape||T.id!==((ne=screenStore.curScreen)==null?void 0:ne.id))return;console.log("Received addLvglEventAction request");const ee=Z.idx;widgetProps.curlvglShape.events[ee].addAction(Z.actionData,widgetProps.curlvglShape),widgetProps.props[2][1]=widgetProps.curlvglShape.events}),k.registerRpcHandler("applyEventAction",Z=>{if(!widgetProps.curlvglShape)return;const ee=Z.idx,ne=widgetProps.curlvglShape.events[ee].actions;for(const me of ne){if(!me.target){const Ve=getShapeById(Y,me.targetId);if(!Ve)continue;me.setTarget(Ve)}me.apply()}}),k.registerRpcHandler("removeLvglEvent",({idx:Z})=>{if(!widgetProps.curlvglShape)return;widgetProps.curlvglShape.events.splice(Z,1)[0].destroy(),widgetProps.props[2][1]=widgetProps.curlvglShape.events,updateState.event++})}function genFunc(Y){return Y===0?(T,k)=>{const Z=Module.lv_int_to_obj(T);Module.lv_obj_set_x(Z,k)}:Y===1?(T,k)=>{const Z=Module.lv_int_to_obj(T);Module.lv_obj_set_y(Z,k)}:Y===2?(T,k)=>{const Z=Module.lv_int_to_obj(T);Module.lv_obj_set_width(Z,k)}:Y===3?(T,k)=>{const Z=Module.lv_int_to_obj(T);Module.lv_obj_set_height(Z,k)}:()=>{}}class LvglAnimation{constructor(T=0){bt(this,"target",null);bt(this,"targetId","");bt(this,"type",0);bt(this,"startValue",0);bt(this,"endValue",255);bt(this,"delay",0);bt(this,"isRelative",!1);bt(this,"isInstant",!1);bt(this,"time",1e3);bt(this,"playbackDelay",0);bt(this,"playbackTime",0);bt(this,"loopDelay",0);bt(this,"loopCnt",1);bt(this,"isInfinite",!1);bt(this,"curve",0);bt(this,"lvAnim");bt(this,"func");this.lvAnim=new Module.lv_anim_t,Module.lv_anim_init(this.lvAnim),this.type=T,this.func=genFunc(T)}setCurve(T){this.curve=T,this.curve===0?Module.lv_anim_path_linear(this.lvAnim):this.curve===1?Module.lv_anim_path_ease_in(this.lvAnim):this.curve===2?Module.lv_anim_path_ease_out(this.lvAnim):this.curve===3?Module.lv_anim_path_ease_in_out(this.lvAnim):this.curve===4?Module.lv_anim_path_bounce(this.lvAnim):this.curve===5?Module.lv_anim_path_overshoot(this.lvAnim):this.curve===6&&Module.lv_anim_path_step(this.lvAnim)}play(T){if(!this.target){console.warn("Target is not set for the animation.");return}let k=Module.addFunction(this.func,"vii");Module.lv_anim_delete(this.lvAnim,k),k=Module.addFunction(this.func,"vii"),Module.lv_anim_set_var(this.lvAnim,this.target.lvglObj),Module.lv_anim_set_exec_cb(this.lvAnim,k),Module.lv_anim_start(this.lvAnim)}setTarget(T){this.target=T,this.targetId=T.getId(),Module.lv_anim_set_var(this.lvAnim,this.target.lvglObj)}setProperty(T){this.endValue=T.endValue,this.delay=T.delay||0,this.isRelative=T.isRelative,this.isInstant=T.isInstant,this.time=T.time,this.playbackDelay=T.playbackDelay,this.playbackTime=T.playbackTime,this.loopDelay=T.loopDelay,this.isInfinite=T.isInfinite,this.isInfinite?this.loopCnt=Module.LV_ANIM_REPEAT_INFINITE:this.loopCnt=T.loopCnt,this.curve=T.curve||0,this.setCurve(T.curve),Module.lv_anim_init(this.lvAnim),Module.lv_anim_set_values(this.lvAnim,this.startValue,this.endValue),Module.lv_anim_set_duration(this.lvAnim,this.time),Module.lv_anim_set_delay(this.lvAnim,this.delay),Module.lv_anim_set_repeat_delay(this.lvAnim,this.loopDelay),Module.lv_anim_set_playback_delay(this.lvAnim,this.playbackDelay),Module.lv_anim_set_playback_time(this.lvAnim,this.playbackTime),Module.lv_anim_set_repeat_count(this.lvAnim,this.loopCnt)}destroy(){}toXML(T){const k=T.createElement("Property");return this.target&&k.setAttribute("targetId",this.target.getId()),k.setAttribute("type",this.type.toString()),k.setAttribute("startValue",this.startValue.toString()),k.setAttribute("endValue",this.endValue.toString()),k.setAttribute("delay",this.delay.toString()),k.setAttribute("isRelative",this.isRelative.toString()),k.setAttribute("isInstant",this.isInstant.toString()),k.setAttribute("time",this.time.toString()),k.setAttribute("playbackDelay",this.playbackDelay.toString()),k.setAttribute("playbackTime",this.playbackTime.toString()),k.setAttribute("loopDelay",this.loopDelay.toString()),k.setAttribute("loopCnt",this.loopCnt.toString()),k.setAttribute("isInfinite",this.isInfinite.toString()),k.setAttribute("curve",this.curve.toString()),k}static fromXML(T,k){const Z=new LvglAnimation,ee={id:"",name:" ",targetId:T.getAttribute("targetId")||"",startValue:parseInt(T.getAttribute("startValue")||"0"),endValue:parseInt(T.getAttribute("endValue")||"255"),delay:parseInt(T.getAttribute("delay")||"0"),isRelative:T.getAttribute("isRelative")==="true",isInstant:T.getAttribute("isInstant")==="true",time:parseInt(T.getAttribute("time")||"1000"),playbackDelay:parseInt(T.getAttribute("playbackDelay")||"0"),playbackTime:parseInt(T.getAttribute("playbackTime")||"0"),loopDelay:parseInt(T.getAttribute("loopDelay")||"0"),loopCnt:parseInt(T.getAttribute("loopCnt")||"1"),isInfinite:T.getAttribute("isInfinite")==="true",curve:parseInt(T.getAttribute("curve")||"0")};return Z.type=parseInt(T.getAttribute("type")||"0"),Z.target=k(ee.targetId||""),Z.setProperty(ee),Z}}class LvglMap{constructor(){bt(this,"map");this.map=new Map}insert(T,k){this.map.has(T)&&console.warn(`Key ${T} already exists in the map.`),this.map.set(T,k)}getValue(T){return this.map.has(T)&&this.map.get(T)||null}has(T){return this.map.has(T)}}const animations=new LvglMap;function useAnimation(Y,T){T.registerRpcHandler("addAniProperty",k=>{const Z=k.animationName;animations.insert(Z,[]);const ee=getShapeById(Y,k.targetId);if(!ee){console.warn(`Target with id ${k.targetId} not found`);return}const te=new LvglAnimation(k.propertyType);te.setTarget(ee),animations.getValue(Z).push(te)}),T.registerRpcHandler("playAni",({targetId:k,aniName:Z,properties:ee})=>{if(!animations.has(Z)){console.warn(`Animation ${Z} not found`);return}const te=animationsStore.animations[Z];if(!te){console.warn(`Animation ${Z} not found`);return}const ne=animations.getValue(Z);te.properties.forEach((me,Ve)=>{ne[Ve].setProperty(me),ne[Ve].play()})})}function genXML(Y,T){if(T.length===0)return"<Transactions></Transactions>";const k=createXmlDoc("Transactions");return cellsToXML(k.documentElement,Y.getView(),T),docToString(k)}function copy(Y){const T=Clipboard.copy(Y,Y.getSelectionCells());return T.length===0?"<Transactions></Transactions>":genXML(Y,T)}function cut(Y){const T=Clipboard.copy(Y,Y.getSelectionCells());return T.length===0?"<Transactions></Transactions>":(Y.removeCells(T,!0),genXML(Y,T))}function paste(Y,T,k,Z){if(T.substring(0,14)!=="<Transactions>")return;const te=new DOMParser().parseFromString(T,"application/xml"),ne=[];if(te.documentElement.childNodes.forEach(Ve=>{Ve.nodeName==="Widget"&&ne.push(Ve)}),ne.length===0)return;const me={...Z,needId:!1};xmlToCells(Y,Array.from(ne),k,null,me)}class KeyboardHandler{constructor(T,k){bt(this,"graph");bt(this,"controlKeys",{});bt(this,"shiftKeys",{});bt(this,"normalKeys",{});this.graph=T,k.addEventListener("keydown",Z=>{const ee=Z.key;Z.ctrlKey?this.controlKeys[ee]&&(this.controlKeys[ee](Z),Z.preventDefault()):Z.shiftKey?this.shiftKeys[ee]&&(this.shiftKeys[ee](Z),Z.preventDefault()):this.normalKeys[ee]&&(this.normalKeys[ee](Z),Z.preventDefault())})}bindKey(T,k){this.normalKeys[T]=k}bindShiftKey(T,k){this.shiftKeys[T]=k}bindControlKey(T,k){this.controlKeys[T]=k}}function useKeyboard(Y,T,k,Z,ee){const te=new KeyboardHandler(Y,T);te.bindControlKey("a",ne=>{Y.selectAll()}),te.bindControlKey("c",async ne=>{const me=copy(Y);me&&await navigator.clipboard.writeText(me)}),te.bindControlKey("x",async ne=>{const me=cut(Y);me&&await navigator.clipboard.writeText(me)}),te.bindControlKey("v",async ne=>{const me=await navigator.clipboard.readText();paste(Y,me,k.screenObj,{offset:{x:20,y:20}})}),te.bindControlKey("z",ne=>{Z.undo(),batchUpdateHirerachy(ee)}),te.bindControlKey("y",ne=>{Z.redo(),batchUpdateHirerachy(ee)}),te.bindKey("Delete",ne=>{const me=Y.getSelectionCells();me.length>0&&Y.removeCells(me)})}let scale=1;function zoom(Y,T,k=!0){k?scale>=.5&&scale<2?scale+=.25:scale>=2&&scale<5&&(scale+=.5):scale>=.5&&scale<2?scale-=.25:scale>=2&&scale<5&&(scale-=.5),scale<.5&&(scale=.5),scale>5&&(scale=5),console.log("zoom",scale),Y.zoomTo(scale),T.scale=scale}function usePopupMenu(Y,T,k,Z){function ee(ne,me,Ve){const Ye=ne;Ye.addItem("Copy",null,async()=>{const et=copy(Y);et&&await navigator.clipboard.writeText(et)},null,null,!0,!0,!1),Ye.addItem("Cut",null,async()=>{const et=cut(Y);et&&await navigator.clipboard.writeText(et)},null,null,!0,!0,!1),Ye.addSeparator(),Ye.addItem("Paste",null,async()=>{const et=await navigator.clipboard.readText();paste(Y,et,T.screenObj,{offset:{x:20,y:20}})},null,null,!0,!0,!1),Ye.addSeparator(),Ye.addItem("Delete",null,()=>{const et=getTopmostCells(Y.getSelectionCells());Y.removeCells(et,!0)},null,null,!0,!0,!1),Ye.addSeparator(),Ye.addItem("Undo",null,()=>{k.undo(),Z.rpc("updateHirerachyTree")},null,null,!0,!0,!1),Ye.addSeparator(),Ye.addItem("æ¾å¤§",null,()=>{zoom(Y,T,!0)},null,null,!0,!0,!1),Ye.addItem("ç¼©å°",null,()=>{zoom(Y,T,!1)},null,null,!0,!0,!1)}let te=Y.getPlugin("PopupMenuHandler");te.autoExpand=!0,te.factoryMethod=ee}function useUndo(Y,T){const k=function(ee,te){T.undoableEditHappened(te.getProperty("edit"))},Z=function(ee,te){};Y.getDataModel().addListener(InternalEvent.UNDO,k),Y.getView().addListener(InternalEvent.UNDO,k),Y.getSelectionModel().addListener(InternalEvent.UNDO,k),Y.getDataModel().addListener(InternalEvent.REDO,Z),Y.getView().addListener(InternalEvent.REDO,Z),Y.getSelectionModel().addListener(InternalEvent.REDO,Z)}const{CURSOR,HANDLE_SIZE}=constants;class PointHandle{constructor(T,k=!1){bt(this,"state");bt(this,"cursor");bt(this,"shape",null);bt(this,"image",null);bt(this,"active",!1);bt(this,"isVirtual",!1);bt(this,"graph");bt(this,"getPosition");bt(this,"setPosition");bt(this,"executeFn");this.isVirtual=k,this.state=T,this.graph=T.view.graph,this.cursor=CURSOR.TERMINAL_HANDLE,this.shape=this.createShape(),this.initShape(),this.getPosition=Z=>null,this.setPosition=(Z,ee,te)=>{},this.executeFn=Z=>{},k&&setOpacity(this.shape.node,50)}createShape(){return new EllipseShape(new Rectangle(0,0,HANDLE_SIZE,HANDLE_SIZE),"##00a8ff","#00a8ff",2)}initShape(){this.shape&&(this.shape.dialect=DIALECT.SVG,this.isVirtual?this.shape.setCursor("crosshair"):this.shape.setCursor(this.cursor),this.shape.init(this.state.view.getOverlayPane()),InternalEvent.redirectMouseEvents(this.shape.node,this.graph,this.state))}setVisible(T){this.shape!=null&&(this.shape.node.style.display=T?"":"none"),this.shape!=null&&(this.shape.visible=T)}processEvent(T){const k=this.state.view.scale,Z=this.graph.view.translate,ee=new Point$1(T.getGraphX()/k-Z.x,T.getGraphY()/k-Z.y);this.shape!=null&&this.shape.bounds!=null&&(ee.x-=this.shape.bounds.width/2,ee.y-=this.shape.bounds.height/2,this.setPosition(this.state.getPaintBounds(),ee,T))}positionChanged(){this.state.shape!=null&&this.graph.cellRenderer.configureShape(this.state),this.graph.cellRenderer.redraw(this.state,!0)}execute(T){this.executeFn(T)}reset(){this.positionChanged()}redraw(){if(!this.shape||!this.state.shape)return;const T=this.getPosition(this.state.getPaintBounds());if(T&&this.shape.bounds){const k=this.graph.view.scale,Z=this.graph.view.translate;this.shape.bounds.x=Math.floor((T.x+Z.x)*k-this.shape.bounds.width/2),this.shape.bounds.y=Math.floor((T.y+Z.y)*k-this.shape.bounds.height/2),this.shape.redraw()}}destroy(){this.shape!=null&&(this.shape.destroy(),this.shape=null)}}class PolygonVertexHandler extends VertexHandler{constructor(k){super(k);bt(this,"virtualHandles",[]);bt(this,"isInit",!0);this.virtualHandles=this.createVirtualBends(),this.redraw()}isAddPointEvent(k){return isShiftDown(k.getEvent())}changePoint(k){const Z=k.getEvent();let ee=this.state.style.polyCoords??[];const te=ee.length;Z.button===0&&te<=12?ee=genRegularPolygonPoints(ee.length+1):Z.button===2&&te>4&&(ee=genRegularPolygonPoints(ee.length-1)),this.state.style.polyCoords=ee,this.reset(),this.graph.cellRenderer.redraw(this.state,!0)}getHandleForEvent(k){const Z=isMouseEvent(k.getEvent())?1:this.tolerance,ee=this.allowHandleBoundsCheck&&Z>0?new Rectangle(k.getGraphX()-Z,k.getGraphY()-Z,2*Z,2*Z):null,te=ne=>{const me=ne&&ne.constructor!==ImageShape&&this.allowHandleBoundsCheck?ne.strokeWidth+ne.svgStrokeTolerance:null,Ve=me?new Rectangle(k.getGraphX()-Math.floor(me/2),k.getGraphY()-Math.floor(me/2),me,me):ee;return ne&&ne.bounds&&(k.isSource(ne)||Ve&&intersects(ne.bounds,Ve)&&ne.node.style.display!=="none"&&ne.node.style.visibility!=="hidden")};if(te(this.rotationShape))return InternalEvent.ROTATION_HANDLE;if(te(this.labelShape))return InternalEvent.LABEL_HANDLE;for(let ne=0;ne<this.sizers.length;ne+=1)if(te(this.sizers[ne]))return ne;for(let ne=this.customHandles.length-1;ne>=0;ne--)if(te(this.customHandles[ne].shape))return InternalEvent.CUSTOM_HANDLE-ne;for(let ne=this.virtualHandles.length-1;ne>=0;ne--)if(te(this.virtualHandles[ne].shape))return InternalEvent.VIRTUAL_HANDLE-ne;return null}mouseMove(k,Z){if(Z.isConsumed()||this.index==null){!this.graph.isMouseDown&&this.getHandleForEvent(Z)&&Z.consume(!1);return}if(this.checkTolerance(Z),this.inTolerance){Z.consume();return}if(this.index<=InternalEvent.CUSTOM_HANDLE&&this.index>InternalEvent.VIRTUAL_HANDLE){if(this.customHandles!=null){const ee=this.customHandles[InternalEvent.CUSTOM_HANDLE-this.index];ee.processEvent(Z),ee.redraw(),ee.active=!0;let te=InternalEvent.CUSTOM_HANDLE-this.index,ne=(te-1+this.virtualHandles.length)%this.virtualHandles.length;this.virtualHandles[te].active=!1,this.virtualHandles[ne].active=!1,this.virtualHandles[te].redraw(),this.virtualHandles[ne].redraw(),this.ghostPreview!=null?(this.ghostPreview.apply(this.state),this.ghostPreview.strokeWidth=this.getSelectionStrokeWidth()/this.ghostPreview.scale/this.ghostPreview.scale,this.ghostPreview.isDashed=this.isSelectionDashed(),this.ghostPreview.stroke=this.getSelectionColor(),this.ghostPreview.redraw(),this.selectionBounds!=null&&(this.selectionBorder.node.style.display="none")):(this.movePreviewToFront&&this.moveToFront(),this.customHandles[InternalEvent.CUSTOM_HANDLE-this.index].positionChanged())}}else if(this.index<=InternalEvent.VIRTUAL_HANDLE){const ee=this.virtualHandles[InternalEvent.VIRTUAL_HANDLE-this.index];ee.processEvent(Z),ee.active=!0,ee.redraw(),ee.positionChanged()}else this.index===InternalEvent.LABEL_HANDLE?this.moveLabel(Z):(this.index===InternalEvent.ROTATION_HANDLE?this.rotateVertex(Z):this.resizeVertex(Z),this.updateHint(Z));Z.consume()}mouseUp(k,Z){if(this.index==null||this.state==null)return;const ee=new Point$1(Z.getGraphX(),Z.getGraphY()),{index:te}=this;this.index=null,this.ghostPreview==null&&(this.state.view.invalidate(this.state.cell,!1,!1),this.state.view.validate()),this.graph.batchUpdate(()=>{if(this.customHandles!=null&&te<=InternalEvent.CUSTOM_HANDLE&&te>InternalEvent.VIRTUAL_HANDLE){const ne=this.state.view.graph.getCellStyle(this.state.cell);this.customHandles[InternalEvent.CUSTOM_HANDLE-te].active=!1,this.customHandles[InternalEvent.CUSTOM_HANDLE-te].execute(Z),this.customHandles!=null&&this.customHandles[InternalEvent.CUSTOM_HANDLE-te]!=null&&(this.state.style=ne,this.customHandles[InternalEvent.CUSTOM_HANDLE-te].positionChanged())}else if(this.virtualHandles!=null&&te<=InternalEvent.VIRTUAL_HANDLE)this.virtualHandles[InternalEvent.VIRTUAL_HANDLE-te].execute(Z),this.virtualHandles[InternalEvent.VIRTUAL_HANDLE-te].active=!1,this.virtualHandles[InternalEvent.VIRTUAL_HANDLE-te].positionChanged();else if(te===InternalEvent.ROTATION_HANDLE)if(this.currentAlpha!=null){const ne=this.currentAlpha-(this.state.style.rotation??0);ne!==0&&this.rotateCell(this.state.cell,ne)}else this.rotateClick();else{const ne=this.graph.isGridEnabledEvent(Z.getEvent()),me=toRadians(this.state.style.rotation??0),Ve=Math.cos(-me),Ye=Math.sin(-me);let et=ee.x-this.startX,tt=ee.y-this.startY;const it=Ve*et-Ye*tt,st=Ye*et+Ve*tt;et=it,tt=st;const nt=this.graph.view.scale,rt=this.isRecursiveResize(this.state,Z);this.resizeCell(this.state.cell,this.roundLength(et/nt),this.roundLength(tt/nt),te,ne,this.isConstrainedEvent(Z),rt)}}),Z.consume(),this.reset()}getSelectionBounds(k){return new Rectangle(Math.round(k.x-8),Math.round(k.y-8),Math.round(k.width+16),Math.round(k.height+16))}getSelectionBorderBounds(){const k=this.state;return new Rectangle(Math.round(k.x),Math.round(k.y),Math.round(k.width),Math.round(k.height))}createCustomHandles(){const k=[],Z=this.state.style.polyCoords??[];for(let ee=0;ee<Z.length;ee++)(te=>{const ne=new PointHandle(this.state);ne.getPosition=me=>{const Ve=Z[te];return Ve?new Point$1(me.x+Ve.x*me.width,me.y+Ve.y*me.height):null},ne.setPosition=(me,Ve,Ye)=>{Z[te]=new Point$1(Math.round(100*Math.max(0,Math.min(1,(Ve.x-me.x)/me.width)))/100,Math.round(100*Math.max(0,Math.min(1,(Ve.y-me.y)/me.height)))/100),this.state.style.polyCoords=Z},k.push(ne)})(ee);return k}createVirtualBends(){const k=[],Z=this.state.style.polyCoords??[];for(let ee=0;ee<Z.length;ee++){const te=new PointHandle(this.state,!0);te.getPosition=ne=>{if(te.active){const Ye=Z[ee+1];return new Point$1(ne.x+Ye.x*ne.width,ne.y+Ye.y*ne.height)}const me=Z[ee],Ve=Z[(ee+1)%Z.length];return!me||!Ve?null:new Point$1(ne.x+(me.x+Ve.x)*.5*ne.width,ne.y+(me.y+Ve.y)*.5*ne.height)},te.setPosition=function(ne,me,Ve){const Ye=new Point$1(Math.round(100*Math.max(0,Math.min(1,(me.x-ne.x)/ne.width)))/100,Math.round(100*Math.max(0,Math.min(1,(me.y-ne.y)/ne.height)))/100);te.active?Z[ee+1]=Ye:Z.splice(ee+1,0,Ye),this.state.style.polyCoords=Z},k.push(te)}return k}setHandlesVisible(k){var Z;(Z=this.virtualHandles)==null||Z.forEach(ee=>{ee.setVisible(k)}),super.setHandlesVisible(k)}refresh(){this.virtualHandles.length>0&&(this.destroyBends(this.virtualHandles),this.virtualHandles=this.createVirtualBends()),this.customHandles.length>0&&(this.destroyBends(this.customHandles),this.customHandles=this.createCustomHandles())}reset(){this.refresh(),super.reset()}redraw(k){super.redraw(k)}redrawHandles(){var k;(k=this.virtualHandles)==null||k.forEach(Z=>{Z.redraw()}),super.redrawHandles()}destroyBends(k){if(k!=null)for(let Z=0;Z<k.length;Z+=1)k[Z]!=null&&k[Z].destroy()}isVirtualHandle(k){return k!=null&&k<=InternalEvent.VIRTUAL_HANDLE}isCustomHandle(k){return k!=null&&k<=InternalEvent.CUSTOM_HANDLE&&k>InternalEvent.VIRTUAL_HANDLE}onDestroy(){super.onDestroy(),this.destroyBends(this.virtualHandles),this.virtualHandles=[]}}class LvglGraph extends Graph{getChildOffsetForCell(T){if(this.model.isRoot(T))return null;this.view.scale;const k=getShapeByCell(this,T);if(!k||!k.lvglObj)return null;let Z=0,ee=0;const te=getShapeByCell(this,T.getParent());let ne=te?te.lvglObj:k.screen;if(!ne)return null;let me=Module.lv_obj_get_state(ne);const Ve=Module.lv_obj_get_style_border_side(ne,me);(Ve==lv_border_side_t.LV_BORDER_SIDE_LEFT||Ve==lv_border_side_t.LV_BORDER_SIDE_FULL)&&(Z+=Module.lv_obj_get_style_border_width(ne,me)),(Ve==lv_border_side_t.LV_BORDER_SIDE_TOP||Ve==lv_border_side_t.LV_BORDER_SIDE_FULL)&&(ee+=Module.lv_obj_get_style_border_width(ne,me));const Ye=Module.lv_obj_get_style_pad_left(ne,me),et=Module.lv_obj_get_style_pad_top(ne,me);Z+=Ye,ee+=et,me=Module.lv_obj_get_state(k.lvglObj);const tt=Module.lv_obj_get_style_margin_top(k.lvglObj,me),it=Module.lv_obj_get_style_margin_left(k.lvglObj,me);return Z+=it,ee+=tt,new Point$1(Z,ee)}createVertexHandler(T){return T.style.shape==="lvgl_polygon"?new PolygonVertexHandler(T):new VertexHandler(T)}}class PolygonDrawer{constructor(T,k){bt(this,"canvas");bt(this,"ctx");bt(this,"points",[]);bt(this,"tempPoint",null);bt(this,"isDrawing",!1);bt(this,"lastClickTime",0);bt(this,"doubleClickThreshold",300);bt(this,"finishDrawingCb");this.canvas=T,this.finishDrawingCb=k,this.ctx=this.canvas.getContext("2d"),this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,this.canvas.addEventListener("mouseup",ee=>this.handleClick(ee)),this.canvas.addEventListener("mousemove",ee=>this.handleMouseMove(ee));const Z=ee=>{ee.key==="Escape"&&this.isDrawing&&this.finishDrawing()};window.addEventListener("keydown",Z),this.render()}resizeCanvas(){this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,this.render()}handleClick(T){const k=T.button===2;if(this.isDrawing=!0,k)this.points.pop(),T.preventDefault();else{const Z=this.canvas.getBoundingClientRect(),ee=T.clientX-Z.left,te=T.clientY-Z.top;this.points.push({x:ee,y:te})}this.render()}handleMouseMove(T){if(!this.isDrawing)return;const k=this.canvas.getBoundingClientRect();this.tempPoint={x:T.clientX-k.left,y:T.clientY-k.top},this.render()}finishDrawing(){var T;this.points.length>=3&&(this.isDrawing=!1,this.tempPoint=null,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.points.length>=2&&(this.ctx.fillStyle="rgba(50, 150, 250, 0.3)",this.ctx.beginPath(),this.ctx.moveTo(this.points[0].x,this.points[0].y),this.points.forEach(k=>{this.ctx.lineTo(k.x,k.y)}),this.ctx.lineTo(this.points[0].x,this.points[0].y),this.ctx.closePath(),this.ctx.fill()),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)),(T=this.finishDrawingCb)==null||T.call(this,this.points),this.points=[]}render(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.points.forEach(T=>{this.ctx.fillStyle="#333",this.ctx.beginPath(),this.ctx.arc(T.x,T.y,4,0,Math.PI*2),this.ctx.fill()}),this.points.length>=2&&(this.ctx.strokeStyle="#333",this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(this.points[0].x,this.points[0].y),this.points.forEach(T=>{this.ctx.lineTo(T.x,T.y)}),this.ctx.stroke()),this.points.length>=2&&this.tempPoint&&(this.ctx.strokeStyle="#666",this.ctx.lineWidth=2,this.ctx.setLineDash([5,5]),this.ctx.beginPath(),this.ctx.moveTo(this.points[this.points.length-1].x,this.points[this.points.length-1].y),this.ctx.lineTo(this.tempPoint.x,this.tempPoint.y),this.ctx.stroke(),this.ctx.setLineDash([]),this.points.length>=2&&(this.ctx.fillStyle="rgba(50, 150, 250, 0.3)",this.ctx.beginPath(),this.ctx.moveTo(this.points[0].x,this.points[0].y),this.points.forEach(T=>{this.ctx.lineTo(T.x,T.y)}),this.ctx.lineTo(this.tempPoint.x,this.tempPoint.y),this.ctx.closePath(),this.ctx.fill())),this.ctx.fillStyle="#666",this.ctx.font="14px Arial",this.points.length===0?this.ctx.fillText("ç¹å»ç»å¸å¼å§ç»å¶å¤è¾¹å½¢é¡¶ç¹",10,20):this.ctx.fillText("æ ESC ç»æç»å¶ï¼å³é®æ¤éä¸ä¸ä¸ªé¡¶ç¹",10,20)}getPolygonPoints(){return[...this.points]}}function parseInt2(Y,T=0){return Number(Y.toFixed(T))}function getMinimumBoundingRect(Y){if(Y.length<3)throw new Error("å¤è¾¹å½¢è³å°éè¦3ä¸ªé¡¶ç¹");const T=Math.min(...Y.map(Ve=>Ve.x)),k=Math.max(...Y.map(Ve=>Ve.x)),Z=Math.min(...Y.map(Ve=>Ve.y)),ee=Math.max(...Y.map(Ve=>Ve.y)),te=k-T,ne=ee-Z,me=Y.map(Ve=>({x:parseInt2((Ve.x-T)/te,2),y:parseInt2((Ve.y-Z)/ne,2)}));return{x:parseInt2(T),y:parseInt2(Z),width:parseInt2(te),height:parseInt2(ne),points:me}}var root_1$j=template('<div class="absolute bg-white border border-black border-dashed z-[101]"></div>'),root_3$8=template('<canvas class="absolute origin-top-left w-full h-full left-0 top-0 z-[101]"></canvas> <button class="absolute right-0 top-0 z-[102] tt opacity-100 bg-blue-500 text-white font-bold py-2 px-4 rounded cursor-pointer svelte-1dw2v12">finish Drawing</button>',1),root$1n=template("<div><!></div>");function Mask(Y,T){push(T,!0);let k=state(null),Z=state(null),ee=state(null),te=0,ne=0,me=prop(T,"isShow",15),Ve=prop(T,"mode",3,"rectangle");function Ye(ht){if(!me())return;const dt=ht.clientX,ct=ht.clientY,ut=(dt-te).toFixed(0),ft=(ct-ne).toFixed(0);get$2(Z).style.width=`${ut}px`,get$2(Z).style.height=`${ft}px`}function et(){get$2(Z).style.width="0px",get$2(Z).style.height="0px"}function tt(ht){st=new PolygonDrawer(ht,dt=>{var ut;if(me(!1),dt.length<3)return;const ct=getMinimumBoundingRect(dt);console.log(T.release),(ut=T.release)==null||ut.call(T,ct)})}const it=ht=>{ht.addEventListener("mousedown",dt=>{if(!me()||!get$2(Z))return;te=dt.clientX,ne=dt.clientY;const ct=ht.getBoundingClientRect(),ut=dt.clientX-ct.left,ft=dt.clientY-ct.top;get$2(Z).style.left=`${ut}px`,get$2(Z).style.top=`${ft}px`,get$2(k).addEventListener("mousemove",Ye)}),ht.addEventListener("mouseup",dt=>{if(!get$2(Z))return;ht.removeEventListener("mousemove",Ye);const ct=ht.getBoundingClientRect(),ut=(te-ct.left).toFixed(0),ft=(ne-ct.top).toFixed(0),vt=get$2(Z).style.width,mt=get$2(Z).style.height;me(!1),T.release&&T.release({x:parseInt(ut),y:parseInt(ft),width:parseInt(vt),height:parseInt(mt),points:[]}),et()})};let st=null;onMount(()=>{});var nt=root$1n(),rt=child(nt);{var lt=ht=>{var dt=root_1$j();bind_this(dt,ct=>set(Z,ct),()=>get$2(Z)),append(ht,dt)},ot=(ht,dt)=>{{var ct=ut=>{var ft=root_3$8(),vt=first_child(ft);action(vt,_t=>tt==null?void 0:tt(_t)),bind_this(vt,_t=>set(ee,_t),()=>get$2(ee));var mt=sibling(vt,2);mt.__click=()=>{st==null||st.finishDrawing()},append(ut,ft)};if_block(ht,ut=>{me()&&Ve()==="polygon"&&ut(ct)},dt)}};if_block(rt,ht=>{Ve()==="rectangle"?ht(lt):ht(ot,!1)})}bind_this(nt,ht=>set(k,ht),()=>get$2(k)),action(nt,ht=>it==null?void 0:it(ht)),template_effect(()=>set_class(nt,1,`absolute w-full h-full left-0 top-0 z-[100] bg-gray-200/50 ${(me()?"block":"hidden")??""}`)),append(Y,nt),pop()}delegate(["click"]);class LvglRubberBand extends RubberBandHandler{execute(T){const k=new Rectangle(this.x,this.y,this.width,this.height);this.graph.selectRegion(k,T).length===0&&this.graph.fireEvent(new EventObject("createCellInRegion",{rectangle:k}))}}function createHMIWidget(Y){let k=Y.getDefaultParent(),Z=new BitButton$4(new Geometry(200,200,100,50));Y.addCell(Z,k),Z=new QRCode(new Geometry(160,0,100,50)),Y.addCell(Z,k),Z=new FlowBlock$2(new Geometry(160,60,100,50)),Y.addCell(Z,k),Z=new Roller$3(new Geometry(270,0,100,50)),Y.addCell(Z,k),Z=new SlideSwitch$2(new Geometry(270,60,100,50)),Y.addCell(Z,k),Z=new DateDisplayer(new Geometry(270,120,100,50)),Y.addCell(Z,k),Z=new NumberDisplayer(new Geometry(390,0,100,50)),Y.addCell(Z,k),Z=new XYCurve$3(new Geometry(390,60,100,50)),Y.addCell(Z,k),Z=new DataGroup$3(new Geometry(390,120,100,50)),Y.addCell(Z,k),Z=new RingChart$2(new Geometry(390,180,100,50)),Y.addCell(Z,k),Z=new TrendChart$3(new Geometry(390,240,100,50)),Y.addCell(Z,k),Z=new ASCIIDisplayer(new Geometry(500,0,100,50)),Y.addCell(Z,k),Z=new FunctionButton$3(new Geometry(500,60,100,50)),Y.addCell(Z,k),Z=new PolymorphicButton$3(new Geometry(500,120,100,50)),Y.addCell(Z,k),Z=new WordButton$4(new Geometry(100,100,100,100)),Y.addCell(Z,k),Z=new MoveTrai(new Geometry(0,0,100,100)),Y.addCell(Z,k),Z=new Scale$2(new Geometry(400,400,100,100)),Y.addCell(Z,k)}function switchActiveState(Y,T,k,Z,ee){set(T,!get$2(T)),set(k,!get$2(k))}var on_click$d=Y=>{Y.currentTarget.focus()},root$1m=template('<div class="wrapper svelte-aq52l1"><div class="wrapper-canvas svelte-aq52l1"><div class="relative h-full" tabindex="0" id="handler"><!> <div class="graph-container svelte-aq52l1"></div> <canvas></canvas></div></div></div> <button title="Toggle Active State"> </button>',1);function LvglCanvas(Y,T){push(T,!0);const k=new libExports.RpcProvider((yt,St)=>window.postMessage(yt,"*",St));window.addEventListener("message",yt=>k.dispatch(yt.data));let Z=new LvglBase("screen","123"),ee=state(!1);const te=T.api;let ne=state(proxy(te.height)),me=state(proxy(te.width)),Ve=state(void 0),Ye=state(void 0);proxy({onclick:!1,startRect:{x:0,y:0}}),te.onDidDimensionsChange(yt=>{set(ne,proxy(yt.height)),set(me,proxy(yt.width))});let{xmlContent:et,screen:tt}=T.params,it=state(void 0),st=state(proxy(tt.canvas)),nt=proxy([]),rt=state(!1),lt;function ot(yt){const St=tt.width,At=tt.height;yt.style.width=St+"px",yt.style.height=At+"px",initLvglCanvas(get$2(st),tt),get$2(st).style.transformOrigin="top left",tt.canvas=get$2(st);const Ct=new UndoManager(20),It=new LvglGraph(yt);new LvglRubberBand(It),It.setEnabled(!0),It.addListener("createCellInRegion",(Ft,jt)=>{if(curSelectedWidget==="")return;const Gt=jt.getProperty("rectangle");ht({x:parseInt(Gt.x.toFixed(0)),y:parseInt(Gt.y.toFixed(0)),width:parseInt(Gt.width.toFixed(0)),height:parseInt(Gt.height.toFixed(0)),points:[]})});const Ot=document.getElementById("handler");useKeyboard(It,Ot,tt,Ct,k);const Dt=It.getDefaultParent(),$t=It.getView().getState(Dt);if($t){const Ft=It.getCellStyle(Dt);Ft.lvglObjT=tt.screenObj,Ft.type="screen",Ft.name="Screen",It.setCellStyle(Ft,[Dt]),Z.apply($t),tt.shape=Z,screenStore.screens[tt.id]=tt}It.gridSize=5,It.setAllowNegativeCoordinates(!0),It.setPanning(!1),It.setEventsEnabled(!0);const Ht=It.getPlugin("SelectionHandler");return Ht.scrollOnMove=!1,Ht.setCloneEnabled(!1),k.registerRpcHandler("exportCanvas",({id:Ft})=>{Ft===tt.id&&exportXML(It,tt,"lvgl_canvas.xml")}),useBase(It,nt,k),useGraphDrop(It,nt,k),useSelectChange(It,nt,Z,tt,k),useHirerachyTree(It,nt,k),useUndo(It,Ct),usePopupMenu(It,tt,Ct,k),useLvglEvent(It,tt,k),useAnimation(It,k),InternalEvent.disableContextMenu(yt),registerLvglShape(),screenStore.graphs[tt.id]=It,It}function ht(yt){var St;console.log("release rect",yt),!(yt.width<=0||yt.height<=0)&&curSelectedWidget!==""&&(lt.insertVertex(lt.getDefaultParent(),null,null,yt.x,yt.y,yt.width,yt.height,{shape:"lvgl_"+curSelectedWidget,screen:(St=screenStore.curScreen)==null?void 0:St.screenObj,polyCoords:yt.points.map(At=>new Point$1(At.x,At.y)),foldable:!1}),selectedEnd())}function dt(){if(get$2(it).focus(),!screenStore.curScreen||screenStore.curScreen.id===tt.id)return;switchScreen(screenStore.curScreen,tt),screenStore.curScreen=tt,screenStore.curGraph=lt,widgetStores.widgets=nt,Module.ctx=get$2(st).getContext("2d");const St=lt.getSelectionModel().cells;if(k.rpc("updateHirerachyTree"),St.length<=0){widgetProps.props=Z.getPropsData(),widgetProps.curlvglShape=Z;return}const At=getShapeByCell(lt,St[0]);At&&(widgetProps.props=At.getPropsData(),widgetProps.curlvglShape=At),widgetProps.update++}onMount(()=>{lt=ot(get$2(it)),lt.addListener(InternalEvent.MOUSE_DOWN,()=>{console.log("click")}),get$2(it).addEventListener("dragover",yt=>{yt.preventDefault()}),get$2(it)&&new ResizeObserver(St=>{const At=St[0],{width:Ct,height:It}=At.contentRect;get$2(Ve)&&(get$2(Ve).style.width=`${Ct}px`,get$2(Ve).style.height=`${It}px`)}).observe(get$2(it)),te.onDidActiveChange(yt=>{yt.isActive&&dt()}),lt.addListener(InternalEvent.CLICK,(yt,St)=>{typeState.type="lvgl",dt()}),screenStore.curGraph=lt,widgetStores.widgets=nt,lt.getDefaultParent(),et?importXML(lt,et,tt.screenObj):createHMIWidget(lt),widgetProps.props=Z.getPropsData(),widgetProps.curlvglShape=Z}),onDestroy(()=>{lt.destroy(),delete screenStore.screens[tt.id],delete screenStore.graphs[tt.id]});var ct=root$1m(),ut=first_child(ct),ft=child(ut),vt=child(ft);vt.__click=[on_click$d];var mt=child(vt);Mask(mt,{release:ht,mode:"polygon",get isShow(){return get$2(ee)},set isShow(yt){set(ee,proxy(yt))}});var _t=sibling(mt,2);bind_this(_t,yt=>set(it,yt),()=>get$2(it));var Et=sibling(_t,2);bind_this(Et,yt=>set(st,yt),()=>get$2(st)),bind_this(ft,yt=>set(Ve,yt),()=>get$2(Ve)),bind_this(ut,yt=>set(Ye,yt),()=>get$2(Ye));var Tt=sibling(ut,2);Tt.__click=[switchActiveState,ee,rt,it,st];var xt=child(Tt);template_effect(()=>{set_style(Et,`transform: scale(${tt.scale??""}); transform-origin: top left;`),set_class(Tt,1,`active-button ${(get$2(rt)?"bg-sky-500/100":"bg-gray-500/100")??""}`,"svelte-aq52l1"),set_text(xt,get$2(rt)?"Active":"InActive")}),append(Y,ct),pop()}delegate(["click"]);class Connector extends ConnectionConstraint{constructor(T=new Point$1,k=!0,Z=null,ee=0,te=0,ne=!0,me=new Point$1){super(T,k,Z,ee,te),this.edge=null,this.negated=null,this.isInput=!0,this.isConnected=!1,this.relPosition=new Point$1,this.point=new Point$1,this.perimeter=!0,this.name=null,this.with=0,this.height=0,this.value=null,this.valueType="Null",this.dx=0,this.dy=0,this.textRegion=null,this.iconBounds=null,this.name=Z??"",this.formalParameter=Z??"",this.relPosition=me,this.isInput=ne}setValue(T){this.value=T,T===null?this.valueType="Null":this.valueType=typeof T}}function createConnector(Y,T,k){const Z=T.map(te=>new Connector(null,!0,te.name,0,0)),ee=k.map(te=>new Connector(null,!0,te.name,0,0,!1));return{typeName:Y,inputs:Z,outputs:ee}}function createPlc(Y){if(Y=="gun")return{typeName:"gun",inputs:[],outputs:[new Connector(null,!0,"",0,0,!1)],isExtend:!1};const T=PLcBlockList.getBlockList();for(const k in T){const Z=T[k].find(ee=>ee.name===Y);if(Z)return createConnector(Y,Z.inputs,Z.outputs)}}document.createElement("input");class FBDBlock extends Shape$1{constructor(){super(...arguments);bt(this,"typeName","");bt(this,"Description");bt(this,"Extension");bt(this,"ExecutionControl",!1);bt(this,"Id");bt(this,"Name","");bt(this,"ExecutionOrder",0);bt(this,"inputs",[]);bt(this,"outputs",[]);bt(this,"connectors",null);bt(this,"executionControl",!1);bt(this,"Highlights");bt(this,"propName","BlockProp");bt(this,"isAction",!1);bt(this,"MIN_LINE_SPACE",20)}Clone(k=null,Z="",ee=null){var ne;this.Name!==""&&Z===""&&(Z=this.Name);const te=new FBDBlock;return te.State!=((ne=this.State)==null?void 0:ne.clone()),te}GetConnectorTranslation(k){if(this.inputs)return Object.fromEntries(this.inputs.concat(this.outputs).map((Z,ee)=>[Z,k.Inputs.concat(k.outputs)[ee]]))}GetRedrawRect(k=0,Z=0){}Delete(){}Clean(){}RefreshNameSize(){}RefreshExecutionOrderSize(){}HitTest(){}GetTextBoundingBox(){}GetBlockBoundingBox(){}RefreshBoundingBox(){}RefreshConnectors(){}RefreshConnected(){}GetConnector(){}GetInputTypes(){}SetOutputValues(){}GetConnectionResultType(){}GetConnectors(){return{inputs:this.inputs,outputs:this.outputs}}GetTextExtent(){}GetBlockType(k,Z=null,ee=!1){}SetName(k){this.Name=k}GetName(){return this.Name}SetExtension(k){this.Extension=k}GetExtension(){return this.Extension}SetExecutionOrder(k){this.ExecutionOrder=k}GetExecutionOrder(){return this.ExecutionOrder}OnLeftDClick(){return this}OnRightUp(){}RefreshModel(){}GetToolTipValue(){return this.Description}paintVertexShape(k,Z,ee,te,ne){k.setFontSize(13),k.rect(Z,ee,te,ne),k.fillAndStroke(),this.drawConnector(k,Z,ee,te,ne)}getConnectorsSpace(k){var te,ne;const Z=Math.max(((te=this.inputs)==null?void 0:te.length)??1,((ne=this.outputs)==null?void 0:ne.length)??1);return Math.max(Math.floor((k-this.MIN_LINE_SPACE)/Z),this.MIN_LINE_SPACE)}drawConnector(k,Z,ee,te,ne){var st,nt;const Ye=this.getConnectorsSpace(ne);let et=this.MIN_LINE_SPACE+Ye/2;this.inputs&&this.inputs.length==1&&(et=ne/2);const tt=this.typeName.length*7,it=(te-tt)/2;k.text(Z+it,ee+10,0,0,this.typeName,"left","middle",!1,"","auto",!1,0,TEXT_DIRECTION.AUTO),(st=this.inputs)==null||st.forEach((rt,lt)=>{var ft;const ot=et+lt*Ye,dt=0+Z,ct=ot+ee,ut=parseFloat((Number(ot)/ne).toFixed(3));rt.point=new Point$1(0,ut),rt.relPosition=new Point$1(0,ot),k.begin(),k.moveTo(dt,ct),k.drawCircle(dt+9,ct,5),rt.iconBounds=new Rectangle(dt+9-5,ct-5,10,10),(((ft=rt.name)==null?void 0:ft.length)??0)*5,k.text(dt+9*1.8,ct,0,0,rt.name??"","left","middle",!1,"#000","visible",!1,0,"ltr"),k.stroke(),rt.textRegion=new Rectangle(dt+9*1.8,ct-10,20,20)}),this.outputs&&this.outputs.length==1&&!this.inputs&&(et=ne/2),(nt=this.outputs)==null||nt.forEach((rt,lt)=>{var ft;const ot=et+lt*Ye,ht=te,dt=ht+Z,ct=ot+ee,ut=parseFloat((Number(ot)/ne).toFixed(3));rt.point=new Point$1(1,ut),rt.relPosition=new Point$1(ht,ot),k.begin(),k.moveTo(dt,ct),k.text(dt-9*1.8,ct,0,0,rt.name??"","right","middle",!1,"","visible",!1,0,""),k.drawCircle(dt-9,ct,5),rt.iconBounds=new Rectangle(dt-9-5,ct-5,10,10),k.stroke(),(((ft=rt.name)==null?void 0:ft.length)??0)*5,rt.textRegion=new Rectangle(dt-9*1.8-20,ct-10,20,20)})}redrawCanvas(){var k;(k=this.State)==null||k.view.graph.refresh()}apply(k){super.apply(k),this.fill="NONE",this.strokeWidth=2,this.stroke="black";const Z=k.cell;let ee=Z.block||Z.variable;if(!ee){const te=Z.style.typeName;ee=createPlc(te)}ee&&(this.inputs=ee.inputs,this.outputs=ee.outputs,this.typeName=ee.typeName??"")}}function configureConnect(Y){Y.setConnectable(!0),Y.getAllConnectionConstraints=function(Z,ee){var te,ne;if(Z!=null&&Z.cell.isVertex()&&(Z==null?void 0:Z.shape)instanceof FBDBlock){const me=[],Ve=Z.shape;return(te=Ve.inputs)==null||te.forEach(Ye=>{me.push(Ye)}),ee&&((ne=Ve.outputs)==null||ne.forEach(Ye=>{me.push(Ye)})),me}return null};const T=Y.getPlugin("ConnectionHandler");T.createEdgeState=function(Z){const ee=Y.createEdge(null,"",null,null,null,{edgeStyle:"orthogonalEdgeStyle",strokeWidth:2,strokeColor:"black",endArrow:"none"});return new CellState(this.graph.view,ee,this.graph.getCellStyle(ee))},T.connectImage==null&&(T.isConnectableCell=function(){return!1},EdgeHandler.prototype.isConnectableCell=function(Z){return T.isConnectableCell(Z)});const k=Y.setConnectionConstraint;Y.setConnectionConstraint=function(Z,ee,te=!1,ne=null){var me;if(k.apply(this,arguments),ne instanceof Connector&&(te?Z.sourceName=ne.formalParameter:Z.targetName=ne.formalParameter,!te)){const Ve=Y.getView().getState(ee);ne.link={formalParameter:Ve.shape.typeName??"",refLocalId:((me=Z.source)==null?void 0:me.id)??"",points:[]}}},Y.getView().updateFixedTerminalPoints=function(Z,ee,te){if(ee!=null&&ee.shape&&ee.shape.outputs){const ne=getConnectorByName(Z,ee.shape.outputs,!0);ne?(ne.isConnected=!0,updateFixedTerminalPoint(Z,ee,!0,ne)):this.updateFixedTerminalPoint(Z,ee,!0,this.graph.getConnectionConstraint(Z,ee,!0))}else this.updateFixedTerminalPoint(Z,ee,!0,this.graph.getConnectionConstraint(Z,ee,!0));if(te!=null&&te.shape&&te.shape.inputs){const ne=getConnectorByName(Z,te.shape.inputs,!1);ne?(ne.isConnected=!0,updateFixedTerminalPoint(Z,te,!1,ne)):this.updateFixedTerminalPoint(Z,te,!1,this.graph.getConnectionConstraint(Z,te,!1))}else this.updateFixedTerminalPoint(Z,te,!1,this.graph.getConnectionConstraint(Z,te,!1))}}function updateFixedTerminalPoint(Y,T,k,Z){if(!T)return;const ee=Z.relPosition;!k&&Z.link&&Z.link.points.forEach(ne=>{Y.setAbsoluteTerminalPoint(ne,!1)});const te=new Point$1(ee.x+T.x,ee.y+T.y);k?te.x-=5.5:te.x+=5.5,Y.setAbsoluteTerminalPoint(te,k)}function getConnectorByName(Y,T,k=!1){const Z=Y.cell,ee=(k?Z.sourceName:Z.targetName)??"",te=T.find(ne=>ne.formalParameter===ee);return te||null}class FBD_Variable extends Shape$1{constructor(){super(...arguments);bt(this,"typeName","");bt(this,"ValueType");bt(this,"Id");bt(this,"name","");bt(this,"executionOrder",0);bt(this,"inputs",[]);bt(this,"outputs",[]);bt(this,"type");bt(this,"value_type");bt(this,"Highlights");bt(this,"propName","VariableProp");bt(this,"MIN_LINE_SPACE",20)}Clone(k=null,Z="",ee=null){var ne;this.Name!==""&&Z===""&&(Z=this.Name);const te=new FBD_Variable;return te.State!=((ne=this.State)==null?void 0:ne.clone()),te}GetConnectorTranslation(k){if(this.inputs)return Object.fromEntries(this.inputs.concat(this.outputs).map((Z,ee)=>[Z,k.Inputs.concat(k.outputs)[ee]]))}GetRedrawRect(k=0,Z=0){}Delete(){}Clean(){}RefreshNameSize(){}RefreshExecutionOrderSize(){}HitTest(){}GetTextBoundingBox(){}GetBlockBoundingBox(){}RefreshBoundingBox(){}RefreshConnectors(){}RefreshConnected(){}GetConnector(){}GetInputTypes(){}SetOutputValues(){}GetConnectionResultType(){}GetConnectors(){return{inputs:this.inputs,outputs:this.outputs}}GetTextExtent(){}SetName(k){this.Name=k}GetName(){return this.Name}SetExtension(k){this.Extension=k}GetExtension(){return this.Extension}SetExecutionOrder(k){this.ExecutionOrder=k}GetExecutionOrder(){return this.ExecutionOrder}OnLeftDClick(){return this}OnRightUp(){}RefreshModel(){}GetToolTipValue(){return this.Description}paintVertexShape(k,Z,ee,te,ne){k.setFontSize(13),k.rect(Z,ee,te,ne),k.fillAndStroke(),this.drawConnector(k,Z,ee,te,ne)}getConnectorsSpace(k){var te,ne;const Z=Math.max(((te=this.inputs)==null?void 0:te.length)??1,((ne=this.outputs)==null?void 0:ne.length)??1);return Math.max(Math.floor((k-this.MIN_LINE_SPACE)/Z),this.MIN_LINE_SPACE)}drawConnector(k,Z,ee,te,ne){var st,nt;const Ye=this.getConnectorsSpace(ne);let et=this.MIN_LINE_SPACE+Ye/2;this.inputs&&this.inputs.length==1&&(et=ne/2);const tt=this.typeName.length*10,it=(te-tt)/2;k.text(Z+it,ee+10,0,0,this.typeName,"left","middle",!1,"","auto",!1,0,TEXT_DIRECTION.AUTO),(st=this.inputs)==null||st.forEach((rt,lt)=>{var vt;const ot=et+lt*Ye,dt=0+Z,ct=ot+ee,ut=parseFloat((Number(ot)/ne).toFixed(3));rt.point=new Point$1(0,ut),rt.relPosition=new Point$1(0,ot),k.begin(),k.moveTo(dt,ct),k.drawCircle(dt+7,ct,3);const ft=(((vt=rt.name)==null?void 0:vt.length)??0)*2;k.text(dt+7+ft,ct,0,0,rt.name??"","center","middle",!1,"#000","visible",!1,0,"ltr"),k.stroke()}),this.outputs&&this.outputs.length==1&&!this.inputs&&(et=ne/2),(nt=this.outputs)==null||nt.forEach((rt,lt)=>{var vt;const ot=et+lt*Ye,ht=te,dt=ht+Z,ct=ot+ee,ut=parseFloat((Number(ot)/ne).toFixed(3));rt.point=new Point$1(1,ut),rt.relPosition=new Point$1(ht,ot);const ft=(((vt=rt.name)==null?void 0:vt.length)??0)*8;k.begin(),k.moveTo(dt,ct),k.text(dt-7-ft,ct,0,0,rt.name??"","left","middle",!1,"","visible",!1,0,""),k.drawCircle(dt-7,ct,3),k.stroke()})}apply(k){super.apply(k),this.fill="NONE",this.strokeWidth=2,this.stroke="black";const Z=k.cell;let ee=Z.variable;if(!ee){const te=Z.style.typeName;ee=createPlc(te)}ee&&(this.Id=ee.localId,this.name=Z.value,this.executionOrder=ee.executionOrderId,this.inputs=ee.inputs,this.outputs=ee.outputs,this.typeName=ee.typeName??"")}}class FBD_Connector extends Shape$1{constructor(){super(...arguments);bt(this,"Type","");bt(this,"Id");bt(this,"name","");bt(this,"Pos",new Point$1(0,0));bt(this,"Size");bt(this,"Highlights",[]);bt(this,"propName","ConnectProp");bt(this,"MIN_LINE_SPACE",20)}Clone(k=null,Z="",ee=null){var ne;this.Name!==""&&Z===""&&(Z=this.Name);const te=new FBD_Connector;return te.State!=((ne=this.State)==null?void 0:ne.clone()),te}GetRedrawRect(k=0,Z=0){}Delete(){}Clean(){}RefreshNameSize(){}RefreshExecutionOrderSize(){}HitTest(){}GetTextBoundingBox(){}GetBlockBoundingBox(){}RefreshBoundingBox(){}RefreshConnectors(){}RefreshConnected(){}GetConnector(){}GetInputTypes(){}SetOutputValues(){}GetConnectionResultType(){}GetConnectors(){return{inputs:this.inputs,outputs:this.outputs}}GetTextExtent(){}SetName(k){this.Name=k}GetName(){return this.Name}SetExtension(k){this.Extension=k}GetExtension(){return this.Extension}SetExecutionOrder(k){this.ExecutionOrder=k}GetExecutionOrder(){return this.ExecutionOrder}OnLeftDClick(){return this}OnRightUp(){}RefreshModel(){}GetToolTipValue(){return this.Description}paintVertexShape(k,Z,ee,te,ne){k.setFontSize(13),k.rect(Z,ee,te,ne),k.fillAndStroke(),this.drawConnector(k,Z,ee,te,ne)}getConnectorsSpace(k){var te,ne;const Z=Math.max(((te=this.inputs)==null?void 0:te.length)??1,((ne=this.outputs)==null?void 0:ne.length)??1);return Math.max(Math.floor((k-this.MIN_LINE_SPACE)/Z),this.MIN_LINE_SPACE)}drawConnector(k,Z,ee,te,ne){var tt,it;const Ye=this.getConnectorsSpace(ne);let et=this.MIN_LINE_SPACE+Ye/2;this.inputs&&this.inputs.length==1&&(et=ne/2),(tt=this.inputs)==null||tt.forEach((st,nt)=>{var ut;const rt=et+nt*Ye,ot=0+Z,ht=rt+ee,dt=parseFloat((Number(rt)/ne).toFixed(3));st.point=new Point$1(0,dt),st.relPosition=new Point$1(0,rt),k.begin(),k.moveTo(ot,ht),k.drawCircle(ot+7,ht,3);const ct=(((ut=st.name)==null?void 0:ut.length)??0)*2;k.text(ot+7+ct,ht,0,0,st.name??"","center","middle",!1,"#000","visible",!1,0,"ltr"),k.stroke()}),this.outputs&&this.outputs.length==1&&!this.inputs&&(et=ne/2),(it=this.outputs)==null||it.forEach((st,nt)=>{var ut;const rt=et+nt*Ye,lt=te,ot=lt+Z,ht=rt+ee,dt=parseFloat((Number(rt)/ne).toFixed(3));st.point=new Point$1(1,dt),st.relPosition=new Point$1(lt,rt);const ct=(((ut=st.name)==null?void 0:ut.length)??0)*8;k.begin(),k.moveTo(ot,ht),k.text(ot-7-ct,ht,0,0,st.name??"","left","middle",!1,"","visible",!1,0,""),k.drawCircle(ot-7,ht,3),k.stroke()})}apply(k){super.apply(k),this.fill="NONE",this.strokeWidth=2,this.stroke="black";const Z=k.cell;let ee=Z.connector;if(!ee){const te=Z.style.typeName;ee=createPlc(te)}ee&&(this.Type=Z.value,this.name=ee.name,this.inputs=ee.inputs,this.outputs=ee.outputs)}}class FBD{constructor(){bt(this,"cells",[]);bt(this,"edges",[])}}class FbdCodec extends ObjectCodec{constructor(){super(new FBD);bt(this,"elements",{});bt(this,"objects",{})}encodePosition(k,Z,ee,te=!1){if(!ee)return;const ne=ee.x,me=ee.y,Ve=te?"relPosition":"position",Ye=k.document.createElement(Ve);Ye.setAttribute("x",`${ne}`),Ye.setAttribute("y",`${me}`),Z.appendChild(Ye)}encodeConnection(k,Z,ee){var ne;if(!ee)return;const te=k.document.createElement("connection");te.setAttribute("refLocalId",`${ee.refLocalId??""}`),(ne=ee.points)==null||ne.forEach(me=>{const Ve=k.document.createElement("position");Ve.setAttribute("x",`${me.x}`),Ve.setAttribute("y",`${me.y}`),te.appendChild(Ve)}),Z.appendChild(te)}encodeConnectionPoint(k,Z,ee,te){const ne=k.document.createElement("connectionPoint"+ee);this.encodePosition(k,ne,te==null?void 0:te.relPosition,!0),ee=="In"&&this.encodeConnection(k,ne,te.link),Z.appendChild(ne)}encodeVariables(k,Z,ee,te){const ne=ee.toLowerCase().slice(0,1)+ee.slice(1)+"putVariables",me=k.document.createElement(ne);te.forEach(Ve=>{const Ye=k.document.createElement("variable");Ye.setAttribute("formalParameter",Ve.formalParameter),this.encodeConnectionPoint(k,Ye,ee,Ve),me.appendChild(Ye)}),Z.appendChild(me)}attributeToXml(k,Z,ee,te){const ne=ee.getGeometry(),me=new Point$1(ne.x,ne.y);te.width=ne.width,te.height=ne.height,te.instanceName="init_Command",te.executionOrderId=0,this.encodePosition(k,Z,me);for(const Ve in te){if(Ve==="inputs"||Ve==="outputs")continue;const Ye=te[Ve];super.encodeValue(k,te,Ve,Ye,Z)}}encodeIoVariable(k,Z,ee){const te=ee.variable;let ne="inVariable",me="Out",Ve;!te.inputs&&te.outputs?(ne="inVariable",me="Out",Ve=te.outputs[0]):te.inputs&&!te.outputs?(ne="outVariable",me="In",Ve=te.inputs[0]):te.inputs&&te.outputs&&(ne="inOutVariable",Ve=te.inputs[0]);const Ye=k.document.createElement(ne);this.attributeToXml(k,Ye,ee,te),this.encodeConnectionPoint(k,Ye,me,Ve);const et=k.document.createElement("expression");et.innerHTML=ee.getValue(),Ye.appendChild(et),Z.appendChild(Ye)}encodeObject(k,Z,ee){Z.cells.forEach(te=>{if(te.isVertex()&&te.block){const ne=te.block,me=k.document.createElement("block");this.attributeToXml(k,me,te,ne),this.encodeVariables(k,me,"In",ne.inputs);const Ve=k.document.createElement("inOutVariables");me.appendChild(Ve),this.encodeVariables(k,me,"Out",ne.outputs),ee.appendChild(me)}else te.isVertex()&&te.variable&&this.encodeIoVariable(k,ee,te)})}updateElements(k){let Z=k.firstElementChild;for(;Z!=null;)this.addElement(Z),Z=Z.nextElementSibling}addElement(k){if(k.nodeType===1){const Z=k.getAttribute("localId");if(Z!=null){if(this.elements[Z]==null)this.elements[Z]=k;else if(this.elements[Z]!==k)throw new Error(`${Z}: Duplicate ID`)}}}getObject(k,Z,ee){let te=this.objects[Z];if(te)return te;const ne=this.elements[Z];return te=this.decodeChild(k,ne,ee),te}decodeChildren(k,Z,ee){this.updateElements(Z);for(const te in this.elements)this.objects[te]||this.decodeChild(k,this.elements[te],ee)}decodeChild(k,Z,ee){const te=Z.nodeName;switch(te){case"block":return this.decodeBlock(k,Z,ee);case"inVariable":return this.deIoVariable(k,Z,ee,"Out");case"outVariable":return this.deIoVariable(k,Z,ee,"In");default:return this.decodeConnector(k,Z,ee,te)}}afterDecode(k,Z,ee){this.elements={},this.objects={}}decodeConnector(k,Z,ee,te){const ne={},me=this.createCell(k,Z,ne);me.setValue(te),me.setStyle({shape:"FBD_Connector",typeName:"outVariable",strokeColor:"black",fontSize:13});let Ve;te==="connector"?Ve="In":te==="continuation"&&(Ve="Out");const Ye=this.decodeConnectionPoint(k,Z,ne,ee,Ve);return Ye&&(me.insertEdge(Ye,!1),ee.cells.push(Ye)),me.connector=ne,ee.cells.push(me),me}decodeConnection(k,Z,ee,te){const ne=[],me=Z.querySelector("connection"),Ve=me==null?void 0:me.getAttribute("refLocalId"),Ye=me.getAttribute("formalParameter")??"";me==null||me.querySelectorAll("position").forEach(it=>{const st=this.decodePosition(it);ne.push(st)});const et=this.getObject(k,Ve,te),tt=new Cell(null,null);return tt.setGeometry(new Geometry),tt.setEdge(!0),tt.setStyle({edgeStyle:"elbowEdgeStyle",strokeWidth:2,strokeColor:"black",endArrow:"none",elbow:"horizontal"}),et==null||et.insertEdge(tt,!0),tt.sourceName=Ye,ee.link={formalParameter:Ye,refLocalId:Ve,points:ne},tt}decodeConnectionPoint(k,Z,ee,te,ne){const me=Z.querySelector(`connectionPoint${ne}`),Ve=this.decodeNodePos(me,!0),Ye=Z.getAttribute("formalParameter")??"",et=new Connector(new Point$1,!0,Ye,0,0,ne!=="Out",Ve);if(ne==="Out")ee.outputs||(ee.outputs=[]),ee.outputs.push(et);else if(ne==="In"){const tt=this.decodeConnection(k,me,et,te);return tt.targetName=Ye,ee.inputs||(ee.inputs=[]),ee.inputs.push(et),tt}return null}deIoVariable(k,Z,ee,te){const ne={},me=this.createCell(k,Z,ne),Ve=this.decodeConnectionPoint(k,Z,ne,ee,te);Ve&&(me.insertEdge(Ve,!1),ee.cells.push(Ve));const Ye=Z.querySelector("expression").innerHTML;me.setValue(Ye);let et="";return te=="In"?et="out":te=="out"&&(et="in"),me.setStyle({shape:"FBD_Variable",typeName:`${et}Variable`,fontSize:13,fillColor:"transparent",verticalLabelPosition:"middle",verticalAlign:"middle",fontColor:"black",strokeColor:"black"}),me.variable=ne,ee.cells.push(me),me}decodePosition(k){const Z=Number(k.getAttribute("x")),ee=Number(k.getAttribute("y"));return new Point$1(Z,ee)}decodeNodePos(k,Z=!1){if(!k)return new Point$1;let ee;return Z?ee=k.querySelector("relPosition"):ee=k.querySelector("position"),this.decodePosition(ee)}createCell(k,Z,ee){super.decodeAttributes(k,Z,ee);const te=ee.width,ne=ee.height,me=ee.typeName??ee.name,Ve=this.decodeNodePos(Z),Ye=new Cell(me,new Geometry(Ve.x,Ve.y,te,ne),{shape:"FBD_Block",fillColor:"transparent",verticalLabelPosition:"top",verticalAlign:"bottom",fontSize:13,fontColor:"black",strokeColor:"black"});return Ye.setVertex(!0),this.objects[ee.localId]=Ye,Ye}decodeBlock(k,Z,ee){const te={},ne=this.createCell(k,Z,te),me=Z.querySelector("inputVariables"),Ve=this.decodeVariables(k,me,te,"In",ee);Ve.forEach(et=>{ne.insertEdge(et,!1)});const Ye=Z.querySelector("outputVariables");return this.decodeVariables(k,Ye,te,"Out",ee),ne.block=te,ee.cells.push(ne,...Ve),ne}decodeVariables(k,Z,ee,te,ne){const me=[];return Z==null||Z.querySelectorAll("variable").forEach(Ve=>{const Ye=this.decodeConnectionPoint(k,Ve,ee,ne,te);Ye&&me.push(Ye)}),me}}CodecRegistry.register(new FbdCodec);class Interface{constructor(){bt(this,"pouVars",[])}}class interfaceCodec extends ObjectCodec{constructor(){super(new Interface)}decodeChildren(T,k,Z){let ee=k.firstElementChild;for(;ee!=null;)this.decodeChild(T,ee,Z),ee=ee.nextElementSibling}decodeChild(T,k,Z){k.querySelectorAll("variable").forEach(te=>{const ne=k==null?void 0:k.nodeName,me=(te==null?void 0:te.getAttribute("name"))??"",Ye=(te==null?void 0:te.querySelector("type")).children[0].nodeName;Z.pouVars.push({category:ne,name:me,type:Ye,option:"",initVal:"",doc:""})})}}CodecRegistry.register(new interfaceCodec);function registerShapes(){CellRenderer.registerShape("FBD_Block",FBDBlock),CellRenderer.registerShape("FBD_Variable",FBD_Variable),CellRenderer.registerShape("FBD_Connector",FBD_Connector)}function baseConfigure(Y,T){registerShapes();const k=Y.getPlugin("SelectionHandler");k.maxLivePreview=2,k.guidesEnabled=!0,Y.gridSize=8,T&&InternalEvent.disableContextMenu(T),new RubberBandHandler(Y),configureConnect(Y)}var root$1l=template('<div id="container" class="relative w-screen h-screen bg-[#f0f0f0]"><!> <div class="absolute hidden w-8 h-6 bg-blue-500" id="ppp"></div></div>');function PlcCanvas(Y,T){push(T,!0);let k,Z,ee,te=state("0px"),ne=state("0px"),me=state(!1),Ve=null;function Ye(lt,ot){lt.addEventListener("dragover",ht=>{ht.preventDefault()}),lt.addEventListener("drop",ht=>{var mt;const dt=(mt=ht.dataTransfer)==null?void 0:mt.getData("name");if(dt=="")return;const ct=ot.getDefaultParent(),ut=ht.currentTarget,ft=ht.pageX-ut.getBoundingClientRect().x,vt=ht.pageY-ut.getBoundingClientRect().y;ot.insertVertex(ct,null,null,ft,vt,130,120,{shape:"FBD_Block",typeName:dt})}),lt.addEventListener("click",ht=>{typeState.type="plc",ht.target==lt&&get$2(me)&&set(me,!1)})}function et(lt){lt.setHtmlLabels(!0),CellRenderer.registerShape("bezier",BezierShape);const ot=lt.getPlugin("ConnectionHandler");ot.livePreview=!0,ot.addListener(InternalEvent.CONNECT,(ht,dt)=>{if(dt.getProperty("terminal"))return;Ve=dt.getProperty("cell");const ut=dt.getProperty("event");set(ne,`${ut.clientX-13}px`),set(te,`${ut.clientY-13}px`)}),ot.createEdgeState=()=>{const ht=lt.createEdge(null,"",null,null,null,{shape:"bezier",curved:!0});return new CellState(lt.view,ht,lt.getCellStyle(ht))},lt.addListener(InternalEvent.DOUBLE_CLICK,(ht,dt)=>{const ct=dt.getProperty("cell");if(!ct)return;const ut=lt.getView().getState(ct,!1);ut&&ut.shape}),lt.addListener(InternalEvent.CLICK,(ht,dt)=>{typeState.type="plc"}),lt.addListener("showConnector",(ht,dt)=>{const ct=dt.getProperty("bounds");k.style.left=ct.x+"px",k.style.top=ct.y+"px"}),lt.addListener("destroyConnector",(ht,dt)=>{})}function tt(lt,ot){Ye(lt,ot),et(ot)}user_effect(()=>{!get$2(me)&&Ve&&(Ve.removeFromTerminal(!0),ee.getDataModel().remove(Ve),Ve=null)}),onMount(()=>{ee=new Graph(Z),ee.setPanning(!0),baseConfigure(ee,Z),tt(Z,ee);let ot=createXmlDocument().createElement("UserObject");ot.setAttribute("label","Hello, World!"),ot.setAttribute("checked","false"),ee.getDataModel().batchUpdate(()=>{const ht=ee.getDefaultParent();ee.insertVertex(ht,null,null,100,100,130,120,{shape:"FBD_Block",typeName:"SR"})})});function it(){set(me,!1)}var st=root$1l(),nt=child(st);Modalp(nt,{get left(){return get$2(ne)},get top(){return get$2(te)},get modalStatus(){return get$2(me)},closeModal:it,children:(lt,ot)=>{var ht=text$1("modal");append(lt,ht)},$$slots:{default:!0}});var rt=sibling(nt,2);bind_this(rt,lt=>k=lt,()=>k),bind_this(st,lt=>Z=lt,()=>Z),append(Y,st),pop()}function PLCCanvas2(Y,T){push(T,!0),PlcCanvas(Y,spread_props(()=>T.params)),pop()}var root_1$i=template('<div class="wrapper svelte-13ssxrj"><!></div>');function BottomDockView(Y,T){push(T,!0);let k=state(void 0);RegionalDivisionDockView(Y,{get dockViewApi(){return get$2(k)},children:(Z,ee)=>{var te=root_1$i(),ne=child(te);DockView(ne,{components:dockComponent,tabs:{components:dockTabComponent},onReady:async({api:me})=>{api$1.dockView.registerDockView(me.id,me),set(k,proxy(me))}}),append(Z,te)},$$slots:{default:!0}}),pop()}var on_click$c=(Y,T,k)=>{T()(get$2(k).value)},root_1$h=template('<button class="svelte-15c85el"> </button>'),root$1k=template('<div class="wrapper svelte-15c85el"></div>');function Head(Y,T){push(T,!0);let k=prop(T,"headData",19,()=>[]),Z=prop(T,"onChange",3,()=>{});var ee=root$1k();each(ee,21,k,index,(te,ne)=>{var me=root_1$h();me.__click=[on_click$c,Z,ne];var Ve=child(me);template_effect(()=>set_text(Ve,get$2(ne).label)),append(te,me)}),append(Y,ee),pop()}delegate(["click"]);delegate(["click"]);var root_1$g=template("<input>"),on_click$b=(Y,T)=>{set(T,!get$2(T))},root_3$7=template('<span class="iconfont icon-check"></span>'),root_2$7=template('<button class="svelte-qtilfr"><!></button>'),on_click_1$5=(Y,T)=>{set(T,!get$2(T))},root_4$4=template('<button class="svelte-qtilfr"><div></div></button>'),root$1j=template("<!> <!> <!>",1);function MCXAInput(Y,T){push(T,!0);let k=prop(T,"type",3,"input"),Z=state(!1);var ee=root$1j(),te=first_child(ee);{var ne=tt=>{var it=root_1$g();append(tt,it)};if_block(te,tt=>{k()==="input"&&tt(ne)})}var me=sibling(te,2);{var Ve=tt=>{var it=root_2$7();it.__click=[on_click$b,Z];var st=child(it);{var nt=rt=>{var lt=root_3$7();append(rt,lt)};if_block(st,rt=>{get$2(Z)&&rt(nt)})}append(tt,it)};if_block(me,tt=>{k()==="checkbox"&&tt(Ve)})}var Ye=sibling(me,2);{var et=tt=>{var it=root_4$4();it.__click=[on_click_1$5,Z],append(tt,it)};if_block(Ye,tt=>{k()==="radio"&&tt(et)})}append(Y,ee),pop()}delegate(["click"]);const closeModal=(Y,T,k,Z,ee)=>{set(T,!1),k(!1),set(Z,!1),ee()()};var root_2$6=template('<div class="overlay-gray-curtain svelte-fj98bu"></div>'),on_click$a=(Y,T)=>{set(T,!0)},on_mousedown$1=(Y,T,k)=>{T()&&k(Y,"head")},root_1$f=template('<!> <div class="wrapper svelte-fj98bu"><div><p class="svelte-fj98bu"> </p> <button></button></div> <div class="content svelte-fj98bu"><div class="content-content svelte-fj98bu"><!></div></div></div>',1);function CommonModalLogicFixed(Y,T){push(T,!0);let k=prop(T,"onClose",3,()=>{}),Z=prop(T,"isOpenState",15,!1),ee=prop(T,"isPublicState",3,!1),te=prop(T,"haveCurtain",3,!1),ne=prop(T,"headTitle",3,""),me=prop(T,"isDraggable",3,!0),Ve=prop(T,"headColor",19,()=>({bgColor:"headBgColor",bottomColor:"headBottomColor"})),Ye=state(void 0),et=state(proxy(Z())),tt=state(proxy(ee()));user_effect(()=>{Z(),requestAnimationFrame(()=>{set(et,proxy(Z()))})});let it=state(!1),st=state(proxy({x:0,y:0}));function nt(ut,ft,vt){return Math.min(Math.max(ft,ut),vt)}const rt=(ut,ft)=>{ut.preventDefault();const vt={startX:ut.clientX,startY:ut.clientY,startOffsetX:get$2(st).x,startOffsetY:get$2(st).y};document.body.style.userSelect="none";const mt=document.body.getBoundingClientRect(),_t=mt.width,Et=mt.height,Tt=yt=>{let St=nt(yt.clientX,0,_t)-vt.startX,At=nt(yt.clientY,0,Et)-vt.startY;switch(ft){case"head":set(st,proxy({x:vt.startOffsetX+St,y:vt.startOffsetY+At}));break}},xt=()=>{window.removeEventListener("mousemove",Tt),window.removeEventListener("mouseup",xt),document.body.style.userSelect=""};window.addEventListener("mousemove",Tt),window.addEventListener("mouseup",xt)};proxy({}),onMount(()=>{window.addEventListener("resize",lt)}),onDestroy(()=>{window.removeEventListener("resize",lt)});const lt=()=>{var ut;if(get$2(Ye)){const ft=document.body.getBoundingClientRect(),vt=(ut=get$2(Ye))==null?void 0:ut.getBoundingClientRect();set(st,proxy({x:(ft.width-vt.width)/2,y:(ft.height-vt.height)/2}))}};user_effect(()=>{get$2(et)&&get$2(Ye)&&lt()});const ot=ut=>{var ft;(ft=get$2(Ye))!=null&&ft.contains(ut.target)?set(it,!0):set(it,!1)};onMount(()=>{lt(),window.addEventListener("click",ot),window.addEventListener("mousedown",ot)}),onDestroy(()=>{window.removeEventListener("click",ot),window.removeEventListener("mousedown",ot)});var ht=comment(),dt=first_child(ht);{var ct=ut=>{var ft=root_1$f(),vt=first_child(ft);{var mt=Dt=>{var Mt=root_2$6();template_effect(()=>set_style(Mt,get$2(tt)?"z-index: 1005;":`${get$2(it)?"z-index:1003;":""}`)),append(Dt,Mt)};if_block(vt,Dt=>{(te()||get$2(tt))&&Dt(mt)})}var _t=sibling(vt,2);_t.__click=[on_click$a,it];var Et=child(_t);Et.__mousedown=[on_mousedown$1,me,rt];var Tt=child(Et),xt=child(Tt),yt=sibling(Tt,2);set_class(yt,1,"button-close iconItem iconfont icon-close","svelte-fj98bu"),yt.__click=[closeModal,et,Z,tt,k];var St=sibling(Et,2),At=child(St),Ct=child(At);{var It=Dt=>{var Mt=comment(),$t=first_child(Mt);if_block($t,Ht=>{}),append(Dt,Mt)},Ot=Dt=>{var Mt=comment(),$t=first_child(Mt);slot($t,T,"default",{}),append(Dt,Mt)};if_block(Ct,Dt=>{get$2(tt)?Dt(It):Dt(Ot,!1)})}bind_this(_t,Dt=>set(Ye,Dt),()=>get$2(Ye)),template_effect(()=>{set_style(_t,`left:${get$2(st).x??""}px;top:${get$2(st).y??""}px;${(get$2(tt)?"z-index: 1006":`${get$2(it)?"z-index:1004;":""}`)??""}`),set_class(Et,1,`head ${Ve().bgColor??""} ${Ve().bottomColor??""}`,"svelte-fj98bu"),set_text(xt,ne())}),append(ut,ft)};if_block(dt,ut=>{get$2(et)&&ut(ct)})}append(Y,ht),pop()}delegate(["click","mousedown"]);var on_input$1=(Y,T,k)=>T(Y.target.value,Z=>set(k,proxy(Z))),on_input_1$1=(Y,T,k)=>T(Y.target.value,Z=>set(k,proxy(Z))),on_input_2=(Y,T,k)=>T(Y.target.value,Z=>set(k,proxy(Z))),on_input_3=(Y,T,k)=>T(Y.target.value,Z=>set(k,proxy(Z))),root$1i=template('<div class="wrapper svelte-1nlt4ma"><input class="clear-input svelte-1nlt4ma"> <div class="svelte-1nlt4ma"></div> <input class="clear-input svelte-1nlt4ma"> <div class="svelte-1nlt4ma"></div> <input class="clear-input svelte-1nlt4ma"> <div class="svelte-1nlt4ma"></div> <input class="clear-input svelte-1nlt4ma"></div>');function ServerInput(Y,T){push(T,!0);let k=prop(T,"onchange",3,()=>{}),Z=state(0),ee=state(0),te=state(0),ne=state(0);user_effect(()=>{if(T.value&&T.value!==""){const st=T.value.split(".");set(Z,proxy(st[0])),set(ee,proxy(st[1])),set(te,proxy(st[2])),set(ne,proxy(st[3]))}});function me(st,nt){const rt=parseInt(st.replace(/[^0-9]/g,""),10);if(isNaN(rt)){nt(0);return}const lt=Math.max(0,Math.min(255,rt));nt(lt),k()([get$2(Z),get$2(ee),get$2(te),get$2(ne)].join("."))}var Ve=root$1i(),Ye=child(Ve);Ye.__input=[on_input$1,me,Z];var et=sibling(Ye,4);et.__input=[on_input_1$1,me,ee];var tt=sibling(et,4);tt.__input=[on_input_2,me,te];var it=sibling(tt,4);it.__input=[on_input_3,me,ne],bind_value(Ye,()=>get$2(Z),st=>set(Z,st)),bind_value(et,()=>get$2(ee),st=>set(ee,st)),bind_value(tt,()=>get$2(te),st=>set(te,st)),bind_value(it,()=>get$2(ne),st=>set(ne,st)),append(Y,Ve),pop()}delegate(["input"]);var on_input=(Y,T,k)=>T(Y.target.value,Z=>{set(k,proxy(Z))}),on_input_1=(Y,T,k)=>{T(Y.target.value,Z=>{set(k,proxy(Z))})},on_click$9=(Y,T,k,Z,ee)=>{T()({ip:get$2(k),port:get$2(Z),station:get$2(ee)})},on_click_1$4=(Y,T)=>{T()()},root$1h=template('<div class="wrapper svelte-oxenpl"><ul class="svelte-oxenpl"><li class="svelte-oxenpl"><p class="svelte-oxenpl">æå¡å¨ï¼</p> <div class="wrapper-input wrapper-server-input svelte-oxenpl"><!></div></li> <li class="svelte-oxenpl"><p class="svelte-oxenpl">ç«¯å£ï¼</p> <div class="wrapper-input svelte-oxenpl" style="width: 65px;"><input class="clear-input svelte-oxenpl"></div></li> <li class="svelte-oxenpl"><p style="width: 130px;" class="svelte-oxenpl">è¿ç¨ä»ç«çå°åï¼</p> <div class="wrapper-input svelte-oxenpl" style="width: 65px;"><input class="clear-input svelte-oxenpl"></div></li></ul> <div class="button-op svelte-oxenpl"><button class="svelte-oxenpl">ç¡®è®¤</button> <button class="svelte-oxenpl">åæ¶</button></div></div>');function ModbusTCPIP(Y,T){push(T,!0);let k=prop(T,"onConfirm",3,()=>{}),Z=prop(T,"onCancel",3,()=>{}),ee=state("0.0.0.0"),te=state(0),ne=state(0);const me=()=>({ip:T.sourceNode.agreement.EthernetSettings._attributes.IP,port:T.sourceNode.agreement.EthernetSettings._attributes.Port,station:T.sourceNode.agreement._attributes.DefaultStation});user_effect(()=>{if(T.sourceNode.agreement){const mt=me();mt&&(set(ee,proxy(mt.ip)),set(te,proxy(mt.port)),set(ne,proxy(mt.station)))}});function Ve(mt,_t){const Et=parseInt(mt.replace(/[^0-9]/g,""),10);if(isNaN(Et)){_t(0);return}const Tt=Math.max(0,Math.min(65535,Et));_t(Tt)}const Ye=(mt,_t)=>{const Et=parseInt(mt.replace(/[^0-9]/g,""),10);if(isNaN(Et)){_t(0);return}const Tt=Math.max(T.sourceNode.agreement._attributes.MinStation,Math.min(T.sourceNode.agreement._attributes.MaxStation,Et));_t(Tt)};var et=root$1h(),tt=child(et),it=child(tt),st=sibling(child(it),2),nt=child(st);ServerInput(nt,{get value(){return get$2(ee)},onchange:mt=>{set(ee,proxy(mt))}});var rt=sibling(it,2),lt=sibling(child(rt),2),ot=child(lt);ot.__input=[on_input,Ve,te];var ht=sibling(rt,2),dt=sibling(child(ht),2),ct=child(dt);ct.__input=[on_input_1,Ye,ne];var ut=sibling(tt,2),ft=child(ut);ft.__click=[on_click$9,k,ee,te,ne];var vt=sibling(ft,2);vt.__click=[on_click_1$4,Z],bind_value(ot,()=>get$2(te),mt=>set(te,mt)),bind_value(ct,()=>get$2(ne),mt=>set(ne,mt)),append(Y,et),pop()}delegate(["input","click"]);var on_click$8=(Y,T)=>{set(T,!get$2(T))},root$1g=template('<div class="wrapper svelte-zwckzo"><div class="value svelte-zwckzo"> </div> <button class="svelte-zwckzo">éç½®</button></div> <!>',1);function ModbusTCPIPButton(Y,T){push(T,!0);let k=prop(T,"onchange",3,()=>{}),Z=prop(T,"sourceNode",15),ee=state(!1),te=state("");user_effect(()=>{var it;(it=Z())!=null&&it.agreement&&set(te,proxy([Z().agreement.EthernetSettings._attributes.IP,Z().agreement.EthernetSettings._attributes.Port].join(":")))});var ne=root$1g(),me=first_child(ne),Ve=child(me),Ye=child(Ve),et=sibling(Ve,2);et.__click=[on_click$8,ee];var tt=sibling(me,2);CommonModalLogicFixed(tt,{haveCurtain:!0,headTitle:"Modbus TCPIP Connection",get isOpenState(){return get$2(ee)},set isOpenState(it){set(ee,proxy(it))},children:(it,st)=>{ModbusTCPIP(it,{get value(){return get$2(te)},onCancel:()=>{set(ee,!get$2(ee))},onConfirm:nt=>{set(te,proxy([nt.ip,nt.port].join(":"))),k()(nt),set(ee,!get$2(ee)),Z(Z().agreement.EthernetSettings._attributes.IP=nt.ip,!0),Z(Z().agreement.EthernetSettings._attributes.Port=nt.port,!0),Z(Z().agreement._attributes.DefaultStation=nt.station,!0)},get sourceNode(){return Z()},set sourceNode(nt){Z(nt)}})},$$slots:{default:!0}}),template_effect(()=>set_text(Ye,get$2(te))),append(Y,ne),pop()}delegate(["click"]);var on_click$7=(Y,T)=>{set(T,!get$2(T))},root_3$6=template('<div class="item-value svelte-8z6pmr"><!></div>'),root_8$1=template('<div class="item-value svelte-8z6pmr"> </div>'),root_2$5=template('<div class="item svelte-8z6pmr"><div class="item-icon svelte-8z6pmr"></div> <div class="item-content svelte-8z6pmr"><div class="item-label svelte-8z6pmr"><p> </p></div> <!></div></div>'),root_1$e=template('<div class="content svelte-8z6pmr"></div>'),root$1f=template('<div class="wrapper svelte-8z6pmr"><div class="head svelte-8z6pmr"><div class="item-icon item-op-icon svelte-8z6pmr"><span></span></div> <div class="head-title svelte-8z6pmr"> </div></div> <!></div>');function TreeListLabel(Y,T){push(T,!0),prop(T,"onchange",3,()=>{});let k=state(!0),Z=state(void 0);const ee=st=>{var rt;const nt=window.API.structAndVarRelationIntegrate.getTreeFlattener();return st.source==="group"&&typeof st.value=="string"?(rt=nt.getNodeBySourceId(st.value))==null?void 0:rt.source.name:st.source==="connection"&&typeof st.value=="string"?st.value.split(".").map(lt=>{var ot;return(ot=nt.getNodeBySourceId(lt))==null?void 0:ot.source.name}).join("."):st.value};user_effect(()=>{if(T.id){const st=window.API.structAndVarRelationIntegrate.getTreeFlattener().getNodeBySourceId(T.id);st.source.dataType===window.API.constant.structAndVarRelation.MODBUS_TCPIP_CONNECTION&&set(Z,proxy(st.source))}}),user_effect(()=>{T.listData&&set(k,proxy(T.listData.expanded))});var te=root$1f(),ne=child(te),me=child(ne);me.__click=[on_click$7,k];var Ve=child(me),Ye=sibling(me,2),et=child(Ye),tt=sibling(ne,2);{var it=st=>{var nt=root_1$e();each(nt,21,()=>T.listData.labelItems,index,(rt,lt)=>{var ot=root_2$5(),ht=sibling(child(ot),2),dt=child(ht),ct=child(dt),ut=child(ct),ft=sibling(dt,2);{var vt=_t=>{var Et=root_3$6(),Tt=child(Et);ModbusTCPIPButton(Tt,{onchange:xt=>{get$2(Z).agreement.EthernetSettings._attributes.IP=xt.ip,get$2(Z).agreement.EthernetSettings._attributes.Port=xt.port,get$2(Z).agreement._attributes.DefaultStation=xt.station,window.API.structAndVarRelationIntegrate.getTreeFlattener().getNodeBySourceId(T.id),window.API.structAndVarRelationIntegrate.getTreeFlattener().changeNodeBySourceId(T.id,{agreement:get$2(Z).agreement})},get sourceNode(){return get$2(Z)},set sourceNode(xt){set(Z,proxy(xt))}}),append(_t,Et)},mt=(_t,Et)=>{{var Tt=yt=>{MCXAInput(yt,{type:"input",get value(){return get$2(lt).value}})},xt=(yt,St)=>{{var At=It=>{MCXAInput(It,{type:"checkbox",get value(){return get$2(lt).value}})},Ct=It=>{var Ot=root_8$1(),Dt=child(Ot);template_effect(Mt=>set_text(Dt,Mt),[()=>ee(get$2(lt))]),append(It,Ot)};if_block(yt,It=>{get$2(lt).InputTypeDistributor==="checkbox"?It(At):It(Ct,!1)},St)}};if_block(_t,yt=>{get$2(lt).InputTypeDistributor==="input"?yt(Tt):yt(xt,!1)},Et)}};if_block(ft,_t=>{get$2(lt).source==="connectionParameters"?_t(vt):_t(mt,!1)})}template_effect(()=>set_text(ut,get$2(lt).label)),append(rt,ot)}),append(st,nt)};if_block(tt,st=>{get$2(k)&&st(it)})}template_effect(()=>{set_class(Ve,1,`iconfont ${(get$2(k)?"icon-shousuo":"icon-zhankai")??""}`),set_text(et,T.listData.title)}),append(Y,te),pop()}delegate(["click"]);var root$1e=template('<div class="wrapper svelte-1yq9dtm"><div class="head svelte-1yq9dtm"> </div> <!></div>');function MCXATreeList(Y,T){var k=root$1e(),Z=child(k),ee=child(Z),te=sibling(Z,2);each(te,17,()=>T.treeList,index,(ne,me)=>{TreeListLabel(ne,{get listData(){return get$2(me)},get id(){return T.id}})}),template_effect(()=>set_text(ee,T.title)),append(Y,k)}const propertyVariable=[{title:"éæ©",property:[{label:"å¯¹è±¡ç±»å",value:"type"},{label:"å¯¹è±¡åç§°",value:"name"},{label:"ç±»å",value:"dataType"}]},{title:"çº¿æ§æ å®",property:[{label:"çº¿æ§æ å®",value:"linearCalibration",type:"checkbox"},{label:"ASå¼èå´ä»",value:"asRangeFrom"},{label:"ASå¼èå´å°",value:"asRangeTo"},{label:"OSå¼èå´ä»",value:"osRangeFrom"},{label:"OSå¼èå´å°",value:"osRangeTo"}]},{title:"éå¶å¼",property:[{label:"ä¸é",value:"lowerLimit"},{label:"ä¸é",value:"upperLimit"}]},{title:"åé",property:[{label:"å°å",value:"address"},{label:"ç»",value:"group"},{label:"è¿æ¥",value:"connection"}]}],propertyConnection=[{title:"éæ©",property:[{label:"å¯¹è±¡ç±»å",value:"type"},{label:"å¯¹è±¡åç§°",value:"name"}]},{title:"å¸¸è§",property:[{label:"åç§°",value:"name"},{label:"ID",value:"id"},{label:"è¿æ¥åæ°",value:"connectionParameters"}]}],initMockTreeData=Y=>{const T=Y[0];let k=[];return T.dataType===window.API.constant.structAndVarRelation.MODBUS_TCPIP_CONNECTION?propertyConnection.forEach(Z=>{k.push({title:Z.title,expanded:!0,labelItems:Z.property.map(ee=>ee.value==="type"?{label:ee.label,source:ee.value,value:treeListSwitch(T.dataType)}:{label:ee.label,source:ee.value,value:T[ee.value]})})}):propertyVariable.forEach(Z=>{k.push({title:Z.title,expanded:!0,labelItems:Z.property.map(ee=>ee.value==="type"?{label:ee.label,source:ee.value,value:treeListSwitch(T.dataType)}:{label:ee.label,source:ee.value,value:T[ee.value]})})}),k},treeListSwitch=Y=>{if(window.API.publicOptionManager.getOptions(window.API.constant.enum.STRUCT_AND_VAR_RELATION_INTEGRATE),Y==="")return"æªç¥";switch(Y){case window.API.constant.structAndVarRelation.GROUP:return"ç»";case window.API.constant.structAndVarRelation.CONNECT_GROUP:return"è¿æ¥åç»";case window.API.constant.structAndVarRelation.CONNECT_ITEM:return"è¿æ¥";case window.API.constant.structAndVarRelation.VARIABLE_GROUP:return"åéåç»";case window.API.constant.structAndVarRelation.INTERNAL_VARIABLE:return"åé¨åé";case window.API.constant.structAndVarRelation.INTERNAL_VARIABLE_GROUP:return"åé¨åéåç»";case window.API.constant.structAndVarRelation.MODBUS_TCPIP:return"Modbus TCPIP Groups";case window.API.constant.structAndVarRelation.MODBUS_TCPIP_CONNECTION:return"Modbus TCPIP Connection";case window.API.constant.structAndVarRelation.VARIABLE_MANAGEMENT:return"åéç®¡ç";case window.API.constant.structAndVarRelation.STRUCT_MANAGEMENT:return"ç»æç®¡ç";case window.API.constant.structAndVarRelation.MODBUS_TCPIP:return"Modbus TCPIP"}return"åé"};var root$1d=template('<div class="wrapper svelte-1rvlqxh"><div class="wrapper-excel svelte-1rvlqxh"><!></div></div>');function VariableTreeList(Y,T){push(T,!0);let k=state(proxy([])),Z=state(proxy([])),ee=state("");window.API.eventBus.on(window.API.constant.enum.VARIABLE_EXCEL_OPEN,Ve=>{if(set(k,proxy(Ve.mockTreeData)),get$2(k)[0]&&get$2(k)[0].id){localStorage.setItem("VARIABLETREELIST",get$2(k)[0].id),set(Z,proxy(initMockTreeData(get$2(k))));let Ye=window.API.structAndVarRelationIntegrate.getTreeFlattener();const et=[];let tt=Ye.getNodeBySourceId(get$2(k)[0].id);for(;tt;)et.push(tt==null?void 0:tt.source.name),tt=Ye.getNodeByTreeId(tt==null?void 0:tt.parentId);set(ee,proxy(et.reverse().join("    â   ")))}}),onMount(()=>{var Ve;if(get$2(k).length===0){const Ye=localStorage.getItem("VARIABLETREELIST");if(Ye){const et=window.API.structAndVarRelationIntegrate.getTreeFlattener();set(k,proxy(et.buildSourceTree((Ve=et.getNodeBySourceId(Ye))==null?void 0:Ve.treeId)??[])),set(Z,proxy(initMockTreeData(get$2(k))));let tt=window.API.structAndVarRelationIntegrate.getTreeFlattener();const it=[];let st=tt.getNodeBySourceId(get$2(k)[0].id);for(;st;)it.push(st==null?void 0:st.source.name),st=tt.getNodeByTreeId(st==null?void 0:st.parentId);set(ee,proxy(it.reverse().join("    â   ")))}}});var te=root$1d(),ne=child(te),me=child(ne);MCXATreeList(me,{get treeList(){return get$2(Z)},get title(){return get$2(ee)},get id(){return get$2(k)[0].id}}),append(Y,te),pop()}var root$1c=template('<div class="wrapper svelte-x73a19"><div class="head svelte-x73a19"><!></div> <div class="content svelte-x73a19"><!></div></div>');function MCXADockView(Y){let T=[{label:"TABLE_EXCEL",value:"TABLE_EXCEL"},{label:"TABLE_LIST",value:"TABLE_LIST"}],k=state(proxy(T[0].value));const Z=tt=>{set(k,proxy(tt))};var ee=root$1c(),te=child(ee),ne=child(te);Head(ne,{onChange:Z,headData:T});var me=sibling(te,2),Ve=child(me);{var Ye=tt=>{VariableExcel(tt,{})},et=(tt,it)=>{{var st=nt=>{VariableTreeList(nt,{})};if_block(tt,nt=>{get$2(k)===T[1].value&&nt(st)},it)}};if_block(Ve,tt=>{get$2(k)===T[0].value?tt(Ye):tt(et,!1)})}append(Y,ee)}const Footer=(Y,T)=>{BottomDockView(Y,{})};var on_click$6=(Y,T)=>{set(T,!0)},root_5=template("<!> <!>",1),root_8=template('<!> <div class="flex justify-between align-bottom"><!> <!></div>',1),root$1b=template('<div><!> <!> <div class="absolute top-[5px] right-[48px] z-10 w-[50px] h-[50px] bg-blue-300 rounded-full"><button class="w-full h-full text-white text-lg font-bold">+</button></div> <!></div> <div><!></div>',1);function Center(Y,T){push(T,!0);const k=(Et,Tt)=>{DockView(Et,{components:{LvglCanvas,PlcCanvas2:PLCCanvas2},tabs:{components:{DockTab}},onReady:async({api:xt})=>{Ye=xt,setTimeout(()=>{fetchFiles(),nt()},1e3),Ye.onDidActivePanelChange(yt=>{if(!yt)return;const St=yt.title.toLowerCase();St.includes("lvgl")?typeState.type="lvgl":St.includes("plc")&&(typeState.type="plc")})}})},Z="drawsys5/center/splitview",ee="drawsys5/center/topDockview",te=proxy({name:"lvgl",width:800,height:600}),ne=new Set;let me=state(!1),Ve=null,Ye=null,et=state(proxy({})),tt=state(!1),it=state("");initLvglModule();function st(Et){set(it,proxy(Et)),set(tt,!0),setTimeout(()=>{set(tt,!1)},3e3)}function nt(Et,Tt){if(Tt=Tt??te.name,ne.has(Tt)){st("Screen name already exists");return}const xt=createNewScreen(Tt,te.width,te.height),yt=xt.id;Ye.addComponentPanel("LvglCanvas",{xmlContent:Et,screen:xt,isHasClose:!0,title:Tt},{id:yt,title:Tt,tabComponent:"DockTab"}),screenStore.screens[yt]=xt,ne.add(Tt)}function rt(Et,Tt){nt(Et,Tt)}function lt(){nt(),set(me,!1)}onMount(()=>{saveLayout(Ve,Z),saveLayout(Ye,ee),api$1.eventBus.on("importXML",({xmlContent:Et,title:Tt})=>{rt(Et,Tt)}),api$1.eventBus.on(api$1.constant.enum.VARIABLE_EXCEL_OPEN,Et=>{set(et,proxy(Et))})});var ot=root$1b(),ht=first_child(ot),dt=child(ht);SplitView(dt,{snippets:{Top:k,Footer},orientation:"VERTICAL",onReady:async({api:Et})=>{Et.addSnippetPanel("Top",{}),Et.addSnippetPanel("Footer",{importXML:rt})}});var ct=sibling(dt,2);Alert(ct,{color:"red",get alertStatus(){return get$2(tt)},class:"absolute top-5 w-[80%] left-1/2 -translate-x-1/2 z-10",icon:Tt=>{InfoCircleSolid(Tt,{class:"h-5 w-5"})},children:(Tt,xt)=>{var yt=text$1();template_effect(()=>set_text(yt,get$2(it))),append(Tt,yt)},$$slots:{icon:!0,default:!0}});var ut=sibling(ct,2),ft=child(ut);ft.__click=[on_click$6,me];var vt=sibling(ut,2);Modal(vt,{title:"Terms of Service",get modalStatus(){return get$2(me)},size:"md",closeModal:()=>{set(me,!1)},footer:Tt=>{var xt=root_5(),yt=first_child(xt);Button(yt,{class:"bg-sky-500 text-white",onclick:()=>lt(),children:(At,Ct)=>{var It=text$1("ç¡®å®");append(At,It)},$$slots:{default:!0}});var St=sibling(yt,2);Button(St,{class:"bg-sky-500 text-white",onclick:()=>{set(me,!1)},color:"alternative",children:(At,Ct)=>{var It=text$1("åæ¶");append(At,It)},$$slots:{default:!0}}),append(Tt,xt)},children:(Tt,xt)=>{var yt=root_8(),St=first_child(yt);LabelInput(St,{label:"title",type:"string",get value(){return te.name},set value(Ot){te.name=Ot}});var At=sibling(St,2),Ct=child(At);LabelInput(Ct,{label:"width",type:"number",size:"sm",get value(){return te.width},set value(Ot){te.width=Ot}});var It=sibling(Ct,2);LabelInput(It,{label:"height",type:"number",size:"sm",get value(){return te.height},set value(Ot){te.height=Ot}}),append(Tt,yt)},$$slots:{footer:!0,default:!0}});var mt=sibling(ht,2),_t=child(mt);MCXADockView(_t),template_effect(()=>{set_class(ht,1,`${get$2(et).openStatus?"wrapper-canvas":""} w-full h-full relative`,"svelte-1cobznf"),set_class(mt,1,`${get$2(et).openStatus?"":"wrapper-canvas"} wrapper-excel`,"svelte-1cobznf")}),append(Y,ot),pop()}delegate(["click"]);const messageIconComponent=(Y,T=noop$3)=>{var k=root_1$d(),Z=child(k);template_effect(()=>{set_style(k,`background-color:${T().color}`),set_text(Z,T().text)}),append(Y,k)};var root_1$d=template('<div class="message-type svelte-xtd5gj"> </div>'),root$1a=template('<div><!>  <p class="message-content"> </p></div>');function Message(Y,T){push(T,!0);let k=state(proxy({type:"error",message:"",location:"center"})),Z=state(!1);const ee=et=>{switch(et){case"error":return{text:"!",color:"#ff4d4f"};case"success":return{text:"i",color:"#52c41a"};case"warning":return{text:"",color:"#faad14"};default:return{text:"",color:"#1677ff"}}};onMount(()=>(api$1.message.globalMessageReception(et=>{set(k,proxy({type:et.type,message:et.message,location:et.location??"center"})),set(Z,!0);const tt=et.duration??3e3;clearTimeout(window.messageTimer),window.messageTimer=setTimeout(()=>{set(Z,!1)},tt)}),()=>{clearTimeout(window.messageTimer)}));var te=root$1a(),ne=child(te),me=derived_safe_equal(()=>ee(get$2(k).type));messageIconComponent(ne,()=>get$2(me));var Ve=sibling(ne,2),Ye=child(Ve);template_effect(()=>{set_style(te,`display:${get$2(Z)?"fixed":"none"}`),set_class(te,1,`message-box loc-${get$2(k).location??""}`,"svelte-xtd5gj"),set_text(Ye,get$2(k).message)}),append(Y,te),pop()}var root_2$4=template('<div class="dot svelte-1gh6gg"></div>'),root_1$c=template('<div><div class="check svelte-1gh6gg"><!></div> </div>'),on_click$5=(Y,T)=>{T("default")},on_click_1$3=(Y,T)=>{T("dark")},on_click_2$1=(Y,T)=>{T("summer")},on_click_3$1=(Y,T)=>{T("spring")},on_click_4$1=(Y,T)=>{T("autumn")},on_click_5=(Y,T)=>{T("winter")},on_click_6=()=>{api$1.dockView.dockViewApis.get("1"),console.log(window.API)},root$19=template('<div><button>File</button> <div><div>New Text File</div> <div>New File... <div class="rightSlot svelte-1gh6gg">âT</div></div> <div>New Window... <div class="rightSlot svelte-1gh6gg">â§âT</div></div> <div></div> <div>Select theme <div class="rightSlot svelte-1gh6gg"></div></div> <div><div></div></div> <div></div> <div>Quit Melt UI <div class="rightSlot svelte-1gh6gg">âQ</div></div></div>  <button>Edit</button> <div><div>Undo <div class="rightSlot svelte-1gh6gg">âZ</div></div> <div>Redo <div class="rightSlot svelte-1gh6gg">â§âZ</div></div> <div></div> <div>Cut <div class="rightSlot svelte-1gh6gg">âX</div></div> <div>Copy <div class="rightSlot svelte-1gh6gg">âC</div></div> <div>Paste <div class="rightSlot svelte-1gh6gg">âV</div></div> <div></div> <div>Find <div class="rightSlot svelte-1gh6gg">âF</div></div> <div>Replace <div class="rightSlot svelte-1gh6gg">â¥âF</div></div></div>  <button>View</button> <div><div>Command Palette.. <div class="rightSlot svelte-1gh6gg">â§âP</div></div> <div>Open View...</div> <div></div> <div>Appearance <div class="rightSlot svelte-1gh6gg"></div></div> <div><div><div>Full Screen</div> <div>Zen Mode</div></div></div> <div></div> <div><div class="check svelte-1gh6gg"><!></div> Word Wrap <div class="rightSlot svelte-1gh6gg">âH</div></div> <div><div class="check svelte-1gh6gg"><!></div> Sticky Scroll</div></div>  <button>Help</button> <div><div>About Melt UI</div> <div>Check for Updates...</div> <div></div> <div><div class="check svelte-1gh6gg"><!></div> Tips & Tricks</div> <div></div> <div><div class="check svelte-1gh6gg"><!></div> Documentation</div> <div>Show All Components <div class="rightSlot svelte-1gh6gg">â§âN</div></div> <div></div> <div>Report a bug...</div></div> <button class="trigger svelte-1gh6gg">default</button> <button class="trigger svelte-1gh6gg">dark</button> <button class="trigger svelte-1gh6gg">summer</button> <button class="trigger svelte-1gh6gg">spring</button> <button class="trigger svelte-1gh6gg">autumn</button> <button class="trigger svelte-1gh6gg">winter</button> <button class="trigger svelte-1gh6gg">è°è¯</button> <div class="w-[20px] h-[15px] mt-[2px]"><!></div></div>');function Menubar(Y,T){push(T,!0);const[k,Z]=setup_stores(),ee=()=>store_get(jt,"$menubar",k),te=()=>store_get(Kt,"$trigger",k),ne=()=>store_get(Pt,"$menu",k),me=()=>store_get(kt,"$item",k),Ve=()=>store_get(zt,"$separator",k),Ye=()=>store_get(Zt,"$subTrigger",k),et=()=>store_get(ei,"$subMenu",k),tt=()=>store_get(Jt,"$radioGroup",k),it=()=>store_get(ti,"$radioItem",k),st=()=>store_get(di,"$isChecked",k),nt=()=>store_get(Qt,"$triggerA",k),rt=()=>store_get(Si,"$menuA",k),lt=()=>store_get(Ti,"$itemA",k),ot=()=>store_get(Ri,"$separatorA",k),ht=()=>store_get(ki,"$triggerB",k),dt=()=>store_get(Bt,"$menuB",k),ct=()=>store_get(ai,"$itemB",k),ut=()=>store_get(ci,"$separatorB",k),ft=()=>store_get(hi,"$subTriggerB",k),vt=()=>store_get(ui,"$subMenuB",k),mt=()=>store_get(Vi,"$wordWrapCheckbox",k),_t=()=>store_get(Ht,"$wordWrap",k),Et=()=>store_get(ii,"$stickyScrollCheckbox",k),Tt=()=>store_get(Ft,"$stickyScroll",k),xt=()=>store_get(ri,"$triggerC",k),yt=()=>store_get(bi,"$menuC",k),St=()=>store_get(gi,"$itemC",k),At=()=>store_get(fi,"$separatorC",k),Ct=()=>store_get(Hi,"$tipsAndTricksCheckbox",k),It=()=>store_get(Mt,"$tipsAndTricks",k),Ot=()=>store_get(ji,"$hideMeltUICheckbox",k),Dt=()=>store_get($t,"$hideMeltUI",k),Mt=writable(!0),$t=writable(!1),Ht=writable(!0),Ft=writable(!1),{elements:{menubar:jt},builders:{createMenu:Gt}}=createMenubar(),{elements:{trigger:Kt,menu:Pt,item:kt,separator:zt},builders:{createSubmenu:Wt,createMenuRadioGroup:si}}=Gt(),{elements:{subMenu:ei,subTrigger:Zt}}=Wt(),{elements:{radioGroup:Jt,radioItem:ti},helpers:{isChecked:di}}=si({defaultValue:"Nord"}),{elements:{trigger:Qt,menu:Si,item:Ti,separator:Ri}}=Gt(),{elements:{trigger:ki,menu:Bt,item:ai,separator:ci},builders:{createSubmenu:yi,createCheckboxItem:Ci}}=Gt(),{elements:{checkboxItem:Vi}}=Ci({checked:Ht}),{elements:{checkboxItem:ii}}=Ci({checked:Ft}),{elements:{subMenu:ui,subTrigger:hi}}=yi(),{elements:{trigger:ri,menu:bi,item:gi,separator:fi},builders:{createCheckboxItem:Li}}=Gt(),{elements:{checkboxItem:Hi}}=Li({checked:Mt}),{elements:{checkboxItem:ji}}=Li({checked:$t}),Mi=vi=>{document.documentElement.setAttribute("data-theme",vi)},zi=["Nord","GitHub Dark","Moonlight"];var $i=root$19();let Oi;var Pi=child($i);let Wi;action(Pi,vi=>Kt==null?void 0:Kt(vi));var qi=sibling(Pi,2);let Ui;var hs=child(qi);let xs;action(hs,vi=>kt==null?void 0:kt(vi));var fs=sibling(hs,2);let vs;action(fs,vi=>kt==null?void 0:kt(vi));var Zi=sibling(fs,2);let Qs;action(Zi,vi=>kt==null?void 0:kt(vi));var $s=sibling(Zi,2);let cs;action($s,vi=>zt==null?void 0:zt(vi));var bs=sibling($s,2);let Ts;action(bs,vi=>Zt==null?void 0:Zt(vi));var Ps=sibling(bs,2);let Ds;var Us=child(Ps);let ds;each(Us,21,()=>zi,index,(vi,Rn)=>{var Fs=root_1$c();let Tr;var Cr=child(Fs),$r=child(Cr);{var Vr=Hs=>{var Fr=root_2$4();append(Hs,Fr)};if_block($r,Hs=>{st()(get$2(Rn))&&Hs(Vr)})}var Br=sibling(Cr);action(Fs,Hs=>ti==null?void 0:ti(Hs)),template_effect(Hs=>{Tr=set_attributes(Fs,Tr,{class:"item",...Hs},"svelte-1gh6gg"),set_text(Br,` ${get$2(Rn)??""}`)},[()=>it()({value:get$2(Rn)})]),append(vi,Fs)}),action(Us,vi=>Jt==null?void 0:Jt(vi)),action(Ps,vi=>ei==null?void 0:ei(vi));var Vs=sibling(Ps,2);let Gi;action(Vs,vi=>zt==null?void 0:zt(vi));var en=sibling(Vs,2);let tn;action(en,vi=>kt==null?void 0:kt(vi)),action(qi,vi=>Pt==null?void 0:Pt(vi));var sn=sibling(qi,2);let Ni;action(sn,vi=>Qt==null?void 0:Qt(vi));var qt=sibling(sn,2);let Ei;var Di=child(qt);let es;action(Di,vi=>Ti==null?void 0:Ti(vi));var as=sibling(Di,2);let ss;action(as,vi=>Ti==null?void 0:Ti(vi));var Nt=sibling(as,2);let ts;action(Nt,vi=>Ri==null?void 0:Ri(vi));var Is=sibling(Nt,2);let _s;action(Is,vi=>Ti==null?void 0:Ti(vi));var os=sibling(Is,2);let nn;action(os,vi=>Ti==null?void 0:Ti(vi));var js=sibling(os,2);let cr;action(js,vi=>Ti==null?void 0:Ti(vi));var ls=sibling(js,2);let Bs;action(ls,vi=>Ri==null?void 0:Ri(vi));var ks=sibling(ls,2);let rn;action(ks,vi=>Ti==null?void 0:Ti(vi));var Ws=sibling(ks,2);let Ji;action(Ws,vi=>Ti==null?void 0:Ti(vi)),action(qt,vi=>Si==null?void 0:Si(vi));var Fn=sibling(qt,2);let ms;action(Fn,vi=>ki==null?void 0:ki(vi));var an=sibling(Fn,2);let Rs;var wn=child(an);let ur;action(wn,vi=>ai==null?void 0:ai(vi));var ys=sibling(wn,2);let hr;action(ys,vi=>ai==null?void 0:ai(vi));var Hn=sibling(ys,2);let xn;action(Hn,vi=>ci==null?void 0:ci(vi));var ln=sibling(Hn,2);let Gn;action(ln,vi=>hi==null?void 0:hi(vi));var En=sibling(ln,2);let zn;var Sn=child(En);let Un;var jn=child(Sn);let gr;action(jn,vi=>ai==null?void 0:ai(vi));var pr=sibling(jn,2);let fr;action(pr,vi=>ai==null?void 0:ai(vi)),action(Sn,vi=>Jt==null?void 0:Jt(vi)),action(En,vi=>ui==null?void 0:ui(vi));var Ys=sibling(En,2);let dn;action(Ys,vi=>ci==null?void 0:ci(vi));var cn=sibling(Ys,2);let Xs;var kr=child(cn),Tn=child(kr);{var Cn=vi=>{};if_block(Tn,vi=>{_t()&&vi(Cn)})}action(cn,vi=>Vi==null?void 0:Vi(vi));var An=sibling(cn,2);let Ln;var Or=child(An),Mr=child(Or);{var Pr=vi=>{};if_block(Mr,vi=>{Tt()&&vi(Pr)})}action(An,vi=>ii==null?void 0:ii(vi)),action(an,vi=>Bt==null?void 0:Bt(vi));var Wn=sibling(an,2);let un;action(Wn,vi=>ri==null?void 0:ri(vi));var In=sibling(Wn,2);let vr;var Yn=child(In);let hn;action(Yn,vi=>gi==null?void 0:gi(vi));var Xn=sibling(Yn,2);let gn;action(Xn,vi=>gi==null?void 0:gi(vi));var kn=sibling(Xn,2);let On;action(kn,vi=>fi==null?void 0:fi(vi));var ws=sibling(kn,2);let qs;var Os=child(ws),Dr=child(Os);{var _r=vi=>{};if_block(Dr,vi=>{It()&&vi(_r)})}action(ws,vi=>Hi==null?void 0:Hi(vi));var Ns=sibling(ws,2);let Cs;action(Ns,vi=>fi==null?void 0:fi(vi));var Mn=sibling(Ns,2);let Pn;var qn=child(Mn),mr=child(qn);{var Rr=vi=>{};if_block(mr,vi=>{Dt()&&vi(Rr)})}action(Mn,vi=>ji==null?void 0:ji(vi));var Kn=sibling(Mn,2);let br;action(Kn,vi=>gi==null?void 0:gi(vi));var pn=sibling(Kn,2);let yr;action(pn,vi=>fi==null?void 0:fi(vi));var Jn=sibling(pn,2);let wr;action(Jn,vi=>gi==null?void 0:gi(vi)),action(In,vi=>bi==null?void 0:bi(vi));var Zn=sibling(In,2);Zn.__click=[on_click$5,Mi];var xr=sibling(Zn,2);xr.__click=[on_click_1$3,Mi];var Er=sibling(xr,2);Er.__click=[on_click_2$1,Mi];var Qn=sibling(Er,2);Qn.__click=[on_click_3$1,Mi];var Es=sibling(Qn,2);Es.__click=[on_click_4$1,Mi];var Dn=sibling(Es,2);Dn.__click=[on_click_5,Mi];var ps=sibling(Dn,2);ps.__click=[on_click_6];var Sr=sibling(ps,2),Nr=child(Sr);MCXAColorPicker(Nr,{color:"#000000"}),action($i,vi=>jt==null?void 0:jt(vi)),template_effect(()=>{Oi=set_attributes($i,Oi,{class:"w-full h-8 flex rounded-md bg-white p-1 shadow-md",...ee()}),Wi=set_attributes(Pi,Wi,{type:"button",class:"trigger",...te(),"aria-label":"Update dimensions"},"svelte-1gh6gg"),Ui=set_attributes(qi,Ui,{class:" menu",...ne()},"svelte-1gh6gg"),xs=set_attributes(hs,xs,{class:"item",...me()},"svelte-1gh6gg"),vs=set_attributes(fs,vs,{class:"item",...me()},"svelte-1gh6gg"),Qs=set_attributes(Zi,Qs,{class:"item",...me(),"data-disabled":!0},"svelte-1gh6gg"),cs=set_attributes($s,cs,{class:"separator",...Ve()},"svelte-1gh6gg"),Ts=set_attributes(bs,Ts,{class:"item",...Ye()},"svelte-1gh6gg"),Ds=set_attributes(Ps,Ds,{class:"menu subMenu",...et()},"svelte-1gh6gg"),ds=set_attributes(Us,ds,{...tt()},"svelte-1gh6gg"),Gi=set_attributes(Vs,Gi,{...Ve(),class:"separator"},"svelte-1gh6gg"),tn=set_attributes(en,tn,{class:"item",...me()},"svelte-1gh6gg"),Ni=set_attributes(sn,Ni,{type:"button",class:"trigger",...nt(),"aria-label":"Update dimensions"},"svelte-1gh6gg"),Ei=set_attributes(qt,Ei,{class:" menu",...rt()},"svelte-1gh6gg"),es=set_attributes(Di,es,{class:"item",...lt()},"svelte-1gh6gg"),ss=set_attributes(as,ss,{class:"item",...lt()},"svelte-1gh6gg"),ts=set_attributes(Nt,ts,{class:"separator",...ot()},"svelte-1gh6gg"),_s=set_attributes(Is,_s,{class:"item",...lt()},"svelte-1gh6gg"),nn=set_attributes(os,nn,{class:"item",...lt()},"svelte-1gh6gg"),cr=set_attributes(js,cr,{class:"item",...lt()},"svelte-1gh6gg"),Bs=set_attributes(ls,Bs,{...ot(),class:"separator"},"svelte-1gh6gg"),rn=set_attributes(ks,rn,{class:"item",...lt()},"svelte-1gh6gg"),Ji=set_attributes(Ws,Ji,{class:"item",...lt()},"svelte-1gh6gg"),ms=set_attributes(Fn,ms,{type:"button",class:"trigger",...ht(),"aria-label":"Update dimensions"},"svelte-1gh6gg"),Rs=set_attributes(an,Rs,{class:" menu",...dt()},"svelte-1gh6gg"),ur=set_attributes(wn,ur,{class:"item",...ct()},"svelte-1gh6gg"),hr=set_attributes(ys,hr,{class:"item",...ct()},"svelte-1gh6gg"),xn=set_attributes(Hn,xn,{class:"separator",...ut()},"svelte-1gh6gg"),Gn=set_attributes(ln,Gn,{class:"item",...ft()},"svelte-1gh6gg"),zn=set_attributes(En,zn,{class:"menu subMenu",...vt()},"svelte-1gh6gg"),Un=set_attributes(Sn,Un,{...tt()},"svelte-1gh6gg"),gr=set_attributes(jn,gr,{class:"item",...ct()},"svelte-1gh6gg"),fr=set_attributes(pr,fr,{class:"item",...ct()},"svelte-1gh6gg"),dn=set_attributes(Ys,dn,{class:"separator",...ut()},"svelte-1gh6gg"),Xs=set_attributes(cn,Xs,{class:"item",...mt()},"svelte-1gh6gg"),Ln=set_attributes(An,Ln,{class:"item",...Et()},"svelte-1gh6gg"),un=set_attributes(Wn,un,{type:"button",class:"trigger",...xt(),"aria-label":"Update dimensions"},"svelte-1gh6gg"),vr=set_attributes(In,vr,{class:" menu",...yt()},"svelte-1gh6gg"),hn=set_attributes(Yn,hn,{class:"item",...St()},"svelte-1gh6gg"),gn=set_attributes(Xn,gn,{class:"item",...St()},"svelte-1gh6gg"),On=set_attributes(kn,On,{class:"separator",...At()},"svelte-1gh6gg"),qs=set_attributes(ws,qs,{class:"item",...Ct()},"svelte-1gh6gg"),Cs=set_attributes(Ns,Cs,{...At(),class:"separator"},"svelte-1gh6gg"),Pn=set_attributes(Mn,Pn,{class:"item",...Ot()},"svelte-1gh6gg"),br=set_attributes(Kn,br,{class:"item",...St(),"data-disabled":!0},"svelte-1gh6gg"),yr=set_attributes(pn,yr,{...At(),class:"separator"},"svelte-1gh6gg"),wr=set_attributes(Jn,wr,{class:"item",...St()},"svelte-1gh6gg")}),append(Y,$i),pop(),Z()}delegate(["click"]);var on_mousedown=(Y,T,k)=>T(get$2(k),Y),on_click_1$2=(Y,T,k)=>{T(get$2(k))},root_4$3=template("<li><span></span></li>"),root$18=template('<div class="wrapper svelte-1o8ak8d"><ul class="svelte-1o8ak8d"><!> <!></ul> <div class="other svelte-1o8ak8d"></div></div>');function MenuLine(Y,T){push(T,!0);let k=proxy(iconData),Z=state(void 0),ee=state(proxy(new Set)),te=proxy(api$1.dockView.LEFT_TAB_COMPONENT),ne=state(void 0),me=state(-1),Ve=derived$1(()=>k.filter(ot=>!get$2(ee).has(`${ot.panel}`)));const Ye=ot=>{if(get$2(Z)&&get$2(Z).key===ot.key)return;api$1.dockView.unregisterAllPanel(te),api$1.dockView.registerPanel(te,dockViewPanelMap.get(ot.panel))?set(Z,proxy(ot)):(set(Z,void 0),api$1.dockView.unregisterPanel(te,ot.panel))},et=(ot,ht)=>{const dt={dockViewId:te,data:ot,position:{x:ht.clientX,y:ht.clientY}};document.body.style.userSelect="none";const ct=ft=>{api$1.eventBus.emit("regionalDivisionMove",{...dt,position:{x:ft.clientX,y:ft.clientY}})},ut=ft=>{document.body.style.userSelect="",api$1.eventBus.emit("regionalDivisionMoveEnd",{...dt,position:{x:ft.clientX,y:ft.clientY}}),window.removeEventListener("mousemove",ct),window.removeEventListener("mouseup",ut)};window.addEventListener("mousemove",ct),window.addEventListener("mouseup",ut)},tt=ot=>{var ut,ft,vt;let ht,dt=[],ct=[];ot.clearSelection&&(ht=void 0,set(Z,void 0)),get$2(Z)&&(ft=(ut=api$1.dockView.dockViewPanels)==null?void 0:ut.get(api$1.dockView.LEFT_TAB_COMPONENT))!=null&&ft.has(get$2(Z).panel)&&(ht=get$2(Z).panel),ot.selectedIcon&&ot.dockViewId===api$1.dockView.LEFT_TAB_COMPONENT&&(ht=ot.selectedIcon.split("/")[1],Ye(k.find(mt=>mt.panel===ot.selectedIcon.split("/")[1])));for(const mt of api$1.dockView.dockViewPanels.keys())api$1.dockView.dockViewPanels.get(mt)&&api$1.dockView.dockViewPanels.get(mt).forEach(_t=>{_t!==ht&&ct.push(_t)});for(const mt of api$1.dockView.groupMap.keys())(vt=api$1.dockView.groupMap.get(mt))==null||vt.forEach((_t,Et)=>{Et&&dt.push(_t.split("/")[1])});api$1.dockView.localStorageSave(get$2(Z)),set(ee,proxy(new Set([...ct,...dt])))};onMount(()=>{api$1.eventBus.on("menuInitSelected",()=>{const ot=JSON.parse(localStorage.getItem("LVGL-selectedState"));ot&&ot.selectedState&&Ye(ot.selectedState)}),api$1.eventBus.on("changeMenuLine",tt),api$1.eventBus.on("menuLineMoveIcon",ot=>{if(get$2(ne)){const ht=get$2(ne).getBoundingClientRect();if(ht.left<ot.x&&ot.x<ht.right&&ht.top<ot.y&&ot.y<ht.bottom){const dt=Math.ceil((ot.y-ht.top)/48);dt>get$2(Ve).length+1?set(me,get$2(Ve).length+1):set(me,proxy(dt))}else set(me,-1)}}),api$1.eventBus.on("menuLineMoveIconEnd",ot=>{if(set(me,-1),!get$2(ne))return;const ht=get$2(ne).getBoundingClientRect();ot.x>ht.left&&ot.x<ht.right&&ot.y>ht.top&&ot.y<ht.bottom&&(get$2(Ve).some(dt=>dt.panel===ot.iconItem)||(api$1.dockView.deletePanelGroup(ot.dockViewId,ot.iconItem),tt({})))}),tt({})});var it=root$18(),st=child(it),nt=child(st);if_block(nt,ot=>{});var rt=sibling(nt,2);each(rt,17,()=>get$2(Ve),index,(ot,ht,dt)=>{Tooltip(ot,{get title(){return get$2(ht).title},children:(ct,ut)=>{var ft=root_4$3();ft.__mousedown=[on_mousedown,et,ht],ft.__click=[on_click_1$2,Ye,ht];var vt=child(ft);template_effect(()=>{var mt;set_style(ft,`${get$2(me)===dt+1?"box-shadow: 0 0 5px white inset;":""}`),set_class(ft,1,`${((mt=get$2(Z))==null?void 0:mt.key)===get$2(ht).key?"selected":""}`,"svelte-1o8ak8d"),set_class(vt,1,`iconItem iconfont ${get$2(ht).iconClass}`,"svelte-1o8ak8d")}),append(ct,ft)},$$slots:{default:!0}})});var lt=sibling(st,2);bind_this(it,ot=>set(ne,ot),()=>get$2(ne)),template_effect(()=>set_style(lt,`${get$2(me)===get$2(Ve).length+1?"":"box-shadow:none;"}`)),append(Y,it),pop()}delegate(["click","mousedown"]);var root_4$2=template('<span class="iconfont icon-arrow-right"></span>'),root_3$5=template("<button> <!></button>"),root_2$3=template('<div class="wrapper-item svelte-1ht39o3"></div>'),root_1$b=template('<div class="wrapper-option svelte-1ht39o3"></div>');function CascaderSelect(Y,T){push(T,!0);let k=state("0"),Z=state("0"),ee=state(!1),te=state(proxy([])),ne=state(proxy(new Map)),me=state(void 0);const Ve=lt=>{set(te,proxy(lt))},Ye=lt=>{lt.show?(set(k,proxy(lt.left??get$2(k))),set(Z,proxy(lt.top??get$2(Z))),set(ee,proxy(lt.show)),set(ne,proxy(lt.select??get$2(ne)))):(set(k,"9999999"),set(Z,"9999999"),set(ee,proxy(lt.show)),set(ne,proxy(lt.select??get$2(ne))))};let et=null;const tt=lt=>{et=(ot,ht)=>{typeof lt=="function"&&lt(ot,ht)}},it=lt=>{set(ne,proxy(lt??new Map))};onMount(()=>{{const lt={changeOptions:ot=>{Ve(ot)},changeSelect:ot=>{it(ot)},changeShow:ot=>{Ye(ot)},getSelectData:ot=>{tt(ot)},getDOMRef:()=>get$2(me)};window.API.popUp.registerPopUp(window.API.constant.enum.CASCADRE_SELECT,lt)}});var st=comment(),nt=first_child(st);{var rt=lt=>{var ot=root_1$b();each(ot,21,()=>get$2(te),index,(ht,dt,ct)=>{var ut=root_2$3();each(ut,21,()=>get$2(dt),index,(ft,vt)=>{var mt=root_3$5();mt.__click=()=>{et&&et(ct,get$2(vt))};var _t=child(mt),Et=sibling(_t);{var Tt=xt=>{var yt=root_4$2();append(xt,yt)};if_block(Et,xt=>{get$2(vt).children&&get$2(vt).children.length&&xt(Tt)})}template_effect(xt=>{mt.disabled=get$2(vt).disabled,set_class(mt,1,xt,"svelte-1ht39o3"),set_text(_t,`${get$2(vt).label??""} `)},[()=>{var xt;return clsx(((xt=get$2(ne).get(ct))==null?void 0:xt.value)===get$2(vt).value?"item-select":`${get$2(vt).disabled?"item-disabled":"item"}`)}]),append(ft,mt)}),append(ht,ut)}),bind_this(ot,ht=>set(me,ht),()=>get$2(me)),template_effect(()=>set_style(ot,`top:${get$2(Z)}px;left:${get$2(k)}px;`)),append(lt,ot)};if_block(nt,lt=>{get$2(ee)&&lt(rt)})}append(Y,st),pop()}delegate(["click"]);var root_1$a=template('<div class="wrapper svelte-k9vm3a"><div class="wrapper-content svelte-k9vm3a"><div class="wrapper-animation svelte-k9vm3a"><span class="iconfont icon-jiazai svelte-k9vm3a"></span></div> <div class="wrapper-title svelte-k9vm3a"> </div></div></div>');function Spinner(Y,T){push(T,!0);let k=state("Loading"),Z=state(void 0),ee=state(!1),te;const ne=et=>{set(k,proxy(et.title)),set(Z,proxy(et.timeout)),set(ee,!0),get$2(Z)?te=setTimeout(()=>{set(ee,!1),window.API.message.globalMessageNotice({type:"error",message:"Loading timed out"})},get$2(Z)):te&&clearTimeout(te)};onMount(()=>{window.API.popUp.registerPopUp(window.API.constant.component.GLOBAL_LOAD,{changeSpinner:et=>{ne(et)},close:et=>{set(ee,!1),te&&clearTimeout(te)}})});var me=comment(),Ve=first_child(me);{var Ye=et=>{var tt=root_1$a(),it=child(tt),st=sibling(child(it),2),nt=child(st);template_effect(()=>set_text(nt,get$2(k))),append(et,tt)};if_block(Ve,et=>{get$2(ee)&&et(Ye)})}append(Y,me),pop()}var root_1$9=template('<meta name="keywords" content=""> <meta name="description" content="åç¥æä¹ä½ äº">',1),root$17=template('<!> <!> <!> <!> <!> <!> <div class="wrapper svelte-169dcon"><!> <div class="wrapper-content svelte-169dcon"><div class="menu-line svelte-169dcon"><!></div> <div class="menu-content svelte-169dcon"><!></div></div></div>',1);function Lvgl(Y,T){push(T,!1);let k=mutable_state(null);const Z="drawsys5/app/split";function ee(dt){}onMount(()=>{console.log("adfl;jlas;dkfj"),saveLayout(get$2(k),Z)}),init();var te=root$17();head(dt=>{var ct=root_1$9();$document.title="LVGLå¯å¨!!!",append(dt,ct)});var ne=first_child(te);Spinner(ne,{});var me=sibling(ne,2);CascaderSelect(me,{});var Ve=sibling(me,2);Select$1(Ve,{});var Ye=sibling(Ve,2);Message(Ye,{});var et=sibling(Ye,2);CommonModalLogic(et,{isPublicState:!0,isOpenState:!1,get popUpId(){return api$1.constant.enum.COMMONMODALLOGICAPI}});var tt=sibling(et,2);RightClickMenuBar(tt,{});var it=sibling(tt,2),st=child(it);Menubar(st,{});var nt=sibling(st,2),rt=child(nt),lt=child(rt);MenuLine(lt,{});var ot=sibling(rt,2),ht=child(ot);SplitView(ht,{components:{Center,LeftTab:AppLeftTab,RightTab:AppPropsTab},orientation:"HORIZONTAL",onReady:async({api:dt})=>{set(k,dt),loadLayout(dt,Z)||(dt.addComponentPanel("LeftTab",{type:"plc"}),dt.addComponentPanel("Center",{onSelectChange:ee}),dt.addComponentPanel("RightTab",widgetProps))}}),append(Y,te),pop()}function parse(Y,T){if(Y instanceof RegExp)return{keys:!1,pattern:Y};var k,Z,ee,te,ne=[],me="",Ve=Y.split("/");for(Ve[0]||Ve.shift();ee=Ve.shift();)k=ee[0],k==="*"?(ne.push("wild"),me+="/(.*)"):k===":"?(Z=ee.indexOf("?",1),te=ee.indexOf(".",1),ne.push(ee.substring(1,~Z?Z:~te?te:ee.length)),me+=~Z&&!~te?"(?:/([^/]+?))?":"/([^/]+?)",~te&&(me+=(~Z?"?":"")+"\\"+ee.substring(te))):me+="/"+ee;return{keys:ne,pattern:new RegExp("^"+me+"/?$","i")}}function getLocation(){const Y=window.location.href.indexOf("#/");let T=Y>-1?window.location.href.substr(Y+1):"/";const k=T.indexOf("?");let Z="";return k>-1&&(Z=T.substr(k+1),T=T.substr(0,k)),{location:T,querystring:Z}}const loc=readable(null,function Y(T){T(getLocation());const k=()=>{T(getLocation())};return window.addEventListener("hashchange",k,!1),function(){window.removeEventListener("hashchange",k,!1)}});derived(loc,Y=>Y.location);derived(loc,Y=>Y.querystring);const params=writable(void 0);function restoreScroll(Y){Y?window.scrollTo(Y.__svelte_spa_router_scrollX,Y.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Router(Y,T){push(T,!1);let k=prop(T,"routes",24,()=>({})),Z=prop(T,"prefix",8,""),ee=prop(T,"restoreScrollState",8,!1);class te{constructor(ft,vt){if(!vt||typeof vt!="function"&&(typeof vt!="object"||vt._sveltesparouter!==!0))throw Error("Invalid component object");if(!ft||typeof ft=="string"&&(ft.length<1||ft.charAt(0)!="/"&&ft.charAt(0)!="*")||typeof ft=="object"&&!(ft instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:mt,keys:_t}=parse(ft);this.path=ft,typeof vt=="object"&&vt._sveltesparouter===!0?(this.component=vt.component,this.conditions=vt.conditions||[],this.userData=vt.userData,this.props=vt.props||{}):(this.component=()=>Promise.resolve(vt),this.conditions=[],this.props={}),this._pattern=mt,this._keys=_t}match(ft){if(Z()){if(typeof Z()=="string")if(ft.startsWith(Z()))ft=ft.substr(Z().length)||"/";else return null;else if(Z()instanceof RegExp){const Et=ft.match(Z());if(Et&&Et[0])ft=ft.substr(Et[0].length)||"/";else return null}}const vt=this._pattern.exec(ft);if(vt===null)return null;if(this._keys===!1)return vt;const mt={};let _t=0;for(;_t<this._keys.length;){try{mt[this._keys[_t]]=decodeURIComponent(vt[_t+1]||"")||null}catch{mt[this._keys[_t]]=null}_t++}return mt}async checkConditions(ft){for(let vt=0;vt<this.conditions.length;vt++)if(!await this.conditions[vt](ft))return!1;return!0}}const ne=[];k()instanceof Map?k().forEach((ut,ft)=>{ne.push(new te(ft,ut))}):Object.keys(k()).forEach(ut=>{ne.push(new te(ut,k()[ut]))});let me=mutable_state(null),Ve=mutable_state(null),Ye=mutable_state({});const et=createEventDispatcher();async function tt(ut,ft){await tick(),et(ut,ft)}let it=null,st=null;ee()&&(st=ut=>{ut.state&&(ut.state.__svelte_spa_router_scrollY||ut.state.__svelte_spa_router_scrollX)?it=ut.state:it=null},window.addEventListener("popstate",st),afterUpdate(()=>{restoreScroll(it)}));let nt=null,rt=null;const lt=loc.subscribe(async ut=>{nt=ut;let ft=0;for(;ft<ne.length;){const vt=ne[ft].match(ut.location);if(!vt){ft++;continue}const mt={route:ne[ft].path,location:ut.location,querystring:ut.querystring,userData:ne[ft].userData,params:vt&&typeof vt=="object"&&Object.keys(vt).length?vt:null};if(!await ne[ft].checkConditions(mt)){set(me,null),rt=null,tt("conditionsFailed",mt);return}tt("routeLoading",Object.assign({},mt));const _t=ne[ft].component;if(rt!=_t){_t.loading?(set(me,_t.loading),rt=_t,set(Ve,_t.loadingParams),set(Ye,{}),tt("routeLoaded",Object.assign({},mt,{component:get$2(me),name:get$2(me).name,params:get$2(Ve)}))):(set(me,null),rt=null);const Et=await _t();if(ut!=nt)return;set(me,Et&&Et.default||Et),rt=_t}vt&&typeof vt=="object"&&Object.keys(vt).length?set(Ve,vt):set(Ve,null),set(Ye,ne[ft].props),tt("routeLoaded",Object.assign({},mt,{component:get$2(me),name:get$2(me).name,params:get$2(Ve)})).then(()=>{params.set(get$2(Ve))});return}set(me,null),rt=null,params.set(void 0)});onDestroy(()=>{lt(),st&&window.removeEventListener("popstate",st)}),legacy_pre_effect(()=>deep_read_state(ee()),()=>{history.scrollRestoration=ee()?"manual":"auto"}),legacy_pre_effect_reset(),init();var ot=comment(),ht=first_child(ot);{var dt=ut=>{var ft=comment(),vt=first_child(ft);component(vt,()=>get$2(me),(mt,_t)=>{_t(mt,spread_props({get params(){return get$2(Ve)}},()=>get$2(Ye),{$$events:{routeEvent(Et){bubble_event.call(this,T,Et)}}}))}),append(ut,ft)},ct=ut=>{var ft=comment(),vt=first_child(ft);component(vt,()=>get$2(me),(mt,_t)=>{_t(mt,spread_props(()=>get$2(Ye),{$$events:{routeEvent(Et){bubble_event.call(this,T,Et)}}}))}),append(ut,ft)};if_block(ht,ut=>{get$2(Ve)?ut(dt):ut(ct,!1)})}append(Y,ot),pop()}function Authority(Y,T){}const optionDataTypePositiveInteger=[{value:"16-bit-positive-integer",name:"16ä½æ­£æ´æ°"},{value:"32-bit-positive-integer",name:"32ä½æ­£æ´æ°"}],optionDataTypeByteType=[...optionDataTypePositiveInteger,{value:"16-bit-integer",name:"16ä½æ´æ°"},{value:"32-bit-integer",name:"32ä½æ´æ°"},{value:"32-bit-floating-point",name:"32ä½æµ®ç¹æ°"}],optionDataTypeBCD=[{value:"bcd16",name:"16ä½BCDç "},{value:"bcd32",name:"32ä½BCDç "}],optionDataType=[...optionDataTypeByteType,{value:"16-bit-bcd-code",name:"16ä½BCDç "},{value:"16-bit-octal-number",name:"16ä½8è¿å¶æ°"},{value:"16-bit-hexadecimal-number",name:"16ä½16è¿å¶æ°"},{value:"32-bit-bcd-code",name:"32ä½BCDç "},{value:"32-bit-octal-number",name:"32ä½8è¿å¶æ°"},{value:"32-bit-hexadecimal-number",name:"32ä½16è¿å¶æ°"},{value:"16-bit-binary-number",name:"16ä½äºè¿å¶æ°"},{value:"vp-high-byte",name:"*VPé«å­è"},{value:"vp-low-byte",name:"*VPä½å­è"}],optionDataTypeTextButton=[...optionDataTypeByteType,...optionDataTypeBCD],optionRangeType=[{value:"constant",name:"å¸¸é"},{value:"address",name:"å°å"}],optionFontType=[{value:"general",name:"ä¸è¬å­ä½"},{value:"digital",name:"æ°ç å­ä½"},{value:"founder-medium",name:"æ¹æ­£ä¸­ç­çº¿ç®ä½"}],optionFontSize=[{value:"16",name:"16"},{value:"24",name:"24"},{value:"32",name:"32"},{value:"40",name:"40"},{value:"48",name:"48"},{value:"64",name:"64"},{value:"96",name:"96"},{value:"192",name:"192"}],optionAlignType=[{value:"center",name:"å±ä¸­"},{value:"left",name:"å·¦å¯¹é½"},{value:"right",name:"å³å¯¹é½"}],optionFormatAdjust=[{value:"remove-leading-zero",name:"åé¢å»0"},{value:"leading-zero",name:"0é¢å¤´"},{value:"leading-space",name:"ç©ºæ ¼é¢å¤´"}],optionManifestationState=[{value:1,name:"1"},{value:0,name:"0"}],optionEffectiveMinimumLevel=[{value:1,name:"1"},{value:2,name:"2"},{value:3,name:"3"},{value:4,name:"4"},{value:5,name:"5"},{value:6,name:"6"},{value:7,name:"7"},{value:8,name:"8"}],optionEncodingMethod=[{value:"ascii",name:"ASCII"},{value:"gb2312",name:"GB2312"}],optionDateFormat=[{value:"YYYY/MM/DD",name:"YYYY/MM/DD"},{value:"YYYY.MM.DD",name:"YYYY.MM.DD"},{value:"YYYY-MM-DD",name:"YYYY-MM-DD"},{value:"MM/DD/YYYY",name:"MM/DD/YYYY"},{value:"MM.DD.YYYY",name:"MM.DD.YYYY"},{value:"MM-DD-YYYY",name:"MM-DD-YYYY"},{value:"DD/MM/YYYY",name:"DD/MM/YYYY"},{value:"DD.MM.YYYY",name:"DD.MM.YYYY"},{value:"DD-MM-YYYY",name:"DD-MM-YYYY"}],optionTimeFormat=[{value:"HH:MM",name:"HH:MM"},{value:"HH:MM:SS",name:"HH:MM:SS"},{value:"HH-MM",name:"HH-MM"},{value:"HH-MM-SS",name:"HH-MM-SS"}],optionOperationType=[{value:"set",name:"ç½®ä½"},{value:"reset",name:"å¤ä½"},{value:"jog",name:"ç¹å¨"},{value:"toggle",name:"äº¤æ¿"}],optionAddressType=[{value:"bit",name:"ä½å°å"},{value:"word",name:"å­å°å"}],optionLanguageType=[{value:"Chinese",name:"ä¸­æ"},{value:"English",name:"è±æ"}],optionFontByButton=[{value:"Microsoft YaHei",name:"å¾®è½¯éé»"},{value:"SimSun",name:"å®ä½"},{value:"SimHei",name:"é»ä½"},{value:"KaiTi",name:"æ¥·ä½"},{value:"FangSong",name:"ä»¿å®"},{value:"Arial",name:"Arial"},{value:"Times New Roman",name:"Times New Roman"}],optionBitButtonOpType=[{value:"setConstant",name:"è®¾ç½®å¸¸æ°"},{value:"valueInput",name:"æ°å¼è¾å¥"},{value:"passwordInput",name:"å¯ç è¾å¥"},{value:"valueAdd",name:"æ°å¼å "},{value:"valueSubtract",name:"æ°å¼å"},{value:"incrementWrap",name:"éå¢ç»å"},{value:"decrementWrap",name:"éåç»å"}],optionScreenButtonOpType=[{value:"jumpToScreen",name:"è·³è½¬å°æå®ç»é¢"},{value:"backToPrevScreen",name:"è¿åå°ä¸ä¸ä¸ªç»é¢"},{value:"openWindow",name:"æå¼çªå£"},{value:"closeWindow",name:"å³é­çªå£"}],optionScreenName=[{value:"screen_1",name:"ç»é¢1"}],optionFunction=[{value:"",name:"èæ¯ç¯å¼å³"},{value:"",name:"ç³»ç»è®¾ç½®"},{value:"",name:"ç³»ç»éå¯"},{value:"",name:"è®¾ç½®å±ä¿æ¶é´"},{value:"",name:"è§¦æ¸æ ¡æ­£"},{value:"",name:"è®¾ç½®ç³»ç»æ¶é´"},{value:"",name:"é¢æ¿ä¿æ¤è§£é"},{value:"",name:"æ´æ¹ç¨æ·ç­çº§"},{value:"",name:"æ³¨éç¨æ·ç­çº§"},{value:"",name:"è§¦æ¸å£°é³å¼å³"},{value:"",name:"åå²æ°æ®æä½"},{value:"",name:"éæ¹æä½"},{value:"",name:"æ¥è­¦æä½"},{value:"",name:"è¯­è¨åæ¢"},{value:"",name:"é®çç»ä»¶"},{value:"",name:"æ çº¿è®¾ç½®"},{value:"",name:"èåè°è"},{value:"",name:"ä¸è½½æ¹å¼"}],optionFunctionRadio=[{value:"",name:"é®çè¾å¥"},{value:"",name:"éå¢"},{value:"",name:"éå"},{value:"",name:"éå¢ï¼ç»åï¼"},{value:"",name:"éåï¼ç»åï¼"},{value:"",name:"ä¿æ"}],optionDir=[{name:"ä¸",value:0},{name:"å³",value:1},{name:"ä¸",value:2},{name:"å·¦",value:3}],optionVerticalDirection=[{value:"up",name:"åä¸"},{value:"down",name:"åä¸"}],optionHorizontalDirection=[{value:"left",name:"åå·¦"},{value:"right",name:"åå³"}],optionTextDir=[...optionVerticalDirection,...optionHorizontalDirection],optionDisplayType=[{value:"static",name:"éæå¾ç"},{value:"switch",name:"å¤å¹åæ¢"}],optionStateTransitionConditionByStaticImage=[{value:"time",name:"æ¶é´"},{value:"bit",name:"ä½"}];[...optionStateTransitionConditionByStaticImage];const optionsGenerateFontSize=(()=>{const Y=[];for(let T=5;T<=256;T++)Y.push({value:T,name:T});return Y})(),optionsGradientStyle=[{value:"transparent",name:"éæ"},{value:"solid",name:"çº¯è²"},{value:"linear-horizontal",name:"æ¨ªåè¿æ¸¡"},{value:"linear-horizontal-symmetric",name:"æ¨ªåå¯¹ç§°è¿æ¸¡"},{value:"linear-vertical",name:"çºµåè¿æ¸¡"},{value:"linear-vertical-symmetric",name:"çºµåå¯¹ç§°è¿æ¸¡"},{value:"linear-diagonal-up",name:"æä¸è¿æ¸¡"},{value:"linear-diagonal-up-symmetric",name:"æä¸å¯¹ç§°è¿æ¸¡"},{value:"linear-diagonal-down",name:"æä¸è¿æ¸¡"},{value:"linear-diagonal-down-symmetric",name:"æä¸å¯¹ç§°è¿æ¸¡"},{value:"radial-top-right",name:"å³ä¸è§è¾å°"},{value:"radial-top-left",name:"å·¦ä¸è§è¾å°"},{value:"radial-center",name:"ä¸­å¿è¾å°"}],optionHistoricalDataOperation=[{value:"",name:"æ¸é¤å¨é¨åå²æ°æ®"},{value:"",name:"åå²æ°æ®ä¸ç§»"},{value:"",name:"åå²æ°æ®ä¸ç§»"},{value:"",name:"åå²æ°æ®ä¸ç¿»é¡µ"},{value:"",name:"åå²äºä»¶ä¸ç¿»é¡µ"},{value:"",name:"Uçåå²äºä»¶å¯¼åº"},{value:"",name:"SDå¡åå²æ°æ®å¯¼åº"}],optionScreenOperationType=[{value:"",name:"è·³è½¬å°æå®ç»é¢"},{value:"",name:"è¿åä¸ä¸ä¸ªç»é¢"},{value:"",name:"æå¼çªå£"},{value:"",name:"å³é­çªå£"}],optionWordAddressDataValue=[{value:"",name:"ç¨æ·è¾å¥"},{value:"",name:"è®¾ç½®æ°æ®"}],optionRevolvingLantern=[{value:"",name:"ä¸ç§»å¨"},{value:"",name:"åå·¦ç§»å¨"},{value:"",name:"åå³ç§»å¨"}],optionLineType=[{value:"",name:"éæçº¿"},{value:"",name:"å®çº¿"},{value:"",name:"èçº¿"},{value:"",name:"ç­åçº¿"},{value:"",name:"ç¹åçº¿"},{value:"",name:"ä¸¤ç¹åçº¿"}],optionLineWidth=(()=>{const Y=[];for(let T=1;T<=32;T++)Y.push({value:T,name:T});return Y})(),optionDrawConnectionLineDirection=[{value:"",name:"ä»å·¦å°å³"},{value:"",name:"ä»å³å°å·¦"}],optionDisplayOrientation=[{value:"",name:"é¡ºæ¶é"},{value:"",name:"éæ¶é"}],optionRingAttribute=[{value:"",name:"ç»åç¯"},{value:"",name:"ç»åå¼§"}],optionComparisonSymbol=[{value:"",name:"<"},{value:"",name:">"},{value:"",name:"=="},{value:"",name:"<>"},{value:"",name:"<="},{value:"",name:">="}];var root_1$8=template('<div class="label-card"><div class="label-title"><!></div> <div><div class="label-card"><!> <div><!></div> <div><!></div></div> <div class="label-card"><div class="label-title"><!></div> <div><!></div></div> <div class="label-card"><div class="label-title"><!></div> <div class="label-row"><!></div> <div class="label-row"><!> <!> <!></div></div></div></div>'),root_2$2=template('<div class="label-card"><div class="label-title"><!></div> <div class="label-row"><!> <!></div></div>'),root_3$4=template('<div class="label-card no-box-shadow"><!></div>'),root$16=template('<div class="wrapper"><div><div class="label-card"><div class="label-title"><!></div> <div><div class="label-card"><div class="label-title"><!></div> <div class="label-row"><!></div> <div><!></div></div> <div class="label-card"><div class="label-title"><!></div> <div><!></div></div> <div class="label-card"><div class="label-title"><!></div> <div><!></div> <div class="label-row"><!> <!> <!></div></div></div></div> <!> <!> <!></div></div>');function PermissionSettings(Y,T){push(T,!0);let k=prop(T,"hasTouchEffective",3,!0),Z=prop(T,"hasNotice",3,!0),ee=prop(T,"hasPressingTime",3,!0);var te=root$16(),ne=child(te),me=child(ne),Ve=child(me),Ye=child(Ve);LabelInput(Ye,{label:"æ¾ç°",type:"checkbox",value:!1});var et=sibling(Ve,2),tt=child(et),it=child(tt),st=child(it);LabelInput(st,{label:"åä½æ§å¶",type:"checkbox",value:!1});var nt=sibling(it,2),rt=child(nt);LabelInput(rt,{label:"å°å",type:"string",value:"LB0"});var lt=sibling(nt,2),ot=child(lt);LabelInput(ot,{label:"æ¾ç°ç¶æ",type:"radio",direction:"horizontal",options:optionManifestationState,get value(){return optionManifestationState[0].value}});var ht=sibling(tt,2),dt=child(ht),ct=child(dt);LabelInput(ct,{label:"åç¨æ·ç­çº§æ§å¶",type:"checkbox",value:!1});var ut=sibling(dt,2),ft=child(ut);LabelInput(ft,{label:"æææä½ç­çº§",type:"option",options:optionEffectiveMinimumLevel,get value(){return optionEffectiveMinimumLevel[0].value}});var vt=sibling(ht,2),mt=child(vt),_t=child(mt);LabelInput(_t,{label:"å­æ§å¶",type:"checkbox",value:!1});var Et=sibling(mt,2),Tt=child(Et);LabelInput(Tt,{label:"æ°æ®ç±»å",type:"option",options:optionDataTypeByteType,get value(){return optionDataTypeByteType[0].value}});var xt=sibling(Et,2),yt=child(xt);LabelInput(yt,{label:"",type:"string",value:"LW0"});var St=sibling(yt,2);LabelInput(St,{label:"",type:"option",options:optionComparisonSymbol,get value(){return optionComparisonSymbol[0].value}});var At=sibling(St,2);LabelInput(At,{label:"",type:"string",value:0});var Ct=sibling(me,2);{var It=Ht=>{var Ft=root_1$8(),jt=child(Ft),Gt=child(jt);LabelInput(Gt,{label:"è§¦æ§ææ",type:"checkbox",value:!1});var Kt=sibling(jt,2),Pt=child(Kt),kt=child(Pt);LabelInput(kt,{label:"åä½æ§å¶",type:"checkbox",value:!1});var zt=sibling(kt,2),Wt=child(zt);LabelInput(Wt,{label:"å°å",type:"string",value:"LB0"});var si=sibling(zt,2),ei=child(si);LabelInput(ei,{label:"ææç¶æ",type:"radio",direction:"horizontal",options:optionManifestationState,get value(){return optionManifestationState[0].value}});var Zt=sibling(Pt,2),Jt=child(Zt),ti=child(Jt);LabelInput(ti,{label:"åç¨æ·ç­çº§æ§å¶",type:"checkbox",value:!1});var di=sibling(Jt,2),Qt=child(di);LabelInput(Qt,{label:"æææä½ç­çº§",type:"option",options:optionEffectiveMinimumLevel,get value(){return optionEffectiveMinimumLevel[0].value}});var Si=sibling(Zt,2),Ti=child(Si),Ri=child(Ti);LabelInput(Ri,{label:"å­æ§å¶",type:"checkbox",value:!1});var ki=sibling(Ti,2),Bt=child(ki);LabelInput(Bt,{label:"æ°æ®ç±»å",type:"option",options:optionDataTypeByteType,get value(){return optionDataTypeByteType[0].value}});var ai=sibling(ki,2),ci=child(ai);LabelInput(ci,{label:"",type:"string",value:"LW0"});var yi=sibling(ci,2);LabelInput(yi,{label:"",type:"option",options:optionComparisonSymbol,get value(){return optionComparisonSymbol[0].value}});var Ci=sibling(yi,2);LabelInput(Ci,{label:"",type:"string",value:0}),append(Ht,Ft)};if_block(Ct,Ht=>{k()&&Ht(It)})}var Ot=sibling(Ct,2);{var Dt=Ht=>{var Ft=root_2$2(),jt=child(Ft),Gt=child(jt);LabelInput(Gt,{label:"éç¥",type:"checkbox",value:!1});var Kt=sibling(jt,2),Pt=child(Kt);LabelInput(Pt,{label:"éç¥ä½",type:"checkbox",value:!1});var kt=sibling(Pt,2);LabelInput(kt,{label:"éç¥å­",type:"checkbox",value:!1}),append(Ht,Ft)};if_block(Ot,Ht=>{Z()&&Ht(Dt)})}var Mt=sibling(Ot,2);{var $t=Ht=>{var Ft=root_3$4(),jt=child(Ft);LabelInput(jt,{label:"æåæ¶é´",type:"checkbox",value:!1}),append(Ht,Ft)};if_block(Mt,Ht=>{ee()&&Ht($t)})}append(Y,te),pop()}const AirConditioner=["ç©ºè°_001.svg","ç©ºè°_002.svg","ç©ºè°_003.svg","ç©ºè°_004.svg","ç©ºè°_005.svg","ç©ºè°_006.svg","ç©ºè°_007.svg","ç©ºè°_008.svg","ç©ºè°_009.svg","ç©ºè°_010.svg","ç©ºè°_011.svg","ç©ºè°_012.svg","ç©ºè°_013.svg","ç©ºè°_014.svg","ç©ºè°_015.svg","ç©ºè°_016.svg","ç©ºè°_017.svg","ç©ºè°_018.svg","ç©ºè°_019.svg","ç©ºè°_020.svg","ç©ºè°_021.svg","ç©ºè°_022.svg","ç©ºè°_023.svg","ç©ºè°_024.svg","ç©ºè°_025.svg","ç©ºè°_026.svg","ç©ºè°_027.svg","ç©ºè°_028.svg","ç©ºè°_029.svg","ç©ºè°_030.svg","ç©ºè°_031.svg","ç©ºè°_032.svg","ç©ºè°_033.svg","ç©ºè°_034.svg","ç©ºè°_035.svg","ç©ºè°_036.svg","ç©ºè°_037.svg","ç©ºè°_038.svg","ç©ºè°_039.svg","ç©ºè°_040.svg","ç©ºè°_041.svg","ç©ºè°_042.svg","ç©ºè°_043.svg","ç©ºè°_044.svg","ç©ºè°_045.svg","ç©ºè°_046.svg","ç©ºè°_047.svg","ç©ºè°_048.svg","ç©ºè°_049.svg","ç©ºè°_050.svg","ç©ºè°_051.svg","ç©ºè°_052.svg","ç©ºè°_053.svg","ç©ºè°_054.svg","ç©ºè°_055.svg","ç©ºè°_056.svg","ç©ºè°_057.svg","ç©ºè°_058.svg","ç©ºè°_059.svg","ç©ºè°_060.svg","ç©ºè°_061.svg","ç©ºè°_062.svg","ç©ºè°_063.svg","ç©ºè°_064.svg","ç©ºè°_065.svg","ç©ºè°_066.svg","ç©ºè°_067.svg","ç©ºè°_068.svg","ç©ºè°_069.svg","ç©ºè°_070.svg","ç©ºè°_071.svg","ç©ºè°_072.svg","ç©ºè°_073.svg","ç©ºè°_074.svg","ç©ºè°_075.svg","ç©ºè°_076.svg","ç©ºè°_077.svg","ç©ºè°_078.svg","ç©ºè°_079.svg","ç©ºè°_080.svg","ç©ºè°_081.svg","ç©ºè°_082.svg","ç©ºè°_083.svg","ç©ºè°_084.svg","ç©ºè°_085.svg","ç©ºè°_086.svg","ç©ºè°_087.svg","ç©ºè°_088.svg","ç©ºè°_089.svg","ç©ºè°_090.svg","ç©ºè°_091.svg","ç©ºè°_092.svg","ç©ºè°_093.svg","ç©ºè°_094.svg","ç©ºè°_095.svg","ç©ºè°_096.svg","ç©ºè°_097.svg","ç©ºè°_098.svg","ç©ºè°_099.svg","ç©ºè°_100.svg","ç©ºè°_101.svg","ç©ºè°_102.svg","ç©ºè°_103.svg","ç©ºè°_104.svg","ç©ºè°_105.svg","ç©ºè°_106.svg","ç©ºè°_107.svg","ç©ºè°_108.svg","ç©ºè°_109.svg","ç©ºè°_110.svg","ç©ºè°_111.svg","ç©ºè°_112.svg","ç©ºè°_113.svg","ç©ºè°_114.svg","ç©ºè°_115.svg","ç©ºè°_116.svg","ç©ºè°_117.svg","ç©ºè°_118.svg","ç©ºè°_119.svg","ç©ºè°_120.svg","ç©ºè°_121.svg","ç©ºè°_122.svg","ç©ºè°_123.svg","ç©ºè°_124.svg","ç©ºè°_125.svg","ç©ºè°_126.svg","ç©ºè°_127.svg","ç©ºè°_128.svg","ç©ºè°_129.svg","ç©ºè°_130.svg","ç©ºè°_131.svg","ç©ºè°_132.svg","ç©ºè°_133.svg","ç©ºè°_134.svg","ç©ºè°_135.svg","ç©ºè°_136.svg","ç©ºè°_137.svg","ç©ºè°_138.svg","ç©ºè°_139.svg","ç©ºè°_140.svg","ç©ºè°_141.svg","ç©ºè°_142.svg","ç©ºè°_143.svg","ç©ºè°_144.svg","ç©ºè°_145.svg","ç©ºè°_146.svg","ç©ºè°_147.svg","ç©ºè°_148.svg","ç©ºè°_149.svg","ç©ºè°_150.svg","ç©ºè°_151.svg","ç©ºè°_152.svg","ç©ºè°_153.svg","ç©ºè°_154.svg","ç©ºè°_155.svg","ç©ºè°_156.svg","ç©ºè°_157.svg","ç©ºè°_158.svg","ç©ºè°_159.svg","ç©ºè°_160.svg","ç©ºè°_161.svg","ç©ºè°_162.svg","ç©ºè°_163.svg","ç©ºè°_164.svg","ç©ºè°_165.svg","ç©ºè°_166.svg","ç©ºè°_167.svg","ç©ºè°_168.svg","ç©ºè°_169.svg","ç©ºè°_170.svg","ç©ºè°_171.svg","ç©ºè°_172.svg","ç©ºè°_173.svg","ç©ºè°_174.svg","ç©ºè°_175.svg","ç©ºè°_176.svg","ç©ºè°_177.svg","ç©ºè°_178.svg","ç©ºè°_179.svg","ç©ºè°_180.svg","ç©ºè°_181.svg","ç©ºè°_182.svg","ç©ºè°_183.svg","ç©ºè°_184.svg","ç©ºè°_185.svg","ç©ºè°_186.svg","ç©ºè°_187.svg","ç©ºè°_188.svg","ç©ºè°_189.svg","ç©ºè°_190.svg","ç©ºè°_191.svg","ç©ºè°_192.svg","ç©ºè°_193.svg","ç©ºè°_194.svg","ç©ºè°_195.svg","ç©ºè°_196.svg","ç©ºè°_197.svg","ç©ºè°_198.svg","ç©ºè°_199.svg","ç©ºè°_200.svg","ç©ºè°_201.svg","ç©ºè°_202.svg","ç©ºè°_203.svg","ç©ºè°_204.svg","ç©ºè°_205.svg","ç©ºè°_206.svg","ç©ºè°_207.svg","ç©ºè°_208.svg","ç©ºè°_209.svg","ç©ºè°_210.svg","ç©ºè°_211.svg","ç©ºè°_212.svg","ç©ºè°_213.svg","ç©ºè°_214.svg","ç©ºè°_215.svg","ç©ºè°_216.svg","ç©ºè°_217.svg","ç©ºè°_218.svg","ç©ºè°_219.svg","ç©ºè°_220.svg","ç©ºè°_221.svg","ç©ºè°_222.svg","ç©ºè°_223.svg","ç©ºè°_224.svg","ç©ºè°_225.svg","ç©ºè°_226.svg","ç©ºè°_227.svg","ç©ºè°_228.svg","ç©ºè°_229.svg","ç©ºè°_230.svg","ç©ºè°_231.svg","ç©ºè°_232.svg","ç©ºè°_233.svg","ç©ºè°_234.svg","ç©ºè°_235.svg","ç©ºè°_236.svg","ç©ºè°_237.svg","ç©ºè°_238.svg","ç©ºè°_239.svg","ç©ºè°_240.svg","ç©ºè°_241.svg","ç©ºè°_242.svg","ç©ºè°_243.svg","ç©ºè°_244.svg","ç©ºè°_245.svg","ç©ºè°_246.svg","ç©ºè°_247.svg","ç©ºè°_248.svg","ç©ºè°_249.svg","ç©ºè°_250.svg","ç©ºè°_251.svg","ç©ºè°_252.svg","ç©ºè°_253.svg","ç©ºè°_254.svg","ç©ºè°_255.svg","ç©ºè°_256.svg","ç©ºè°_257.svg","ç©ºè°_258.svg","ç©ºè°_259.svg","ç©ºè°_260.svg","ç©ºè°_261.svg","ç©ºè°_262.svg","ç©ºè°_263.svg","ç©ºè°_264.svg","ç©ºè°_265.svg","ç©ºè°_266.svg","ç©ºè°_267.svg","ç©ºè°_268.svg","ç©ºè°_269.svg","ç©ºè°_270.svg","ç©ºè°_271.svg","ç©ºè°_272.svg","ç©ºè°_273.svg","ç©ºè°_274.svg","ç©ºè°_275.svg","ç©ºè°_276.svg","ç©ºè°_277.svg","ç©ºè°_278.svg","ç©ºè°_279.svg","ç©ºè°_280.svg","ç©ºè°_281.svg","ç©ºè°_282.svg","ç©ºè°_283.svg","ç©ºè°_284.svg","ç©ºè°_285.svg","ç©ºè°_286.svg","ç©ºè°_287.svg","ç©ºè°_288.svg","ç©ºè°_289.svg","ç©ºè°_290.svg","ç©ºè°_291.svg","ç©ºè°_292.svg","ç©ºè°_293.svg","ç©ºè°_294.svg","ç©ºè°_295.svg","ç©ºè°_296.svg","ç©ºè°_297.svg","ç©ºè°_298.svg","ç©ºè°_299.svg","ç©ºè°_300.svg","ç©ºè°_301.svg","ç©ºè°_302.svg","ç©ºè°_303.svg","ç©ºè°_304.svg","ç©ºè°_305.svg","ç©ºè°_306.svg","ç©ºè°_307.svg","ç©ºè°_308.svg","ç©ºè°_309.svg","ç©ºè°_310.svg","ç©ºè°_311.svg","ç©ºè°_312.svg","ç©ºè°_313.svg","ç©ºè°_314.svg","ç©ºè°_315.svg","ç©ºè°_316.svg","ç©ºè°_317.svg","ç©ºè°_318.svg","ç©ºè°_319.svg","ç©ºè°_320.svg","ç©ºè°_321.svg","ç©ºè°_322.svg","ç©ºè°_323.svg","ç©ºè°_324.svg","ç©ºè°_325.svg","ç©ºè°_326.svg","ç©ºè°_327.svg","ç©ºè°_328.svg","ç©ºè°_329.svg","ç©ºè°_330.svg","ç©ºè°_331.svg","ç©ºè°_332.svg"],AirConditioner2=["ç©ºè°-01.svg","ç©ºè°-02.svg","ç©ºè°-03.svg","ç©ºè°-04.svg","ç©ºè°-05.svg","ç©ºè°-06.svg","ç©ºè°-07.svg","ç©ºè°-08.svg","ç©ºè°-09.svg","ç©ºè°-10.svg","ç©ºè°-100.svg","ç©ºè°-11.svg","ç©ºè°-12.svg","ç©ºè°-13.svg","ç©ºè°-14.svg","ç©ºè°-15.svg","ç©ºè°-16.svg","ç©ºè°-17.svg","ç©ºè°-18.svg","ç©ºè°-19.svg","ç©ºè°-20.svg","ç©ºè°-21.svg","ç©ºè°-22.svg","ç©ºè°-23.svg","ç©ºè°-24.svg","ç©ºè°-25.svg","ç©ºè°-26.svg","ç©ºè°-27.svg","ç©ºè°-28.svg","ç©ºè°-29.svg","ç©ºè°-30.svg","ç©ºè°-31.svg","ç©ºè°-32.svg","ç©ºè°-33.svg","ç©ºè°-34.svg","ç©ºè°-35.svg","ç©ºè°-36.svg","ç©ºè°-37.svg","ç©ºè°-38.svg","ç©ºè°-39.svg","ç©ºè°-40.svg","ç©ºè°-41.svg","ç©ºè°-42.svg","ç©ºè°-43.svg","ç©ºè°-44.svg","ç©ºè°-45.svg","ç©ºè°-46.svg","ç©ºè°-47.svg","ç©ºè°-48.svg","ç©ºè°-49.svg","ç©ºè°-50.svg","ç©ºè°-51.svg","ç©ºè°-52.svg","ç©ºè°-53.svg","ç©ºè°-54.svg","ç©ºè°-55.svg","ç©ºè°-56.svg","ç©ºè°-57.svg","ç©ºè°-58.svg","ç©ºè°-59.svg","ç©ºè°-60.svg","ç©ºè°-61.svg","ç©ºè°-62.svg","ç©ºè°-63.svg","ç©ºè°-64.svg","ç©ºè°-65.svg","ç©ºè°-66.svg","ç©ºè°-67.svg","ç©ºè°-68.svg","ç©ºè°-69.svg","ç©ºè°-70.svg","ç©ºè°-71.svg","ç©ºè°-72.svg","ç©ºè°-73.svg","ç©ºè°-74.svg","ç©ºè°-75.svg","ç©ºè°-76.svg","ç©ºè°-77.svg","ç©ºè°-78.svg","ç©ºè°-79.svg","ç©ºè°-80.svg","ç©ºè°-81.svg","ç©ºè°-82.svg","ç©ºè°-83.svg","ç©ºè°-84.svg","ç©ºè°-85.svg","ç©ºè°-86.svg","ç©ºè°-87.svg","ç©ºè°-88.svg","ç©ºè°-89.svg","ç©ºè°-90.svg","ç©ºè°-91.svg","ç©ºè°-92.svg","ç©ºè°-93.svg","ç©ºè°-94.svg","ç©ºè°-95.svg","ç©ºè°-96.svg","ç©ºè°-97.svg","ç©ºè°-98.svg","ç©ºè°-99.svg"],AirPurifier=["ç©ºæ°ååå¨_001.svg","ç©ºæ°ååå¨_002.svg","ç©ºæ°ååå¨_003.svg","ç©ºæ°ååå¨_004.svg","ç©ºæ°ååå¨_005.svg","ç©ºæ°ååå¨_006.svg","ç©ºæ°ååå¨_007.svg","ç©ºæ°ååå¨_008.svg","ç©ºæ°ååå¨_009.svg","ç©ºæ°ååå¨_010.svg","ç©ºæ°ååå¨_011.svg","ç©ºæ°ååå¨_012.svg","ç©ºæ°ååå¨_013.svg","ç©ºæ°ååå¨_014.svg","ç©ºæ°ååå¨_015.svg","ç©ºæ°ååå¨_016.svg","ç©ºæ°ååå¨_017.svg","ç©ºæ°ååå¨_018.svg","ç©ºæ°ååå¨_019.svg","ç©ºæ°ååå¨_020.svg","ç©ºæ°ååå¨_021.svg","ç©ºæ°ååå¨_022.svg","ç©ºæ°ååå¨_023.svg","ç©ºæ°ååå¨_024.svg","ç©ºæ°ååå¨_025.svg","ç©ºæ°ååå¨_026.svg","ç©ºæ°ååå¨_027.svg","ç©ºæ°ååå¨_028.svg","ç©ºæ°ååå¨_029.svg","ç©ºæ°ååå¨_030.svg","ç©ºæ°ååå¨_031.svg","ç©ºæ°ååå¨_032.svg","ç©ºæ°ååå¨_033.svg","ç©ºæ°ååå¨_034.svg","ç©ºæ°ååå¨_035.svg","ç©ºæ°ååå¨_036.svg","ç©ºæ°ååå¨_037.svg","ç©ºæ°ååå¨_038.svg","ç©ºæ°ååå¨_039.svg","ç©ºæ°ååå¨_040.svg","ç©ºæ°ååå¨_041.svg","ç©ºæ°ååå¨_042.svg","ç©ºæ°ååå¨_043.svg","ç©ºæ°ååå¨_044.svg","ç©ºæ°ååå¨_045.svg","ç©ºæ°ååå¨_046.svg","ç©ºæ°ååå¨_047.svg","ç©ºæ°ååå¨_048.svg","ç©ºæ°ååå¨_049.svg","ç©ºæ°ååå¨_050.svg","ç©ºæ°ååå¨_051.svg","ç©ºæ°ååå¨_052.svg","ç©ºæ°ååå¨_053.svg","ç©ºæ°ååå¨_054.svg","ç©ºæ°ååå¨_055.svg","ç©ºæ°ååå¨_056.svg","ç©ºæ°ååå¨_057.svg","ç©ºæ°ååå¨_058.svg","ç©ºæ°ååå¨_059.svg","ç©ºæ°ååå¨_060.svg","ç©ºæ°ååå¨_061.svg","ç©ºæ°ååå¨_062.svg","ç©ºæ°ååå¨_063.svg","ç©ºæ°ååå¨_064.svg","ç©ºæ°ååå¨_065.svg","ç©ºæ°ååå¨_066.svg","ç©ºæ°ååå¨_067.svg","ç©ºæ°ååå¨_068.svg","ç©ºæ°ååå¨_069.svg","ç©ºæ°ååå¨_070.svg","ç©ºæ°ååå¨_071.svg","ç©ºæ°ååå¨_072.svg","ç©ºæ°ååå¨_073.svg","ç©ºæ°ååå¨_074.svg","ç©ºæ°ååå¨_075.svg","ç©ºæ°ååå¨_076.svg","ç©ºæ°ååå¨_077.svg","ç©ºæ°ååå¨_078.svg","ç©ºæ°ååå¨_079.svg","ç©ºæ°ååå¨_080.svg","ç©ºæ°ååå¨_081.svg","ç©ºæ°ååå¨_082.svg","ç©ºæ°ååå¨_083.svg","ç©ºæ°ååå¨_084.svg","ç©ºæ°ååå¨_085.svg","ç©ºæ°ååå¨_086.svg","ç©ºæ°ååå¨_087.svg","ç©ºæ°ååå¨_088.svg","ç©ºæ°ååå¨_089.svg","ç©ºæ°ååå¨_090.svg","ç©ºæ°ååå¨_091.svg","ç©ºæ°ååå¨_092.svg","ç©ºæ°ååå¨_093.svg","ç©ºæ°ååå¨_094.svg","ç©ºæ°ååå¨_095.svg","ç©ºæ°ååå¨_096.svg","ç©ºæ°ååå¨_097.svg","ç©ºæ°ååå¨_098.svg","ç©ºæ°ååå¨_099.svg","ç©ºæ°ååå¨_100.svg","ç©ºæ°ååå¨_101.svg","ç©ºæ°ååå¨_102.svg","ç©ºæ°ååå¨_103.svg","ç©ºæ°ååå¨_104.svg","ç©ºæ°ååå¨_105.svg","ç©ºæ°ååå¨_106.svg","ç©ºæ°ååå¨_107.svg","ç©ºæ°ååå¨_108.svg","ç©ºæ°ååå¨_109.svg","ç©ºæ°ååå¨_110.svg","ç©ºæ°ååå¨_111.svg","ç©ºæ°ååå¨_112.svg","ç©ºæ°ååå¨_113.svg","ç©ºæ°ååå¨_114.svg","ç©ºæ°ååå¨_115.svg","ç©ºæ°ååå¨_116.svg","ç©ºæ°ååå¨_117.svg","ç©ºæ°ååå¨_118.svg","ç©ºæ°ååå¨_119.svg","ç©ºæ°ååå¨_120.svg","ç©ºæ°ååå¨_121.svg","ç©ºæ°ååå¨_122.svg","ç©ºæ°ååå¨_123.svg","ç©ºæ°ååå¨_124.svg","ç©ºæ°ååå¨_125.svg","ç©ºæ°ååå¨_126.svg","ç©ºæ°ååå¨_127.svg","ç©ºæ°ååå¨_128.svg","ç©ºæ°ååå¨_129.svg","ç©ºæ°ååå¨_130.svg","ç©ºæ°ååå¨_131.svg","ç©ºæ°ååå¨_132.svg","ç©ºæ°ååå¨_133.svg","ç©ºæ°ååå¨_134.svg","ç©ºæ°ååå¨_135.svg","ç©ºæ°ååå¨_136.svg","ç©ºæ°ååå¨_137.svg","ç©ºæ°ååå¨_138.svg","ç©ºæ°ååå¨_139.svg","ç©ºæ°ååå¨_140.svg","ç©ºæ°ååå¨_141.svg","ç©ºæ°ååå¨_142.svg","ç©ºæ°ååå¨_143.svg","ç©ºæ°ååå¨_144.svg","ç©ºæ°ååå¨_145.svg","ç©ºæ°ååå¨_146.svg","ç©ºæ°ååå¨_147.svg","ç©ºæ°ååå¨_148.svg","ç©ºæ°ååå¨_149.svg","ç©ºæ°ååå¨_150.svg","ç©ºæ°ååå¨_151.svg","ç©ºæ°ååå¨_152.svg","ç©ºæ°ååå¨_153.svg","ç©ºæ°ååå¨_154.svg","ç©ºæ°ååå¨_155.svg","ç©ºæ°ååå¨_156.svg","ç©ºæ°ååå¨_157.svg","ç©ºæ°ååå¨_158.svg","ç©ºæ°ååå¨_159.svg","ç©ºæ°ååå¨_160.svg","ç©ºæ°ååå¨_161.svg","ç©ºæ°ååå¨_162.svg","ç©ºæ°ååå¨_163.svg","ç©ºæ°ååå¨_164.svg","ç©ºæ°ååå¨_165.svg","ç©ºæ°ååå¨_166.svg","ç©ºæ°ååå¨_167.svg","ç©ºæ°ååå¨_168.svg","ç©ºæ°ååå¨_169.svg","ç©ºæ°ååå¨_170.svg","ç©ºæ°ååå¨_171.svg","ç©ºæ°ååå¨_172.svg","ç©ºæ°ååå¨_173.svg","ç©ºæ°ååå¨_174.svg","ç©ºæ°ååå¨_175.svg","ç©ºæ°ååå¨_176.svg","ç©ºæ°ååå¨_177.svg","ç©ºæ°ååå¨_178.svg","ç©ºæ°ååå¨_179.svg","ç©ºæ°ååå¨_180.svg","ç©ºæ°ååå¨_181.svg","ç©ºæ°ååå¨_182.svg","ç©ºæ°ååå¨_183.svg","ç©ºæ°ååå¨_184.svg","ç©ºæ°ååå¨_185.svg","ç©ºæ°ååå¨_186.svg","ç©ºæ°ååå¨_187.svg","ç©ºæ°ååå¨_188.svg","ç©ºæ°ååå¨_189.svg","ç©ºæ°ååå¨_190.svg","ç©ºæ°ååå¨_191.svg","ç©ºæ°ååå¨_192.svg","ç©ºæ°ååå¨_193.svg","ç©ºæ°ååå¨_194.svg","ç©ºæ°ååå¨_195.svg","ç©ºæ°ååå¨_196.svg","ç©ºæ°ååå¨_197.svg","ç©ºæ°ååå¨_198.svg","ç©ºæ°ååå¨_199.svg","ç©ºæ°ååå¨_200.svg","ç©ºæ°ååå¨_201.svg","ç©ºæ°ååå¨_202.svg","ç©ºæ°ååå¨_203.svg"],Blender=["æææº_01-01.svg","æææº_02-01.svg","æææº_03-01.svg","æææº_04-01.svg","æææº_05-01.svg","æææº_06-01.svg","æææº_07-01.svg","æææº_08-01.svg","æææº_09-01.svg","æææº_10-01.svg","æææº_11-01.svg","æææº_12-01.svg","æææº_13-01.svg","æææº_14-01.svg","æææº_15-01.svg","æææº_16-01.svg","æææº_17-01.svg","æææº_18-01.svg","æææº_19-01.svg","æææº_20-01.svg","æææº_21-01.svg","æææº_22-01.svg","æææº_23-01.svg","æææº_24-01.svg","æææº_25-01.svg"],CoffeeMachine=["åå¡æº_001.svg","åå¡æº_002.svg","åå¡æº_003.svg","åå¡æº_004.svg","åå¡æº_005.svg","åå¡æº_006.svg","åå¡æº_007.svg","åå¡æº_008.svg","åå¡æº_009.svg","åå¡æº_010.svg","åå¡æº_011.svg","åå¡æº_012.svg","åå¡æº_013.svg","åå¡æº_014.svg","åå¡æº_015.svg","åå¡æº_016.svg","åå¡æº_017.svg","åå¡æº_018.svg","åå¡æº_019.svg","åå¡æº_020.svg","åå¡æº_021.svg","åå¡æº_022.svg","åå¡æº_023.svg","åå¡æº_024.svg","åå¡æº_025.svg","åå¡æº_026.svg","åå¡æº_027.svg","åå¡æº_028.svg","åå¡æº_029.svg","åå¡æº_030.svg","åå¡æº_031.svg","åå¡æº_032.svg","åå¡æº_033.svg","åå¡æº_034.svg","åå¡æº_035.svg","åå¡æº_036.svg","åå¡æº_037.svg","åå¡æº_038.svg","åå¡æº_039.svg","åå¡æº_040.svg","åå¡æº_041.svg","åå¡æº_042.svg","åå¡æº_043.svg","åå¡æº_044.svg","åå¡æº_045.svg","åå¡æº_046.svg","åå¡æº_047.svg","åå¡æº_048.svg","åå¡æº_049.svg","åå¡æº_050.svg","åå¡æº_051.svg","åå¡æº_052.svg","åå¡æº_053.svg","åå¡æº_054.svg","åå¡æº_055.svg","åå¡æº_056.svg","åå¡æº_057.svg","åå¡æº_058.svg","åå¡æº_059.svg","åå¡æº_060.svg","åå¡æº_061.svg","åå¡æº_062.svg","åå¡æº_063.svg","åå¡æº_064.svg","åå¡æº_065.svg","åå¡æº_066.svg","åå¡æº_067.svg","åå¡æº_068.svg","åå¡æº_069.svg","åå¡æº_070.svg","åå¡æº_071.svg","åå¡æº_072.svg","åå¡æº_073.svg","åå¡æº_074.svg","åå¡æº_075.svg","åå¡æº_076.svg","åå¡æº_077.svg","åå¡æº_078.svg","åå¡æº_079.svg","åå¡æº_080.svg","åå¡æº_081.svg","åå¡æº_082.svg","åå¡æº_083.svg","åå¡æº_084.svg","åå¡æº_085.svg","åå¡æº_086.svg","åå¡æº_087.svg","åå¡æº_088.svg","åå¡æº_089.svg","åå¡æº_090.svg","åå¡æº_091.svg","åå¡æº_092.svg","åå¡æº_093.svg","åå¡æº_094.svg","åå¡æº_095.svg","åå¡æº_096.svg","åå¡æº_097.svg","åå¡æº_098.svg","åå¡æº_099.svg","åå¡æº_100.svg","åå¡æº_101.svg","åå¡æº_102.svg","åå¡æº_103.svg","åå¡æº_104.svg","åå¡æº_105.svg","åå¡æº_106.svg","åå¡æº_107.svg","åå¡æº_108.svg","åå¡æº_109.svg","åå¡æº_110.svg","åå¡æº_111.svg","åå¡æº_112.svg","åå¡æº_113.svg","åå¡æº_114.svg","åå¡æº_115.svg","åå¡æº_116.svg","åå¡æº_117.svg","åå¡æº_118.svg","åå¡æº_119.svg","åå¡æº_120.svg","åå¡æº_121.svg","åå¡æº_122.svg","åå¡æº_123.svg","åå¡æº_124.svg","åå¡æº_125.svg","åå¡æº_126.svg","åå¡æº_127.svg","åå¡æº_128.svg","åå¡æº_129.svg","åå¡æº_130.svg","åå¡æº_131.svg","åå¡æº_132.svg","åå¡æº_133.svg","åå¡æº_134.svg","åå¡æº_135.svg","åå¡æº_136.svg","åå¡æº_137.svg","åå¡æº_138.svg","åå¡æº_139.svg","åå¡æº_140.svg","åå¡æº_141.svg","åå¡æº_142.svg","åå¡æº_143.svg","åå¡æº_144.svg","åå¡æº_145.svg","åå¡æº_146.svg","åå¡æº_147.svg","åå¡æº_148.svg","åå¡æº_149.svg","åå¡æº_150.svg","åå¡æº_151.svg","åå¡æº_152.svg","åå¡æº_153.svg","åå¡æº_154.svg","åå¡æº_155.svg","åå¡æº_156.svg","åå¡æº_157.svg","åå¡æº_158.svg","åå¡æº_159.svg","åå¡æº_160.svg","åå¡æº_161.svg","åå¡æº_162.svg","åå¡æº_163.svg","åå¡æº_164.svg","åå¡æº_165.svg","åå¡æº_166.svg","åå¡æº_167.svg","åå¡æº_168.svg","åå¡æº_169.svg","åå¡æº_170.svg","åå¡æº_171.svg","åå¡æº_172.svg","åå¡æº_173.svg","åå¡æº_174.svg","åå¡æº_175.svg","åå¡æº_176.svg","åå¡æº_177.svg","åå¡æº_178.svg","åå¡æº_179.svg","åå¡æº_180.svg","åå¡æº_181.svg","åå¡æº_182.svg","åå¡æº_183.svg","åå¡æº_184.svg","åå¡æº_185.svg","åå¡æº_186.svg","åå¡æº_187.svg","åå¡æº_188.svg"],ComputersAndPeripherals=["çµèåå¤è®¾_01-01.svg","çµèåå¤è®¾_02-01.svg","çµèåå¤è®¾_03-01.svg","çµèåå¤è®¾_04-01.svg","çµèåå¤è®¾_05-01.svg","çµèåå¤è®¾_06-01.svg","çµèåå¤è®¾_07-01.svg","çµèåå¤è®¾_08-01.svg","çµèåå¤è®¾_09-01.svg","çµèåå¤è®¾_10-01.svg","çµèåå¤è®¾_11-01.svg","çµèåå¤è®¾_12-01.svg","çµèåå¤è®¾_13-01.svg","çµèåå¤è®¾_14-01.svg","çµèåå¤è®¾_15-01.svg","çµèåå¤è®¾_16-01.svg","çµèåå¤è®¾_17-01.svg","çµèåå¤è®¾_18-01.svg","çµèåå¤è®¾_19-01.svg","çµèåå¤è®¾_20-01.svg","çµèåå¤è®¾_21-01.svg","çµèåå¤è®¾_22-01.svg","çµèåå¤è®¾_23-01.svg","çµèåå¤è®¾_24-01.svg"],CookingMachine=["çèæº_001.svg","çèæº_002.svg","çèæº_003.svg","çèæº_004.svg","çèæº_005.svg","çèæº_006.svg","çèæº_007.svg","çèæº_008.svg","çèæº_009.svg","çèæº_010.svg","çèæº_011.svg","çèæº_012.svg","çèæº_013.svg","çèæº_014.svg","çèæº_015.svg","çèæº_016.svg","çèæº_017.svg","çèæº_018.svg","çèæº_019.svg","çèæº_020.svg","çèæº_021.svg","çèæº_022.svg","çèæº_023.svg","çèæº_024.svg","çèæº_025.svg","çèæº_026.svg","çèæº_027.svg","çèæº_028.svg","çèæº_029.svg","çèæº_030.svg","çèæº_031.svg","çèæº_032.svg","çèæº_033.svg","çèæº_034.svg","çèæº_035.svg","çèæº_036.svg","çèæº_037.svg","çèæº_038.svg","çèæº_039.svg","çèæº_040.svg","çèæº_041.svg","çèæº_042.svg","çèæº_043.svg","çèæº_044.svg","çèæº_045.svg","çèæº_046.svg","çèæº_047.svg","çèæº_048.svg","çèæº_049.svg","çèæº_050.svg","çèæº_051.svg","çèæº_052.svg","çèæº_053.svg","çèæº_054.svg","çèæº_055.svg","çèæº_056.svg","çèæº_057.svg","çèæº_058.svg","çèæº_059.svg","çèæº_060.svg","çèæº_061.svg","çèæº_062.svg","çèæº_063.svg","çèæº_064.svg","çèæº_065.svg","çèæº_066.svg","çèæº_067.svg","çèæº_068.svg","çèæº_069.svg","çèæº_070.svg","çèæº_071.svg","çèæº_072.svg","çèæº_073.svg","çèæº_074.svg","çèæº_075.svg","çèæº_076.svg","çèæº_077.svg","çèæº_078.svg","çèæº_079.svg","çèæº_080.svg","çèæº_081.svg","çèæº_082.svg","çèæº_083.svg","çèæº_084.svg","çèæº_085.svg","çèæº_086.svg","çèæº_087.svg","çèæº_088.svg","çèæº_089.svg","çèæº_090.svg","çèæº_091.svg","çèæº_092.svg","çèæº_093.svg","çèæº_094.svg","çèæº_095.svg","çèæº_096.svg","çèæº_097.svg","çèæº_098.svg","çèæº_099.svg","çèæº_100.svg","çèæº_101.svg","çèæº_102.svg","çèæº_103.svg","çèæº_104.svg","çèæº_105.svg","çèæº_106.svg","çèæº_107.svg","çèæº_108.svg","çèæº_109.svg","çèæº_110.svg","çèæº_111.svg","çèæº_112.svg","çèæº_113.svg","çèæº_114.svg","çèæº_115.svg","çèæº_116.svg","çèæº_117.svg","çèæº_118.svg","çèæº_119.svg","çèæº_120.svg","çèæº_121.svg","çèæº_122.svg","çèæº_123.svg","çèæº_124.svg","çèæº_125.svg","çèæº_126.svg","çèæº_127.svg","çèæº_128.svg","çèæº_129.svg","çèæº_130.svg","çèæº_131.svg","çèæº_132.svg","çèæº_133.svg","çèæº_134.svg","çèæº_135.svg","çèæº_136.svg","çèæº_137.svg","çèæº_138.svg","çèæº_139.svg","çèæº_140.svg","çèæº_141.svg","çèæº_142.svg","çèæº_143.svg","çèæº_144.svg","çèæº_145.svg","çèæº_146.svg","çèæº_147.svg","çèæº_148.svg","çèæº_149.svg","çèæº_150.svg","çèæº_151.svg","çèæº_152.svg","çèæº_153.svg","çèæº_154.svg","çèæº_155.svg","çèæº_156.svg","çèæº_157.svg","çèæº_158.svg","çèæº_159.svg","çèæº_160.svg","çèæº_161.svg","çèæº_162.svg","çèæº_163.svg","çèæº_164.svg","çèæº_165.svg","çèæº_166.svg","çèæº_167.svg","çèæº_168.svg","çèæº_169.svg","çèæº_170.svg","çèæº_171.svg","çèæº_172.svg","çèæº_173.svg","çèæº_174.svg","çèæº_175.svg","çèæº_176.svg","çèæº_177.svg","çèæº_178.svg","çèæº_179.svg","çèæº_180.svg","çèæº_181.svg","çèæº_182.svg","çèæº_183.svg","çèæº_184.svg","çèæº_185.svg","çèæº_186.svg","çèæº_187.svg","çèæº_188.svg","çèæº_189.svg","çèæº_190.svg","çèæº_191.svg","çèæº_192.svg","çèæº_193.svg","çèæº_194.svg","çèæº_195.svg","çèæº_196.svg","çèæº_197.svg","çèæº_198.svg","çèæº_199.svg","çèæº_200.svg","çèæº_201.svg","çèæº_202.svg","çèæº_203.svg","çèæº_204.svg","çèæº_205.svg"],ExhaustFan=["æé£æº_01-01.svg","æé£æº_02-01.svg","æé£æº_03-01.svg","æé£æº_04-01.svg","æé£æº_05-01.svg","æé£æº_06-01.svg","æé£æº_07-01.svg","æé£æº_08-01.svg","æé£æº_09-01.svg","æé£æº_10-01.svg","æé£æº_11-01.svg","æé£æº_12-01.svg","æé£æº_13-01.svg","æé£æº_14-01.svg","æé£æº_15-01.svg","æé£æº_16-01.svg","æé£æº_17-01.svg","æé£æº_18-01.svg","æé£æº_19-01.svg","æé£æº_20-01.svg","æé£æº_21-01.svg","æé£æº_22-01.svg","æé£æº_23-01.svg","æé£æº_24-01.svg","æé£æº_25-01.svg","æé£æº_26-01.svg","æé£æº_27-01.svg","æé£æº_28-01.svg","æé£æº_29-01.svg","æé£æº_30-01.svg","æé£æº_31-01.svg","æé£æº_32-01.svg","æé£æº_33-01.svg","æé£æº_34-01.svg","æé£æº_35-01.svg","æé£æº_36-01.svg","æé£æº_37-01.svg","æé£æº_38-01.svg","æé£æº_39-01.svg","æé£æº_40-01.svg","æé£æº_41-01.svg","æé£æº_42-01.svg","æé£æº_43-01.svg","æé£æº_44-01.svg","æé£æº_45-01.svg","æé£æº_46-01.svg","æé£æº_47-01.svg","æé£æº_48-01.svg","æé£æº_49-01.svg","æé£æº_50-01.svg","æé£æº_51-01.svg","æé£æº_52-01.svg","æé£æº_53-01.svg"],IndustrialPipeline=["å·¥ä¸ç®¡é_01-01.svg","å·¥ä¸ç®¡é_02-01.svg","å·¥ä¸ç®¡é_03-01.svg","å·¥ä¸ç®¡é_04-01.svg","å·¥ä¸ç®¡é_05-01.svg","å·¥ä¸ç®¡é_06-01.svg","å·¥ä¸ç®¡é_07-01.svg","å·¥ä¸ç®¡é_08-01.svg","å·¥ä¸ç®¡é_09-01.svg","å·¥ä¸ç®¡é_10-01.svg","å·¥ä¸ç®¡é_11-01.svg","å·¥ä¸ç®¡é_12-01.svg","å·¥ä¸ç®¡é_13-01.svg","å·¥ä¸ç®¡é_14-01.svg","å·¥ä¸ç®¡é_15-01.svg","å·¥ä¸ç®¡é_16-01.svg","å·¥ä¸ç®¡é_17-01.svg","å·¥ä¸ç®¡é_18-01.svg","å·¥ä¸ç®¡é_19-01.svg","å·¥ä¸ç®¡é_20-01.svg","å·¥ä¸ç®¡é_21-01.svg","å·¥ä¸ç®¡é_22-01.svg","å·¥ä¸ç®¡é_23-01.svg","å·¥ä¸ç®¡é_24-01.svg","å·¥ä¸ç®¡é_25-01.svg","å·¥ä¸ç®¡é_26-01.svg","å·¥ä¸ç®¡é_27-01.svg","å·¥ä¸ç®¡é_28-01.svg","å·¥ä¸ç®¡é_29-01.svg","å·¥ä¸ç®¡é_30-01.svg","å·¥ä¸ç®¡é_31-01.svg","å·¥ä¸ç®¡é_32-01.svg","å·¥ä¸ç®¡é_33-01.svg","å·¥ä¸ç®¡é_34-01.svg","å·¥ä¸ç®¡é_35-01.svg","å·¥ä¸ç®¡é_36-01.svg","å·¥ä¸ç®¡é_37-01.svg","å·¥ä¸ç®¡é_38-01.svg","å·¥ä¸ç®¡é_39-01.svg","å·¥ä¸ç®¡é_40-01.svg","å·¥ä¸ç®¡é_41-01.svg","å·¥ä¸ç®¡é_42-01.svg","å·¥ä¸ç®¡é_43-01.svg","å·¥ä¸ç®¡é_44-01.svg","å·¥ä¸ç®¡é_45-01.svg","å·¥ä¸ç®¡é_46-01.svg","å·¥ä¸ç®¡é_47-01.svg","å·¥ä¸ç®¡é_48-01.svg","å·¥ä¸ç®¡é_49-01.svg","å·¥ä¸ç®¡é_50-01.svg","å·¥ä¸ç®¡é_51-01.svg","å·¥ä¸ç®¡é_52-01.svg","å·¥ä¸ç®¡é_53-01.svg","å·¥ä¸ç®¡é_54-01.svg","å·¥ä¸ç®¡é_55-01.svg","å·¥ä¸ç®¡é_56-01.svg","å·¥ä¸ç®¡é_57-01.svg","å·¥ä¸ç®¡é_58-01.svg","å·¥ä¸ç®¡é_59-01.svg","å·¥ä¸ç®¡é_60-01.svg"],Instrument=["ä»ªè¡¨_01-01.svg","ä»ªè¡¨_02-01.svg","ä»ªè¡¨_03-01.svg","ä»ªè¡¨_04-01.svg","ä»ªè¡¨_05-01.svg","ä»ªè¡¨_06-01.svg","ä»ªè¡¨_07-01.svg","ä»ªè¡¨_08-01.svg","ä»ªè¡¨_09-01.svg","ä»ªè¡¨_10-01.svg","ä»ªè¡¨_11-01.svg","ä»ªè¡¨_12-01.svg","ä»ªè¡¨_13-01.svg","ä»ªè¡¨_14-01.svg","ä»ªè¡¨_15-01.svg","ä»ªè¡¨_16-01.svg","ä»ªè¡¨_17-01.svg","ä»ªè¡¨_18-01.svg","ä»ªè¡¨_19-01.svg","ä»ªè¡¨_20-01.svg","ä»ªè¡¨_21-01.svg","ä»ªè¡¨_22-01.svg","ä»ªè¡¨_23-01.svg","ä»ªè¡¨_24-01.svg","ä»ªè¡¨_25-01.svg","ä»ªè¡¨_26-01.svg","ä»ªè¡¨_27-01.svg"],Lamp=["ç¯_1.svg","ç¯_10.svg","ç¯_11.svg","ç¯_12.svg","ç¯_13.svg","ç¯_14.svg","ç¯_15.svg","ç¯_16.svg","ç¯_17.svg","ç¯_18.svg","ç¯_19.svg","ç¯_2.svg","ç¯_20.svg","ç¯_21.svg","ç¯_22.svg","ç¯_23.svg","ç¯_24.svg","ç¯_25.svg","ç¯_26.svg","ç¯_27.svg","ç¯_28.svg","ç¯_29.svg","ç¯_3.svg","ç¯_30.svg","ç¯_31.svg","ç¯_32.svg","ç¯_33.svg","ç¯_34.svg","ç¯_35.svg","ç¯_36.svg","ç¯_37.svg","ç¯_38.svg","ç¯_39.svg","ç¯_4.svg","ç¯_40.svg","ç¯_41.svg","ç¯_42.svg","ç¯_43.svg","ç¯_44.svg","ç¯_45.svg","ç¯_46.svg","ç¯_47.svg","ç¯_48.svg","ç¯_49.svg","ç¯_5.svg","ç¯_50.svg","ç¯_51.svg","ç¯_52.svg","ç¯_53.svg","ç¯_54.svg","ç¯_55.svg","ç¯_56.svg","ç¯_57.svg","ç¯_58.svg","ç¯_59.svg","ç¯_6.svg","ç¯_60.svg","ç¯_61.svg","ç¯_62.svg","ç¯_63.svg","ç¯_64.svg","ç¯_65.svg","ç¯_66.svg","ç¯_67.svg","ç¯_68.svg","ç¯_69.svg","ç¯_7.svg","ç¯_70.svg","ç¯_71.svg","ç¯_72.svg","ç¯_73.svg","ç¯_74.svg","ç¯_75.svg","ç¯_76.svg","ç¯_77.svg","ç¯_78.svg","ç¯_79.svg","ç¯_8.svg","ç¯_80.svg","ç¯_81.svg","ç¯_82.svg","ç¯_83.svg","ç¯_84.svg","ç¯_85.svg","ç¯_86.svg","ç¯_87.svg","ç¯_88.svg","ç¯_9.svg"],MetalButton=["éå±æé®_1.svg","éå±æé®_10.svg","éå±æé®_11.svg","éå±æé®_12.svg","éå±æé®_13.svg","éå±æé®_14.svg","éå±æé®_15.svg","éå±æé®_16.svg","éå±æé®_17.svg","éå±æé®_18.svg","éå±æé®_19.svg","éå±æé®_2.svg","éå±æé®_20.svg","éå±æé®_21.svg","éå±æé®_22.svg","éå±æé®_23.svg","éå±æé®_24.svg","éå±æé®_25.svg","éå±æé®_26.svg","éå±æé®_27.svg","éå±æé®_28.svg","éå±æé®_29.svg","éå±æé®_3.svg","éå±æé®_30-1.svg","éå±æé®_30.svg","éå±æé®_31-1.svg","éå±æé®_31.svg","éå±æé®_32-1.svg","éå±æé®_32.svg","éå±æé®_33-1.svg","éå±æé®_33.svg","éå±æé®_34.svg","éå±æé®_35.svg","éå±æé®_36-1.svg","éå±æé®_36.svg","éå±æé®_37-1.svg","éå±æé®_37.svg","éå±æé®_38-1.svg","éå±æé®_38.svg","éå±æé®_39-1.svg","éå±æé®_39.svg","éå±æé®_4.svg","éå±æé®_40.svg","éå±æé®_41.svg","éå±æé®_42-1.svg","éå±æé®_42.svg","éå±æé®_43-1.svg","éå±æé®_43.svg","éå±æé®_44-1.svg","éå±æé®_44.svg","éå±æé®_45-1.svg","éå±æé®_45.svg","éå±æé®_46.svg","éå±æé®_47.svg","éå±æé®_48-1.svg","éå±æé®_48.svg","éå±æé®_49-1.svg","éå±æé®_49.svg","éå±æé®_5.svg","éå±æé®_50-1.svg","éå±æé®_50-2.svg","éå±æé®_50-3.svg","éå±æé®_50.svg","éå±æé®_51.svg","éå±æé®_52.svg","éå±æé®_53.svg","éå±æé®_54.svg","éå±æé®_55.svg","éå±æé®_56.svg","éå±æé®_57.svg","éå±æé®_58.svg","éå±æé®_59.svg","éå±æé®_6.svg","éå±æé®_60.svg","éå±æé®_61.svg","éå±æé®_62.svg","éå±æé®_63.svg","éå±æé®_64.svg","éå±æé®_65.svg","éå±æé®_66.svg","éå±æé®_67.svg","éå±æé®_68.svg","éå±æé®_69.svg","éå±æé®_7.svg","éå±æé®_70.svg","éå±æé®_71.svg","éå±æé®_72.svg","éå±æé®_73.svg","éå±æé®_74.svg","éå±æé®_75.svg","éå±æé®_76.svg","éå±æé®_77.svg","éå±æé®_78.svg","éå±æé®_79.svg","éå±æé®_8.svg","éå±æé®_80.svg","éå±æé®_81.svg","éå±æé®_82.svg","éå±æé®_83.svg","éå±æé®_84.svg","éå±æé®_85.svg","éå±æé®_86.svg","éå±æé®_87.svg","éå±æé®_88.svg","éå±æé®_89.svg","éå±æé®_9.svg","éå±æé®_90.svg","éå±æé®_91.svg","éå±æé®_92.svg","éå±æé®_93.svg","éå±æé®_94.svg","éå±æé®_95.svg","éå±æé®_96.svg","éå±æé®_97.svg","éå±æé®_98.svg"],Motor=["çµæº_01-01.svg","çµæº_02-01.svg","çµæº_03-01.svg","çµæº_04-01.svg","çµæº_05-01.svg","çµæº_06-01.svg","çµæº_07-01.svg","çµæº_08-01.svg","çµæº_09-01.svg","çµæº_10-01.svg","çµæº_11-01.svg","çµæº_12-01.svg","çµæº_13-01.svg","çµæº_14-01.svg","çµæº_15-01.svg","çµæº_16-01.svg","çµæº_17-01.svg","çµæº_18-01.svg","çµæº_19-01.svg","çµæº_20-01.svg","çµæº_21-01.svg","çµæº_22-01.svg","çµæº_23-01.svg","çµæº_24-01.svg","çµæº_25-01.svg","çµæº_26-01.svg","çµæº_27-01.svg"],NumericButton=["æ°å­æé® _01-01.svg","æ°å­æé® _02-01.svg","æ°å­æé® _03-01.svg","æ°å­æé® _04-01.svg","æ°å­æé® _05-01.svg","æ°å­æé® _06-01.svg","æ°å­æé® _07-01.svg","æ°å­æé® _08-01.svg","æ°å­æé® _09-01.svg","æ°å­æé® _10-01.svg","æ°å­æé® _100-01.svg","æ°å­æé® _101-01.svg","æ°å­æé® _102-01.svg","æ°å­æé® _103-01.svg","æ°å­æé® _104-01.svg","æ°å­æé® _105-01.svg","æ°å­æé® _106-01.svg","æ°å­æé® _107-01.svg","æ°å­æé® _108-01.svg","æ°å­æé® _109-01.svg","æ°å­æé® _11-01.svg","æ°å­æé® _110-01.svg","æ°å­æé® _111-01.svg","æ°å­æé® _112-01.svg","æ°å­æé® _113-01.svg","æ°å­æé® _114-01.svg","æ°å­æé® _12-01.svg","æ°å­æé® _13-01.svg","æ°å­æé® _14-01.svg","æ°å­æé® _15-01.svg","æ°å­æé® _16-01.svg","æ°å­æé® _17-01.svg","æ°å­æé® _18-01.svg","æ°å­æé® _19-01.svg","æ°å­æé® _20-01.svg","æ°å­æé® _21-01.svg","æ°å­æé® _22-01.svg","æ°å­æé® _23-01.svg","æ°å­æé® _24-01.svg","æ°å­æé® _25-01.svg","æ°å­æé® _26-01.svg","æ°å­æé® _27-01.svg","æ°å­æé® _28-01.svg","æ°å­æé® _29-01.svg","æ°å­æé® _30-01.svg","æ°å­æé® _31-01.svg","æ°å­æé® _32-01.svg","æ°å­æé® _33-01.svg","æ°å­æé® _34-01.svg","æ°å­æé® _35-01.svg","æ°å­æé® _36-01.svg","æ°å­æé® _37-01.svg","æ°å­æé® _38-01.svg","æ°å­æé® _39-01.svg","æ°å­æé® _40-01.svg","æ°å­æé® _41-01.svg","æ°å­æé® _42-01.svg","æ°å­æé® _43-01.svg","æ°å­æé® _44-01.svg","æ°å­æé® _45-01.svg","æ°å­æé® _46-01.svg","æ°å­æé® _47-01.svg","æ°å­æé® _48-01.svg","æ°å­æé® _49-01.svg","æ°å­æé® _50-01.svg","æ°å­æé® _51-01.svg","æ°å­æé® _52-01.svg","æ°å­æé® _53-01.svg","æ°å­æé® _54-01.svg","æ°å­æé® _55-01.svg","æ°å­æé® _56-01.svg","æ°å­æé® _57-01.svg","æ°å­æé® _58-01.svg","æ°å­æé® _59-01.svg","æ°å­æé® _60-01.svg","æ°å­æé® _61-01.svg","æ°å­æé® _62-01.svg","æ°å­æé® _63-01.svg","æ°å­æé® _64-01.svg","æ°å­æé® _65-01.svg","æ°å­æé® _66-01.svg","æ°å­æé® _67-01.svg","æ°å­æé® _68-01.svg","æ°å­æé® _69-01.svg","æ°å­æé® _70-01.svg","æ°å­æé® _71-01.svg","æ°å­æé® _72-01.svg","æ°å­æé® _73-01.svg","æ°å­æé® _74-01.svg","æ°å­æé® _75-01.svg","æ°å­æé® _76-01.svg","æ°å­æé® _77-01.svg","æ°å­æé® _78-01.svg","æ°å­æé® _79-01.svg","æ°å­æé® _80-01.svg","æ°å­æé® _81-01.svg","æ°å­æé® _82-01.svg","æ°å­æé® _83-01.svg","æ°å­æé® _84-01.svg","æ°å­æé® _85-01.svg","æ°å­æé® _86-01.svg","æ°å­æé® _87-01.svg","æ°å­æé® _88-01.svg","æ°å­æé® _89-01.svg","æ°å­æé® _90-01.svg","æ°å­æé® _91-01.svg","æ°å­æé® _92-01.svg","æ°å­æé® _93-01.svg","æ°å­æé® _94-01.svg","æ°å­æé® _95-01.svg","æ°å­æé® _96-01.svg","æ°å­æé® _97-01.svg","æ°å­æé® _98-01.svg","æ°å­æé® _99-01.svg"],Other$1=["å¶ä»æ _01-01.svg","å¶ä»æ _02-01.svg","å¶ä»æ _03-01.svg","å¶ä»æ _04-01.svg","å¶ä»æ _05-01.svg","å¶ä»æ _06-01.svg","å¶ä»æ _07-01.svg","å¶ä»æ _08-01.svg","å¶ä»æ _09-01.svg","å¶ä»æ _10-01.svg","å¶ä»æ _100-01.svg","å¶ä»æ _101-01.svg","å¶ä»æ _102-01.svg","å¶ä»æ _103-01.svg","å¶ä»æ _104-01.svg","å¶ä»æ _105-01.svg","å¶ä»æ _106-01.svg","å¶ä»æ _107-01.svg","å¶ä»æ _108-01.svg","å¶ä»æ _109-01.svg","å¶ä»æ _11-01.svg","å¶ä»æ _110-01.svg","å¶ä»æ _111-01.svg","å¶ä»æ _112-01.svg","å¶ä»æ _113-01.svg","å¶ä»æ _114-01.svg","å¶ä»æ _115-01.svg","å¶ä»æ _116-01.svg","å¶ä»æ _117-01.svg","å¶ä»æ _118-01.svg","å¶ä»æ _119-01.svg","å¶ä»æ _12-01.svg","å¶ä»æ _120-01.svg","å¶ä»æ _121-01.svg","å¶ä»æ _122-01.svg","å¶ä»æ _123-01.svg","å¶ä»æ _124-01.svg","å¶ä»æ _125-01.svg","å¶ä»æ _126-01.svg","å¶ä»æ _127-01.svg","å¶ä»æ _128-01.svg","å¶ä»æ _129-01.svg","å¶ä»æ _13-01.svg","å¶ä»æ _130-01.svg","å¶ä»æ _131-01.svg","å¶ä»æ _132-01.svg","å¶ä»æ _133-01.svg","å¶ä»æ _134-01.svg","å¶ä»æ _135-01.svg","å¶ä»æ _136-01.svg","å¶ä»æ _137-01.svg","å¶ä»æ _138-01.svg","å¶ä»æ _139-01.svg","å¶ä»æ _14-01.svg","å¶ä»æ _140-01.svg","å¶ä»æ _141-01.svg","å¶ä»æ _142-01.svg","å¶ä»æ _143-01.svg","å¶ä»æ _144-01.svg","å¶ä»æ _145-01.svg","å¶ä»æ _146-01.svg","å¶ä»æ _147-01.svg","å¶ä»æ _148-01.svg","å¶ä»æ _149-01.svg","å¶ä»æ _15-01.svg","å¶ä»æ _150-01.svg","å¶ä»æ _151-01.svg","å¶ä»æ _152-01.svg","å¶ä»æ _153-01.svg","å¶ä»æ _154-01.svg","å¶ä»æ _155-01.svg","å¶ä»æ _156-01.svg","å¶ä»æ _157-01.svg","å¶ä»æ _158-01.svg","å¶ä»æ _159-01.svg","å¶ä»æ _16-01.svg","å¶ä»æ _160-01.svg","å¶ä»æ _161-01.svg","å¶ä»æ _162-01.svg","å¶ä»æ _163-01.svg","å¶ä»æ _164-01.svg","å¶ä»æ _165-01.svg","å¶ä»æ _166-01.svg","å¶ä»æ _17-01.svg","å¶ä»æ _18-01.svg","å¶ä»æ _19-01.svg","å¶ä»æ _20-01.svg","å¶ä»æ _21-01.svg","å¶ä»æ _22-01.svg","å¶ä»æ _23-01.svg","å¶ä»æ _24-01.svg","å¶ä»æ _25-01.svg","å¶ä»æ _26-01.svg","å¶ä»æ _27-01.svg","å¶ä»æ _28-01.svg","å¶ä»æ _29-01.svg","å¶ä»æ _30-01.svg","å¶ä»æ _31-01.svg","å¶ä»æ _32-01.svg","å¶ä»æ _33-01.svg","å¶ä»æ _34-01.svg","å¶ä»æ _35-01.svg","å¶ä»æ _36-01.svg","å¶ä»æ _37-01.svg","å¶ä»æ _38-01.svg","å¶ä»æ _39-01.svg","å¶ä»æ _40-01.svg","å¶ä»æ _41-01.svg","å¶ä»æ _42-01.svg","å¶ä»æ _43-01.svg","å¶ä»æ _44-01.svg","å¶ä»æ _45-01.svg","å¶ä»æ _46-01.svg","å¶ä»æ _47-01.svg","å¶ä»æ _48-01.svg","å¶ä»æ _49-01.svg","å¶ä»æ _50-01.svg","å¶ä»æ _51-01.svg","å¶ä»æ _52-01.svg","å¶ä»æ _53-01.svg","å¶ä»æ _54-01.svg","å¶ä»æ _55-01.svg","å¶ä»æ _56-01.svg","å¶ä»æ _57-01.svg","å¶ä»æ _58-01.svg","å¶ä»æ _59-01.svg","å¶ä»æ _60-01.svg","å¶ä»æ _61-01.svg","å¶ä»æ _62-01.svg","å¶ä»æ _63-01.svg","å¶ä»æ _64-01.svg","å¶ä»æ _65-01.svg","å¶ä»æ _66-01.svg","å¶ä»æ _67-01.svg","å¶ä»æ _68-01.svg","å¶ä»æ _69-01.svg","å¶ä»æ _70-01.svg","å¶ä»æ _71-01.svg","å¶ä»æ _72-01.svg","å¶ä»æ _73-01.svg","å¶ä»æ _74-01.svg","å¶ä»æ _75-01.svg","å¶ä»æ _76-01.svg","å¶ä»æ _77-01.svg","å¶ä»æ _78-01.svg","å¶ä»æ _79-01.svg","å¶ä»æ _80-01.svg","å¶ä»æ _81-01.svg","å¶ä»æ _82-01.svg","å¶ä»æ _83-01.svg","å¶ä»æ _84-01.svg","å¶ä»æ _85-01.svg","å¶ä»æ _86-01.svg","å¶ä»æ _87-01.svg","å¶ä»æ _88-01.svg","å¶ä»æ _89-01.svg","å¶ä»æ _90-01.svg","å¶ä»æ _91-01.svg","å¶ä»æ _92-01.svg","å¶ä»æ _93-01.svg","å¶ä»æ _94-01.svg","å¶ä»æ _95-01.svg","å¶ä»æ _96-01.svg","å¶ä»æ _97-01.svg","å¶ä»æ _98-01.svg","å¶ä»æ _99-01.svg"],PushButton=["æ¨é®ä¸_1.svg","æ¨é®ä¸_10.svg","æ¨é®ä¸_11.svg","æ¨é®ä¸_12.svg","æ¨é®ä¸_13.svg","æ¨é®ä¸_14.svg","æ¨é®ä¸_15.svg","æ¨é®ä¸_16.svg","æ¨é®ä¸_17.svg","æ¨é®ä¸_18.svg","æ¨é®ä¸_19.svg","æ¨é®ä¸_2.svg","æ¨é®ä¸_20.svg","æ¨é®ä¸_21.svg","æ¨é®ä¸_22.svg","æ¨é®ä¸_23.svg","æ¨é®ä¸_24.svg","æ¨é®ä¸_25.svg","æ¨é®ä¸_26.svg","æ¨é®ä¸_27.svg","æ¨é®ä¸_28.svg","æ¨é®ä¸_29.svg","æ¨é®ä¸_3.svg","æ¨é®ä¸_30.svg","æ¨é®ä¸_31.svg","æ¨é®ä¸_32.svg","æ¨é®ä¸_33.svg","æ¨é®ä¸_34.svg","æ¨é®ä¸_35.svg","æ¨é®ä¸_36.svg","æ¨é®ä¸_37.svg","æ¨é®ä¸_38.svg","æ¨é®ä¸_39.svg","æ¨é®ä¸_4.svg","æ¨é®ä¸_40.svg","æ¨é®ä¸_41.svg","æ¨é®ä¸_42.svg","æ¨é®ä¸_43.svg","æ¨é®ä¸_44.svg","æ¨é®ä¸_45.svg","æ¨é®ä¸_46.svg","æ¨é®ä¸_47.svg","æ¨é®ä¸_48.svg","æ¨é®ä¸_49.svg","æ¨é®ä¸_5.svg","æ¨é®ä¸_50.svg","æ¨é®ä¸_51.svg","æ¨é®ä¸_52.svg","æ¨é®ä¸_53.svg","æ¨é®ä¸_54.svg","æ¨é®ä¸_55.svg","æ¨é®ä¸_56.svg","æ¨é®ä¸_57.svg","æ¨é®ä¸_58.svg","æ¨é®ä¸_59.svg","æ¨é®ä¸_6.svg","æ¨é®ä¸_60.svg","æ¨é®ä¸_61.svg","æ¨é®ä¸_62.svg","æ¨é®ä¸_63.svg","æ¨é®ä¸_64.svg","æ¨é®ä¸_65.svg","æ¨é®ä¸_66.svg","æ¨é®ä¸_7.svg","æ¨é®ä¸_8.svg","æ¨é®ä¸_9.svg","æ¨é®äº_1.svg","æ¨é®äº_10.svg","æ¨é®äº_11.svg","æ¨é®äº_12.svg","æ¨é®äº_13.svg","æ¨é®äº_14.svg","æ¨é®äº_15.svg","æ¨é®äº_16.svg","æ¨é®äº_17.svg","æ¨é®äº_18.svg","æ¨é®äº_19.svg","æ¨é®äº_2.svg","æ¨é®äº_20.svg","æ¨é®äº_21.svg","æ¨é®äº_22.svg","æ¨é®äº_23.svg","æ¨é®äº_24.svg","æ¨é®äº_25.svg","æ¨é®äº_26.svg","æ¨é®äº_27.svg","æ¨é®äº_28.svg","æ¨é®äº_29.svg","æ¨é®äº_3.svg","æ¨é®äº_30.svg","æ¨é®äº_31.svg","æ¨é®äº_32.svg","æ¨é®äº_33.svg","æ¨é®äº_34.svg","æ¨é®äº_35.svg","æ¨é®äº_36.svg","æ¨é®äº_37.svg","æ¨é®äº_38.svg","æ¨é®äº_39.svg","æ¨é®äº_4.svg","æ¨é®äº_40.svg","æ¨é®äº_41.svg","æ¨é®äº_42.svg","æ¨é®äº_43.svg","æ¨é®äº_44.svg","æ¨é®äº_45.svg","æ¨é®äº_46.svg","æ¨é®äº_47.svg","æ¨é®äº_48.svg","æ¨é®äº_49.svg","æ¨é®äº_5.svg","æ¨é®äº_50.svg","æ¨é®äº_51.svg","æ¨é®äº_52.svg","æ¨é®äº_53.svg","æ¨é®äº_54.svg","æ¨é®äº_55.svg","æ¨é®äº_56.svg","æ¨é®äº_57.svg","æ¨é®äº_58.svg","æ¨é®äº_59.svg","æ¨é®äº_6.svg","æ¨é®äº_60.svg","æ¨é®äº_61.svg","æ¨é®äº_62.svg","æ¨é®äº_63.svg","æ¨é®äº_64.svg","æ¨é®äº_65.svg","æ¨é®äº_66.svg","æ¨é®äº_67.svg","æ¨é®äº_68.svg","æ¨é®äº_69.svg","æ¨é®äº_7.svg","æ¨é®äº_70.svg","æ¨é®äº_71.svg","æ¨é®äº_72.svg","æ¨é®äº_73.svg","æ¨é®äº_74.svg","æ¨é®äº_75.svg","æ¨é®äº_76.svg","æ¨é®äº_8.svg","æ¨é®äº_9.svg"],Roundbuttonindicatorlight=["åå½¢æé®æç¤ºç¯_01-01.svg","åå½¢æé®æç¤ºç¯_02-01.svg","åå½¢æé®æç¤ºç¯_03-01.svg","åå½¢æé®æç¤ºç¯_04-01.svg","åå½¢æé®æç¤ºç¯_05-01.svg","åå½¢æé®æç¤ºç¯_06-01.svg","åå½¢æé®æç¤ºç¯_07-01.svg","åå½¢æé®æç¤ºç¯_08-01.svg","åå½¢æé®æç¤ºç¯_09-01.svg","åå½¢æé®æç¤ºç¯_10-01.svg","åå½¢æé®æç¤ºç¯_100-01.svg","åå½¢æé®æç¤ºç¯_101-01.svg","åå½¢æé®æç¤ºç¯_102-01.svg","åå½¢æé®æç¤ºç¯_103-01.svg","åå½¢æé®æç¤ºç¯_104-01.svg","åå½¢æé®æç¤ºç¯_105-01.svg","åå½¢æé®æç¤ºç¯_106-01.svg","åå½¢æé®æç¤ºç¯_107-01.svg","åå½¢æé®æç¤ºç¯_108-01.svg","åå½¢æé®æç¤ºç¯_109-01.svg","åå½¢æé®æç¤ºç¯_11-01.svg","åå½¢æé®æç¤ºç¯_110-01.svg","åå½¢æé®æç¤ºç¯_111-01.svg","åå½¢æé®æç¤ºç¯_112-01.svg","åå½¢æé®æç¤ºç¯_113-01.svg","åå½¢æé®æç¤ºç¯_114-01.svg","åå½¢æé®æç¤ºç¯_115-01.svg","åå½¢æé®æç¤ºç¯_116-01.svg","åå½¢æé®æç¤ºç¯_117-01.svg","åå½¢æé®æç¤ºç¯_118-01.svg","åå½¢æé®æç¤ºç¯_119-01.svg","åå½¢æé®æç¤ºç¯_12-01.svg","åå½¢æé®æç¤ºç¯_13-01.svg","åå½¢æé®æç¤ºç¯_14-01.svg","åå½¢æé®æç¤ºç¯_15-01.svg","åå½¢æé®æç¤ºç¯_16-01.svg","åå½¢æé®æç¤ºç¯_17-01.svg","åå½¢æé®æç¤ºç¯_18-01.svg","åå½¢æé®æç¤ºç¯_19-01.svg","åå½¢æé®æç¤ºç¯_20-01.svg","åå½¢æé®æç¤ºç¯_21-01.svg","åå½¢æé®æç¤ºç¯_22-01.svg","åå½¢æé®æç¤ºç¯_23-01.svg","åå½¢æé®æç¤ºç¯_24-01.svg","åå½¢æé®æç¤ºç¯_25-01.svg","åå½¢æé®æç¤ºç¯_26-01.svg","åå½¢æé®æç¤ºç¯_27-01.svg","åå½¢æé®æç¤ºç¯_28-01.svg","åå½¢æé®æç¤ºç¯_29-01.svg","åå½¢æé®æç¤ºç¯_30-01.svg","åå½¢æé®æç¤ºç¯_31-01.svg","åå½¢æé®æç¤ºç¯_32-01.svg","åå½¢æé®æç¤ºç¯_33-01.svg","åå½¢æé®æç¤ºç¯_34-01.svg","åå½¢æé®æç¤ºç¯_35-01.svg","åå½¢æé®æç¤ºç¯_36-01.svg","åå½¢æé®æç¤ºç¯_37-01.svg","åå½¢æé®æç¤ºç¯_38-01.svg","åå½¢æé®æç¤ºç¯_39-01.svg","åå½¢æé®æç¤ºç¯_40-01.svg","åå½¢æé®æç¤ºç¯_41-01.svg","åå½¢æé®æç¤ºç¯_42-01.svg","åå½¢æé®æç¤ºç¯_43-01.svg","åå½¢æé®æç¤ºç¯_44-01.svg","åå½¢æé®æç¤ºç¯_45-01.svg","åå½¢æé®æç¤ºç¯_46-01.svg","åå½¢æé®æç¤ºç¯_47-01.svg","åå½¢æé®æç¤ºç¯_48-01.svg","åå½¢æé®æç¤ºç¯_49-01.svg","åå½¢æé®æç¤ºç¯_50-01.svg","åå½¢æé®æç¤ºç¯_51-01.svg","åå½¢æé®æç¤ºç¯_52-01.svg","åå½¢æé®æç¤ºç¯_53-01.svg","åå½¢æé®æç¤ºç¯_54-01.svg","åå½¢æé®æç¤ºç¯_55-01.svg","åå½¢æé®æç¤ºç¯_56-01.svg","åå½¢æé®æç¤ºç¯_57-01.svg","åå½¢æé®æç¤ºç¯_58-01.svg","åå½¢æé®æç¤ºç¯_59-01.svg","åå½¢æé®æç¤ºç¯_60-01.svg","åå½¢æé®æç¤ºç¯_61-01.svg","åå½¢æé®æç¤ºç¯_62-01.svg","åå½¢æé®æç¤ºç¯_63-01.svg","åå½¢æé®æç¤ºç¯_64-01.svg","åå½¢æé®æç¤ºç¯_65-01.svg","åå½¢æé®æç¤ºç¯_66-01.svg","åå½¢æé®æç¤ºç¯_67-01.svg","åå½¢æé®æç¤ºç¯_68-01.svg","åå½¢æé®æç¤ºç¯_69-01.svg","åå½¢æé®æç¤ºç¯_70-01.svg","åå½¢æé®æç¤ºç¯_71-01.svg","åå½¢æé®æç¤ºç¯_72-01.svg","åå½¢æé®æç¤ºç¯_73-01.svg","åå½¢æé®æç¤ºç¯_74-01.svg","åå½¢æé®æç¤ºç¯_75-01.svg","åå½¢æé®æç¤ºç¯_76-01.svg","åå½¢æé®æç¤ºç¯_77-01.svg","åå½¢æé®æç¤ºç¯_78-01.svg","åå½¢æé®æç¤ºç¯_79-01.svg","åå½¢æé®æç¤ºç¯_80-01.svg","åå½¢æé®æç¤ºç¯_81-01.svg","åå½¢æé®æç¤ºç¯_82-01.svg","åå½¢æé®æç¤ºç¯_83-01.svg","åå½¢æé®æç¤ºç¯_84-01.svg","åå½¢æé®æç¤ºç¯_85-01.svg","åå½¢æé®æç¤ºç¯_86-01.svg","åå½¢æé®æç¤ºç¯_87-01.svg","åå½¢æé®æç¤ºç¯_88-01.svg","åå½¢æé®æç¤ºç¯_89-01.svg","åå½¢æé®æç¤ºç¯_90-01.svg","åå½¢æé®æç¤ºç¯_91-01.svg","åå½¢æé®æç¤ºç¯_92-01.svg","åå½¢æé®æç¤ºç¯_93-01.svg","åå½¢æé®æç¤ºç¯_94-01.svg","åå½¢æé®æç¤ºç¯_95-01.svg","åå½¢æé®æç¤ºç¯_96-01.svg","åå½¢æé®æç¤ºç¯_97-01.svg","åå½¢æé®æç¤ºç¯_98-01.svg","åå½¢æé®æç¤ºç¯_99-01.svg"],ScaleBackground=["å»åº¦èæ¯_01-01.svg","å»åº¦èæ¯_02-01.svg","å»åº¦èæ¯_03-01.svg","å»åº¦èæ¯_04-01.svg","å»åº¦èæ¯_05-01.svg","å»åº¦èæ¯_06-01.svg","å»åº¦èæ¯_07-01.svg","å»åº¦èæ¯_08-01.svg","å»åº¦èæ¯_09-01.svg","å»åº¦èæ¯_10-01.svg","å»åº¦èæ¯_11-01.svg","å»åº¦èæ¯_12-01.svg","å»åº¦èæ¯_13-01.svg","å»åº¦èæ¯_14-01.svg","å»åº¦èæ¯_15-01.svg","å»åº¦èæ¯_16-01.svg","å»åº¦èæ¯_17-01.svg","å»åº¦èæ¯_18-01.svg","å»åº¦èæ¯_19-01.svg","å»åº¦èæ¯_20-01.svg","å»åº¦èæ¯_21-01.svg","å»åº¦èæ¯_22-01.svg","å»åº¦èæ¯_23-01.svg","å»åº¦èæ¯_24-01.svg","å»åº¦èæ¯_25-01.svg","å»åº¦èæ¯_26-01.svg","å»åº¦èæ¯_27-01.svg","å»åº¦èæ¯_28-01.svg","å»åº¦èæ¯_29-01.svg","å»åº¦èæ¯_30-01.svg","å»åº¦èæ¯_31-01.svg","å»åº¦èæ¯_32-01.svg","å»åº¦èæ¯_33-01.svg","å»åº¦èæ¯_34-01.svg","å»åº¦èæ¯_35-01.svg"],SwitchButton=["å¼å³æé® _vA1-01-01.svg","å¼å³æé® _vA1-02-01.svg","å¼å³æé® _vA1-03-01.svg","å¼å³æé® _vA1-04-01.svg","å¼å³æé® _vA1-05-01.svg","å¼å³æé® _vA1-06-01.svg","å¼å³æé® _vA1-07-01.svg","å¼å³æé® _vA1-08-01.svg","å¼å³æé® _vA1-09-01.svg","å¼å³æé® _vA1-10-01.svg","å¼å³æé® _vA1-11-01.svg","å¼å³æé® _vA1-12-01.svg","å¼å³æé® _vA1-13-01.svg","å¼å³æé® _vA1-14-01.svg","å¼å³æé® _vA1-15-01.svg","å¼å³æé® _vA1-16-01.svg","å¼å³æé® _vA1-17-01.svg","å¼å³æé® _vA1-18-01.svg","å¼å³æé® _vA1-19-01.svg","å¼å³æé® _vA1-20-01.svg","å¼å³æé® _vA1-21-01.svg","å¼å³æé® _vA1-22-01.svg","å¼å³æé® _vA1-23-01.svg","å¼å³æé® _vA1-24-01.svg","å¼å³æé® _vA1-25-01.svg","å¼å³æé® _vA1-26-01.svg","å¼å³æé® _vA1-27-01.svg","å¼å³æé® _vA1-28-01.svg","å¼å³æé® _vA1-29-01.svg","å¼å³æé® _vA1-30-01.svg","å¼å³æé® _vA1-31-01.svg","å¼å³æé® _vA1-32-01.svg","å¼å³æé® _vA1-33-01.svg","å¼å³æé® _vA1-34-01.svg","å¼å³æé® _vA1-35-01.svg","å¼å³æé® _vA1-36-01.svg","å¼å³æé® _vA1-37-01.svg","å¼å³æé® _vA1-38-01.svg","å¼å³æé® _vA1-39-01.svg","å¼å³æé® _vA1-40-01.svg","å¼å³æé® _vA1-41-01.svg","å¼å³æé® _vA1-42-01.svg","å¼å³æé® _vA1-43-01.svg","å¼å³æé® _vA1-44-01.svg","å¼å³æé® _vA1-45-01.svg","å¼å³æé® _vA1-46-01.svg","å¼å³æé® _vA1-47-01.svg","å¼å³æé® _vA1-48-01.svg","å¼å³æé® _vA1-49-01.svg","å¼å³æé® _vA1-50-01.svg","å¼å³æé® _vA1-51-01.svg","å¼å³æé® _vA1-52-01.svg","å¼å³æé® _vA1-53-01.svg","å¼å³æé® _vA1-54-01.svg","å¼å³æé® _vA1-55-01.svg","å¼å³æé® _vA1-56-01.svg","å¼å³æé® _vA1-57-01.svg","å¼å³æé® _vA1-58-01.svg","å¼å³æé® _vA1-59-01.svg","å¼å³æé® _vA1-60-01.svg","å¼å³æé® _vA1-61-01.svg","å¼å³æé® _vA1-62-01.svg","å¼å³æé® _vA1-63-01.svg","å¼å³æé® _vA1-64-01.svg","å¼å³æé® _vA1-65-01.svg","å¼å³æé® _vA1-66-01.svg","å¼å³æé® _vA1-67-01.svg","å¼å³æé® _vA1-68-01.svg","å¼å³æé® _vA1-69-01.svg","å¼å³æé® _vA1-70-01.svg","å¼å³æé® _vA1-71-01.svg","å¼å³æé® _vA1-72-01.svg","å¼å³æé® _vA1-73-01.svg","å¼å³æé® _vA1-74-01.svg","å¼å³æé® _vA1-75-01.svg","å¼å³æé® _vA1-76-01.svg","å¼å³æé® _vA1-77-01.svg"],TankBody=["ç½ä½_01-01.svg","ç½ä½_02-01.svg","ç½ä½_03-01.svg","ç½ä½_04-01.svg","ç½ä½_05-01.svg","ç½ä½_06-01.svg","ç½ä½_07-01.svg","ç½ä½_08-01.svg","ç½ä½_09-01.svg","ç½ä½_10-01.svg","ç½ä½_11-01.svg","ç½ä½_12-01.svg","ç½ä½_13-01.svg","ç½ä½_14-01.svg","ç½ä½_15-01.svg","ç½ä½_16-01.svg","ç½ä½_17-01.svg","ç½ä½_18-01.svg","ç½ä½_19-01.svg","ç½ä½_20-01.svg","ç½ä½_21-01.svg","ç½ä½_22-01.svg","ç½ä½_23-01.svg","ç½ä½_24-01.svg","ç½ä½_25-01.svg","ç½ä½_26-01.svg","ç½ä½_27-01.svg","ç½ä½_28-01.svg","ç½ä½_29-01.svg","ç½ä½_30-01.svg"],Thermostat=["æ¸©æ§å¨_001.svg","æ¸©æ§å¨_002.svg","æ¸©æ§å¨_003.svg","æ¸©æ§å¨_004.svg","æ¸©æ§å¨_005.svg","æ¸©æ§å¨_006.svg","æ¸©æ§å¨_007.svg","æ¸©æ§å¨_008.svg","æ¸©æ§å¨_009.svg","æ¸©æ§å¨_010.svg","æ¸©æ§å¨_011.svg","æ¸©æ§å¨_012.svg","æ¸©æ§å¨_013.svg","æ¸©æ§å¨_014.svg","æ¸©æ§å¨_015.svg","æ¸©æ§å¨_016.svg","æ¸©æ§å¨_017.svg","æ¸©æ§å¨_018.svg","æ¸©æ§å¨_019.svg","æ¸©æ§å¨_020.svg","æ¸©æ§å¨_021.svg","æ¸©æ§å¨_022.svg","æ¸©æ§å¨_023.svg","æ¸©æ§å¨_024.svg","æ¸©æ§å¨_025.svg","æ¸©æ§å¨_026.svg","æ¸©æ§å¨_027.svg","æ¸©æ§å¨_028.svg","æ¸©æ§å¨_029.svg","æ¸©æ§å¨_030.svg","æ¸©æ§å¨_031.svg","æ¸©æ§å¨_032.svg","æ¸©æ§å¨_033.svg","æ¸©æ§å¨_034.svg","æ¸©æ§å¨_035.svg","æ¸©æ§å¨_036.svg","æ¸©æ§å¨_037.svg","æ¸©æ§å¨_038.svg","æ¸©æ§å¨_039.svg","æ¸©æ§å¨_040.svg","æ¸©æ§å¨_041.svg","æ¸©æ§å¨_042.svg","æ¸©æ§å¨_043.svg","æ¸©æ§å¨_044.svg","æ¸©æ§å¨_045.svg","æ¸©æ§å¨_046.svg","æ¸©æ§å¨_047.svg","æ¸©æ§å¨_048.svg","æ¸©æ§å¨_049.svg","æ¸©æ§å¨_050.svg","æ¸©æ§å¨_051.svg","æ¸©æ§å¨_052.svg","æ¸©æ§å¨_053.svg","æ¸©æ§å¨_054.svg","æ¸©æ§å¨_055.svg","æ¸©æ§å¨_056.svg","æ¸©æ§å¨_057.svg","æ¸©æ§å¨_058.svg","æ¸©æ§å¨_059.svg","æ¸©æ§å¨_060.svg","æ¸©æ§å¨_061.svg","æ¸©æ§å¨_062.svg","æ¸©æ§å¨_063.svg","æ¸©æ§å¨_064.svg","æ¸©æ§å¨_065.svg","æ¸©æ§å¨_066.svg","æ¸©æ§å¨_067.svg","æ¸©æ§å¨_068.svg","æ¸©æ§å¨_069.svg","æ¸©æ§å¨_070.svg","æ¸©æ§å¨_071.svg","æ¸©æ§å¨_072.svg","æ¸©æ§å¨_073.svg","æ¸©æ§å¨_074.svg","æ¸©æ§å¨_075.svg","æ¸©æ§å¨_076.svg","æ¸©æ§å¨_077.svg","æ¸©æ§å¨_078.svg","æ¸©æ§å¨_079.svg","æ¸©æ§å¨_080.svg","æ¸©æ§å¨_081.svg","æ¸©æ§å¨_082.svg","æ¸©æ§å¨_083.svg","æ¸©æ§å¨_084.svg","æ¸©æ§å¨_085.svg","æ¸©æ§å¨_086.svg","æ¸©æ§å¨_087.svg","æ¸©æ§å¨_088.svg","æ¸©æ§å¨_089.svg","æ¸©æ§å¨_090.svg","æ¸©æ§å¨_091.svg","æ¸©æ§å¨_092.svg","æ¸©æ§å¨_093.svg","æ¸©æ§å¨_094.svg","æ¸©æ§å¨_095.svg","æ¸©æ§å¨_096.svg","æ¸©æ§å¨_097.svg","æ¸©æ§å¨_098.svg","æ¸©æ§å¨_099.svg","æ¸©æ§å¨_100.svg","æ¸©æ§å¨_101.svg","æ¸©æ§å¨_102.svg","æ¸©æ§å¨_103.svg","æ¸©æ§å¨_104.svg","æ¸©æ§å¨_105.svg","æ¸©æ§å¨_106.svg","æ¸©æ§å¨_107.svg","æ¸©æ§å¨_108.svg","æ¸©æ§å¨_109.svg","æ¸©æ§å¨_110.svg","æ¸©æ§å¨_111.svg","æ¸©æ§å¨_112.svg","æ¸©æ§å¨_113.svg","æ¸©æ§å¨_114.svg","æ¸©æ§å¨_115.svg","æ¸©æ§å¨_116.svg","æ¸©æ§å¨_117.svg","æ¸©æ§å¨_118.svg","æ¸©æ§å¨_119.svg","æ¸©æ§å¨_120.svg","æ¸©æ§å¨_121.svg","æ¸©æ§å¨_122.svg","æ¸©æ§å¨_123.svg","æ¸©æ§å¨_124.svg","æ¸©æ§å¨_125.svg","æ¸©æ§å¨_126.svg","æ¸©æ§å¨_127.svg","æ¸©æ§å¨_128.svg","æ¸©æ§å¨_129.svg","æ¸©æ§å¨_130.svg","æ¸©æ§å¨_131.svg","æ¸©æ§å¨_132.svg","æ¸©æ§å¨_133.svg","æ¸©æ§å¨_134.svg","æ¸©æ§å¨_135.svg","æ¸©æ§å¨_136.svg","æ¸©æ§å¨_137.svg","æ¸©æ§å¨_138.svg","æ¸©æ§å¨_139.svg","æ¸©æ§å¨_140.svg","æ¸©æ§å¨_141.svg","æ¸©æ§å¨_142.svg","æ¸©æ§å¨_143.svg","æ¸©æ§å¨_144.svg","æ¸©æ§å¨_145.svg","æ¸©æ§å¨_146.svg","æ¸©æ§å¨_147.svg","æ¸©æ§å¨_148.svg","æ¸©æ§å¨_149.svg","æ¸©æ§å¨_150.svg","æ¸©æ§å¨_151.svg","æ¸©æ§å¨_152.svg","æ¸©æ§å¨_153.svg","æ¸©æ§å¨_154.svg","æ¸©æ§å¨_155.svg","æ¸©æ§å¨_156.svg","æ¸©æ§å¨_157.svg","æ¸©æ§å¨_158.svg","æ¸©æ§å¨_159.svg","æ¸©æ§å¨_160.svg","æ¸©æ§å¨_161.svg","æ¸©æ§å¨_162.svg","æ¸©æ§å¨_163.svg","æ¸©æ§å¨_164.svg","æ¸©æ§å¨_165.svg","æ¸©æ§å¨_166.svg","æ¸©æ§å¨_167.svg","æ¸©æ§å¨_168.svg","æ¸©æ§å¨_169.svg","æ¸©æ§å¨_170.svg","æ¸©æ§å¨_171.svg","æ¸©æ§å¨_172.svg","æ¸©æ§å¨_173.svg","æ¸©æ§å¨_174.svg","æ¸©æ§å¨_175.svg","æ¸©æ§å¨_176.svg","æ¸©æ§å¨_177.svg","æ¸©æ§å¨_178.svg","æ¸©æ§å¨_179.svg","æ¸©æ§å¨_180.svg","æ¸©æ§å¨_181.svg","æ¸©æ§å¨_182.svg","æ¸©æ§å¨_183.svg","æ¸©æ§å¨_184.svg","æ¸©æ§å¨_185.svg","æ¸©æ§å¨_186.svg","æ¸©æ§å¨_187.svg","æ¸©æ§å¨_188.svg","æ¸©æ§å¨_189.svg","æ¸©æ§å¨_190.svg","æ¸©æ§å¨_191.svg","æ¸©æ§å¨_192.svg","æ¸©æ§å¨_193.svg","æ¸©æ§å¨_194.svg","æ¸©æ§å¨_195.svg","æ¸©æ§å¨_196.svg","æ¸©æ§å¨_197.svg","æ¸©æ§å¨_198.svg","æ¸©æ§å¨_199.svg","æ¸©æ§å¨_200.svg","æ¸©æ§å¨_201.svg","æ¸©æ§å¨_202.svg","æ¸©æ§å¨_203.svg","æ¸©æ§å¨_204.svg","æ¸©æ§å¨_205.svg","æ¸©æ§å¨_206.svg","æ¸©æ§å¨_207.svg","æ¸©æ§å¨_208.svg","æ¸©æ§å¨_209.svg","æ¸©æ§å¨_210.svg","æ¸©æ§å¨_211.svg","æ¸©æ§å¨_212.svg","æ¸©æ§å¨_213.svg","æ¸©æ§å¨_214.svg","æ¸©æ§å¨_215.svg","æ¸©æ§å¨_216.svg","æ¸©æ§å¨_217.svg","æ¸©æ§å¨_218.svg","æ¸©æ§å¨_219.svg","æ¸©æ§å¨_220.svg","æ¸©æ§å¨_221.svg"],Valve=["éé¨_01-01.svg","éé¨_02-01.svg","éé¨_03-01.svg","éé¨_04-01.svg","éé¨_05-01.svg","éé¨_06-01.svg","éé¨_07-01.svg","éé¨_08-01.svg","éé¨_09-01.svg","éé¨_10-01.svg","éé¨_11-01.svg","éé¨_12-01.svg","éé¨_13-01.svg","éé¨_14-01.svg","éé¨_15-01.svg","éé¨_16-01.svg","éé¨_17-01.svg","éé¨_18-01.svg","éé¨_19-01.svg","éé¨_20-01.svg","éé¨_21-01.svg","éé¨_22-01.svg","éé¨_23-01.svg","éé¨_24-01.svg","éé¨_25-01.svg","éé¨_26-01.svg","éé¨_27-01.svg","éé¨_28-01.svg","éé¨_29-01.svg","éé¨_30-01.svg","éé¨_31-01.svg","éé¨_32-01.svg","éé¨_33-01.svg","éé¨_34-01.svg","éé¨_35-01.svg","éé¨_36-01.svg","éé¨_37-01.svg","éé¨_38-01.svg","éé¨_39-01.svg","éé¨_40-01.svg","éé¨_41-01.svg","éé¨_42-01.svg","éé¨_43-01.svg","éé¨_44-01.svg","éé¨_45-01.svg","éé¨_46-01.svg"],WarningSign=["è­¦ç¤ºæ _01-01.svg","è­¦ç¤ºæ _02-01.svg","è­¦ç¤ºæ _03-01.svg","è­¦ç¤ºæ _04-01.svg","è­¦ç¤ºæ _05-01.svg","è­¦ç¤ºæ _06-01.svg","è­¦ç¤ºæ _07-01.svg","è­¦ç¤ºæ _08-01.svg","è­¦ç¤ºæ _09-01.svg","è­¦ç¤ºæ _10-01.svg","è­¦ç¤ºæ _11-01.svg","è­¦ç¤ºæ _12-01.svg","è­¦ç¤ºæ _13-01.svg","è­¦ç¤ºæ _14-01.svg","è­¦ç¤ºæ _15-01.svg","è­¦ç¤ºæ _16-01.svg","è­¦ç¤ºæ _17-01.svg","è­¦ç¤ºæ _18-01.svg","è­¦ç¤ºæ _19-01.svg","è­¦ç¤ºæ _20-01.svg","è­¦ç¤ºæ _21-01.svg","è­¦ç¤ºæ _22-01.svg","è­¦ç¤ºæ _23-01.svg","è­¦ç¤ºæ _24-01.svg","è­¦ç¤ºæ _25-01.svg","è­¦ç¤ºæ _26-01.svg","è­¦ç¤ºæ _27-01.svg","è­¦ç¤ºæ _28-01.svg","è­¦ç¤ºæ _29-01.svg","è­¦ç¤ºæ _30-01.svg","è­¦ç¤ºæ _31-01.svg","è­¦ç¤ºæ _32-01.svg","è­¦ç¤ºæ _33-01.svg","è­¦ç¤ºæ _34-01.svg","è­¦ç¤ºæ _35-01.svg","è­¦ç¤ºæ _36-01.svg","è­¦ç¤ºæ _37-01.svg","è­¦ç¤ºæ _38-01.svg","è­¦ç¤ºæ _39-01.svg","è­¦ç¤ºæ _40-01.svg","è­¦ç¤ºæ _41-01.svg","è­¦ç¤ºæ _42-01.svg","è­¦ç¤ºæ _43-01.svg","è­¦ç¤ºæ _44-01.svg","è­¦ç¤ºæ _45-01.svg","è­¦ç¤ºæ _46-01.svg","è­¦ç¤ºæ _47-01.svg","è­¦ç¤ºæ _48-01.svg","è­¦ç¤ºæ _49-01.svg","è­¦ç¤ºæ _50-01.svg","è­¦ç¤ºæ _51-01.svg","è­¦ç¤ºæ _52-01.svg","è­¦ç¤ºæ _53-01.svg","è­¦ç¤ºæ _54-01.svg","è­¦ç¤ºæ _55-01.svg","è­¦ç¤ºæ _56-01.svg","è­¦ç¤ºæ _57-01.svg","è­¦ç¤ºæ _58-01.svg","è­¦ç¤ºæ _59-01.svg","è­¦ç¤ºæ _60-01.svg","è­¦ç¤ºæ _61-01.svg","è­¦ç¤ºæ _62-01.svg","è­¦ç¤ºæ _63-01.svg","è­¦ç¤ºæ _64-01.svg","è­¦ç¤ºæ _65-01.svg","è­¦ç¤ºæ _66-01.svg","è­¦ç¤ºæ _67-01.svg","è­¦ç¤ºæ _68-01.svg","è­¦ç¤ºæ _69-01.svg","è­¦ç¤ºæ _70-01.svg","è­¦ç¤ºæ _71-01.svg","è­¦ç¤ºæ _72-01.svg","è­¦ç¤ºæ _73-01.svg","è­¦ç¤ºæ _74-01.svg","è­¦ç¤ºæ _75-01.svg","è­¦ç¤ºæ _76-01.svg","è­¦ç¤ºæ _77-01.svg","è­¦ç¤ºæ _78-01.svg","è­¦ç¤ºæ _79-01.svg","è­¦ç¤ºæ _80-01.svg"],WashingMachine=["æ´è¡£æº_001.svg","æ´è¡£æº_002.svg","æ´è¡£æº_003.svg","æ´è¡£æº_004.svg","æ´è¡£æº_005.svg","æ´è¡£æº_006.svg","æ´è¡£æº_007.svg","æ´è¡£æº_008.svg","æ´è¡£æº_009.svg","æ´è¡£æº_010.svg","æ´è¡£æº_011.svg","æ´è¡£æº_012.svg","æ´è¡£æº_013.svg","æ´è¡£æº_014.svg","æ´è¡£æº_015.svg","æ´è¡£æº_016.svg","æ´è¡£æº_017.svg","æ´è¡£æº_018.svg","æ´è¡£æº_019.svg","æ´è¡£æº_020.svg","æ´è¡£æº_021.svg","æ´è¡£æº_022.svg","æ´è¡£æº_023.svg","æ´è¡£æº_024.svg","æ´è¡£æº_025.svg","æ´è¡£æº_026.svg","æ´è¡£æº_027.svg","æ´è¡£æº_028.svg","æ´è¡£æº_029.svg","æ´è¡£æº_030.svg","æ´è¡£æº_031.svg","æ´è¡£æº_032.svg","æ´è¡£æº_033.svg","æ´è¡£æº_034.svg","æ´è¡£æº_035.svg","æ´è¡£æº_036.svg","æ´è¡£æº_037.svg","æ´è¡£æº_038.svg","æ´è¡£æº_039.svg","æ´è¡£æº_040.svg","æ´è¡£æº_041.svg","æ´è¡£æº_042.svg","æ´è¡£æº_043.svg","æ´è¡£æº_044.svg","æ´è¡£æº_045.svg","æ´è¡£æº_046.svg","æ´è¡£æº_047.svg","æ´è¡£æº_048.svg","æ´è¡£æº_049.svg","æ´è¡£æº_050.svg","æ´è¡£æº_051.svg","æ´è¡£æº_052.svg","æ´è¡£æº_053.svg","æ´è¡£æº_054.svg","æ´è¡£æº_055.svg","æ´è¡£æº_056.svg","æ´è¡£æº_057.svg","æ´è¡£æº_058.svg","æ´è¡£æº_059.svg","æ´è¡£æº_060.svg","æ´è¡£æº_061.svg","æ´è¡£æº_062.svg","æ´è¡£æº_063.svg","æ´è¡£æº_064.svg","æ´è¡£æº_065.svg","æ´è¡£æº_066.svg","æ´è¡£æº_067.svg","æ´è¡£æº_068.svg","æ´è¡£æº_069.svg","æ´è¡£æº_070.svg","æ´è¡£æº_071.svg","æ´è¡£æº_072.svg","æ´è¡£æº_073.svg","æ´è¡£æº_074.svg","æ´è¡£æº_075.svg","æ´è¡£æº_076.svg","æ´è¡£æº_077.svg","æ´è¡£æº_078.svg","æ´è¡£æº_079.svg","æ´è¡£æº_080.svg","æ´è¡£æº_081.svg","æ´è¡£æº_082.svg","æ´è¡£æº_083.svg","æ´è¡£æº_084.svg","æ´è¡£æº_085.svg","æ´è¡£æº_086.svg","æ´è¡£æº_087.svg","æ´è¡£æº_088.svg","æ´è¡£æº_089.svg","æ´è¡£æº_090.svg","æ´è¡£æº_091.svg","æ´è¡£æº_092.svg","æ´è¡£æº_093.svg","æ´è¡£æº_094.svg","æ´è¡£æº_095.svg","æ´è¡£æº_096.svg","æ´è¡£æº_097.svg","æ´è¡£æº_098.svg","æ´è¡£æº_099.svg","æ´è¡£æº_100.svg","æ´è¡£æº_101.svg","æ´è¡£æº_102.svg","æ´è¡£æº_103.svg","æ´è¡£æº_104.svg","æ´è¡£æº_105.svg","æ´è¡£æº_106.svg","æ´è¡£æº_107.svg","æ´è¡£æº_108.svg","æ´è¡£æº_109.svg","æ´è¡£æº_110.svg","æ´è¡£æº_111.svg","æ´è¡£æº_112.svg","æ´è¡£æº_113.svg","æ´è¡£æº_114.svg","æ´è¡£æº_115.svg","æ´è¡£æº_116.svg","æ´è¡£æº_117.svg","æ´è¡£æº_118.svg","æ´è¡£æº_119.svg","æ´è¡£æº_120.svg","æ´è¡£æº_121.svg","æ´è¡£æº_122.svg","æ´è¡£æº_123.svg","æ´è¡£æº_124.svg","æ´è¡£æº_125.svg","æ´è¡£æº_126.svg","æ´è¡£æº_127.svg","æ´è¡£æº_128.svg","æ´è¡£æº_129.svg","æ´è¡£æº_130.svg","æ´è¡£æº_131.svg","æ´è¡£æº_132.svg","æ´è¡£æº_133.svg","æ´è¡£æº_134.svg","æ´è¡£æº_135.svg","æ´è¡£æº_136.svg","æ´è¡£æº_137.svg","æ´è¡£æº_138.svg","æ´è¡£æº_139.svg","æ´è¡£æº_140.svg","æ´è¡£æº_141.svg","æ´è¡£æº_142.svg","æ´è¡£æº_143.svg","æ´è¡£æº_144.svg","æ´è¡£æº_145.svg","æ´è¡£æº_146.svg","æ´è¡£æº_147.svg","æ´è¡£æº_148.svg","æ´è¡£æº_149.svg","æ´è¡£æº_150.svg","æ´è¡£æº_151.svg","æ´è¡£æº_152.svg","æ´è¡£æº_153.svg","æ´è¡£æº_154.svg","æ´è¡£æº_155.svg","æ´è¡£æº_156.svg","æ´è¡£æº_157.svg","æ´è¡£æº_158.svg","æ´è¡£æº_159.svg","æ´è¡£æº_160.svg","æ´è¡£æº_161.svg","æ´è¡£æº_162.svg","æ´è¡£æº_163.svg","æ´è¡£æº_164.svg","æ´è¡£æº_165.svg","æ´è¡£æº_166.svg","æ´è¡£æº_167.svg","æ´è¡£æº_168.svg","æ´è¡£æº_169.svg","æ´è¡£æº_170.svg","æ´è¡£æº_171.svg","æ´è¡£æº_172.svg","æ´è¡£æº_173.svg","æ´è¡£æº_174.svg","æ´è¡£æº_175.svg","æ´è¡£æº_176.svg","æ´è¡£æº_177.svg","æ´è¡£æº_178.svg","æ´è¡£æº_179.svg","æ´è¡£æº_180.svg"],WaterHeater=["ç­æ°´å¨_1.svg","ç­æ°´å¨_10.svg","ç­æ°´å¨_100.svg","ç­æ°´å¨_101.svg","ç­æ°´å¨_102.svg","ç­æ°´å¨_103.svg","ç­æ°´å¨_104.svg","ç­æ°´å¨_105.svg","ç­æ°´å¨_106.svg","ç­æ°´å¨_107.svg","ç­æ°´å¨_108.svg","ç­æ°´å¨_109.svg","ç­æ°´å¨_11.svg","ç­æ°´å¨_110.svg","ç­æ°´å¨_111.svg","ç­æ°´å¨_112.svg","ç­æ°´å¨_113.svg","ç­æ°´å¨_114.svg","ç­æ°´å¨_115.svg","ç­æ°´å¨_116.svg","ç­æ°´å¨_117.svg","ç­æ°´å¨_118.svg","ç­æ°´å¨_119.svg","ç­æ°´å¨_12.svg","ç­æ°´å¨_120.svg","ç­æ°´å¨_121.svg","ç­æ°´å¨_122.svg","ç­æ°´å¨_123.svg","ç­æ°´å¨_124.svg","ç­æ°´å¨_125.svg","ç­æ°´å¨_126.svg","ç­æ°´å¨_127.svg","ç­æ°´å¨_128.svg","ç­æ°´å¨_129.svg","ç­æ°´å¨_13.svg","ç­æ°´å¨_130.svg","ç­æ°´å¨_14.svg","ç­æ°´å¨_15.svg","ç­æ°´å¨_16.svg","ç­æ°´å¨_17.svg","ç­æ°´å¨_18.svg","ç­æ°´å¨_19.svg","ç­æ°´å¨_2.svg","ç­æ°´å¨_20.svg","ç­æ°´å¨_21.svg","ç­æ°´å¨_22.svg","ç­æ°´å¨_23.svg","ç­æ°´å¨_24.svg","ç­æ°´å¨_25.svg","ç­æ°´å¨_26.svg","ç­æ°´å¨_27.svg","ç­æ°´å¨_28.svg","ç­æ°´å¨_29.svg","ç­æ°´å¨_3.svg","ç­æ°´å¨_30.svg","ç­æ°´å¨_31.svg","ç­æ°´å¨_32.svg","ç­æ°´å¨_33.svg","ç­æ°´å¨_34.svg","ç­æ°´å¨_35.svg","ç­æ°´å¨_36.svg","ç­æ°´å¨_37.svg","ç­æ°´å¨_38.svg","ç­æ°´å¨_39.svg","ç­æ°´å¨_4.svg","ç­æ°´å¨_40.svg","ç­æ°´å¨_41.svg","ç­æ°´å¨_42.svg","ç­æ°´å¨_43.svg","ç­æ°´å¨_44.svg","ç­æ°´å¨_45.svg","ç­æ°´å¨_46.svg","ç­æ°´å¨_47.svg","ç­æ°´å¨_48.svg","ç­æ°´å¨_49.svg","ç­æ°´å¨_5.svg","ç­æ°´å¨_50.svg","ç­æ°´å¨_51.svg","ç­æ°´å¨_52.svg","ç­æ°´å¨_53.svg","ç­æ°´å¨_54.svg","ç­æ°´å¨_55.svg","ç­æ°´å¨_56.svg","ç­æ°´å¨_57.svg","ç­æ°´å¨_58.svg","ç­æ°´å¨_59.svg","ç­æ°´å¨_6.svg","ç­æ°´å¨_60.svg","ç­æ°´å¨_61.svg","ç­æ°´å¨_62.svg","ç­æ°´å¨_63.svg","ç­æ°´å¨_64.svg","ç­æ°´å¨_65.svg","ç­æ°´å¨_66.svg","ç­æ°´å¨_67.svg","ç­æ°´å¨_68.svg","ç­æ°´å¨_69.svg","ç­æ°´å¨_7.svg","ç­æ°´å¨_70.svg","ç­æ°´å¨_71.svg","ç­æ°´å¨_72.svg","ç­æ°´å¨_73.svg","ç­æ°´å¨_74.svg","ç­æ°´å¨_75.svg","ç­æ°´å¨_76.svg","ç­æ°´å¨_77.svg","ç­æ°´å¨_78.svg","ç­æ°´å¨_79.svg","ç­æ°´å¨_8.svg","ç­æ°´å¨_80.svg","ç­æ°´å¨_81.svg","ç­æ°´å¨_82.svg","ç­æ°´å¨_83.svg","ç­æ°´å¨_84.svg","ç­æ°´å¨_85.svg","ç­æ°´å¨_86.svg","ç­æ°´å¨_87.svg","ç­æ°´å¨_88.svg","ç­æ°´å¨_89.svg","ç­æ°´å¨_9.svg","ç­æ°´å¨_90.svg","ç­æ°´å¨_91.svg","ç­æ°´å¨_92.svg","ç­æ°´å¨_93.svg","ç­æ°´å¨_94.svg","ç­æ°´å¨_95.svg","ç­æ°´å¨_96.svg","ç­æ°´å¨_97.svg","ç­æ°´å¨_98.svg","ç­æ°´å¨_99.svg"],svgData={"3DButton":["ç«ä½æé®ä¸_1.svg","ç«ä½æé®ä¸_10.svg","ç«ä½æé®ä¸_100.svg","ç«ä½æé®ä¸_101.svg","ç«ä½æé®ä¸_102.svg","ç«ä½æé®ä¸_103.svg","ç«ä½æé®ä¸_104.svg","ç«ä½æé®ä¸_105.svg","ç«ä½æé®ä¸_106.svg","ç«ä½æé®ä¸_107.svg","ç«ä½æé®ä¸_108.svg","ç«ä½æé®ä¸_109.svg","ç«ä½æé®ä¸_11.svg","ç«ä½æé®ä¸_110.svg","ç«ä½æé®ä¸_111.svg","ç«ä½æé®ä¸_112.svg","ç«ä½æé®ä¸_113.svg","ç«ä½æé®ä¸_114.svg","ç«ä½æé®ä¸_115.svg","ç«ä½æé®ä¸_116.svg","ç«ä½æé®ä¸_117.svg","ç«ä½æé®ä¸_118.svg","ç«ä½æé®ä¸_119.svg","ç«ä½æé®ä¸_12.svg","ç«ä½æé®ä¸_120.svg","ç«ä½æé®ä¸_121.svg","ç«ä½æé®ä¸_122.svg","ç«ä½æé®ä¸_123.svg","ç«ä½æé®ä¸_124.svg","ç«ä½æé®ä¸_125.svg","ç«ä½æé®ä¸_126.svg","ç«ä½æé®ä¸_127.svg","ç«ä½æé®ä¸_128.svg","ç«ä½æé®ä¸_129.svg","ç«ä½æé®ä¸_13.svg","ç«ä½æé®ä¸_130.svg","ç«ä½æé®ä¸_131.svg","ç«ä½æé®ä¸_132.svg","ç«ä½æé®ä¸_133.svg","ç«ä½æé®ä¸_134.svg","ç«ä½æé®ä¸_135.svg","ç«ä½æé®ä¸_136.svg","ç«ä½æé®ä¸_137.svg","ç«ä½æé®ä¸_138.svg","ç«ä½æé®ä¸_139.svg","ç«ä½æé®ä¸_14.svg","ç«ä½æé®ä¸_140.svg","ç«ä½æé®ä¸_141.svg","ç«ä½æé®ä¸_142.svg","ç«ä½æé®ä¸_143.svg","ç«ä½æé®ä¸_144.svg","ç«ä½æé®ä¸_145.svg","ç«ä½æé®ä¸_146.svg","ç«ä½æé®ä¸_147.svg","ç«ä½æé®ä¸_148.svg","ç«ä½æé®ä¸_149.svg","ç«ä½æé®ä¸_15.svg","ç«ä½æé®ä¸_150.svg","ç«ä½æé®ä¸_151.svg","ç«ä½æé®ä¸_152.svg","ç«ä½æé®ä¸_153.svg","ç«ä½æé®ä¸_154.svg","ç«ä½æé®ä¸_155.svg","ç«ä½æé®ä¸_156.svg","ç«ä½æé®ä¸_157.svg","ç«ä½æé®ä¸_158.svg","ç«ä½æé®ä¸_159.svg","ç«ä½æé®ä¸_16.svg","ç«ä½æé®ä¸_160.svg","ç«ä½æé®ä¸_161.svg","ç«ä½æé®ä¸_162.svg","ç«ä½æé®ä¸_163.svg","ç«ä½æé®ä¸_164.svg","ç«ä½æé®ä¸_165.svg","ç«ä½æé®ä¸_166.svg","ç«ä½æé®ä¸_167.svg","ç«ä½æé®ä¸_168.svg","ç«ä½æé®ä¸_169.svg","ç«ä½æé®ä¸_17.svg","ç«ä½æé®ä¸_170.svg","ç«ä½æé®ä¸_171.svg","ç«ä½æé®ä¸_172.svg","ç«ä½æé®ä¸_173.svg","ç«ä½æé®ä¸_174.svg","ç«ä½æé®ä¸_18.svg","ç«ä½æé®ä¸_19.svg","ç«ä½æé®ä¸_2.svg","ç«ä½æé®ä¸_20.svg","ç«ä½æé®ä¸_21.svg","ç«ä½æé®ä¸_22.svg","ç«ä½æé®ä¸_23.svg","ç«ä½æé®ä¸_24.svg","ç«ä½æé®ä¸_25.svg","ç«ä½æé®ä¸_26.svg","ç«ä½æé®ä¸_27.svg","ç«ä½æé®ä¸_28.svg","ç«ä½æé®ä¸_29.svg","ç«ä½æé®ä¸_3.svg","ç«ä½æé®ä¸_30.svg","ç«ä½æé®ä¸_31.svg","ç«ä½æé®ä¸_32.svg","ç«ä½æé®ä¸_33.svg","ç«ä½æé®ä¸_34.svg","ç«ä½æé®ä¸_35.svg","ç«ä½æé®ä¸_36.svg","ç«ä½æé®ä¸_37.svg","ç«ä½æé®ä¸_38.svg","ç«ä½æé®ä¸_39.svg","ç«ä½æé®ä¸_4.svg","ç«ä½æé®ä¸_40.svg","ç«ä½æé®ä¸_41.svg","ç«ä½æé®ä¸_42.svg","ç«ä½æé®ä¸_43.svg","ç«ä½æé®ä¸_44.svg","ç«ä½æé®ä¸_45.svg","ç«ä½æé®ä¸_46.svg","ç«ä½æé®ä¸_47.svg","ç«ä½æé®ä¸_48.svg","ç«ä½æé®ä¸_49.svg","ç«ä½æé®ä¸_5.svg","ç«ä½æé®ä¸_50.svg","ç«ä½æé®ä¸_51.svg","ç«ä½æé®ä¸_52.svg","ç«ä½æé®ä¸_53.svg","ç«ä½æé®ä¸_54.svg","ç«ä½æé®ä¸_55.svg","ç«ä½æé®ä¸_56.svg","ç«ä½æé®ä¸_57.svg","ç«ä½æé®ä¸_58.svg","ç«ä½æé®ä¸_59.svg","ç«ä½æé®ä¸_6.svg","ç«ä½æé®ä¸_60.svg","ç«ä½æé®ä¸_61.svg","ç«ä½æé®ä¸_62.svg","ç«ä½æé®ä¸_63.svg","ç«ä½æé®ä¸_64.svg","ç«ä½æé®ä¸_65.svg","ç«ä½æé®ä¸_66.svg","ç«ä½æé®ä¸_67.svg","ç«ä½æé®ä¸_68.svg","ç«ä½æé®ä¸_69.svg","ç«ä½æé®ä¸_7.svg","ç«ä½æé®ä¸_70.svg","ç«ä½æé®ä¸_71.svg","ç«ä½æé®ä¸_72.svg","ç«ä½æé®ä¸_73.svg","ç«ä½æé®ä¸_74.svg","ç«ä½æé®ä¸_75.svg","ç«ä½æé®ä¸_76.svg","ç«ä½æé®ä¸_77.svg","ç«ä½æé®ä¸_78.svg","ç«ä½æé®ä¸_79.svg","ç«ä½æé®ä¸_8.svg","ç«ä½æé®ä¸_80.svg","ç«ä½æé®ä¸_81.svg","ç«ä½æé®ä¸_82.svg","ç«ä½æé®ä¸_83.svg","ç«ä½æé®ä¸_84.svg","ç«ä½æé®ä¸_85.svg","ç«ä½æé®ä¸_86.svg","ç«ä½æé®ä¸_87.svg","ç«ä½æé®ä¸_88.svg","ç«ä½æé®ä¸_89.svg","ç«ä½æé®ä¸_9.svg","ç«ä½æé®ä¸_90.svg","ç«ä½æé®ä¸_91.svg","ç«ä½æé®ä¸_92.svg","ç«ä½æé®ä¸_93.svg","ç«ä½æé®ä¸_94.svg","ç«ä½æé®ä¸_95.svg","ç«ä½æé®ä¸_96.svg","ç«ä½æé®ä¸_97.svg","ç«ä½æé®ä¸_98.svg","ç«ä½æé®ä¸_99.svg"],"3DPrinter":["3Dæå°æº_001.svg","3Dæå°æº_002.svg","3Dæå°æº_003.svg","3Dæå°æº_004.svg","3Dæå°æº_005.svg","3Dæå°æº_006.svg","3Dæå°æº_007.svg","3Dæå°æº_008.svg","3Dæå°æº_009.svg","3Dæå°æº_010.svg","3Dæå°æº_011.svg","3Dæå°æº_012.svg","3Dæå°æº_013.svg","3Dæå°æº_014.svg","3Dæå°æº_015.svg","3Dæå°æº_016.svg","3Dæå°æº_017.svg","3Dæå°æº_018.svg","3Dæå°æº_019.svg","3Dæå°æº_020.svg","3Dæå°æº_021.svg","3Dæå°æº_022.svg","3Dæå°æº_023.svg","3Dæå°æº_024.svg","3Dæå°æº_025.svg","3Dæå°æº_026.svg","3Dæå°æº_027.svg","3Dæå°æº_028.svg","3Dæå°æº_029.svg","3Dæå°æº_030.svg","3Dæå°æº_031.svg","3Dæå°æº_032.svg","3Dæå°æº_033.svg","3Dæå°æº_034.svg","3Dæå°æº_035.svg","3Dæå°æº_036.svg","3Dæå°æº_037.svg","3Dæå°æº_038.svg","3Dæå°æº_039.svg","3Dæå°æº_040.svg","3Dæå°æº_041.svg","3Dæå°æº_042.svg","3Dæå°æº_043.svg","3Dæå°æº_044.svg","3Dæå°æº_045.svg","3Dæå°æº_046.svg","3Dæå°æº_047.svg","3Dæå°æº_048.svg","3Dæå°æº_049.svg","3Dæå°æº_050.svg","3Dæå°æº_051.svg","3Dæå°æº_052.svg","3Dæå°æº_053.svg","3Dæå°æº_054.svg","3Dæå°æº_055.svg","3Dæå°æº_056.svg","3Dæå°æº_057.svg","3Dæå°æº_058.svg","3Dæå°æº_059.svg","3Dæå°æº_060.svg","3Dæå°æº_061.svg","3Dæå°æº_062.svg","3Dæå°æº_063.svg","3Dæå°æº_064.svg","3Dæå°æº_065.svg","3Dæå°æº_066.svg","3Dæå°æº_067.svg","3Dæå°æº_068.svg","3Dæå°æº_069.svg","3Dæå°æº_070.svg","3Dæå°æº_071.svg","3Dæå°æº_072.svg","3Dæå°æº_073.svg","3Dæå°æº_074.svg","3Dæå°æº_075.svg","3Dæå°æº_076.svg","3Dæå°æº_077.svg","3Dæå°æº_078.svg","3Dæå°æº_079.svg","3Dæå°æº_080.svg","3Dæå°æº_081.svg","3Dæå°æº_082.svg","3Dæå°æº_083.svg","3Dæå°æº_084.svg","3Dæå°æº_085.svg","3Dæå°æº_086.svg","3Dæå°æº_087.svg","3Dæå°æº_088.svg","3Dæå°æº_089.svg","3Dæå°æº_090.svg","3Dæå°æº_091.svg","3Dæå°æº_092.svg","3Dæå°æº_093.svg","3Dæå°æº_094.svg","3Dæå°æº_095.svg","3Dæå°æº_096.svg","3Dæå°æº_097.svg","3Dæå°æº_098.svg","3Dæå°æº_099.svg","3Dæå°æº_100.svg","3Dæå°æº_101.svg","3Dæå°æº_102.svg","3Dæå°æº_103.svg","3Dæå°æº_104.svg","3Dæå°æº_105.svg","3Dæå°æº_106.svg","3Dæå°æº_107.svg","3Dæå°æº_108.svg","3Dæå°æº_109.svg","3Dæå°æº_110.svg","3Dæå°æº_111.svg","3Dæå°æº_112.svg","3Dæå°æº_113.svg","3Dæå°æº_114.svg","3Dæå°æº_115.svg","3Dæå°æº_116.svg","3Dæå°æº_117.svg","3Dæå°æº_118.svg","3Dæå°æº_119.svg","3Dæå°æº_120.svg","3Dæå°æº_121.svg","3Dæå°æº_122.svg","3Dæå°æº_123.svg","3Dæå°æº_124.svg","3Dæå°æº_125.svg","3Dæå°æº_126.svg","3Dæå°æº_127.svg","3Dæå°æº_128.svg","3Dæå°æº_129.svg","3Dæå°æº_130.svg","3Dæå°æº_131.svg","3Dæå°æº_132.svg","3Dæå°æº_133.svg","3Dæå°æº_134.svg","3Dæå°æº_135.svg","3Dæå°æº_136.svg","3Dæå°æº_137.svg","3Dæå°æº_138.svg","3Dæå°æº_139.svg","3Dæå°æº_140.svg","3Dæå°æº_141.svg","3Dæå°æº_142.svg","3Dæå°æº_143.svg","3Dæå°æº_144.svg","3Dæå°æº_145.svg","3Dæå°æº_146.svg","3Dæå°æº_147.svg","3Dæå°æº_148.svg","3Dæå°æº_149.svg","3Dæå°æº_150.svg","3Dæå°æº_151.svg","3Dæå°æº_152.svg","3Dæå°æº_153.svg","3Dæå°æº_154.svg","3Dæå°æº_155.svg","3Dæå°æº_156.svg","3Dæå°æº_157.svg","3Dæå°æº_158.svg","3Dæå°æº_159.svg","3Dæå°æº_160.svg","3Dæå°æº_161.svg","3Dæå°æº_162.svg","3Dæå°æº_163.svg","3Dæå°æº_164.svg","3Dæå°æº_165.svg","3Dæå°æº_166.svg","3Dæå°æº_167.svg","3Dæå°æº_168.svg","3Dæå°æº_169.svg","3Dæå°æº_170.svg","3Dæå°æº_171.svg","3Dæå°æº_172.svg","3Dæå°æº_173.svg","3Dæå°æº_174.svg","3Dæå°æº_175.svg","3Dæå°æº_176.svg","3Dæå°æº_177.svg","3Dæå°æº_178.svg","3Dæå°æº_179.svg","3Dæå°æº_180.svg","3Dæå°æº_181.svg","3Dæå°æº_182.svg","3Dæå°æº_183.svg","3Dæå°æº_184.svg","3Dæå°æº_185.svg","3Dæå°æº_186.svg","3Dæå°æº_187.svg","3Dæå°æº_188.svg","3Dæå°æº_189.svg","3Dæå°æº_190.svg","3Dæå°æº_191.svg","3Dæå°æº_192.svg","3Dæå°æº_193.svg","3Dæå°æº_194.svg","3Dæå°æº_195.svg","3Dæå°æº_196.svg","3Dæå°æº_197.svg","3Dæå°æº_198.svg","3Dæå°æº_199.svg","3Dæå°æº_200.svg","3Dæå°æº_201.svg","3Dæå°æº_202.svg","3Dæå°æº_203.svg","3Dæå°æº_204.svg","3Dæå°æº_205.svg","3Dæå°æº_206.svg","3Dæå°æº_207.svg","3Dæå°æº_208.svg","3Dæå°æº_209.svg","3Dæå°æº_210.svg","3Dæå°æº_211.svg","3Dæå°æº_212.svg","3Dæå°æº_213.svg","3Dæå°æº_214.svg","3Dæå°æº_215.svg","3Dæå°æº_216.svg","3Dæå°æº_217.svg","3Dæå°æº_218.svg","3Dæå°æº_219.svg","3Dæå°æº_220.svg","3Dæå°æº_221.svg","3Dæå°æº_222.svg","3Dæå°æº_223.svg","3Dæå°æº_224.svg","3Dæå°æº_225.svg","3Dæå°æº_226.svg","3Dæå°æº_227.svg","3Dæå°æº_228.svg","3Dæå°æº_229.svg","3Dæå°æº_230.svg","3Dæå°æº_231.svg","3Dæå°æº_232.svg","3Dæå°æº_233.svg","3Dæå°æº_234.svg","3Dæå°æº_235.svg","3Dæå°æº_236.svg","3Dæå°æº_237.svg","3Dæå°æº_238.svg","3Dæå°æº_239.svg","3Dæå°æº_240.svg","3Dæå°æº_241.svg","3Dæå°æº_242.svg","3Dæå°æº_243.svg","3Dæå°æº_244.svg","3Dæå°æº_245.svg","3Dæå°æº_246.svg","3Dæå°æº_247.svg","3Dæå°æº_248.svg","3Dæå°æº_249.svg","3Dæå°æº_250.svg"],AirConditioner,AirConditioner2,AirPurifier,Blender,CoffeeMachine,ComputersAndPeripherals,CookingMachine,ExhaustFan,IndustrialPipeline,Instrument,Lamp,MetalButton,Motor,NumericButton,Other:Other$1,PushButton,Roundbuttonindicatorlight,ScaleBackground,SwitchButton,TankBody,Thermostat,UPSçµæº:["UPSçµæº_001.svg","UPSçµæº_002.svg","UPSçµæº_003.svg","UPSçµæº_004.svg","UPSçµæº_005.svg","UPSçµæº_006.svg","UPSçµæº_007.svg","UPSçµæº_008.svg","UPSçµæº_009.svg","UPSçµæº_010.svg","UPSçµæº_011.svg","UPSçµæº_012.svg","UPSçµæº_013.svg","UPSçµæº_014.svg","UPSçµæº_015.svg","UPSçµæº_016.svg","UPSçµæº_017.svg","UPSçµæº_018.svg","UPSçµæº_019.svg","UPSçµæº_020.svg","UPSçµæº_021.svg","UPSçµæº_022.svg","UPSçµæº_023.svg","UPSçµæº_024.svg","UPSçµæº_025.svg","UPSçµæº_026.svg","UPSçµæº_027.svg","UPSçµæº_028.svg","UPSçµæº_029.svg","UPSçµæº_030.svg","UPSçµæº_031.svg","UPSçµæº_032.svg","UPSçµæº_033.svg","UPSçµæº_034.svg","UPSçµæº_035.svg","UPSçµæº_036.svg","UPSçµæº_037.svg","UPSçµæº_038.svg","UPSçµæº_039.svg","UPSçµæº_040.svg","UPSçµæº_041.svg","UPSçµæº_042.svg","UPSçµæº_043.svg","UPSçµæº_044.svg","UPSçµæº_045.svg","UPSçµæº_046.svg","UPSçµæº_047.svg","UPSçµæº_048.svg","UPSçµæº_049.svg","UPSçµæº_050.svg","UPSçµæº_051.svg","UPSçµæº_052.svg","UPSçµæº_053.svg","UPSçµæº_054.svg","UPSçµæº_055.svg","UPSçµæº_056.svg","UPSçµæº_057.svg","UPSçµæº_058.svg","UPSçµæº_059.svg","UPSçµæº_060.svg","UPSçµæº_061.svg","UPSçµæº_062.svg","UPSçµæº_063.svg","UPSçµæº_064.svg","UPSçµæº_065.svg","UPSçµæº_066.svg","UPSçµæº_067.svg","UPSçµæº_068.svg","UPSçµæº_069.svg","UPSçµæº_070.svg","UPSçµæº_071.svg","UPSçµæº_072.svg","UPSçµæº_073.svg","UPSçµæº_074.svg","UPSçµæº_075.svg","UPSçµæº_076.svg","UPSçµæº_077.svg","UPSçµæº_078.svg","UPSçµæº_079.svg","UPSçµæº_080.svg","UPSçµæº_081.svg","UPSçµæº_082.svg","UPSçµæº_083.svg","UPSçµæº_084.svg","UPSçµæº_085.svg","UPSçµæº_086.svg","UPSçµæº_087.svg","UPSçµæº_088.svg","UPSçµæº_089.svg","UPSçµæº_090.svg","UPSçµæº_091.svg","UPSçµæº_092.svg","UPSçµæº_093.svg","UPSçµæº_094.svg","UPSçµæº_095.svg","UPSçµæº_096.svg","UPSçµæº_097.svg","UPSçµæº_098.svg","UPSçµæº_099.svg","UPSçµæº_100.svg","UPSçµæº_101.svg","UPSçµæº_102.svg","UPSçµæº_103.svg","UPSçµæº_104.svg","UPSçµæº_105.svg","UPSçµæº_106.svg","UPSçµæº_107.svg","UPSçµæº_108.svg","UPSçµæº_109.svg","UPSçµæº_110.svg","UPSçµæº_111.svg","UPSçµæº_112.svg","UPSçµæº_113.svg","UPSçµæº_114.svg","UPSçµæº_115.svg","UPSçµæº_116.svg","UPSçµæº_117.svg","UPSçµæº_118.svg","UPSçµæº_119.svg","UPSçµæº_120.svg","UPSçµæº_121.svg","UPSçµæº_122.svg","UPSçµæº_123.svg","UPSçµæº_124.svg","UPSçµæº_125.svg","UPSçµæº_126.svg","UPSçµæº_127.svg","UPSçµæº_128.svg","UPSçµæº_129.svg","UPSçµæº_130.svg","UPSçµæº_131.svg","UPSçµæº_132.svg","UPSçµæº_133.svg","UPSçµæº_134.svg","UPSçµæº_135.svg","UPSçµæº_136.svg","UPSçµæº_137.svg","UPSçµæº_138.svg","UPSçµæº_139.svg","UPSçµæº_140.svg","UPSçµæº_141.svg","UPSçµæº_142.svg","UPSçµæº_143.svg","UPSçµæº_144.svg","UPSçµæº_145.svg","UPSçµæº_146.svg","UPSçµæº_147.svg","UPSçµæº_148.svg","UPSçµæº_149.svg","UPSçµæº_150.svg","UPSçµæº_151.svg","UPSçµæº_152.svg","UPSçµæº_153.svg","UPSçµæº_154.svg","UPSçµæº_155.svg","UPSçµæº_156.svg","UPSçµæº_157.svg","UPSçµæº_158.svg","UPSçµæº_159.svg","UPSçµæº_160.svg","UPSçµæº_161.svg","UPSçµæº_162.svg","UPSçµæº_163.svg","UPSçµæº_164.svg","UPSçµæº_165.svg","UPSçµæº_166.svg","UPSçµæº_167.svg","UPSçµæº_168.svg","UPSçµæº_169.svg","UPSçµæº_170.svg","UPSçµæº_171.svg","UPSçµæº_172.svg","UPSçµæº_173.svg","UPSçµæº_174.svg","UPSçµæº_175.svg","UPSçµæº_176.svg","UPSçµæº_177.svg","UPSçµæº_178.svg","UPSçµæº_179.svg","UPSçµæº_180.svg","UPSçµæº_181.svg","UPSçµæº_182.svg","UPSçµæº_183.svg","UPSçµæº_184.svg","UPSçµæº_185.svg","UPSçµæº_186.svg","UPSçµæº_187.svg","UPSçµæº_188.svg","UPSçµæº_189.svg","UPSçµæº_190.svg","UPSçµæº_191.svg","UPSçµæº_192.svg","UPSçµæº_193.svg","UPSçµæº_194.svg","UPSçµæº_195.svg","UPSçµæº_196.svg","UPSçµæº_197.svg","UPSçµæº_198.svg","UPSçµæº_199.svg","UPSçµæº_200.svg","UPSçµæº_201.svg","UPSçµæº_202.svg","UPSçµæº_203.svg","UPSçµæº_204.svg","UPSçµæº_205.svg","UPSçµæº_206.svg","UPSçµæº_207.svg","UPSçµæº_208.svg","UPSçµæº_209.svg","UPSçµæº_210.svg","UPSçµæº_211.svg","UPSçµæº_212.svg","UPSçµæº_213.svg","UPSçµæº_214.svg","UPSçµæº_215.svg","UPSçµæº_216.svg","UPSçµæº_217.svg","UPSçµæº_218.svg","UPSçµæº_219.svg","UPSçµæº_220.svg","UPSçµæº_221.svg","UPSçµæº_222.svg","UPSçµæº_223.svg","UPSçµæº_224.svg","UPSçµæº_225.svg","UPSçµæº_226.svg","UPSçµæº_227.svg","UPSçµæº_228.svg","UPSçµæº_229.svg","UPSçµæº_230.svg","UPSçµæº_231.svg","UPSçµæº_232.svg","UPSçµæº_233.svg","UPSçµæº_234.svg","UPSçµæº_235.svg","UPSçµæº_236.svg","UPSçµæº_237.svg","UPSçµæº_238.svg","UPSçµæº_239.svg","UPSçµæº_240.svg","UPSçµæº_241.svg","UPSçµæº_242.svg","UPSçµæº_243.svg","UPSçµæº_244.svg","UPSçµæº_245.svg","UPSçµæº_246.svg","UPSçµæº_247.svg","UPSçµæº_248.svg","UPSçµæº_249.svg","UPSçµæº_250.svg","UPSçµæº_251.svg","UPSçµæº_252.svg","UPSçµæº_253.svg","UPSçµæº_254.svg","UPSçµæº_255.svg","UPSçµæº_256.svg","UPSçµæº_257.svg","UPSçµæº_258.svg","UPSçµæº_259.svg","UPSçµæº_260.svg","UPSçµæº_261.svg","UPSçµæº_262.svg","UPSçµæº_263.svg","UPSçµæº_264.svg","UPSçµæº_265.svg","UPSçµæº_266.svg","UPSçµæº_267.svg","UPSçµæº_268.svg","UPSçµæº_269.svg","UPSçµæº_270.svg","UPSçµæº_271.svg","UPSçµæº_272.svg","UPSçµæº_273.svg","UPSçµæº_274.svg","UPSçµæº_275.svg","UPSçµæº_276.svg","UPSçµæº_277.svg","UPSçµæº_278.svg","UPSçµæº_279.svg","UPSçµæº_280.svg","UPSçµæº_281.svg","UPSçµæº_282.svg","UPSçµæº_283.svg","UPSçµæº_284.svg","UPSçµæº_285.svg"],Valve,WarningSign,WashingMachine,WaterHeater};function extractElements(Y,T,k){if(!Y.length||T<0||k<=0||T>=Y.length)return[];const Z=Math.min(k,Y.length-T);return Y.slice(T,T+Z)}function filterBySubstring(Y,T){return!Y||!T?[]:Y.filter(k=>k.toLowerCase().includes(T.toLowerCase()))}function generateUniqueId(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(Y){const T=Math.random()*16|0;return(Y==="x"?T:T&3|8).toString(16)})}async function getImageDetail(Y){try{const T=axios.create(),k=Y.split("/").pop(),ee=await(await T.get(`/api/uploads/hmi_engineer_gallery/${k}`,{responseType:"blob"})).data,me=new URL(Y,window.location.href).pathname.split("/").pop()||"unknown-image",Ve=ee.type.split("/")[1]||"unknown",Ye=`${ee.size}byte`,et=new Image;et.src=Y,await new Promise((it,st)=>{et.onload=it,et.onerror=()=>st(new Error("å¾çå°ºå¯¸è§£æå¤±è´¥"))});const tt=`${et.width}x${et.height}`;return{name:me,imgType:Ve,size:tt,length:Ye}}catch(T){throw console.error("è·åå¾çä¿¡æ¯å¤±è´¥ï¼",T),T}}var on_click$4=(Y,T,k,Z,ee,te)=>{T()(k+get$2(Z)+"/"+ee),set(te,proxy(ee))},root_1$7=template('<div><img draggable="false" class="svelte-6jrxe2"></div>'),root$15=template('<div class="wrapper svelte-6jrxe2"><div class="wrapper-tree svelte-6jrxe2"><div class="wrapper-tree-search svelte-6jrxe2"><!></div> <div class="wrapper-tree-content svelte-6jrxe2"><!></div></div> <div class="wrapper-img svelte-6jrxe2"><div class="top-padding svelte-6jrxe2"></div></div></div>');function SystemGallery(Y,T){push(T,!0);const k=111;let Z=prop(T,"onChange",3,()=>{});const ee="public/svg/extern/";let te=[],ne=state(""),me=state(""),Ve=proxy(new NewTreeFlattener),Ye=state(proxy({scrollTop:0,labelNum:0,height:0})),et=state(proxy([])),tt=state(proxy([])),it=state(void 0),st=state(void 0),nt=state(void 0);onMount(()=>{rt()});const rt=()=>{te=Object.keys(svgData),lt(),T.imgState?ht():ot()},lt=(Ct="")=>{if(Ct!=""){const It=filterBySubstring(te,Ct).map(Ot=>({label:Ot,id:Ot,type:"file"}));Ve.build(It,{},{}),set(tt,proxy(It))}else{const It=te.map(Ot=>({label:Ot,id:Ot,type:"file"}));Ve.build(It,{},{}),set(tt,proxy(It))}},ot=()=>{set(ne,proxy(te[0])),set(Ye,proxy({...get$2(Ye),height:Math.ceil(svgData[get$2(ne)].length/6)*k})),set(et,proxy(extractElements(svgData[get$2(ne)],0,42)))},ht=()=>{get$2(st)&&get$2(it)&&T.imgState&&T.imgState!=""&&tick().then(()=>{const Ct=T.imgState.split("/");set(ne,proxy(Ct[Ct.length-2])),set(nt,proxy(Ct[Ct.length-1]));const It=svgData[get$2(ne)],Ot=It.findIndex(Mt=>Mt===get$2(nt)),Dt=Math.floor(Ot/6);requestAnimationFrame(()=>{const Mt=extractElements(It,Dt*6,42);if(Mt.length<36)if(It.length<36)set(Ye,proxy({...get$2(Ye),height:Math.ceil(It.length/6)*k,scrollTop:0,labelNum:0})),set(et,proxy(extractElements(It,0,36)));else{const $t=It.length;set(et,proxy(extractElements(It,$t-36,36)));const Ht=Math.ceil($t/6);set(Ye,proxy({...get$2(Ye),height:Math.ceil($t/6)*k,scrollTop:(Ht-6)*k,labelNum:Ht-6})),requestAnimationFrame(()=>{var Ft;(Ft=get$2(it))==null||Ft.scrollTo(0,(Ht-6)*k)})}else set(Ye,proxy({...get$2(Ye),height:Math.ceil(It.length/6)*k,scrollTop:Dt*k,labelNum:Dt})),requestAnimationFrame(()=>{var $t;($t=get$2(it))==null||$t.scrollTo(0,Dt*k)}),set(et,proxy(Mt))})})},dt=Ct=>{if(get$2(st)){const It=svgData[get$2(ne)],Ot=Math.floor(Ct/k);get$2(st).style.padding=`${Ot*k}px 0px 0px 0px`,get$2(Ye).labelNum=Ot,set(et,proxy(extractElements(It,Ot*6,42)))}},ct=Ct=>{const Ot=Ct.target.scrollTop;get$2(st)&&requestAnimationFrame(()=>{dt(Ot)})},ut=()=>{if(get$2(st)&&get$2(it)){const Ct=svgData[get$2(ne)];set(et,proxy(Ct));const It=0;get$2(st).style.padding=`${It*k}px 0px 0px 0px`,set(Ye,proxy({scrollTop:0,labelNum:It,height:Math.ceil(Ct.length/6)*k})),set(et,proxy(extractElements(Ct,It*6,42))),get$2(it).scrollTo(0,0)}},ft=()=>{if(T.imgState&&T.imgState!=""){const Ct=T.imgState.split("/");set(nt,proxy(Ct[Ct.length-1])),get$2(ne)===Ct[Ct.length-2]?ht():ut()}else ut()};var vt=root$15(),mt=child(vt),_t=child(mt),Et=child(_t);LabelInput(Et,{label:"",type:"string",onChange:Ct=>{lt(Ct)},get value(){return get$2(me)},set value(Ct){set(me,proxy(Ct))}});var Tt=sibling(_t,2),xt=child(Tt);const yt=derived$1(()=>[get$2(ne)]);CommonTree(xt,{get treeFlattenerData(){return Ve},get treeData(){return get$2(tt)},get selectNode(){return get$2(yt)},onSelect:Ct=>{get$2(ne)!=Ct.source.id&&(set(ne,proxy(Ct.source.id)),requestAnimationFrame(()=>{ft()}))}});var St=sibling(mt,2),At=child(St);each(At,22,()=>get$2(et),Ct=>Ct,(Ct,It)=>{var Ot=root_1$7();Ot.__click=[on_click$4,Z,ee,ne,It,nt];var Dt=child(Ot);template_effect(()=>{set_class(Ot,1,`img-item ${(It===get$2(nt)?"img-item-select":"")??""}`,"svelte-6jrxe2"),set_attribute(Dt,"src",ee+get$2(ne)+"/"+It),set_attribute(Dt,"alt",It)}),append(Ct,Ot)}),bind_this(At,Ct=>set(st,Ct),()=>get$2(st)),bind_this(St,Ct=>set(it,Ct),()=>get$2(it)),template_effect(()=>set_style(At,`height: ${get$2(Ye).height??""}px;padding:${get$2(Ye).scrollTop??""}px 0px 0px;`)),event("scroll",St,ct),append(Y,vt),pop()}delegate(["click"]);const https={baseURL:"http://win-20240531qrt:3000"},instance=axios.create({baseURL:https.baseURL,timeout:3e3,headers:{"Content-Type":"application/json;charset=utf-8"}});instance.interceptors.request.use(Y=>Y,Y=>(console.error("è¯·æ±éç½®éè¯¯ï¼",Y),Promise.reject(Y)));instance.interceptors.response.use(Y=>Y.data,Y=>(console.error("ååºéè¯¯ï¼",Y),Y.response&&console.log(Y.response),Promise.reject(Y)));const getFileByProject=async Y=>await instance.get(`/files/${Y}`),uploadFile=async(Y,T)=>{const k=new FormData;k.append("myFile",Y),k.append("project",T);try{return(await instance.post("/upload",k,{headers:{"Content-Type":"multipart/form-data"}})).status}catch{}},deleteFile=async(Y,T)=>{try{return await instance.post("/files/delete",{project:T,files:Y})}catch{return 400}},baseURL=https.baseURL,deleteSelectedImage=(Y,T,k,Z,ee)=>{if(get$2(T)!==null){const te=get$2(k)[get$2(T)];te.startsWith("blob:")&&URL.revokeObjectURL(te),get$2(Z).some(me=>`${baseURL}${me.src}`===get$2(k)[get$2(T)])&&ee.push(get$2(k)[get$2(T)]),get$2(k).splice(get$2(T),1),set(T,null)}};var root_1$6=template('<div><img style="width: 100%; height: 100%; object-fit: cover;"></div>'),root_3$3=template('<div class="wrapper-img-detail-item svelte-o681qg"><pre class="svelte-o681qg">å¾çåç§°:</pre> <!></div> <div class="wrapper-img-detail-item svelte-o681qg"><pre class="svelte-o681qg">ç±»    å:</pre> <!></div> <div class="wrapper-img-detail-item svelte-o681qg"><pre class="svelte-o681qg">å¤§    å°:</pre> <!></div> <div class="wrapper-img-detail-item svelte-o681qg"><pre class="svelte-o681qg">å°º    å¯¸:</pre> <!></div>',1),root_4$1=template('<div style="color: #fff; margin-top: 20px; text-align: center;">è¯·éæ©ä¸å¼ å¾ç</div>'),on_click$3=(Y,T,k,Z,ee,te,ne)=>{T.forEach(me=>{uploadFile(me.file,k)}),Z.length&&deleteFile(Z.map(me=>me.split("/").pop()),k),get$2(ee)!==null?te()(get$2(ne)[get$2(ee)]):te()(null)},on_click_1$1=(Y,T)=>{T()()},root$14=template('<div class="wrapper svelte-o681qg"><div class="wrapper-top svelte-o681qg"><div class="wrapper-img-list svelte-o681qg"><div class="wrapper-img-list-hidden svelte-o681qg"></div></div> <div class="wrapper-img-detail svelte-o681qg"><!></div></div> <div class="wrapper-bottom svelte-o681qg"><div class="wrapper-bottom-gap svelte-o681qg"><label class="simulate-button svelte-o681qg" for="add-image">æ·»å å¾ç <input id="add-image" style="display: none;" type="file" accept="image/*" multiple></label> <button class="svelte-o681qg">å é¤å¾ç</button></div> <div><button class="svelte-o681qg">ç¡®å®</button> <button class="svelte-o681qg">åæ¶</button></div></div></div>');function EngineerGallery(Y,T){push(T,!0);let k=prop(T,"onConfirm",3,()=>{}),Z=prop(T,"onCancel",3,()=>{});const ee="hmi_engineer_gallery";let te=state(proxy([])),ne=state(proxy([])),me=proxy([]),Ve=proxy([]),Ye=state(null),et=state(null);user_effect(()=>{T.engineerImgState,requestAnimationFrame(()=>{set(Ye,proxy(get$2(ne).findIndex(St=>(console.log(St.src,T.engineerImgState),`${baseURL}${St.src}`===T.engineerImgState))))})});const tt=St=>{const At=St.target,Ct=At.files;if(Ct&&Ct.length>0){for(let It=0;It<Ct.length;It++)it(Ct[It]);At.value=""}},it=St=>{const At=new File([St],`${generateUniqueId()}.${St.name.split(".").pop()}`,{type:St.type,lastModified:St.lastModified}),Ct=URL.createObjectURL(At);me.push({file:At,src:Ct}),get$2(te).push(Ct)},st=St=>{set(Ye,proxy(St)),getImageDetail(get$2(te)[get$2(Ye)]).then(At=>{set(et,proxy(At))})};onMount(()=>{getFileByProject(ee).then(St=>{set(ne,proxy(St));for(let At=0;At<St.length;At++)set(te,proxy(get$2(ne).map(Ct=>`${baseURL}${Ct.src}`)))})});var nt=root$14(),rt=child(nt),lt=child(rt),ot=child(lt);each(ot,21,()=>get$2(te),index,(St,At,Ct)=>{var It=root_1$6();It.__click=()=>st(Ct);var Ot=child(It);template_effect(()=>{set_class(It,1,`img-list-item ${get$2(Ye)===Ct?"img-list-item-select":""}`,"svelte-o681qg"),set_attribute(Ot,"src",get$2(At)),set_attribute(Ot,"alt",get$2(At))}),append(St,It)});var ht=sibling(lt,2),dt=child(ht);{var ct=St=>{var At=comment(),Ct=first_child(At);key_block(Ct,()=>{var It;return((It=get$2(et))==null?void 0:It.name)+get$2(Ye)},It=>{var Ot=root_3$3(),Dt=first_child(Ot),Mt=sibling(child(Dt),2);LabelInput(Mt,{label:"",disabled:!0,direction:"horizontal",get value(){return get$2(et).name}});var $t=sibling(Dt,2),Ht=sibling(child($t),2);const Ft=derived$1(()=>get$2(et).imgType||"æªç¥ç±»å");LabelInput(Ht,{label:"",disabled:!0,direction:"horizontal",get value(){return get$2(Ft)}});var jt=sibling($t,2),Gt=sibling(child(jt),2);const Kt=derived$1(()=>`${get$2(et).length}`);LabelInput(Gt,{label:"",disabled:!0,direction:"horizontal",get value(){return get$2(Kt)}});var Pt=sibling(jt,2),kt=sibling(child(Pt),2);const zt=derived$1(()=>`${get$2(et).size}`);LabelInput(kt,{label:"",disabled:!0,directio:"horizontal",get value(){return get$2(zt)}}),append(It,Ot)}),append(St,At)},ut=St=>{var At=root_4$1();append(St,At)};if_block(dt,St=>{get$2(et)!==null?St(ct):St(ut,!1)})}var ft=sibling(rt,2),vt=child(ft),mt=child(vt),_t=sibling(child(mt));_t.__change=tt;var Et=sibling(mt,2);Et.__click=[deleteSelectedImage,Ye,te,ne,Ve];var Tt=sibling(vt,2),xt=child(Tt);xt.__click=[on_click$3,me,ee,Ve,Ye,k,te];var yt=sibling(xt,2);yt.__click=[on_click_1$1,Z],append(Y,nt),pop()}delegate(["click","change"]);var on_click$2=(Y,T)=>{set(T,!get$2(T))},on_click_1=(Y,T)=>{set(T,!get$2(T))},on_click_2=(Y,T,k)=>{set(T,""),set(k,""),window.API.message.globalMessageNotice({type:"success",message:"å é¤æå"})},root_1$5=template('<div class="commonWrapper svelte-7gtqj0"><!></div>'),on_click_3=(Y,T,k,Z)=>{set(T,!1),get$2(k)&&get$2(k)!=""&&set(Z,proxy(get$2(k))),set(k,"")},on_click_4=(Y,T,k)=>{set(T,!1),set(k,"")},root_4=template('<!> <div class="commonWrapper-op svelte-7gtqj0"><button class="svelte-7gtqj0">åºç¨</button> <button class="svelte-7gtqj0">åæ¶</button></div>',1),root_3$2=template('<div class="commonWrapper svelte-7gtqj0"><!></div>'),root$13=template('<div class="appearanceAttributes svelte-7gtqj0"><button class="svelte-7gtqj0">ç³»ç»å¾åº</button> <button class="svelte-7gtqj0">å·¥ç¨å¾åº</button> <button class="svelte-7gtqj0">å é¤å¾ç</button></div> <!> <!>',1);function Gallery(Y){let T=state(!1),k=state(!1),Z=state(""),ee=state(""),te=state(null);var ne=root$13(),me=first_child(ne),Ve=child(me);Ve.__click=[on_click$2,T];var Ye=sibling(Ve,2);Ye.__click=[on_click_1,k];var et=sibling(Ye,2);et.__click=[on_click_2,Z,ee];var tt=sibling(me,2);CommonModalLogic(tt,{isStretchable:!1,haveCurtain:!0,styled:{height:520,width:985},get isOpenState(){return get$2(k)},set isOpenState(st){set(k,proxy(st))},children:(st,nt)=>{var rt=root_1$5(),lt=child(rt);key_block(lt,()=>get$2(k),ot=>{EngineerGallery(ot,{get engineerImgState(){return get$2(te)},onConfirm:ht=>{set(te,proxy(ht)),set(k,!1)},onCancel:()=>{set(k,!1)}})}),append(st,rt)},$$slots:{default:!0}});var it=sibling(tt,2);CommonModalLogic(it,{isStretchable:!1,haveCurtain:!0,styled:{height:718,width:900},get isOpenState(){return get$2(T)},set isOpenState(st){set(T,proxy(st))},children:(st,nt)=>{var rt=root_3$2(),lt=child(rt);key_block(lt,()=>get$2(T),ot=>{var ht=root_4(),dt=first_child(ht);SystemGallery(dt,{onChange:vt=>{set(ee,proxy(vt))},get imgState(){return get$2(Z)},set imgState(vt){set(Z,proxy(vt))}});var ct=sibling(dt,2),ut=child(ct);ut.__click=[on_click_3,T,ee,Z];var ft=sibling(ut,2);ft.__click=[on_click_4,T,ee],append(ot,ht)}),append(st,rt)},$$slots:{default:!0}}),append(Y,ne)}delegate(["click"]);var root_1$4=template('<div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div>',1),root$12=template('<div class="wrapper"><div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-card"><div class="label-title"><!></div> <div><!></div> <!></div></div>');function CurvePoint(Y,T){let k=prop(T,"showCurveStr",3,"æ¾ç¤ºYè½´æ²çº¿"),Z=prop(T,"isOnlyFontSize",3,!1);var ee=root$12(),te=child(ee),ne=child(te);LabelInput(ne,{label:"æ¾ç¤ºå»åº¦",type:"checkbox",value:!0});var me=sibling(ne,2);LabelInput(me,{get label(){return k()},type:"checkbox",value:!0});var Ve=sibling(te,2),Ye=child(Ve);LabelInput(Ye,{direction:"horizontal",label:"è½´/å»åº¦é¢è²",type:"color",value:"#ffffff"});var et=sibling(Ye,2);LabelInput(et,{direction:"horizontal",label:"æ ¼çº¿é¢è²",type:"color",value:"#ffffff"});var tt=sibling(Ve,2),it=child(tt);LabelInput(it,{label:"ä¸»åéæ°",type:"number",value:4});var st=sibling(it,2);LabelInput(st,{label:"æ¬¡åéæ°",type:"number",value:2});var nt=sibling(tt,2),rt=child(nt),lt=child(rt);LabelInput(lt,{label:"æ¾ç¤ºå»åº¦æ ç¤º",type:"checkbox",value:!1});var ot=sibling(rt,2),ht=child(ot);LabelInput(ht,{label:"å­ä½å¤§å°",type:"option",options:[],value:null});var dt=sibling(ot,2);{var ct=ut=>{var ft=root_1$4(),vt=first_child(ft),mt=child(vt);LabelInput(mt,{label:"æå°å¼",type:"number",value:0});var _t=sibling(mt,2);LabelInput(_t,{label:"æå¤§å¼",type:"number",value:1e3});var Et=sibling(vt,2),Tt=child(Et);LabelInput(Tt,{label:"æ»ä½æ°",type:"number",value:4});var xt=sibling(Tt,2);LabelInput(xt,{label:"å°æ°ä½æ°",type:"number",value:0}),append(ut,ft)};if_block(dt,ut=>{Z()&&ut(ct)})}append(Y,ee)}var root_2$1=template('<div class="labelInput svelte-14nc5pk"><!></div> <div><!></div>',1),root_3$1=template('<div class="label-card"><div class="label-title">èå´æ¾ç¤ºè®¾ç½®</div> <div><!></div> <div><!></div> <div><!></div></div>'),root_1$3=template('<div class="wrapper"><div class="label-card"><div class="label-title">å­ä½</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æ¾ç¤º</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="flex gap-2"><!></div></div> <div class="label-card"><div class="label-title">é¢è²è®¾ç½®</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div><!></div></div> <div class="label-card"><div class="label-title">å¤å½¢å±æ§</div> <!></div> <!> <div><!></div> <div><!></div></div>');function DisplayNumeri(Y,T){var te;push(T,!0);let k=prop(T,"isAscii",3,!1),Z=prop(T,"isTime",3,!1),ee=proxy({fontType:optionFontType[0].value,fontSize:optionFontSize[0].value,totalDigits:5,decimalDigits:0,alignType:0,formatAdjust:0,customDisplay:!1,customValue:"",valueColor:"#ffffff",valueBgColor:"#ffffff",opacity:255,lowBitBgColor:"#ffffff",highBitBgColor:"#ffffff",rangeType:((te=optionRangeType[0])==null?void 0:te.value)||"",lowLimit:0,highLimit:0,terminal3DEffect:!1,transparentEffect:!1});WgtAccordionItem(Y,{label:"Displayer",children:(ne,me)=>{var Ve=root_1$3(),Ye=child(Ve),et=sibling(child(Ye),2),tt=child(et);LabelInput(tt,{label:"å­ä½",type:"option",options:optionFontType,get value(){return ee.fontType},set value(zt){ee.fontType=zt}});var it=sibling(tt,2);LabelInput(it,{label:"å­ä½å¤§å°",type:"option",options:optionFontSize,get value(){return ee.fontSize},set value(zt){ee.fontSize=zt}});var st=sibling(Ye,2),nt=sibling(child(st),2),rt=child(nt);const lt=derived$1(()=>Z()?"æ¾ç¤ºå­ç¬¦æ°":"æ»ä½æ°");LabelInput(rt,{get label(){return get$2(lt)},type:"number",get value(){return ee.totalDigits},set value(zt){ee.totalDigits=zt}});var ot=sibling(rt,2);const ht=derived$1(()=>k()||Z());LabelInput(ot,{label:"å°æ°ä½æ°",type:"number",get disabled(){return get$2(ht)},get value(){return ee.decimalDigits},set value(zt){ee.decimalDigits=zt}});var dt=sibling(nt,2),ct=child(dt);LabelInput(ct,{label:"æ ·å¼",type:"option",options:optionAlignType,get value(){return ee.alignType},set value(zt){ee.alignType=zt}});var ut=sibling(ct,2);const ft=derived$1(()=>k()||Z());LabelInput(ut,{label:"è°æ´",type:"option",get disabled(){return get$2(ft)},options:optionFormatAdjust,get value(){return ee.formatAdjust},set value(zt){ee.formatAdjust=zt}});var vt=sibling(dt,2),mt=child(vt);{var _t=zt=>{var Wt=root_2$1(),si=first_child(Wt),ei=child(si);LabelInput(ei,{label:"èªå®ä¹æ¾ç¤º",type:"checkbox",get value(){return ee.customDisplay},set value(di){ee.customDisplay=di}});var Zt=sibling(si,2),Jt=child(Zt);const ti=derived$1(()=>!ee.customDisplay);LabelInput(Jt,{label:"",type:"string",get disabled(){return get$2(ti)},get value(){return ee.customValue},set value(di){ee.customValue=di}}),append(zt,Wt)};if_block(mt,zt=>{k()||zt(_t)})}var Et=sibling(st,2),Tt=sibling(child(Et),2),xt=child(Tt);LabelInput(xt,{label:"æ°å¼é¢è²",type:"color",direction:"horizontal",get value(){return ee.valueColor},set value(zt){ee.valueColor=zt}});var yt=sibling(xt,2);LabelInput(yt,{label:"æ°å¼èæ¯é¢è²",type:"color",direction:"horizontal",get value(){return ee.valueBgColor},set value(zt){ee.valueBgColor=zt}});var St=sibling(Tt,2),At=child(St);const Ct=derived$1(()=>k()||Z());LabelInput(At,{label:"ä½ä½èæ¯è²",type:"color",direction:"horizontal",get disabled(){return get$2(Ct)},get value(){return ee.lowBitBgColor},set value(zt){ee.lowBitBgColor=zt}});var It=sibling(At,2);const Ot=derived$1(()=>k()||Z());LabelInput(It,{label:"é«ä½èæ¯è²",type:"color",direction:"horizontal",get disabled(){return get$2(Ot)},get value(){return ee.highBitBgColor},set value(zt){ee.highBitBgColor=zt}});var Dt=sibling(St,2),Mt=child(Dt);LabelInput(Mt,{label:"éæåº¦",direction:"horizontal",type:"number",min:0,max:255,get value(){return ee.opacity},set value(zt){ee.opacity=zt}});var $t=sibling(Et,2),Ht=sibling(child($t),2);Gallery(Ht);var Ft=sibling($t,2);{var jt=zt=>{var Wt=root_3$1(),si=sibling(child(Wt),2),ei=child(si);LabelInput(ei,{label:"èå´ç±»å",type:"option",options:optionRangeType,get value(){return ee.rangeType},set value(Qt){ee.rangeType=Qt}});var Zt=sibling(si,2),Jt=child(Zt);LabelInput(Jt,{label:"ä½éå¼",type:"number",get value(){return ee.lowLimit},set value(Qt){ee.lowLimit=Qt}});var ti=sibling(Zt,2),di=child(ti);LabelInput(di,{label:"é«éå¼",type:"number",get value(){return ee.highLimit},set value(Qt){ee.highLimit=Qt}}),append(zt,Wt)};if_block(Ft,zt=>{!k()&&!Z()&&zt(jt)})}var Gt=sibling(Ft,2),Kt=child(Gt);LabelInput(Kt,{label:"ç»ç«¯3Dæé®ææ",type:"checkbox",get value(){return ee.terminal3DEffect},set value(zt){ee.terminal3DEffect=zt}});var Pt=sibling(Gt,2),kt=child(Pt);LabelInput(kt,{label:"éæææ",type:"checkbox",get value(){return ee.transparentEffect},set value(zt){ee.transparentEffect=zt}}),append(ne,Ve)},$$slots:{default:!0}}),pop()}function ASCIIDisplay$2(Y,T){DisplayNumeri(Y,{isAscii:!0})}var root$11=template('<div class="wrapper"><div class="label-card"><div class="label-title">å¡«å</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">å¶ä»</div> <div class="label-row"><!> <!></div> <div><!></div></div></div> <stype lang="scss"></stype>',1);function BarChart$2(Y,T){push(T,!0);var k=root$11(),Z=first_child(k),ee=child(Z),te=sibling(child(ee),2),ne=child(te);LabelInput(ne,{label:"æ±ç¶è²",type:"color",direction:"horizontal",value:"#234432"});var me=sibling(ne,2);LabelInput(me,{label:"èæ¯è²",type:"color",direction:"horizontal",value:"#222222"});var Ve=sibling(ee,2),Ye=sibling(child(Ve),2),et=child(Ye);LabelInput(et,{label:"å¾æ¡",type:"option",direction:"horizontal",options:optionsGradientStyle,get value(){return optionsGradientStyle[0].value}});var tt=sibling(et,2);LabelInput(tt,{label:"å¾æ¡è²",type:"color",direction:"horizontal",value:"#432234"});var it=sibling(Ye,2),st=child(it);LabelInput(st,{label:"æ¹å",type:"option",options:optionTextDir,get value(){return optionTextDir[0].value}}),append(Y,k),pop()}var root$10=template('<div class="wrapper"><div class="label-card"><div class="label-title">è®¾ç½®</div> <div class="label-row"><!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">ææ¬å±æ§</div> <div class="textarea-wrapper"><div contenteditable="true" class="label-textarea"></div></div> <div class="label-row"><!> <!> <!></div> <div class="label-row"><!> <!> <!></div> <div class="label-row"><!></div> <div><button class="label-button">ä»1ç¶æå¤å¶æå­å±æ§</button></div> <div class="label-card"><div class="label-title">å¤å½¢å±æ§</div> <div><!></div> <!> <div class="label-row"><!> <!></div></div></div></div>');function DisplayButton(Y,T){push(T,!0);let k=prop(T,"hasPressEffect",3,!0);var Z=root$10(),ee=child(Z),te=sibling(child(ee),2),ne=child(te);LabelInput(ne,{label:"éæ©ç¶æ",direction:"horizontal",type:"number",value:1});var me=sibling(te,2),Ve=child(me);LabelInput(Ve,{label:"ææ¬éªç",type:"checkbox",value:!1});var Ye=sibling(Ve,2);{var et=Ct=>{LabelInput(Ct,{label:"æä¸ææ",type:"checkbox",value:!1})};if_block(Ye,Ct=>{k()&&Ct(et)})}var tt=sibling(me,2),it=child(tt);LabelInput(it,{label:"è¯­è¨",type:"option",direction:"horizontal",options:optionLanguageType,get value(){return optionLanguageType[0].value}});var st=sibling(it,2);LabelInput(st,{label:"ä½¿ç¨åä¸ç§è¯­è¨",type:"checkbox",value:!1});var nt=sibling(ee,2),rt=sibling(child(nt),4),lt=child(rt);LabelInput(lt,{label:"ç²ä½",type:"checkbox",value:!1});var ot=sibling(lt,2);LabelInput(ot,{label:"æä½",type:"checkbox",value:!1});var ht=sibling(ot,2);LabelInput(ht,{label:"ä¸åçº¿",type:"checkbox",value:!1});var dt=sibling(rt,2),ct=child(dt);LabelInput(ct,{label:"å­ä½",type:"option",options:optionFontByButton,get value(){return optionFontByButton[2].value}});var ut=sibling(ct,2);LabelInput(ut,{label:"å¤§å°",type:"number",value:16});var ft=sibling(ut,2);LabelInput(ft,{label:"å¯¹é½",type:"option",options:optionAlignType,get value(){return optionAlignType[1].value}});var vt=sibling(dt,2),mt=child(vt);LabelInput(mt,{direction:"horizontal",label:"ææ¬è²",type:"color",value:"#123456"});var _t=sibling(vt,4),Et=sibling(child(_t),2),Tt=child(Et);LabelInput(Tt,{label:"å¾åºè·¯å¾",type:"string",value:"asdfghj"});var xt=sibling(Et,2);Gallery(xt);var yt=sibling(xt,2),St=child(yt);LabelInput(St,{label:"ç»ç«¯3Dæé®ææ",type:"checkbox",value:!1});var At=sibling(St,2);LabelInput(At,{label:"ä½¿ç¨éæææ",type:"checkbox",value:!0}),append(Y,Z),pop()}function BitButton$3(Y,T){DisplayButton(Y,{hasPressEffect:!1,get props(){return T.props}})}var root$$=template('<div class="wrapper"><div class="label-card"><div class="label-title">Xè½´</div> <!></div> <div class="label-card"><div class="label-title">Yè½´</div> <!></div></div>');function DataGroup$2(Y,T){var k=root$$(),Z=child(k),ee=sibling(child(Z),2);CurvePoint(ee,{isOnlyFontSize:!0});var te=sibling(Z,2),ne=sibling(child(te),2);CurvePoint(ne,{showCurveStr:"æ¾ç¤ºXè½´æ²çº¿"}),append(Y,k)}var root$_=template('<div class="label-card"><div class="label-title">é¢è²</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">å±æ§</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <div class="label-labelInput-center"><!></div></div></div>',1);function FlowBlock$1(Y,T){var k=root$_(),Z=first_child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"æµå¨ååæ¯è²",type:"color",value:"#ffffff"});var ne=sibling(te,2);LabelInput(ne,{label:"æµå¨åèæ¯è²",type:"color",value:"#ff0000"});var me=sibling(ee,2),Ve=child(me);LabelInput(Ve,{label:"ç®¡éåæ¯è²",type:"color",value:"#ffffff"});var Ye=sibling(Ve,2);LabelInput(Ye,{label:"ç®¡éèæ¯è²",type:"color",value:"#ffffff"});var et=sibling(me,2),tt=child(et);LabelInput(tt,{label:"è¾¹æ¡è²",type:"color",value:"#000000"});var it=sibling(tt,2);LabelInput(it,{label:"æ ·å¼",type:"option",options:[],value:0});var st=sibling(Z,2),nt=sibling(child(st),2),rt=child(nt);LabelInput(rt,{label:"çè§å°å",value:"LV0"});var lt=sibling(rt,2);LabelInput(lt,{label:"æµå¨åæ°",type:"number",value:3});var ot=sibling(nt,2),ht=child(ot);LabelInput(ht,{label:"æµå¨æ¹å",type:"option",options:[],value:0});var dt=sibling(ht,2);LabelInput(dt,{label:"æµå¨éåº¦",type:"option",options:[],value:0});var ct=sibling(ot,2),ut=child(ct);LabelInput(ut,{label:"æ¾ç¤ºæ¹å¼",type:"option",options:[],value:0});var ft=sibling(ut,2),vt=child(ft);LabelInput(vt,{label:"æ è¾¹çº¿",type:"checkbox",value:!0}),append(Y,k)}function FunctionButton$2(Y,T){DisplayButton(Y,{})}var on_click$1=(Y,T)=>{set(T,!get$2(T))},root_1$2=template('<div class="commonWrapper"><!></div>'),root$Z=template('<div class="wrapper"><div class="label-card"><div class="label-title">éæ©å¾ç</div> <button class="label-button">éæ©å¾ç</button></div> <div class="label-card"><div class="label-title">æ§å¶</div> <div><!></div> <div><!></div> <div><!></div></div></div> <!>',1);function GIFMonitor$1(Y,T){let k=state(!1),Z=state(null);var ee=root$Z(),te=first_child(ee),ne=child(te),me=sibling(child(ne),2);me.__click=[on_click$1,k];var Ve=sibling(ne,2),Ye=sibling(child(Ve),2),et=child(Ye);LabelInput(et,{label:"åä½æ§å¶",type:"checkbox",value:!1});var tt=sibling(Ye,2),it=child(tt);LabelInput(it,{label:"æ§å¶ä½",type:"string",value:"LB0"});var st=sibling(tt,2),nt=child(st);LabelInput(nt,{label:"ææç¶æ",type:"radio",direction:"horizontal",options:optionManifestationState,value:null});var rt=sibling(te,2);CommonModalLogic(rt,{isStretchable:!1,haveCurtain:!0,styled:{height:520,width:985},get isOpenState(){return get$2(k)},set isOpenState(lt){set(k,proxy(lt))},children:(lt,ot)=>{var ht=root_1$2(),dt=child(ht);key_block(dt,()=>get$2(k),ct=>{EngineerGallery(ct,{get engineerImgState(){return get$2(Z)},onConfirm:ut=>{set(Z,proxy(ut)),set(k,!1)},onCancel:()=>{set(k,!1)}})}),append(lt,ht)},$$slots:{default:!0}}),append(Y,ee)}delegate(["click"]);var root$Y=template('<div class="wrapper"><div class="label-card"><div class="label-title">æ¾ç¤ºç±»å</div> <div><!></div></div> <div class="label-card"><div class="label-title">ç¶æåæ¢æ¡ä»¶</div> <div><!></div> <div class="label-card"><div class="label-title">åæ§è®¾ç½®</div> <div class="label-row"><!> <!></div> <div class="label-row"><!>X100ms</div></div></div></div>');function ImageMonitor$1(Y,T){push(T,!0);var k=root$Y(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"",direction:"horizontal",type:"radio",options:optionDisplayType,get value(){return optionDisplayType[0].value}});var ne=sibling(Z,2),me=sibling(child(ne),2),Ve=child(me);LabelInput(Ve,{label:"",direction:"horizontal",type:"radio",options:optionStateTransitionConditionByStaticImage,get value(){return optionStateTransitionConditionByStaticImage[0].value}});var Ye=sibling(me,2),et=sibling(child(Ye),2),tt=child(et);LabelInput(tt,{direction:"horizontal",label:"æ»ç¶ææ°",type:"number",value:1});var it=sibling(tt,2);LabelInput(it,{direction:"horizontal",label:"çè§å°å",type:"string",value:""});var st=sibling(et,2),nt=child(st);LabelInput(nt,{label:"é´éæ¶é´",direction:"horizontal",type:"number",value:1}),append(Y,k),pop()}function IndicatorLight$2(Y,T){DisplayButton(Y,{hasPressEffect:!1})}var root$X=template('<div class="wrapper"><div class="label-card"><div class="label-title">é¢è²</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æ¾ç¤ºä¸»å»åº¦</div> <div><!></div> <div class="label-row"><!> <!></div> <div><!></div> <div><!></div></div> <div class="label-card"><div class="label-row"><div class="label-labelInput-center"><!></div> <!></div></div></div>');function InstrumentChart$2(Y,T){var k=root$X(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"æ¾ç¤ºé¢è²",type:"color",value:"#ffffff"});var ne=sibling(te,2);LabelInput(ne,{label:"èæ¯é¢è²",type:"color",value:"#ffffff"});var me=sibling(Z,2),Ve=sibling(child(me),2),Ye=child(Ve);LabelInput(Ye,{label:"ä¸»å»åº¦åå²æ°",type:"number",value:4});var et=sibling(Ve,2),tt=child(et);LabelInput(tt,{label:"æ¾ç¤ºå»åº¦å¼",type:"checkbox",value:!1});var it=sibling(tt,2);LabelInput(it,{label:"æ¾ç¤ºå»åº¦è½´",type:"checkbox",value:!1});var st=sibling(et,2),nt=child(st);LabelInput(nt,{label:"å»åº¦å­ä½å¤§å°",type:"number",value:12});var rt=sibling(st,2),lt=child(rt);LabelInput(lt,{label:"æ å°ºé¢è²",type:"color",value:"#ffffff"});var ot=sibling(me,2),ht=child(ot),dt=child(ht),ct=child(dt);LabelInput(ct,{label:"æ¾ç¤ºæ¬¡å»åº¦",type:"checkbox",value:!1});var ut=sibling(dt,2);LabelInput(ut,{label:"æ¬¡å»åº¦åå²æ°",type:"number",value:2}),append(Y,k)}var root$W=template('<div class="wrapper"><div class="label-card"><div class="label-title">æ»è½®å±æ§</div> <div class="flex items-end gap-2 flex-wrap"><!> <!></div> <!></div> <div class="label-card"><div class="label-title">èå´è®¾ç½®</div> <!> <div class="flex items-end gap-2 flex-wrap"><!> <!></div></div></div>');function MoveTrail$1(Y,T){var k=root$W(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"åå¥å°å",value:"LV0"});var ne=sibling(te,2);LabelInput(ne,{label:"ç§»å¨è·ç¦»",type:"number",value:20});var me=sibling(ee,2);LabelInput(me,{label:"æ¹å",type:"option",options:optionDir,value:0});var Ve=sibling(Z,2),Ye=sibling(child(Ve),2);LabelInput(Ye,{label:"èå´ç±»å",type:"option",options:optionDir,value:0});var et=sibling(Ye,2),tt=child(et);LabelInput(tt,{label:"æå°å¼",type:"number",value:0});var it=sibling(tt,2);LabelInput(it,{label:"æå¤§å¼",type:"number",value:100}),append(Y,k)}function MultiFunctionButton$2(Y,T){DisplayButton(Y,{hasPressEffect:!1})}function NumeriDisplay$2(Y,T){DisplayNumeri(Y,{})}function PolymorphicButton$2(Y,T){DisplayButton(Y,{hasPressEffect:!1})}var root$V=template('<div class="wrapper"><!> <div class="flex items-end gap-2 flex-wrap"><!> <div style="margin-bottom: 7px;"><!></div></div> <!> <!></div>');function QRcode$1(Y,T){var k=root$V(),Z=child(k);LabelInput(Z,{label:"çè§å°å",value:"LV0"});var ee=sibling(Z,2),te=child(ee);LabelInput(te,{label:"ç¼ç æ¹å¼",type:"option",options:optionEncodingMethod,value:"LV0"});var ne=sibling(te,2),me=child(ne);LabelInput(me,{label:"é«ä½å­èäºæ¢",type:"checkbox",value:!0});var Ve=sibling(ee,2);LabelInput(Ve,{label:"å­ç¬¦é¿åº¦",type:"number",value:25});var Ye=sibling(Ve,2);LabelInput(Ye,{label:"æè¿°",value:""}),append(Y,k)}var root$U=template('<div class="wrapper"><div class="label-card"><div class="label-title">æ»è½®å±æ§</div> <div class="label-row"><!> <!></div> <div><!></div></div> <div class="label-card"><div class="label-title">æ°å­æ¾ç¤ºè®¾ç½®å±æ§</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div></div>');function Roller$1(Y,T){var k=root$U(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"åå¥å°å",value:"LV0"});var ne=sibling(te,2);LabelInput(ne,{label:"çµæåº¦",type:"number",value:20});var me=sibling(ee,2),Ve=child(me);LabelInput(Ve,{label:"æ»å¨ç»å",type:"checkbox",value:!0});var Ye=sibling(Z,2),et=sibling(child(Ye),2),tt=child(et);LabelInput(tt,{type:"color",label:"èæ¯é¢è²",value:"#0000ff"});var it=sibling(tt,2);LabelInput(it,{type:"color",label:"ä½äº®ææ¬è²",value:"#000000"});var st=sibling(et,2),nt=child(st);LabelInput(nt,{label:"éæåº¦",type:"number",value:255});var rt=sibling(nt,2);LabelInput(rt,{label:"ä½äº®å¤§å°",type:"number",value:16});var lt=sibling(st,2),ot=child(lt);LabelInput(ot,{type:"color",label:"é«äº®ææ¬è²",value:"#ffffff",opa:255});var ht=sibling(ot,2);LabelInput(ht,{label:"é«äº®å¤§å°",type:"number",value:24});var dt=sibling(lt,2),ct=child(dt);LabelInput(ct,{label:"æå°å¼",type:"number",value:0});var ut=sibling(ct,2);LabelInput(ut,{label:"æå¤§å¼",type:"number",value:100});var ft=sibling(dt,2),vt=child(ft);LabelInput(vt,{label:"æ­¥è·",type:"number",value:1});var mt=sibling(vt,2);LabelInput(mt,{label:"å½åæ°ç®",type:"number",value:3}),append(Y,k)}var root$T=template('<div class="label-card"><div class="flex items-center gap-2 flex-wrap"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div><!></div> <div class="flex items-center gap-2 flex-wrap"><!> <!></div></div>');function Scale(Y,T){var k=root$T(),Z=child(k),ee=child(Z);LabelInput(ee,{label:"å­ä½å¤§å°",type:"option",options:optionFontSize,value:"16"});var te=sibling(ee,2);LabelInput(te,{label:"å»åº¦æ°é",type:"option",options:optionTextDir,value:"up"});var ne=sibling(Z,2),me=child(ne);LabelInput(me,{label:"ä½ç½®",type:"option",options:optionDir,value:2});var Ve=sibling(me,2);LabelInput(Ve,{label:"æå°å¼",type:"number",value:0});var Ye=sibling(ne,2),et=child(Ye);LabelInput(et,{label:"æå¤§å¼",type:"number",value:100});var tt=sibling(et,2);LabelInput(tt,{label:"å°æ°ä½",type:"number",value:100});var it=sibling(Ye,2),st=child(it);LabelInput(st,{label:"æ¾ç¤ºå»åº¦å¼",type:"checkbox",value:!0});var nt=sibling(it,2),rt=child(nt);LabelInput(rt,{label:"å­ä½å¤§å°",type:"option",options:optionFontSize,value:"16"});var lt=sibling(rt,2);LabelInput(lt,{label:"å»åº¦æ°é",type:"option",options:optionTextDir,value:"up"}),append(Y,k)}function ScreenButton$3(Y,T){DisplayButton(Y,{hasPressEffect:!1})}var root$S=template('<div class="label-card"><div class="label-title">æ»å¨å¼å³</div> <div class="label-card"><div class="label-title">å±æ§</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æ»åå±æ§</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">å¤è§</div> <div class="label-card"><div class="label-title">æ»å¨å¼å³èæ¯é¢è²</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æ»å¨æé®é¢è²</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æ»å</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!> <!></div></div></div> <div class="label-card"><div><!></div> <div class="label-row"><!> <!></div></div></div>');function SlideSwitch$1(Y,T){var k=root$S(),Z=sibling(child(k),2),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"åå¥å°å",value:"LV0"});var ne=sibling(te,2);LabelInput(ne,{label:"æ°æ®ç±»å",type:"option",options:optionDataType,value:"16-bit-bcd-code"});var me=sibling(Z,2),Ve=sibling(child(me),2),Ye=child(Ve);LabelInput(Ye,{label:"æ»åæå",type:"option",options:optionDir,value:0});var et=sibling(Ye,2);LabelInput(et,{label:"æ»åæ¹å",type:"option",options:optionTextDir,value:"right"});var tt=sibling(me,2),it=sibling(child(tt),2),st=sibling(child(it),2),nt=child(st);LabelInput(nt,{type:"color",label:"èæ¯é¢è²",value:"#ffffff"});var rt=sibling(nt,2);LabelInput(rt,{type:"color",label:"è¾¹æ¡è²",value:"#ffffff"});var lt=sibling(it,2),ot=sibling(child(lt),2),ht=child(ot);LabelInput(ht,{type:"color",label:"èæ¯é¢è²",value:"#ffffff"});var dt=sibling(ht,2);LabelInput(dt,{type:"color",label:"è¾¹æ¡é¢è²",value:"#ffffff"});var ct=sibling(ot,2),ut=child(ct);LabelInput(ut,{type:"color",label:"å¡«åé¢è²",value:"#ffffff"});var ft=sibling(ut,2);LabelInput(ft,{type:"number",label:"æ»è½¨é«åº¦",value:"10"});var vt=sibling(lt,2),mt=sibling(child(vt),2),_t=child(mt);LabelInput(_t,{type:"color",label:"èæ¯é¢è²",value:"#ffffff"});var Et=sibling(_t,2);LabelInput(Et,{type:"color",label:"è¾¹æ¡é¢è²",value:"#ffffff"});var Tt=sibling(mt,2),xt=child(Tt);LabelInput(xt,{label:"æ»åæ ·å¼",type:"option",options:[],value:255});var yt=sibling(xt,2);LabelInput(yt,{label:"æ»åå®½åº¦",type:"number",value:10});var St=sibling(yt,2);LabelInput(St,{label:"æ»åé«åº¦",type:"number",value:50});var At=sibling(tt,2),Ct=child(At),It=child(Ct);LabelInput(It,{label:"å¨æèå´",type:"checkbox",value:!1});var Ot=sibling(Ct,2),Dt=child(Ot);LabelInput(Dt,{label:"æå°å¼",type:"number",value:0});var Mt=sibling(Dt,2);LabelInput(Mt,{label:"æå¤§å¼",type:"number",value:100}),append(Y,k)}var root$R=template('<div class="wrapper"><div class="textarea-wrapper"><div class="label-textarea" contenteditable="true"></div></div> <div class="label-row"><div><!></div> <div><!></div> <div><!></div> <div><!></div></div> <div class="label-row"><!> <!></div> <div><div class="label-title">å±æ§</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div> <div><div class="label-title">å¡«å</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div></div>');function StaticText$1(Y,T){push(T,!0);var k=root$R(),Z=sibling(child(k),2),ee=child(Z),te=child(ee);LabelInput(te,{type:"checkbox",label:"æä½",value:!1});var ne=sibling(ee,2),me=child(ne);LabelInput(me,{type:"checkbox",label:"ç²ä½",value:!1});var Ve=sibling(ne,2),Ye=child(Ve);LabelInput(Ye,{type:"checkbox",label:"èªéåº",value:!1});var et=sibling(Ve,2),tt=child(et);LabelInput(tt,{type:"checkbox",label:"ä¸åçº¿",value:!1});var it=sibling(Z,2),st=child(it);LabelInput(st,{label:"éæåº¦",type:"number",value:255});var nt=sibling(st,2);LabelInput(nt,{label:"è¯­è¨",type:"option",options:optionLanguageType,get value(){return optionLanguageType[0].value}});var rt=sibling(it,2),lt=sibling(child(rt),2),ot=child(lt);LabelInput(ot,{label:"å­ä½",type:"option",options:optionFontByButton,get value(){return optionFontByButton[0].value}});var ht=sibling(ot,2);LabelInput(ht,{label:"å­è·",type:"number",value:""});var dt=sibling(lt,2),ct=child(dt);LabelInput(ct,{label:"å¤§å°",type:"option",options:optionsGenerateFontSize,get value(){return optionsGenerateFontSize[0].value}});var ut=sibling(ct,2);LabelInput(ut,{label:"å¯¹é½",type:"option",options:optionAlignType,get value(){return optionAlignType[0].value}});var ft=sibling(rt,2),vt=sibling(child(ft),2),mt=child(vt);LabelInput(mt,{label:"é¢è²",type:"color",value:"#ffffff"});var _t=sibling(mt,2);LabelInput(_t,{label:"èæ¯è²",type:"color",value:"#ffffff"});var Et=sibling(vt,2),Tt=child(Et);LabelInput(Tt,{label:"åæ¯è²",type:"color",value:"#ffffff"});var xt=sibling(Tt,2);LabelInput(xt,{label:"æ ·å¼",type:"option",options:optionsGradientStyle,get value(){return optionsGradientStyle[0].value}}),append(Y,k),pop()}function WordButton$3(Y,T){DisplayButton(Y,{})}function TimeDisplay$2(Y,T){DisplayNumeri(Y,{isTime:!0})}var root$Q=template('<div class="wrapper"><div class="label-card"><div class="label-title">Xè½´</div> <!></div> <div class="label-card"><div class="label-title">Yè½´</div> <!></div></div>');function TrendChart$2(Y,T){var k=root$Q(),Z=child(k),ee=sibling(child(Z),2);CurvePoint(ee,{isOnlyFontSize:!0});var te=sibling(Z,2),ne=sibling(child(te),2);CurvePoint(ne,{showCurveStr:"æ¾ç¤ºXè½´æ²çº¿"}),append(Y,k)}var root$P=template('<div class="wrapper"><div class="label-card"><div class="label-title">Xè½´</div> <!></div> <div class="label-card"><div class="label-title">Yè½´</div> <!></div></div>');function XYCurve$2(Y,T){var k=root$P(),Z=child(k),ee=sibling(child(Z),2);CurvePoint(ee,{});var te=sibling(Z,2),ne=sibling(child(te),2);CurvePoint(ne,{showCurveStr:"æ¾ç¤ºXè½´æ²çº¿"}),append(Y,k)}function Displays(Y,T){push(T,!0);const k={ASCIIDisplayer:ASCIIDisplay$2,BarChart:BarChart$2,BitButton:BitButton$3,DataGroup:DataGroup$2,FlowBlock:FlowBlock$1,FunctionButton:FunctionButton$2,GIFMonitor:GIFMonitor$1,ImageMonitor:ImageMonitor$1,IndicatorLight:IndicatorLight$2,InstrumentChart:InstrumentChart$2,MoveTrail:MoveTrail$1,MultiFunctionButton:MultiFunctionButton$2,NumeriDisplay:NumeriDisplay$2,PolymorphicButton:PolymorphicButton$2,QRcode:QRcode$1,Roller:Roller$1,Scale,ScreenButton:ScreenButton$3,SlideSwitch:SlideSwitch$1,StaticText:StaticText$1,WordButton:WordButton$3,DateDisplayer:TimeDisplay$2,TrendChart:TrendChart$2,XYCurve:XYCurve$2};Accordion(Y,{class:"height-full width-full  p-px ",children:(Z,ee)=>{var te=comment();const ne=derived$1(()=>k[T.props[0][0]]);var me=first_child(te);component(me,()=>get$2(ne),(Ve,Ye)=>{Ye(Ve,{get props(){return T.props[0][1]}})}),append(Z,te)},$$slots:{default:!0}}),pop()}var root$O=template('<div class="wrapper"><div class="label-card"><div class="label-title"><!></div> <div class="label-card"><div class="label-title"><!></div> <div><div class="label-row"><!> <div class="label-labelInput-center"><!></div></div> <div><!></div> <div><!></div></div></div></div></div>');function BitButton$2(Y,T){push(T,!0);var k=root$O(),Z=child(k),ee=child(Z),te=child(ee);LabelInput(te,{label:"å¯ç¨æç¤ºç¯åè½",type:"checkbox",value:!1});var ne=sibling(ee,2),me=child(ne),Ve=child(me);LabelInput(Ve,{label:"åæçè§",type:"checkbox",value:!1});var Ye=sibling(me,2),et=child(Ye),tt=child(et);LabelInput(tt,{label:"å°åç±»å",type:"option",options:optionAddressType,get value(){return optionAddressType[0].value}});var it=sibling(tt,2),st=child(it);LabelInput(st,{label:"ä¸æä½å°åç¸å",type:"checkbox",value:!1});var nt=sibling(et,2),rt=child(nt);LabelInput(rt,{label:"çè§å°å",type:"string",value:"LB0"});var lt=sibling(nt,2),ot=child(lt);LabelInput(ot,{label:"å­çä½",type:"number",value:15}),append(Y,k),pop()}var root$N=template('<div class="wrapper"><div class="label-card"><div class="label-title">å¯ç¨æç¤ºç¯åè½</div> <div class="label-card"><div class="label-title"><!></div> <div><div class="label-row"><!> <div class="label-labelInput-center"><!></div></div> <div><!></div> <div><!></div></div></div> <div class="label-card"><div class="label-title"><!></div> <div><div class="label-row"><!> <div class="label-labelInput-center"><!></div></div> <div><!></div> <div><!></div> <div class="label-card"><div class="label-title">ç¶æ</div> <!></div></div></div></div></div>');function IndicatorLight$1(Y,T){push(T,!0);var k=root$N(),Z=child(k),ee=sibling(child(Z),2),te=child(ee),ne=child(te);LabelInput(ne,{label:"åæçè§",type:"checkbox",value:!1});var me=sibling(te,2),Ve=child(me),Ye=child(Ve);LabelInput(Ye,{label:"å°åç±»å",type:"option",options:optionAddressType,get value(){return optionAddressType[0].value}});var et=sibling(Ye,2),tt=child(et);LabelInput(tt,{label:"ä¸æä½å°åç¸å",type:"checkbox",value:!1});var it=sibling(Ve,2),st=child(it);LabelInput(st,{label:"çè§å°å",type:"string",value:"LB0"});var nt=sibling(it,2),rt=child(nt);LabelInput(rt,{label:"å­çä½",type:"number",value:15});var lt=sibling(ee,2),ot=child(lt),ht=child(ot);LabelInput(ht,{label:"å¤æçè§",type:"checkbox",value:!1});var dt=sibling(ot,2),ct=child(dt),ut=child(ct);LabelInput(ut,{label:"å°åç±»å",type:"option",options:optionAddressType,get value(){return optionAddressType[0].value}});var ft=sibling(ut,2),vt=child(ft);LabelInput(vt,{label:"ä¸æä½å°åç¸å",type:"checkbox",value:!1});var mt=sibling(ct,2),_t=child(mt);LabelInput(_t,{label:"çè§å°å",type:"string",value:"LW0"});var Et=sibling(mt,2),Tt=child(Et);LabelInput(Tt,{label:"æ°æ®ç±»å",type:"option",options:optionDataTypePositiveInteger,get value(){return optionDataTypePositiveInteger[0].value}});var xt=sibling(Et,2),yt=sibling(child(xt),2);LabelInput(yt,{label:"ç¶ææ°",type:"number",value:2}),append(Y,k),pop()}var root$M=template('<div class="wrapper"><div class="label-card"><div class="label-title"><!></div> <div class="label-card"><div class="label-title"><!></div> <div><div class="label-row"><!> <div class="label-labelInput-center"><!></div></div> <div><!></div> <div><!></div></div></div></div></div>');function ScreenButton$2(Y,T){push(T,!0);var k=root$M(),Z=child(k),ee=child(Z),te=child(ee);LabelInput(te,{label:"å¯ç¨æç¤ºç¯åè½",type:"checkbox",value:!1});var ne=sibling(ee,2),me=child(ne),Ve=child(me);LabelInput(Ve,{label:"åæçè§",type:"checkbox",value:!1});var Ye=sibling(me,2),et=child(Ye),tt=child(et);LabelInput(tt,{label:"å°åç±»å",type:"option",options:optionAddressType,get value(){return optionAddressType[0].value}});var it=sibling(tt,2),st=child(it);LabelInput(st,{label:"ä¸æä½å°åç¸å",type:"checkbox",value:!1});var nt=sibling(et,2),rt=child(nt);LabelInput(rt,{label:"çè§å°å",type:"string",value:"LB0"});var lt=sibling(nt,2),ot=child(lt);LabelInput(ot,{label:"å­çä½",type:"number",value:15}),append(Y,k),pop()}var root$L=template('<scritp lang="ts"></scritp> <div class="wrapper"><div class="label-card"><div class="label-title"><!></div> <div class="label-card"><div class="label-title"><!></div> <div class="label-row"><!> <div class="label-labelInput-center"><!></div></div> <div><!></div> <div><!></div></div></div></div>',1);function WordButton$2(Y,T){push(T,!0);var k=root$L(),Z=sibling(first_child(k),2),ee=child(Z),te=child(ee),ne=child(te);LabelInput(ne,{label:"å¯ç¨æç¤ºç¯åè½",type:"checkbox",value:!1});var me=sibling(te,2),Ve=child(me),Ye=child(Ve);LabelInput(Ye,{label:"åæçè§",type:"checkbox",value:!1});var et=sibling(Ve,2),tt=child(et);LabelInput(tt,{label:"å°åç±»å",type:"option",options:optionAddressType,get value(){return optionAddressType[0].value}});var it=sibling(tt,2),st=child(it);LabelInput(st,{label:"ä¸æä½å°åç¸å",type:"checkbox",value:!1});var nt=sibling(et,2),rt=child(nt);LabelInput(rt,{label:"çè§å°å",type:"string",value:"LB0"});var lt=sibling(nt,2),ot=child(lt);LabelInput(ot,{label:"å­çä½",type:"number",value:"15"}),append(Y,k),pop()}function IndicatorLight_1(Y,T){const k={BitButton:BitButton$2,IndicatorLight:IndicatorLight$1,ScreenButton:ScreenButton$2,WordButton:WordButton$2};var Z=comment(),ee=first_child(Z);each(ee,17,()=>T.props,index,(te,ne)=>{let me=()=>get$2(ne)[0],Ve=()=>get$2(ne)[1];var Ye=comment();const et=derived$1(()=>k[me()]);var tt=first_child(Ye);component(tt,()=>get$2(et),(it,st)=>{st(it,{get props(){return Ve()}})}),append(te,Ye)}),append(Y,Z)}function Other(Y,T){}var root$K=template('<div class="wrapper"><div><!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div>');function ASCIIDisplay$1(Y,T){push(T,!0);var k=root$K(),Z=child(k),ee=child(Z);LabelInput(ee,{label:"çæ§å°å",type:"string",value:"LW0"});var te=sibling(Z,2),ne=child(te);LabelInput(ne,{label:"åç§»å°å",type:"checkbox",value:!1});var me=sibling(ne,2);LabelInput(me,{label:"åè®¸è¾å¥",type:"checkbox",value:!1});var Ve=sibling(te,2),Ye=child(Ve);LabelInput(Ye,{label:"ä¸çè§å°åç¸å",type:"checkbox",value:!1});var et=sibling(Ye,2);LabelInput(et,{label:"å¯ç ",type:"checkbox",value:!1});var tt=sibling(Ve,2),it=child(tt);LabelInput(it,{label:"èªå¨æ¢è¡",type:"checkbox",value:!1});var st=sibling(it,2);LabelInput(st,{label:"é«ä½å­èäºæ¢",type:"checkbox",value:!1});var nt=sibling(tt,2),rt=child(nt);LabelInput(rt,{label:"æ¾ç¤ºçæ§å°å",type:"checkbox",value:!1});var lt=sibling(rt,2);LabelInput(lt,{label:"æ¯å¦æ¾ç¤ºè¾å¥æ å¿",type:"checkbox",value:!1});var ot=sibling(nt,2),ht=child(ot);LabelInput(ht,{label:"è¾å¥å°å",type:"string",value:"LW0"});var dt=sibling(ht,2);LabelInput(dt,{label:"ç¼ç æ¹å¼",type:"option",options:optionEncodingMethod,get value(){return optionEncodingMethod[0].value}}),append(Y,k),pop()}var root$J=template('<div class="wrapper"><div class="label-card"><div class="label-title">æ°æ®å±æ§</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æ¾ç¤ºèå´</div> <div class="label-row"><!> <!></div></div> <div class="label-card no-box-shadow"><div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æºèå´</div> <div class="label-row"><!> <div class="label-labelInput-center"><!></div></div> <div class="label-row"><!> <div class="label-labelInput-center"><!></div></div></div></div>');function BarChart$1(Y,T){push(T,!0);var k=root$J(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"æ°æ®ç±»å",type:"option",options:optionDataTypeTextButton,get value(){return optionDataTypeTextButton[0].value}});var ne=sibling(te,2);LabelInput(ne,{label:"çæ§å­å°å",type:"string",value:"LW0"});var me=sibling(Z,2),Ve=sibling(child(me),2),Ye=child(Ve);LabelInput(Ye,{label:"æå°å¼",type:"number",value:0});var et=sibling(Ye,2);LabelInput(et,{label:"æå¤§å¼",type:"number",value:100});var tt=sibling(me,2),it=child(tt),st=child(it);LabelInput(st,{label:"ä¸¤ææ±",type:"checkbox",value:!1});var nt=sibling(st,2);LabelInput(nt,{label:"ä¸­ç¹",type:"number",value:51});var rt=sibling(tt,2),lt=sibling(child(rt),2),ot=child(lt);LabelInput(ot,{label:"æå°å¼",type:"number",value:0});var ht=sibling(ot,2),dt=child(ht);LabelInput(dt,{label:"",type:"string",value:"LW0"});var ct=sibling(lt,2),ut=child(ct);LabelInput(ut,{label:"æå¤§å¼",type:"number",value:0});var ft=sibling(ut,2),vt=child(ft);LabelInput(vt,{label:"",type:"string",value:"LW0"}),append(Y,k),pop()}var root$I=template('<div class="wrapper"><div class="label-card"><div class="label-title">å°å</div> <div><div>å°å</div> <div><!></div></div></div> <div class="label-card"><div class="label-title">æä½</div> <div><div>æä½</div> <div><!></div></div></div></div>');function BitButton$1(Y,T){push(T,!0);var k=root$I(),Z=child(k),ee=sibling(child(Z),2),te=sibling(child(ee),2),ne=child(te);LabelInput(ne,{label:"ä½å°å",type:"string",value:"LB0"});var me=sibling(Z,2),Ve=sibling(child(me),2),Ye=sibling(child(Ve),2),et=child(Ye);LabelInput(et,{label:"æä½ç±»å",type:"option",options:optionOperationType,get value(){return optionOperationType[0].value}}),append(Y,k),pop()}var root$H=template('<div class="wrapper"><div class="label-card"><div class="label-title">å°å</div> <div class="label-row"><!> <!></div></div> <div class="label-card no-box-shadow"><div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">ééè®¾ç½®</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">å¡«å</div> <div class="label-row"><!> <!> <!></div></div></div>');function DataGroup$1(Y,T){push(T,!0);let k=proxy([{value:1,name:1}]);var Z=root$H(),ee=child(Z),te=sibling(child(ee),2),ne=child(te);LabelInput(ne,{label:"è§¦åå°å",type:"string",value:"LB0"});var me=sibling(ne,2);LabelInput(me,{label:"è¯»åå°å",type:"string",value:"LW0"});var Ve=sibling(ee,2),Ye=child(Ve),et=child(Ye);LabelInput(et,{label:"æ°æ®ç±»å",type:"option",options:optionDataTypeTextButton,get value(){return optionDataTypeTextButton[0].value}});var tt=sibling(et,2);LabelInput(tt,{label:"éæ ·æ¹å¼",type:"option",options:optionRangeType,get value(){return optionRangeType[0].value}});var it=sibling(Ye,2),st=child(it);LabelInput(st,{label:"éæ ·ç¹æ°",type:"number",value:100});var nt=sibling(st,2);LabelInput(nt,{label:"éæ ·å°å",type:"string",value:"LW0"});var rt=sibling(Ve,2),lt=sibling(child(rt),2),ot=child(lt);LabelInput(ot,{label:"ééæ»æ°",type:"number",value:1});var ht=sibling(ot,2);LabelInput(ht,{label:"å½åéé",type:"option",get options(){return k},get value(){return k[0].value}});var dt=sibling(lt,2),ct=child(dt);LabelInput(ct,{label:"çº¿å",type:"option",options:optionLineType,get value(){return optionLineType[0].value}});var ut=sibling(ct,2);LabelInput(ut,{label:"æ¾ç¤ºé¢è²",type:"color",value:"#45636a"});var ft=sibling(rt,2),vt=sibling(child(ft),2),mt=child(vt);LabelInput(mt,{label:"åºè²",type:"color",value:"#222222"});var _t=sibling(mt,2);LabelInput(_t,{label:"è¾¹æ¡è²",type:"color",value:"#222222"});var Et=sibling(_t,2);LabelInput(Et,{label:"èæ¯è²",type:"color",value:"#222222"}),append(Y,Z),pop()}var root$G=template('<div class="wrapper"><div class="label-card"><div class="label-title">å±æ§</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">å°å</div> <div class="label-row"><!> <!></div></div></div>');function DropdownMenu$1(Y,T){push(T,!0);var k=root$G(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"æ»é¡¹ç®æ°",type:"string",value:2});var ne=sibling(te,2);LabelInput(ne,{label:"å­ä½å¤§å°",type:"number",value:16});var me=sibling(ee,2),Ve=child(me);LabelInput(Ve,{label:"å¯¹é½",type:"option",options:optionAlignType,get value(){return optionAlignType[0].value}});var Ye=sibling(Ve,2);LabelInput(Ye,{label:"èæ¯è²",type:"color",value:"#534243"});var et=sibling(me,2),tt=child(et);LabelInput(tt,{label:"ææ¬è²",type:"color",value:"#534243"});var it=sibling(tt,2);LabelInput(it,{label:"æ¹å",type:"option",options:optionVerticalDirection,get value(){return optionVerticalDirection[0].value}});var st=sibling(Z,2),nt=sibling(child(st),2),rt=child(nt);LabelInput(rt,{label:"å­å°å",type:"string",value:"LW0"});var lt=sibling(rt,2);LabelInput(lt,{label:"å­å°å",type:"option",get value(){return optionDataTypeTextButton[0].value},options:optionDataTypeTextButton}),append(Y,k),pop()}var root$F=template('<div class="wrapper"><div class="label-card"><div class="label-title">åè½è®¾ç½®</div> <div class="label-row"><!> <!></div></div></div>');function FunctionButton$1(Y,T){push(T,!0);var k=root$F(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"åè½",type:"option",options:optionFunction,get value(){return optionFunction[0].value}});var ne=sibling(te,2);LabelInput(ne,{label:"ç±»å",type:"option",options:optionHistoricalDataOperation,get value(){return optionHistoricalDataOperation[0].value}}),append(Y,k),pop()}var root$E=template('<div class="wrapper"><div class="label-card"><div class="label-title">æ°æ®å±æ§</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æ¾ç¤ºèå´</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æ¹å</div> <div class="label-row"><!></div></div> <div class="label-card no-box-shadow"><!></div></div>');function InstrumentChart$1(Y,T){push(T,!0);var k=root$E(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"æ°æ®ç±»å",type:"option",options:optionDataTypeTextButton,get value(){return optionDataTypeTextButton[0].value}});var ne=sibling(te,2);LabelInput(ne,{label:"çæ§å­å°å",type:"string",value:"LW0"});var me=sibling(Z,2),Ve=sibling(child(me),2),Ye=child(Ve);LabelInput(Ye,{label:"æå°å¼",type:"number",value:0});var et=sibling(Ye,2);LabelInput(et,{label:"æå¤§å¼",type:"number",value:100});var tt=sibling(me,2),it=sibling(child(tt),2),st=child(it);LabelInput(st,{label:"âæ¾ç¤ºæ¹å",type:"option",options:optionDisplayOrientation,get value(){return optionDisplayOrientation[0].value}});var nt=sibling(tt,2),rt=child(nt);LabelInput(rt,{label:"èæ¯éæ",type:"checkbox",value:!1}),append(Y,k),pop()}var root$D=template('<div class="wrapper"><div class="label-card"><div class="label-title">æ°æ®</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">å¡«å</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div></div>');function MessageDisplay$1(Y,T){push(T,!0);var k=root$D(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"æ»ç¶ææ°",type:"number",value:2});var ne=sibling(te,2);LabelInput(ne,{label:"æ°æ®ç±»å«",type:"option",options:optionDataTypePositiveInteger,get value(){return optionDataTypePositiveInteger[0].value}});var me=sibling(ee,2),Ve=child(me);LabelInput(Ve,{label:"çè§å°å",type:"string",value:"LW0"});var Ye=sibling(Ve,2);LabelInput(Ye,{label:"èµ°é©¬ç¯",type:"option",options:optionRevolvingLantern,get value(){return optionRevolvingLantern[0].value}});var et=sibling(Z,2),tt=sibling(child(et),2),it=child(tt);LabelInput(it,{label:"è¯­è¨",type:"option",options:optionLanguageType,get value(){return optionLanguageType[0].value}});var st=sibling(it,2);LabelInput(st,{label:"å­ä½",type:"option",options:optionFontByButton,get value(){return optionFontByButton[0].value}});var nt=sibling(tt,2),rt=child(nt);LabelInput(rt,{label:"å­ä½å¤§å°",type:"option",options:optionFontSize,get value(){return optionFontSize[0].value}});var lt=sibling(rt,2);LabelInput(lt,{label:"å­ä½é¢è²",type:"color",value:"#111111"});var ot=sibling(nt,2),ht=child(ot);LabelInput(ht,{label:"åæ¯è²",type:"color",value:"#000000"});var dt=sibling(ht,2);LabelInput(dt,{label:"èæ¯è²",type:"color",value:"#323423"});var ct=sibling(ot,2),ut=child(ct);LabelInput(ut,{label:"è¾¹æ¡è²",type:"color",value:"#123123"});var ft=sibling(ut,2);LabelInput(ft,{label:"æ ·å¼",type:"option",options:optionsGradientStyle,get value(){return optionsGradientStyle[0].value}}),append(Y,k),pop()}var root$C=template('<div class="wrapper"><div class="label-card"><div class="label-title">çº¿åå°åè®¾ç½®</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">ç»é¢æä½è®¾ç½®</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">å°å°åè®¾ç½®</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-card"><div class="label-title">åè½åè¡¨</div> <div class="label-row"><button class="label-button-half">çº¿åæä½-ç½®ä½</button> <button class="label-button-half">ç»é¢æä½-æå¼ç»é¢</button></div> <div class="label-row"><button class="label-button-half">å­æä½-è®¾ç½®æ°æ®</button> <button class="label-button-half">æ·»å çº¿åæä½</button></div> <div class="label-row"><button class="label-button-half">æ·»å ç»é¢æä½</button> <button class="label-button-half">æ·»å å­æä½</button> <button class="label-button-half">å é¤</button></div></div></div></div>');function MultiFunctionButton$1(Y,T){push(T,!0);var k=root$C(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"ä½å°å",type:"string",value:"LB0"});var ne=sibling(te,2);LabelInput(ne,{label:"æä½ç±»å",type:"option",options:optionOperationType,get value(){return optionOperationType[0].value}});var me=sibling(Z,2),Ve=sibling(child(me),2),Ye=child(Ve);LabelInput(Ye,{label:"æä½ç±»å",type:"option",options:optionScreenOperationType,get value(){return optionScreenOperationType[0].value}});var et=sibling(Ye,2);LabelInput(et,{label:"åç§°",type:"option",options:optionScreenName,get value(){return optionScreenName[0].value}});var tt=sibling(me,2),it=sibling(child(tt),2),st=child(it);LabelInput(st,{label:"å­å°å",type:"string",value:"LW0"});var nt=sibling(st,2);LabelInput(nt,{label:"æ°æ®ç±»å",type:"option",options:optionDataTypeBCD,get value(){return optionDataTypeBCD[0].value}});var rt=sibling(it,2),lt=child(rt);LabelInput(lt,{label:"æä½ç±»å",type:"option",options:optionWordAddressDataValue,get value(){return optionWordAddressDataValue[0].value}});var ot=sibling(lt,2);LabelInput(ot,{label:"æ°æ®å¼",type:"string",value:1}),append(Y,k),pop()}var root$B=template('<div class="wrapper"><div class="label-card"><div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-row"><!> <!> <!></div> <div class="label-row"><!> <!> <!></div> <div><!></div></div> <div class="label-card"><div class="label-title">æ°å¼è¾å¥èå´</div> <div class="label-row"><!> <!> <!> <div class="label-labelInput-center"><!></div></div> <div class="label-row"><!> <!> <div></div> <div></div></div></div></div>');function NumeriDisplay$1(Y,T){push(T,!0);var k=root$B(),Z=child(k),ee=child(Z),te=child(ee);LabelInput(te,{label:"æ°æ®ç±»å",type:"option",options:optionDataType,get value(){return optionDataType[0].value}});var ne=sibling(te,2);LabelInput(ne,{label:"çæ§å°å",type:"string",value:"LW0"});var me=sibling(Z,2),Ve=child(me),Ye=child(Ve);LabelInput(Ye,{label:"åç§»å°å",type:"checkbox",value:!1});var et=sibling(Ye,2);LabelInput(et,{label:"æ¾ç¤ºçæ§å°å",type:"checkbox",value:!1});var tt=sibling(et,2);LabelInput(tt,{label:"åè®¸è¾å¥",type:"checkbox",value:!1});var it=sibling(Ve,2),st=child(it);LabelInput(st,{label:"ä¸çè§å°åç¸å",type:"checkbox",value:!1});var nt=sibling(st,2);LabelInput(nt,{label:"å¯ç ",type:"checkbox",value:!1});var rt=sibling(nt,2);LabelInput(rt,{label:"æ¯å¦æ¾ç¤ºè¾å¥æ å¿",type:"checkbox",value:!1});var lt=sibling(it,2),ot=child(lt);LabelInput(ot,{label:"è¾å¥å°å",type:"string",value:"LW0"});var ht=sibling(me,2),dt=sibling(child(ht),2),ct=child(dt);LabelInput(ct,{label:"æ°æ®ç±»å",type:"option",options:optionDataType,get value(){return optionDataType[0].value}});var ut=sibling(ct,2);LabelInput(ut,{label:"æå°å¼",type:"number",value:-32768});var ft=sibling(ut,2);LabelInput(ft,{label:"æå¤§å¼",type:"number",value:32767});var vt=sibling(ft,2),mt=child(vt);LabelInput(mt,{label:"ç¼©æ¾è®¾ç½®",type:"checkbox",value:!1});var _t=sibling(dt,2),Et=child(_t);LabelInput(Et,{label:"å¢ç",type:"number",value:1});var Tt=sibling(Et,2);LabelInput(Tt,{label:"åç§»é",type:"number",value:0}),append(Y,k),pop()}var root$A=template('<div class="wrapper"><div class="label-card"><div class="label-title">æ°æ®</div> <div class="label-row"><!> <!> <div class="label-labelInput-center"><!></div></div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">åè½</div> <div><!></div></div></div>');function PolymorphicButton$1(Y,T){push(T,!0);var k=root$A(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"æ°æ®ç±»å«",type:"option",options:optionDataTypePositiveInteger,get value(){return optionDataTypePositiveInteger[0].value}});var ne=sibling(te,2);LabelInput(ne,{label:"çè§å°å",type:"string",value:"LW0"});var me=sibling(ne,2),Ve=child(me);LabelInput(Ve,{label:"åå¥å°ååçè§å°åç¸å",type:"checkbox",value:!1});var Ye=sibling(ee,2),et=child(Ye);LabelInput(et,{label:"åå¥å°å",type:"string",value:"LW0"});var tt=sibling(et,2);LabelInput(tt,{label:"æ»ç¶ææ°",type:"number",value:3});var it=sibling(Z,2),st=sibling(child(it),2),nt=child(st);LabelInput(nt,{direction:"horizontal",label:"",type:"radio",options:optionFunctionRadio,get value(){return optionFunctionRadio[0].value}}),append(Y,k),pop()}var root$z=template('<div class="wrapper"><div class="label-card"><div class="label-title">æ°æ®å±æ§</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æ¾ç¤ºèå´</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">å±æ§</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æ¾ç¤ºèå´</div> <div class="label-row"><!> <!> <!></div></div> <div class="label-card"><div class="label-title">å¡«å</div> <div class="label-row"><!> <!></div></div></div>');function RingChart$1(Y,T){push(T,!0);var k=root$z(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"æ°æ®ç±»å",type:"option",options:optionDataTypeTextButton,get value(){return optionDataTypeTextButton[0].value}});var ne=sibling(te,2);LabelInput(ne,{label:"çæ§å­å°å",type:"string",value:"LW0"});var me=sibling(Z,2),Ve=sibling(child(me),2),Ye=child(Ve);LabelInput(Ye,{label:"æå°å¼",type:"number",value:0});var et=sibling(Ye,2);LabelInput(et,{label:"æå¤§å¼",type:"number",value:100});var tt=sibling(me,2),it=sibling(child(tt),2),st=child(it);LabelInput(st,{label:"",type:"radio",direction:"horizontal",options:optionRingAttribute,get value(){return optionRingAttribute[0].value}});var nt=sibling(st,2);LabelInput(nt,{label:"çº¿å",type:"option",options:optionLineType,get value(){return optionLineType[0].value}});var rt=sibling(it,2),lt=child(rt);LabelInput(lt,{label:"çº¿å®½",options:optionLineWidth,type:"option",get value(){return optionLineWidth[0].value}});var ot=sibling(lt,2);LabelInput(ot,{label:"åç¯åå¾",type:"number",value:12});var ht=sibling(tt,2),dt=sibling(child(ht),2),ct=child(dt);LabelInput(ct,{label:"æå°å¼",type:"number",value:0});var ut=sibling(ct,2);LabelInput(ut,{label:"æå¤§å¼",type:"number",value:100});var ft=sibling(ut,2);LabelInput(ft,{label:"éæåº¦",value:255,type:"number"});var vt=sibling(ht,2),mt=sibling(child(vt),2),_t=child(mt);LabelInput(_t,{label:"çº¿é¢è²",type:"color",value:"#890456"});var Et=sibling(_t,2);LabelInput(Et,{label:"çº¿å®½",options:optionLineWidth,type:"option",get value(){return optionLineWidth[0].value}}),append(Y,k),pop()}var root$y=template('<div class="wrapper"><div class="label-card"><div class="label-title">æä½è®¾ç½®</div> <div class="label-row"><!> <!></div> <div><div><!></div> <div><!></div></div> <div><!></div></div></div>');function ScreenButton$1(Y,T){push(T,!0);var k=root$y(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"æä½ç±»å",type:"option",options:optionScreenButtonOpType,get value(){return optionScreenButtonOpType[0].value}});var ne=sibling(te,2);LabelInput(ne,{label:"ç»é¢åç§°",type:"option",options:optionScreenName,get value(){return optionScreenName[0].value}});var me=sibling(ee,2),Ve=child(me),Ye=child(Ve);LabelInput(Ye,{label:"æ¹åç¨æ·ç­çº§ï¼æ³¨éï¼",type:"checkbox",value:!1});var et=sibling(Ve,2),tt=child(et);LabelInput(tt,{label:"æ°ç¨æ·ç­çº§",type:"option",options:optionEffectiveMinimumLevel,get value(){return optionEffectiveMinimumLevel[0].value}});var it=sibling(me,2),st=child(it);LabelInput(st,{label:"ç¨æ·ç­çº§ä¸è¶³æ¶è¦æ±ç»å½",type:"checkbox",value:!1}),append(Y,k),pop()}var root$x=template('<div class="wrapper"><div class="label-card"><div class="label-title">å°å</div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div class="label-title">æä½</div> <div class="label-row"><!> <!></div></div></div>');function WordButton$1(Y,T){push(T,!0);var k=root$x(),Z=child(k),ee=sibling(child(Z),2),te=child(ee);LabelInput(te,{label:"å­å°å",type:"string",value:"LW0"});var ne=sibling(te,2);LabelInput(ne,{label:"æ°æ®ç±»å",type:"option",get value(){return optionDataTypeTextButton[0].value},options:optionDataTypeTextButton});var me=sibling(Z,2),Ve=sibling(child(me),2),Ye=child(Ve);LabelInput(Ye,{label:"æä½ç±»å",type:"option",options:optionBitButtonOpType,get value(){return optionBitButtonOpType[0].value}});var et=sibling(Ye,2);LabelInput(et,{label:"å¸¸æ°",type:"number",value:1}),append(Y,k),pop()}var root$w=template('<div class="wrapper"><div class="label-row"><!> <!></div> <div class="label-row"><!></div> <div class="label-row"><!> <!></div> <div class="flex items-center"><p>é¢è§ï¼</p> <p> </p></div></div>');function TimeDisplay$1(Y,T){var rt,lt;push(T,!0);let k=proxy({showDate:!1,dateFormat:((rt=optionDateFormat[0])==null?void 0:rt.value)||"",showWeek:!1,showTime:!1,timeFormat:((lt=optionTimeFormat[0])==null?void 0:lt.value)||""});var Z=root$w(),ee=child(Z),te=child(ee);LabelInput(te,{label:"æ¥æ",type:"checkbox",get value(){return k.showDate},set value(ot){k.showDate=ot}});var ne=sibling(te,2);LabelInput(ne,{label:"",direction:"horizontal",type:"option",options:optionDateFormat,get value(){return k.dateFormat},set value(ot){k.dateFormat=ot}});var me=sibling(ee,2),Ve=child(me);LabelInput(Ve,{label:"ææ",type:"checkbox",get value(){return k.showWeek},set value(ot){k.showWeek=ot}});var Ye=sibling(me,2),et=child(Ye);LabelInput(et,{label:"æ¶é´",type:"checkbox",get value(){return k.showTime},set value(ot){k.showTime=ot}});var tt=sibling(et,2);LabelInput(tt,{label:"",direction:"horizontal",type:"option",options:optionTimeFormat,get value(){return k.timeFormat},set value(ot){k.timeFormat=ot}});var it=sibling(Ye,2),st=sibling(child(it),2),nt=child(st);template_effect(()=>set_text(nt,`${(k.showDate?k.dateFormat:"")??""}Â ${(k.showTime?k.timeFormat:"")??""}`)),append(Y,Z),pop()}var root$v=template('<div class="wrapper"><div class="label-card"><div class="label-title">å°å</div> <div class="label-row"><!> <!> <!></div></div> <div class="label-card"><div class="label-row"><!> <!></div> <div class="label-row"><!> <div class="label-labelInput-center">ï¼åä½æ¶é´ï¼ç§ï¼</div></div></div> <div class="label-card"><div class="label-title">å¡«å</div> <div class="label-row"><!> <!> <!></div></div> <div class="label-card"><div class="label-title">ééè®¾ç½®</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div> <div class="label-card"><div><!></div></div></div>');function TrendChart$1(Y,T){push(T,!0);let k=proxy([{value:1,name:1}]);var Z=root$v(),ee=child(Z),te=sibling(child(ee),2),ne=child(te);LabelInput(ne,{label:"è§¦åå°å",type:"string",value:"LB0"});var me=sibling(ne,2);LabelInput(me,{label:"è¯»åå°å",type:"string",value:"LW0"});var Ve=sibling(me,2);LabelInput(Ve,{label:"æ¸é¤å°å",type:"string",value:"LB0"});var Ye=sibling(ee,2),et=child(Ye),tt=child(et);LabelInput(tt,{label:"æ°æ®ç±»å",type:"option",options:optionDataTypeTextButton,get value(){return optionDataTypeTextButton[0].value}});var it=sibling(tt,2);LabelInput(it,{label:"éæ ·ç¹æ°",type:"number",value:60});var st=sibling(et,2),nt=child(st);LabelInput(nt,{label:"éæ ·æ¶é´",type:"number",value:1});var rt=sibling(Ye,2),lt=sibling(child(rt),2),ot=child(lt);LabelInput(ot,{label:"åºè²",type:"color",value:"#574574"});var ht=sibling(ot,2);LabelInput(ht,{label:"è¾¹æ¡è²",type:"color",value:"#574574"});var dt=sibling(ht,2);LabelInput(dt,{label:"èæ¯è²",type:"color",value:"#574574"});var ct=sibling(rt,2),ut=sibling(child(ct),2),ft=child(ut);LabelInput(ft,{label:"ééæ»æ°",type:"number",value:1});var vt=sibling(ft,2);LabelInput(vt,{label:"å½åéé",type:"option",get options(){return k},get value(){return k[0].value}});var mt=sibling(ut,2),_t=child(mt);LabelInput(_t,{label:"æå°å¼",type:"number",value:0});var Et=sibling(_t,2);LabelInput(Et,{label:"æå¤§å¼",type:"number",value:1e3});var Tt=sibling(mt,2),xt=child(Tt);LabelInput(xt,{label:"çº¿å",type:"option",options:optionLineType,get value(){return optionLineType[0].value}});var yt=sibling(xt,2);LabelInput(yt,{label:"æ¾ç¤ºé¢è²",type:"color",value:"#45636a"});var St=sibling(ct,2),At=child(St),Ct=child(At);LabelInput(Ct,{label:" ç»è¿æ¥çº¿",type:"radio",direction:"horizontal",options:optionDrawConnectionLineDirection,get value(){return optionDrawConnectionLineDirection[0].value}}),append(Y,Z),pop()}var root$u=template('<div class="wrapper"><div class="label-card"><div class="label-title">å°å</div> <div class="label-row"><!> <!> <!></div></div> <div class="label-card"><div class="label-row"><!> <!></div> <div class="label-row"><!> <div class="label-labelInput-center">ï¼åä½æ¶é´ï¼ç§ï¼</div></div></div> <div class="label-card"><div class="label-title">å¡«å</div> <div class="label-row"><!> <!> <!></div></div> <div class="label-card"><div class="label-title">ééè®¾ç½®</div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div> <div class="label-row"><!> <!></div></div></div>');function XYCurve$1(Y,T){push(T,!0);const k=proxy([{value:1,name:1}]);var Z=root$u(),ee=child(Z),te=sibling(child(ee),2),ne=child(te);LabelInput(ne,{label:"è§¦åå°å",type:"string",value:"LB0"});var me=sibling(ne,2);LabelInput(me,{label:"è¯»åå°å",type:"string",value:"LW0"});var Ve=sibling(me,2);LabelInput(Ve,{label:"æ¸é¤å°å",type:"string",value:"LB0"});var Ye=sibling(ee,2),et=child(Ye),tt=child(et);LabelInput(tt,{label:"æ°æ®ç±»å",type:"option",options:optionDataTypeTextButton,get value(){return optionDataTypeTextButton[0].value}});var it=sibling(tt,2);LabelInput(it,{label:"éæ ·ç¹æ°",type:"number",value:60});var st=sibling(et,2),nt=child(st);LabelInput(nt,{label:"éæ ·æ¶é´",type:"number",value:1});var rt=sibling(Ye,2),lt=sibling(child(rt),2),ot=child(lt);LabelInput(ot,{label:"åºè²",type:"color",value:"#ffffff"});var ht=sibling(ot,2);LabelInput(ht,{label:"è¾¹æ¡è²",type:"color",value:"#ffffff"});var dt=sibling(ht,2);LabelInput(dt,{label:"èæ¯è²",type:"color",value:"#123456"});var ct=sibling(rt,2),ut=sibling(child(ct),2),ft=child(ut);LabelInput(ft,{label:"ééæ»æ°",type:"number",value:1});var vt=sibling(ft,2);LabelInput(vt,{label:"å½åéé",type:"option",get options(){return k},get value(){return k[0].value}});var mt=sibling(ut,2),_t=child(mt);LabelInput(_t,{label:"æå°å¼",type:"string",value:0});var Et=sibling(_t,2);LabelInput(Et,{label:"æå¤§å¼",type:"string",value:1e3});var Tt=sibling(mt,2),xt=child(Tt);LabelInput(xt,{label:"çº¿å",type:"option",options:optionLineType,get value(){return optionLineType[0].value}});var yt=sibling(xt,2);LabelInput(yt,{label:"æ¾ç¤ºé¢è²",type:"color",value:"#45636a"}),append(Y,Z),pop()}var root_2=template("<!> <!>",1),root_3=template("<!> <!>",1),root_1$1=template('<div class="flex  gap-2"><!></div> <div class="flex  gap-2"><!></div>',1);function Layout(Y,T){push(T,!0);const k="0.1.0.1.",Z=prop(T,"props",7);let ee=state(0),te=state(0);const ne=new libExports.RpcProvider((et,tt)=>window.postMessage(et,"*",tt));window.addEventListener("message",et=>ne.dispatch(et.data));function me(et,tt){if(!tt)return;tt=toCamelCase(tt);const it={path:k+tt,type:"set",newValue:et,oldValue:Z()[tt]};Z()[tt]=et,ne.rpc("onPropsChange",it)}function Ve({x:et,y:tt}){Z().x=et,Z().y=tt,update(ee)}function Ye({width:et,height:tt}){Z().width=et,Z().height=tt,update(te)}ne.registerRpcHandler("updatePosition",Ve),ne.registerRpcHandler("updateSize",Ye),WgtAccordionItem(Y,{label:"Layout",children:(et,tt)=>{var it=root_1$1(),st=first_child(it),nt=child(st);key_block(nt,()=>get$2(ee),ot=>{var ht=root_2(),dt=first_child(ht);LabelInput(dt,{label:"X",type:"number",get value(){return Z().x},onChange:me});var ct=sibling(dt,2);LabelInput(ct,{label:"Y",type:"number",get value(){return Z().y},onChange:me}),append(ot,ht)});var rt=sibling(st,2),lt=child(rt);key_block(lt,()=>get$2(te),ot=>{var ht=root_3(),dt=first_child(ht);LabelInput(dt,{label:"Width",type:"number",get value(){return Z().width},onChange:me});var ct=sibling(dt,2);LabelInput(ct,{label:"Height",type:"number",get value(){return Z().height},onChange:me}),append(ot,ht)}),append(et,it)},$$slots:{default:!0}}),pop()}function General(Y,T){const k={MoveTrail:MoveTrail$1,QRCode:QRcode$1,Layout,ASCIIDisplayer:ASCIIDisplay$1,BarChart:BarChart$1,BitButton:BitButton$1,DataGroup:DataGroup$1,DropdownMenu:DropdownMenu$1,FunctionButton:FunctionButton$1,InstrumentChart:InstrumentChart$1,MessageDisplay:MessageDisplay$1,MultiFunctionButton:MultiFunctionButton$1,NumeriDisplay:NumeriDisplay$1,PolymorphicButton:PolymorphicButton$1,RingChart:RingChart$1,ScreenButton:ScreenButton$1,WordButton:WordButton$1,DateDisplayer:TimeDisplay$1,TrendChart:TrendChart$1,XYCurve:XYCurve$1};Accordion(Y,{class:"height-full width-full  p-px ",children:(Z,ee)=>{AccordionItem(Z,{activeClass:"bg-gray-800 text-white",inactiveClass:"bg-gray-800 text-white",class:"bg-gray-800",header:ne=>{var me=text$1("General");append(ne,me)},children:(ne,me)=>{var Ve=comment(),Ye=first_child(Ve);each(Ye,17,()=>T.props,index,(et,tt)=>{let it=()=>get$2(tt)[0],st=()=>get$2(tt)[1];var nt=comment();const rt=derived$1(()=>k[it()]);var lt=first_child(nt);component(lt,()=>get$2(rt),(ot,ht)=>{ht(ot,{get props(){return st()}})}),append(et,nt)}),append(ne,Ve)},$$slots:{header:!0,default:!0}})},$$slots:{default:!0}})}var root$t=template('<div class="wrapper"><!></div>');function ASCIIDisplay(Y,T){var k=root$t(),Z=child(k);PermissionSettings(Z,{}),append(Y,k)}var root$s=template('<div class="wrapper"><!></div>');function BarChart(Y,T){var k=root$s(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$r=template('<div class="wrapper"><!></div>');function BitButton(Y,T){var k=root$r(),Z=child(k);PermissionSettings(Z,{}),append(Y,k)}var root$q=template('<div class="wrapper"><!></div>');function DataGroup(Y,T){var k=root$q(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$p=template('<div class="wrapper"><!></div>');function DropdownMenu(Y,T){var k=root$p(),Z=child(k);PermissionSettings(Z,{hasPressingTime:!1}),append(Y,k)}var root$o=template('<div class="wrapper"><!></div>');function FlowBlock(Y,T){var k=root$o(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$n=template('<div class="wrapper"><!></div>');function FunctionButton(Y,T){var k=root$n(),Z=child(k);PermissionSettings(Z,{}),append(Y,k)}var root$m=template('<div class="wrapper"><!></div>');function GIFMonitor(Y,T){var k=root$m(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$l=template('<div class="wrapper"><!></div>');function ImageMonitor(Y,T){var k=root$l(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$k=template('<div class="wrapper"><!></div>');function IndicatorLight(Y,T){var k=root$k(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1}),append(Y,k)}var root$j=template('<div class="wrapper"><!></div>');function InstrumentChart(Y,T){var k=root$j(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$i=template('<div class="wrapper"><!></div>');function MessageDisplay(Y,T){var k=root$i(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$h=template('<div class="wrapper"><!></div>');function MoveTrail(Y,T){var k=root$h(),Z=child(k);PermissionSettings(Z,{hasPressingTime:!1}),append(Y,k)}var root$g=template('<div class="wrapper"><!></div>');function MultiFunctionButton(Y,T){var k=root$g(),Z=child(k);PermissionSettings(Z,{hasNotice:!1}),append(Y,k)}var root$f=template('<div class="wrapper"><!></div>');function NumeriDisplay(Y,T){var k=root$f(),Z=child(k);PermissionSettings(Z,{}),append(Y,k)}var root$e=template('<div class="wrapper"><!></div>');function PolymorphicButton(Y,T){var k=root$e(),Z=child(k);PermissionSettings(Z,{}),append(Y,k)}var root$d=template('<div class="wrapper"><!></div>');function QRcode(Y,T){var k=root$d(),Z=child(k);PermissionSettings(Z,{hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$c=template('<div class="wrapper"><!></div>');function RingChart(Y,T){var k=root$c(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$b=template('<div class="wrapper"><!></div>');function Roller(Y,T){var k=root$b(),Z=child(k);PermissionSettings(Z,{hasPressingTime:!1}),append(Y,k)}var root$a=template('<div class="wrapper"><!></div>');function ScreenButton(Y,T){var k=root$a(),Z=child(k);PermissionSettings(Z,{}),append(Y,k)}var root$9=template('<div class="wrapper"><!></div>');function SlideSwitch(Y,T){var k=root$9(),Z=child(k);PermissionSettings(Z,{hasPressingTime:!1}),append(Y,k)}var root$8=template('<div class="wrapper"><!></div>');function StaticText(Y,T){var k=root$8(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$7=template('<div class="wrapper"><!></div>');function WordButton(Y,T){var k=root$7(),Z=child(k);PermissionSettings(Z,{}),append(Y,k)}var root$6=template('<div class="wrapper"><!></div>');function TimeDisplay(Y,T){var k=root$6(),Z=child(k);PermissionSettings(Z,{hasNotice:!1,hasTouchEffective:!1,hasPressingTime:!1}),append(Y,k)}var root$5=template('<div class="wrapper"><!></div>');function TrendChart(Y,T){var k=root$5(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}var root$4=template('<div class="wrapper"><!></div>');function XYCurve(Y,T){var k=root$4(),Z=child(k);PermissionSettings(Z,{hasTouchEffective:!1,hasNotice:!1,hasPressingTime:!1}),append(Y,k)}function Permission(Y,T){const k={ASCIIDisplay,BarChart,BitButton,DataGroup,DropdownMenu,FlowBlock,FunctionButton,GIFMonitor,ImageMonitor,IndicatorLight,InstrumentChart,MessageDisplay,MoveTrail,MultiFunctionButton,NumeriDisplay,PolymorphicButton,QRcode,RingChart,Roller,ScreenButton,SlideSwitch,StaticText,WordButton,TimeDisplay,TrendChart,XYCurve};var Z=comment(),ee=first_child(Z);each(ee,17,()=>T.props,index,(te,ne)=>{let me=()=>get$2(ne)[0],Ve=()=>get$2(ne)[1];var Ye=comment();const et=derived$1(()=>k[me()]);var tt=first_child(Ye);component(tt,()=>get$2(et),(it,st)=>{st(it,{get props(){return Ve()}})}),append(te,Ye)}),append(Y,Z)}const rpcProvider=new libExports.RpcProvider((Y,T)=>window.postMessage(Y,"*",T));window.addEventListener("message",Y=>rpcProvider.dispatch(Y.data));var root$3=template('<div class="w-full h-full overflow-auto"></div>');function Control(Y,T){push(T,!0);const k={Authority,Display:Displays,IndicatorLight:IndicatorLight_1,Other,General,Permission};let Z=derived$1(()=>deepWatch(widgetProps.props,te=>{console.log("widgetProps.props changed:",te.path,te.newValue),rpcProvider.rpc("onPropsChange",deepClone(te))},["x","y","width","height"]));var ee=root$3();each(ee,21,()=>get$2(Z),index,(te,ne)=>{let me=()=>get$2(ne)[0],Ve=()=>get$2(ne)[1];var Ye=comment();const et=derived$1(()=>k[me()]);var tt=first_child(Ye);component(tt,()=>get$2(et),(it,st)=>{st(it,{get props(){return Ve()}})}),append(te,Ye)}),append(Y,ee),pop()}var command=(Y=>(Y.ALIGN_TOP="ALIGN_TOP",Y.ALIGN_DOWN="ALIGN_DOWN",Y.ALIGN_LEFT="ALIGN_LEFT",Y.ALIGN_RIGHT="ALIGN_RIGHT",Y.NEW_WINDOW="NEW_WINDOW",Y.SAVE="SAVE",Y.UNDO="UNDO",Y.REDO="REDO",Y.OPEN_PROJECT="OPEN_PROJECT",Y.NEW_PROJECT="NEW_PROJECT",Y.RESTORE="RESTORE",Y.FLIP_VERTICAL="FLIP_VERTICAL",Y.FLIP_HORIZONTAL="FLIP_HORIZONTAL",Y.DELETE="DELETE",Y.ZOOM_OUT="ZOOM_OUT",Y.ZOOM_IN="ZOOM_IN",Y.PASTE="PASTE",Y.REPLACE="REPLACE",Y.COPY="COPY",Y.CUT="CUT",Y.LOCK="LOCK",Y.UNLOCK="UNLOCK",Y.UNGROUP="UNGROUP",Y.GROUP="GROUP",Y.ALIGN_CENTER_HORIZONTAL="ALIGN_CENTER_HORIZONTAL",Y.ALIGN_CENTER_VERTICAL="ALIGN_CENTER_VERTICAL",Y.BRING_TO_FRONT="BRING_TO_FRONT",Y.SEND_TO_BACK="SEND_TO_BACK",Y.SEND_BACKWARD="SEND_BACKWARD",Y.BRING_FORWARD="BRING_FORWARD",Y.DISTRIBUTE_HORIZONTALLY="DISTRIBUTE_HORIZONTALLY",Y.DISTRIBUTE_VERTICALLY="DISTRIBUTE_VERTICALLY",Y.MAKE_SAME_HEIGHT="MAKE_SAME_HEIGHT",Y.MAKE_SAME_WIDTH="MAKE_SAME_WIDTH",Y))(command||{});class EventBusModule{constructor(){bt(this,"subscribers",new Map);bt(this,"subscribersAndValue",new Map);bt(this,"currentMove",null)}on(T,k){if(typeof T=="string")this.subscribers.has(T)||this.subscribers.set(T,new Set),this.subscribers.get(T).add(k);else for(const Z of T)this.subscribers.has(Z)||this.subscribers.set(Z,new Set),this.subscribers.get(Z).add(k)}off(T,k){const Z=this.subscribers.get(T);Z&&(Z.delete(k),Z.size===0&&this.subscribers.delete(T))}emit(T,k,Z=!1){var ee;Z&&(this.currentMove=null),this.subscribersAndValue.set(T,k),(ee=this.subscribers.get(T))==null||ee.forEach(te=>{try{queueMicrotask(()=>{te(k)})}catch(ne){console.error(`EventBus: Error executing callback for event "${T}":`,ne)}})}clear(T){T?this.subscribers.delete(T):(this.subscribers.clear(),this.currentMove=null)}getCurrentMove(){return this.currentMove}getSubscriberCount(T){var k;return((k=this.subscribers.get(T))==null?void 0:k.size)||0}getSubscriberValue(T){return this.subscribersAndValue.get(T)}}const EventBusModule$1=new EventBusModule;class Api{constructor(){bt(this,"eventBus",EventBusModule$1)}init(){Object.values(this).forEach(T=>{typeof T.init=="function"&&T.init(this)})}}const api=new Api;api.init();var on_click=(Y,T)=>{api.eventBus.emit(get$2(T).command,{})},root_1=template('<div class="wrapper-item wrapper-border svelte-h09agi"><span></span></div>'),root$2=template('<div class="wrapper svelte-h09agi"></div>');function Submenu(Y,T){push(T,!0);var k=root$2();each(k,21,()=>T.props,index,(Z,ee)=>{var te=root_1();te.__click=[on_click,ee];var ne=child(te);template_effect(()=>{set_attribute(te,"title",get$2(ee).title),set_class(ne,1,`iconfont ${get$2(ee).icon??""}`,"svelte-h09agi")}),append(Z,te)}),append(Y,k),pop()}delegate(["click"]);var root$1=template('<div class="wrapper svelte-1bhfrtc"><div class="wrapper-content svelte-1bhfrtc"><!></div></div>');function MenuBar(Y,T){push(T,!1);const k=[{icon:"icon-zuhe",action:"",title:"ç»å",command:command.GROUP},{icon:"icon-quxiaozuhe",action:"",title:"åæ¶ç»å",command:command.UNGROUP},{icon:"icon-suoding",action:"",title:"éå®",command:command.LOCK},{icon:"icon-quxiaosuoding",action:"",title:"åæ¶éå®",command:command.UNLOCK},{icon:"icon-shuipingfanzhuan",action:"",title:"æ°´å¹³ç¿»è½¬",command:command.FLIP_HORIZONTAL},{icon:"icon-chuizhifanzhuan",action:"",title:"åç´ç¿»è½¬",command:command.FLIP_VERTICAL},{icon:"icon-fuyuan",action:"",title:"å¤å",command:command.RESTORE},{icon:"icon-fangda",action:"",title:"æ¾å¤§",command:command.ZOOM_IN},{icon:"icon-suoxiao",action:"",title:"ç¼©å°",command:command.ZOOM_OUT},{icon:"icon-fuzhi",action:"",title:"å¤å¶",command:command.COPY},{icon:"icon-zhantie",action:"",title:"ç²è´´",command:command.PASTE},{icon:"icon-jianqie",action:"",title:"åªå",command:command.CUT},{icon:"icon-shanchu",action:"",title:"å é¤",command:command.DELETE},{icon:"icon-wangyuanjing",action:"",title:"æ¿æ¢",command:command.REPLACE}],Z=[{icon:"icon-xinjiangongcheng",action:"",title:"æ°å»ºå·¥ç¨",command:command.NEW_PROJECT},{icon:"icon-xinjianchuangkou",action:"",title:"æ°å»ºçªå£",command:command.NEW_WINDOW},{icon:"icon-dakaigongcheng",action:"",title:"æå¼å·¥ç¨",command:command.OPEN_PROJECT},{icon:"icon-baocun",action:"",title:"ä¿å­",command:command.SAVE},{icon:"icon-huifu",action:"",title:"æ¢å¤",command:command.REDO},{icon:"icon-chexiao",action:"",title:"æ¤é",command:command.UNDO}],ee=[{icon:"icon-shangduiqi",action:"",title:"ä¸å¯¹é½",command:command.ALIGN_TOP},{icon:"icon-xiaduiqi",action:"",title:"ä¸å¯¹é½",command:command.ALIGN_DOWN},{icon:"icon-zuoduiqi",action:"",title:"å·¦å¯¹é½",command:command.ALIGN_LEFT},{icon:"icon-youduiqi",action:"",title:"å³å¯¹é½",command:command.ALIGN_RIGHT},{icon:"icon-chuizhijuzhongduiqi",action:"",title:"åç´å±ä¸­å¯¹é½",command:command.ALIGN_CENTER_VERTICAL},{icon:"icon-shuipingjuzhongduiqi",action:"",title:"æ°´å¹³å±ä¸­å¯¹é½",command:command.ALIGN_CENTER_HORIZONTAL},{icon:"icon-zuishangceng",action:"",title:"ç§»å¨å°æä¸å±",command:command.BRING_TO_FRONT},{icon:"icon-shangyiceng",action:"",title:"ç§»å¨å°ä¸ä¸å±",command:command.BRING_FORWARD},{icon:"icon-zuixiaceng",action:"",title:"ç§»å¨å°æä¸å±",command:command.SEND_TO_BACK},{icon:"icon-xiayiceng",action:"",title:"ç§»å¨å°ä¸ä¸å±",command:command.SEND_BACKWARD},{icon:"icon-kuanduxiangtong",action:"",title:"å®½åº¦ç¸å",command:command.MAKE_SAME_WIDTH},{icon:"icon-gaoduxiangtong",action:"",title:"é«åº¦ç¸å",command:command.MAKE_SAME_HEIGHT},{icon:"icon-chuizhidengjianju",action:"",title:"åç´ç­é´è·",command:command.DISTRIBUTE_VERTICALLY},{icon:"icon-shuipingdengjianju",action:"",title:"æ°´å¹³ç­é´è·",command:command.DISTRIBUTE_HORIZONTALLY},...Z,...k];init();var te=root$1(),ne=child(te),me=child(ne);Submenu(me,{props:ee}),append(Y,te),pop()}var root=template('<div class="wrapper svelte-oohbpc"><!> <div class="wrapper-content svelte-oohbpc"><div class="lvgl-left-tab svelte-oohbpc"><!></div> <div class="dock-view svelte-oohbpc"><!></div> <div class="props-panel svelte-oohbpc"><!></div></div></div> <!> <!> <!> <!> <!>',1);function Hmi$1(Y,T){push(T,!0);let k=state(!1),Z=null;initLvglModule();function ee(){const ct=createNewScreen("hmi",800,800),ut=ct.id;Z&&Z.addComponentPanel("LvglCanvas",{screen:ct,isHasClose:!0,title:"hmi"},{id:ut,title:"hmi"})}setTimeout(()=>{createNewScreen("hmi_screen",800,800),set(k,!0)},1e3),onMount(()=>{});var te=root(),ne=first_child(te),me=child(ne);MenuBar(me,{});var Ve=sibling(me,2),Ye=child(Ve),et=child(Ye);LvglLefttab(et,{isHmi:!0});var tt=sibling(Ye,2),it=child(tt);DockView(it,{components:{LvglCanvas},onReady:async({api:ct})=>{Z=ct,setTimeout(()=>{ee()},1e3)}});var st=sibling(tt,2),nt=child(st);Control(nt,{});var rt=sibling(ne,2);CascaderSelect(rt,{});var lt=sibling(rt,2);Select$1(lt,{});var ot=sibling(lt,2);Message(ot,{});var ht=sibling(ot,2);CommonModalLogic(ht,{isPublicState:!0,isOpenState:!1,get popUpId(){return api$1.constant.enum.COMMONMODALLOGICAPI}});var dt=sibling(ht,2);Spinner(dt,{}),append(Y,te),pop()}function Hmi(Y){Hmi$1(Y,{})}function Router_1(Y){Router(Y,{routes:{"/":Lvgl,"/lvgl":Lvgl,"/hmi":Hmi}})}function App(Y){Router_1(Y)}api$1.init();window.API=api$1;mount(App,{target:document.getElementById("app")})});export default ll();
